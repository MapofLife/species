<div ng-show='toggles.sidebarVisible'>
  <div class="data_types" ng-repeat="(id,type) in featuresByType">
    <div>
      <i ng-click="type.collapse= !type.collapse" class="fa clickable"
       ng-class="{
         'fa-chevron-right':!type.collapse,
         'fa-chevron-down':type.collapse}"></i>
      <span>
        <label class='type_label'
        >
        <span ng-click="type.collapse= !type.collapse" ng-bind-html="type.title"></span>
        </label>
        [<span title="{{type.feature_ct}} features found in {{type.title}}"
        ng-bind-html="type.feature_ct"></span>]
      </span>
    </div>
    <div collapse="!type.collapse">
      <div class="dataset" ng-repeat="dataset in type.datasets">
        <div >
          <span>
            <span style="cursor:pointer"
              ng-click="featureMetadataModal(dataset)"
              class='dataset_label'
              ng-bind-html="dataset.title"></span>
          </span>
          [<span title="{{dataset.feature_ct}} features found in {{dataset.title}}"
            ng-bind-html="dataset.feature_ct"></span>]
        </div>
        <!--<i ng-show="dataset.metadata===undefined" class="dataset_metadata fa fa-refresh fa-spin"></i>-->

      </div>
    </div>
</div>
