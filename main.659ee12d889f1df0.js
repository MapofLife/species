(self.webpackChunkspecies=self.webpackChunkspecies||[]).push([[179],{192:(nn,Ot,Et)=>{"use strict";function ht(i){return"function"==typeof i}let st=!1;const pt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(i){if(i){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else st&&console.log("RxJS: Back to a better error behavior. Thank you. <3");st=i},get useDeprecatedSynchronousErrorHandling(){return st}};function ut(i){setTimeout(()=>{throw i},0)}const ot={closed:!0,next(i){},error(i){if(pt.useDeprecatedSynchronousErrorHandling)throw i;ut(i)},complete(){}},At=Array.isArray||(i=>i&&"number"==typeof i.length);function ft(i){return null!==i&&"object"==typeof i}const J=(()=>{function i(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,n)=>`${n+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return i.prototype=Object.create(Error.prototype),i})();class B{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_unsubscribe:n,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof B)t.remove(this);else if(null!==t)for(let s=0;s<t.length;++s)t[s].remove(this);if(ht(n))try{n.call(this)}catch(s){e=s instanceof J?q(s.errors):[s]}if(At(r)){let s=-1,o=r.length;for(;++s<o;){const l=r[s];if(ft(l))try{l.unsubscribe()}catch(d){e=e||[],d instanceof J?e=e.concat(q(d.errors)):e.push(d)}}}if(e)throw new J(e)}add(e){let t=e;if(!e)return B.EMPTY;switch(typeof e){case"function":t=new B(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof B)){const s=t;t=new B,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof B){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var i;function q(i){return i.reduce((e,t)=>e.concat(t instanceof J?t.errors:t),[])}B.EMPTY=((i=new B).closed=!0,i);const Z="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class et extends B{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ot;break;case 1:if(!e){this.destination=ot;break}if("object"==typeof e){e instanceof et?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new $(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new $(this,e,t,n)}}[Z](){return this}static create(e,t,n){const r=new et(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class $ extends et{constructor(e,t,n,r){super(),this._parentSubscriber=e;let s,o=this;ht(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==ot&&(o=Object.create(t),ht(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;pt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=pt;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):ut(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;ut(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);pt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),pt.useDeprecatedSynchronousErrorHandling)throw n;ut(n)}}__tryOrSetError(e,t,n){if(!pt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return pt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(ut(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Dt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Yt(i){return i}function ue(i){return 0===i.length?Yt:1===i.length?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}let Xt=(()=>{class i{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){const{operator:s}=this,o=function _t(i,e,t){if(i){if(i instanceof et)return i;if(i[Z])return i[Z]()}return i||e||t?new et(i,e,t):new et(ot)}(t,n,r);if(o.add(s?s.call(o,this.source):this.source||pt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),pt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){pt.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),function lt(i){for(;i;){const{closed:e,destination:t,isStopped:n}=i;if(e||n)return!1;i=t&&t instanceof et?t:null}return!0}(t)?t.error(n):console.warn(n)}}forEach(t,n){return new(n=_e(n))((r,s)=>{let o;o=this.subscribe(l=>{try{t(l)}catch(d){s(d),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:n}=this;return n&&n.subscribe(t)}[Dt](){return this}pipe(...t){return 0===t.length?this:ue(t)(this)}toPromise(t){return new(t=_e(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=e=>new i(e),i})();function _e(i){if(i||(i=pt.Promise||Promise),!i)throw new Error("no Promise impl found");return i}const Ft=(()=>{function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return i.prototype=Object.create(Error.prototype),i})();class ge extends B{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class ct extends et{constructor(e){super(e),this.destination=e}}let Nt=(()=>{class i extends Xt{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Z](){return new ct(this)}lift(t){const n=new gt(this,this);return n.operator=t,n}next(t){if(this.closed)throw new Ft;if(!this.isStopped){const{observers:n}=this,r=n.length,s=n.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new Ft;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:n}=this,r=n.length,s=n.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Ft;this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Ft;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Ft;return this.hasError?(t.error(this.thrownError),B.EMPTY):this.isStopped?(t.complete(),B.EMPTY):(this.observers.push(t),new ge(this,t))}asObservable(){const t=new Xt;return t.source=this,t}}return i.create=(e,t)=>new gt(e,t),i})();class gt extends Nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):B.EMPTY}}function St(i){return i&&"function"==typeof i.schedule}class ee extends et{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const ve=i=>e=>{for(let t=0,n=i.length;t<n&&!e.closed;t++)e.next(i[t]);e.complete()},Wt=function Lt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),ui=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function $n(i){return!!i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}const rn=i=>{if(i&&"function"==typeof i[Dt])return(i=>e=>{const t=i[Dt]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(i);if(ui(i))return ve(i);if($n(i))return(i=>e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ut),e))(i);if(i&&"function"==typeof i[Wt])return(i=>e=>{const t=i[Wt]();for(;;){const n=t.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(i);{const t=`You provided ${ft(i)?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function dn(i,e,t,n,r=new ee(i,t,n)){if(!r.closed)return e instanceof Xt?e.subscribe(r):rn(e)(r)}class Xn extends et{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function Ae(i,e){return function(n){if("function"!=typeof i)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new _r(i,e))}}class _r{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new co(e,this.project,this.thisArg))}}class co extends et{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Me(i,e){return new Xt(t=>{const n=new B;let r=0;return n.add(e.schedule(function(){r!==i.length?(t.next(i[r++]),t.closed||n.add(this.schedule())):t.complete()})),n})}function ne(i,e){return e?function Zt(i,e){if(null!=i){if(function W(i){return i&&"function"==typeof i[Dt]}(i))return function K(i,e){return new Xt(t=>{const n=new B;return n.add(e.schedule(()=>{const r=i[Dt]();n.add(r.subscribe({next(s){n.add(e.schedule(()=>t.next(s)))},error(s){n.add(e.schedule(()=>t.error(s)))},complete(){n.add(e.schedule(()=>t.complete()))}}))})),n})}(i,e);if($n(i))return function Jt(i,e){return new Xt(t=>{const n=new B;return n.add(e.schedule(()=>i.then(r=>{n.add(e.schedule(()=>{t.next(r),n.add(e.schedule(()=>t.complete()))}))},r=>{n.add(e.schedule(()=>t.error(r)))}))),n})}(i,e);if(ui(i))return Me(i,e);if(function vt(i){return i&&"function"==typeof i[Wt]}(i)||"string"==typeof i)return function zt(i,e){if(!i)throw new Error("Iterable cannot be null");return new Xt(t=>{const n=new B;let r;return n.add(()=>{r&&"function"==typeof r.return&&r.return()}),n.add(e.schedule(()=>{r=i[Wt](),n.add(e.schedule(function(){if(t.closed)return;let s,o;try{const l=r.next();s=l.value,o=l.done}catch(l){return void t.error(l)}o?t.complete():(t.next(s),this.schedule())}))})),n})}(i,e)}throw new TypeError((null!==i&&typeof i||i)+" is not observable")}(i,e):i instanceof Xt?i:new Xt(rn(i))}function qt(i,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(qt((r,s)=>ne(i(r,s)).pipe(Ae((o,l)=>e(r,o,s,l))),t)):("number"==typeof e&&(t=e),n=>n.lift(new Ve(i,t)))}class Ve{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new ni(e,this.project,this.concurrent))}}class ni extends Xn{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new ee(this,t,n),s=this.destination;s.add(r);const o=dn(this,e,void 0,void 0,r);o!==r&&s.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Re(i=Number.POSITIVE_INFINITY){return qt(Yt,i)}function oi(i,e){return e?Me(i,e):new Xt(ve(i))}function yi(...i){let e=Number.POSITIVE_INFINITY,t=null,n=i[i.length-1];return St(n)?(t=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(e=i.pop())):"number"==typeof n&&(e=i.pop()),null===t&&1===i.length&&i[0]instanceof Xt?i[0]:Re(e)(oi(i,t))}class ti extends Nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ft;return this._value}next(e){super.next(this._value=e)}}function je(...i){let e=i[i.length-1];return St(e)?(i.pop(),Me(i,e)):oi(i)}function or(){return function(e){return e.lift(new Cr(e))}}class Cr{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new go(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class go extends et{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}class In extends Xt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new B,e.add(this.source.subscribe(new qa(this.getSubject(),this))),e.closed&&(this._connection=null,e=B.EMPTY)),e}refCount(){return or()(this)}}const zs=(()=>{const i=In.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:i._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}}})();class qa extends ct{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class ad{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),s=n(r).subscribe(e);return s.add(t.subscribe(r)),s}}function ou(){return new Nt}function Tc(){return i=>or()(function Yl(i,e){return function(n){let r;if(r="function"==typeof i?i:function(){return i},"function"==typeof e)return n.lift(new ad(r,e));const s=Object.create(n,zs);return s.source=n,s.subjectFactory=r,s}}(ou)(i))}function Hn(i,e){return"function"==typeof e?t=>t.pipe(Hn((n,r)=>ne(i(n,r)).pipe(Ae((s,o)=>e(n,s,r,o))))):t=>t.lift(new Xa(i))}class Xa{constructor(e){this.project=e}call(e,t){return t.subscribe(new Yb(e,this.project))}}class Yb extends Xn{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new ee(this,t,n),o=this.destination;o.add(s),this.innerSubscription=dn(this,e,void 0,void 0,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,s){this.destination.next(t)}}function _h(i,e){return t=>t.lift(new Zb(i,e))}class Zb{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new qb(e,this.compare,this.keySelector))}}class qb extends et{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:r}=this;n=r(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function hr(i){for(let e in i)if(i[e]===hr)return e;throw Error("Could not find renamed property on target object.")}function bh(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function ks(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ks).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function au(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const Xb=hr({__forward_ref__:hr});function An(i){return i.__forward_ref__=An,i.toString=function(){return ks(this())},i}function sn(i){return Oo(i)?i():i}function Oo(i){return"function"==typeof i&&i.hasOwnProperty(Xb)&&i.__forward_ref__===An}function mm(i){return i&&!!i.\u0275providers}const Kb="https://g.co/ng/security#xss";class Se extends Error{constructor(e,t){super(function vh(i,e){return`NG0${Math.abs(i)}${e?": "+e:""}`}(e,t)),this.code=e}}function un(i){return"string"==typeof i?i:null==i?"":String(i)}function pm(i,e){throw new Se(-201,!1)}function Ro(i,e){null==i&&function en(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}(e,i,null,"!=")}function Fe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Oi(i){return{providers:i.providers||[],imports:i.imports||[]}}function _m(i){return iv(i,yh)||iv(i,lu)}function iv(i,e){return i.hasOwnProperty(e)?i[e]:null}function ql(i){return i&&(i.hasOwnProperty(ld)||i.hasOwnProperty(bm))?i[ld]:null}const yh=hr({\u0275prov:hr}),ld=hr({\u0275inj:hr}),lu=hr({ngInjectableDef:hr}),bm=hr({ngInjectorDef:hr});var wn=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(wn||{});let xh;function _o(i){const e=xh;return xh=i,e}function Jg(i,e,t){const n=_m(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&wn.Optional?null:void 0!==e?e:void pm(ks(i))}const nr=globalThis,du={},n_="__NG_DI_FLAG__",ym="ngTempTokenPath",x1=/\n/gm,rv="__source";let xt;function M(i){const e=xt;return xt=i,e}function A(i,e=wn.Default){if(void 0===xt)throw new Se(-203,!1);return null===xt?Jg(i,void 0,e):xt.get(i,e&wn.Optional?null:void 0,e)}function V(i,e=wn.Default){return(function cu(){return xh}()||A)(sn(i),e)}function wt(i,e=wn.Default){return V(i,Ye(e))}function Ye(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function bi(i){const e=[];for(let t=0;t<i.length;t++){const n=sn(i[t]);if(Array.isArray(n)){if(0===n.length)throw new Se(900,!1);let r,s=wn.Default;for(let o=0;o<n.length;o++){const l=n[o],d=Ar(l);"number"==typeof d?-1===d?r=l.token:s|=d:r=l}e.push(V(r,s))}else e.push(V(n))}return e}function Kn(i,e){return i[n_]=e,i.prototype[n_]=e,i}function Ar(i){return i[n_]}function Hs(i){return{toString:i}.toString()}var Qn=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Qn||{}),fr=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(fr||{});const On={},Ri=[],Hr=hr({\u0275cmp:hr}),uu=hr({\u0275dir:hr}),Aa=hr({\u0275pipe:hr}),Xl=hr({\u0275mod:hr}),Ka=hr({\u0275fac:hr}),cd=hr({__NG_ELEMENT_ID__:hr}),xm=hr({__NG_ENV_ID__:hr});function vl(i,e,t){let n=i.length;for(;;){const r=i.indexOf(e,t);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const s=e.length;if(r+s===n||i.charCodeAt(r+s)<=32)return r}t=r+1}}function hu(i,e,t){let n=0;for(;n<t.length;){const r=t[n];if("number"==typeof r){if(0!==r)break;n++;const s=t[n++],o=t[n++],l=t[n++];i.setAttribute(e,o,l,s)}else{const s=r,o=t[++n];ov(s)?i.setProperty(e,s,o):i.setAttribute(e,s,o),n++}}return n}function sv(i){return 3===i||4===i||6===i}function ov(i){return 64===i.charCodeAt(0)}function Cn(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r?t=r:0===t||Po(i,t,r,null,-1===t||2===t?e[++n]:null)}}return i}function Po(i,e,t,n,r){let s=0,o=i.length;if(-1===e)o=-1;else for(;s<i.length;){const l=i[s++];if("number"==typeof l){if(l===e){o=-1;break}if(l>e){o=s-1;break}}}for(;s<i.length;){const l=i[s];if("number"==typeof l)break;if(l===t){if(null===n)return void(null!==r&&(i[s+1]=r));if(n===i[s+1])return void(i[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(i.splice(o,0,e),s=o+1),i.splice(s++,0,t),null!==n&&i.splice(s++,0,n),null!==r&&i.splice(s++,0,r)}const wm="ng-template";function av(i,e,t){let n=0,r=!0;for(;n<i.length;){let s=i[n++];if("string"==typeof s&&r){const o=i[n++];if(t&&"class"===s&&-1!==vl(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;n<i.length&&"string"==typeof(s=i[n++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function r_(i){return 4===i.type&&i.value!==wm}function Kl(i,e,t){return e===(4!==i.type||t?i.value:wm)}function Cm(i,e,t){let n=4;const r=i.attrs||[],s=function Em(i){for(let e=0;e<i.length;e++)if(sv(i[e]))return e;return i.length}(r);let o=!1;for(let l=0;l<e.length;l++){const d=e[l];if("number"!=typeof d){if(!o)if(4&n){if(n=2|1&n,""!==d&&!Kl(i,d,t)||""===d&&1===e.length){if(Oa(n))return!1;o=!0}}else{const h=8&n?d:e[++l];if(8&n&&null!==i.attrs){if(!av(i.attrs,h,t)){if(Oa(n))return!1;o=!0}continue}const b=s_(8&n?"class":d,r,r_(i),t);if(-1===b){if(Oa(n))return!1;o=!0;continue}if(""!==h){let v;v=b>s?"":r[b+1].toLowerCase();const E=8&n?v:null;if(E&&-1!==vl(E,h,0)||2&n&&h!==v){if(Oa(n))return!1;o=!0}}}}else{if(!o&&!Oa(n)&&!Oa(d))return!1;if(o&&Oa(d))continue;o=!1,n=d|1&n}}return Oa(n)||o}function Oa(i){return 0==(1&i)}function s_(i,e,t,n){if(null===e)return-1;let r=0;if(n||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===i)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=e[++r];for(;"string"==typeof l;)l=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function fu(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const n=i[t];if("number"==typeof n)return-1;if(n===e)return t;t++}return-1}(e,i)}function ln(i,e,t=!1){for(let n=0;n<e.length;n++)if(Cm(i,e[n],t))return!0;return!1}function Ic(i,e){t:for(let t=0;t<e.length;t++){const n=e[t];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue t;return!0}}return!1}function w1(i,e){return i?":not("+e.trim()+")":e}function dN(i){let e=i[0],t=1,n=2,r="",s=!1;for(;t<i.length;){let o=i[t];if("string"==typeof o)if(2&n){const l=i[++t];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Oa(o)&&(e+=w1(s,r),r=""),n=o,s=s||!Oa(n);t++}return""!==r&&(e+=w1(s,r)),e}function He(i){return Hs(()=>{const e=eD(i),t={...e,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||fr.Emulated,styles:i.styles||Ri,_:null,schemas:i.schemas||null,tView:null,id:""};o_(t);const n=i.dependencies;return t.directiveDefs=lv(n,!1),t.pipeDefs=lv(n,!0),t.id=function bN(i){let e=0;const t=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function mN(i){return Jn(i)||bo(i)}function pN(i){return null!==i}function zi(i){return Hs(()=>({type:i.type,bootstrap:i.bootstrap||Ri,declarations:i.declarations||Ri,imports:i.imports||Ri,exports:i.exports||Ri,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function tD(i,e){if(null==i)return On;const t={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=n,e&&(e[r]=s)}return t}function be(i){return Hs(()=>{const e=eD(i);return o_(e),e})}function ca(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Jn(i){return i[Hr]||null}function bo(i){return i[uu]||null}function da(i){return i[Aa]||null}function Qa(i,e){const t=i[Xl]||null;if(!t&&!0===e)throw new Error(`Type ${ks(i)} does not have '\u0275mod' property.`);return t}function eD(i){const e={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:i.inputs||On,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Ri,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tD(i.inputs,e),outputs:tD(i.outputs)}}function o_(i){i.features?.forEach(e=>e(i))}function lv(i,e){if(!i)return null;const t=e?da:mN;return()=>("function"==typeof i?i():i).map(n=>t(n)).filter(pN)}const xs=0,ki=1,yn=2,ts=3,Ql=4,a_=5,Lo=6,Sm=7,Ds=8,mu=9,km=10,fn=11,l_=12,iD=13,Dm=14,Ts=15,Mh=16,Is=17,Jl=18,c_=19,Sh=20,hs=21,tc=22,Ac=23,pu=24,Rn=25,kh=1,dd=2,Fo=7,ec=9,Ur=11;function Ra(i){return Array.isArray(i)&&"object"==typeof i[kh]}function ua(i){return Array.isArray(i)&&!0===i[kh]}function C1(i){return 0!=(4&i.flags)}function Dh(i){return i.componentOffset>-1}function cv(i){return 1==(1&i.flags)}function ic(i){return!!i.template}function dv(i){return 0!=(512&i[yn])}function Th(i,e){return i.hasOwnProperty(Ka)?i[Ka]:null}let As=null,u_=!1;function yl(i){const e=As;return As=i,e}const hv={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function T1(i){if(!Ih(i)||i.dirty){if(!i.producerMustRecompute(i)&&!pv(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function I1(i){i.dirty=!0,function lD(i){if(void 0===i.liveConsumerNode)return;const e=u_;u_=!0;try{for(const t of i.liveConsumerNode)t.dirty||I1(t)}finally{u_=e}}(i),i.consumerMarkedDirty?.(i)}function ha(i){return i&&(i.nextProducerIndex=0),yl(i)}function h_(i,e){if(yl(e),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(Ih(i))for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)_v(i.producerNode[t],i.producerIndexOfThis[t]);for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function pv(i){Ja(i);for(let e=0;e<i.producerNode.length;e++){const t=i.producerNode[e],n=i.producerLastReadVersion[e];if(n!==t.version||(T1(t),n!==t.version))return!0}return!1}function gv(i){if(Ja(i),Ih(i))for(let e=0;e<i.producerNode.length;e++)_v(i.producerNode[e],i.producerIndexOfThis[e]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function _v(i,e){if(function A1(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Ja(i),1===i.liveConsumerNode.length)for(let n=0;n<i.producerNode.length;n++)_v(i.producerNode[n],i.producerIndexOfThis[n]);const t=i.liveConsumerNode.length-1;if(i.liveConsumerNode[e]=i.liveConsumerNode[t],i.liveConsumerIndexOfThis[e]=i.liveConsumerIndexOfThis[t],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,e<i.liveConsumerNode.length){const n=i.liveConsumerIndexOfThis[e],r=i.liveConsumerNode[e];Ja(r),r.producerIndexOfThis[n]=e}}function Ih(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Ja(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Tm=null;const yv=()=>{},R1={...hv,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:yv};class TN{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function zn(){return xv}function xv(i){return i.type.prototype.ngOnChanges&&(i.setInput=wv),P1}function P1(){const i=Cv(this),e=i?.current;if(e){const t=i.previous;if(t===On)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function wv(i,e,t,n){const r=this.declaredInputs[t],s=Cv(i)||function Ev(i,e){return i[L1]=e}(i,{previous:On,current:null}),o=s.current||(s.current={}),l=s.previous,d=l[r];o[r]=new TN(d&&d.currentValue,e,l===On),i[n]=e}zn.ngInherit=!0;const L1="__ngSimpleChanges__";function Cv(i){return i[L1]||null}const Js=function(i,e,t){},wl="svg";function ar(i){for(;Array.isArray(i);)i=i[xs];return i}function m_(i,e){return ar(e[i])}function Bo(i,e){return ar(e[i.index])}function p_(i,e){return i.data[e]}function Pm(i,e){return i[e]}function tl(i,e){const t=e[i];return Ra(t)?t:t[xs]}function vu(i,e){return null==e?null:i[e]}function yD(i){i[Is]=0}function IN(i){1024&i[yn]||(i[yn]|=1024,B1(i,1))}function Mv(i){1024&i[yn]&&(i[yn]&=-1025,B1(i,-1))}function B1(i,e){let t=i[ts];if(null===t)return;t[a_]+=e;let n=t;for(t=t[ts];null!==t&&(1===e&&1===n[a_]||-1===e&&0===n[a_]);)t[a_]+=e,n=t,t=t[ts]}const cn={lFrame:ID(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function CD(){return cn.bindingsEnabled}function Lm(){return null!==cn.skipHydrationRootTNode}function Ge(){return cn.lFrame.lView}function tr(){return cn.lFrame.tView}function Te(i){return cn.lFrame.contextLView=i,i[Ds]}function Ie(i){return cn.lFrame.contextLView=null,i}function vo(){let i=ED();for(;null!==i&&64===i.type;)i=i.parent;return i}function ED(){return cn.lFrame.currentTNode}function Oc(i,e){const t=cn.lFrame;t.currentTNode=i,t.isParent=e}function z1(){return cn.lFrame.isParent}function V1(){cn.lFrame.isParent=!1}function fa(){const i=cn.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function md(){return cn.lFrame.bindingIndex}function Fm(){return cn.lFrame.bindingIndex++}function pd(i){const e=cn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function UN(i,e){const t=cn.lFrame;t.bindingIndex=t.bindingRootIndex=i,U1(e)}function U1(i){cn.lFrame.currentDirectiveIndex=i}function G1(i){const e=cn.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function kD(){return cn.lFrame.currentQueryIndex}function j1(i){cn.lFrame.currentQueryIndex=i}function jN(i){const e=i[ki];return 2===e.type?e.declTNode:1===e.type?i[Lo]:null}function DD(i,e,t){if(t&wn.SkipSelf){let r=e,s=i;for(;!(r=r.parent,null!==r||t&wn.Host||(r=jN(s),null===r||(s=s[Dm],10&r.type))););if(null===r)return!1;e=r,i=s}const n=cn.lFrame=TD();return n.currentTNode=e,n.lView=i,!0}function W1(i){const e=TD(),t=i[ki];cn.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function TD(){const i=cn.lFrame,e=null===i?null:i.child;return null===e?ID(i):e}function ID(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function AD(){const i=cn.lFrame;return cn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const OD=AD;function $1(){const i=AD();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function es(){return cn.lFrame.selectedIndex}function yu(i){cn.lFrame.selectedIndex=i}function is(){const i=cn.lFrame;return p_(i.tView,i.selectedIndex)}function Os(){cn.lFrame.currentNamespace=wl}function Rh(){!function Y1(){cn.lFrame.currentNamespace=null}()}let PD=!0;function Sv(){return PD}function xu(i){PD=i}function Nm(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){const s=i.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:m}=s;o&&(i.contentHooks??=[]).push(-t,o),l&&((i.contentHooks??=[]).push(t,l),(i.contentCheckHooks??=[]).push(t,l)),d&&(i.viewHooks??=[]).push(-t,d),h&&((i.viewHooks??=[]).push(t,h),(i.viewCheckHooks??=[]).push(t,h)),null!=m&&(i.destroyHooks??=[]).push(t,m)}}function kv(i,e,t){Z1(i,e,3,t)}function Dv(i,e,t,n){(3&i[yn])===t&&Z1(i,e,t,n)}function __(i,e){let t=i[yn];(3&t)===e&&(t&=8191,t+=1,i[yn]=t)}function Z1(i,e,t,n){const s=n??-1,o=e.length-1;let l=0;for(let d=void 0!==n?65535&i[Is]:0;d<o;d++)if("number"==typeof e[d+1]){if(l=e[d],null!=n&&l>=n)break}else e[d]<0&&(i[Is]+=65536),(l<s||-1==s)&&(Bm(i,t,e,d),i[Is]=(4294901760&i[Is])+d+2),d++}function Tv(i,e){Js(4,i,e);const t=yl(null);try{e.call(i)}finally{yl(t),Js(5,i,e)}}function Bm(i,e,t,n){const r=t[n]<0,s=t[n+1],l=i[r?-t[n]:t[n]];r?i[yn]>>13<i[Is]>>16&&(3&i[yn])===e&&(i[yn]+=8192,Tv(l,s)):Tv(l,s)}const rc=-1;class zm{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Rv(i){return i!==rc}function Vm(i){return 32767&i}function b_(i,e){let t=function qN(i){return i>>16}(i),n=e;for(;t>0;)n=n[Dm],t--;return n}let Ph=!0;function Pv(i){const e=Ph;return Ph=i,e}const FD=255,Lv=5;let XN=0;const Rc={};function Fv(i,e){const t=Nv(i,e);if(-1!==t)return t;const n=e[ki];n.firstCreatePass&&(i.injectorIndex=e.length,q1(n.data,i),q1(e,null),q1(n.blueprint,null));const r=v_(i,e),s=i.injectorIndex;if(Rv(r)){const o=Vm(r),l=b_(r,e),d=l[ki].data;for(let h=0;h<8;h++)e[s+h]=l[o+h]|d[o+h]}return e[s+8]=r,s}function q1(i,e){i.push(0,0,0,0,0,0,0,0,e)}function Nv(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function v_(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,n=null,r=e;for(;null!==r;){if(n=Eu(r),null===n)return rc;if(t++,r=r[Dm],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return rc}function Cu(i,e,t){!function KN(i,e,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(cd)&&(n=t[cd]),null==n&&(n=t[cd]=XN++);const r=n&FD;e.data[i+(r>>Lv)]|=1<<r}(i,e,t)}function X1(i,e,t){if(t&wn.Optional||void 0!==i)return i;pm()}function y_(i,e,t,n){if(t&wn.Optional&&void 0===n&&(n=null),!(t&(wn.Self|wn.Host))){const r=i[mu],s=_o(void 0);try{return r?r.get(e,n,t&wn.Optional):Jg(e,n,t&wn.Optional)}finally{_o(s)}}return X1(n,0,t)}function K1(i,e,t,n=wn.Default,r){if(null!==i){if(2048&e[yn]&&!(n&wn.Self)){const o=function zD(i,e,t,n,r){let s=i,o=e;for(;null!==s&&null!==o&&2048&o[yn]&&!(512&o[yn]);){const l=Q1(s,o,t,n|wn.Self,Rc);if(l!==Rc)return l;let d=s.parent;if(!d){const h=o[Sh];if(h){const m=h.get(t,Rc,n);if(m!==Rc)return m}d=Eu(o),o=o[Dm]}s=d}return r}(i,e,t,n,Rc);if(o!==Rc)return o}const s=Q1(i,e,t,n,Rc);if(s!==Rc)return s}return y_(e,t,n,r)}function Q1(i,e,t,n,r){const s=function QN(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(cd)?i[cd]:void 0;return"number"==typeof e?e>=0?e&FD:Nh:e}(t);if("function"==typeof s){if(!DD(e,i,n))return n&wn.Host?X1(r,0,n):y_(e,t,n,r);try{let o;if(o=s(n),null!=o||n&wn.Optional)return o;pm()}finally{OD()}}else if("number"==typeof s){let o=null,l=Nv(i,e),d=rc,h=n&wn.Host?e[Ts][Lo]:null;for((-1===l||n&wn.SkipSelf)&&(d=-1===l?v_(i,e):e[l+8],d!==rc&&BD(n,!1)?(o=e[ki],l=Vm(d),e=b_(d,e)):l=-1);-1!==l;){const m=e[ki];if(ND(s,l,m.data)){const b=J1(l,e,t,o,n,h);if(b!==Rc)return b}d=e[l+8],d!==rc&&BD(n,e[ki].data[l+8]===h)&&ND(s,l,e)?(o=m,l=Vm(d),e=b_(d,e)):l=-1}}return r}function J1(i,e,t,n,r,s){const o=e[ki],l=o.data[i+8],m=Um(l,o,t,null==n?Dh(l)&&Ph:n!=o&&0!=(3&l.type),r&wn.Host&&s===l);return null!==m?Lh(e,o,m,l):Rc}function Um(i,e,t,n,r){const s=i.providerIndexes,o=e.data,l=1048575&s,d=i.directiveStart,m=s>>20,v=r?l+m:i.directiveEnd;for(let E=n?l:l+m;E<v;E++){const D=o[E];if(E<d&&t===D||E>=d&&D.type===t)return E}if(r){const E=o[d];if(E&&ic(E)&&E.type===t)return d}return null}function Lh(i,e,t,n){let r=i[t];const s=e.data;if(function zo(i){return i instanceof zm}(r)){const o=r;o.resolving&&function Qb(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new Se(-200,`Circular dependency in DI detected for ${i}${t}`)}(function ir(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():un(i)}(s[t]));const l=Pv(o.canSeeViewProviders);o.resolving=!0;const h=o.injectImpl?_o(o.injectImpl):null;DD(i,n,wn.Default);try{r=i[t]=o.factory(void 0,s,i,n),e.firstCreatePass&&t>=n.directiveStart&&function ZN(i,e,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){const o=xv(e);(t.preOrderHooks??=[]).push(i,o),(t.preOrderCheckHooks??=[]).push(i,o)}r&&(t.preOrderHooks??=[]).push(0-i,r),s&&((t.preOrderHooks??=[]).push(i,s),(t.preOrderCheckHooks??=[]).push(i,s))}(t,s[t],e)}finally{null!==h&&_o(h),Pv(l),o.resolving=!1,OD()}}return r}function ND(i,e,t){return!!(t[e+(i>>Lv)]&1<<i)}function BD(i,e){return!(i&wn.Self||i&wn.Host&&e)}class yo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return K1(this._tNode,this._lView,e,Ye(n),t)}}function Nh(){return new yo(vo(),Ge())}function qi(i){return Hs(()=>{const e=i.prototype.constructor,t=e[Ka]||x_(e),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const s=r[Ka]||x_(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function x_(i){return Oo(i)?()=>{const e=x_(sn(i));return e&&e()}:Th(i)}function Eu(i){const e=i[ki],t=e.type;return 2===t?e.declTNode:1===t?i[Lo]:null}function Cl(i){return function Hm(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(sv(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(vo(),i)}const Gm="__parameters__";function Wm(i,e,t){return Hs(()=>{const n=function iC(i){return function(...t){if(i){const n=i(...t);for(const r in n)this[r]=n[r]}}}(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(d,h,m){const b=d.hasOwnProperty(Gm)?d[Gm]:Object.defineProperty(d,Gm,{value:[]})[Gm];for(;b.length<=m;)b.push(null);return(b[m]=b[m]||[]).push(o),d}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function Zm(i,e){i.forEach(t=>Array.isArray(t)?Zm(t,e):e(t))}function w_(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function Pa(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function zh(i,e){const t=[];for(let n=0;n<i;n++)t.push(e);return t}function il(i,e,t){let n=pa(i,e);return n>=0?i[1|n]=t:(n=~n,function sC(i,e,t,n){let r=i.length;if(r==e)i.push(t,n);else if(1===r)i.push(n,i[0]),i[0]=t;else{for(r--,i.push(i[r-1],i[r]);r>e;)i[r]=i[r-2],r--;i[e]=t,i[e+1]=n}}(i,n,e,t)),n}function qm(i,e){const t=pa(i,e);if(t>=0)return i[1|t]}function pa(i,e){return function oC(i,e,t){let n=0,r=i.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=i[s<<t];if(e===o)return s<<t;o>e?r=s:n=s+1}return~(r<<t)}(i,e,1)}const La=Kn(Wm("Optional"),8),Vh=Kn(Wm("SkipSelf"),4);function Hh(i){return 128==(128&i.flags)}var Su=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Su||{});const y4=/^>|^->|<!--|-->|--!>|<!-$/g,x4=/(<|>)/g,w4="\u200b$1\u200b";const Zv=new Map;let fC=0;const pC="__ngContext__";function to(i,e){Ra(e)?(i[pC]=e[c_],function D_(i){Zv.set(i[c_],i)}(e)):i[pC]=e}let _C;function bC(i,e){return _C(i,e)}function T_(i){const e=i[ts];return ua(e)?e[ts]:e}function lT(i){return dT(i[l_])}function cT(i){return dT(i[Ql])}function dT(i){for(;null!==i&&!ua(i);)i=i[Ql];return i}function Jm(i,e,t,n,r){if(null!=n){let s,o=!1;ua(n)?s=n:Ra(n)&&(o=!0,n=n[xs]);const l=ar(n);0===i&&null!==t?null==r?pT(e,t,l):Uh(e,t,l,r||null,!0):1===i&&null!==t?Uh(e,t,l,r||null,!0):2===i?function vd(i,e,t){const n=iy(i,e);n&&function L4(i,e,t,n){i.removeChild(e,t,n)}(i,n,e,t)}(e,l,o):3===i&&e.destroyNode(l),null!=s&&function N4(i,e,t,n,r){const s=t[Fo];s!==ar(t)&&Jm(e,i,n,s,r);for(let l=Ur;l<t.length;l++){const d=t[l];P_(d[ki],d,i,e,n,s)}}(e,i,s,t,r)}}function vC(i,e){return i.createComment(function eT(i){return i.replace(y4,e=>e.replace(x4,w4))}(e))}function Kv(i,e,t){return i.createElement(e,t)}function bd(i,e){const t=i[ec],n=t.indexOf(e);Mv(e),t.splice(n,1)}function Qv(i,e){if(i.length<=Ur)return;const t=Ur+e,n=i[t];if(n){const r=n[Mh];null!==r&&r!==i&&bd(r,n),e>0&&(i[t-1][Ql]=n[Ql]);const s=Pa(i,Ur+e);!function uT(i,e){P_(i,e,e[fn],2,null,null),e[xs]=null,e[Lo]=null}(n[ki],n);const o=s[Jl];null!==o&&o.detachView(s[ki]),n[ts]=null,n[Ql]=null,n[yn]&=-129}return n}function yC(i,e){if(!(256&e[yn])){const t=e[fn];e[Ac]&&gv(e[Ac]),e[pu]&&gv(e[pu]),t.destroyNode&&P_(i,e,t,3,null,null),function A4(i){let e=i[l_];if(!e)return Jv(i[ki],i);for(;e;){let t=null;if(Ra(e))t=e[l_];else{const n=e[Ur];n&&(t=n)}if(!t){for(;e&&!e[Ql]&&e!==i;)Ra(e)&&Jv(e[ki],e),e=e[ts];null===e&&(e=i),Ra(e)&&Jv(e[ki],e),t=e&&e[Ql]}e=t}}(e)}}function Jv(i,e){if(!(256&e[yn])){e[yn]&=-129,e[yn]|=256,function P4(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let n=0;n<t.length;n+=2){const r=e[t[n]];if(!(r instanceof zm)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],d=s[o+1];Js(4,l,d);try{d.call(l)}finally{Js(5,l,d)}}else{Js(4,r,s);try{s.call(r)}finally{Js(5,r,s)}}}}}(i,e),function R4(i,e){const t=i.cleanup,n=e[Sm];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else t[s].call(n[t[s+1]]);null!==n&&(e[Sm]=null);const r=e[hs];if(null!==r){e[hs]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(i,e),1===e[ki].type&&e[fn].destroy();const t=e[Mh];if(null!==t&&ua(e[ts])){t!==e[ts]&&bd(t,e);const n=e[Jl];null!==n&&n.detachView(i)}!function iT(i){Zv.delete(i[c_])}(e)}}function ty(i,e,t){return function ey(i,e,t){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return t[xs];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=i.data[n.directiveStart+r];if(s===fr.None||s===fr.Emulated)return null}return Bo(n,t)}}(i,e.parent,t)}function Uh(i,e,t,n,r){i.insertBefore(e,t,n,r)}function pT(i,e,t){i.appendChild(e,t)}function gT(i,e,t,n,r){null!==n?Uh(i,e,t,n,r):pT(i,e,t)}function iy(i,e){return i.parentNode(e)}function _T(i,e,t){return bT(i,e,t)}let Gh,jh,xC,oy,bT=function A_(i,e,t){return 40&i.type?Bo(i,t):null};function tp(i,e,t,n){const r=ty(i,n,e),s=e[fn],l=_T(n.parent||e[Lo],n,e);if(null!=r)if(Array.isArray(t))for(let d=0;d<t.length;d++)gT(s,r,t[d],l,!1);else gT(s,r,t,l,!1);void 0!==Gh&&Gh(s,n,e,t,r)}function O_(i,e){if(null!==e){const t=e.type;if(3&t)return Bo(e,i);if(4&t)return ny(-1,i[e.index]);if(8&t){const n=e.child;if(null!==n)return O_(i,n);{const r=i[e.index];return ua(r)?ny(-1,r):ar(r)}}if(32&t)return bC(e,i)()||ar(i[e.index]);{const n=yT(i,e);return null!==n?Array.isArray(n)?n[0]:O_(T_(i[Ts]),n):O_(i,e.next)}}return null}function yT(i,e){return null!==e?i[Ts][Lo].projection[e.projection]:null}function ny(i,e){const t=Ur+i+1;if(t<e.length){const n=e[t],r=n[ki].firstChild;if(null!==r)return O_(n,r)}return e[Fo]}function R_(i,e,t,n,r,s,o){for(;null!=t;){const l=n[t.index],d=t.type;if(o&&0===e&&(l&&to(ar(l),n),t.flags|=2),32!=(32&t.flags))if(8&d)R_(i,e,t.child,n,r,s,!1),Jm(e,i,r,l,s);else if(32&d){const h=bC(t,n);let m;for(;m=h();)Jm(e,i,r,m,s);Jm(e,i,r,l,s)}else 16&d?wT(i,e,n,t,r,s):Jm(e,i,r,l,s);t=o?t.projectionNext:t.next}}function P_(i,e,t,n,r,s){R_(t,n,i.firstChild,e,r,s,!1)}function wT(i,e,t,n,r,s){const o=t[Ts],d=o[Lo].projection[n.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)Jm(e,i,r,d[h],s);else{let h=d;const m=o[ts];Hh(n)&&(h.flags|=128),R_(i,e,h,m,r,s,!0)}}function CT(i,e,t){""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function ET(i,e,t){const{mergedAttrs:n,classes:r,styles:s}=t;null!==n&&hu(i,e,n),null!==r&&CT(i,e,r),null!==s&&function z4(i,e,t){i.setAttribute(e,"style",t)}(i,e,s)}function ep(i){return function sy(){if(void 0===jh&&(jh=null,nr.trustedTypes))try{jh=nr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return jh}()?.createHTML(i)||i}function ip(){if(void 0!==xC)return xC;if(typeof document<"u")return document;throw new Se(210,!1)}function CC(){if(void 0===oy&&(oy=null,nr.trustedTypes))try{oy=nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return oy}function MT(i){return CC()?.createHTML(i)||i}function EC(i){return CC()?.createScriptURL(i)||i}class Wh{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Kb})`}}class G4 extends Wh{getTypeName(){return"HTML"}}class j4 extends Wh{getTypeName(){return"Style"}}class W4 extends Wh{getTypeName(){return"Script"}}class _a extends Wh{getTypeName(){return"URL"}}class $4 extends Wh{getTypeName(){return"ResourceURL"}}function nl(i){return i instanceof Wh?i.changingThisBreaksApplicationSecurity:i}function Lc(i,e){const t=function Y4(i){return i instanceof Wh&&i.getTypeName()||null}(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Kb})`)}return t===e}class J4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ep(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class ay{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ep(e),t}}const DT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uo(i){return(i=String(i)).match(DT)?i:"unsafe:"+i}function Fr(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function Ml(...i){const e={};for(const t of i)for(const n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}const TT=Fr("area,br,col,hr,img,wbr"),IT=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AT=Fr("rp,rt"),SC=Ml(TT,Ml(IT,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ml(AT,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ml(AT,IT)),kC=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),OT=Ml(kC,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),n5=Fr("script,style,template");class r5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!SC.hasOwnProperty(t))return this.sanitizedSomething=!0,!n5.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,l=o.toLowerCase();if(!OT.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=s.value;kC[l]&&(d=uo(d)),this.buf.push(" ",o,'="',RT(d),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();SC.hasOwnProperty(t)&&!TT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(RT(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const s5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o5=/([^\#-~ |!])/g;function RT(i){return i.replace(/&/g,"&amp;").replace(s5,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(o5,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ly;function PT(i,e){let t=null;try{ly=ly||function kT(i){const e=new ay(i);return function MC(){try{return!!(new window.DOMParser).parseFromString(ep(""),"text/html")}catch{return!1}}()?new J4(e):e}(i);let n=e?String(e):"";t=ly.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=ly.getInertBodyElement(n)}while(n!==s);return ep((new r5).sanitizeChildren(DC(t)||t))}finally{if(t){const n=DC(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function DC(i){return"content"in i&&function a5(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var js=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(js||{});function Du(i){const e=np();return e?MT(e.sanitize(js.HTML,i)||""):Lc(i,"HTML")?MT(nl(i)):PT(ip(),un(i))}function rr(i){const e=np();return e?e.sanitize(js.URL,i)||"":Lc(i,"URL")?nl(i):uo(un(i))}function LT(i){const e=np();if(e)return EC(e.sanitize(js.RESOURCE_URL,i)||"");if(Lc(i,"ResourceURL"))return EC(nl(i));throw new Se(904,!1)}function np(){const i=Ge();return i&&i[km].sanitizer}class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rp=new xe("ENVIRONMENT_INITIALIZER"),TC=new xe("INJECTOR",-1),F_=new xe("INJECTOR_DEF_TYPES");class sp{get(e,t=du){if(t===du){const n=new Error(`NullInjectorError: No provider for ${ks(e)}!`);throw n.name="NullInjectorError",n}return t}}function BT(...i){return{\u0275providers:IC(0,i),\u0275fromNgModule:!0}}function IC(i,...e){const t=[],n=new Set;let r;const s=o=>{t.push(o)};return Zm(e,o=>{const l=o;B_(l,s,[],n)&&(r||=[],r.push(l))}),void 0!==r&&AC(r,s),t}function AC(i,e){for(let t=0;t<i.length;t++){const{ngModule:n,providers:r}=i[t];$h(r,s=>{e(s,n)})}}function B_(i,e,t,n){if(!(i=sn(i)))return!1;let r=null,s=ql(i);const o=!s&&Jn(i);if(s||o){if(o&&!o.standalone)return!1;r=i}else{const d=i.ngModule;if(s=ql(d),!s)return!1;r=d}const l=n.has(r);if(o){if(l)return!1;if(n.add(r),o.dependencies){const d="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const h of d)B_(h,e,t,n)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let h;n.add(r);try{Zm(s.imports,m=>{B_(m,e,t,n)&&(h||=[],h.push(m))})}finally{}void 0!==h&&AC(h,e)}if(!l){const h=Th(r)||(()=>new r);e({provide:r,useFactory:h,deps:Ri},r),e({provide:F_,useValue:r,multi:!0},r),e({provide:rp,useValue:()=>V(r),multi:!0},r)}const d=s.providers;if(null!=d&&!l){const h=i;$h(d,m=>{e(m,h)})}}}return r!==i&&void 0!==i.providers}function $h(i,e){for(let t of i)mm(t)&&(t=t.\u0275providers),Array.isArray(t)?$h(t,e):e(t)}const Bn=hr({provide:String,useValue:hr});function ns(i){return null!==i&&"object"==typeof i&&Bn in i}function sr(i){return"function"==typeof i}const Un=new xe("Set Injector scope."),yd={},ba={};let Ui;function Yh(){return void 0===Ui&&(Ui=new sp),Ui}class Fa{}class OC extends Fa{get destroyed(){return this._destroyed}constructor(e,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wo(e,o=>this.processProvider(o)),this.records.set(TC,xo(void 0,this)),r.has("environment")&&this.records.set(Fa,xo(void 0,this));const s=this.records.get(Un);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(F_.multi,Ri,wn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=M(this),n=_o(void 0);try{return e()}finally{M(t),_o(n)}}get(e,t=du,n=wn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xm))return e[xm](this);n=Ye(n);const s=M(this),o=_o(void 0);try{if(!(n&wn.SkipSelf)){let d=this.records.get(e);if(void 0===d){const h=function zT(i){return"function"==typeof i||"object"==typeof i&&i instanceof xe}(e)&&_m(e);d=h&&this.injectableDefInScope(h)?xo(V_(e),yd):null,this.records.set(e,d)}if(null!=d)return this.hydrate(e,d)}return(n&wn.Self?Yh():this.parent).get(e,t=n&wn.Optional&&t===du?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[ym]=l[ym]||[]).unshift(ks(e)),s)throw l;return function Vs(i,e,t,n){const r=i[ym];throw e[rv]&&r.unshift(e[rv]),i.message=function _n(i,e,t,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let r=ks(e);if(Array.isArray(e))r=e.map(ks).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let l=e[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):ks(l)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${i.replace(x1,"\n  ")}`}("\n"+i.message,r,t,n),i.ngTokenPath=r,i[ym]=null,i}(l,e,"R3InjectorError",this.source)}throw l}finally{_o(o),M(s)}}resolveInjectorInitializers(){const e=M(this),t=_o(void 0);try{const r=this.get(rp.multi,Ri,wn.Self);for(const s of r)s()}finally{M(e),_o(t)}}toString(){const e=[],t=this.records;for(const n of t.keys())e.push(ks(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(e){let t=sr(e=sn(e))?e:sn(e&&e.provide);const n=function RC(i){return ns(i)?xo(void 0,i.useValue):xo(Ii(i),yd)}(e);if(sr(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=xo(void 0,yd,!0),r.factory=()=>bi(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,n)}hydrate(e,t){return t.value===yd&&(t.value=ba,t.value=t.factory()),"object"==typeof t.value&&t.value&&function PC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=sn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function V_(i){const e=_m(i),t=null!==e?e.factory:Th(i);if(null!==t)return t;if(i instanceof xe)throw new Se(204,!1);if(i instanceof Function)return function dy(i){const e=i.length;if(e>0)throw zh(e,"?"),new Se(204,!1);const t=function p1(i){return i&&(i[yh]||i[lu])||null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Se(204,!1)}function Ii(i,e,t){let n;if(sr(i)){const r=sn(i);return Th(r)||V_(r)}if(ns(i))n=()=>sn(i.useValue);else if(function Ho(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...bi(i.deps||[]));else if(function z_(i){return!(!i||!i.useExisting)}(i))n=()=>V(sn(i.useExisting));else{const r=sn(i&&(i.useClass||i.provide));if(!function ho(i){return!!i.deps}(i))return Th(r)||V_(r);n=()=>new r(...bi(i.deps))}return n}function xo(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function wo(i,e){for(const t of i)Array.isArray(t)?wo(t,e):t&&mm(t)?wo(t.\u0275providers,e):e(t)}const op=new xe("AppId",{providedIn:"root",factory:()=>fs}),fs="ng",H_=new xe("Platform Initializer"),Fc=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gr=new xe("AnimationModuleType"),uy=new xe("CSP nonce",{providedIn:"root",factory:()=>ip().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $_=(i,e,t)=>null;function rs(i,e,t=!1){return $_(i,e,t)}class UT{}class VC{}class rl{resolveComponentFactory(e){throw function GT(i){const e=Error(`No component factory found for ${ks(i)}.`);return e.ngComponent=i,e}(e)}}let cp=(()=>{class i{static#t=this.NULL=new rl}return i})();function WT(){return dp(vo(),Ge())}function dp(i,e){return new ai(Bo(i,e))}let ai=(()=>{class i{constructor(t){this.nativeElement=t}static#t=this.__NG_ELEMENT_ID__=WT}return i})();function my(i){return i instanceof ai?i.nativeElement:i}class Ou{}let Uo=(()=>{class i{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function py(){const i=Ge(),t=tl(vo().index,i);return(Ra(t)?t:i)[fn]}()}return i})(),gy=(()=>{class i{static#t=this.\u0275prov=Fe({token:i,providedIn:"root",factory:()=>null})}return i})();class Vc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _y=new Vc("16.2.5"),q_={};function ZT(i,e=null,t=null,n){const r=qT(i,e,t,n);return r.resolveInjectorInitializers(),r}function qT(i,e=null,t=null,n,r=new Set){const s=[t||Ri,BT(i)];return n=n||("object"==typeof i?void 0:ks(i)),new OC(s,e||Yh(),n||null,r)}let jr=(()=>{class i{static#t=this.THROW_IF_NOT_FOUND=du;static#e=this.NULL=new sp;static create(t,n){if(Array.isArray(t))return ZT({name:""},n,t,"");{const r=t.name??"";return ZT({name:r},t.parent,t.providers,r)}}static#i=this.\u0275prov=Fe({token:i,providedIn:"any",factory:()=>V(TC)});static#n=this.__NG_ELEMENT_ID__=-1}return i})();function GC(i){return i.ngOriginalError}class sl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&GC(e);for(;t&&GC(t);)t=GC(t);return t||null}}function Q_(i){return e=>{setTimeout(i,void 0,e)}}const qe=class WC extends Nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r=e,s=t||(()=>null),o=n;if(e&&"object"==typeof e){const d=e;r=d.next?.bind(d),s=d.error?.bind(d),o=d.complete?.bind(d)}this.__isAsync&&(s=Q_(s),r&&(r=Q_(r)),o&&(o=Q_(o)));const l=super.subscribe({next:r,error:s,complete:o});return e instanceof B&&e.add(l),l}};function $C(...i){}class fi{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function QT(){const i="function"==typeof nr.requestAnimationFrame;let e=nr[i?"requestAnimationFrame":"setTimeout"],t=nr[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function by(i){const e=()=>{!function tI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nr,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,hp(i),i.isCheckStableRunning=!0,YC(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),hp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,s,o,l)=>{if(function g5(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(l))return t.invokeTask(r,s,o,l);try{return ZC(i),t.invokeTask(r,s,o,l)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&e(),qC(i)}},onInvoke:(t,n,r,s,o,l,d)=>{try{return ZC(i),t.invoke(r,s,o,l,d)}finally{i.shouldCoalesceRunChangeDetection&&e(),qC(i)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,hp(i),YC(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fi.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(fi.isInAngularZone())throw new Se(909,!1)}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,JT,$C,$C);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const JT={};function YC(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function hp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ZC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function qC(i){i._nesting--,YC(i)}class XC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}const KC=new xe("",{providedIn:"root",factory:QC});function QC(){const i=wt(fi);let e=!0;return yi(new Xt(r=>{e=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Xt(r=>{let s;i.runOutsideAngular(()=>{s=i.onStable.subscribe(()=>{fi.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=i.onUnstable.subscribe(()=>{fi.assertInAngularZone(),e&&(e=!1,i.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Tc()))}function JC(i){return i.ownerDocument.defaultView}function vy(i){return i.ownerDocument}function wd(i){return i instanceof Function?i():i}let tE=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#t=this.\u0275prov=Fe({token:i,providedIn:"root",factory:()=>new i})}return i})();function Qh(i){for(;i;){i[yn]|=64;const e=T_(i);if(dv(i)&&!e)return i;i=e}return null}const r0=new xe("",{providedIn:"root",factory:()=>!1});let s0=null;function oE(i,e){return i[e]??aE()}function nI(i,e){const t=aE();t.producerNode?.length&&(i[e]=s0,t.lView=i,s0=sI())}const rI={...hv,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Qh(i.lView)},lView:null};function sI(){return Object.create(rI)}function aE(){return s0??=sI(),s0}const pn={};function z(i){oI(tr(),Ge(),es()+i,!1)}function oI(i,e,t,n){if(!n)if(3==(3&e[yn])){const s=i.preOrderCheckHooks;null!==s&&kv(e,s,t)}else{const s=i.preOrderHooks;null!==s&&Dv(e,s,0,t)}yu(t)}function U(i,e=wn.Default){const t=Ge();return null===t?V(i,e):K1(vo(),t,sn(i),e)}function jo(){throw new Error("invalid")}function gp(i,e,t,n,r,s,o,l,d,h,m){const b=e.blueprint.slice();return b[xs]=r,b[yn]=140|n,(null!==h||i&&2048&i[yn])&&(b[yn]|=2048),yD(b),b[ts]=b[Dm]=i,b[Ds]=t,b[km]=o||i&&i[km],b[fn]=l||i&&i[fn],b[mu]=d||i&&i[mu]||null,b[Lo]=s,b[c_]=function mC(){return fC++}(),b[tc]=m,b[Sh]=h,b[Ts]=2==e.type?i[Ts]:b,b}function Jh(i,e,t,n,r){let s=i.data[e];if(null===s)s=function yy(i,e,t,n,r){const s=ED(),o=z1(),d=i.data[e]=function Ey(i,e,t,n,r,s){let o=e?e.injectorIndex:-1,l=0;return Lm()&&(l|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,n,r);return null===i.firstChild&&(i.firstChild=d),null!==s&&(o?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d,d.prev=s)),d}(i,e,t,n,r),function HN(){return cn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function g_(){const i=cn.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Oc(s,!0),s}function tf(i,e,t,n){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(n),i.blueprint.push(n),i.data.push(null);return r}function xy(i,e,t,n,r){const s=oE(e,Ac),o=es(),l=2&n;try{yu(-1),l&&e.length>Rn&&oI(i,e,Rn,!1),Js(l?2:0,r);const h=l?s:null,m=ha(h);try{null!==h&&(h.dirty=!1),t(n,r)}finally{h_(h,m)}}finally{l&&null===e[Ac]&&nI(e,Ac),yu(o),Js(l?3:1,r)}}function Hc(i,e,t){if(C1(e)){const n=yl(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const l=i.data[o];l.contentQueries&&l.contentQueries(1,t[o],o)}}finally{yl(n)}}}function cE(i,e,t){CD()&&(function Gc(i,e,t,n){const r=t.directiveStart,s=t.directiveEnd;Dh(t)&&function D5(i,e,t){const n=Bo(e,i),r=uE(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const l=Ru(i,gp(i,r,null,o,n,e,null,i[km].rendererFactory.createRenderer(n,t),null,null,null));i[e.index]=l}(e,t,i.data[r+t.componentOffset]),i.firstCreatePass||Fv(t,e),to(n,e);const o=t.initialInputs;for(let l=r;l<s;l++){const d=i.data[l],h=Lh(e,i,l,t);to(h,e),null!==o&&hI(0,l-r,h,d,0,o),ic(d)&&(tl(t.index,e)[Ds]=Lh(e,i,l,t))}}(i,e,t,Bo(t,e)),64==(64&t.flags)&&Dl(i,e,t))}function dE(i,e,t=Bo){const n=e.localNames;if(null!==n){let r=e.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],l=-1===o?t(e,i):i[o];i[r++]=l}}}function uE(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=hE(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):e}function hE(i,e,t,n,r,s,o,l,d,h,m){const b=Rn+n,v=b+r,E=function aI(i,e){const t=[];for(let n=0;n<e;n++)t.push(n<i?null:pn);return t}(b,v),D="function"==typeof h?h():h;return E[ki]={type:i,blueprint:E,template:t,queries:null,viewQuery:l,declTNode:e,data:E.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:d,consts:D,incompleteFirstPass:!1,ssrId:m}}let bp=i=>null;function My(i,e,t,n){for(let r in i)if(i.hasOwnProperty(r)){t=null===t?{}:t;const s=i[r];null===n?Sy(t,e,r,s):n.hasOwnProperty(r)&&Sy(t,e,n[r],s)}return t}function Sy(i,e,t,n){i.hasOwnProperty(t)?i[t].push(e,n):i[t]=[e,n]}function Wo(i,e,t,n,r,s,o,l){const d=Bo(e,t);let m,h=e.inputs;!l&&null!=h&&(m=h[n])?(Iy(i,t,m,n,r),Dh(e)&&function vp(i,e){const t=tl(e,i);16&t[yn]||(t[yn]|=64)}(t,e.index)):3&e.type&&(n=function ky(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=o?o(r,e.value||"",n):r,s.setProperty(d,n,r))}function ef(i,e,t,n){if(CD()){const r=null===n?null:{"":-1},s=function dI(i,e){const t=i.directiveRegistry;let n=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(ln(e,o.selectors,!1))if(n||(n=[]),ic(o))if(null!==o.findHostDirectiveDefs){const l=[];r=r||new Map,o.findHostDirectiveDefs(o,l,r),n.unshift(...l,o),pE(i,e,l.length)}else n.unshift(o),pE(i,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(i,t);let o,l;null===s?o=l=null:[o,l]=s,null!==o&&mE(i,e,t,o,r,l),r&&function M5(i,e,t){if(e){const n=i.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Se(-301,!1);n.push(e[r],s)}}}(t,n,r)}t.mergedAttrs=Cn(t.mergedAttrs,t.attrs)}function mE(i,e,t,n,r,s){for(let h=0;h<n.length;h++)Cu(Fv(t,e),i,n[h].type);!function S5(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}(t,i.data.length,n.length);for(let h=0;h<n.length;h++){const m=n[h];m.providersResolver&&m.providersResolver(m)}let o=!1,l=!1,d=tf(i,e,n.length,null);for(let h=0;h<n.length;h++){const m=n[h];t.mergedAttrs=Cn(t.mergedAttrs,m.hostAttrs),k5(i,t,e,d,m),uI(d,m,r),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const b=m.type.prototype;!o&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((i.preOrderHooks??=[]).push(t.index),o=!0),!l&&(b.ngOnChanges||b.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(t.index),l=!0),d++}!function o0(i,e,t){const r=e.directiveEnd,s=i.data,o=e.attrs,l=[];let d=null,h=null;for(let m=e.directiveStart;m<r;m++){const b=s[m],v=t?t.get(b):null,D=v?v.outputs:null;d=My(b.inputs,m,d,v?v.inputs:null),h=My(b.outputs,m,h,D);const T=null===d||null===o||r_(e)?null:gE(d,m,o);l.push(T)}null!==d&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=h}(i,t,s)}function Dl(i,e,t){const n=t.directiveStart,r=t.directiveEnd,s=t.index,o=function GN(){return cn.lFrame.currentDirectiveIndex}();try{yu(s);for(let l=n;l<r;l++){const d=i.data[l],h=e[l];U1(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&nf(d,h)}}finally{yu(-1),U1(o)}}function nf(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function pE(i,e,t){e.componentOffset=t,(i.components??=[]).push(e.index)}function uI(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;ic(e)&&(t[""]=i)}}function k5(i,e,t,n,r){i.data[n]=r;const s=r.factory||(r.factory=Th(r.type)),o=new zm(s,ic(r),U);i.blueprint[n]=o,t[n]=o,function cI(i,e,t,n,r){const s=r.hostBindings;if(s){let o=i.hostBindingOpCodes;null===o&&(o=i.hostBindingOpCodes=[]);const l=~e.index;(function Uc(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=l&&o.push(l),o.push(t,n,s)}}(i,e,n,tf(i,t,r.hostVars,pn),r)}function ac(i,e,t,n,r,s){const o=Bo(i,e);!function Dy(i,e,t,n,r,s,o){if(null==s)i.removeAttribute(e,r,t);else{const l=null==o?un(s):o(s,n||"",r);i.setAttribute(e,r,l,t)}}(e[fn],o,s,i.value,t,n,r)}function hI(i,e,t,n,r,s){const o=s[e];if(null!==o)for(let l=0;l<o.length;)Ty(n,t,o[l++],o[l++],o[l++])}function Ty(i,e,t,n,r){const s=yl(null);try{const o=i.inputTransforms;null!==o&&o.hasOwnProperty(n)&&(r=o[n].call(e,r)),null!==i.setInput?i.setInput(e,r,t,n):e[n]=r}finally{yl(s)}}function gE(i,e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(i.hasOwnProperty(s)){null===n&&(n=[]);const o=i[s];for(let l=0;l<o.length;l+=2)if(o[l]===e){n.push(s,o[l+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function _E(i,e,t,n){return[i,!0,!1,e,null,0,n,t,null,null,null]}function bE(i,e){const t=i.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const s=t[n+1];if(-1!==s){const o=i.data[s];j1(t[n]),o.contentQueries(2,e[s],s)}}}function Ru(i,e){return i[l_]?i[iD][Ql]=e:i[l_]=e,i[iD]=e,e}function rf(i,e,t){j1(0);const n=yl(null);try{e(i,t)}finally{yl(n)}}function fI(i){return i[Sm]||(i[Sm]=[])}function yE(i){return i.cleanup||(i.cleanup=[])}function xE(i,e,t){return(null===i||ic(i))&&(t=function N1(i){for(;Array.isArray(i);){if("object"==typeof i[kh])return i;i=i[xs]}return null}(t[e.index])),t[fn]}function wE(i,e){const t=i[mu],n=t?t.get(sl,null):null;n&&n.handleError(e)}function Iy(i,e,t,n,r){for(let s=0;s<t.length;){const o=t[s++],l=t[s++];Ty(i.data[o],e[o],n,l,r)}}function Cd(i,e,t){const n=m_(e,i);!function Xv(i,e,t){i.setValue(e,t)}(i[fn],n,t)}function T5(i,e){const t=tl(e,i),n=t[ki];!function a0(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])}(n,t);const r=t[xs];null!==r&&null===t[tc]&&(t[tc]=rs(r,t[mu])),l0(n,t,t[Ds])}function l0(i,e,t){W1(e);try{const n=i.viewQuery;null!==n&&rf(1,n,t);const r=i.template;null!==r&&xy(i,e,r,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&bE(i,e),i.staticViewQueries&&rf(2,i.viewQuery,t);const s=i.components;null!==s&&function CE(i,e){for(let t=0;t<e.length;t++)T5(i,e[t])}(e,s)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[yn]&=-5,$1()}}let c0=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(t,n,r){const s=typeof Zone>"u"?null:Zone.current,o=function DN(i,e,t){const n=Object.create(R1);t&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=e;const r=o=>{n.cleanupFn=o};return n.ref={notify:()=>I1(n),run:()=>{if(n.dirty=!1,n.hasRun&&!pv(n))return;n.hasRun=!0;const o=ha(n);try{n.cleanupFn(),n.cleanupFn=yv,n.fn(r)}finally{h_(n,o)}},cleanup:()=>n.cleanupFn()},n.ref}(t,h=>{this.all.has(h)&&this.queue.set(h,s)},r);let l;this.all.add(o),o.notify();const d=()=>{o.cleanup(),l?.(),this.all.delete(o),this.queue.delete(o)};return l=n?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[t,n]of this.queue)this.queue.delete(t),n?n.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#t=this.\u0275prov=Fe({token:i,providedIn:"root",factory:()=>new i})}return i})();function yp(i,e,t){let n=t?i.styles:null,r=t?i.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?s=l:1==s?r=au(r,l):2==s&&(n=au(n,l+": "+e[++o]+";"))}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=r:i.classesWithoutHost=r}function sf(i,e,t,n,r=!1){for(;null!==t;){const s=e[t.index];null!==s&&n.push(ar(s)),ua(s)&&ME(s,n);const o=t.type;if(8&o)sf(i,e,t.child,n);else if(32&o){const l=bC(t,e);let d;for(;d=l();)n.push(d)}else if(16&o){const l=yT(e,t);if(Array.isArray(l))n.push(...l);else{const d=T_(e[Ts]);sf(d[ki],d,l,n,!0)}}t=r?t.projectionNext:t.next}return n}function ME(i,e){for(let t=Ur;t<i.length;t++){const n=i[t],r=n[ki].firstChild;null!==r&&sf(n[ki],n,r,e)}i[Fo]!==i[xs]&&e.push(i[Fo])}function Ay(i,e,t,n=!0){const r=e[km],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{mI(i,e,i.template,t)}catch(d){throw n&&wE(e,d),d}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function mI(i,e,t,n){const r=e[yn];if(256!=(256&r)){e[km].effectManager?.flush(),W1(e);try{yD(e),function SD(i){return cn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&xy(i,e,t,2,n);const o=3==(3&r);if(o){const h=i.preOrderCheckHooks;null!==h&&kv(e,h,null)}else{const h=i.preOrderHooks;null!==h&&Dv(e,h,0,null),__(e,0)}if(function O5(i){for(let e=lT(i);null!==e;e=cT(e)){if(!e[dd])continue;const t=e[ec];for(let n=0;n<t.length;n++){IN(t[n])}}}(e),pI(e,2),null!==i.contentQueries&&bE(i,e),o){const h=i.contentCheckHooks;null!==h&&kv(e,h)}else{const h=i.contentHooks;null!==h&&Dv(e,h,1),__(e,1)}!function lE(i,e){const t=i.hostBindingOpCodes;if(null===t)return;const n=oE(e,pu);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)yu(~s);else{const o=s,l=t[++r],d=t[++r];UN(l,o),n.dirty=!1;const h=ha(n);try{d(2,e[o])}finally{h_(n,h)}}}}finally{null===e[pu]&&nI(e,pu),yu(-1)}}(i,e);const l=i.components;null!==l&&lc(e,l,0);const d=i.viewQuery;if(null!==d&&rf(2,d,n),o){const h=i.viewCheckHooks;null!==h&&kv(e,h)}else{const h=i.viewHooks;null!==h&&Dv(e,h,2),__(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),e[yn]&=-73,Mv(e)}finally{$1()}}}function pI(i,e){for(let t=lT(i);null!==t;t=cT(t))for(let n=Ur;n<t.length;n++)SE(t[n],e)}function R5(i,e,t){SE(tl(e,i),t)}function SE(i,e){if(!function bD(i){return 128==(128&i[yn])}(i))return;const t=i[ki],n=i[yn];if(80&n&&0===e||1024&n||2===e)mI(t,i,t.template,i[Ds]);else if(i[a_]>0){pI(i,1);const r=t.components;null!==r&&lc(i,r,1)}}function lc(i,e,t){for(let n=0;n<e.length;n++)R5(i,e[n],t)}class af{get rootNodes(){const e=this._lView,t=e[ki];return sf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ds]}set context(e){this._lView[Ds]=e}get destroyed(){return 256==(256&this._lView[yn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ts];if(ua(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Qv(e,n),Pa(t,n))}this._attachedToViewContainer=!1}yC(this._lView[ki],this._lView)}onDestroy(e){!function xD(i,e){if(256==(256&i[yn]))throw new Se(911,!1);null===i[hs]&&(i[hs]=[]),i[hs].push(e)}(this._lView,e)}markForCheck(){Qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[yn]&=-129}reattach(){this._lView[yn]|=128}detectChanges(){Ay(this._lView[ki],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fT(i,e){P_(i,e,e[fn],2,null,null)}(this._lView[ki],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=e}}class kE extends af{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ay(e[ki],e,e[Ds],!1)}checkNoChanges(){}get context(){return null}}class gI extends cp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Jn(e);return new d0(t,this.ngModule)}}function DE(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}class _I{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){n=Ye(n);const r=this.injector.get(e,q_,n);return r!==q_||t===q_?r:this.parentInjector.get(e,t,n)}}class d0 extends VC{get inputs(){const e=this.componentDef,t=e.inputTransforms,n=DE(e.inputs);if(null!==t)for(const r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return DE(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function uN(i){return i.map(dN).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,n,r){let s=(r=r||this.ngModule)instanceof Fa?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new _I(e,s):e,l=o.get(Ou,null);if(null===l)throw new Se(407,!1);const b={rendererFactory:l,sanitizer:o.get(gy,null),effectManager:o.get(c0,null),afterRenderEventManager:o.get(tE,null)},v=l.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",D=n?function _p(i,e,t,n){const s=n.get(r0,!1)||t===fr.ShadowDom,o=i.selectRootElement(e,s);return function wy(i){bp(i)}(o),o}(v,n,this.componentDef.encapsulation,o):Kv(v,E,function Oy(i){const e=i.toLowerCase();return"svg"===e?wl:"math"===e?"math":null}(E)),F=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let H=null;null!==D&&(H=rs(D,o,!0));const j=hE(0,null,null,1,0,null,null,null,null,null,null),Q=gp(null,j,null,F,null,null,b,v,o,null,H);let Tt,Rt;W1(Q);try{const Ct=this.componentDef;let Bt,Vt=null;Ct.findHostDirectiveDefs?(Bt=[],Vt=new Map,Ct.findHostDirectiveDefs(Ct,Bt,Vt),Bt.push(Ct)):Bt=[Ct];const he=function bI(i,e){const t=i[ki],n=Rn;return i[n]=e,Jh(t,n,2,"#host",null)}(Q,D),re=function u0(i,e,t,n,r,s,o){const l=r[ki];!function TE(i,e,t,n){for(const r of i)e.mergedAttrs=Cn(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(yp(e,e.mergedAttrs,!0),null!==t&&ET(n,t,e))}(n,i,e,o);let d=null;null!==e&&(d=rs(e,r[mu]));const h=s.rendererFactory.createRenderer(e,t);let m=16;t.signals?m=4096:t.onPush&&(m=64);const b=gp(r,uE(t),null,m,r[i.index],i,s,h,null,null,d);return l.firstCreatePass&&pE(l,i,n.length-1),Ru(r,b),r[i.index]=b}(he,D,Ct,Bt,Q,b,v);Rt=p_(j,Rn),D&&function IE(i,e,t,n){if(n)hu(i,t,["ng-version",_y.full]);else{const{attrs:r,classes:s}=function hN(i){const e=[],t=[];let n=1,r=2;for(;n<i.length;){let s=i[n];if("string"==typeof s)2===r?""!==s&&e.push(s,i[++n]):8===r&&t.push(s);else{if(!Oa(r))break;r=s}n++}return{attrs:e,classes:t}}(e.selectors[0]);r&&hu(i,t,r),s&&s.length>0&&CT(i,t,s.join(" "))}}(v,Ct,D,n),void 0!==t&&function F5(i,e,t){const n=i.projection=[];for(let r=0;r<e.length;r++){const s=t[r];n.push(null!=s?Array.from(s):null)}}(Rt,this.ngContentSelectors,t),Tt=function L5(i,e,t,n,r,s){const o=vo(),l=r[ki],d=Bo(o,r);mE(l,r,o,t,null,n);for(let m=0;m<t.length;m++)to(Lh(r,l,o.directiveStart+m,o),r);Dl(l,r,o),d&&to(d,r);const h=Lh(r,l,o.directiveStart+o.componentOffset,o);if(i[Ds]=r[Ds]=h,null!==s)for(const m of s)m(h,e);return Hc(l,o,i),h}(re,Ct,Bt,Vt,Q,[h0]),l0(j,Q,null)}finally{$1()}return new P5(this.componentType,Tt,dp(Rt,Q),Q,Rt)}}class P5 extends UT{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new kE(r),this.componentType=e}setInput(e,t){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Iy(s[ki],s,r,e,t),this.previousInputValues.set(e,t),Qh(tl(this._tNode.index,s))}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function h0(){const i=vo();Nm(Ge()[ki],i)}function Ue(i){let e=function vI(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const n=[i];for(;e;){let r;if(ic(i))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Se(903,!1);r=e.\u0275dir}if(r){if(t){n.push(r);const o=i;o.inputs=f0(i.inputs),o.inputTransforms=f0(i.inputTransforms),o.declaredInputs=f0(i.declaredInputs),o.outputs=f0(i.outputs);const l=r.hostBindings;l&&B5(i,l);const d=r.viewQuery,h=r.contentQueries;if(d&&N5(i,d),h&&m0(i,h),bh(i.inputs,r.inputs),bh(i.declaredInputs,r.declaredInputs),bh(i.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),bh(o.inputTransforms,r.inputTransforms)),ic(r)&&r.data.animation){const m=i.data;m.animation=(m.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(i),l===Ue&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ry(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=e+=r.hostVars,r.hostAttrs=Cn(r.hostAttrs,t=Cn(t,r.hostAttrs))}}(n)}function f0(i){return i===On?{}:i===Ri?[]:i}function N5(i,e){const t=i.viewQuery;i.viewQuery=t?(n,r)=>{e(n,r),t(n,r)}:e}function m0(i,e){const t=i.contentQueries;i.contentQueries=t?(n,r,s)=>{e(n,r,s),t(n,r,s)}:e}function B5(i,e){const t=i.hostBindings;i.hostBindings=t?(n,r)=>{e(n,r),t(n,r)}:e}function xI(i){const e=i.inputConfig,t={};for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];Array.isArray(r)&&r[2]&&(t[n]=r[2])}i.inputTransforms=t}function Fy(i){return!!OE(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function OE(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function jc(i,e,t){return i[e]=t}function $o(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function Ed(i,e,t,n){const r=$o(i,e,t);return $o(i,e+1,n)||r}function Ny(i,e,t,n,r){const s=Ed(i,e,t,n);return $o(i,e+2,r)||s}function Ni(i,e,t,n){const r=Ge();return $o(r,Fm(),e)&&(tr(),ac(is(),r,i,e,t,n)),Ni}function Ep(i,e,t,n){return $o(i,Fm(),t)?e+un(t)+n:pn}function It(i,e,t,n,r,s,o,l){const d=Ge(),h=tr(),m=i+Rn,b=h.firstCreatePass?function NI(i,e,t,n,r,s,o,l,d){const h=e.consts,m=Jh(e,i,4,o||null,vu(h,l));ef(e,t,m,vu(h,d)),Nm(e,m);const b=m.tView=hE(2,m,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return null!==e.queries&&(e.queries.template(e,m),b.queries=e.queries.embeddedTView(m)),m}(m,h,d,e,t,n,r,s,o):h.data[m];Oc(b,!1);const v=Fp(h,d,b,i);Sv()&&tp(h,d,v,b),to(v,d),Ru(d,d[m]=_E(v,d,v,b)),cv(b)&&cE(h,d,b),null!=o&&dE(d,b,l)}let Fp=function BI(i,e,t,n){return xu(!0),e[fn].createComment("")};function Yo(i){return Pm(function VN(){return cn.lFrame.contextLView}(),Rn+i)}function Y(i,e,t){const n=Ge();return $o(n,Fm(),e)&&Wo(tr(),is(),n,i,e,n[fn],t,!1),Y}function zE(i,e,t,n,r){const o=r?"class":"style";Iy(i,t,e.inputs[o],o,n)}function O(i,e,t,n){const r=Ge(),s=tr(),o=Rn+i,l=r[fn],d=s.firstCreatePass?function VE(i,e,t,n,r,s){const o=e.consts,d=Jh(e,i,2,n,vu(o,r));return ef(e,t,d,vu(o,s)),null!==d.attrs&&yp(d,d.attrs,!1),null!==d.mergedAttrs&&yp(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}(o,s,r,e,t,n):s.data[o],h=VI(s,r,d,l,e,i);r[o]=h;const m=cv(d);return Oc(d,!0),ET(l,h,d),32!=(32&d.flags)&&Sv()&&tp(s,r,h,d),0===function ON(){return cn.lFrame.elementDepthCount}()&&to(h,r),function RN(){cn.lFrame.elementDepthCount++}(),m&&(cE(s,r,d),Hc(s,d,r)),null!==n&&dE(r,d),O}function L(){let i=vo();z1()?V1():(i=i.parent,Oc(i,!1));const e=i;(function LN(i){return cn.skipHydrationRootTNode===i})(e)&&function zN(){cn.skipHydrationRootTNode=null}(),function PN(){cn.lFrame.elementDepthCount--}();const t=tr();return t.firstCreatePass&&(Nm(t,i),C1(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function Av(i){return 0!=(8&i.flags)}(e)&&zE(t,e,Ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Ov(i){return 0!=(16&i.flags)}(e)&&zE(t,e,Ge(),e.stylesWithoutHost,!1),L}function te(i,e,t,n){return O(i,e,t,n),L(),te}let VI=(i,e,t,n,r,s)=>(xu(!0),Kv(n,r,function RD(){return cn.lFrame.currentNamespace}()));function Zo(i,e,t){const n=Ge(),r=tr(),s=i+Rn,o=r.firstCreatePass?function Q5(i,e,t,n,r){const s=e.consts,o=vu(s,n),l=Jh(e,i,8,"ng-container",o);return null!==o&&yp(l,o,!0),ef(e,t,l,vu(s,r)),null!==e.queries&&e.queries.elementStart(e,l),l}(s,r,n,e,t):r.data[s];Oc(o,!0);const l=HE(r,n,o,i);return n[s]=l,Sv()&&tp(r,n,l,o),to(l,n),cv(o)&&(cE(r,n,o),Hc(r,o,n)),null!=t&&dE(n,o),Zo}function za(){let i=vo();const e=tr();return z1()?V1():(i=i.parent,Oc(i,!1)),e.firstCreatePass&&(Nm(e,i),C1(i)&&e.queries.elementEnd(i)),za}function qo(i,e,t){return Zo(i,e,t),za(),qo}let HE=(i,e,t,n)=>(xu(!0),vC(e[fn],""));function Ai(){return Ge()}function x0(i){return!!i&&"function"==typeof i.then}function HI(i){return!!i&&"function"==typeof i.subscribe}function fe(i,e,t,n){const r=Ge(),s=tr(),o=vo();return UE(s,r,r[fn],o,i,e,n),fe}function df(i,e){const t=vo(),n=Ge(),r=tr();return UE(r,n,xE(G1(r.data),t,n),t,i,e),df}function UE(i,e,t,n,r,s,o){const l=cv(n),h=i.firstCreatePass&&yE(i),m=e[Ds],b=fI(e);let v=!0;if(3&n.type||o){const T=Bo(n,e),P=o?o(T):T,F=b.length,H=o?Q=>o(ar(Q[n.index])):n.index;let j=null;if(!o&&l&&(j=function e8(i,e,t,n){const r=i.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const l=e[Sm],d=r[s+2];return l.length>d?l[d]:null}"string"==typeof o&&(s+=2)}return null}(i,e,r,n.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,v=!1;else{s=GI(n,e,m,s,!1);const Q=t.listen(P,r,s);b.push(s,Q),h&&h.push(r,H,F,F+1)}}else s=GI(n,e,m,s,!1);const E=n.outputs;let D;if(v&&null!==E&&(D=E[r])){const T=D.length;if(T)for(let P=0;P<T;P+=2){const Tt=e[D[P]][D[P+1]].subscribe(s),Rt=b.length;b.push(s,Tt),h&&h.push(r,n.index,Rt,-(Rt+1))}}}function UI(i,e,t,n){try{return Js(6,e,t),!1!==t(n)}catch(r){return wE(i,r),!1}finally{Js(7,e,t)}}function GI(i,e,t,n,r){return function s(o){if(o===Function)return n;Qh(i.componentOffset>-1?tl(i.index,e):e);let d=UI(e,t,n,o),h=s.__ngNextListenerFn__;for(;h;)d=UI(e,t,h,o)&&d,h=h.__ngNextListenerFn__;return r&&!1===d&&o.preventDefault(),d}}function Mt(i=1){return function WN(i){return(cn.lFrame.contextLView=function $N(i,e){for(;i>0;)e=e[Dm],i--;return e}(i,cn.lFrame.contextLView))[Ds]}(i)}function jI(i,e){let t=null;const n=function Us(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(i);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===n?ln(i,s,!0):Ic(n,s))return r}else t=r}return t}function jn(i){const e=Ge()[Ts][Lo];if(!e.projection){const n=e.projection=zh(i?i.length:1,null),r=n.slice();let s=e.child;for(;null!==s;){const o=i?jI(s,i):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Ei(i,e=0,t){const n=Ge(),r=tr(),s=Jh(r,Rn+i,16,null,t||null);null===s.projection&&(s.projection=e),V1(),(!n[tc]||Lm())&&32!=(32&s.flags)&&function xT(i,e,t){wT(e[fn],0,e,t,ty(i,t,e),_T(t.parent||e[Lo],t,e))}(r,n,s)}function Or(i,e,t){return w0(i,"",e,"",t),Or}function w0(i,e,t,n,r){const s=Ge(),o=Ep(s,e,t,n);return o!==pn&&Wo(tr(),is(),s,i,o,s[fn],r,!1),w0}function Wy(i,e){return i<<17|e<<2}function Pu(i){return i>>17&32767}function WE(i){return 2|i}function uf(i){return(131068&i)>>2}function $E(i,e){return-131069&i|e<<2}function YE(i){return 1|i}function tA(i,e,t,n,r){const s=i[t+1],o=null===e;let l=n?Pu(s):uf(s),d=!1;for(;0!==l&&(!1===d||o);){const m=i[l+1];r8(i[l],e)&&(d=!0,i[l+1]=n?YE(m):WE(m)),l=n?Pu(m):uf(m)}d&&(i[t+1]=n?WE(s):YE(s))}function r8(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&pa(i,e)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eA(i){return i.substring(eo.key,eo.keyEnd)}function iA(i){return i.substring(eo.value,eo.valueEnd)}function qE(i,e){const t=eo.textEnd;return t===e?-1:(e=eo.keyEnd=function s8(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}(i,eo.key=e,t),Np(i,e,t))}function rA(i,e){const t=eo.textEnd;let n=eo.key=Np(i,e,t);return t===n?-1:(n=eo.keyEnd=function o8(i,e,t){let n;for(;e<t&&(45===(n=i.charCodeAt(e))||95===n||(-33&n)>=65&&(-33&n)<=90||n>=48&&n<=57);)e++;return e}(i,n,t),n=oA(i,n,t),n=eo.value=Np(i,n,t),n=eo.valueEnd=function aA(i,e,t){let n=-1,r=-1,s=-1,o=e,l=o;for(;o<t;){const d=i.charCodeAt(o++);if(59===d)return l;34===d||39===d?l=o=lA(i,d,o,t):e===o-4&&85===s&&82===r&&76===n&&40===d?l=o=lA(i,41,o,t):d>32&&(l=o),s=r,r=n,n=-33&d}return l}(i,n,t),oA(i,n,t))}function sA(i){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=i.length}function Np(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function oA(i,e,t,n){return(e=Np(i,e,t))<t&&e++,e}function lA(i,e,t,n){let r=-1,s=t;for(;s<n;){const o=i.charCodeAt(s++);if(o==e&&92!==r)return s;r=92==o&&92===r?0:o}throw new Error}function Wr(i,e,t){return dc(i,e,t,!1),Wr}function Vi(i,e){return dc(i,e,null,!0),Vi}function XE(i,e){for(let t=function nA(i){return sA(i),rA(i,Np(i,0,eo.textEnd))}(e);t>=0;t=rA(e,t))tM(i,eA(e),iA(e))}function Yn(i){Va(Fu,Wc,i,!0)}function Wc(i,e){for(let t=function ZE(i){return sA(i),qE(i,Np(i,0,eo.textEnd))}(e);t>=0;t=qE(e,t))il(i,eA(e),!0)}function dc(i,e,t,n){const r=Ge(),s=tr(),o=pd(2);s.firstUpdatePass&&Xo(s,i,o,n),e!==pn&&$o(r,o,e)&&eM(s,s.data[es()],r,r[fn],i,r[o+1]=function dA(i,e){return null==i||""===i||("string"==typeof e?i+=e:"object"==typeof i&&(i=ks(nl(i)))),i}(e,t),n,o)}function Va(i,e,t,n){const r=tr(),s=pd(2);r.firstUpdatePass&&Xo(r,null,s,n);const o=Ge();if(t!==pn&&$o(o,s,t)){const l=r.data[es()];if(uA(l,n)&&!KE(r,s)){let d=n?l.classesWithoutHost:l.stylesWithoutHost;null!==d&&(t=au(d,t||"")),zE(r,l,o,t,n)}else!function cA(i,e,t,n,r,s,o,l){r===pn&&(r=Ri);let d=0,h=0,m=0<r.length?r[0]:null,b=0<s.length?s[0]:null;for(;null!==m||null!==b;){const v=d<r.length?r[d+1]:void 0,E=h<s.length?s[h+1]:void 0;let T,D=null;m===b?(d+=2,h+=2,v!==E&&(D=b,T=E)):null===b||null!==m&&m<b?(d+=2,D=m):(h+=2,D=b,T=E),null!==D&&eM(i,e,t,n,D,T,o,l),m=d<r.length?r[d]:null,b=h<s.length?s[h]:null}}(r,l,o,o[fn],o[s+1],o[s+1]=function JE(i,e,t){if(null==t||""===t)return Ri;const n=[],r=nl(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)i(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&i(n,s,r[s]);else"string"==typeof r&&e(n,r);return n}(i,e,t),n,s)}}function KE(i,e){return e>=i.expandoStartIndex}function Xo(i,e,t,n){const r=i.data;if(null===r[t+1]){const s=r[es()],o=KE(i,t);uA(s,n)&&null===e&&!o&&(e=!1),e=function QE(i,e,t,n){const r=G1(i);let s=n?e.residualClasses:e.residualStyles;if(null===r)0===(n?e.classBindings:e.styleBindings)&&(t=Lu(t=hf(null,i,e,t,n),e.attrs,n),s=null);else{const o=e.directiveStylingLast;if(-1===o||i[o]!==r)if(t=hf(r,i,e,t,n),null===s){let d=function a8(i,e,t){const n=t?e.classBindings:e.styleBindings;if(0!==uf(n))return i[Pu(n)]}(i,e,n);void 0!==d&&Array.isArray(d)&&(d=hf(null,i,e,d[1],n),d=Lu(d,e.attrs,n),function l8(i,e,t,n){i[Pu(t?e.classBindings:e.styleBindings)]=n}(i,e,n,d))}else s=function c8(i,e,t){let n;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)n=Lu(n,i[s].hostAttrs,t);return Lu(n,e.attrs,t)}(i,e,n)}return void 0!==s&&(n?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,n),function n8(i,e,t,n,r,s){let o=s?e.classBindings:e.styleBindings,l=Pu(o),d=uf(o);i[n]=t;let m,h=!1;if(Array.isArray(t)?(m=t[1],(null===m||pa(t,m)>0)&&(h=!0)):m=t,r)if(0!==d){const v=Pu(i[l+1]);i[n+1]=Wy(v,l),0!==v&&(i[v+1]=$E(i[v+1],n)),i[l+1]=function KI(i,e){return 131071&i|e<<17}(i[l+1],n)}else i[n+1]=Wy(l,0),0!==l&&(i[l+1]=$E(i[l+1],n)),l=n;else i[n+1]=Wy(d,0),0===l?l=n:i[d+1]=$E(i[d+1],n),d=n;h&&(i[n+1]=WE(i[n+1])),tA(i,m,n,!0),tA(i,m,n,!1),function JI(i,e,t,n,r){const s=r?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof e&&pa(s,e)>=0&&(t[n+1]=YE(t[n+1]))}(e,m,i,n,s),o=Wy(l,d),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,n)}}function hf(i,e,t,n,r){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=e[l],n=Lu(n,s.hostAttrs,r),s!==i);)l++;return null!==i&&(t.directiveStylingLast=l),n}function Lu(i,e,t){const n=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),il(i,o,!!t||e[++s]))}return void 0===i?null:i}function tM(i,e,t){il(i,e,nl(t))}function Fu(i,e,t){const n=String(e);""!==n&&!n.includes(" ")&&il(i,n,t)}function eM(i,e,t,n,r,s,o,l){if(!(3&e.type))return;const d=i.data,h=d[l+1],m=function Co(i){return 1==(1&i)}(h)?iM(d,e,t,r,uf(h),o):void 0;C0(m)||(C0(s)||function i8(i){return 2==(2&i)}(h)&&(s=iM(d,null,t,r,l,o)),function B4(i,e,t,n,r){if(e)r?i.addClass(t,n):i.removeClass(t,n);else{let s=-1===n.indexOf("-")?void 0:Su.DashCase;null==r?i.removeStyle(t,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Su.Important),i.setStyle(t,n,r,s))}}(n,o,m_(es(),t),r,s))}function iM(i,e,t,n,r,s){const o=null===e;let l;for(;r>0;){const d=i[r],h=Array.isArray(d),m=h?d[1]:d,b=null===m;let v=t[r+1];v===pn&&(v=b?Ri:void 0);let E=b?qm(v,n):m===n?v:void 0;if(h&&!C0(E)&&(E=qm(d,n)),C0(E)&&(l=E,o))return l;const D=i[r+1];r=o?Pu(D):uf(D)}if(null!==e){let d=s?e.residualClasses:e.residualStyles;null!=d&&(l=qm(d,n))}return l}function C0(i){return void 0!==i}function uA(i,e){return 0!=(i.flags&(e?8:16))}function tt(i,e=""){const t=Ge(),n=tr(),r=i+Rn,s=n.firstCreatePass?Jh(n,r,1,e,null):n.data[r],o=hA(n,t,s,e,i);t[r]=o,Sv()&&tp(n,t,o,s),Oc(s,!1)}let hA=(i,e,t,n,r)=>(xu(!0),function I_(i,e){return i.createText(e)}(e[fn],n));function Mi(i){return mi("",i,""),Mi}function mi(i,e,t){const n=Ge(),r=Ep(n,i,e,t);return r!==pn&&Cd(n,es(),r),mi}function Ko(i,e,t,n,r){const s=Ge(),o=function Mp(i,e,t,n,r,s){const l=Ed(i,md(),t,r);return pd(2),l?e+un(t)+n+un(r)+s:pn}(s,i,e,t,n,r);return o!==pn&&Cd(s,es(),o),Ko}function ff(i,e,t,n,r,s,o){const l=Ge(),d=function Sp(i,e,t,n,r,s,o,l){const h=Ny(i,md(),t,r,o);return pd(3),h?e+un(t)+n+un(r)+s+un(o)+l:pn}(l,i,e,t,n,r,s,o);return d!==pn&&Cd(l,es(),d),ff}function $c(i,e,t){const n=Ge();return $o(n,Fm(),e)&&Wo(tr(),is(),n,i,e,n[fn],t,!0),$c}function M0(i,e,t){const n=Ge();if($o(n,Fm(),e)){const s=tr(),o=is();Wo(s,o,n,i,e,xE(G1(s.data),o,n),t,!0)}return M0}const Dd=void 0;var xA=["en",[["a","p"],["AM","PM"],Dd],[["AM","PM"],Dd,Dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dd,"{1} 'at' {0}",Dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function m8(i){const t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Yc={};function Rs(i){const e=function wA(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=pM(e);if(t)return t;const n=e.split("-")[0];if(t=pM(n),t)return t;if("en"===n)return xA;throw new Se(701,!1)}function pM(i){return i in Yc||(Yc[i]=nr.ng&&nr.ng.common&&nr.ng.common.locales&&nr.ng.common.locales[i]),Yc[i]}var lr=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(lr||{});const zp="en-US";let gM=zp;function CM(i,e,t,n,r){if(i=sn(i),Array.isArray(i))for(let s=0;s<i.length;s++)CM(i[s],e,t,n,r);else{const s=tr(),o=Ge(),l=vo();let d=sr(i)?i:sn(i.provide);const h=Ii(i),m=1048575&l.providerIndexes,b=l.directiveStart,v=l.providerIndexes>>20;if(sr(i)||!i.multi){const E=new zm(h,r,U),D=MM(d,e,r?m:m+v,b);-1===D?(Cu(Fv(l,o),s,d),EM(s,i,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(E),o.push(E)):(t[D]=E,o[D]=E)}else{const E=MM(d,e,m+v,b),D=MM(d,e,m,m+v),P=D>=0&&t[D];if(r&&!P||!r&&!(E>=0&&t[E])){Cu(Fv(l,o),s,d);const F=function j8(i,e,t,n,r){const s=new zm(i,t,U);return s.multi=[],s.index=e,s.componentProviders=0,eO(s,r,n&&!t),s}(r?G8:U8,t.length,r,n,h);!r&&P&&(t[D].providerFactory=F),EM(s,i,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(F),o.push(F)}else EM(s,i,E>-1?E:D,eO(t[r?D:E],h,!r&&n));!r&&n&&P&&t[D].componentProviders++}}}function EM(i,e,t,n){const r=sr(e),s=function Ki(i){return!!i.useClass}(e);if(r||s){const d=(s?sn(e.useClass):e).prototype.ngOnDestroy;if(d){const h=i.destroyHooks||(i.destroyHooks=[]);if(!r&&e.multi){const m=h.indexOf(t);-1===m?h.push(t,[n,d]):h[m+1].push(n,d)}else h.push(t,d)}}}function eO(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function MM(i,e,t,n){for(let r=t;r<n;r++)if(e[r]===i)return r;return-1}function U8(i,e,t,n){return SM(this.multi,[])}function G8(i,e,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=Lh(t,t[ki],this.providerFactory.index,n);s=l.slice(0,o),SM(r,s);for(let d=o;d<l.length;d++)s.push(l[d])}else s=[],SM(r,s);return s}function SM(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function vi(i,e=[]){return t=>{t.providersResolver=(n,r)=>function tO(i,e,t){const n=tr();if(n.firstCreatePass){const r=ic(i);CM(t,n.data,n.blueprint,r,!0),CM(e,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,e)}}class bf{}class iO{}class kM extends bf{constructor(e,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gI(this);const r=Qa(e);this._bootstrapComponents=wd(r.bootstrap),this._r3Injector=qT(e,t,[{provide:bf,useValue:this},{provide:cp,useValue:this.componentFactoryResolver},...n],ks(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class DM extends iO{constructor(e){super(),this.moduleType=e}create(e){return new kM(this.moduleType,e,[])}}class nO extends bf{constructor(e){super(),this.componentFactoryResolver=new gI(this),this.instance=null;const t=new OC([...e.providers,{provide:bf,useValue:this},{provide:cp,useValue:this.componentFactoryResolver}],e.parent||Yh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function TM(i,e,t=null){return new nO({providers:i,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Z8=(()=>{class i{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const n=IC(0,t.type),r=n.length>0?TM([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=Fe({token:i,providedIn:"environment",factory:()=>new i(V(Fa))})}return i})();function IM(i){i.getStandaloneInjector=e=>e.get(Z8).getOrCreateStandaloneInjector(i)}function Id(i,e,t){const n=fa()+i,r=Ge();return r[n]===pn?jc(r,n,t?e.call(t):e()):function lf(i,e){return i[e]}(r,n)}function $r(i,e,t,n){return pO(Ge(),fa(),i,e,t,n)}function O0(i,e,t,n,r){return FM(Ge(),fa(),i,e,t,n,r)}function nx(i,e,t,n,r,s){return function R0(i,e,t,n,r,s,o,l){const d=e+t;return Ny(i,d,r,s,o)?jc(i,d+3,l?n.call(l,r,s,o):n(r,s,o)):yf(i,d+3)}(Ge(),fa(),i,e,t,n,r,s)}function uO(i,e,t,n,r,s,o){return function NM(i,e,t,n,r,s,o,l,d){const h=e+t;return function Tl(i,e,t,n,r,s){const o=Ed(i,e,t,n);return Ed(i,e+2,r,s)||o}(i,h,r,s,o,l)?jc(i,h+4,d?n.call(d,r,s,o,l):n(r,s,o,l)):yf(i,h+4)}(Ge(),fa(),i,e,t,n,r,s,o)}function yf(i,e){const t=i[e];return t===pn?void 0:t}function pO(i,e,t,n,r,s){const o=e+t;return $o(i,o,r)?jc(i,o+1,s?n.call(s,r):n(r)):yf(i,o+1)}function FM(i,e,t,n,r,s,o){const l=e+t;return Ed(i,l,r,s)?jc(i,l+2,o?n.call(o,r,s):n(r,s)):yf(i,l+2)}function Yi(i,e){const t=tr();let n;const r=i+Rn;t.firstCreatePass?(n=function zM(i,e){if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];if(i===n.name)return n}}(e,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks??=[]).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=Th(n.type)),l=_o(U);try{const d=Pv(!1),h=s();return Pv(d),function X5(i,e,t,n){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=n}(t,Ge(),r,h),h}finally{_o(l)}}function bn(i,e,t){const n=i+Rn,r=Ge(),s=Pm(r,n);return P0(r,n)?pO(r,fa(),e,s.transform,t,s):s.transform(t)}function Al(i,e,t,n){const r=i+Rn,s=Ge(),o=Pm(s,r);return P0(s,r)?FM(s,fa(),e,o.transform,t,n,o):o.transform(t,n)}function P0(i,e){return i[ki].data[e].pure}function n6(){return this._results[Symbol.iterator]()}class zu{static#t=Symbol.iterator;get changes(){return this._changes||(this._changes=new qe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=zu.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=n6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=function el(i){return i.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function r4(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],s=e[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Yr(i,e,t,n=!0){const r=e[ki];if(function O4(i,e,t,n){const r=Ur+n,s=t.length;n>0&&(t[r-1][Ql]=e),n<s-Ur?(e[Ql]=t[r],w_(t,Ur+n,e)):(t.push(e),e[Ql]=null),e[ts]=t;const o=e[Mh];null!==o&&t!==o&&function mT(i,e){const t=i[ec];e[Ts]!==e[ts][ts][Ts]&&(i[dd]=!0),null===t?i[ec]=[e]:t.push(e)}(o,e);const l=e[Jl];null!==l&&l.insertView(i),e[yn]|=128}(r,e,i,t),n){const s=ny(t,i),o=e[fn],l=iy(o,i[Fo]);null!==l&&function hT(i,e,t,n,r,s){n[xs]=r,n[Lo]=e,P_(i,n,t,1,r,s)}(r,i[Lo],o,e,l,s)}}let ss=(()=>{class i{static#t=this.__NG_ELEMENT_ID__=_O}return i})();const gO=ss,o6=class extends gO{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,n){const r=function r6(i,e,t,n){const r=e.tView,l=gp(i,r,t,4096&i[yn]?4096:16,null,e,null,null,null,n?.injector??null,n?.hydrationInfo??null);l[Mh]=i[e.index];const h=i[Jl];return null!==h&&(l[Jl]=h.createEmbeddedView(r)),l0(r,l,t),l}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:n});return new af(r)}};function _O(){return sx(vo(),Ge())}function sx(i,e){return 4&i.type?new o6(e,i,dp(i,e)):null}let Zr=(()=>{class i{static#t=this.__NG_ELEMENT_ID__=xO}return i})();function xO(){return CO(vo(),Ge())}const d6=Zr,GM=class extends d6{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return dp(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const e=v_(this._hostTNode,this._hostLView);if(Rv(e)){const t=b_(e,this._hostLView),n=Vm(e);return new yo(t[ki].data[n+8],t)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ur}createEmbeddedView(e,t,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const l=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(l,r,false),l}createComponent(e,t,n,r,s){const o=e&&!function Ym(i){return"function"==typeof i}(e);let l;if(o)l=t;else{const T=t||{};l=T.index,n=T.injector,r=T.projectableNodes,s=T.environmentInjector||T.ngModuleRef}const d=o?e:new d0(Jn(e)),h=n||this.parentInjector;if(!s&&null==d.ngModule){const P=(o?h:this.parentInjector).get(Fa,null);P&&(s=P)}Jn(d.componentType??{});const E=d.create(h,r,null,s);return this.insertImpl(E.hostView,l,false),E}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,n){const r=e._lView;if(function vD(i){return ua(i[ts])}(r)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const h=r[ts],m=new GM(h,h[Lo],h[ts]);m.detach(m.indexOf(e))}}const o=this._adjustIndex(t),l=this._lContainer;return Yr(l,r,o,!n),e.attachToViewContainerRef(),w_(ax(l),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Qv(this._lContainer,t);n&&(Pa(ax(this._lContainer),t),yC(n[ki],n))}detach(e){const t=this._adjustIndex(e,-1),n=Qv(this._lContainer,t);return n&&null!=Pa(ax(this._lContainer),t)?new af(n):null}_adjustIndex(e,t=0){return e??this.length+t}};function wO(i){return i[8]}function ax(i){return i[8]||(i[8]=[])}function CO(i,e){let t;const n=e[i.index];return ua(n)?t=n:(t=_E(n,e,null,i),e[i.index]=t,Ru(e,t)),MO(t,e,i,n),new GM(t,i,e)}let MO=function jM(i,e,t,n){if(i[Fo])return;let r;r=8&t.type?ar(n):function EO(i,e){const t=i[fn],n=t.createComment(""),r=Bo(e,i);return Uh(t,iy(t,r),n,function F4(i,e){return i.nextSibling(e)}(t,r),!1),n}(e,t),i[Fo]=r};class WM{constructor(e){this.queryList=e,this.matches=null}clone(){return new WM(this.queryList)}setDirty(){this.queryList.setDirty()}}class lx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new lx(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==RO(e,t).matches&&this.queries[t].setDirty()}}class kO{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class cx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new cx(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class dx{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new dx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,h6(t,s)),this.matchTNodeWithReadOption(e,t,Um(t,e,s,!1,!1))}else n===ss?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Um(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ai||r===Zr||r===ss&&4&t.type)this.addMatch(t.index,-2);else{const s=Um(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function h6(i,e){const t=i.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1];return null}function f6(i,e,t,n){return-1===t?function DO(i,e){return 11&i.type?dp(i,e):4&i.type?sx(i,e):null}(e,i):-2===t?function TO(i,e,t){return t===ai?dp(e,i):t===ss?sx(e,i):t===Zr?CO(e,i):void 0}(i,e,n):Lh(i,i[ki],t,e)}function IO(i,e,t,n){const r=e[Jl].queries[n];if(null===r.matches){const s=i.data,o=t.matches,l=[];for(let d=0;d<o.length;d+=2){const h=o[d];l.push(h<0?null:f6(e,s[h],o[d+1],t.metadata.read))}r.matches=l}return r.matches}function ux(i,e,t,n){const r=i.queries.getByIndex(t),s=r.matches;if(null!==s){const o=IO(i,e,r,t);for(let l=0;l<s.length;l+=2){const d=s[l];if(d>0)n.push(o[l/2]);else{const h=s[l+1],m=e[-d];for(let b=Ur;b<m.length;b++){const v=m[b];v[Mh]===v[ts]&&ux(v[ki],v,h,n)}if(null!==m[ec]){const b=m[ec];for(let v=0;v<b.length;v++){const E=b[v];ux(E[ki],E,h,n)}}}}}return n}function Ze(i){const e=Ge(),t=tr(),n=kD();j1(n+1);const r=RO(t,n);if(i.dirty&&function _D(i){return 4==(4&i[yn])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const s=r.crossesNgTemplate?ux(t,e,n,[]):IO(t,e,r,n);i.reset(s,my),i.notifyOnChanges()}return!0}return!1}function Pi(i,e,t){const n=tr();n.firstCreatePass&&(AO(n,new kO(i,e,t),-1),2==(2&e)&&(n.staticViewQueries=!0)),$M(n,Ge(),e)}function En(i,e,t,n){const r=tr();if(r.firstCreatePass){const s=vo();AO(r,new kO(e,t,n),s.index),function OO(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(r,i),2==(2&t)&&(r.staticContentQueries=!0)}$M(r,Ge(),t)}function We(){return function m6(i,e){return i[Jl].queries[e].queryList}(Ge(),kD())}function $M(i,e,t){const n=new zu(4==(4&t));(function E5(i,e,t,n){const r=fI(e);r.push(t),i.firstCreatePass&&yE(i).push(n,r.length-1)})(i,e,n,n.destroy),null===e[Jl]&&(e[Jl]=new lx),e[Jl].queries.push(new WM(n))}function AO(i,e,t){null===i.queries&&(i.queries=new cx),i.queries.track(new dx(e,t))}function RO(i,e){return i.queries.getByIndex(e)}function xf(i,e){return sx(i,e)}const $p=new xe("Application Initializer");let JM=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=wt($p,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(x0(s))t.push(s);else if(HI(s)){const o=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});t.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$O=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Ol=new xe("LocaleId",{providedIn:"root",factory:()=>wt(Ol,wn.Optional|wn.SkipSelf)||function _x(){return typeof $localize<"u"&&$localize.locale||zp}()});let N0=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ti(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class S6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let qO=(()=>{class i{compileModuleSync(t){return new DM(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=wd(Qa(t).declarations).reduce((o,l)=>{const d=Jn(l);return d&&o.push(new d0(d)),o},[]);return new S6(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const aS=new xe(""),wa=new xe("");let vx,Ua=(()=>{class i{constructor(t,n,r){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vx||(function z6(i){vx=i}(r),r.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,r){return[]}static#t=this.\u0275fac=function(n){return new(n||i)(V(fi),V(z0),V(wa))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),z0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return vx?.findTestabilityInTree(this,t,n)??null}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),ju=null;const nR=new xe("AllowMultipleToken"),qc=new xe("PlatformDestroyListeners"),Yp=new xe("appBootstrapListener");class cS{constructor(e,t){this.name=e,this.token=t}}function dS(i,e,t=[]){const n=`Platform: ${e}`,r=new xe(n);return(s=[])=>{let o=uS();if(!o||o.injector.get(nR,!1)){const l=[...t,...s,{provide:r,useValue:!0}];i?i(l):function H6(i){if(ju&&!ju.get(nR,!1))throw new Se(400,!1);(function lS(){!function Oh(i){Tm=i}(()=>{throw new Se(600,!1)})})(),ju=i;const e=i.get(xx);(function sR(i){i.get(H_,null)?.forEach(t=>t())})(i)}(function V0(i=[],e){return jr.create({name:e,providers:[{provide:Un,useValue:"platform"},{provide:qc,useValue:new Set([()=>ju=null])},...i]})}(l,n))}return function U6(i){const e=uS();if(!e)throw new Se(401,!1);return e}()}}function uS(){return ju?.get(xx)??null}let xx=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const r=function hS(i="zone.js",e){return"noop"===i?new XC:"zone.js"===i?new fi(e):i}(n?.ngZone,function aR(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Y8(i,e,t){return new kM(i,e,t)}(t.moduleType,this.injector,function uR(i){return[{provide:fi,useFactory:i},{provide:rp,multi:!0,useFactory:()=>{const e=wt(G6,{optional:!0});return()=>e.initialize()}},{provide:cR,useFactory:dR},{provide:KC,useFactory:QC}]}(()=>r)),o=s.injector.get(sl,null);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:d=>{o.handleError(d)}});s.onDestroy(()=>{Cx(this._modules,s),l.unsubscribe()})}),function lR(i,e,t){try{const n=t();return x0(n)?n.catch(r=>{throw e.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}(o,r,()=>{const l=s.injector.get(JM);return l.runInitializers(),l.donePromise.then(()=>(function Qy(i){Ro(i,"Expected localeId to be defined"),"string"==typeof i&&(gM=i.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ol,zp)||zp),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,n=[]){const r=wx({},n);return function yx(i,e,t){const n=new DM(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const n=t.injector.get(Od);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Se(-403,!1);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(qc,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#t=this.\u0275fac=function(n){return new(n||i)(V(jr))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function wx(i,e){return Array.isArray(e)?e.reduce(wx,i):{...i,...e}}let Od=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(cR),this.zoneIsStable=wt(KC),this.componentTypes=[],this.components=[],this.isStable=wt(N0).hasPendingTasks.pipe(Hn(t=>t?je(!1):this.zoneIsStable),_h(),Tc()),this._injector=wt(Fa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){const r=t instanceof VC;if(!this._injector.get(JM).done)throw!r&&function Mm(i){const e=Jn(i)||bo(i)||da(i);return null!==e&&e.standalone}(t),new Se(405,!1);let o;o=r?t:this._injector.get(cp).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const l=function V6(i){return i.isBoundToModule}(o)?void 0:this._injector.get(bf),h=o.create(jr.NULL,[],n||o.selector,l),m=h.location.nativeElement,b=h.injector.get(aS,null);return b?.registerApplication(m),h.onDestroy(()=>{this.detachView(h.hostView),Cx(this.components,h),b?.unregisterApplication(m)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;Cx(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(Yp,[]);n.push(...this._bootstrapListeners),n.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cx(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Se(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Cx(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const cR=new xe("",{providedIn:"root",factory:()=>wt(sl).handleError.bind(void 0)});function dR(){const i=wt(fi),e=wt(sl);return t=>i.runOutsideAngular(()=>e.handleError(t))}let G6=(()=>{class i{constructor(){this.zone=wt(fi),this.applicationRef=wt(Od)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();let Sn=(()=>{class i{static#t=this.__NG_ELEMENT_ID__=Y6}return i})();function Y6(i){return function Z6(i,e,t){if(Dh(i)&&!t){const n=tl(i.index,e);return new af(n,n)}return 47&i.type?new af(e[Ts],e):null}(vo(),Ge(),16==(16&i))}class gR{constructor(){}supports(e){return Fy(e)}create(e){return new _R(e)}}const eB=(i,e)=>e;class _R{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eB}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<vR(n,r,s)?t:n,l=vR(o,r,s),d=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const h=l-r,m=d-r;if(h!=m){for(let v=0;v<h;v++){const E=v<s.length?s[v]:s[v]=0,D=E+v;m<=D&&D<h&&(s[v]=E+1)}s[o.previousIndex]=m-h}}l!==d&&e(o,l,d)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Fy(e))throw new Se(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)s=e[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),n=!0),t=t._next}else r=0,function AE(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[Symbol.iterator]();let n;for(;!(n=t.next()).done;)e(n.value)}}(e,l=>{o=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,l,o,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new iB(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new bR),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class iB{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class bR{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new nB,this.map.set(t,n)),n.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vR(i,e,t){const n=i.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+e+r}class yR{constructor(){}supports(e){return e instanceof Map||OE(e)}create(){return new rB}}class rB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||OE(e)))throw new Se(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new sB(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class sB{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function H0(){return new Rl([new gR])}let Rl=(()=>{class i{static#t=this.\u0275prov=Fe({token:i,providedIn:"root",factory:H0});constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||H0()),deps:[[i,new Vh,new La]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new Se(901,!1)}}return i})();function U0(){return new Xp([new yR])}let Xp=(()=>{class i{static#t=this.\u0275prov=Fe({token:i,providedIn:"root",factory:U0});constructor(t){this.factories=t}static create(t,n){if(n){const r=n.factories.slice();t=t.concat(r)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||U0()),deps:[[i,new Vh,new La]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(n)return n;throw new Se(901,!1)}}return i})();const xR=dS(null,"core",[]);let oB=(()=>{class i{constructor(t){}static#t=this.\u0275fac=function(n){return new(n||i)(V(Od))};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();function $t(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}let hi=null;function Si(){return hi}class br{}const li=new xe("DocumentToken");let mr=(()=>{class i{historyGo(t){throw new Error("Not implemented")}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(){return wt(dr)},providedIn:"platform"})}return i})();const $s=new xe("Location Initialized");let dr=(()=>{class i extends mr{constructor(){super(),this._doc=wt(li),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Si().getBaseHref(this._doc)}onPopState(t){const n=Si().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=Si().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,r){this._history.pushState(t,n,r)}replaceState(t,n,r){this._history.replaceState(t,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(){return new i},providedIn:"platform"})}return i})();function Ys(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function xi(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function Qi(i){return i&&"?"!==i[0]?"?"+i:i}let kn=(()=>{class i{historyGo(t){throw new Error("Not implemented")}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(){return wt(ps)},providedIn:"root"})}return i})();const ei=new xe("appBaseHref");let ps=(()=>{class i extends kn{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??wt(li).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ys(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+Qi(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+Qi(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+Qi(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||i)(V(mr),V(ei,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Er=(()=>{class i extends kn{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=Ys(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+Qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+Qi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||i)(V(mr),V(ei,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),ws=(()=>{class i{constructor(t){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function j0(i){if(new RegExp("^(https?:)?//").test(i)){const[,t]=i.split(/\/\/[^\/]+/);return t}return i}(xi(gs(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+Qi(n))}normalize(t){return i.stripTrailingSlash(function vn(i,e){if(!i||!e.startsWith(i))return e;const t=e.substring(i.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,gs(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._locationStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qi(n)),r)}replaceState(t,n="",r=null){this._locationStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qi(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}static#t=this.normalizeQueryParams=Qi;static#e=this.joinWithSlash=Ys;static#i=this.stripTrailingSlash=xi;static#n=this.\u0275fac=function(n){return new(n||i)(V(kn))};static#r=this.\u0275prov=Fe({token:i,factory:function(){return function Ca(){return new ws(V(kn))}()},providedIn:"root"})}return i})();function gs(i){return i.replace(/\/index.html$/,"")}var CR=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(CR||{}),io=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(io||{});function Xc(i,e){const t=Rs(i),n=t[lr.NumberSymbols][e];if(typeof n>"u"){if(e===io.CurrencyDecimal)return t[lr.NumberSymbols][io.Decimal];if(e===io.CurrencyGroup)return t[lr.NumberSymbols][io.Group]}return n}const mrt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gB(i){const e=parseInt(i);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+i);return e}function $G(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const bB=/\s+/,YG=[];let Af=(()=>{class i{constructor(t,n,r,s){this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this.initialClasses=YG,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(bB):YG}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(bB):t}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const n of t)this._updateState(n,!0);else if(null!=t)for(const n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const n=t[0],r=t[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(t,n){(t=t.trim()).length>0&&t.split(bB).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Rl),U(Xp),U(ai),U(Uo))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();class Srt{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ps=(()=>{class i{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Srt(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const l=n.get(s);n.move(l,o),qG(l,r)}});for(let r=0,s=n.length;r<s;r++){const l=n.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{qG(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ss),U(Rl))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return i})();function qG(i,e){i.context.$implicit=e.item}let on=(()=>{class i{constructor(t,n){this._viewContainer=t,this._context=new krt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XG("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XG("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ss))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return i})();class krt{constructor(){this.$implicit=null,this.ngIf=null}}function XG(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${ks(e)}'.`)}class vB{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let CS=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const n=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const n of this._defaultViews)n.enforceState(t)}}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return i})(),yB=(()=>{class i{constructor(t,n,r){this.ngSwitch=r,r._addCase(),this._view=new vB(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ss),U(CS,9))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return i})(),KG=(()=>{class i{constructor(t,n,r){r._addDefault(new vB(t,n))}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ss),U(CS,9))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return i})(),xB=(()=>{class i{constructor(t,n,r){this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:Su.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Xp),U(Uo))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return i})(),ES=(()=>{class i{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=n.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[zn]})}return i})();let W0=(()=>{class i{constructor(t){this._locale=t}transform(t,n,r){if(!function wB(i){return!(null==i||""===i||i!=i)}(t))return null;r=r||this._locale;try{return function yrt(i,e,t){return function mB(i,e,t,n,r,s,o=!1){let l="",d=!1;if(isFinite(i)){let h=function wrt(i){let n,r,s,o,l,e=Math.abs(i)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(l=e.length))n=[0],r=1;else{for(l--;"0"===e.charAt(l);)l--;for(r-=s,n=[],o=0;s<=l;s++,o++)n[o]=Number(e.charAt(s))}return r>22&&(n=n.splice(0,21),t=r-1,r=1),{digits:n,exponent:t,integerLen:r}}(i);o&&(h=function xrt(i){if(0===i.digits[0])return i;const e=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===e?i.digits.push(0,0):1===e&&i.digits.push(0),i.integerLen+=2),i}(h));let m=e.minInt,b=e.minFrac,v=e.maxFrac;if(s){const H=s.match(mrt);if(null===H)throw new Error(`${s} is not a valid digit info`);const j=H[1],Q=H[3],Tt=H[5];null!=j&&(m=gB(j)),null!=Q&&(b=gB(Q)),null!=Tt?v=gB(Tt):null!=Q&&b>v&&(v=b)}!function Crt(i,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let n=i.digits,r=n.length-i.integerLen;const s=Math.min(Math.max(e,r),t);let o=s+i.integerLen,l=n[o];if(o>0){n.splice(Math.max(i.integerLen,o));for(let b=o;b<n.length;b++)n[b]=0}else{r=Math.max(0,r),i.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let b=1;b<o;b++)n[b]=0}if(l>=5)if(o-1<0){for(let b=0;b>o;b--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let d=0!==s;const h=e+i.integerLen,m=n.reduceRight(function(b,v,E,D){return D[E]=(v+=b)<10?v:v-10,d&&(0===D[E]&&E>=h?D.pop():d=!1),v>=10?1:0},0);m&&(n.unshift(m),i.integerLen++)}(h,b,v);let E=h.digits,D=h.integerLen;const T=h.exponent;let P=[];for(d=E.every(H=>!H);D<m;D++)E.unshift(0);for(;D<0;D++)E.unshift(0);D>0?P=E.splice(D,E.length):(P=E,E=[0]);const F=[];for(E.length>=e.lgSize&&F.unshift(E.splice(-e.lgSize,E.length).join(""));E.length>e.gSize;)F.unshift(E.splice(-e.gSize,E.length).join(""));E.length&&F.unshift(E.join("")),l=F.join(Xc(t,n)),P.length&&(l+=Xc(t,r)+P.join("")),T&&(l+=Xc(t,io.Exponential)+"+"+T)}else l=Xc(t,io.Infinity);return l=i<0&&!d?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf,l}(i,function pB(i,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(";"),r=n[0],s=n[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=o[0],d=o[1]||"";t.posPre=l.substring(0,l.indexOf("#"));for(let m=0;m<d.length;m++){const b=d.charAt(m);"0"===b?t.minFrac=t.maxFrac=m+1:"#"===b?t.maxFrac=m+1:t.posSuf+=b}const h=l.split(",");if(t.gSize=h[1]?h[1].length:0,t.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,s){const m=r.length-t.posPre.length-t.posSuf.length,b=s.indexOf("#");t.negPre=s.substring(0,b).replace(/'/g,""),t.negSuf=s.slice(b+m).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function cB(i,e){return Rs(i)[lr.NumberFormats][e]}(e,CR.Decimal),Xc(e,io.MinusSign)),e,io.Group,io.Decimal,t)}(function CB(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(t),r,n)}catch(s){throw function Ld(i,e){return new Se(2100,!1)}()}}static#t=this.\u0275fac=function(n){return new(n||i)(U(Ol,16))};static#e=this.\u0275pipe=ca({name:"number",type:i,pure:!0,standalone:!0})}return i})();let _s=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();const tj="browser";function ej(i){return i===tj}function ij(i){return"server"===i}let Jrt=(()=>{class i{static#t=this.\u0275prov=Fe({token:i,providedIn:"root",factory:()=>new tst(V(li),window)})}return i})();class tst{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function est(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class nj{}class Est extends br{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class SB extends Est{static makeCurrent(){!function $i(i){hi||(hi=i)}(new SB)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Mst(){return SS=SS||document.querySelector("base"),SS?SS.getAttribute("href"):null}();return null==t?null:function Sst(i){LR=LR||document.createElement("a"),LR.setAttribute("href",i);const e=LR.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){SS=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $G(document.cookie,e)}}let LR,SS=null,Dst=(()=>{class i{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();const kB=new xe("EventManagerPlugins");let lj=(()=>{class i{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(s=>s.supports(t)),!n)throw new Se(5101,!1);return this._eventNameToPlugin.set(t,n),n}static#t=this.\u0275fac=function(n){return new(n||i)(V(kB),V(fi))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();class cj{constructor(e){this._doc=e}}const DB="ng-app-id";let dj=(()=>{class i{constructor(t,n,r,s={}){this.doc=t,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ij(s),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(r=>r.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${DB}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(t,n){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=n,s.usage}return r.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===t)return r.delete(n),s.removeAttribute(DB),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(DB,this.appId),o}}addStyleToHost(t,n){const r=this.getStyleElement(t,n);t.appendChild(r);const s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(op),V(uy,8),V(Fc))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();const TB={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},IB=/%COMP%/g,Ost=new xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function hj(i,e){return e.map(t=>t.replace(IB,i))}let AB=(()=>{class i{constructor(t,n,r,s,o,l,d,h=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=l,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=ij(l),this.defaultRenderer=new OB(t,o,d,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===fr.ShadowDom&&(n={...n,encapsulation:fr.Emulated});const r=this.getOrCreateRenderer(t,n);return r instanceof mj?r.applyToHost(t):r instanceof RB&&r.applyStyles(),r}getOrCreateRenderer(t,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,l=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(n.encapsulation){case fr.Emulated:s=new mj(d,h,n,this.appId,m,o,l,b);break;case fr.ShadowDom:return new Fst(d,h,t,n,o,l,this.nonce,b);default:s=new RB(d,h,n,m,o,l,b)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(n){return new(n||i)(V(lj),V(dj),V(op),V(Ost),V(li),V(Fc),V(fi),V(uy))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();class OB{constructor(e,t,n,r){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(TB[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fj(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(fj(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new Se(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=TB[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=TB[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(Su.DashCase|Su.Important)?e.style.setProperty(t,n,r&Su.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Su.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){if("string"==typeof e&&!(e=Si().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function fj(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class Fst extends OB{constructor(e,t,n,r,s,o,l,d){super(e,s,o,d),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=hj(r.id,r.styles);for(const m of h){const b=document.createElement("style");l&&b.setAttribute("nonce",l),b.textContent=m,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class RB extends OB{constructor(e,t,n,r,s,o,l,d){super(e,s,o,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=d?hj(d,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mj extends RB{constructor(e,t,n,r,s,o,l,d){const h=r+"-"+n.id;super(e,t,n,s,o,l,d,h),this.contentAttr=function Rst(i){return"_ngcontent-%COMP%".replace(IB,i)}(h),this.hostAttr=function Pst(i){return"_nghost-%COMP%".replace(IB,i)}(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}let Nst=(()=>{class i extends cj{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}static#t=this.\u0275fac=function(n){return new(n||i)(V(li))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();const pj=["alt","control","meta","shift"],Bst={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zst={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Vst=(()=>{class i extends cj{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,n,r){const s=i.parseEventName(n),o=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Si().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=i._normalizeKey(n.pop());let o="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),o="code."),pj.forEach(h=>{const m=n.indexOf(h);m>-1&&(n.splice(m,1),o+=h+".")}),o+=s,0!=n.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=o,d}static matchEventFullKeyCode(t,n){let r=Bst[t.key]||t.key,s="";return n.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pj.forEach(o=>{o!==r&&(0,zst[o])(t)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(t,n,r){return s=>{i.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#t=this.\u0275fac=function(n){return new(n||i)(V(li))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();const _j=[{provide:Fc,useValue:tj},{provide:H_,useValue:function Hst(){SB.makeCurrent()},multi:!0},{provide:li,useFactory:function Gst(){return function wC(i){xC=i}(document),document},deps:[]}],jst=dS(xR,"browser",_j),Wst=new xe(""),bj=[{provide:wa,useClass:class kst{addToWindow(e){nr.getAngularTestability=(n,r=!0)=>{const s=e.findTestabilityInTree(n,r);if(null==s)throw new Se(5103,!1);return s},nr.getAllAngularTestabilities=()=>e.getAllTestabilities(),nr.getAllAngularRootElements=()=>e.getAllRootElements(),nr.frameworkStabilizers||(nr.frameworkStabilizers=[]),nr.frameworkStabilizers.push(n=>{const r=nr.getAllAngularTestabilities();let s=r.length,o=!1;const l=function(d){o=o||d,s--,0==s&&n(o)};r.forEach(d=>{d.whenStable(l)})})}findTestabilityInTree(e,t,n){return null==t?null:e.getTestability(t)??(n?Si().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:aS,useClass:Ua,deps:[fi,z0,wa]},{provide:Ua,useClass:Ua,deps:[fi,z0,wa]}],vj=[{provide:Un,useValue:"root"},{provide:sl,useFactory:function Ust(){return new sl},deps:[]},{provide:kB,useClass:Nst,multi:!0,deps:[li,fi,Fc]},{provide:kB,useClass:Vst,multi:!0,deps:[li]},AB,dj,lj,{provide:Ou,useExisting:AB},{provide:nj,useClass:Dst,deps:[]},[]];let yj=(()=>{class i{constructor(t){}static withServerTransition(t){return{ngModule:i,providers:[{provide:op,useValue:t.appId}]}}static#t=this.\u0275fac=function(n){return new(n||i)(V(Wst,12))};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[...vj,...bj],imports:[_s,oB]})}return i})(),xj=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#t=this.\u0275fac=function(n){return new(n||i)(V(li))};static#e=this.\u0275prov=Fe({token:i,factory:function(n){let r=null;return r=n?new n:function Yst(){return new xj(V(li))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let FR=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(n){let r=null;return r=n?new(n||i):V(Ej),r},providedIn:"root"})}return i})(),Ej=(()=>{class i extends FR{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case js.NONE:return n;case js.HTML:return Lc(n,"HTML")?nl(n):PT(this._doc,String(n)).toString();case js.STYLE:return Lc(n,"Style")?nl(n):n;case js.SCRIPT:if(Lc(n,"Script"))return nl(n);throw new Se(5200,!1);case js.URL:return Lc(n,"URL")?nl(n):uo(String(n));case js.RESOURCE_URL:if(Lc(n,"ResourceURL"))return nl(n);throw new Se(5201,!1);default:throw new Se(5202,!1)}}bypassSecurityTrustHtml(t){return function Z4(i){return new G4(i)}(t)}bypassSecurityTrustStyle(t){return function q4(i){return new j4(i)}(t)}bypassSecurityTrustScript(t){return function X4(i){return new W4(i)}(t)}bypassSecurityTrustUrl(t){return function K4(i){return new _a(i)}(t)}bypassSecurityTrustResourceUrl(t){return function Q4(i){return new $4(i)}(t)}static#t=this.\u0275fac=function(n){return new(n||i)(V(li))};static#e=this.\u0275prov=Fe({token:i,factory:function(n){let r=null;return r=n?new n:function Kst(i){return new Ej(i.get(li))}(V(jr)),r},providedIn:"root"})}return i})();class Qst extends B{constructor(e,t){super()}schedule(e,t=0){return this}}class NR extends Qst{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,n=!1;try{this.work(e)}catch(s){n=!0,r=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Sj=(()=>{class i{constructor(t,n=i.now){this.SchedulerAction=t,this.now=n}schedule(t,n=0,r){return new this.SchedulerAction(this,t).schedule(r,n)}}return i.now=()=>Date.now(),i})();class Fd extends Sj{constructor(e,t=Sj.now){super(e,()=>Fd.delegate&&Fd.delegate!==this?Fd.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Fd.delegate&&Fd.delegate!==this?Fd.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const eot=new class tot extends Fd{}(class Jst extends NR{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),Of=new Xt(i=>i.complete());function BR(i){return i?function iot(i){return new Xt(e=>i.schedule(()=>e.complete()))}(i):Of}function Rf(i,e){return new Xt(e?t=>e.schedule(not,0,{error:i,subscriber:t}):t=>t.error(i))}function not({error:i,subscriber:e}){e.error(i)}class Pl{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return je(this.value);case"E":return Rf(this.error);case"C":return BR()}throw new Error("unexpected notification kind value")}static createNext(e){return typeof e<"u"?new Pl("N",e):Pl.undefinedValueNotification}static createError(e){return new Pl("E",void 0,e)}static createComplete(){return Pl.completeNotification}}Pl.completeNotification=new Pl("C"),Pl.undefinedValueNotification=new Pl("N",void 0);class zR extends et{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(zR.dispatch,this.delay,new oot(e,this.destination)))}_next(e){this.scheduleMessage(Pl.createNext(e))}_error(e){this.scheduleMessage(Pl.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Pl.createComplete()),this.unsubscribe()}}class oot{constructor(e,t){this.notification=e,this.destination=t}}class VR extends Nt{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new aot(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;let o;if(this.closed)throw new Ft;if(this.isStopped||this.hasError?o=B.EMPTY:(this.observers.push(e),o=new ge(this,e)),r&&e.add(e=new zR(e,r)),t)for(let l=0;l<s&&!e.closed;l++)e.next(n[l]);else for(let l=0;l<s&&!e.closed;l++)e.next(n[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||eot).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,s=r.length;let o=0;for(;o<s&&!(e-r[o].time<n);)o++;return s>t&&(o=Math.max(o,s-t)),o>0&&r.splice(0,o),r}}class aot{constructor(e,t){this.time=e,this.value=t}}const kj={};function Pf(...i){let e=null,t=null;return St(i[i.length-1])&&(t=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&At(i[0])&&(i=i[0]),oi(i,t).lift(new lot(e))}class lot{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new cot(e,this.resultSelector))}}class cot extends Xn{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(kj),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const r=e[n];this.add(dn(this,r,r,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,s){const o=this.values,d=this.toRespond?o[n]===kj?--this.toRespond:this.toRespond:0;o[n]=t,0===d&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Qp(i,e,t,n){return ht(t)&&(n=t,t=void 0),n?Qp(i,e,t).pipe(Ae(r=>At(r)?n(...r):n(r))):new Xt(r=>{Dj(i,e,function s(o){r.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},r,t)})}function Dj(i,e,t,n,r){let s;if(function hot(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const o=i;i.addEventListener(e,t,r),s=()=>o.removeEventListener(e,t,r)}else if(function uot(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const o=i;i.on(e,t),s=()=>o.off(e,t)}else if(function dot(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const o=i;i.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let o=0,l=i.length;o<l;o++)Dj(i[o],e,t,n,r)}n.add(s)}const HR=new Fd(NR);function Dx(i,e=HR){return t=>t.lift(new fot(i,e))}class fot{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new mot(e,this.dueTime,this.scheduler))}}class mot extends et{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(pot,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function pot(i){i.debouncedNext()}const got=["*"];var Xr=function(i){return i.AnnotationChart="AnnotationChart",i.AreaChart="AreaChart",i.Bar="Bar",i.BarChart="BarChart",i.BubbleChart="BubbleChart",i.Calendar="Calendar",i.CandlestickChart="CandlestickChart",i.ColumnChart="ColumnChart",i.ComboChart="ComboChart",i.PieChart="PieChart",i.Gantt="Gantt",i.Gauge="Gauge",i.GeoChart="GeoChart",i.Histogram="Histogram",i.Line="Line",i.LineChart="LineChart",i.Map="Map",i.OrgChart="OrgChart",i.Sankey="Sankey",i.Scatter="Scatter",i.ScatterChart="ScatterChart",i.SteppedAreaChart="SteppedAreaChart",i.Table="Table",i.Timeline="Timeline",i.TreeMap="TreeMap",i.WordTree="WordTree",i}(Xr||{});const _ot={[Xr.AnnotationChart]:"annotationchart",[Xr.AreaChart]:"corechart",[Xr.Bar]:"bar",[Xr.BarChart]:"corechart",[Xr.BubbleChart]:"corechart",[Xr.Calendar]:"calendar",[Xr.CandlestickChart]:"corechart",[Xr.ColumnChart]:"corechart",[Xr.ComboChart]:"corechart",[Xr.PieChart]:"corechart",[Xr.Gantt]:"gantt",[Xr.Gauge]:"gauge",[Xr.GeoChart]:"geochart",[Xr.Histogram]:"corechart",[Xr.Line]:"line",[Xr.LineChart]:"corechart",[Xr.Map]:"map",[Xr.OrgChart]:"orgchart",[Xr.Sankey]:"sankey",[Xr.Scatter]:"scatter",[Xr.ScatterChart]:"corechart",[Xr.SteppedAreaChart]:"corechart",[Xr.Table]:"table",[Xr.Timeline]:"timeline",[Xr.TreeMap]:"treemap",[Xr.WordTree]:"wordtree"},Ij=new xe("GOOGLE_CHARTS_CONFIG"),vot=new xe("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>{const i=wt(Ij,wn.Optional);return je(Object.assign(Object.assign({},{version:"current",safeMode:!1}),i||{}))}});let UR=(()=>{class i{constructor(t,n,r){this.zone=t,this.localeId=n,this.config$=r,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new Nt}isGoogleChartsAvailable(){return!(typeof google>"u"||typeof google.charts>"u")}loadChartPackages(...t){return this.loadGoogleCharts().pipe(qt(()=>this.config$),Ae(n=>Object.assign(Object.assign({},{version:"current",safeMode:!1}),n||{})),Hn(n=>new Xt(r=>{google.charts.load(n.version,{packages:t,language:this.localeId,mapsApiKey:n.mapsApiKey,safeMode:n.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{r.next(),r.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return je(void 0);if(!this.isLoadingGoogleCharts()){const t=this.createGoogleChartsScript();t.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},t.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(n=>n.src===this.scriptSource)}createGoogleChartsScript(){const t=document.createElement("script");return t.type="text/javascript",t.src=this.scriptSource,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t),t}}return i.\u0275fac=function(t){return new(t||i)(V(fi),V(Ol),V(vot))},i.\u0275prov=Fe({token:i,factory:i.\u0275fac}),i})(),Aj=(()=>{class i{create(t,n,r){if(null==t)return;let s=!0;null!=n&&(s=!1);const o=google.visualization.arrayToDataTable(this.getDataAsTable(t,n),s);return r&&this.applyFormatters(o,r),o}getDataAsTable(t,n){return n?[n,...t]:t}applyFormatters(t,n){for(const r of n)r.formatter.format(t,r.colIndex)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wot=(()=>{class i{constructor(t){this.loaderService=t,this.error=new qe,this.ready=new qe,this.stateChange=new qe,this.id=function yot(){return"_"+Math.random().toString(36).substr(2,9)}(),this.wrapperReadySubject=new VR(1)}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper()})}ngOnChanges(t){this._controlWrapper&&(t.type&&this._controlWrapper.setControlType(this.type),t.options&&this._controlWrapper.setOptions(this.options||{}),t.state&&this._controlWrapper.setState(this.state||{}))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",t=>this.ready.emit(t)),google.visualization.events.addListener(this._controlWrapper,"error",t=>this.error.emit(t)),google.visualization.events.addListener(this._controlWrapper,"statechange",t=>this.stateChange.emit(t))}}return i.\u0275fac=function(t){return new(t||i)(U(UR))},i.\u0275cmp=He({type:i,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(t,n){2&t&&$c("id",n.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[zn],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),i})(),Cot=(()=>{class i{constructor(t,n,r){this.element=t,this.loaderService=n,this.dataTableService=r,this.ready=new qe,this.error=new qe,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.createDashboard(),this.initialized=!0})}ngOnChanges(t){this.initialized&&(t.data||t.columns||t.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}createDashboard(){const t=this.controlWrappers.map(r=>r.wrapperReady$),n=this.controlWrappers.map(r=>r.for).map(r=>Array.isArray(r)?Pf(r.map(s=>s.wrapperReady$)):r.wrapperReady$);Pf([...t,...n]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.registerEvents(),this.dashboard.draw(this.dataTable)})}registerEvents(){google.visualization.events.removeAllListeners(this.dashboard);const t=(n,r,s)=>{google.visualization.events.addListener(n,r,s)};t(this.dashboard,"ready",()=>this.ready.emit()),t(this.dashboard,"error",n=>this.error.emit(n))}initializeBindings(){this.controlWrappers.forEach(t=>{if(Array.isArray(t.for)){const n=t.for.map(r=>r.chartWrapper);this.dashboard.bind(t.controlWrapper,n)}else this.dashboard.bind(t.controlWrapper,t.for.chartWrapper)})}}return i.\u0275fac=function(t){return new(t||i)(U(ai),U(UR),U(Aj))},i.\u0275cmp=He({type:i,selectors:[["dashboard"]],contentQueries:function(t,n,r){if(1&t&&En(r,wot,4),2&t){let s;Ze(s=We())&&(n.controlWrappers=s)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[zn],ngContentSelectors:got,decls:1,vars:0,template:function(t,n){1&t&&(jn(),Ei(0))},encapsulation:2,changeDetection:0}),i})(),kS=(()=>{class i{constructor(t,n,r,s){this.element=t,this.scriptLoaderService=n,this.dataTableService=r,this.dashboard=s,this.options={},this.dynamicResize=!1,this.ready=new qe,this.error=new qe,this.select=new qe,this.mouseover=new qe,this.mouseleave=new qe,this.wrapperReadySubject=new VR(1),this.initialized=!1,this.eventListeners=new Map}get chart(){return this.chartWrapper.getChart()}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper}set chartWrapper(t){this.wrapper=t,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages(function bot(i){return _ot[i]}(this.type)).subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(t){if(t.dynamicResize&&this.updateResizeListener(),this.initialized){let n=!1;(t.data||t.columns||t.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),n=!0),t.type&&(this.wrapper.setChartType(this.type),n=!0),(t.options||t.width||t.height||t.title)&&(this.wrapper.setOptions(this.mergeOptions()),n=!0),n&&this.drawChart()}}ngOnDestroy(){this.unsubscribeToResizeIfSubscribed()}addEventListener(t,n){const r=this.registerChartEvent(this.chart,t,n);return this.eventListeners.set(r,{eventName:t,callback:n,handle:r}),r}removeEventListener(t){const n=this.eventListeners.get(t);n&&(google.visualization.events.removeListener(n.handle),this.eventListeners.delete(t))}updateResizeListener(){this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=Qp(window,"resize",{passive:!0}).pipe(Dx(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}unsubscribeToResizeIfSubscribed(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}mergeOptions(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),this.registerChartEvent(this.chart,"onmouseover",t=>this.mouseover.emit(t)),this.registerChartEvent(this.chart,"onmouseout",t=>this.mouseleave.emit(t)),this.registerChartEvent(this.chart,"select",()=>{const t=this.chart.getSelection();this.select.emit({selection:t})}),this.eventListeners.forEach(t=>t.handle=this.registerChartEvent(this.chart,t.eventName,t.callback)),this.ready.emit({chart:this.chart})}),this.registerChartEvent(this.wrapper,"error",t=>this.error.emit(t))}registerChartEvent(t,n,r){return google.visualization.events.addListener(t,n,r)}drawChart(){null==this.dashboard&&this.wrapper.draw()}}return i.\u0275fac=function(t){return new(t||i)(U(ai),U(UR),U(Aj),U(Cot,8))},i.\u0275cmp=He({type:i,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",options:"options",formatters:"formatters",dynamicResize:"dynamicResize"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[zn],decls:0,vars:0,template:function(t,n){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),i})(),Oj=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[{provide:Ij,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=zi({type:i}),i.\u0275inj=Oi({providers:[UR]}),i})();function LB(...i){if(1===i.length){const e=i[0];if(At(e))return GR(e,null);if(ft(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return GR(t.map(n=>e[n]),t)}}if("function"==typeof i[i.length-1]){const e=i.pop();return GR(i=1===i.length&&At(i[0])?i[0]:i,null).pipe(Ae(t=>e(...t)))}return GR(i,null)}function GR(i,e){return new Xt(t=>{const n=i.length;if(0===n)return void t.complete();const r=new Array(n);let s=0,o=0;for(let l=0;l<n;l++){const d=ne(i[l]);let h=!1;t.add(d.subscribe({next:m=>{h||(h=!0,o++),r[l]=m},error:m=>t.error(m),complete:()=>{s++,(s===n||!h)&&(o===n&&t.next(e?e.reduce((m,b,v)=>(m[b]=r[v],m),{}):r),t.complete())}}))}})}let Rj=(()=>{class i{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Uo),U(ai))};static#e=this.\u0275dir=be({type:i})}return i})(),$0=(()=>{class i extends Rj{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,features:[Ue]})}return i})();const Ea=new xe("NgValueAccessor"),Mot={provide:Ea,useExisting:An(()=>DS),multi:!0},kot=new xe("CompositionEventMode");let DS=(()=>{class i extends Rj{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sot(){const i=Si()?Si().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Uo),U(ai),U(kot,8))};static#e=this.\u0275dir=be({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&fe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[vi([Mot]),Ue]})}return i})();function Jp(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function Lj(i){return null!=i&&"number"==typeof i.length}const ea=new xe("NgValidators"),tg=new xe("NgAsyncValidators"),Dot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fj{static min(e){return function Nj(i){return e=>{if(Jp(e.value)||Jp(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}(e)}static max(e){return function Bj(i){return e=>{if(Jp(e.value)||Jp(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}(e)}static required(e){return function zj(i){return Jp(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Vj(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function Hj(i){return Jp(i.value)||Dot.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function Uj(i){return e=>Jp(e.value)||!Lj(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Gj(i){return e=>Lj(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function jj(i){if(!i)return jR;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),n=>{if(Jp(n.value))return null;const r=n.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Xj(e)}static composeAsync(e){return Kj(e)}}function jR(i){return null}function Wj(i){return null!=i}function $j(i){return x0(i)?ne(i):i}function Yj(i){let e={};return i.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Zj(i,e){return e.map(t=>t(i))}function qj(i){return i.map(e=>function Tot(i){return!i.validate}(e)?e:t=>e.validate(t))}function Xj(i){if(!i)return null;const e=i.filter(Wj);return 0==e.length?null:function(t){return Yj(Zj(t,e))}}function FB(i){return null!=i?Xj(qj(i)):null}function Kj(i){if(!i)return null;const e=i.filter(Wj);return 0==e.length?null:function(t){return LB(Zj(t,e).map($j)).pipe(Ae(Yj))}}function NB(i){return null!=i?Kj(qj(i)):null}function Qj(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Jj(i){return i._rawValidators}function tW(i){return i._rawAsyncValidators}function BB(i){return i?Array.isArray(i)?i:[i]:[]}function WR(i,e){return Array.isArray(i)?i.includes(e):i===e}function eW(i,e){const t=BB(e);return BB(i).forEach(r=>{WR(t,r)||t.push(r)}),t}function iW(i,e){return BB(e).filter(t=>!WR(i,t))}class nW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FB(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ll extends nW{get formDirective(){return null}get path(){return null}}class $u extends nW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yu=(()=>{class i extends rW{constructor(t){super(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U($u,2))};static#e=this.\u0275dir=be({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Vi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ue]})}return i})();const TS="VALID",YR="INVALID",Tx="PENDING",IS="DISABLED";function HB(i){return(ZR(i)?i.validators:i)||null}function UB(i,e){return(ZR(e)?e.asyncValidators:i)||null}function ZR(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class lW{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===TS}get invalid(){return this.status===YR}get pending(){return this.status==Tx}get disabled(){return this.status===IS}get enabled(){return this.status!==IS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iW(e,this._rawAsyncValidators))}hasValidator(e){return WR(this._rawValidators,e)}hasAsyncValidator(e){return WR(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Tx,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=IS,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=TS,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===TS||this.status===Tx)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?IS:TS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Tx,this._hasOwnPendingAsyncValidator=!0;const t=$j(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?IS:this.errors?YR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tx)?Tx:this._anyControlsHaveStatus(YR)?YR:TS}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ZR(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Pot(i){return Array.isArray(i)?FB(i):i||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Lot(i){return Array.isArray(i)?NB(i):i||null}(this._rawAsyncValidators)}}class GB extends lW{constructor(e,t,n){super(HB(t),UB(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function aW(i,e,t){i._forEachChild((n,r)=>{if(void 0===t[r])throw new Se(1002,"")})})(this,0,e),Object.keys(e).forEach(n=>{(function oW(i,e,t){const n=i.controls;if(!(e?Object.keys(n):n).length)throw new Se(1e3,"");if(!n[t])throw new Se(1001,"")})(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{const r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Y0=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>AS}),AS="always";function OS(i,e,t=AS){jB(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(i.disabled),function Bot(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&cW(i,e)})}(i,e),function Vot(i,e){const t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function zot(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&cW(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function Not(i,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function XR(i,e,t=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),QR(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function KR(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jB(i,e){const t=Jj(i);null!==e.validator?i.setValidators(Qj(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const n=tW(i);null!==e.asyncValidator?i.setAsyncValidators(Qj(n,e.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();KR(e._rawValidators,r),KR(e._rawAsyncValidators,r)}function QR(i,e){let t=!1;if(null!==i){if(null!==e.validator){const r=Jj(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,i.setValidators(s))}}if(null!==e.asyncValidator){const r=tW(i);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,i.setAsyncValidators(s))}}}const n=()=>{};return KR(e._rawValidators,n),KR(e._rawAsyncValidators,n),t}function cW(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function dW(i,e){jB(i,e)}function $B(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function uW(i,e){i._syncPendingControls(),e.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function YB(i,e){if(!e)return null;let t,n,r;return Array.isArray(e),e.forEach(s=>{s.constructor===DS?t=s:function Got(i){return Object.getPrototypeOf(i.constructor)===$0}(s)?n=s:r=s}),r||n||t||null}const Wot={provide:ll,useExisting:An(()=>PS)},RS=(()=>Promise.resolve())();let PS=(()=>{class i extends ll{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new GB({},FB(t),NB(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){RS.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),OS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){RS.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){RS.then(()=>{const n=this._findContainer(t.path),r=new GB({});dW(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){RS.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){RS.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,uW(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#t=this.\u0275fac=function(n){return new(n||i)(U(ea,10),U(tg,10),U(Y0,8))};static#e=this.\u0275dir=be({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vi([Wot]),Ue]})}return i})();function hW(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}function fW(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const ZB=class extends lW{constructor(e=null,t,n){super(HB(t),UB(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZR(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=fW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){fW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},mW=ZB,Zot={provide:$u,useExisting:An(()=>Lf)},_W=(()=>Promise.resolve())();let Lf=(()=>{class i extends $u{constructor(t,n,r,s,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this.control=new ZB,this._registered=!1,this.name="",this.update=new qe,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=YB(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$B(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){OS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){_W.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=0!==n&&$t(n);_W.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function qR(i,e){return[...e.path,i]}(t,this._parent):[t]}static#t=this.\u0275fac=function(n){return new(n||i)(U(ll,9),U(ea,10),U(tg,10),U(Ea,10),U(Sn,8),U(Y0,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vi([Zot]),Ue,zn]})}return i})(),vW=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();const qB=new xe("NgModelWithFormControlWarning"),tat={provide:$u,useExisting:An(()=>JR)};let JR=(()=>{class i extends $u{set isDisabled(t){}static#t=this._ngModelWarningSentOnce=!1;constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new qe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=YB(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const n=t.form.previousValue;n&&XR(n,this,!1),OS(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}$B(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&XR(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#e=this.\u0275fac=function(n){return new(n||i)(U(ea,10),U(tg,10),U(Ea,10),U(qB,8),U(Y0,8))};static#i=this.\u0275dir=be({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[vi([tat]),Ue,zn]})}return i})();const eat={provide:ll,useExisting:An(()=>LS)};let LS=(()=>{class i extends ll{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(QR(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return OS(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){XR(t.control||null,t,!1),function jot(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,uW(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(XR(n||null,t),(i=>i instanceof ZB)(r)&&(OS(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);dW(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function Hot(i,e){return QR(i,e)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jB(this.form,this),this._oldForm&&QR(this._oldForm,this)}_checkFormPresent(){}static#t=this.\u0275fac=function(n){return new(n||i)(U(ea,10),U(tg,10),U(Y0,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&fe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vi([eat]),Ue,zn]})}return i})(),PW=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[vW]})}return i})(),LW=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Y0,useValue:t.callSetDisabledState??AS}]}}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[PW]})}return i})(),FW=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:qB,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Y0,useValue:t.callSetDisabledState??AS}]}}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[PW]})}return i})();function ia(i){return"function"==typeof i}function NW(i){const t=i(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ez=NW(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function eP(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class Zu{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(ia(n))try{n()}catch(s){e=s instanceof ez?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{VW(s)}catch(o){e=e??[],o instanceof ez?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ez(e)}}add(e){var t;if(e&&e!==this)if(this.closed)VW(e);else{if(e instanceof Zu){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&eP(t,e)}remove(e){const{_finalizers:t}=this;t&&eP(t,e),e instanceof Zu&&e._removeParent(this)}}Zu.EMPTY=(()=>{const i=new Zu;return i.closed=!0,i})();const BW=Zu.EMPTY;function zW(i){return i instanceof Zu||i&&"closed"in i&&ia(i.remove)&&ia(i.add)&&ia(i.unsubscribe)}function VW(i){ia(i)?i():i.unsubscribe()}const q0={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},iP={setTimeout(i,e,...t){const{delegate:n}=iP;return n?.setTimeout?n.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){const{delegate:e}=iP;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function HW(i){iP.setTimeout(()=>{const{onUnhandledError:e}=q0;if(!e)throw i;e(i)})}function UW(){}const yat=iz("C",void 0,void 0);function iz(i,e,t){return{kind:i,value:e,error:t}}let X0=null;function nP(i){if(q0.useDeprecatedSynchronousErrorHandling){const e=!X0;if(e&&(X0={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:n}=X0;if(X0=null,t)throw n}}else i()}class nz extends Zu{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zW(e)&&e.add(this)):this.destination=kat}static create(e,t,n){return new sz(e,t,n)}next(e){this.isStopped?oz(function wat(i){return iz("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?oz(function xat(i){return iz("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oz(yat,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Eat=Function.prototype.bind;function rz(i,e){return Eat.call(i,e)}class Mat{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(n){rP(n)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(n){rP(n)}else rP(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rP(t)}}}class sz extends nz{constructor(e,t,n){let r;if(super(),ia(e)||!e)r={next:e??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&q0.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&rz(e.next,s),error:e.error&&rz(e.error,s),complete:e.complete&&rz(e.complete,s)}):r=e}this.destination=new Mat(r)}}function rP(i){q0.useDeprecatedSynchronousErrorHandling?function Cat(i){q0.useDeprecatedSynchronousErrorHandling&&X0&&(X0.errorThrown=!0,X0.error=i)}(i):HW(i)}function oz(i,e){const{onStoppedNotification:t}=q0;t&&iP.setTimeout(()=>t(i,e))}const kat={closed:!0,next:UW,error:function Sat(i){throw i},complete:UW},az="function"==typeof Symbol&&Symbol.observable||"@@observable";function lz(i){return i}let Ff=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){const s=function Tat(i){return i&&i instanceof nz||function Dat(i){return i&&ia(i.next)&&ia(i.error)&&ia(i.complete)}(i)&&zW(i)}(t)?t:new sz(t,n,r);return nP(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=jW(n))((r,s)=>{const o=new sz({next:l=>{try{t(l)}catch(d){s(d),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[az](){return this}pipe(...t){return function GW(i){return 0===i.length?lz:1===i.length?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}(t)(this)}toPromise(t){return new(t=jW(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=e=>new i(e),i})();function jW(i){var e;return null!==(e=i??q0.Promise)&&void 0!==e?e:Promise}const Iat=NW(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let FS=(()=>{class i extends Ff{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new WW(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new Iat}next(t){nP(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){nP(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){nP(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:r,observers:s}=this;return n||r?BW:(this.currentObservers=null,s.push(t),new Zu(()=>{this.currentObservers=null,eP(s,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:r,isStopped:s}=this;n?t.error(r):s&&t.complete()}asObservable(){const t=new Ff;return t.source=this,t}}return i.create=(e,t)=>new WW(e,t),i})();class WW extends FS{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:BW}}class Aat extends Zu{constructor(e,t){super()}schedule(e,t=0){return this}}const sP={setInterval(i,e,...t){const{delegate:n}=sP;return n?.setInterval?n.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){const{delegate:e}=sP;return(e?.clearInterval||clearInterval)(i)},delegate:void 0},$W={now:()=>($W.delegate||Date).now(),delegate:void 0};class NS{constructor(e,t=NS.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}NS.now=$W.now;const YW=new class Rat extends NS{constructor(e,t=NS.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}(class Oat extends Aat{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,n=0){return sP.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&sP.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,n=!1;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,eP(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),Pat=YW;function oP(i){return e=>{if(function Lat(i){return ia(i?.lift)}(e))return e.lift(function(t){try{return i(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function BS(i,e,t,n,r){return new Fat(i,e,t,n,r)}class Fat extends nz{constructor(e,t,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function eg(i){return this instanceof eg?(this.v=i,this):new eg(i)}function KW(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=i[Symbol.asyncIterator];return e?e.call(i):(i=function hz(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=i[s]&&function(o){return new Promise(function(l,d){!function r(s,o,l,d){Promise.resolve(d).then(function(h){s({value:h,done:l})},o)}(l,d,(o=i[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const rlt=i=>i&&"number"==typeof i.length&&"function"!=typeof i,dlt=function clt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mlt(i){if(i instanceof Ff)return i;if(null!=i){if(function olt(i){return ia(i[az])}(i))return function plt(i){return new Ff(e=>{const t=i[az]();if(ia(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(rlt(i))return function glt(i){return new Ff(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(function slt(i){return ia(i?.then)}(i))return function _lt(i){return new Ff(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,HW)})}(i);if(function alt(i){return Symbol.asyncIterator&&ia(i?.[Symbol.asyncIterator])}(i))return QW(i);if(function ult(i){return ia(i?.[dlt])}(i))return function blt(i){return new Ff(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(function flt(i){return ia(i?.getReader)}(i))return function vlt(i){return QW(function hlt(i){return function XW(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t.apply(i,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(v){n[v]&&(r[v]=function(E){return new Promise(function(D,T){s.push([v,E,D,T])>1||l(v,E)})})}function l(v,E){try{!function d(v){v.value instanceof eg?Promise.resolve(v.value.v).then(h,m):b(s[0][2],v)}(n[v](E))}catch(D){b(s[0][3],D)}}function h(v){l("next",v)}function m(v){l("throw",v)}function b(v,E){v(E),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:n,done:r}=yield eg(t.read());if(r)return yield eg(void 0);yield yield eg(n)}}finally{t.releaseLock()}})}(i))}(i)}throw function llt(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}(i)}function QW(i){return new Ff(e=>{(function ylt(i,e){var t,n,r,s;return function ZW(i,e,t,n){return new(t||(t=Promise))(function(s,o){function l(m){try{h(n.next(m))}catch(b){o(b)}}function d(m){try{h(n.throw(m))}catch(b){o(b)}}function h(m){m.done?s(m.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(m.value).then(l,d)}h((n=n.apply(i,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=KW(i);!(n=yield t.next()).done;)if(e.next(n.value),e.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function JW(i,e=YW,t){const n=function Elt(i=0,e,t=Pat){let n=-1;return null!=e&&(function wlt(i){return i&&ia(i.schedule)}(e)?t=e:n=e),new Ff(r=>{let s=function Clt(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}(i,e);return function xlt(i,e){return oP((t,n)=>{const{leading:r=!0,trailing:s=!1}=e??{};let o=!1,l=null,d=null,h=!1;const m=()=>{d?.unsubscribe(),d=null,s&&(E(),h&&n.complete())},b=()=>{d=null,h&&n.complete()},v=D=>d=mlt(i(D)).subscribe(BS(n,m,b)),E=()=>{if(o){o=!1;const D=l;l=null,n.next(D),!h&&v(D)}};t.subscribe(BS(n,D=>{o=!0,l=D,(!d||d.closed)&&(r?E():v(D))},()=>{h=!0,(!(s&&o&&d)||d.closed)&&n.complete()}))})}(()=>n,t)}function t$(i,e,t){const n=ia(i)||e||t?{next:i,error:e,complete:t}:i;return n?oP((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let l=!0;r.subscribe(BS(s,d=>{var h;null===(h=n.next)||void 0===h||h.call(n,d),s.next(d)},()=>{var d;l=!1,null===(d=n.complete)||void 0===d||d.call(n),s.complete()},d=>{var h;l=!1,null===(h=n.error)||void 0===h||h.call(n,d),s.error(d)},()=>{var d,h;l&&(null===(d=n.unsubscribe)||void 0===d||d.call(n)),null===(h=n.finalize)||void 0===h||h.call(n)}))}):lz}function e$(i,e=lz){return i=i??Mlt,oP((t,n)=>{let r,s=!0;t.subscribe(BS(n,o=>{const l=e(o);(s||!i(r,l))&&(s=!1,r=l,n.next(o))}))})}function Mlt(i,e){return i===e}var mc=typeof window<"u"?window:{screen:{},navigator:{}},Ix=(mc.matchMedia||function(){return{matches:!1}}).bind(mc),i$=!1,n$=function(){};mc.addEventListener&&mc.addEventListener("p",n$,{get passive(){return i$=!0}}),mc.removeEventListener&&mc.removeEventListener("p",n$,!1);var r$=i$,fz="ontouchstart"in mc,o$=(fz||"TouchEvent"in mc&&Ix("(any-pointer: coarse)"),mc.navigator.userAgent||"");Ix("(pointer: coarse)").matches&&/iPad|Macintosh/.test(o$)&&Math.min(mc.screen.width||0,mc.screen.height||0);function Olt(i,e){}function Rlt(i,e){1&i&&It(0,Olt,0,0,"ng-template")}(Ix("(pointer: coarse)").matches||!Ix("(pointer: fine)").matches&&fz)&&/Windows.*Firefox/.test(o$),Ix("(any-pointer: fine)").matches||Ix("(any-hover: hover)");const Plt=function(i,e,t){return{tooltip:i,placement:e,content:t}};function Llt(i,e){if(1&i&&(Zo(0),It(1,Rlt,1,0,null,1),za()),2&i){const t=Mt();z(1),Y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",nx(2,Plt,t.tooltip,t.placement,t.content))}}function Flt(i,e){if(1&i&&(Zo(0),O(1,"div",2),tt(2),L(),za()),2&i){const t=Mt();z(1),Ni("title",t.tooltip)("data-tooltip-placement",t.placement),z(1),mi(" ",t.content," ")}}const Nlt=["tooltipTemplate"],Blt=["leftOuterSelectionBar"],zlt=["rightOuterSelectionBar"],Vlt=["fullBar"],Hlt=["selectionBar"],Ult=["minHandle"],Glt=["maxHandle"],jlt=["floorLabel"],Wlt=["ceilLabel"],$lt=["minHandleLabel"],Ylt=["maxHandleLabel"],Zlt=["combinedLabel"],qlt=["ticksElement"];function Xlt(i,e){if(1&i&&te(0,"ngx-slider-tooltip-wrapper",32),2&i){const t=Mt().$implicit;Y("template",Mt().tooltipTemplate)("tooltip",t.valueTooltip)("placement",t.valueTooltipPlacement)("content",t.value)}}function Klt(i,e){1&i&&te(0,"span",33),2&i&&Y("innerText",Mt().$implicit.legend)}function Qlt(i,e){1&i&&te(0,"span",34),2&i&&Y("innerHTML",Mt().$implicit.legend,Du)}const Jlt=function(i){return{"ngx-slider-selected":i}};function tct(i,e){if(1&i&&(O(0,"span",27),te(1,"ngx-slider-tooltip-wrapper",28),It(2,Xlt,1,4,"ngx-slider-tooltip-wrapper",29),It(3,Klt,1,1,"span",30),It(4,Qlt,1,1,"span",31),L()),2&i){const t=e.$implicit,n=Mt();Y("ngClass",$r(8,Jlt,t.selected))("ngStyle",t.style),z(1),Y("template",n.tooltipTemplate)("tooltip",t.tooltip)("placement",t.tooltipPlacement),z(1),Y("ngIf",null!=t.value),z(1),Y("ngIf",null!=t.legend&&!1===n.allowUnsafeHtmlInSlider),z(1),Y("ngIf",null!=t.legend&&(null==n.allowUnsafeHtmlInSlider||n.allowUnsafeHtmlInSlider))}}var Ll=function(i){return i[i.Low=0]="Low",i[i.High=1]="High",i[i.Floor=2]="Floor",i[i.Ceil=3]="Ceil",i[i.TickValue=4]="TickValue",i}(Ll||{});class aP{floor=0;ceil=null;step=1;minRange=null;maxRange=null;pushRange=!1;minLimit=null;maxLimit=null;translate=null;combineLabels=null;getLegend=null;getStepLegend=null;stepsArray=null;bindIndexForStepsArray=!1;draggableRange=!1;draggableRangeOnly=!1;showSelectionBar=!1;showSelectionBarEnd=!1;showSelectionBarFromValue=null;showOuterSelectionBars=!1;hidePointerLabels=!1;hideLimitLabels=!1;autoHideLimitLabels=!0;readOnly=!1;disabled=!1;showTicks=!1;showTicksValues=!1;tickStep=null;tickValueStep=null;ticksArray=null;ticksTooltip=null;ticksValuesTooltip=null;vertical=!1;getSelectionBarColor=null;getTickColor=null;getPointerColor=null;keyboardSupport=!0;scale=1;rotate=0;enforceStep=!0;enforceRange=!0;enforceStepsArray=!0;noSwitching=!1;onlyBindHandles=!1;rightToLeft=!1;reversedControls=!1;boundPointerLabels=!0;logScale=!1;customValueToPosition=null;customPositionToValue=null;precisionLimit=12;selectionBarGradient=null;ariaLabel="ngx-slider";ariaLabelledBy=null;ariaLabelHigh="ngx-slider-max";ariaLabelledByHigh=null;handleDimension=null;barDimension=null;animate=!0;animateOnMove=!1}const c$=new xe("AllowUnsafeHtmlInSlider");var Hi=function(i){return i[i.Min=0]="Min",i[i.Max=1]="Max",i}(Hi||{});class ect{value;highValue;pointerType}class $e{static isNullOrUndefined(e){return null==e}static areArraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}static linearValueToPosition(e,t,n){return(e-t)/(n-t)}static logValueToPosition(e,t,n){return((e=Math.log(e))-(t=Math.log(t)))/((n=Math.log(n))-t)}static linearPositionToValue(e,t,n){return e*(n-t)+t}static logPositionToValue(e,t,n){return t=Math.log(t),n=Math.log(n),Math.exp(e*(n-t)+t)}static findStepIndex(e,t){const n=t.map(s=>Math.abs(e-s.value));let r=0;for(let s=0;s<t.length;s++)n[s]!==n[r]&&n[s]<n[r]&&(r=s);return r}}class ig{static isTouchEvent(e){return void 0!==window.TouchEvent?e instanceof TouchEvent:void 0!==e.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class no{static roundToPrecisionLimit(e,t){return+e.toPrecision(t)}static isModuloWithinPrecisionLimit(e,t,n){const r=Math.pow(10,-n);return Math.abs(e%t)<=r||Math.abs(Math.abs(e%t)-t)<=r}static clampToRange(e,t,n){return Math.min(Math.max(e,t),n)}}class d${eventName=null;events=null;eventsSubscription=null;teardownCallback=null}class u${renderer;constructor(e){this.renderer=e}attachPassiveEventListener(e,t,n,r){if(!0!==r$)return this.attachEventListener(e,t,n,r);const s=new d$;s.eventName=t,s.events=new FS;const o=l=>{s.events.next(l)};return e.addEventListener(t,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{e.removeEventListener(t,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe($e.isNullOrUndefined(r)?t$(()=>{}):JW(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{n(l)}),s}detachEventListener(e){$e.isNullOrUndefined(e.eventsSubscription)||(e.eventsSubscription.unsubscribe(),e.eventsSubscription=null),$e.isNullOrUndefined(e.events)||(e.events.complete(),e.events=null),$e.isNullOrUndefined(e.teardownCallback)||(e.teardownCallback(),e.teardownCallback=null)}attachEventListener(e,t,n,r){const s=new d$;return s.eventName=t,s.events=new FS,s.teardownCallback=this.renderer.listen(e,t,l=>{s.events.next(l)}),s.eventsSubscription=s.events.pipe($e.isNullOrUndefined(r)?t$(()=>{}):JW(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{n(l)}),s}}let ng=(()=>{class i{elemRef;renderer;changeDetectionRef;_position=0;get position(){return this._position}_dimension=0;get dimension(){return this._dimension}_alwaysHide=!1;get alwaysHide(){return this._alwaysHide}_vertical=!1;get vertical(){return this._vertical}_scale=1;get scale(){return this._scale}_rotate=0;get rotate(){return this._rotate}opacity=1;visibility="visible";left="";bottom="";height="";width="";transform="";eventListenerHelper;eventListeners=[];constructor(t,n,r){this.elemRef=t,this.renderer=n,this.changeDetectionRef=r,this.eventListenerHelper=new u$(this.renderer)}setAlwaysHide(t){this._alwaysHide=t,this.visibility=t?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(t){this._scale=t}setRotate(t){this._rotate=t,this.transform="rotate("+t+"deg)"}getRotate(){return this._rotate}setPosition(t){this._position!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}calculateDimension(){const t=this.getBoundingClientRect();this._dimension=this.vertical?(t.bottom-t.top)*this.scale:(t.right-t.left)*this.scale}setDimension(t){this._dimension!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(t,n,r){const s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,n,r);this.eventListeners.push(s)}onPassive(t,n,r){const s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,n,r);this.eventListeners.push(s)}off(t){let n,r;$e.isNullOrUndefined(t)?(n=[],r=this.eventListeners):(n=this.eventListeners.filter(s=>s.eventName!==t),r=this.eventListeners.filter(s=>s.eventName===t));for(const s of r)this.eventListenerHelper.detachEventListener(s);this.eventListeners=n}isRefDestroyed(){return $e.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}static \u0275fac=function(n){return new(n||i)(U(ai),U(Uo),U(Sn))};static \u0275dir=be({type:i,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(n,r){2&n&&Wr("opacity",r.opacity)("visibility",r.visibility)("left",r.left)("bottom",r.bottom)("height",r.height)("width",r.width)("transform",r.transform)}})}return i})(),mz=(()=>{class i extends ng{active=!1;role="";tabindex="";ariaOrientation="";ariaLabel="";ariaLabelledBy="";ariaValueNow="";ariaValueText="";ariaValueMin="";ariaValueMax="";focus(){this.elemRef.nativeElement.focus()}constructor(t,n,r){super(t,n,r)}static \u0275fac=function(n){return new(n||i)(U(ai),U(Uo),U(Sn))};static \u0275dir=be({type:i,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(n,r){2&n&&(Ni("role",r.role)("tabindex",r.tabindex)("aria-orientation",r.ariaOrientation)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("aria-valuenow",r.ariaValueNow)("aria-valuetext",r.ariaValueText)("aria-valuemin",r.ariaValueMin)("aria-valuemax",r.ariaValueMax),Vi("ngx-slider-active",r.active))},features:[Ue]})}return i})(),Ax=(()=>{class i extends ng{allowUnsafeHtmlInSlider;_value=null;get value(){return this._value}constructor(t,n,r,s){super(t,n,r),this.allowUnsafeHtmlInSlider=s}setValue(t){let n=!1;!this.alwaysHide&&($e.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&0===this.dimension)&&(n=!0),this._value=t,!1===this.allowUnsafeHtmlInSlider?this.elemRef.nativeElement.innerText=t:this.elemRef.nativeElement.innerHTML=t,n&&this.calculateDimension()}static \u0275fac=function(n){return new(n||i)(U(ai),U(Uo),U(Sn),U(c$,8))};static \u0275dir=be({type:i,selectors:[["","ngxSliderLabel",""]],features:[Ue]})}return i})(),ict=(()=>{class i{template;tooltip;placement;content;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=He({type:i,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(n,r){1&n&&(It(0,Llt,2,6,"ng-container",0),It(1,Flt,3,3,"ng-container",0)),2&n&&(Y("ngIf",r.template),z(1),Y("ngIf",!r.template))},dependencies:[on,ES],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})}return i})();class nct{selected=!1;style={};tooltip=null;tooltipPlacement=null;value=null;valueTooltip=null;valueTooltipPlacement=null;legend=null}class h${active=!1;value=0;difference=0;position=0;lowLimit=0;highLimit=0}class lP{value;highValue;static compare(e,t){return!($e.isNullOrUndefined(e)&&$e.isNullOrUndefined(t)||$e.isNullOrUndefined(e)!==$e.isNullOrUndefined(t))&&e.value===t.value&&e.highValue===t.highValue}}class f$ extends lP{forceChange;static compare(e,t){return!($e.isNullOrUndefined(e)&&$e.isNullOrUndefined(t)||$e.isNullOrUndefined(e)!==$e.isNullOrUndefined(t))&&e.value===t.value&&e.highValue===t.highValue&&e.forceChange===t.forceChange}}const rct={provide:Ea,useExisting:An(()=>pz),multi:!0};let pz=(()=>{class i{renderer;elementRef;changeDetectionRef;zone;allowUnsafeHtmlInSlider;value=null;valueChange=new qe;highValue=null;highValueChange=new qe;options=new aP;userChangeStart=new qe;userChange=new qe;userChangeEnd=new qe;manualRefreshSubscription;set manualRefresh(t){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}triggerFocusSubscription;set triggerFocus(t){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe(n=>{this.focusPointer(n)})}get range(){return!$e.isNullOrUndefined(this.value)&&!$e.isNullOrUndefined(this.highValue)}initHasRun=!1;inputModelChangeSubject=new FS;inputModelChangeSubscription=null;outputModelChangeSubject=new FS;outputModelChangeSubscription=null;viewLowValue=null;viewHighValue=null;viewOptions=new aP;handleHalfDimension=0;maxHandlePosition=0;currentTrackingPointer=null;currentFocusPointer=null;firstKeyDown=!1;touchId=null;dragging=new h$;leftOuterSelectionBarElement;rightOuterSelectionBarElement;fullBarElement;selectionBarElement;minHandleElement;maxHandleElement;floorLabelElement;ceilLabelElement;minHandleLabelElement;maxHandleLabelElement;combinedLabelElement;ticksElement;tooltipTemplate;sliderElementVerticalClass=!1;sliderElementAnimateClass=!1;sliderElementWithLegendClass=!1;sliderElementDisabledAttr=null;sliderElementAriaLabel="ngx-slider";barStyle={};minPointerStyle={};maxPointerStyle={};fullBarTransparentClass=!1;selectionBarDraggableClass=!1;ticksUnderValuesClass=!1;get showTicks(){return this.viewOptions.showTicks}intermediateTicks=!1;ticks=[];eventListenerHelper=null;onMoveEventListener=null;onEndEventListener=null;moving=!1;resizeObserver=null;onTouchedCallback=null;onChangeCallback=null;constructor(t,n,r,s,o){this.renderer=t,this.elementRef=n,this.changeDetectionRef=r,this.zone=s,this.allowUnsafeHtmlInSlider=o,this.eventListenerHelper=new u$(this.renderer)}ngOnInit(){this.viewOptions=new aP,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(t){!$e.isNullOrUndefined(t.options)&&JSON.stringify(t.options.previousValue)!==JSON.stringify(t.options.currentValue)&&this.onChangeOptions(),(!$e.isNullOrUndefined(t.value)||!$e.isNullOrUndefined(t.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.viewOptions.disabled=t,this.updateDisabledState()}setAriaLabel(t){this.viewOptions.ariaLabel=t,this.updateAriaLabel()}onResize(t){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(e$(f$.compare),function Slt(i,e){return oP((t,n)=>{let r=0;t.subscribe(BS(n,s=>i.call(e,s,r++)&&n.next(s)))})}(t=>!t.forceChange&&!t.internalChange)).subscribe(t=>this.applyInputModelChange(t))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(e$(f$.compare)).subscribe(t=>this.publishOutputModelChange(t))}subscribeResizeObserver(){ig.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){ig.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){$e.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){$e.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){$e.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){$e.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){$e.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){$e.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(t){return t===Hi.Min?this.minHandleElement:t===Hi.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===Hi.Min?this.viewLowValue:this.currentTrackingPointer===Hi.Max?this.viewHighValue:null}modelValueToViewValue(t){return $e.isNullOrUndefined(t)?NaN:$e.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+t:$e.findStepIndex(+t,this.viewOptions.stepsArray)}viewValueToModelValue(t){return $e.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?t:this.getStepValue(t)}getStepValue(t){const n=this.viewOptions.stepsArray[t];return $e.isNullOrUndefined(n)?NaN:n.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(t){const n=this.normaliseModelValues(t),r=!lP.compare(t,n);r&&(this.value=n.value,this.highValue=n.highValue),this.viewLowValue=this.modelValueToViewValue(n.value),this.viewHighValue=this.range?this.modelValueToViewValue(n.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:n.value,highValue:n.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(t){const n=()=>{this.valueChange.emit(t.value),this.range&&this.highValueChange.emit(t.highValue),$e.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[t.value,t.highValue]:t.value),$e.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[t.value,t.highValue]:t.value)};t.userEventInitiated?(n(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{n()})}normaliseModelValues(t){const n=new lP;if(n.value=t.value,n.highValue=t.highValue,!$e.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=$e.findStepIndex(n.value,this.viewOptions.stepsArray);if(n.value=this.viewOptions.stepsArray[r].value,this.range){const s=$e.findStepIndex(n.highValue,this.viewOptions.stepsArray);n.highValue=this.viewOptions.stepsArray[s].value}}return n}if(this.viewOptions.enforceStep&&(n.value=this.roundStep(n.value),this.range&&(n.highValue=this.roundStep(n.highValue))),this.viewOptions.enforceRange&&(n.value=no.clampToRange(n.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(n.highValue=no.clampToRange(n.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)n.value=n.highValue;else{const r=t.value;n.value=t.highValue,n.highValue=r}return n}renormaliseModelValues(){const t={value:this.value,highValue:this.highValue},n=this.normaliseModelValues(t);lP.compare(n,t)||(this.value=n.value,this.highValue=n.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const t=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const n=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!$e.areArraysEqual(t,n);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(r)}applyOptions(){if(this.viewOptions=new aP,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!$e.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!$e.isNullOrUndefined(this.viewOptions.tickStep)||!$e.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!$e.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),$e.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),$e.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(t,n)=>t+" - "+n),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,$e.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(t):t))}applyFloorCeilOptions(){if($e.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),$e.isNullOrUndefined(this.viewOptions.ceil)||$e.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,$e.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(t))}resetSlider(t=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions()}focusPointer(t){t!==Hi.Min&&t!==Hi.Max&&(t=Hi.Min),t===Hi.Min?this.minHandleElement.focus():this.range&&t===Hi.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){$e.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const t=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(t||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const t of this.getAllSliderElements())$e.isNullOrUndefined(t)||t.setVertical(this.viewOptions.vertical)}updateScale(){for(const t of this.getAllSliderElements())t.setScale(this.viewOptions.scale)}updateRotate(){for(const t of this.getAllSliderElements())t.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",$e.isNullOrUndefined(this.viewOptions.ariaLabel)?$e.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",$e.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?$e.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Ll.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Ll.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){$e.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,$e.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const t=$e.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,n=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&t.reverse();const r=$e.isNullOrUndefined(this.viewOptions.tickValueStep)?$e.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let s=!1;const o=t.map(l=>{let d=this.valueToPosition(l);this.viewOptions.vertical&&(d=this.maxHandlePosition-d);const h=n+"("+Math.round(d)+"px)",m=new nct;m.selected=this.isTickSelected(l),m.style={"-webkit-transform":h,"-moz-transform":h,"-o-transform":h,"-ms-transform":h,transform:h},m.selected&&!$e.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(m.style["background-color"]=this.getSelectionBarColor()),!m.selected&&!$e.isNullOrUndefined(this.viewOptions.getTickColor)&&(m.style["background-color"]=this.getTickColor(l)),$e.isNullOrUndefined(this.viewOptions.ticksTooltip)||(m.tooltip=this.viewOptions.ticksTooltip(l),m.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!$e.isNullOrUndefined(r)&&no.isModuloWithinPrecisionLimit(l,r,this.viewOptions.precisionLimit)&&(m.value=this.getDisplayValue(l,Ll.TickValue),$e.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(m.valueTooltip=this.viewOptions.ticksValuesTooltip(l),m.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let b=null;if($e.isNullOrUndefined(this.viewOptions.stepsArray))$e.isNullOrUndefined(this.viewOptions.getLegend)||(b=this.viewOptions.getLegend(l));else{const v=this.viewOptions.stepsArray[l];$e.isNullOrUndefined(this.viewOptions.getStepLegend)?$e.isNullOrUndefined(v)||(b=v.legend):b=this.viewOptions.getStepLegend(v)}return $e.isNullOrUndefined(b)||(m.legend=b,s=!0),m});if(this.sliderElementWithLegendClass!==s&&setTimeout(()=>{this.sliderElementWithLegendClass=s}),$e.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o,this.isRefDestroyed()||this.changeDetectionRef.detectChanges();else for(let l=0;l<o.length;++l)Object.assign(this.ticks[l],o[l])}getTicksArray(){const t=$e.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,n=[],r=1+Math.floor(no.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit));for(let s=0;s<r;++s)n.push(no.roundToPrecisionLimit(this.viewOptions.floor+t*s,this.viewOptions.precisionLimit));return n}isTickSelected(t){if(!this.range)if($e.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{const n=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>n&&t>=n&&t<=this.viewLowValue)return!0;if(this.viewLowValue<n&&t<=n&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Ll.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Ll.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(t,n){t===Hi.Min?this.updateLowHandle(n):t===Hi.Max&&this.updateHighHandle(n),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(t,n){const r=t===Hi.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=n-r/2+this.handleHalfDimension,o=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===Hi.Min||!this.viewOptions.rightToLeft&&t===Hi.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Ll.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(Hi.Min,t)),$e.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(Hi.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Ll.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(Hi.Max,t)),$e.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(Hi.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let t=!1,n=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),l=this.isLabelBelowFloorLabel(this.combinedLabelElement),d=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),s?(n=!0,this.ceilLabelElement.hide()):(n=!1,this.ceilLabelElement.show()),this.range){const h=this.combinedLabelElement.isVisible()?d:o,m=this.combinedLabelElement.isVisible()?l:r;h?this.ceilLabelElement.hide():n||this.ceilLabelElement.show(),m?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}isLabelBelowFloorLabel(t){const n=t.position,s=this.floorLabelElement.position;return this.viewOptions.rightToLeft?n+t.dimension>=s-2:n<=s+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(t){const n=t.position,s=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?n<=s+this.ceilLabelElement.dimension+2:n+t.dimension>=s-2}updateSelectionBar(){let t=0,n=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)n=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=s;else if($e.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(n=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(n=this.minHandleElement.position+this.handleHalfDimension,t=0);else{const o=this.viewOptions.showSelectionBarFromValue,l=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(n=this.minHandleElement.position-l,t=l+this.handleHalfDimension):(n=l-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(n),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+n)),this.leftOuterSelectionBarElement.setPosition(t+n)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+n)),this.rightOuterSelectionBarElement.setPosition(t+n))),$e.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!$e.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=$e.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),l=o-t>0&&!r||o-t<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?l?"bottom":"top":l?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+n+t+(l?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-t+(l?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(t){return this.viewOptions.getPointerColor(t===Hi.Max?this.highValue:this.value,t)}getTickColor(t){return this.viewOptions.getTickColor(t)}updateCombinedLabel(){let t=null;if(t=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,t){const n=this.getDisplayValue(this.viewLowValue,Ll.Low),r=this.getDisplayValue(this.viewHighValue,Ll.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,n):this.viewOptions.combineLabels(n,r);this.combinedLabelElement.setValue(s);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(t,n){return!$e.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(t=this.getStepValue(t)),this.viewOptions.translate(t,n)}roundStep(t,n){const r=$e.isNullOrUndefined(n)?this.viewOptions.step:n;let s=no.roundToPrecisionLimit((t-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return s=Math.round(s)*r,no.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(t){let n=$e.linearValueToPosition;$e.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(n=$e.logValueToPosition):n=this.viewOptions.customValueToPosition;let r=n(t=no.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return $e.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(t){let n=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(n=1-n);let r=$e.linearPositionToValue;$e.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=$e.logPositionToValue):r=this.viewOptions.customPositionToValue;const s=r(n,this.viewOptions.floor,this.viewOptions.ceil);return $e.isNullOrUndefined(s)?0:s}getEventXY(t,n){if(t instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?t.clientY:t.clientX;let r=0;const s=t.touches;if(!$e.isNullOrUndefined(n))for(let o=0;o<s.length;o++)if(s[o].identifier===n){r=o;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?s[r].clientY:s[r].clientX}getEventPosition(t,n){const r=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical||0!==this.viewOptions.rotate?r.bottom:r.left;let o=0;return o=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(t,n)+s:this.getEventXY(t,n)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(t){if(!this.range)return Hi.Min;const n=this.getEventPosition(t),r=Math.abs(n-this.minHandleElement.position),s=Math.abs(n-this.maxHandleElement.position);return r<s?Hi.Min:r>s?Hi.Max:this.viewOptions.rightToLeft?n>this.minHandleElement.position?Hi.Min:Hi.Max:n<this.minHandleElement.position?Hi.Min:Hi.Max}bindEvents(){const t=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",n=>this.onBarStart(null,t,n,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",n=>this.onBarStart(Hi.Min,t,n,!0,!0)),this.maxHandleElement.on("mousedown",n=>this.onBarStart(Hi.Max,t,n,!0,!0))):(this.minHandleElement.on("mousedown",n=>this.onStart(Hi.Min,n,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",n=>this.onStart(Hi.Max,n,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",n=>this.onStart(null,n,!0,!0,!0)),this.ticksElement.on("mousedown",n=>this.onStart(null,n,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",n=>this.onBarStart(null,t,n,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",n=>this.onBarStart(Hi.Min,t,n,!0,!0)),this.maxHandleElement.onPassive("touchstart",n=>this.onBarStart(Hi.Max,t,n,!0,!0))):(this.minHandleElement.onPassive("touchstart",n=>this.onStart(Hi.Min,n,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",n=>this.onStart(Hi.Max,n,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",n=>this.onStart(null,n,!0,!0,!0)),this.ticksElement.onPassive("touchstart",n=>this.onStart(null,n,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(Hi.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(Hi.Max)))}getOptionsInfluencingEventBindings(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const t of this.getAllSliderElements())$e.isNullOrUndefined(t)||t.off()}onBarStart(t,n,r,s,o,l,d){n?this.onDragStart(t,r,s,o):this.onStart(t,r,s,o,l,d)}onStart(t,n,r,s,o,l){n.stopPropagation(),!ig.isTouchEvent(n)&&!r$&&n.preventDefault(),this.moving=!1,this.calculateViewDimensions(),$e.isNullOrUndefined(t)&&(t=this.getNearestHandle(n)),this.currentTrackingPointer=t;const d=this.getPointerElement(t);if(d.active=!0,this.viewOptions.keyboardSupport&&d.focus(),r){this.unsubscribeOnMove();const h=m=>this.dragging.active?this.onDragMove(m):this.onMove(m);this.onMoveEventListener=ig.isTouchEvent(n)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",h):this.eventListenerHelper.attachEventListener(document,"mousemove",h)}if(s){this.unsubscribeOnEnd();const h=m=>this.onEnd(m);this.onEndEventListener=ig.isTouchEvent(n)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",h):this.eventListenerHelper.attachEventListener(document,"mouseup",h)}this.userChangeStart.emit(this.getChangeContext()),ig.isTouchEvent(n)&&!$e.isNullOrUndefined(n.changedTouches)&&$e.isNullOrUndefined(this.touchId)&&(this.touchId=n.changedTouches[0].identifier),o&&this.onMove(n,!0),l&&this.onEnd(n)}onMove(t,n){let r=null;if(ig.isTouchEvent(t)){const h=t.changedTouches;for(let m=0;m<h.length;m++)if(h[m].identifier===this.touchId){r=h[m];break}if($e.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const s=$e.isNullOrUndefined(r)?this.getEventPosition(t):this.getEventPosition(t,r.identifier);let o;s<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:s>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(s),o=n&&!$e.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(t){ig.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(t){const n=this.getPointerElement(t);n.on("blur",()=>this.onPointerBlur(n)),n.on("keydown",r=>this.onKeyboardEvent(r)),n.on("keyup",()=>this.onKeyUp()),n.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,$e.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(t){const n=this.viewOptions.ceil-this.viewOptions.floor;let r=t+this.viewOptions.step,s=t-this.viewOptions.step,o=t+n/10,l=t-n/10;this.viewOptions.reversedControls&&(r=t-this.viewOptions.step,s=t+this.viewOptions.step,o=t-n/10,l=t+n/10);const d={UP:r,DOWN:s,LEFT:s,RIGHT:r,PAGEUP:o,PAGEDOWN:l,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(d.LEFT=r,d.RIGHT=s,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(d.UP=s,d.DOWN=r)),d}onKeyboardEvent(t){const n=this.getCurrentTrackingValue(),r=$e.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,d=this.getKeyActions(n)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if($e.isNullOrUndefined(d)||$e.isNullOrUndefined(this.currentTrackingPointer))return;t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const h=no.clampToRange(d,this.viewOptions.floor,this.viewOptions.ceil),m=this.roundStep(h);if(this.viewOptions.draggableRangeOnly){const b=this.viewHighValue-this.viewLowValue;let v,E;this.currentTrackingPointer===Hi.Min?(v=m,E=m+b,E>this.viewOptions.ceil&&(E=this.viewOptions.ceil,v=E-b)):this.currentTrackingPointer===Hi.Max&&(E=m,v=m-b,v<this.viewOptions.floor&&(v=this.viewOptions.floor,E=v+b)),this.positionTrackingBar(v,E)}else this.positionTrackingHandle(m)}onDragStart(t,n,r,s){const o=this.getEventPosition(n);this.dragging=new h$,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(t,n,r,s)}getMinValue(t,n,r){const s=this.viewOptions.rightToLeft;let o=null;return o=n?r?s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(s?t+this.dragging.lowLimit:t-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(t,n,r){const s=this.viewOptions.rightToLeft;let o=null;return o=n?r?s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(t){const n=this.getEventPosition(t);let r,s,o,l;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,l=this.minHandleElement):(r=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,l=this.maxHandleElement);const h=n>=this.maxHandlePosition-r;let m,b;if(n<=s){if(0===o.position)return;m=this.getMinValue(n,!0,!1),b=this.getMaxValue(n,!0,!1)}else if(h){if(l.position===this.maxHandlePosition)return;b=this.getMaxValue(n,!0,!0),m=this.getMinValue(n,!0,!0)}else m=this.getMinValue(n,!1,!1),b=this.getMaxValue(n,!1,!1);this.positionTrackingBar(m,b)}positionTrackingBar(t,n){!$e.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(n=no.roundToPrecisionLimit((t=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!$e.isNullOrUndefined(this.viewOptions.maxLimit)&&n>this.viewOptions.maxLimit&&(t=no.roundToPrecisionLimit((n=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=n,this.applyViewChange(),this.updateHandles(Hi.Min,this.valueToPosition(t)),this.updateHandles(Hi.Max,this.valueToPosition(n))}positionTrackingHandle(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===Hi.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===Hi.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===Hi.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(Hi.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Hi.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===Hi.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(Hi.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Hi.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===Hi.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===Hi.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}applyMinMaxLimit(t){return!$e.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!$e.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}applyMinMaxRange(t){const r=Math.abs(t-(this.currentTrackingPointer===Hi.Min?this.viewHighValue:this.viewLowValue));if(!$e.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===Hi.Min)return no.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Hi.Max)return no.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!$e.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===Hi.Min)return no.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Hi.Max)return no.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}applyPushRange(t){const n=this.currentTrackingPointer===Hi.Min?this.viewHighValue-t:t-this.viewLowValue,r=$e.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return n<r?(this.currentTrackingPointer===Hi.Min?(this.viewHighValue=no.roundToPrecisionLimit(Math.min(t+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=no.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Hi.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Hi.Max&&(this.viewLowValue=no.roundToPrecisionLimit(Math.max(t-r,this.viewOptions.floor),this.viewOptions.precisionLimit),t=no.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Hi.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!$e.isNullOrUndefined(s)&&n>s&&(this.currentTrackingPointer===Hi.Min?(this.viewHighValue=no.roundToPrecisionLimit(t+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Hi.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Hi.Max&&(this.viewLowValue=no.roundToPrecisionLimit(t-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Hi.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}getChangeContext(){const t=new ect;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}static \u0275fac=function(n){return new(n||i)(U(Uo),U(ai),U(Sn),U(fi),U(c$,8))};static \u0275cmp=He({type:i,selectors:[["ngx-slider"]],contentQueries:function(n,r,s){if(1&n&&En(s,Nlt,5),2&n){let o;Ze(o=We())&&(r.tooltipTemplate=o.first)}},viewQuery:function(n,r){if(1&n&&(Pi(Blt,5,ng),Pi(zlt,5,ng),Pi(Vlt,5,ng),Pi(Hlt,5,ng),Pi(Ult,5,mz),Pi(Glt,5,mz),Pi(jlt,5,Ax),Pi(Wlt,5,Ax),Pi($lt,5,Ax),Pi(Ylt,5,Ax),Pi(Zlt,5,Ax),Pi(qlt,5,ng)),2&n){let s;Ze(s=We())&&(r.leftOuterSelectionBarElement=s.first),Ze(s=We())&&(r.rightOuterSelectionBarElement=s.first),Ze(s=We())&&(r.fullBarElement=s.first),Ze(s=We())&&(r.selectionBarElement=s.first),Ze(s=We())&&(r.minHandleElement=s.first),Ze(s=We())&&(r.maxHandleElement=s.first),Ze(s=We())&&(r.floorLabelElement=s.first),Ze(s=We())&&(r.ceilLabelElement=s.first),Ze(s=We())&&(r.minHandleLabelElement=s.first),Ze(s=We())&&(r.maxHandleLabelElement=s.first),Ze(s=We())&&(r.combinedLabelElement=s.first),Ze(s=We())&&(r.ticksElement=s.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(n,r){1&n&&fe("resize",function(o){return r.onResize(o)},0,JC),2&n&&(Ni("disabled",r.sliderElementDisabledAttr)("aria-label",r.sliderElementAriaLabel),Vi("vertical",r.sliderElementVerticalClass)("animate",r.sliderElementAnimateClass)("with-legend",r.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[vi([rct]),zn],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(n,r){1&n&&(O(0,"span",0,1),te(2,"span",2),L(),O(3,"span",3,4),te(5,"span",2),L(),O(6,"span",5,6),te(8,"span",2),L(),O(9,"span",7,8),te(11,"span",9),L(),te(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),O(26,"span",24,25),It(28,tct,5,10,"span",26),L()),2&n&&(z(6),Vi("ngx-slider-transparent",r.fullBarTransparentClass),z(3),Vi("ngx-slider-draggable",r.selectionBarDraggableClass),z(2),Y("ngStyle",r.barStyle),z(1),Y("ngStyle",r.minPointerStyle),z(2),Wr("display",r.range?"inherit":"none"),Y("ngStyle",r.maxPointerStyle),z(12),Vi("ngx-slider-ticks-values-under",r.ticksUnderValuesClass),Y("hidden",!r.showTicks),z(2),Y("ngForOf",r.ticks))},dependencies:[Af,Ps,on,xB,ng,mz,Ax,ict],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}'],changeDetection:0})}return i})(),sct=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=zi({type:i});static \u0275inj=Oi({imports:[_s]})}return i})();function K0(i,e){return qt(i,e,1)}function Gn(i,e){return function(n){return n.lift(new oct(i,e))}}class oct{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new act(e,this.predicate,this.thisArg))}}class act extends et{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Fl(i){return e=>e.lift(new lct(i))}class lct{constructor(e){this.callback=e}call(e,t){return t.subscribe(new cct(e,this.callback))}}class cct extends et{constructor(e,t){super(e),this.add(new B(t))}}class cP{}class dP{}class qu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof qu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new qu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const n=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class dct{encodeKey(e){return m$(e)}encodeValue(e){return m$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const hct=/%(\d[a-f0-9])/gi,fct={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m$(i){return encodeURIComponent(i).replace(hct,(e,t)=>fct[t]??e)}function uP(i){return`${i}`}class tn{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new dct,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uct(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],d=t.get(o)||[];d.push(l),t.set(o,d)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t],r=Array.isArray(n)?n.map(uP):[uP(n)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new tn({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(uP(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const r=n.indexOf(uP(e.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class mct{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function p$(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function g$(i){return typeof Blob<"u"&&i instanceof Blob}function _$(i){return typeof FormData<"u"&&i instanceof FormData}class zS{constructor(e,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function pct(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new qu),this.context||(this.context=new mct),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new tn,this.urlWithParams=t}serializeBody(){return null===this.body?null:p$(this.body)||g$(this.body)||_$(this.body)||function gct(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof tn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_$(this.body)?null:g$(this.body)?this.body.type||null:p$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let d=e.headers||this.headers,h=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce((b,v)=>b.set(v,e.setHeaders[v]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((b,v)=>b.set(v,e.setParams[v]),h)),new zS(t,n,s,{params:h,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:o})}}var Ox=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Ox||{});class gz{constructor(e,t=200,n="OK"){this.headers=e.headers||new qu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _z extends gz{constructor(e={}){super(e),this.type=Ox.ResponseHeader}clone(e={}){return new _z({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Rx extends gz{constructor(e={}){super(e),this.type=Ox.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Rx({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class b$ extends gz{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bz(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Nd=(()=>{class i{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof zS)s=t;else{let d,h;d=r.headers instanceof qu?r.headers:new qu(r.headers),r.params&&(h=r.params instanceof tn?r.params:new tn({fromObject:r.params})),s=new zS(t,n,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=je(s).pipe(K0(d=>this.handler.handle(d)));if(t instanceof zS||"events"===r.observe)return o;const l=o.pipe(Gn(d=>d instanceof Rx));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Ae(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(Ae(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(Ae(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return l.pipe(Ae(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new tn).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,bz(r,n))}post(t,n,r={}){return this.request("POST",t,bz(r,n))}put(t,n,r={}){return this.request("PUT",t,bz(r,n))}static#t=this.\u0275fac=function(n){return new(n||i)(V(cP))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();function x$(i,e){return e(i)}function bct(i,e){return(t,n)=>e.intercept(t,{handle:r=>i(r,n)})}const w$=new xe(""),VS=new xe(""),C$=new xe("");function yct(){let i=null;return(e,t)=>{null===i&&(i=(wt(w$,{optional:!0})??[]).reduceRight(bct,x$));const n=wt(N0),r=n.add();return i(e,t).pipe(Fl(()=>n.remove(r)))}}let E$=(()=>{class i extends cP{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=wt(N0)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(VS),...this.injector.get(C$,[])]));this.chain=r.reduceRight((s,o)=>function vct(i,e,t){return(n,r)=>t.runInContext(()=>e(n,s=>i(s,r)))}(s,o,this.injector),x$)}const n=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Fl(()=>this.pendingTasks.remove(n)))}static#t=this.\u0275fac=function(n){return new(n||i)(V(dP),V(Fa))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();const Ect=/^\)\]\}',?\n/;let S$=(()=>{class i{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Se(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?ne(n.\u0275loadImpl()):je(null)).pipe(Hn(()=>new Xt(s=>{const o=n.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((T,P)=>o.setRequestHeader(T,P.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const T=t.detectContentTypeHeader();null!==T&&o.setRequestHeader("Content-Type",T)}if(t.responseType){const T=t.responseType.toLowerCase();o.responseType="json"!==T?T:"text"}const l=t.serializeBody();let d=null;const h=()=>{if(null!==d)return d;const T=o.statusText||"OK",P=new qu(o.getAllResponseHeaders()),F=function Mct(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new _z({headers:P,status:o.status,statusText:T,url:F}),d},m=()=>{let{headers:T,status:P,statusText:F,url:H}=h(),j=null;204!==P&&(j=typeof o.response>"u"?o.responseText:o.response),0===P&&(P=j?200:0);let Q=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof j){const Tt=j;j=j.replace(Ect,"");try{j=""!==j?JSON.parse(j):null}catch(Rt){j=Tt,Q&&(Q=!1,j={error:Rt,text:j})}}Q?(s.next(new Rx({body:j,headers:T,status:P,statusText:F,url:H||void 0})),s.complete()):s.error(new b$({error:j,headers:T,status:P,statusText:F,url:H||void 0}))},b=T=>{const{url:P}=h(),F=new b$({error:T,status:o.status||0,statusText:o.statusText||"Unknown Error",url:P||void 0});s.error(F)};let v=!1;const E=T=>{v||(s.next(h()),v=!0);let P={type:Ox.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(P.total=T.total),"text"===t.responseType&&o.responseText&&(P.partialText=o.responseText),s.next(P)},D=T=>{let P={type:Ox.UploadProgress,loaded:T.loaded};T.lengthComputable&&(P.total=T.total),s.next(P)};return o.addEventListener("load",m),o.addEventListener("error",b),o.addEventListener("timeout",b),o.addEventListener("abort",b),t.reportProgress&&(o.addEventListener("progress",E),null!==l&&o.upload&&o.upload.addEventListener("progress",D)),o.send(l),s.next({type:Ox.Sent}),()=>{o.removeEventListener("error",b),o.removeEventListener("abort",b),o.removeEventListener("load",m),o.removeEventListener("timeout",b),t.reportProgress&&(o.removeEventListener("progress",E),null!==l&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})))}static#t=this.\u0275fac=function(n){return new(n||i)(V(nj))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();const vz=new xe("XSRF_ENABLED"),k$=new xe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),D$=new xe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class T${}let Dct=(()=>{class i{constructor(t,n,r){this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$G(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(Fc),V(k$))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();function Tct(i,e){const t=i.url.toLowerCase();if(!wt(vz)||"GET"===i.method||"HEAD"===i.method||t.startsWith("http://")||t.startsWith("https://"))return e(i);const n=wt(T$).getToken(),r=wt(D$);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),e(i)}var rg=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(rg||{});function Ict(...i){const e=[Nd,S$,E$,{provide:cP,useExisting:E$},{provide:dP,useExisting:S$},{provide:VS,useValue:Tct,multi:!0},{provide:vz,useValue:!0},{provide:T$,useClass:Dct}];for(const t of i)e.push(...t.\u0275providers);return function N_(i){return{\u0275providers:i}}(e)}const I$=new xe("LEGACY_INTERCEPTOR_FN");function Act(){return function Q0(i,e){return{\u0275kind:i,\u0275providers:e}}(rg.LegacyInterceptors,[{provide:I$,useFactory:yct},{provide:VS,useExisting:I$,multi:!0}])}let yz,Oct=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[Ict(Act())]})}return i})();try{yz=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yz=!1}let Px,Nr=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ej(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yz)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(n){return new(n||i)(V(Fc))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const A$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function O$(){if(Px)return Px;if("object"!=typeof document||!document)return Px=new Set(A$),Px;let i=document.createElement("input");return Px=new Set(A$.filter(e=>(i.setAttribute("type",e),i.type===e))),Px}let HS,fP,tb,xz;function J0(i){return function Bct(){if(null==HS&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>HS=!0}))}finally{HS=HS||!1}return HS}()?i:!!i.capture}function R$(){if(null==tb){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tb=!1,tb;if("scrollBehavior"in document.documentElement.style)tb=!0;else{const i=Element.prototype.scrollTo;tb=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return tb}function US(){if("object"!=typeof document||!document)return 0;if(null==fP){const i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",i.appendChild(t),document.body.appendChild(i),fP=0,0===i.scrollLeft&&(i.scrollLeft=1,fP=0===i.scrollLeft?1:2),i.remove()}return fP}function mP(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function Nf(i){return i.composedPath?i.composedPath()[0]:i.target}function wz(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function cl(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function og(){}function ro(i,e,t){return function(r){return r.lift(new Jct(i,e,t))}}class Jct{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new tdt(e,this.nextOrObserver,this.error,this.complete))}}class tdt extends et{constructor(e,t,n,r){super(e),this._tapNext=og,this._tapError=og,this._tapComplete=og,this._tapError=n||og,this._tapComplete=r||og,ht(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||og,this._tapError=t.error||og,this._tapComplete=t.complete||og)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const L$=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function ur(i){return e=>0===i?BR():e.lift(new edt(i))}class edt{constructor(e){if(this.total=e,this.total<0)throw new L$}call(e,t){return t.subscribe(new idt(e,this.total))}}class idt extends et{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function F$(i){return e=>e.lift(new ndt(i))}class ndt{constructor(e){this.total=e}call(e,t){return t.subscribe(new rdt(e,this.total))}}class rdt extends et{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function gn(i){return e=>e.lift(new sdt(i))}class sdt{constructor(e){this.notifier=e}call(e,t){const n=new odt(e),r=dn(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class odt extends Xn{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,s){this.seenValue=!0,this.complete()}notifyComplete(){}}function Li(i){return null!=i&&"false"!=`${i}`}function kr(i,e=0){return N$(i)?Number(i):e}function N$(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function _P(i){return Array.isArray(i)?i:[i]}function po(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Bf(i){return i instanceof ai?i.nativeElement:i}let B$=(()=>{class i{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ez=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[B$]})}return i})();function Nx(...i){return function ddt(){return Re(1)}()(je(...i))}function Nl(...i){const e=i[i.length-1];return St(e)?(i.pop(),t=>Nx(i,t,e)):t=>Nx(i,t)}const z$=new Set;let ib,V$=(()=>{class i{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):hdt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function udt(i,e){if(!z$.has(i))try{ib||(ib=document.createElement("style"),e&&(ib.nonce=e),ib.setAttribute("type","text/css"),document.head.appendChild(ib)),ib.sheet&&(ib.sheet.insertRule(`@media ${i} {body{ }}`,0),z$.add(i))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nr),V(uy,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function hdt(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Mz=(()=>{class i{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new Nt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return H$(_P(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Pf(H$(_P(t)).map(o=>this._registerQuery(o).observable));return s=Nx(s.pipe(ur(1)),s.pipe(F$(1),Dx(0))),s.pipe(Ae(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:d,query:h})=>{l.matches=l.matches||d,l.breakpoints[h]=d}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new Xt(o=>{const l=d=>this._zone.run(()=>o.next(d));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Nl(n),Ae(({matches:o})=>({query:t,matches:o})),gn(this._destroySubject)),mql:n};return this._queries.set(t,s),s}static#t=this.\u0275fac=function(n){return new(n||i)(V(V$),V(fi))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function H$(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Sz(i,e,t){const n=bP(i,e);n.some(r=>r.trim()==t.trim())||(n.push(t.trim()),i.setAttribute(e,n.join(" ")))}function jS(i,e,t){const r=bP(i,e).filter(s=>s!=t.trim());r.length?i.setAttribute(e,r.join(" ")):i.removeAttribute(e)}function bP(i,e){return(i.getAttribute(e)||"").match(/\S+/g)||[]}const G$="cdk-describedby-message",vP="cdk-describedby-host";let kz=0,mdt=(()=>{class i{constructor(t,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+kz++,this._document=t,this._id=wt(op)+"-"+kz++}describe(t,n,r){if(!this._canBeDescribed(t,n))return;const s=Dz(n,r);"string"!=typeof n?(j$(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,n,r){if(!n||!this._isElementNode(t))return;const s=Dz(n,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof n){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${vP}="${this._id}"]`);for(let n=0;n<t.length;n++)this._removeCdkDescribedByReferenceIds(t[n]),t[n].removeAttribute(vP);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,n){const r=this._document.createElement("div");j$(r,this._id),r.textContent=t,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Dz(t,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const n=bP(t,"aria-describedby").filter(r=>0!=r.indexOf(G$));t.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(t,n){const r=this._messageRegistry.get(n);Sz(t,"aria-describedby",r.messageElement.id),t.setAttribute(vP,this._id),r.referenceCount++}_removeMessageReference(t,n){const r=this._messageRegistry.get(n);r.referenceCount--,jS(t,"aria-describedby",r.messageElement.id),t.removeAttribute(vP)}_isElementDescribedByMessage(t,n){const r=bP(t,"aria-describedby"),s=this._messageRegistry.get(n),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,n){if(!this._isElementNode(t))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(Nr))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Dz(i,e){return"string"==typeof i?`${e||""}/${i}`:i}function j$(i,e){i.id||(i.id=`${G$}-${e}-${kz++}`)}class W${constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Nt,this._typeaheadSubscription=B.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Nt,this.change=new Nt,e instanceof zu&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ro(t=>this._pressedLetters.push(t)),Dx(e),Gn(()=>this._pressedLetters.length>0),Ae(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||cl(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e);this._activeItem=t[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof zu?this._items.toArray():this._items}}class $$ extends W${setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class Tz extends W${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let WS=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function gdt(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function pdt(i){try{return i.frameElement}catch{return null}}(function Edt(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(n&&(-1===Z$(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=Z$(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function wdt(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function Cdt(i){return!function bdt(i){return function ydt(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function _dt(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function vdt(i){return function xdt(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||Y$(i))}(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nr))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Y$(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Z$(i){if(!Y$(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Mdt{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,n,r,s=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ur(1)).subscribe(e)}}let yP=(()=>{class i{constructor(t,n,r){this._checker=t,this._ngZone=n,this._document=r}create(t,n=!1){return new Mdt(t,this._checker,this._ngZone,this._document,n)}static#t=this.\u0275fac=function(n){return new(n||i)(V(WS),V(fi),V(li))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Iz(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function Az(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Sdt=new xe("cdk-input-modality-detector-options"),kdt={ignoreKeys:[18,17,224,91,16]},Bx=J0({passive:!0,capture:!0});let Ddt=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ti(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(l=>l===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nf(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Iz(o)?"keyboard":"mouse"),this._mostRecentTarget=Nf(o))},this._onTouchstart=o=>{Az(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nf(o))},this._options={...kdt,...s},this.modalityDetected=this._modality.pipe(F$(1)),this.modalityChanged=this.modalityDetected.pipe(_h()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Bx),r.addEventListener("mousedown",this._onMousedown,Bx),r.addEventListener("touchstart",this._onTouchstart,Bx)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Bx),document.removeEventListener("mousedown",this._onMousedown,Bx),document.removeEventListener("touchstart",this._onTouchstart,Bx))}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nr),V(fi),V(li),V(Sdt,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Tdt=new xe("liveAnnouncerElement",{providedIn:"root",factory:function Idt(){return null}}),Adt=new xe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Odt=0,Oz=(()=>{class i{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Odt++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static#t=this.\u0275fac=function(n){return new(n||i)(V(Tdt,8),V(fi),V(li),V(Adt,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Rdt=new xe("cdk-focus-monitor-default-options"),xP=J0({passive:!0,capture:!0});let Xu=(()=>{class i{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Nt,this._rootNodeFocusAndBlurListener=l=>{for(let h=Nf(l);h;h=h.parentElement)"focus"===l.type?this._onFocus(l,h):this._onBlur(l,h)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,n=!1){const r=Bf(t);if(!this._platform.isBrowser||1!==r.nodeType)return je();const s=function Vct(i){if(function zct(){if(null==xz){const i=typeof document<"u"?document.head:null;xz=!(!i||!i.createShadowRoot&&!i.attachShadow)}return xz}()){const e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const l={checkChildren:n,subject:new Nt,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const n=Bf(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=Bf(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,n,d)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=Nf(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,xP),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,xP)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xP),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xP),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}static#t=this.\u0275fac=function(n){return new(n||i)(V(fi),V(Nr),V(Ddt),V(li,8),V(Rdt,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const X$="cdk-high-contrast-black-on-white",K$="cdk-high-contrast-white-on-black",Rz="cdk-high-contrast-active";let Q$=(()=>{class i{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=wt(Mz).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Rz,X$,K$),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?t.add(Rz,X$):2===n&&t.add(Rz,K$)}}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nr),V(li))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),J$=(()=>{class i{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#t=this.\u0275fac=function(n){return new(n||i)(V(Q$))};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Ez]})}return i})();const Pdt=new xe("cdk-dir-doc",{providedIn:"root",factory:function Ldt(){return wt(li)}}),Fdt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Bl=(()=>{class i{constructor(t){this.value="ltr",this.change=new qe,t&&(this.value=function Ndt(i){const e=i?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Fdt.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(n){return new(n||i)(V(Pdt,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$S=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();const Bdt=["*",[["mat-option"],["ng-container"]]],zdt=["*","mat-option, ng-container"],Vdt=["text"];function Hdt(i,e){if(1&i&&te(0,"mat-pseudo-checkbox",6),2&i){const t=Mt();Y("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function Udt(i,e){1&i&&te(0,"mat-pseudo-checkbox",7),2&i&&Y("disabled",Mt().disabled)}function Gdt(i,e){if(1&i&&(O(0,"span",8),tt(1),L()),2&i){const t=Mt();z(1),mi("(",t.group.label,")")}}const jdt=[[["mat-icon"]],"*"],Wdt=["mat-icon","*"],Ydt=new xe("mat-sanity-checks",{providedIn:"root",factory:function $dt(){return!0}});let Pn=(()=>{class i{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!wz()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#t=this.\u0275fac=function(n){return new(n||i)(V(Q$),V(Ydt,8),V(li))};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[$S,$S]})}return i})();function ag(i){return class extends i{get disabled(){return this._disabled}set disabled(e){this._disabled=Li(e)}constructor(...e){super(...e),this._disabled=!1}}}function zx(i,e){return class extends i{get color(){return this._color}set color(t){const n=t||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function nb(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Li(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function YS(i,e=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?kr(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function iY(i){return class extends i{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}function Zdt(i){return class extends i{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Xt(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let nY=(()=>{class i{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Xdt{constructor(e,t,n,r=!1){this._renderer=e,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rY=J0({passive:!0,capture:!0});class Kdt{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Nf(e);t&&this._events.get(e.type)?.forEach((n,r)=>{(r===t||r.contains(t))&&n.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,n,r){const s=this._events.get(t);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(t,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,rY)})}removeHandler(e,t,n){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(n),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rY)))}}const sY={enterDuration:225,exitDuration:150},oY=J0({passive:!0,capture:!0}),aY=["mousedown","touchstart"],lY=["mouseup","mouseleave","touchend","touchcancel"];class qS{static#t=this._eventManager=new Kdt;constructor(e,t,n,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bf(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...sY,...n.animation};n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function Jdt(i,e,t){const n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+r*r)}(e,t,r),l=e-r.left,d=t-r.top,h=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=l-o+"px",m.style.top=d-o+"px",m.style.height=2*o+"px",m.style.width=2*o+"px",null!=n.color&&(m.style.backgroundColor=n.color),m.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(m);const b=window.getComputedStyle(m),E=b.transitionDuration,D="none"===b.transitionProperty||"0s"===E||"0s, 0s"===E||0===r.width&&0===r.height,T=new Xdt(this,m,n,D);m.style.transform="scale3d(1, 1, 1)",T.state=0,n.persistent||(this._mostRecentTransientRipple=T);let P=null;return!D&&(h||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const F=()=>this._finishRippleTransition(T),H=()=>this._destroyRipple(T);m.addEventListener("transitionend",F),m.addEventListener("transitioncancel",H),P={onTransitionEnd:F,onTransitionCancel:H}}),this._activeRipples.set(T,P),(D||!h)&&this._finishRippleTransition(T),T}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,n={...sY,...e.config.animation};t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Bf(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,aY.forEach(n=>{qS._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lY.forEach(t=>{this._triggerElement.addEventListener(t,this,oY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=1,!n&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Iz(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Az(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(aY.forEach(t=>qS._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&lY.forEach(t=>e.removeEventListener(t,this,oY)))}}const XS=new xe("mat-ripple-global-options");let lg=(()=>{class i{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new qS(this,n,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(fi),U(Nr),U(XS,8),U(Gr,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),rb=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,Pn]})}return i})(),tut=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#t=this.\u0275fac=function(n){return new(n||i)(U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&Vi("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return i})(),cY=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn]})}return i})();const wP=new xe("MAT_OPTION_PARENT_COMPONENT"),eut=ag(class{});let iut=0,nut=(()=>{class i extends eut{constructor(t){super(),this._labelId="mat-optgroup-label-"+iut++,this._inert=t?.inertGroups??!1}static#t=this.\u0275fac=function(n){return new(n||i)(U(wP,8))};static#e=this.\u0275dir=be({type:i,inputs:{label:"label"},features:[Ue]})}return i})();const CP=new xe("MatOptgroup");let rut=(()=>{class i extends nut{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(n,r){2&n&&Ni("role",r._inert?null:"group")("aria-disabled",r._inert?null:r.disabled.toString())("aria-labelledby",r._inert?null:r._labelId)},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[vi([{provide:CP,useExisting:i}]),Ue],ngContentSelectors:zdt,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(n,r){1&n&&(jn(Bdt),O(0,"span",0)(1,"span",1),tt(2),Ei(3),L()(),Ei(4,1)),2&n&&(Vi("mdc-list-item--disabled",r.disabled),Y("id",r._labelId),z(2),mi("",r.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color);font-family:var(--mat-optgroup-label-text-font);line-height:var(--mat-optgroup-label-text-line-height);font-size:var(--mat-optgroup-label-text-size);letter-spacing:var(--mat-optgroup-label-text-tracking);font-weight:var(--mat-optgroup-label-text-weight)}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;min-height:48px}.mat-mdc-optgroup-label:focus{outline:none}[dir=rtl] .mat-mdc-optgroup-label,.mat-mdc-optgroup-label[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return i})(),sut=0;class dY{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let out=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Li(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+sut++,this.onSelectionChange=new qe,this._stateChanges=new Nt}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!cl(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new dY(this,t))}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275dir=be({type:i,viewQuery:function(n,r){if(1&n&&Pi(Vdt,7),2&n){let s;Ze(s=We())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return i})(),pc=(()=>{class i extends out{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Sn),U(wP,8),U(CP,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&fe("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&n&&($c("id",r.id),Ni("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Vi("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[Ue],ngContentSelectors:Wdt,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(n,r){1&n&&(jn(jdt),It(0,Hdt,1,2,"mat-pseudo-checkbox",0),Ei(1),O(2,"span",1,2),Ei(4,1),L(),It(5,Udt,1,1,"mat-pseudo-checkbox",3),It(6,Gdt,2,1,"span",4),te(7,"div",5)),2&n&&(Y("ngIf",r.multiple),z(5),Y("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),z(1),Y("ngIf",r.group&&r.group._inert),z(1),Y("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[lg,on,tut],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})();function uY(i,e,t){if(t.length){let n=e.toArray(),r=t.toArray(),s=0;for(let o=0;o<i+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}function hY(i,e,t,n){return i<t?i:i+e>t+n?Math.max(0,i-n+e):t}let EP=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[rb,_s,Pn,cY]})}return i})();const fY={capture:!0},mY=["focus","click","mouseenter","touchstart"],Pz="mat-ripple-loader-uninitialized",Lz="mat-ripple-loader-class-name",pY="mat-ripple-loader-centered",MP="mat-ripple-loader-disabled";let aut=(()=>{class i{constructor(){this._document=wt(li,{optional:!0}),this._animationMode=wt(Gr,{optional:!0}),this._globalRippleOptions=wt(XS,{optional:!0}),this._platform=wt(Nr),this._ngZone=wt(fi),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${Pz}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of mY)this._document?.addEventListener(t,this._onInteraction,fY)})}ngOnDestroy(){for(const t of mY)this._document?.removeEventListener(t,this._onInteraction,fY)}configureRipple(t,n){t.setAttribute(Pz,""),(n.className||!t.hasAttribute(Lz))&&t.setAttribute(Lz,n.className||""),n.centered&&t.setAttribute(pY,""),n.disabled&&t.setAttribute(MP,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,n){const r=t.matRipple;r?r.disabled=n:n?t.setAttribute(MP,""):t.removeAttribute(MP)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const n=this._document.createElement("span");n.classList.add("mat-ripple",t.getAttribute(Lz)),t.append(n);const r=new lg(new ai(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(pY),r.disabled=t.hasAttribute(MP),this.attachRipple(t,r),r}attachRipple(t,n){t.removeAttribute(Pz),t.matRipple=n}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const gY=["mat-button",""],Fz=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Nz=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],_Y=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",cut=["mat-mini-fab",""],uut=["mat-icon-button",""],hut=["*"],fut=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],mut=zx(ag(nb(class{constructor(i){this._elementRef=i}})));let SP=(()=>{class i extends mut{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Li(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Li(t),this._updateRippleDisabled()}constructor(t,n,r,s){super(t),this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=wt(Xu),this._rippleLoader=wt(aut),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=t.nativeElement.classList;for(const l of fut)this._hasHostAttributes(l.selector)&&l.mdcClasses.forEach(d=>{o.add(d)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...t){return t.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275dir=be({type:i,features:[Ue]})}return i})(),gut=(()=>{class i extends SP{constructor(t,n,r,s){super(t,n,r,s),this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275dir=be({type:i,features:[Ue]})}return i})(),dl=(()=>{class i extends SP{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Nr),U(fi),U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(Ni("disabled",r.disabled||null),Vi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ue],attrs:gY,ngContentSelectors:Nz,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(jn(Fz),te(0,"span",0),Ei(1),O(2,"span",1),Ei(3,1),L(),Ei(4,2),te(5,"span",2)(6,"span",3)),2&n&&Vi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),_ut=(()=>{class i extends gut{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Nr),U(fi),U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(n,r){2&n&&(Ni("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),Vi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[Ue],attrs:gY,ngContentSelectors:Nz,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(jn(Fz),te(0,"span",0),Ei(1),O(2,"span",1),Ei(3,1),L(),Ei(4,2),te(5,"span",2)(6,"span",3)),2&n&&Vi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',_Y],encapsulation:2,changeDetection:0})}return i})();const but=new xe("mat-mdc-fab-default-options",{providedIn:"root",factory:bY});function bY(){return{color:"accent"}}const vY=bY();let vut=(()=>{class i extends SP{constructor(t,n,r,s,o){super(t,n,r,s),this._options=o,this._isFab=!0,this._options=this._options||vY,this.color=this.defaultColor=this._options.color||vY.color}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Nr),U(fi),U(Gr,8),U(but,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(n,r){2&n&&(Ni("disabled",r.disabled||null),Vi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ue],attrs:cut,ngContentSelectors:Nz,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(jn(Fz),te(0,"span",0),Ei(1),O(2,"span",1),Ei(3,1),L(),Ei(4,2),te(5,"span",2)(6,"span",3)),2&n&&Vi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return i})(),cg=(()=>{class i extends SP{constructor(t,n,r,s){super(t,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Nr),U(fi),U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,r){2&n&&(Ni("disabled",r.disabled||null),Vi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ue],attrs:uut,ngContentSelectors:hut,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(jn(),te(0,"span",0),Ei(1),te(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',_Y],encapsulation:2,changeDetection:0})}return i})(),dg=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,rb,Pn]})}return i})();const yut=["*"],xut=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],wut=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],Cut=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Eut=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Mut=new xe("MAT_CARD_CONFIG");let Ku=(()=>{class i{constructor(t){this.appearance=t?.appearance||"raised"}static#t=this.\u0275fac=function(n){return new(n||i)(U(Mut,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&Vi("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:yut,decls:1,vars:0,template:function(n,r){1&n&&(jn(),Ei(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return i})(),kP=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return i})(),yY=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],ngContentSelectors:wut,decls:4,vars:0,template:function(n,r){1&n&&(jn(xut),O(0,"div"),Ei(1),L(),Ei(2,1),Ei(3,2))},encapsulation:2,changeDetection:0})}return i})(),Vx=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return i})(),DP=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return i})(),TP=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Eut,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(jn(Cut),Ei(0),O(1,"div",0),Ei(2,1),L(),Ei(3,2))},encapsulation:2,changeDetection:0})}return i})(),xY=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-mdc-card-lg-image","mdc-card__media"]})}return i})(),wY=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]})}return i})(),CY=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,_s,Pn]})}return i})();const Out=["input"],Rut=["label"],Put=["*"],Lut=new xe("mat-checkbox-default-options",{providedIn:"root",factory:EY});function EY(){return{color:"accent",clickAction:"check-indeterminate"}}const Fut={provide:Ea,useExisting:An(()=>SY),multi:!0};class Nut{}let But=0;const MY=EY(),zut=YS(zx(nb(ag(class{constructor(i){this._elementRef=i}}))));let Vut=(()=>{class i extends zut{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Li(t)}constructor(t,n,r,s,o,l,d){super(n),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=l,this._options=d,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new qe,this.indeterminateChange=new qe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||MY,this.color=this.defaultColor=this._options.color||MY.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`${t}${++But}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const n=Li(t);n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const n=Li(t);n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=Li(t),n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===n)return this._animationClasses.uncheckedToChecked;if(3==n)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===n?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===n?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===n?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275dir=be({type:i,viewQuery:function(n,r){if(1&n&&(Pi(Out,5),Pi(Rut,5),Pi(lg,5)),2&n){let s;Ze(s=We())&&(r._inputElement=s.first),Ze(s=We())&&(r._labelElement=s.first),Ze(s=We())&&(r.ripple=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[Ue]})}return i})(),SY=(()=>{class i extends Vut{constructor(t,n,r,s,o,l){super("mat-mdc-checkbox-",t,n,r,s,o,l),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const n=new Nut;return n.source=this,n.checked=t,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Sn),U(fi),Cl("tabindex"),U(Gr,8),U(Lut,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&($c("id",r.id),Ni("tabindex",null)("aria-label",null)("aria-labelledby",null),Vi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[vi([Fut]),Ue],ngContentSelectors:Put,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(n,r){if(1&n&&(jn(),O(0,"div",0),fe("click",function(o){return r._preventBubblingFromLabel(o)}),O(1,"div",1,2)(3,"div",3),fe("click",function(){return r._onTouchTargetClick()}),L(),O(4,"input",4,5),fe("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(o){return r._onInteractionEvent(o)}),L(),te(6,"div",6),O(7,"div",7),Os(),O(8,"svg",8),te(9,"path",9),L(),Rh(),te(10,"div",10),L(),te(11,"div",11),L(),O(12,"label",12,13),Ei(14),L()()),2&n){const s=Yo(2);Vi("mdc-form-field--align-end","before"==r.labelPosition),z(4),Vi("mdc-checkbox--selected",r.checked),Y("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),Ni("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),z(7),Y("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),z(1),Y("for",r.inputId)}},dependencies:[lg],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),kY=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})(),Gut=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,rb,kY,Pn,kY]})}return i})();function Ga(i){return function(t){const n=new jut(i),r=t.lift(n);return n.caught=r}}class jut{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Wut(e,this.selector,this.caught))}}class Wut extends Xn{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const n=new ee(this,void 0,void 0);this.add(n);const r=dn(this,t,void 0,void 0,n);r!==n&&this.add(r)}}}const $ut=["*"];let IP;function KS(i){return function Yut(){if(void 0===IP&&(IP=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(IP=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return IP}()?.createHTML(i)||i}function DY(i){return Error(`Unable to find icon with the name "${i}"`)}function TY(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function IY(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class sb{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let AP=(()=>{class i{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new sb(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(js.HTML,r);if(!o)throw IY(r);const l=KS(o);return this._addSvgIconConfig(t,n,new sb("",l,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new sb(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(js.HTML,n);if(!s)throw IY(n);const o=KS(s);return this._addSvgIconSetConfig(t,new sb("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(js.RESOURCE_URL,t);if(!n)throw TY(t);const r=this._cachedIconsByUrl.get(n);return r?je(OP(r)):this._loadSvgIconFromConfig(new sb(t,null)).pipe(ro(s=>this._cachedIconsByUrl.set(n,s)),Ae(s=>OP(s)))}getNamedSvgIcon(t,n=""){const r=AY(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):Rf(DY(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?je(OP(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ae(n=>OP(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?je(r):LB(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ga(l=>{const h=`Loading icon set URL: ${this._sanitizer.sanitize(js.RESOURCE_URL,o.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(h)),je(null)})))).pipe(Ae(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw DY(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(o,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ro(n=>t.svgText=n),Ae(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?je(null):this._fetchIcon(t).pipe(ro(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const l=this._svgElementFromString(KS("<svg></svg>"));return l.appendChild(o),this._setSvgAttributes(l,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(KS("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:l}=r[s];"id"!==o&&n.setAttribute(o,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){const{url:n,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Zut(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(js.RESOURCE_URL,n);if(!o)throw TY(n);const l=this._inProgressUrlFetches.get(o);if(l)return l;const d=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Ae(h=>KS(h)),Fl(()=>this._inProgressUrlFetches.delete(o)),Tc());return this._inProgressUrlFetches.set(o,d),d}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(AY(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return Xut(s)?new sb(s.url,null,s.options):new sb(s,null)}}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nd,8),V(FR),V(li,8),V(sl))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function OP(i){return i.cloneNode(!0)}function AY(i,e){return i+":"+e}function Xut(i){return!(!i.url||!i.options)}const Kut=zx(class{constructor(i){this._elementRef=i}}),Qut=new xe("MAT_ICON_DEFAULT_OPTIONS"),Jut=new xe("mat-icon-location",{providedIn:"root",factory:function tht(){const i=wt(li),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),OY=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eht=OY.map(i=>`[${i}]`).join(", "),iht=/^url\(['"]?#(.*?)['"]?\)$/;let Ma=(()=>{class i extends Kut{get inline(){return this._inline}set inline(t){this._inline=Li(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(t,n,r,s,o,l){super(t),this._iconRegistry=n,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=B.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),n.forEach(r=>t.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(eht),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)OY.forEach(o=>{const l=n[s],d=l.getAttribute(o),h=d?d.match(iht):null;if(h){let m=r.get(l);m||(m=[],r.set(l,m)),m.push({name:o,value:h[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(ur(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(AP),Cl("aria-hidden"),U(Jut),U(sl),U(Qut,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,r){2&n&&(Ni("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Vi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ue],ngContentSelectors:$ut,decls:1,vars:0,template:function(n,r){1&n&&(jn(),Ei(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return i})(),ob=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,Pn]})}return i})();new class rht extends Fd{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class nht extends NR{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let oht=1;const aht=Promise.resolve(),RP={};function RY(i){return i in RP&&(delete RP[i],!0)}const PY={setImmediate(i){const e=oht++;return RP[e]=!0,aht.then(()=>RY(e)&&i()),e},clearImmediate(i){RY(i)}},Bz=new class cht extends Fd{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class lht extends NR{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=PY.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(PY.clearImmediate(t),e.scheduled=void 0)}});class uht{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new hht(e,this.durationSelector))}}class hht extends Xn{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:r}=this;t=r(e)}catch(r){return this.destination.error(r)}const n=dn(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function LY(i){return!At(i)&&i-parseFloat(i)+1>=0}function mht(i){const{index:e,period:t,subscriber:n}=i;if(n.next(e),!n.closed){if(-1===t)return n.complete();i.index=e+1,this.schedule(i,t)}}function FY(i,e=HR){return function dht(i){return function(t){return t.lift(new uht(i))}}(()=>function fht(i=0,e,t){let n=-1;return LY(e)?n=Number(e)<1?1:Number(e):St(e)&&(t=e),St(t)||(t=HR),new Xt(r=>{const s=LY(i)?i:+i-t.now();return t.schedule(mht,s,{index:0,period:n,subscriber:r})})}(i,e))}let QS=(()=>{class i{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new Nt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xt(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(FY(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(Gn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=Bf(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#t=this.\u0275fac=function(n){return new(n||i)(V(fi),V(Nr),V(li,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),JS=(()=>{class i{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new Nt,this._elementScrolled=new Xt(o=>this.ngZone.runOutsideAngular(()=>Qp(this.elementRef.nativeElement,"scroll").pipe(gn(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&0!=US()?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),2==US()?t.left=t.right:1==US()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;R$()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&2==US()?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==US()?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(QS),U(fi),U(Bl,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return i})(),Hx=(()=>{class i{constructor(t,n,r){this._platform=t,this._change=new Nt,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(FY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nr),V(fi),V(li,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ug=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})(),zz=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[$S,ug,$S,ug]})}return i})();class bht{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new vht(e,this.predicate,this.inclusive))}}class vht extends et{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;t?n.next(e):(this.inclusive&&n.next(e),n.complete())}}class Vz{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ab extends Vz{constructor(e,t,n,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class lb extends Vz{constructor(e,t,n,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class yht extends Vz{constructor(e){super(),this.element=e instanceof ai?e.nativeElement:e}}class PP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ab?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof lb?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof yht?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class xht extends PP{constructor(e,t,n,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const l=o.element,d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector||jr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ux=(()=>{class i extends PP{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new qe,this.attachDomPortal=s=>{const o=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(l,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector,t.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#t=this.\u0275fac=function(n){return new(n||i)(U(cp),U(Zr),U(li))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ue]})}return i})(),Gx=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();const NY=R$();class wht{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=po(-this._previousScrollPosition.left),e.style.top=po(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,n=e.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),NY&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),NY&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class Cht{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Gn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BY{enable(){}disable(){}attach(){}}function Hz(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function zY(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class Eht{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Hz(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Mht=(()=>{class i{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new BY,this.close=o=>new Cht(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new wht(this._viewportRuler,this._document),this.reposition=o=>new Eht(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#t=this.\u0275fac=function(n){return new(n||i)(V(QS),V(Hx),V(fi),V(li))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class jx{constructor(e){if(this.scrollStrategy=new BY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class Sht{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let VY=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#t=this.\u0275fac=function(n){return new(n||i)(V(li))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),kht=(()=>{class i extends VY{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const l=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(fi,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Dht=(()=>{class i extends VY{constructor(t,n,r){super(t),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Nf(s)},this._clickListener=s=>{const o=Nf(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){const m=d[h];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(o)||m.overlayElement.contains(l))break;const b=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(s)):b.next(s)}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(Nr),V(fi,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),LP=(()=>{class i{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||wz()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),wz()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(Nr))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class t2{constructor(e,t,n,r,s,o,l,d,h,m=!1){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=l,this._location=d,this._outsideClickDispatcher=h,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new Nt,this._attachments=new Nt,this._detachments=new Nt,this._locationChanges=B.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new Nt,this._outsidePointerEvents=new Nt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ur(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=po(this._config.width),e.height=po(this._config.height),e.minWidth=po(this._config.minWidth),e.minHeight=po(this._config.minHeight),e.maxWidth=po(this._config.maxWidth),e.maxHeight=po(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,n){const r=_P(t||[]).filter(s=>!!s);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(gn(yi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const HY="cdk-overlay-connected-position-bounding-box",Tht=/([A-Za-z%]+)$/;class Iht{get positions(){return this._preferredPositions}constructor(e,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Nt,this._resizeSubscription=B.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(HY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let l of this._preferredPositions){let d=this._getOriginPoint(e,r,l),h=this._getOverlayPoint(d,t,l),m=this._getOverlayFit(h,t,n,l);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,d);this._canFitWithFlexibleDimensions(m,h,n)?s.push({position:l,origin:d,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(d,l)}):(!o||o.overlayFit.visibleArea<m.visibleArea)&&(o={overlayFit:m,overlayPoint:h,originPoint:d,position:l,overlayRect:t})}if(s.length){let l=null,d=-1;for(const h of s){const m=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);m>d&&(d=m,l=h)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,n){let r,s;if("center"==n.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;r="start"==n.originX?o:l}return t.left<0&&(r-=t.left),s="center"==n.originY?e.top+e.height/2:"top"==n.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,n,r){const s=GY(t);let{x:o,y:l}=e,d=this._getOffset(r,"x"),h=this._getOffset(r,"y");d&&(o+=d),h&&(l+=h);let v=0-l,E=l+s.height-n.height,D=this._subtractOverflows(s.width,0-o,o+s.width-n.width),T=this._subtractOverflows(s.height,v,E),P=D*T;return{visibleArea:P,isCompletelyWithinViewport:s.width*s.height===P,fitsInViewportVertically:T===s.height,fitsInViewportHorizontally:D==s.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=UY(this._overlayRef.getConfig().minHeight),l=UY(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=l&&l<=s)}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=GY(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),l=Math.max(e.y+r.height-s.height,0),d=Math.max(s.top-n.top-e.y,0),h=Math.max(s.left-n.left-e.x,0);let m=0,b=0;return m=r.width<=s.width?h||-o:e.x<this._viewportMargin?s.left-n.left-e.x:0,b=r.height<=s.height?d||-l:e.y<this._viewportMargin?s.top-n.top-e.y:0,this._previousPushAmount={x:m,y:b},{x:e.x+m,y:e.y+b}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new Sht(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let s,o,l,m,b,v;if("top"===t.overlayY)o=e.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)l=n.height-e.y+2*this._viewportMargin,s=n.height-l+this._viewportMargin;else{const E=Math.min(n.bottom-e.y+n.top,e.y),D=this._lastBoundingBoxSize.height;s=2*E,o=e.y-E,s>D&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-D/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)v=n.width-e.x+this._viewportMargin,m=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)b=e.x,m=n.right-e.x;else{const E=Math.min(n.right-e.x+n.left,e.x),D=this._lastBoundingBoxSize.width;m=2*E,b=e.x-E,m>D&&!this._isInitialRender&&!this._growAfterOpen&&(b=e.x-D/2)}return{top:o,left:b,bottom:l,right:v,width:m,height:s}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=po(n.height),r.top=po(n.top),r.bottom=po(n.bottom),r.width=po(n.width),r.left=po(n.left),r.right=po(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=po(s)),o&&(r.maxWidth=po(o))}this._lastBoundingBoxSize=n,cb(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const m=this._viewportRuler.getViewportScrollPosition();cb(n,this._getExactOverlayY(t,e,m)),cb(n,this._getExactOverlayX(t,e,m))}else n.position="static";let l="",d=this._getOffset(t,"x"),h=this._getOffset(t,"y");d&&(l+=`translateX(${d}px) `),h&&(l+=`translateY(${h}px)`),n.transform=l.trim(),o.maxHeight&&(r?n.maxHeight=po(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=po(o.maxWidth):s&&(n.maxWidth="")),cb(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=po(s.y),r}_getExactOverlayX(e,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=po(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zY(e,n),isOriginOutsideView:Hz(e,n),isOverlayClipped:zY(t,n),isOverlayOutsideView:Hz(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&_P(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ai)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function cb(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function UY(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(Tht);return t&&"px"!==t?null:parseFloat(e)}return i||null}function GY(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const jY="cdk-global-overlay-wrapper";class Aht{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(jY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:l}=n,d=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),h=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),m=this._xPosition,b=this._xOffset,v="rtl"===this._overlayRef.getConfig().direction;let E="",D="",T="";d?T="flex-start":"center"===m?(T="center",v?D=b:E=b):v?"left"===m||"end"===m?(T="flex-end",E=b):("right"===m||"start"===m)&&(T="flex-start",D=b):"left"===m||"start"===m?(T="flex-start",E=b):("right"===m||"end"===m)&&(T="flex-end",D=b),e.position=this._cssPosition,e.marginLeft=d?"0":E,e.marginTop=h?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=d?"0":D,t.justifyContent=T,t.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(jY),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Oht=(()=>{class i{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new Aht}flexibleConnectedTo(t){return new Iht(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#t=this.\u0275fac=function(n){return new(n||i)(V(Hx),V(li),V(Nr),V(LP))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rht=0,Sa=(()=>{class i{constructor(t,n,r,s,o,l,d,h,m,b,v,E){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=l,this._ngZone=d,this._document=h,this._directionality=m,this._location=b,this._outsideClickDispatcher=v,this._animationsModuleType=E}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new jx(t);return o.direction=o.direction||this._directionality.value,new t2(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+Rht++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Od)),new xht(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#t=this.\u0275fac=function(n){return new(n||i)(V(Mht),V(LP),V(cp),V(Oht),V(kht),V(jr),V(fi),V(li),V(Bl),V(ws),V(Dht),V(Gr,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Pht=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],WY=new xe("cdk-connected-overlay-scroll-strategy");let Uz=(()=>{class i{constructor(t){this.elementRef=t}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return i})(),$Y=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Li(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Li(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Li(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Li(t)}get push(){return this._push}set push(t){this._push=Li(t)}constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=B.EMPTY,this._attachSubscription=B.EMPTY,this._detachSubscription=B.EMPTY,this._positionSubscription=B.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new qe,this.positionChange=new qe,this.attach=new qe,this.detach=new qe,this.overlayKeydown=new qe,this.overlayOutsideClick=new qe,this._templatePortal=new lb(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Pht);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!cl(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new jx({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Uz?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function _ht(i,e=!1){return t=>t.lift(new bht(i,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sa),U(ss),U(Zr),U(WY),U(Bl,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[zn]})}return i})();const Fht={provide:WY,deps:[Sa],useFactory:function Lht(i){return()=>i.scrollStrategies.reposition()}};let hg=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[Sa,Fht],imports:[$S,Gx,zz,zz]})}return i})();function gc(i,e,t){let n;return n=i&&"object"==typeof i?i:{bufferSize:i,windowTime:e,refCount:!1,scheduler:t},r=>r.lift(function Nht({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:n}){let r,o,s=0,l=!1,d=!1;return function(m){s++,(!r||l)&&(l=!1,r=new VR(i,e,n),o=m.subscribe({next(v){r.next(v)},error(v){l=!0,r.error(v)},complete(){d=!0,o=void 0,r.complete()}}));const b=r.subscribe(this);this.add(()=>{s--,b.unsubscribe(),o&&!d&&t&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(n))}class Bht{constructor(e){this._box=e,this._destroyed=new Nt,this._resizeSubject=new Nt,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Xt(t=>{const n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Gn(t=>t.some(n=>n.target===e)),gc({bufferSize:1,refCount:!0}),gn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let zht=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=wt(fi)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Bht(r)),this._observers.get(r).observe(t)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class YY{}class Vht{}const zf="*";function Qc(i,e){return{type:7,name:i,definitions:e,options:{}}}function Eo(i,e=null){return{type:4,styles:e,timings:i}}function Gz(i,e=null){return{type:3,steps:i,options:e}}function ZY(i,e=null){return{type:2,steps:i,options:e}}function Dr(i){return{type:6,styles:i,offset:null}}function ka(i,e,t){return{type:0,name:i,styles:e,options:t}}function Mo(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function jz(i=null){return{type:9,options:i}}function Wz(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}class e2{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class qY{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}const Hht=["notch"],Uht=["matFormFieldNotchedOutline",""],Ght=["*"],jht=["textField"],Wht=["iconPrefixContainer"],$ht=["textPrefixContainer"];function Yht(i,e){1&i&&te(0,"span",19)}function Zht(i,e){if(1&i&&(O(0,"label",17),Ei(1,1),It(2,Yht,1,0,"span",18),L()),2&i){const t=Mt(2);Y("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Ni("for",t._control.id),z(2),Y("ngIf",!t.hideRequiredMarker&&t._control.required)}}function qht(i,e){1&i&&It(0,Zht,3,5,"label",16),2&i&&Y("ngIf",Mt()._hasFloatingLabel())}function Xht(i,e){1&i&&te(0,"div",20)}function Kht(i,e){}function Qht(i,e){1&i&&It(0,Kht,0,0,"ng-template",22),2&i&&(Mt(2),Y("ngTemplateOutlet",Yo(1)))}function Jht(i,e){if(1&i&&(O(0,"div",21),It(1,Qht,1,1,"ng-template",9),L()),2&i){const t=Mt();Y("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),z(1),Y("ngIf",!t._forceDisplayInfixLabel())}}function tft(i,e){1&i&&(O(0,"div",23,24),Ei(2,2),L())}function eft(i,e){1&i&&(O(0,"div",25,26),Ei(2,3),L())}function ift(i,e){}function nft(i,e){1&i&&It(0,ift,0,0,"ng-template",22),2&i&&(Mt(),Y("ngTemplateOutlet",Yo(1)))}function rft(i,e){1&i&&(O(0,"div",27),Ei(1,4),L())}function sft(i,e){1&i&&(O(0,"div",28),Ei(1,5),L())}function oft(i,e){1&i&&te(0,"div",29)}function aft(i,e){1&i&&(O(0,"div",30),Ei(1,6),L()),2&i&&Y("@transitionMessages",Mt()._subscriptAnimationState)}function lft(i,e){if(1&i&&(O(0,"mat-hint",34),tt(1),L()),2&i){const t=Mt(2);Y("id",t._hintLabelId),z(1),Mi(t.hintLabel)}}function cft(i,e){if(1&i&&(O(0,"div",31),It(1,lft,2,2,"mat-hint",32),Ei(2,7),te(3,"div",33),Ei(4,8),L()),2&i){const t=Mt();Y("@transitionMessages",t._subscriptAnimationState),z(1),Y("ngIf",t.hintLabel)}}const dft=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uft=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let fg=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["mat-label"]]})}return i})();const hft=new xe("MatError");let fft=0,XY=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+fft++}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&($c("id",r.id),Ni("align",null),Vi("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return i})();const mft=new xe("MatPrefix"),pft=new xe("MatSuffix"),KY=new xe("FloatingLabelParent");let QY=(()=>{class i{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=wt(zht),this._ngZone=wt(fi),this._parent=wt(KY),this._resizeSubscription=new B}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function gft(i){if(null!==i.offsetParent)return i.scrollWidth;const t=i.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const n=t.scrollWidth;return t.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();const JY="mdc-line-ripple--active",FP="mdc-line-ripple--deactivating";let tZ=(()=>{class i{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(FP);"opacity"===r.propertyName&&o&&s.remove(JY,FP)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(FP),t.add(JY)}deactivate(){this._elementRef.nativeElement.classList.add(FP)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(fi))};static#e=this.\u0275dir=be({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),eZ=(()=>{class i{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(fi))};static#e=this.\u0275cmp=He({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&Pi(Hht,5),2&n){let s;Ze(s=We())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Uht,ngContentSelectors:Ght,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(jn(),te(0,"div",0),O(1,"div",1,2),Ei(3),L(),te(4,"div",3))},encapsulation:2,changeDetection:0})}return i})();const _ft={transitionMessages:Qc("transitionMessages",[ka("enter",Dr({opacity:1,transform:"translateY(0%)"})),Mo("void => enter",[Dr({opacity:0,transform:"translateY(-5px)"}),Eo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Yz=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i})}return i})();const NP=new xe("MatFormField"),bft=new xe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let iZ=0,Qu=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Li(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,r,s,o,l,d,h){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=l,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+iZ++,this._hintLabelId="mat-mdc-hint-"+iZ++,this._subscriptAnimationState="",this._destroyed=new Nt,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(gn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),yi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(gn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Sn),U(fi),U(Bl),U(Nr),U(bft,8),U(Gr,8),U(li))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(En(s,fg,5),En(s,fg,7),En(s,Yz,5),En(s,mft,5),En(s,pft,5),En(s,hft,5),En(s,XY,5)),2&n){let o;Ze(o=We())&&(r._labelChildNonStatic=o.first),Ze(o=We())&&(r._labelChildStatic=o.first),Ze(o=We())&&(r._formFieldControl=o.first),Ze(o=We())&&(r._prefixChildren=o),Ze(o=We())&&(r._suffixChildren=o),Ze(o=We())&&(r._errorChildren=o),Ze(o=We())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(1&n&&(Pi(jht,5),Pi(Wht,5),Pi($ht,5),Pi(QY,5),Pi(eZ,5),Pi(tZ,5)),2&n){let s;Ze(s=We())&&(r._textField=s.first),Ze(s=We())&&(r._iconPrefixContainer=s.first),Ze(s=We())&&(r._textPrefixContainer=s.first),Ze(s=We())&&(r._floatingLabel=s.first),Ze(s=We())&&(r._notchedOutline=s.first),Ze(s=We())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&Vi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[vi([{provide:NP,useExisting:i},{provide:KY,useExisting:i}])],ngContentSelectors:uft,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,r){1&n&&(jn(dft),It(0,qht,1,1,"ng-template",null,0,xf),O(2,"div",1,2),fe("click",function(o){return r._control.onContainerClick(o)}),It(4,Xht,1,0,"div",3),O(5,"div",4),It(6,Jht,2,2,"div",5),It(7,tft,3,0,"div",6),It(8,eft,3,0,"div",7),O(9,"div",8),It(10,nft,1,1,"ng-template",9),Ei(11),L(),It(12,rft,2,0,"div",10),It(13,sft,2,0,"div",11),L(),It(14,oft,1,0,"div",12),L(),O(15,"div",13),It(16,aft,2,1,"div",14),It(17,cft,5,2,"div",15),L()),2&n&&(z(2),Vi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),z(2),Y("ngIf",!r._hasOutline()&&!r._control.disabled),z(2),Y("ngIf",r._hasOutline()),z(1),Y("ngIf",r._hasIconPrefix),z(1),Y("ngIf",r._hasTextPrefix),z(2),Y("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),z(2),Y("ngIf",r._hasTextSuffix),z(1),Y("ngIf",r._hasIconSuffix),z(1),Y("ngIf",!r._hasOutline()),z(1),Vi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Y("ngSwitch",r._getDisplayedMessages()),z(1),Y("ngSwitchCase","error"),z(1),Y("ngSwitchCase","hint"))},dependencies:[on,ES,CS,yB,XY,QY,eZ,tZ],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_ft.transitionMessages]},changeDetection:0})}return i})(),Zz=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,_s,Ez,Pn]})}return i})();class sZ{}function BP(i){return i&&"function"==typeof i.connect&&!(i instanceof In)}class oZ{applyChanges(e,t,n,r,s){e.forEachOperation((o,l,d)=>{let h,m;if(null==o.previousIndex){const b=n(o,l,d);h=t.createEmbeddedView(b.templateRef,b.context,b.index),m=1}else null==d?(t.remove(l),m=3):(h=t.get(l),t.move(h,d),m=2);s&&s({context:h?.context,operation:m,record:o})})}detach(){}}class n2{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,n=!0,r){this._multiple=e,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Nt,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(n=>this._markSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(n=>this._unmarkSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,n=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!n.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let lZ=(()=>{class i{constructor(){this._listeners=[]}notify(t,n){for(let r of this._listeners)r(t,n)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(n=>t!==n)}}ngOnDestroy(){this._listeners=[]}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const r2=new xe("_ViewRepeater");function mg(i){return new Xt(e=>{let t;try{t=i()}catch(r){return void e.error(r)}return(t?ne(t):BR()).subscribe(e)})}const xft=["trigger"],wft=["panel"];function Cft(i,e){if(1&i&&(O(0,"span",10),tt(1),L()),2&i){const t=Mt();z(1),Mi(t.placeholder)}}function Eft(i,e){if(1&i&&(O(0,"span",14),tt(1),L()),2&i){const t=Mt(2);z(1),Mi(t.triggerValue)}}function Mft(i,e){1&i&&Ei(0,0,["*ngSwitchCase","true"])}function Sft(i,e){1&i&&(O(0,"span",11),It(1,Eft,2,1,"span",12),It(2,Mft,1,0,"ng-content",13),L()),2&i&&(Y("ngSwitch",!!Mt().customTrigger),z(2),Y("ngSwitchCase",!0))}function kft(i,e){if(1&i){const t=Ai();Os(),Rh(),O(0,"div",15,16),fe("@transformPanel.done",function(r){return Te(t),Ie(Mt()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Te(t),Ie(Mt()._handleKeydown(r))}),Ei(2,1),L()}if(2&i){const t=Mt();(function Yy(i,e,t){Va(il,Wc,Ep(Ge(),i,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),Y("ngClass",t.panelClass)("@transformPanel","showing"),Ni("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Dft=[[["mat-select-trigger"]],"*"],Tft=["mat-select-trigger","*"],Ift={transformPanelWrap:Qc("transformPanelWrap",[Mo("* => void",Wz("@transformPanel",[jz()],{optional:!0}))]),transformPanel:Qc("transformPanel",[ka("void",Dr({opacity:0,transform:"scale(1, 0.8)"})),Mo("void => showing",Eo("120ms cubic-bezier(0, 0, 0.2, 1)",Dr({opacity:1,transform:"scale(1, 1)"}))),Mo("* => void",Eo("100ms linear",Dr({opacity:0})))])};let cZ=0;const dZ=new xe("mat-select-scroll-strategy"),Oft=new xe("MAT_SELECT_CONFIG"),Rft={provide:dZ,deps:[Sa],useFactory:function Aft(i){return()=>i.scrollStrategies.reposition()}},uZ=new xe("MatSelectTrigger");class Pft{constructor(e,t){this.source=e,this.value=t}}const Lft=nb(YS(ag(iY(class{constructor(i,e,t,n,r){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new Nt}}))));let Fft=(()=>{class i extends Lft{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Fj.required)??!1}set required(t){this._required=Li(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Li(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Li(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=kr(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,n,r,s,o,l,d,h,m,b,v,E,D,T){super(o,s,d,h,b),this._viewportRuler=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=l,this._parentFormField=m,this._liveAnnouncer=D,this._defaultOptions=T,this._panelOpen=!1,this._compareWith=(P,F)=>P===F,this._uid="mat-select-"+cZ++,this._triggerAriaLabelledBy=null,this._destroy=new Nt,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+cZ++,this._panelDoneAnimatingStream=new Nt,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=mg(()=>{const P=this.options;return P?P.changes.pipe(Nl(P),Hn(()=>yi(...P.map(F=>F.onSelectionChange)))):this._ngZone.onStable.pipe(ur(1),Hn(()=>this.optionSelectionChanges))}),this.openedChange=new qe,this._openedStream=this.openedChange.pipe(Gn(P=>P),Ae(()=>{})),this._closedStream=this.openedChange.pipe(Gn(P=>!P),Ae(()=>{})),this.selectionChange=new qe,this.valueChange=new qe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=T?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=T.typeaheadDebounceInterval),this._scrollStrategyFactory=E,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(v)||0,this.id=this.id}ngOnInit(){this._selectionModel=new n2(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(_h(),gn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(gn(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Nl(null),gn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=`${this.id}-panel`;this._trackedModal&&jS(this._trackedModal,"aria-owns",n),Sz(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(jS(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!cl(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;o.onKeydown(t);const d=this.selected;d&&l!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||cl(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const l=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(l?d.select():d.deselect())})}else{const l=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(ur(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_skipPredicate(t){return t.disabled}_initKeyManager(){this._keyManager=new $$(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=yi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(gn(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),yi(...this.options.map(n=>n._stateChanges)).pipe(gn(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n=null;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){t=n;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#t=this.\u0275fac=function(n){return new(n||i)(U(Hx),U(Sn),U(fi),U(nY),U(ai),U(Bl,8),U(PS,8),U(LS,8),U(NP,8),U($u,10),Cl("tabindex"),U(dZ),U(Oz),U(Oft,8))};static#e=this.\u0275dir=be({type:i,viewQuery:function(n,r){if(1&n&&(Pi(xft,5),Pi(wft,5),Pi($Y,5)),2&n){let s;Ze(s=We())&&(r.trigger=s.first),Ze(s=We())&&(r.panel=s.first),Ze(s=We())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ue,zn]})}return i})(),hZ=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["mat-select-trigger"]],features:[vi([{provide:uZ,useExisting:i}])]})}return i})(),Ju=(()=>{class i extends Fft{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=t=>!this.panelOpen&&t.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(gn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const n=this.options.toArray()[t];if(n){const r=this.panel.nativeElement,s=uY(t,this.options,this.optionGroups),o=n._getHostElement();r.scrollTop=0===t&&1===s?0:hY(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new Pft(this,t)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof Uz?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=Li(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,s){if(1&n&&(En(s,uZ,5),En(s,pc,5),En(s,CP,5)),2&n){let o;Ze(o=We())&&(r.customTrigger=o.first),Ze(o=We())&&(r.options=o),Ze(o=We())&&(r.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&fe("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(Ni("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Vi("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[vi([{provide:Yz,useExisting:i},{provide:wP,useExisting:i}]),Ue],ngContentSelectors:Tft,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(n,r){if(1&n&&(jn(Dft),O(0,"div",0,1),fe("click",function(){return r.toggle()}),O(3,"div",2),It(4,Cft,2,1,"span",3),It(5,Sft,3,2,"span",4),L(),O(6,"div",5)(7,"div",6),Os(),O(8,"svg",7),te(9,"path",8),L()()()(),It(10,kft,3,9,"ng-template",9),fe("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&n){const s=Yo(1);z(3),Y("ngSwitch",r.empty),Ni("id",r._valueId),z(1),Y("ngSwitchCase",!0),z(1),Y("ngSwitchCase",!1),z(5),Y("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Af,CS,yB,KG,$Y,Uz],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Ift.transformPanel]},changeDetection:0})}return i})(),zP=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[Rft],imports:[_s,hg,EP,Pn,ug,Zz,EP,Pn]})}return i})();const Nft=["tooltip"],fZ=new xe("mat-tooltip-scroll-strategy"),Vft={provide:fZ,deps:[Sa],useFactory:function zft(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},Uft=new xe("mat-tooltip-default-options",{providedIn:"root",factory:function Hft(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),mZ="tooltip-panel",pZ=J0({passive:!0});let Zft=(()=>{class i{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Li(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Li(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=kr(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=kr(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,n,r,s,o,l,d,h,m,b,v,E){this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=l,this._ariaDescriber=d,this._focusMonitor=h,this._dir=b,this._defaultOptions=v,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Nt,this._scrollStrategy=m,this._document=E,v&&(this._showDelay=v.showDelay,this._hideDelay=v.hideDelay,v.position&&(this.position=v.position),v.positionAtOrigin&&(this.positionAtOrigin=v.positionAtOrigin),v.touchGestures&&(this.touchGestures=v.touchGestures)),b.change.pipe(gn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(gn(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{t.removeEventListener(n,r,pZ)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new ab(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(gn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof ai)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(gn(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${mZ}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(gn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(gn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(gn(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!cl(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const n=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(ur(1),gn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){const{overlayY:n,originX:r,originY:s}=t;let o;if(o="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",o!==this._currentPosition){const l=this._overlayRef;if(l){const d=`${this._cssClassPrefix}-${mZ}-`;l.removePanelClass(d+this._currentPosition),l.addPanelClass(d+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(n=t),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const n=t.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,pZ)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const n=this._elementRef.nativeElement,r=n.style;("on"===t||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275dir=be({type:i,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return i})(),zl=(()=>{class i extends Zft{constructor(t,n,r,s,o,l,d,h,m,b,v,E){super(t,n,r,s,o,l,d,h,m,b,v,E),this._tooltipComponent=Xft,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sa),U(ai),U(QS),U(Zr),U(fi),U(Nr),U(mdt),U(Xu),U(fZ),U(Bl,8),U(Uft,8),U(li))};static#e=this.\u0275dir=be({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[Ue]})}return i})(),qft=(()=>{class i{constructor(t,n){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Nt,this._animationsDisabled="NoopAnimations"===n}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(t?s:r),n.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(n);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sn),U(Gr,8))};static#e=this.\u0275dir=be({type:i})}return i})(),Xft=(()=>{class i extends qft{constructor(t,n,r){super(t,r),this._elementRef=n,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sn),U(ai),U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&Pi(Nft,7),2&n){let s;Ze(s=We())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&fe("mouseleave",function(o){return r._handleMouseLeave(o)}),2&n&&Wr("zoom",r.isVisible()?1:null)},features:[Ue],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){1&n&&(O(0,"div",0,1),fe("animationend",function(o){return r._handleAnimationEnd(o)}),O(2,"div",2),tt(3),L()()),2&n&&(Vi("mdc-tooltip--multiline",r._isMultiline),Y("ngClass",r.tooltipClass),z(3),Mi(r.message))},dependencies:[Af],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return i})(),s2=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[Vft],imports:[J$,_s,hg,Pn,Pn,ug]})}return i})();function Kft(i,e){if(1&i&&(O(0,"mat-option",19),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),mi(" ",t," ")}}function Qft(i,e){if(1&i){const t=Ai();O(0,"mat-form-field",16)(1,"mat-select",17),fe("selectionChange",function(r){return Te(t),Ie(Mt(2)._changePageSize(r.value))}),It(2,Kft,2,2,"mat-option",18),L()()}if(2&i){const t=Mt(2);Y("appearance",t._formFieldAppearance)("color",t.color),z(1),Y("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),z(1),Y("ngForOf",t._displayedPageSizeOptions)}}function Jft(i,e){if(1&i&&(O(0,"div",20),tt(1),L()),2&i){const t=Mt(2);z(1),Mi(t.pageSize)}}function tmt(i,e){if(1&i&&(O(0,"div",12)(1,"div",13),tt(2),L(),It(3,Qft,3,8,"mat-form-field",14),It(4,Jft,2,1,"div",15),L()),2&i){const t=Mt();z(1),Or("id",t._pageSizeLabelId),z(1),mi(" ",t._intl.itemsPerPageLabel," "),z(1),Y("ngIf",t._displayedPageSizeOptions.length>1),z(1),Y("ngIf",t._displayedPageSizeOptions.length<=1)}}function emt(i,e){if(1&i){const t=Ai();O(0,"button",21),fe("click",function(){return Te(t),Ie(Mt().firstPage())}),Os(),O(1,"svg",7),te(2,"path",22),L()()}if(2&i){const t=Mt();Y("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Ni("aria-label",t._intl.firstPageLabel)}}function imt(i,e){if(1&i){const t=Ai();Os(),Rh(),O(0,"button",23),fe("click",function(){return Te(t),Ie(Mt().lastPage())}),Os(),O(1,"svg",7),te(2,"path",24),L()()}if(2&i){const t=Mt();Y("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Ni("aria-label",t._intl.lastPageLabel)}}let VP=(()=>{class i{constructor(){this.changes=new Nt,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=t*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const rmt={provide:VP,deps:[[new La,new Vh,VP]],useFactory:function nmt(i){return i||new VP}},omt=new xe("MAT_PAGINATOR_DEFAULT_OPTIONS"),amt=ag(Zdt(class{}));let lmt=(()=>{class i extends amt{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(kr(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=kr(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(kr(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(n=>kr(n)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=Li(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=Li(t)}constructor(t,n,r){if(super(),this._intl=t,this._changeDetectorRef=n,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new qe,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:o,hidePageSize:l,showFirstLastButtons:d}=r;null!=s&&(this._pageSize=s),null!=o&&(this._pageSizeOptions=o),null!=l&&(this._hidePageSize=l),null!=d&&(this._showFirstLastButtons=d)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,n)=>t-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275dir=be({type:i,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[Ue]})}return i})(),cmt=0,gZ=(()=>{class i extends lmt{constructor(t,n,r){super(t,n,r),this._pageSizeLabelId="mat-paginator-page-size-label-"+cmt++,this._formFieldAppearance=r?.formFieldAppearance||"outline"}static#t=this.\u0275fac=function(n){return new(n||i)(U(VP),U(Sn),U(omt,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[Ue],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1),It(2,tmt,5,4,"div",2),O(3,"div",3)(4,"div",4),tt(5),L(),It(6,emt,3,5,"button",5),O(7,"button",6),fe("click",function(){return r.previousPage()}),Os(),O(8,"svg",7),te(9,"path",8),L()(),Rh(),O(10,"button",9),fe("click",function(){return r.nextPage()}),Os(),O(11,"svg",7),te(12,"path",10),L()(),It(13,imt,3,5,"button",11),L()()()),2&n&&(z(2),Y("ngIf",!r.hidePageSize),z(3),mi(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),z(1),Y("ngIf",r.showFirstLastButtons),z(1),Y("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),Ni("aria-label",r._intl.previousPageLabel),z(3),Y("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),Ni("aria-label",r._intl.nextPageLabel),z(3),Y("ngIf",r.showFirstLastButtons))},dependencies:[Ps,on,cg,Qu,Ju,pc,zl],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),_Z=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[rmt],imports:[_s,dg,zP,s2]})}return i})();const dmt=["determinateSpinner"];function umt(i,e){if(1&i&&(Os(),O(0,"svg",11),te(1,"circle",12),L()),2&i){const t=Mt();Ni("viewBox",t._viewBox()),z(1),Wr("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Ni("r",t._circleRadius())}}const hmt=zx(class{constructor(i){this._elementRef=i}},"primary"),fmt=new xe("mat-progress-spinner-default-options",{providedIn:"root",factory:function mmt(){return{diameter:bZ}}}),bZ=100;let qz=(()=>{class i extends hmt{constructor(t,n,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=bZ,this._noopAnimations="NoopAnimations"===n&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,kr(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=kr(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=kr(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Gr,8),U(fmt))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(1&n&&Pi(dmt,5),2&n){let s;Ze(s=We())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(n,r){2&n&&(Ni("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Wr("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Vi("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Ue],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(1&n&&(It(0,umt,2,8,"ng-template",null,0,xf),O(2,"div",1,2),Os(),O(4,"svg",3),te(5,"circle",4),L()(),Rh(),O(6,"div",5)(7,"div",6)(8,"div",7),qo(9,8),L(),O(10,"div",9),qo(11,8),L(),O(12,"div",10),qo(13,8),L()()()),2&n){const s=Yo(1);z(4),Ni("viewBox",r._viewBox()),z(1),Wr("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Ni("r",r._circleRadius()),z(4),Y("ngTemplateOutlet",s),z(2),Y("ngTemplateOutlet",s),z(2),Y("ngTemplateOutlet",s)}},dependencies:[ES],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return i})(),vZ=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[_s,Pn]})}return i})();function Xz(i){return e=>e.lift(new gmt(i))}class gmt{constructor(e){this.value=e}call(e,t){return t.subscribe(new _mt(e,this.value))}}class _mt extends et{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const HP=["*"],bmt=["content"];function vmt(i,e){if(1&i){const t=Ai();O(0,"div",2),fe("click",function(){return Te(t),Ie(Mt()._onBackdropClicked())}),L()}2&i&&Vi("mat-drawer-shown",Mt()._isShowingBackdrop())}function ymt(i,e){1&i&&(O(0,"mat-drawer-content"),Ei(1,2),L())}const xmt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],wmt=["mat-drawer","mat-drawer-content","*"];function Cmt(i,e){if(1&i){const t=Ai();O(0,"div",2),fe("click",function(){return Te(t),Ie(Mt()._onBackdropClicked())}),L()}2&i&&Vi("mat-drawer-shown",Mt()._isShowingBackdrop())}function Emt(i,e){1&i&&(O(0,"mat-sidenav-content"),Ei(1,2),L())}const Mmt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Smt=["mat-sidenav","mat-sidenav-content","*"],yZ={transformDrawer:Qc("transform",[ka("open, open-instant",Dr({transform:"none",visibility:"visible"})),ka("void",Dr({"box-shadow":"none",visibility:"hidden"})),Mo("void => open-instant",Eo("0ms")),Mo("void <=> open, open-instant => void",Eo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Dmt=new xe("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Tmt(){return!1}}),Kz=new xe("MAT_DRAWER_CONTAINER");let UP=(()=>{class i extends JS{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sn),U(An(()=>wZ)),U(ai),U(QS),U(fi))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){2&n&&Wr("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[vi([{provide:JS,useExisting:i}]),Ue],ngContentSelectors:HP,decls:1,vars:0,template:function(n,r){1&n&&(jn(),Ei(0))},encapsulation:2,changeDetection:0})}return i})(),xZ=(()=>{class i{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Li(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Li(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Li(t))}constructor(t,n,r,s,o,l,d,h){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=l,this._doc=d,this._container=h,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Nt,this._animationEnd=new Nt,this._animationState="void",this.openedChange=new qe(!0),this._openedStream=this.openedChange.pipe(Gn(m=>m),Ae(()=>{})),this.openedStart=this._animationStarted.pipe(Gn(m=>m.fromState!==m.toState&&0===m.toState.indexOf("open")),Xz(void 0)),this._closedStream=this.openedChange.pipe(Gn(m=>!m),Ae(()=>{})),this.closedStart=this._animationStarted.pipe(Gn(m=>m.fromState!==m.toState&&"void"===m.toState),Xz(void 0)),this._destroyed=new Nt,this.onPositionChanged=new qe,this._modeChanged=new Nt,this.openedChange.subscribe(m=>{m?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Qp(this._elementRef.nativeElement,"keydown").pipe(Gn(m=>27===m.keyCode&&!this.disableClose&&!cl(m)),gn(this._destroyed)).subscribe(m=>this._ngZone.run(()=>{this.close(),m.stopPropagation(),m.preventDefault()}))}),this._animationEnd.pipe(_h((m,b)=>m.fromState===b.fromState&&m.toState===b.toState)).subscribe(m=>{const{fromState:b,toState:v}=m;(0===v.indexOf("open")&&"void"===b||"void"===v&&0===b.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(ur(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const n=this._elementRef.nativeElement,r=n.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(yP),U(Xu),U(Nr),U(fi),U(WS),U(li,8),U(Kz,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(1&n&&Pi(bmt,5),2&n){let s;Ze(s=We())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){1&n&&df("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),2&n&&(Ni("align",null),M0("@transform",r._animationState),Vi("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:HP,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(n,r){1&n&&(jn(),O(0,"div",0,1),Ei(2),L())},dependencies:[JS],encapsulation:2,data:{animation:[yZ.transformDrawer]},changeDetection:0})}return i})(),wZ=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Li(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Li(t)}get scrollable(){return this._userContent||this._content}constructor(t,n,r,s,o,l=!1,d){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=d,this._drawers=new zu,this.backdropClick=new qe,this._destroyed=new Nt,this._doCheckSubject=new Nt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Nt,t&&t.change.pipe(gn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(gn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(Nl(this._allDrawers),gn(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Nl(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Dx(10),gn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Gn(n=>n.fromState!==n.toState),gn(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(gn(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(gn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ur(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(gn(yi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#t=this.\u0275fac=function(n){return new(n||i)(U(Bl,8),U(ai),U(fi),U(Sn),U(Hx),U(Dmt),U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,s){if(1&n&&(En(s,UP,5),En(s,xZ,5)),2&n){let o;Ze(o=We())&&(r._content=o.first),Ze(o=We())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(1&n&&Pi(UP,5),2&n){let s;Ze(s=We())&&(r._userContent=s.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[vi([{provide:Kz,useExisting:i}])],ngContentSelectors:wmt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(jn(xmt),It(0,vmt,1,2,"div",0),Ei(1),Ei(2,1),It(3,ymt,2,0,"mat-drawer-content",1)),2&n&&(Y("ngIf",r.hasBackdrop),z(3),Y("ngIf",!r._content))},dependencies:[on,UP],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return i})(),GP=(()=>{class i extends UP{constructor(t,n,r,s,o){super(t,n,r,s,o)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sn),U(An(()=>Jz)),U(ai),U(QS),U(fi))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,r){2&n&&Wr("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[vi([{provide:JS,useExisting:i}]),Ue],ngContentSelectors:HP,decls:1,vars:0,template:function(n,r){1&n&&(jn(),Ei(0))},encapsulation:2,changeDetection:0})}return i})(),Qz=(()=>{class i extends xZ{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Li(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=kr(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=kr(t)}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,r){2&n&&(Ni("align",null),Wr("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Vi("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Ue],ngContentSelectors:HP,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(n,r){1&n&&(jn(),O(0,"div",0,1),Ei(2),L())},dependencies:[JS],encapsulation:2,data:{animation:[yZ.transformDrawer]},changeDetection:0})}return i})(),Jz=(()=>{class i extends wZ{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(n,r,s){if(1&n&&(En(s,GP,5),En(s,Qz,5)),2&n){let o;Ze(o=We())&&(r._content=o.first),Ze(o=We())&&(r._allDrawers=o)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[vi([{provide:Kz,useExisting:i}]),Ue],ngContentSelectors:Smt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(jn(Mmt),It(0,Cmt,1,2,"div",0),Ei(1),Ei(2,1),It(3,Emt,2,0,"mat-sidenav-content",1)),2&n&&(Y("ngIf",r.hasBackdrop),z(3),Y("ngIf",!r._content))},dependencies:[on,GP],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return i})(),Imt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[_s,Pn,ug,ug,Pn]})}return i})();const Amt=["switch"];function Omt(i,e){1&i&&(O(0,"div",12),Os(),O(1,"svg",13),te(2,"path",14),L(),O(3,"svg",15),te(4,"path",16),L()())}const Rmt=["*"],Pmt=new xe("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Lmt={provide:Ea,useExisting:An(()=>jP),multi:!0};class CZ{constructor(e,t){this.source=e,this.checked=t}}let Fmt=0;const Nmt=YS(zx(nb(ag(class{constructor(i){this._elementRef=i}}))));let Bmt=(()=>{class i extends Nmt{get required(){return this._required}set required(t){this._required=Li(t)}get checked(){return this._checked}set checked(t){this._checked=Li(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=Li(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l,d){super(t),this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=h=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new qe,this.toggleChange=new qe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===l,this.id=this._uniqueId=`${d}${++Fmt}`,this._hideIcon=o.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275dir=be({type:i,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Ue]})}return i})(),jP=(()=>{class i extends Bmt{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,n,r,s,o,l){super(t,n,r,s,o,l,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new CZ(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new CZ(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Xu),U(Sn),Cl("tabindex"),U(Pmt),U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(1&n&&Pi(Amt,5),2&n){let s;Ze(s=We())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(n,r){2&n&&($c("id",r.id),Ni("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Vi("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[vi([Lmt]),Ue],ngContentSelectors:Rmt,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(1&n&&(jn(),O(0,"div",0)(1,"button",1,2),fe("click",function(){return r._handleClick()}),te(3,"div",3),O(4,"div",4)(5,"div",5)(6,"div",6),te(7,"div",7),L(),O(8,"div",8),te(9,"div",9),L(),It(10,Omt,5,0,"div",10),L()()(),O(11,"label",11),fe("click",function(o){return o.stopPropagation()}),Ei(12),L()()),2&n){const s=Yo(2);Vi("mdc-form-field--align-end","before"==r.labelPosition),z(1),Vi("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),Y("tabIndex",r.tabIndex)("disabled",r.disabled),Ni("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),z(8),Y("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),z(1),Y("ngIf",!r.hideIcon),z(1),Y("for",r.buttonId),Ni("id",r._labelId)}},dependencies:[lg,on],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return i})(),EZ=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})(),MZ=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[EZ,Pn,rb,_s,EZ,Pn]})}return i})();function Jc(i){return!!i&&(i instanceof Xt||"function"==typeof i.lift&&"function"==typeof i.subscribe)}const Hmt=[[["caption"]],[["colgroup"],["col"]]],Umt=["caption","colgroup, col"];function tV(i){return class extends i{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Li(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const Wx=new xe("CDK_TABLE");let $x=(()=>{class i{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkCellDef",""]]})}return i})(),Yx=(()=>{class i{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkHeaderCellDef",""]]})}return i})(),WP=(()=>{class i{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkFooterCellDef",""]]})}return i})();class $mt{}const Ymt=tV($mt);let Vf=(()=>{class i extends Ymt{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const n=this._stickyEnd;this._stickyEnd=Li(t),this._hasStickyChanged=n!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#t=this.\u0275fac=function(n){return new(n||i)(U(Wx,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,s){if(1&n&&(En(s,$x,5),En(s,Yx,5),En(s,WP,5)),2&n){let o;Ze(o=We())&&(r.cell=o.first),Ze(o=We())&&(r.headerCell=o.first),Ze(o=We())&&(r.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[vi([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Ue]})}return i})();class eV{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let iV=(()=>{class i extends eV{constructor(t,n){super(t,n)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Vf),U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ue]})}return i})(),nV=(()=>{class i extends eV{constructor(t,n){if(super(t,n),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}static#t=this.\u0275fac=function(n){return new(n||i)(U(Vf),U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ue]})}return i})();class kZ{constructor(){this.tasks=[],this.endTasks=[]}}const rV=new xe("_COALESCED_STYLE_SCHEDULER");let DZ=(()=>{class i{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Nt}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new kZ,this._getScheduleObservable().pipe(gn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new kZ;for(const n of t.tasks)n();for(const n of t.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?ne(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ur(1))}static#t=this.\u0275fac=function(n){return new(n||i)(V(fi))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),sV=(()=>{class i{constructor(t,n){this.template=t,this._differs=n}ngOnChanges(t){if(!this._columnsDiffer){const n=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof o2?t.headerCell.template:this instanceof a2?t.footerCell.template:t.cell.template}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss),U(Rl))};static#e=this.\u0275dir=be({type:i,features:[zn]})}return i})();class Zmt extends sV{}const qmt=tV(Zmt);let o2=(()=>{class i extends qmt{constructor(t,n,r){super(t,n),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss),U(Rl),U(Wx,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ue,zn]})}return i})();class Xmt extends sV{}const Kmt=tV(Xmt);let a2=(()=>{class i extends Kmt{constructor(t,n,r){super(t,n),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss),U(Rl),U(Wx,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ue,zn]})}return i})(),$P=(()=>{class i extends sV{constructor(t,n,r){super(t,n),this._table=r}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss),U(Rl),U(Wx,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ue]})}return i})(),Hf=(()=>{class i{static#t=this.mostRecentCellOutlet=null;constructor(t){this._viewContainer=t,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Zr))};static#i=this.\u0275dir=be({type:i,selectors:[["","cdkCellOutlet",""]]})}return i})(),oV=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&qo(0,0)},dependencies:[Hf],encapsulation:2})}return i})(),lV=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&qo(0,0)},dependencies:[Hf],encapsulation:2})}return i})(),YP=(()=>{class i{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss))};static#e=this.\u0275dir=be({type:i,selectors:[["ng-template","cdkNoDataRow",""]]})}return i})();const TZ=["top","bottom","left","right"];class Qmt{constructor(e,t,n,r,s=!0,o=!0,l){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const n=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,n,r=!0){if(!e.length||!this._isBrowser||!t.some(v=>v)&&!n.some(v=>v))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,l=this._getCellWidths(s,r),d=this._getStickyStartColumnPositions(l,t),h=this._getStickyEndColumnPositions(l,n),m=t.lastIndexOf(!0),b=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const v="rtl"===this.direction,E=v?"right":"left",D=v?"left":"right";for(const T of e)for(let P=0;P<o;P++){const F=T.children[P];t[P]&&this._addStickyStyle(F,E,d[P],P===m),n[P]&&this._addStickyStyle(F,D,h[P],P===b)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===m?[]:l.slice(0,m+1).map((T,P)=>t[P]?T:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===b?[]:l.slice(b).map((T,P)=>n[P+b]?T:null).reverse()}))})}stickRows(e,t,n){if(!this._isBrowser)return;const r="bottom"===n?e.slice().reverse():e,s="bottom"===n?t.slice().reverse():t,o=[],l=[],d=[];for(let m=0,b=0;m<r.length;m++){if(!s[m])continue;o[m]=b;const v=r[m];d[m]=this._isNativeHtmlTable?Array.from(v.children):[v];const E=v.getBoundingClientRect().height;b+=E,l[m]=E}const h=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let m=0;m<r.length;m++){if(!s[m])continue;const b=o[m],v=m===h;for(const E of d[m])this._addStickyStyle(E,n,b,v)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:o,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:o,elements:d})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const n=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);TZ.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,n,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${n}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const r of TZ)e.style[r]&&(n+=t[r]);return n?`${n}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=e.children;for(let s=0;s<r.length;s++)n.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(e,t){const n=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(n[s]=r,r+=e[s]);return n}_getStickyEndColumnPositions(e,t){const n=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(n[s]=r,r+=e[s]);return n}}const cV=new xe("CDK_SPL");let ZP=(()=>{class i{constructor(t,n){this.viewContainer=t,this.elementRef=n}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["","rowOutlet",""]]})}return i})(),qP=(()=>{class i{constructor(t,n){this.viewContainer=t,this.elementRef=n}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["","headerRowOutlet",""]]})}return i})(),XP=(()=>{class i{constructor(t,n){this.viewContainer=t,this.elementRef=n}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["","footerRowOutlet",""]]})}return i})(),KP=(()=>{class i{constructor(t,n){this.viewContainer=t,this.elementRef=n}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(ai))};static#e=this.\u0275dir=be({type:i,selectors:[["","noDataRowOutlet",""]]})}return i})(),QP=(()=>{class i{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Li(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Li(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,n,r,s,o,l,d,h,m,b,v,E){this._differs=t,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=d,this._viewRepeater=h,this._coalescedStyleScheduler=m,this._viewportRuler=b,this._stickyPositioningListener=v,this._ngZone=E,this._onDestroy=new Nt,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new qe,this.viewChange=new ti({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(gn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),BP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,n,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&fi.isInAngularZone()?this._ngZone.onStable.pipe(ur(1),gn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let l=0;l<n.length;l++)this._renderRows[l].rowDef===s&&o.push(n[l]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<o.length;l++){let d=o[l];const h=this._cachedRenderRowsMap.get(d.data);h.has(d.rowDef)?h.get(d.rowDef).push(d):h.set(d.rowDef,[d]),t.push(d)}}return t}_getRenderRowsForData(t,n,r){return this._getRowDefs(t,n).map(o=>{const l=r&&r.has(o)?r.get(o):[];if(l.length){const d=l.shift();return d.dataIndex=n,d}return{data:t,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),JP(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=JP(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=JP(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=JP(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,l)=>o||!!l.getColumnsDiff(),n=this._rowDefs.reduce(t,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),n||r||s}_switchDataSource(t){this._data=[],BP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;BP(this.dataSource)?t=this.dataSource.connect(this):Jc(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=je(this.dataSource)),this._renderChangeSubscription=t.pipe(gn(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,n)=>this._renderRow(this._headerRowOutlet,t,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,n)=>this._renderRow(this._footerRowOutlet,t,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,n){const r=Array.from(n.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),o=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const n=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);n.push(s.rootNodes[0])}return n}_getRowDefs(t,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(n,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(n,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,n){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:n}}_renderRow(t,n,r,s={}){const o=t.viewContainer.createEmbeddedView(n.template,s,r);return this._renderCellTemplateForItem(n,s),o}_renderCellTemplateForItem(t,n){for(let r of this._getCellTemplates(t))Hf.mostRecentCellOutlet&&Hf.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let n=0,r=t.length;n<r;n++){const o=t.get(n).context;o.count=r,o.first=0===n,o.last=n===r-1,o.even=n%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,n=>{const r=this._columnDefsByName.get(n);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of n){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const o of r.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Qmt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:je()).pipe(gn(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||i)(U(Rl),U(Sn),U(ai),Cl("role"),U(Bl,8),U(li),U(Nr),U(r2),U(rV),U(Hx),U(cV,12),U(fi,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,s){if(1&n&&(En(s,YP,5),En(s,Vf,5),En(s,$P,5),En(s,o2,5),En(s,a2,5)),2&n){let o;Ze(o=We())&&(r._noDataRow=o.first),Ze(o=We())&&(r._contentColumnDefs=o),Ze(o=We())&&(r._contentRowDefs=o),Ze(o=We())&&(r._contentHeaderRowDefs=o),Ze(o=We())&&(r._contentFooterRowDefs=o)}},viewQuery:function(n,r){if(1&n&&(Pi(ZP,7),Pi(qP,7),Pi(XP,7),Pi(KP,7)),2&n){let s;Ze(s=We())&&(r._rowOutlet=s.first),Ze(s=We())&&(r._headerRowOutlet=s.first),Ze(s=We())&&(r._footerRowOutlet=s.first),Ze(s=We())&&(r._noDataRowOutlet=s.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[vi([{provide:Wx,useExisting:i},{provide:r2,useClass:oZ},{provide:rV,useClass:DZ},{provide:cV,useValue:null}])],ngContentSelectors:Umt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(jn(Hmt),Ei(0),Ei(1,1),qo(2,0)(3,1)(4,2)(5,3))},dependencies:[ZP,qP,XP,KP],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return i})();function JP(i,e){return i.concat(Array.from(e))}let tpt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[zz]})}return i})();const ept=[[["caption"]],[["colgroup"],["col"]]],ipt=["caption","colgroup, col"];let dV=(()=>{class i extends QP{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[vi([{provide:QP,useExisting:i},{provide:Wx,useExisting:i},{provide:rV,useClass:DZ},{provide:r2,useClass:oZ},{provide:cV,useValue:null}]),Ue],ngContentSelectors:ipt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(jn(ept),Ei(0),Ei(1,1),qo(2,0)(3,1)(4,2)(5,3))},dependencies:[ZP,qP,XP,KP],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{--mat-table-row-item-outline-width:1px;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return i})(),uV=(()=>{class i extends $x{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matCellDef",""]],features:[vi([{provide:$x,useExisting:i}]),Ue]})}return i})(),hV=(()=>{class i extends Yx{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matHeaderCellDef",""]],features:[vi([{provide:Yx,useExisting:i}]),Ue]})}return i})(),fV=(()=>{class i extends Vf{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[vi([{provide:Vf,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Ue]})}return i})(),mV=(()=>{class i extends iV{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Ue]})}return i})(),pV=(()=>{class i extends nV{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Ue]})}return i})(),AZ=(()=>{class i extends o2{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[vi([{provide:o2,useExisting:i}]),Ue]})}return i})(),OZ=(()=>{class i extends $P{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[vi([{provide:$P,useExisting:i}]),Ue]})}return i})(),RZ=(()=>{class i extends oV{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[vi([{provide:oV,useExisting:i}]),Ue],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&qo(0,0)},dependencies:[Hf],encapsulation:2})}return i})(),PZ=(()=>{class i extends lV{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[vi([{provide:lV,useExisting:i}]),Ue],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&qo(0,0)},dependencies:[Hf],encapsulation:2})}return i})(),dpt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,tpt,Pn]})}return i})();class hpt extends sZ{get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}constructor(e=[]){super(),this._renderData=new ti([]),this._filter=new ti(""),this._internalPageChanges=new Nt,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,n)=>{const r=t[n];if(N$(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(t,n)=>{const r=n.active,s=n.direction;return r&&""!=s?t.sort((o,l)=>{let d=this.sortingDataAccessor(o,r),h=this.sortingDataAccessor(l,r);const m=typeof d,b=typeof h;m!==b&&("number"===m&&(d+=""),"number"===b&&(h+=""));let v=0;return null!=d&&null!=h?d>h?v=1:d<h&&(v=-1):null!=d?v=1:null!=h&&(v=-1),v*("asc"==s?1:-1)}):t},this.filterPredicate=(t,n)=>{const r=Object.keys(t).reduce((o,l)=>o+t[l]+"\u25ec","").toLowerCase(),s=n.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new ti(e),this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?yi(this._sort.sortChange,this._sort.initialized):je(null),t=this._paginator?yi(this._paginator.page,this._internalPageChanges,this._paginator.initialized):je(null),r=Pf([this._data,this._filter]).pipe(Ae(([l])=>this._filterData(l))),s=Pf([r,e]).pipe(Ae(([l])=>this._orderData(l))),o=Pf([s,t]).pipe(Ae(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(l=>this._renderData.next(l))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const n=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,n);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class LZ extends hpt{}function FZ(i){return new Se(3e3,!1)}function pg(i){switch(i.length){case 0:return new e2;case 1:return i[0];default:return new qY(i)}}function NZ(i,e,t=new Map,n=new Map){const r=[],s=[];let o=-1,l=null;if(e.forEach(d=>{const h=d.get("offset"),m=h==o,b=m&&l||new Map;d.forEach((v,E)=>{let D=E,T=v;if("offset"!==E)switch(D=i.normalizePropertyName(D,r),T){case"!":T=t.get(E);break;case zf:T=n.get(E);break;default:T=i.normalizeStyleValue(E,D,T,r)}b.set(D,T)}),m||s.push(b),l=b,o=h}),r.length)throw function Lpt(i){return new Se(3502,!1)}();return s}function gV(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&_V(t,"start",i)));break;case"done":i.onDone(()=>n(t&&_V(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&_V(t,"destroy",i)))}}function _V(i,e,t){const s=bV(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t.totalTime??i.totalTime,!!t.disabled),o=i._data;return null!=o&&(s._data=o),s}function bV(i,e,t,n,r="",s=0,o){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function _c(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function BZ(i){const e=i.indexOf(":");return[i.substring(1,e),i.slice(e+1)]}const Ypt=(()=>typeof document>"u"?null:document.documentElement)();function vV(i){const e=i.parentNode||i.host||null;return e===Ypt?null:e}let db=null,zZ=!1;function VZ(i,e){for(;e;){if(e===i)return!0;e=vV(e)}return!1}function HZ(i,e,t){if(t)return Array.from(i.querySelectorAll(e));const n=i.querySelector(e);return n?[n]:[]}let UZ=(()=>{class i{validateStyleProperty(t){return function qpt(i){db||(db=function Xpt(){return typeof document<"u"?document.body:null}()||{},zZ=!!db.style&&"WebkitAppearance"in db.style);let e=!0;return db.style&&!function Zpt(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in db.style,!e&&zZ&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in db.style)),e}(t)}matchesElement(t,n){return!1}containsElement(t,n){return VZ(t,n)}getParentElement(t){return vV(t)}query(t,n,r){return HZ(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,l=[],d){return new e2(r,s)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),yV=(()=>{class i{static#t=this.NOOP=new UZ}return i})();const Kpt=1e3,xV="ng-enter",tL="ng-leave",eL="ng-trigger",iL=".ng-trigger",jZ="ng-animating",wV=".ng-animating";function Uf(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CV(parseFloat(e[1]),e[2])}function CV(i,e){return"s"===e?i*Kpt:i}function nL(i,e,t){return i.hasOwnProperty("duration")?i:function Jpt(i,e,t){let r,s=0,o="";if("string"==typeof i){const l=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(FZ()),{duration:0,delay:0,easing:""};r=CV(parseFloat(l[1]),l[2]);const d=l[3];null!=d&&(s=CV(parseFloat(d),l[4]));const h=l[5];h&&(o=h)}else r=i;if(!t){let l=!1,d=e.length;r<0&&(e.push(function fpt(){return new Se(3100,!1)}()),l=!0),s<0&&(e.push(function mpt(){return new Se(3101,!1)}()),l=!0),l&&e.splice(d,0,FZ())}return{duration:r,delay:s,easing:o}}(i,e,t)}function l2(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function WZ(i){const e=new Map;return Object.keys(i).forEach(t=>{e.set(t,i[t])}),e}function gg(i,e=new Map,t){if(t)for(let[n,r]of t)e.set(n,r);for(let[n,r]of i)e.set(n,r);return e}function th(i,e,t){e.forEach((n,r)=>{const s=MV(r);t&&!t.has(r)&&t.set(r,i.style[s]),i.style[s]=n})}function ub(i,e){e.forEach((t,n)=>{const r=MV(n);i.style[r]=""})}function c2(i){return Array.isArray(i)?1==i.length?i[0]:ZY(i):i}const EV=new RegExp("{{\\s*(.+?)\\s*}}","g");function YZ(i){let e=[];if("string"==typeof i){let t;for(;t=EV.exec(i);)e.push(t[1]);EV.lastIndex=0}return e}function d2(i,e,t){const n=i.toString(),r=n.replace(EV,(s,o)=>{let l=e[o];return null==l&&(t.push(function gpt(i){return new Se(3003,!1)}()),l=""),l.toString()});return r==n?i:r}function rL(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const igt=/-+([a-z0-9])/g;function MV(i){return i.replace(igt,(...e)=>e[1].toUpperCase())}function bc(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw function _pt(i){return new Se(3004,!1)}()}}function ZZ(i,e){return window.getComputedStyle(i)[e]}const sL="*";function sgt(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function ogt(i,e,t){if(":"==i[0]){const d=function agt(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function Apt(i){return new Se(3016,!1)}()),"* => *"}}(i,t);if("function"==typeof d)return void e.push(d);i=d}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function Ipt(i){return new Se(3015,!1)}()),e;const r=n[1],s=n[2],o=n[3];e.push(qZ(r,o));"<"==s[0]&&!(r==sL&&o==sL)&&e.push(qZ(o,r))}(n,t,e)):t.push(i),t}const oL=new Set(["true","1"]),aL=new Set(["false","0"]);function qZ(i,e){const t=oL.has(i)||aL.has(i),n=oL.has(e)||aL.has(e);return(r,s)=>{let o=i==sL||i==r,l=e==sL||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?oL.has(i):aL.has(i)),!l&&n&&"boolean"==typeof s&&(l=s?oL.has(e):aL.has(e)),o&&l}}const lgt=new RegExp("s*:selfs*,?","g");function SV(i,e,t,n){return new cgt(i).build(e,t,n)}class cgt{constructor(e){this._driver=e}build(e,t,n){const r=new hgt(t);return this._resetContextStyleTimingState(r),bc(this,c2(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function vpt(){return new Se(3006,!1)}()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const d=l,h=d.name;h.toString().split(/\s*,\s*/).forEach(m=>{d.name=m,s.push(this.visitState(d,t))}),d.name=h}else if(1==l.type){const d=this.visitTransition(l,t);n+=d.queryCount,r+=d.depCount,o.push(d)}else t.errors.push(function ypt(){return new Se(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{YZ(d).forEach(h=>{o.hasOwnProperty(h)||s.add(h)})})}),s.size&&(rL(s.values()),t.errors.push(function xpt(i,e){return new Se(3008,!1)}()))}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=bc(this,c2(e.animation),t);return{type:1,matchers:sgt(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:hb(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>bc(this,n,t)),options:hb(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=n;const l=bc(this,o,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:3,steps:s,options:hb(e.options)}}visitAnimate(e,t){const n=function mgt(i,e){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return kV(nL(i,e).duration,0,"");const t=i;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=kV(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=nL(t,e);return kV(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,s=e.styles?e.styles:Dr({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const h={};n.easing&&(h.easing=n.easing),o=Dr(h)}t.currentTime+=n.duration+n.delay;const d=this.visitStyle(o,t);d.isEmptyStep=l,r=d}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)"string"==typeof l?l===zf?n.push(l):t.errors.push(new Se(3002,!1)):n.push(WZ(l));let s=!1,o=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(o=l.get("easing"),l.delete("easing")),!s))for(let d of l.values())if(d.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:n,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,d)=>{const h=t.collectedStyles.get(t.currentQuerySelector),m=h.get(d);let b=!0;m&&(s!=r&&s>=m.startTime&&r<=m.endTime&&(t.errors.push(function Cpt(i,e,t,n,r){return new Se(3010,!1)}()),b=!1),s=m.startTime),b&&h.set(d,{startTime:s,endTime:r}),t.options&&function egt(i,e,t){const n=e.params||{},r=YZ(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(function ppt(i){return new Se(3001,!1)}())})}(l,t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ept(){return new Se(3011,!1)}()),n;let s=0;const o=[];let l=!1,d=!1,h=0;const m=e.steps.map(F=>{const H=this._makeStyleAst(F,t);let j=null!=H.offset?H.offset:function fgt(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(H.styles),Q=0;return null!=j&&(s++,Q=H.offset=j),d=d||Q<0||Q>1,l=l||Q<h,h=Q,o.push(Q),H});d&&t.errors.push(function Mpt(){return new Se(3012,!1)}()),l&&t.errors.push(function Spt(){return new Se(3200,!1)}());const b=e.steps.length;let v=0;s>0&&s<b?t.errors.push(function kpt(){return new Se(3202,!1)}()):0==s&&(v=1/(b-1));const E=b-1,D=t.currentTime,T=t.currentAnimateTimings,P=T.duration;return m.forEach((F,H)=>{const j=v>0?H==E?1:v*H:o[H],Q=j*P;t.currentTime=D+T.delay+Q,T.duration=Q,this._validateStyleAst(F,t),F.offset=j,n.styles.push(F)}),n}visitReference(e,t){return{type:8,animation:bc(this,c2(e.animation),t),options:hb(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:hb(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hb(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function dgt(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(lgt,"")),i=i.replace(/@\*/g,iL).replace(/@\w+/g,t=>iL+"-"+t.slice(1)).replace(/:animating/g,wV),[i,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,_c(t.collectedStyles,t.currentQuerySelector,new Map);const l=bc(this,c2(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:hb(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Dpt(){return new Se(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:nL(e.timings,t.errors,!0);return{type:12,animation:bc(this,c2(e.animation),t),timings:n,options:null}}}class hgt{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hb(i){return i?(i=l2(i)).params&&(i.params=function ugt(i){return i?l2(i):null}(i.params)):i={},i}function kV(i,e,t){return{duration:i,delay:e,easing:t}}function DV(i,e,t,n,r,s,o=null,l=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class lL{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _gt=new RegExp(":enter","g"),vgt=new RegExp(":leave","g");function TV(i,e,t,n,r,s=new Map,o=new Map,l,d,h=[]){return(new ygt).buildKeyframes(i,e,t,n,r,s,o,l,d,h)}class ygt{buildKeyframes(e,t,n,r,s,o,l,d,h,m=[]){h=h||new lL;const b=new IV(e,t,h,r,s,m,[]);b.options=d;const v=d.delay?Uf(d.delay):0;b.currentTimeline.delayNextStep(v),b.currentTimeline.setStyles([o],null,b.errors,d),bc(this,n,b);const E=b.timelines.filter(D=>D.containsAnimation());if(E.length&&l.size){let D;for(let T=E.length-1;T>=0;T--){const P=E[T];if(P.element===t){D=P;break}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([l],null,b.errors,d)}return E.length?E.map(D=>D.buildKeyframes()):[DV(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:Uf(d2(s,r?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?Uf(n.duration):null,l=null!=n.delay?Uf(n.delay):null;return 0!==o&&e.forEach(d=>{const h=t.appendInstructionToTimeline(d,o,l);s=Math.max(s,h.duration+h.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),bc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cL);const o=Uf(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>bc(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Uf(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),bc(this,o,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return nL(t.params?d2(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,e.styles.forEach(d=>{l.forwardTime((d.offset||0)*s),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Uf(r.delay):0;s&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=cL);let o=n;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((h,m)=>{t.currentQueryIndex=m;const b=t.createSubContext(e.options,h);s&&b.delayNextStep(s),h===t.element&&(d=b.currentTimeline),bc(this,e.animation,b),b.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,b.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let d=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":d=l-d;break;case"full":d=n.currentStaggerTime}const m=t.currentTimeline;d&&m.delayNextStep(d);const b=m.currentTime;bc(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-b+(r.startTime-n.currentTimeline.startTime)}}const cL={};class IV{constructor(e,t,n,r,s,o,l,d){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cL,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new dL(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=Uf(n.duration)),null!=n.delay&&(r.delay=Uf(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=d2(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,s=new IV(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=cL,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},s=new xgt(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,s,o){let l=[];if(r&&l.push(this.element),e.length>0){e=(e=e.replace(_gt,"."+this._enterClassName)).replace(vgt,"."+this._leaveClassName);let h=this._driver.query(this.element,e,1!=n);0!==n&&(h=n<0?h.slice(h.length+n,h.length):h.slice(0,n)),l.push(...h)}return!s&&0==l.length&&o.push(function Tpt(i){return new Se(3014,!1)}()),l}}class dL{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dL(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||zf),this._currentKeyframe.set(t,zf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function wgt(i,e){const t=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||e.keys();for(let s of n)t.set(s,zf)}else gg(r,t)}),t}(e,this._globalTimelineStyles);for(let[l,d]of o){const h=d2(d,s,n);this._pendingStyles.set(l,h),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??zf),this._updateStyle(l,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{const r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,d)=>{const h=gg(l,new Map,this._backFill);h.forEach((m,b)=>{"!"===m?e.add(b):m===zf&&t.add(b)}),n||h.set("offset",d/this.duration),r.push(h)});const s=e.size?rL(e.values()):[],o=t.size?rL(t.values()):[];if(n){const l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return DV(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class xgt extends dL{constructor(e,t,n,r,s,o,l=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,l=t/o,d=gg(e[0]);d.set("offset",0),s.push(d);const h=gg(e[0]);h.set("offset",QZ(l)),s.push(h);const m=e.length-1;for(let b=1;b<=m;b++){let v=gg(e[b]);const E=v.get("offset");v.set("offset",QZ((t+E*n)/o)),s.push(v)}n=o,t=0,r="",e=s}return DV(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function QZ(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class AV{}const Cgt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Egt extends AV{normalizePropertyName(e,t){return MV(e)}normalizeStyleValue(e,t,n,r){let s="";const o=n.toString().trim();if(Cgt.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function bpt(i,e){return new Se(3005,!1)}())}return o+s}}function JZ(i,e,t,n,r,s,o,l,d,h,m,b,v){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:l,queriedElements:d,preStyleProps:h,postStyleProps:m,totalTime:b,errors:v}}const OV={};class tq{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function Mgt(i,e,t,n,r){return i.some(s=>s(e,t,n,r))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,s,o,l,d,h,m){const b=[],v=this.ast.options&&this.ast.options.params||OV,D=this.buildStyles(n,l&&l.params||OV,b),T=d&&d.params||OV,P=this.buildStyles(r,T,b),F=new Set,H=new Map,j=new Map,Q="void"===r,Tt={params:Sgt(T,v),delay:this.ast.options?.delay},Rt=m?[]:TV(e,t,this.ast.animation,s,o,D,P,Tt,h,b);let Ct=0;if(Rt.forEach(Vt=>{Ct=Math.max(Vt.duration+Vt.delay,Ct)}),b.length)return JZ(t,this._triggerName,n,r,Q,D,P,[],[],H,j,Ct,b);Rt.forEach(Vt=>{const he=Vt.element,re=_c(H,he,new Set);Vt.preStyleProps.forEach(ie=>re.add(ie));const kt=_c(j,he,new Set);Vt.postStyleProps.forEach(ie=>kt.add(ie)),he!==t&&F.add(he)});const Bt=rL(F.values());return JZ(t,this._triggerName,n,r,Q,D,P,Rt,Bt,H,j,Ct)}}function Sgt(i,e){const t=l2(e);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(t[n]=i[n]);return t}class kgt{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n=new Map,r=l2(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,l)=>{o&&(o=d2(o,r,t));const d=this.normalizer.normalizePropertyName(l,t);o=this.normalizer.normalizeStyleValue(l,d,o,t),n.set(l,o)})}),n}}class Tgt{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new kgt(r.style,r.options&&r.options.params||{},n))}),eq(this.states,"true","1"),eq(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new tq(e,r,this.states))}),this.fallbackTransition=function Igt(i,e,t){return new tq(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(o=>o.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function eq(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}const Agt=new lL;class Ogt{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const n=[],s=SV(this._driver,t,n,[]);if(n.length)throw function Fpt(i){return new Se(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,n){const r=e.element,s=NZ(this._normalizer,e.keyframes,t,n);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],s=this._animations.get(e);let o;const l=new Map;if(s?(o=TV(this._driver,t,s,xV,tL,new Map,new Map,n,Agt,r),o.forEach(m=>{const b=_c(l,m.element,new Map);m.postStyleProps.forEach(v=>b.set(v,null))})):(r.push(function Npt(){return new Se(3300,!1)}()),o=[]),r.length)throw function Bpt(i){return new Se(3504,!1)}();l.forEach((m,b)=>{m.forEach((v,E)=>{m.set(E,this._driver.computeStyle(b,E,zf))})});const h=pg(o.map(m=>{const b=l.get(m.element);return this._buildPlayer(m,new Map,b)}));return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function zpt(i){return new Se(3301,!1)}();return t}listen(e,t,n,r){const s=bV(t,"","","");return gV(this._getPlayer(e),n,s,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const iq="ng-animate-queued",RV="ng-animate-disabled",Ngt=[],nq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bgt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bd="__ng_removed";class PV{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function Ugt(i){return i??null}(n?e.value:e),n){const s=l2(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const u2="void",LV=new PV(u2);class zgt{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,td(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw function Vpt(i,e){return new Se(3302,!1)}();if(null==n||0==n.length)throw function Hpt(i){return new Se(3303,!1)}();if(!function Ggt(i){return"start"==i||"done"==i}(n))throw function Upt(i,e){return new Se(3400,!1)}();const s=_c(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const l=_c(this._engine.statesByElement,e,new Map);return l.has(t)||(td(e,eL),td(e,eL+"-"+t),l.set(t,LV)),()=>{this._engine.afterFlush(()=>{const d=s.indexOf(o);d>=0&&s.splice(d,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Gpt(i){return new Se(3401,!1)}();return t}trigger(e,t,n,r=!0){const s=this._getTrigger(t),o=new FV(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(td(e,eL),td(e,eL+"-"+t),this._engine.statesByElement.set(e,l=new Map));let d=l.get(t);const h=new PV(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),l.set(t,h),d||(d=LV),h.value!==u2&&d.value===h.value){if(!function $gt(i,e){const t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}(d.params,h.params)){const T=[],P=s.matchStyles(d.value,d.params,T),F=s.matchStyles(h.value,h.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{ub(e,P),th(e,F)})}return}const v=_c(this._engine.playersByElement,e,[]);v.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let E=s.matchTransition(d.value,h.value,e,h.params),D=!1;if(!E){if(!r)return;E=s.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:d,toState:h,player:o,isFallbackTransition:D}),D||(td(e,iq),o.onStart(()=>{Zx(e,iq)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const P=this._engine.playersByElement.get(e);if(P){let F=P.indexOf(o);F>=0&&P.splice(F,1)}}),this.players.push(o),v.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,iL,!0);n.forEach(r=>{if(r[Bd])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const l=[];if(s.forEach((d,h)=>{if(o.set(h,d.value),this._triggers.has(h)){const m=this.trigger(e,h,u2,r);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&pg(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const d=this._triggers.get(o).fallbackTransition,h=n.get(o)||LV,m=new PV(u2),b=new FV(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:d,fromState:h,toState:m,player:b,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Bd];(!s||s===nq)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){td(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==n.triggerName){const d=bV(s,n.triggerName,n.fromState.value,n.toState.value);d._data=e,gV(n.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Vgt{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new zgt(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,l=this.driver.getParentElement(t);for(;l;){const d=r.get(l);if(d){const h=n.indexOf(d);n.splice(h+1,0,e),o=!0;break}l=this.driver.getParentElement(l)}o||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,n,r){if(uL(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!uL(t))return;const s=t[Bd];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),td(e,RV)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Zx(e,RV))}removeNode(e,t,n){if(uL(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,r,s){this.collectedLeaveElements.push(t),t[Bd]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,n,r,s){return uL(t)?this._fetchNamespace(e).listen(t,n,r,s):()=>{}}_buildInstruction(e,t,n,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,iL,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wV,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return pg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Bd];if(t&&t.setForRemoval){if(e[Bd]=nq,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(RV)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)td(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?pg(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw function jpt(i){return new Se(3402,!1)}()}_flushAnimations(e,t){const n=new lL,r=[],s=new Map,o=[],l=new Map,d=new Map,h=new Map,m=new Set;this.disabledNodes.forEach(Ht=>{m.add(Ht);const Kt=this.driver.query(Ht,".ng-animate-queued",!0);for(let oe=0;oe<Kt.length;oe++)m.add(Kt[oe])});const b=this.bodyNode,v=Array.from(this.statesByElement.keys()),E=oq(v,this.collectedEnterElements),D=new Map;let T=0;E.forEach((Ht,Kt)=>{const oe=xV+T++;D.set(Kt,oe),Ht.forEach(we=>td(we,oe))});const P=[],F=new Set,H=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const Kt=this.collectedLeaveElements[Ht],oe=Kt[Bd];oe&&oe.setForRemoval&&(P.push(Kt),F.add(Kt),oe.hasAnimation?this.driver.query(Kt,".ng-star-inserted",!0).forEach(we=>F.add(we)):H.add(Kt))}const j=new Map,Q=oq(v,Array.from(F));Q.forEach((Ht,Kt)=>{const oe=tL+T++;j.set(Kt,oe),Ht.forEach(we=>td(we,oe))}),e.push(()=>{E.forEach((Ht,Kt)=>{const oe=D.get(Kt);Ht.forEach(we=>Zx(we,oe))}),Q.forEach((Ht,Kt)=>{const oe=j.get(Kt);Ht.forEach(we=>Zx(we,oe))}),P.forEach(Ht=>{this.processLeaveNode(Ht)})});const Tt=[],Rt=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(t).forEach(oe=>{const we=oe.player,Je=oe.element;if(Tt.push(we),this.collectedEnterElements.length){const Tn=Je[Bd];if(Tn&&Tn.setForMove){if(Tn.previousTriggersValues&&Tn.previousTriggersValues.has(oe.triggerName)){const Fn=Tn.previousTriggersValues.get(oe.triggerName),ri=this.statesByElement.get(oe.element);if(ri&&ri.has(oe.triggerName)){const Ji=ri.get(oe.triggerName);Ji.value=Fn,ri.set(oe.triggerName,Ji)}}return void we.destroy()}}const Ci=!b||!this.driver.containsElement(b,Je),ke=j.get(Je),Zi=D.get(Je),di=this._buildInstruction(oe,n,Zi,ke,Ci);if(di.errors&&di.errors.length)return void Rt.push(di);if(Ci)return we.onStart(()=>ub(Je,di.fromStyles)),we.onDestroy(()=>th(Je,di.toStyles)),void r.push(we);if(oe.isFallbackTransition)return we.onStart(()=>ub(Je,di.fromStyles)),we.onDestroy(()=>th(Je,di.toStyles)),void r.push(we);const ji=[];di.timelines.forEach(Tn=>{Tn.stretchStartingKeyframe=!0,this.disabledNodes.has(Tn.element)||ji.push(Tn)}),di.timelines=ji,n.append(Je,di.timelines),o.push({instruction:di,player:we,element:Je}),di.queriedElements.forEach(Tn=>_c(l,Tn,[]).push(we)),di.preStyleProps.forEach((Tn,Fn)=>{if(Tn.size){let ri=d.get(Fn);ri||d.set(Fn,ri=new Set),Tn.forEach((Ji,an)=>ri.add(an))}}),di.postStyleProps.forEach((Tn,Fn)=>{let ri=h.get(Fn);ri||h.set(Fn,ri=new Set),Tn.forEach((Ji,an)=>ri.add(an))})});if(Rt.length){const Ht=[];Rt.forEach(Kt=>{Ht.push(function Wpt(i,e){return new Se(3505,!1)}())}),Tt.forEach(Kt=>Kt.destroy()),this.reportError(Ht)}const Ct=new Map,Bt=new Map;o.forEach(Ht=>{const Kt=Ht.element;n.has(Kt)&&(Bt.set(Kt,Kt),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,Ct))}),r.forEach(Ht=>{const Kt=Ht.element;this._getPreviousPlayers(Kt,!1,Ht.namespaceId,Ht.triggerName,null).forEach(we=>{_c(Ct,Kt,[]).push(we),we.destroy()})});const Vt=P.filter(Ht=>lq(Ht,d,h)),he=new Map;sq(he,this.driver,H,h,zf).forEach(Ht=>{lq(Ht,d,h)&&Vt.push(Ht)});const kt=new Map;E.forEach((Ht,Kt)=>{sq(kt,this.driver,new Set(Ht),d,"!")}),Vt.forEach(Ht=>{const Kt=he.get(Ht),oe=kt.get(Ht);he.set(Ht,new Map([...Kt?.entries()??[],...oe?.entries()??[]]))});const ie=[],de=[],pe={};o.forEach(Ht=>{const{element:Kt,player:oe,instruction:we}=Ht;if(n.has(Kt)){if(m.has(Kt))return oe.onDestroy(()=>th(Kt,we.toStyles)),oe.disabled=!0,oe.overrideTotalTime(we.totalTime),void r.push(oe);let Je=pe;if(Bt.size>1){let ke=Kt;const Zi=[];for(;ke=ke.parentNode;){const di=Bt.get(ke);if(di){Je=di;break}Zi.push(ke)}Zi.forEach(di=>Bt.set(di,Je))}const Ci=this._buildAnimation(oe.namespaceId,we,Ct,s,kt,he);if(oe.setRealPlayer(Ci),Je===pe)ie.push(oe);else{const ke=this.playersByElement.get(Je);ke&&ke.length&&(oe.parentPlayer=pg(ke)),r.push(oe)}}else ub(Kt,we.fromStyles),oe.onDestroy(()=>th(Kt,we.toStyles)),de.push(oe),m.has(Kt)&&r.push(oe)}),de.forEach(Ht=>{const Kt=s.get(Ht.element);if(Kt&&Kt.length){const oe=pg(Kt);Ht.setRealPlayer(oe)}}),r.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<P.length;Ht++){const Kt=P[Ht],oe=Kt[Bd];if(Zx(Kt,tL),oe&&oe.hasAnimation)continue;let we=[];if(l.size){let Ci=l.get(Kt);Ci&&Ci.length&&we.push(...Ci);let ke=this.driver.query(Kt,wV,!0);for(let Zi=0;Zi<ke.length;Zi++){let di=l.get(ke[Zi]);di&&di.length&&we.push(...di)}}const Je=we.filter(Ci=>!Ci.destroyed);Je.length?jgt(this,Kt,Je):this.processLeaveNode(Kt)}return P.length=0,ie.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const Kt=this.players.indexOf(Ht);this.players.splice(Kt,1)}),Ht.play()}),ie}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const d=!s||s==u2;l.forEach(h=>{h.queued||!d&&h.triggerName!=r||o.push(h)})}}return(n||r)&&(o=o.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),o}_beforeAnimationBuild(e,t,n){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const d of t.timelines){const h=d.element,m=h!==s,b=_c(n,h,[]);this._getPreviousPlayers(h,m,o,l,t.toState).forEach(E=>{const D=E.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),E.destroy(),b.push(E)})}ub(s,t.fromStyles)}_buildAnimation(e,t,n,r,s,o){const l=t.triggerName,d=t.element,h=[],m=new Set,b=new Set,v=t.timelines.map(D=>{const T=D.element;m.add(T);const P=T[Bd];if(P&&P.removedBeforeQueried)return new e2(D.duration,D.delay);const F=T!==d,H=function Wgt(i){const e=[];return aq(i,e),e}((n.get(T)||Ngt).map(Ct=>Ct.getRealPlayer())).filter(Ct=>!!Ct.element&&Ct.element===T),j=s.get(T),Q=o.get(T),Tt=NZ(this._normalizer,D.keyframes,j,Q),Rt=this._buildPlayer(D,Tt,H);if(D.subTimeline&&r&&b.add(T),F){const Ct=new FV(e,l,T);Ct.setRealPlayer(Rt),h.push(Ct)}return Rt});h.forEach(D=>{_c(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function Hgt(i,e,t){let n=i.get(e);if(n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&i.delete(e)}return n}(this.playersByQueriedElement,D.element,D))}),m.forEach(D=>td(D,jZ));const E=pg(v);return E.onDestroy(()=>{m.forEach(D=>Zx(D,jZ)),th(d,t.toStyles)}),b.forEach(D=>{_c(r,D,[]).push(E)}),E}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new e2(e.duration,e.delay)}}class FV{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new e2,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>gV(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_c(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function uL(i){return i&&1===i.nodeType}function rq(i,e){const t=i.style.display;return i.style.display=e??"none",t}function sq(i,e,t,n,r){const s=[];t.forEach(d=>s.push(rq(d)));const o=[];n.forEach((d,h)=>{const m=new Map;d.forEach(b=>{const v=e.computeStyle(h,b,r);m.set(b,v),(!v||0==v.length)&&(h[Bd]=Bgt,o.push(h))}),i.set(h,m)});let l=0;return t.forEach(d=>rq(d,s[l++])),o}function oq(i,e){const t=new Map;if(i.forEach(l=>t.set(l,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(l){if(!l)return 1;let d=s.get(l);if(d)return d;const h=l.parentNode;return d=t.has(h)?h:r.has(h)?1:o(h),s.set(l,d),d}return e.forEach(l=>{const d=o(l);1!==d&&t.get(d).push(l)}),t}function td(i,e){i.classList?.add(e)}function Zx(i,e){i.classList?.remove(e)}function jgt(i,e,t){pg(t).onDone(()=>i.processLeaveNode(e))}function aq(i,e){for(let t=0;t<i.length;t++){const n=i[t];n instanceof qY?aq(n.players,e):e.push(n)}}function lq(i,e,t){const n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(s=>r.add(s)):e.set(i,n),t.delete(i),!0}class hL{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Vgt(e,t,n),this._timelineEngine=new Ogt(e,t,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,n,r,s){const o=e+"-"+r;let l=this._triggerCache[o];if(!l){const d=[],m=SV(this._driver,s,d,[]);if(d.length)throw function Ppt(i,e){return new Se(3404,!1)}();l=function Dgt(i,e,t){return new Tgt(i,e,t)}(r,m,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,r,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[s,o]=BZ(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,s){if("@"==n.charAt(0)){const[o,l]=BZ(n);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,n,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Zgt=(()=>{class i{static#t=this.initialStylesByElement=new WeakMap;constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&th(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(th(this._element,this._initialStyles),this._endStyles&&(th(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(ub(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ub(this._element,this._endStyles),this._endStyles=null),th(this._element,this._initialStyles),this._state=3)}}return i})();function NV(i){let e=null;return i.forEach((t,n)=>{(function qgt(i){return"display"===i||"position"===i})(n)&&(e=e||new Map,e.set(n,t))}),e}class cq{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&e.set(r,this._finished?n:ZZ(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class Xgt{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VZ(e,t)}getParentElement(e){return vV(e)}query(e,t,n){return HZ(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,r,s,o=[]){const d={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(d.easing=s);const h=new Map,m=o.filter(E=>E instanceof cq);(function ngt(i,e){return 0===i||0===e})(n,r)&&m.forEach(E=>{E.currentSnapshot.forEach((D,T)=>h.set(T,D))});let b=function tgt(i){return i.length?i[0]instanceof Map?i:i.map(e=>WZ(e)):[]}(t).map(E=>gg(E));b=function rgt(i,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(l=>o.set(l,ZZ(i,l)))}}return e}(e,b,h);const v=function Ygt(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=NV(e[0]),e.length>1&&(n=NV(e[e.length-1]))):e instanceof Map&&(t=NV(e)),t||n?new Zgt(i,t,n):null}(e,b);return new cq(e,b,d,v)}}let Kgt=(()=>{class i extends YY{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:fr.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ZY(t):t;return dq(this._renderer,null,n,"register",[r]),new Qgt(n,this._renderer)}static#t=this.\u0275fac=function(n){return new(n||i)(V(Ou),V(li))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();class Qgt extends Vht{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Jgt(this._id,e,t||{},this._renderer)}}class Jgt{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return dq(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function dq(i,e,t,n,r){return i.setProperty(e,`@@${t}:${n}`,r)}const uq="@.disabled";let t_t=(()=>{class i{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(s,o)=>{const l=o?.parentNode(s);l&&o.removeChild(l,s)}}createRenderer(t,n){const s=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let m=this._rendererCache.get(s);return m||(m=new hq("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,m)),m}const o=n.id,l=n.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const d=m=>{Array.isArray(m)?m.forEach(d):this.engine.registerTrigger(o,l,t,m.name,m)};return n.data.animation.forEach(d),new e_t(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){t>=0&&t<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#t=this.\u0275fac=function(n){return new(n||i)(V(Ou),V(hL),V(fi))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();class hq{constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==uq?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class e_t extends hq{constructor(e,t,n,r,s){super(t,n,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==uq?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function i_t(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function n_t(i){const e=i.indexOf(".");return[i.substring(0,e),i.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,n,l)})}return this.delegate.listen(e,t,n)}}let r_t=(()=>{class i extends hL{constructor(t,n,r,s){super(t.body,n,r)}ngOnDestroy(){this.flush()}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(yV),V(AV),V(Od))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();const fq=[{provide:YY,useClass:Kgt},{provide:AV,useFactory:function s_t(){return new Egt}},{provide:hL,useClass:r_t},{provide:Ou,useFactory:function o_t(i,e,t){return new t_t(i,e,t)},deps:[AB,hL,fi]}],BV=[{provide:yV,useFactory:()=>new Xgt},{provide:Gr,useValue:"BrowserAnimations"},...fq],mq=[{provide:yV,useClass:UZ},{provide:Gr,useValue:"NoopAnimations"},...fq];let a_t=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?mq:BV}}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:BV,imports:[yj]})}return i})();const qx="https://auth.mol.org",mL="https://next-api-dot-api-2-x-dot-map-of-life.appspot.com/2.x/",h2="https://next-tiles-dot-tiler-dot-map-of-life.appspot.com/0.x",u_t=["^http://localhost",mL,"^https://api-dot-sdmviz-dot-map-of-life.appspot.com/"],h_t=["en","de","es","fr","zh"];class f_t{http;prefix;suffix;constructor(e,t="/assets/i18n/",n=".json"){this.http=e,this.prefix=t,this.suffix=n}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}const pL=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function gL(i=null){return e=>e.lift(new m_t(i))}class m_t{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new p_t(e,this.defaultValue))}}class p_t extends et{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function pq(i=b_t){return e=>e.lift(new g_t(i))}class g_t{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new __t(e,this.errorFactory))}}class __t extends et{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function b_t(){return new pL}function fb(i,e){const t=arguments.length>=2;return n=>n.pipe(i?Gn((r,s)=>i(r,s,n)):Yt,ur(1),t?gL(e):pq(()=>new pL))}class y_t{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new x_t(e,this.accumulator,this.seed,this.hasSeed))}}class x_t extends et{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function zV(i){return function(t){return 0===i?BR():t.lift(new w_t(i))}}class w_t{constructor(e){if(this.total=e,this.total<0)throw new L$}call(e,t){return t.subscribe(new C_t(e,this.total))}}class C_t extends et{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const o=t++%n;e.next(r[o])}}e.complete()}}const Ln="primary",f2=Symbol("RouteTitle");class M_t{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xx(i){return new M_t(i)}function S_t(i,e,t){const n=t.path.split("/");if(n.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<i.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],l=i[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function eh(i,e){const t=i?Object.keys(i):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!gq(i[r],e[r]))return!1;return!0}function gq(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),n=[...e].sort();return t.every((r,s)=>n[s]===r)}return i===e}function _q(i){return i.length>0?i[i.length-1]:null}function bg(i){return Jc(i)?i:x0(i)?ne(Promise.resolve(i)):je(i)}const D_t={exact:function yq(i,e,t){if(!mb(i.segments,e.segments)||!_L(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!i.children[n]||!yq(i.children[n],e.children[n],t))return!1;return!0},subset:xq},bq={exact:function T_t(i,e){return eh(i,e)},subset:function I_t(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>gq(i[t],e[t]))},ignored:()=>!0};function vq(i,e,t){return D_t[t.paths](i.root,e.root,t.matrixParams)&&bq[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function xq(i,e,t){return wq(i,e,e.segments,t)}function wq(i,e,t,n){if(i.segments.length>t.length){const r=i.segments.slice(0,t.length);return!(!mb(r,t)||e.hasChildren()||!_L(r,t,n))}if(i.segments.length===t.length){if(!mb(i.segments,t)||!_L(i.segments,t,n))return!1;for(const r in e.children)if(!i.children[r]||!xq(i.children[r],e.children[r],n))return!1;return!0}{const r=t.slice(0,i.segments.length),s=t.slice(i.segments.length);return!!(mb(i.segments,r)&&_L(i.segments,r,n)&&i.children[Ln])&&wq(i.children[Ln],e,s,n)}}function _L(i,e,t){return e.every((n,r)=>bq[t](i[r].parameters,n.parameters))}class Kx{constructor(e=new Br([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xx(this.queryParams)),this._queryParamMap}toString(){return R_t.serialize(this)}}class Br{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bL(this)}}class m2{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xx(this.parameters)),this._parameterMap}toString(){return Mq(this)}}function mb(i,e){return i.length===e.length&&i.every((t,n)=>t.path===e[n].path)}let p2=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(){return new VV},providedIn:"root"})}return i})();class VV{parse(e){const t=new j_t(e);return new Kx(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${g2(e.root,!0)}`,n=function F_t(i){const e=Object.keys(i).map(t=>{const n=i[t];return Array.isArray(n)?n.map(r=>`${vL(t)}=${vL(r)}`).join("&"):`${vL(t)}=${vL(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function P_t(i){return encodeURI(i)}(e.fragment)}`:"";return`${t}${n}${r}`}}const R_t=new VV;function bL(i){return i.segments.map(e=>Mq(e)).join("/")}function g2(i,e){if(!i.hasChildren())return bL(i);if(e){const t=i.children[Ln]?g2(i.children[Ln],!1):"",n=[];return Object.entries(i.children).forEach(([r,s])=>{r!==Ln&&n.push(`${r}:${g2(s,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function O_t(i,e){let t=[];return Object.entries(i.children).forEach(([n,r])=>{n===Ln&&(t=t.concat(e(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Ln&&(t=t.concat(e(r,n)))}),t}(i,(n,r)=>r===Ln?[g2(i.children[Ln],!1)]:[`${r}:${g2(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Ln]?`${bL(i)}/${t[0]}`:`${bL(i)}/(${t.join("//")})`}}function Cq(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vL(i){return Cq(i).replace(/%3B/gi,";")}function HV(i){return Cq(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yL(i){return decodeURIComponent(i)}function Eq(i){return yL(i.replace(/\+/g,"%20"))}function Mq(i){return`${HV(i.path)}${function L_t(i){return Object.keys(i).map(e=>`;${HV(e)}=${HV(i[e])}`).join("")}(i.parameters)}`}const N_t=/^[^\/()?;#]+/;function UV(i){const e=i.match(N_t);return e?e[0]:""}const B_t=/^[^\/()?;=#]+/,V_t=/^[^=?&#]+/,U_t=/^[^&#]+/;class j_t{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Br([],{}):new Br([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Ln]=new Br(e,t)),n}parseSegment(){const e=UV(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Se(4009,!1);return this.capture(e),new m2(yL(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function z_t(i){const e=i.match(B_t);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=UV(this.remaining);r&&(n=r,this.capture(n))}e[yL(t)]=yL(n)}parseQueryParam(e){const t=function H_t(i){const e=i.match(V_t);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function G_t(i){const e=i.match(U_t);return e?e[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=Eq(t),s=Eq(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=UV(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Se(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ln);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ln]:new Br([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Se(4011,!1)}}function Sq(i){return i.segments.length>0?new Br([],{[Ln]:i}):i}function kq(i){const e={};for(const n of Object.keys(i.children)){const s=kq(i.children[n]);if(n===Ln&&0===s.segments.length&&s.hasChildren())for(const[o,l]of Object.entries(s.children))e[o]=l;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}return function W_t(i){if(1===i.numberOfChildren&&i.children[Ln]){const e=i.children[Ln];return new Br(i.segments.concat(e.segments),e.children)}return i}(new Br(i.segments,e))}function pb(i){return i instanceof Kx}function Dq(i){let e;const r=Sq(function t(s){const o={};for(const d of s.children){const h=t(d);o[d.outlet]=h}const l=new Br(s.url,o);return s===i&&(e=l),l}(i.root));return e??r}function Tq(i,e,t,n){let r=i;for(;r.parent;)r=r.parent;if(0===e.length)return GV(r,r,r,t,n);const s=function Y_t(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Aq(!0,0,i);let e=0,t=!1;const n=i.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Object.entries(s.outlets).forEach(([d,h])=>{l[d]="string"==typeof h?h.split("/"):h}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,d)=>{0==d&&"."===l||(0==d&&""===l?t=!0:".."===l?e++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new Aq(t,e,n)}(e);if(s.toRoot())return GV(r,r,new Br([],{}),t,n);const o=function Z_t(i,e,t){if(i.isAbsolute)return new wL(e,!0,0);if(!t)return new wL(e,!1,NaN);if(null===t.parent)return new wL(t,!0,0);const n=xL(i.commands[0])?0:1;return function q_t(i,e,t){let n=i,r=e,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Se(4005,!1);r=n.segments.length}return new wL(n,!1,r-s)}(t,t.segments.length-1+n,i.numberOfDoubleDots)}(s,r,i),l=o.processChildren?b2(o.segmentGroup,o.index,s.commands):Oq(o.segmentGroup,o.index,s.commands);return GV(r,o.segmentGroup,l,t,n)}function xL(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function _2(i){return"object"==typeof i&&null!=i&&i.outlets}function GV(i,e,t,n,r){let o,s={};n&&Object.entries(n).forEach(([d,h])=>{s[d]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`}),o=i===e?t:Iq(i,e,t);const l=Sq(kq(o));return new Kx(l,s,r)}function Iq(i,e,t){const n={};return Object.entries(i.children).forEach(([r,s])=>{n[r]=s===e?t:Iq(s,e,t)}),new Br(i.segments,n)}class Aq{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&xL(n[0]))throw new Se(4003,!1);const r=n.find(_2);if(r&&r!==_q(n))throw new Se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wL{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Oq(i,e,t){if(i||(i=new Br([],{})),0===i.segments.length&&i.hasChildren())return b2(i,e,t);const n=function K_t(i,e,t){let n=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=t.length)return s;const o=i.segments[r],l=t[n];if(_2(l))break;const d=`${l}`,h=n<t.length-1?t[n+1]:null;if(r>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!Pq(d,h,o))return s;n+=2}else{if(!Pq(d,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const s=new Br(i.segments.slice(0,n.pathIndex),{});return s.children[Ln]=new Br(i.segments.slice(n.pathIndex),i.children),b2(s,0,r)}return n.match&&0===r.length?new Br(i.segments,{}):n.match&&!i.hasChildren()?jV(i,e,t):n.match?b2(i,0,r):jV(i,e,t)}function b2(i,e,t){if(0===t.length)return new Br(i.segments,{});{const n=function X_t(i){return _2(i[0])?i[0].outlets:{[Ln]:i}}(t),r={};if(Object.keys(n).some(s=>s!==Ln)&&i.children[Ln]&&1===i.numberOfChildren&&0===i.children[Ln].segments.length){const s=b2(i.children[Ln],e,t);return new Br(i.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Oq(i.children[s],e,o))}),Object.entries(i.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new Br(i.segments,r)}}function jV(i,e,t){const n=i.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(_2(s)){const d=Q_t(s.outlets);return new Br(n,d)}if(0===r&&xL(t[0])){n.push(new m2(i.segments[e].path,Rq(t[0]))),r++;continue}const o=_2(s)?s.outlets[Ln]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&xL(l)?(n.push(new m2(o,Rq(l))),r+=2):(n.push(new m2(o,{})),r++)}return new Br(n,{})}function Q_t(i){const e={};return Object.entries(i).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(e[t]=jV(new Br([],{}),0,n))}),e}function Rq(i){const e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function Pq(i,e,t){return i==t.path&&eh(e,t.parameters)}const v2="imperative";class ih{constructor(e,t){this.id=e,this.url=t}}class CL extends ih{constructor(e,t,n="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nh extends ih{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class y2 extends ih{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qx extends ih{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=16}}class EL extends ih{constructor(e,t,n,r){super(e,t),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lq extends ih{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J_t extends ih{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t0t extends ih{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e0t extends ih{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i0t extends ih{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n0t{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r0t{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s0t{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o0t{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a0t{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l0t{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fq{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WV{}class $V{constructor(e){this.url=e}}class c0t{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new x2,this.attachRef=null}}let x2=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new c0t,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Nq{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=YV(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=YV(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ZV(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ZV(e,this._root).map(t=>t.value)}}function YV(i,e){if(i===e.value)return e;for(const t of e.children){const n=YV(i,t);if(n)return n}return null}function ZV(i,e){if(i===e.value)return[e];for(const t of e.children){const n=ZV(i,t);if(n.length)return n.unshift(e),n}return[]}class Gf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jx(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class Bq extends Nq{constructor(e,t){super(e),this.snapshot=t,qV(this,e)}toString(){return this.snapshot.toString()}}function zq(i,e){const t=function d0t(i,e){const o=new ML([],{},{},"",{},Ln,e,null,{});return new Hq("",new Gf(o,[]))}(0,e),n=new ti([new m2("",{})]),r=new ti({}),s=new ti({}),o=new ti({}),l=new ti(""),d=new zd(n,r,o,l,s,Ln,e,t.root);return d.snapshot=t.root,new Bq(new Gf(d,[]),t)}class zd{constructor(e,t,n,r,s,o,l,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Ae(h=>h[f2]))??je(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>Xx(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>Xx(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vq(i,e="emptyOnly"){const t=i.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const r=t[n],s=t[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function u0t(i){return i.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(n))}class ML{get title(){return this.data?.[f2]}constructor(e,t,n,r,s,o,l,d,h){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xx(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xx(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hq extends Nq{constructor(e,t){super(t),this.url=e,qV(this,t)}toString(){return Uq(this._root)}}function qV(i,e){e.value._routerState=i,e.children.forEach(t=>qV(i,t))}function Uq(i){const e=i.children.length>0?` { ${i.children.map(Uq).join(", ")} } `:"";return`${i.value}${e}`}function XV(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,eh(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),eh(e.params,t.params)||i.paramsSubject.next(t.params),function k_t(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!eh(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.urlSubject.next(t.url),eh(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function KV(i,e){const t=eh(i.params,e.params)&&function A_t(i,e){return mb(i,e)&&i.every((t,n)=>eh(t.parameters,e[n].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||KV(i.parent,e.parent))}let tw=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ln,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=wt(x2),this.location=wt(Zr),this.changeDetector=wt(Sn),this.environmentInjector=wt(Fa),this.inputBinder=wt(SL,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:r}=t.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Se(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Se(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new h0t(t,l,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:d,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zn]})}return i})();class h0t{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===zd?this.route:e===x2?this.childContexts:this.parent.get(e,t)}}const SL=new xe("");let Gq=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,r=Pf([n.queryParams,n.params,n.data]).pipe(Hn(([s,o,l],d)=>(l={...s,...o,...l},0===d?je(l):Promise.resolve(l)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const o=function Ke(i){const e=Jn(i);if(!e)return null;const t=new d0(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(n.component);if(o)for(const{templateName:l}of o.inputs)t.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();function w2(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const r=function m0t(i,e,t){return e.children.map(n=>{for(const r of t.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return w2(i,n,r);return w2(i,n)})}(i,e,t);return new Gf(n,r)}{if(i.shouldAttach(e.value)){const s=i.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>w2(i,l)),o}}const n=function p0t(i){return new zd(new ti(i.url),new ti(i.params),new ti(i.queryParams),new ti(i.fragment),new ti(i.data),i.outlet,i.component,i)}(e.value),r=e.children.map(s=>w2(i,s));return new Gf(n,r)}}const QV="ngNavigationCancelingError";function jq(i,e){const{redirectTo:t,navigationBehaviorOptions:n}=pb(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Wq(!1,0,e);return r.url=t,r.navigationBehaviorOptions=n,r}function Wq(i,e,t){const n=new Error("NavigationCancelingError: "+(i||""));return n[QV]=!0,n.cancellationCode=e,t&&(n.url=t),n}function $q(i){return i&&i[QV]}let Yq=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["ng-component"]],standalone:!0,features:[IM],decls:1,vars:0,template:function(n,r){1&n&&te(0,"router-outlet")},dependencies:[tw],encapsulation:2})}return i})();function JV(i){const e=i.children&&i.children.map(JV),t=e?{...i,children:e}:{...i};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ln&&(t.component=Yq),t}function Vd(i){return i.outlet||Ln}function C2(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class C0t{constructor(e,t,n,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),XV(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Jx(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=Jx(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=Jx(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){const r=Jx(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new l0t(s.value.snapshot))}),e.children.length&&this.forwardEvent(new o0t(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(XV(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),XV(l.route.value),this.activateChildRoutes(e,null,o.children)}else{const l=C2(r.snapshot);o.attachRef=null,o.route=r,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}class Zq{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kL{constructor(e,t){this.component=e,this.route=t}}function E0t(i,e,t){const n=i._root;return E2(n,e?e._root:null,t,[n.value])}function ew(i,e){const t=Symbol(),n=e.get(i,t);return n===t?"function"!=typeof i||function ev(i){return null!==_m(i)}(i)?e.get(i):i:n}function E2(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jx(e);return i.children.forEach(o=>{(function S0t(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,o=e?e.value:null,l=t?t.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const d=function k0t(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!mb(i.url,e.url);case"pathParamsOrQueryParamsChange":return!mb(i.url,e.url)||!eh(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KV(i,e)||!eh(i.queryParams,e.queryParams);default:return!KV(i,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Zq(n)):(s.data=o.data,s._resolvedData=o._resolvedData),E2(i,e,s.component?l?l.children:null:t,n,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new kL(l.outlet.component,o))}else o&&M2(e,l,r),r.canActivateChecks.push(new Zq(n)),E2(i,null,s.component?l?l.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,l])=>M2(l,t.getContext(o),r)),r}function M2(i,e,t){const n=Jx(i),r=i.value;Object.entries(n).forEach(([s,o])=>{M2(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new kL(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function S2(i){return"function"==typeof i}function qq(i){return i instanceof pL||"EmptyError"===i?.name}const DL=Symbol("INITIAL_VALUE");function iw(){return Hn(i=>Pf(i.map(e=>e.pipe(ur(1),Nl(DL)))).pipe(Ae(e=>{for(const t of e)if(!0!==t){if(t===DL)return DL;if(!1===t||t instanceof Kx)return t}return!0}),Gn(e=>e!==DL),ur(1)))}function Xq(i){return function Ut(...i){return ue(i)}(ro(e=>{if(pb(e))throw jq(0,e)}),Ae(e=>!0===e))}class TL{constructor(e){this.segmentGroup=e||null}}class Kq{constructor(e){this.urlTree=e}}function nw(i){return Rf(new TL(i))}function Qq(i){return Rf(new Kq(i))}class Y0t{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new Se(4002,!1)}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return je(n);if(r.numberOfChildren>1||!r.children[Ln])return Rf(new Se(4e3,!1));r=r.children[Ln]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreateUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new Kx(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const l=s.substring(1);n[r]=t[l]}else n[r]=s}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let o={};return Object.entries(t.children).forEach(([l,d])=>{o[l]=this.createSegmentGroup(e,d,n,r)}),new Br(s,o)}createSegments(e,t,n,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Se(4001,!1);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}const t7={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z0t(i,e,t,n,r){const s=e7(i,e,t);return s.matched?(n=function _0t(i,e){return i.providers&&!i._injector&&(i._injector=TM(i.providers,e,`Route: ${i.path}`)),i._injector??e}(e,n),function j0t(i,e,t,n){const r=e.canMatch;return r&&0!==r.length?je(r.map(o=>{const l=ew(o,i);return bg(function R0t(i){return i&&S2(i.canMatch)}(l)?l.canMatch(e,t):i.runInContext(()=>l(e,t)))})).pipe(iw(),Xq()):je(!0)}(n,e,t).pipe(Ae(o=>!0===o?s:{...t7}))):je(s)}function e7(i,e,t){if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?{...t7}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||S_t)(t,i,e);if(!r)return{...t7};const s={};Object.entries(r.posParams??{}).forEach(([l,d])=>{s[l]=d.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Jq(i,e,t,n){return t.length>0&&function K0t(i,e,t){return t.some(n=>IL(i,e,n)&&Vd(n)!==Ln)}(i,t,n)?{segmentGroup:new Br(e,X0t(n,new Br(t,i.children))),slicedSegments:[]}:0===t.length&&function Q0t(i,e,t){return t.some(n=>IL(i,e,n))}(i,t,n)?{segmentGroup:new Br(i.segments,q0t(i,0,t,n,i.children)),slicedSegments:t}:{segmentGroup:new Br(i.segments,i.children),slicedSegments:t}}function q0t(i,e,t,n,r){const s={};for(const o of n)if(IL(i,t,o)&&!r[Vd(o)]){const l=new Br([],{});s[Vd(o)]=l}return{...r,...s}}function X0t(i,e){const t={};t[Ln]=e;for(const n of i)if(""===n.path&&Vd(n)!==Ln){const r=new Br([],{});t[Vd(n)]=r}return t}function IL(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class ibt{constructor(e,t,n,r,s,o,l){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l,this.allowRedirects=!0,this.applyRedirects=new Y0t(this.urlSerializer,this.urlTree)}noMatchError(e){return new Se(4002,!1)}recognize(){const e=Jq(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ln).pipe(Ga(t=>{if(t instanceof Kq)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof TL?this.noMatchError(t):t}),Ae(t=>{const n=new ML([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ln,this.rootComponentType,null,{}),r=new Gf(n,t),s=new Hq("",r),o=function $_t(i,e,t=null,n=null){return Tq(Dq(i),e,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ln).pipe(Ga(n=>{throw n instanceof TL?this.noMatchError(n):n}))}inheritParamsAndData(e){const t=e.value,n=Vq(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,r,!0)}processChildren(e,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return ne(r).pipe(K0(s=>{const o=n.children[s],l=function x0t(i,e){const t=i.filter(n=>Vd(n)===e);return t.push(...i.filter(n=>Vd(n)!==e)),t}(t,s);return this.processSegmentGroup(e,l,o,s)}),function v_t(i,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new y_t(i,e,t))}}((s,o)=>(s.push(...o),s)),gL(null),function E_t(i,e){const t=arguments.length>=2;return n=>n.pipe(i?Gn((r,s)=>i(r,s,n)):Yt,zV(1),t?gL(e):pq(()=>new pL))}(),qt(s=>{if(null===s)return nw(n);const o=tX(s);return function nbt(i){i.sort((e,t)=>e.value.outlet===Ln?-1:t.value.outlet===Ln?1:e.value.outlet.localeCompare(t.value.outlet))}(o),je(o)}))}processSegment(e,t,n,r,s,o){return ne(t).pipe(K0(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,n,r,s,o).pipe(Ga(d=>{if(d instanceof TL)return je(null);throw d}))),fb(l=>!!l),Ga(l=>{if(qq(l))return function tbt(i,e,t){return 0===e.length&&!i.children[t]}(n,r,s)?je([]):nw(n);throw l}))}processSegmentAgainstRoute(e,t,n,r,s,o,l){return function J0t(i,e,t,n){return!!(Vd(i)===n||n!==Ln&&IL(e,t,i))&&("**"===i.path||e7(e,i,t).matched)}(n,r,s,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,r,n,s,o,l):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,n,s,o):nw(r):nw(r)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qq(s):this.applyRedirects.lineralizeSegments(n,s).pipe(qt(o=>{const l=new Br(o,{});return this.processSegment(e,t,l,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,o){const{matched:l,consumedSegments:d,remainingSegments:h,positionalParamSegments:m}=e7(t,r,s);if(!l)return nw(t);const b=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,m);return r.redirectTo.startsWith("/")?Qq(b):this.applyRedirects.lineralizeSegments(r,b).pipe(qt(v=>this.processSegment(e,n,t,v.concat(h),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,s,o){let l;if("**"===n.path){const d=r.length>0?_q(r).parameters:{};l=je({snapshot:new ML(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eX(n),Vd(n),n.component??n._loadedComponent??null,n,iX(n)),consumedSegments:[],remainingSegments:[]}),t.children={}}else l=Z0t(t,n,r,e).pipe(Ae(({matched:d,consumedSegments:h,remainingSegments:m,parameters:b})=>d?{snapshot:new ML(h,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eX(n),Vd(n),n.component??n._loadedComponent??null,n,iX(n)),consumedSegments:h,remainingSegments:m}:null));return l.pipe(Hn(d=>null===d?nw(t):this.getChildConfig(e=n._injector??e,n,r).pipe(Hn(({routes:h})=>{const m=n._loadedInjector??e,{snapshot:b,consumedSegments:v,remainingSegments:E}=d,{segmentGroup:D,slicedSegments:T}=Jq(t,v,E,h);if(0===T.length&&D.hasChildren())return this.processChildren(m,h,D).pipe(Ae(F=>null===F?null:[new Gf(b,F)]));if(0===h.length&&0===T.length)return je([new Gf(b,[])]);const P=Vd(n)===s;return this.processSegment(m,h,D,T,P?Ln:s,!0).pipe(Ae(F=>[new Gf(b,F)]))}))))}getChildConfig(e,t,n){return t.children?je({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?je({routes:t._loadedRoutes,injector:t._loadedInjector}):function G0t(i,e,t,n){const r=e.canLoad;return void 0===r||0===r.length?je(!0):je(r.map(o=>{const l=ew(o,i);return bg(function T0t(i){return i&&S2(i.canLoad)}(l)?l.canLoad(e,t):i.runInContext(()=>l(e,t)))})).pipe(iw(),Xq())}(e,t,n).pipe(qt(r=>r?this.configLoader.loadChildren(e,t).pipe(ro(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function $0t(i){return Rf(Wq(!1,3))}())):je({routes:[],injector:e})}}function rbt(i){const e=i.value.routeConfig;return e&&""===e.path}function tX(i){const e=[],t=new Set;for(const n of i){if(!rbt(n)){e.push(n);continue}const r=e.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):e.push(n)}for(const n of t){const r=tX(n.children);e.push(new Gf(n.value,r))}return e.filter(n=>!t.has(n))}function eX(i){return i.data||{}}function iX(i){return i.resolve||{}}function nX(i){return"string"==typeof i.title||null===i.title}function i7(i){return Hn(e=>{const t=i(e);return t?ne(t).pipe(Ae(()=>e)):je(e)})}const rw=new xe("ROUTES");let n7=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=wt(qO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return je(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=bg(t.loadComponent()).pipe(Ae(rX),ro(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Fl(()=>{this.componentLoaders.delete(t)})),r=new In(n,()=>new Nt).pipe(or());return this.componentLoaders.set(t,r),r}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return je({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe(Ae(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);let d,h;return Array.isArray(l)?h=l:(d=l.create(t).injector,h=d.get(rw,[],wn.Self|wn.Optional).flat()),{routes:h.map(JV),injector:d}}),Fl(()=>{this.childrenLoaders.delete(n)})),o=new In(s,()=>new Nt).pipe(or());return this.childrenLoaders.set(n,o),o}loadModuleFactoryOrRoutes(t){return bg(t()).pipe(Ae(rX),qt(n=>n instanceof iO||Array.isArray(n)?je(n):ne(this.compiler.compileModuleAsync(n))))}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function rX(i){return function ubt(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let AL=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Nt,this.transitionAbortSubject=new Nt,this.configLoader=wt(n7),this.environmentInjector=wt(Fa),this.urlSerializer=wt(p2),this.rootContexts=wt(x2),this.inputBindingEnabled=null!==wt(SL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new r0t(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new n0t(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t,n,r){return this.transitions=new ti({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:t.urlHandlingStrategy.extract(n),urlAfterRedirects:t.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:v2,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gn(s=>0!==s.id),Ae(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Hn(s=>{this.currentTransition=s;let o=!1,l=!1;return je(s).pipe(ro(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(d=>{const h=d.currentBrowserUrl.toString(),m=!t.navigated||d.extractedUrl.toString()!==h||h!==d.currentUrlTree.toString();if(!m&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const v="";return this.events.next(new Qx(d.id,this.urlSerializer.serialize(d.rawUrl),v,0)),d.resolve(null),Of}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return je(d).pipe(Hn(v=>{const E=this.transitions?.getValue();return this.events.next(new CL(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),E!==this.transitions?.getValue()?Of:Promise.resolve(v)}),function sbt(i,e,t,n,r,s){return qt(o=>function ebt(i,e,t,n,r,s,o="emptyOnly"){return new ibt(i,e,t,n,r,o,s).recognize()}(i,e,t,n,o.extractedUrl,r,s).pipe(Ae(({state:l,tree:d})=>({...o,targetSnapshot:l,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ro(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const E=new Lq(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:v,extractedUrl:E,source:D,restoredState:T,extras:P}=d,F=new CL(v,this.urlSerializer.serialize(E),D,T);this.events.next(F);const H=zq(0,this.rootComponentType).snapshot;return this.currentTransition=s={...d,targetSnapshot:H,urlAfterRedirects:E,extras:{...P,skipLocationChange:!1,replaceUrl:!1}},je(s)}{const v="";return this.events.next(new Qx(d.id,this.urlSerializer.serialize(d.extractedUrl),v,1)),d.resolve(null),Of}}),ro(d=>{const h=new J_t(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),Ae(d=>(this.currentTransition=s={...d,guards:E0t(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},s)),function L0t(i,e){return qt(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?je({...t,guardsResult:!0}):function F0t(i,e,t,n){return ne(i).pipe(qt(r=>function U0t(i,e,t,n,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?je(s.map(l=>{const d=C2(e)??r,h=ew(l,d);return bg(function O0t(i){return i&&S2(i.canDeactivate)}(h)?h.canDeactivate(i,e,t,n):d.runInContext(()=>h(i,e,t,n))).pipe(fb())})).pipe(iw()):je(!0)}(r.component,r.route,t,e,n)),fb(r=>!0!==r,!0))}(o,n,r,i).pipe(qt(l=>l&&function D0t(i){return"boolean"==typeof i}(l)?function N0t(i,e,t,n){return ne(e).pipe(K0(r=>Nx(function z0t(i,e){return null!==i&&e&&e(new s0t(i)),je(!0)}(r.route.parent,n),function B0t(i,e){return null!==i&&e&&e(new a0t(i)),je(!0)}(r.route,n),function H0t(i,e,t){const n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function M0t(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(o)).filter(o=>null!==o).map(o=>mg(()=>je(o.guards.map(d=>{const h=C2(o.node)??t,m=ew(d,h);return bg(function A0t(i){return i&&S2(i.canActivateChild)}(m)?m.canActivateChild(n,i):h.runInContext(()=>m(n,i))).pipe(fb())})).pipe(iw())));return je(s).pipe(iw())}(i,r.path,t),function V0t(i,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return je(!0);const r=n.map(s=>mg(()=>{const o=C2(e)??t,l=ew(s,o);return bg(function I0t(i){return i&&S2(i.canActivate)}(l)?l.canActivate(e,i):o.runInContext(()=>l(e,i))).pipe(fb())}));return je(r).pipe(iw())}(i,r.route,t))),fb(r=>!0!==r,!0))}(n,s,i,e):je(l)),Ae(l=>({...t,guardsResult:l})))})}(this.environmentInjector,d=>this.events.next(d)),ro(d=>{if(s.guardsResult=d.guardsResult,pb(d.guardsResult))throw jq(0,d.guardsResult);const h=new t0t(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),Gn(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),i7(d=>{if(d.guards.canActivateChecks.length)return je(d).pipe(ro(h=>{const m=new e0t(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),Hn(h=>{let m=!1;return je(h).pipe(function obt(i,e){return qt(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return je(t);let s=0;return ne(r).pipe(K0(o=>function abt(i,e,t,n){const r=i.routeConfig,s=i._resolve;return void 0!==r?.title&&!nX(r)&&(s[f2]=r.title),function lbt(i,e,t,n){const r=function cbt(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return je({});const s={};return ne(r).pipe(qt(o=>function dbt(i,e,t,n){const r=C2(e)??n,s=ew(i,r);return bg(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(i[o],e,t,n).pipe(fb(),ro(l=>{s[o]=l}))),zV(1),Xz(s),Ga(o=>qq(o)?Of:Rf(o)))}(s,i,e,n).pipe(Ae(o=>(i._resolvedData=o,i.data=Vq(i,t).resolve,r&&nX(r)&&(i.data[f2]=r.title),null)))}(o.route,n,i,e)),ro(()=>s++),zV(1),qt(o=>s===r.length?je(t):Of))})}(t.paramsInheritanceStrategy,this.environmentInjector),ro({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(h,"",2)}}))}),ro(h=>{const m=new i0t(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),i7(d=>{const h=m=>{const b=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(m.routeConfig).pipe(ro(v=>{m.component=v}),Ae(()=>{})));for(const v of m.children)b.push(...h(v));return b};return Pf(h(d.targetSnapshot.root)).pipe(gL(),ur(1))}),i7(()=>this.afterPreactivation()),Ae(d=>{const h=function f0t(i,e,t){const n=w2(i,e._root,t?t._root:void 0);return new Bq(n,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s={...d,targetRouterState:h},s}),ro(()=>{this.events.next(new WV)}),((i,e,t,n)=>Ae(r=>(new C0t(e,r.targetRouterState,r.currentRouterState,t,n).activate(i),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),ur(1),ro({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),gn(this.transitionAbortSubject.pipe(ro(d=>{throw d}))),Fl(()=>{o||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ga(d=>{if(l=!0,$q(d))this.events.next(new y2(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),function g0t(i){return $q(i)&&pb(i.url)}(d)?this.events.next(new $V(d.url)):s.resolve(!1);else{this.events.next(new EL(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(d))}catch(h){s.reject(h)}}return Of}))}))}cancelNavigationTransition(t,n,r){const s=new y2(t.id,this.urlSerializer.serialize(t.extractedUrl),n,r);this.events.next(s),t.resolve(!1)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function sX(i){return i!==v2}let oX=(()=>{class i{buildTitle(t){let n,r=t.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===Ln);return n}getResolvedTitleForRoute(t){return t.data[f2]}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(){return wt(hbt)},providedIn:"root"})}return i})(),hbt=(()=>{class i extends oX{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}static#t=this.\u0275fac=function(n){return new(n||i)(V(xj))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fbt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(){return wt(pbt)},providedIn:"root"})}return i})();class mbt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let pbt=(()=>{class i extends mbt{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const OL=new xe("",{providedIn:"root",factory:()=>({})});let gbt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:function(){return wt(_bt)},providedIn:"root"})}return i})(),_bt=(()=>{class i{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var k2=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(k2||{});function aX(i,e){i.events.pipe(Gn(t=>t instanceof nh||t instanceof y2||t instanceof EL||t instanceof Qx),Ae(t=>t instanceof nh||t instanceof Qx?k2.COMPLETE:t instanceof y2&&(0===t.code||1===t.code)?k2.REDIRECTING:k2.FAILED),Gn(t=>t!==k2.REDIRECTING),ur(1)).subscribe(()=>{e()})}function bbt(i){throw i}function vbt(i,e,t){return e.parse("/")}const ybt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xbt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let so=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=wt($O),this.isNgZoneEnabled=!1,this._events=new Nt,this.options=wt(OL,{optional:!0})||{},this.pendingTasks=wt(N0),this.errorHandler=this.options.errorHandler||bbt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vbt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=wt(gbt),this.routeReuseStrategy=wt(fbt),this.titleStrategy=wt(oX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=wt(rw,{optional:!0})?.flat()??[],this.navigationTransitions=wt(AL),this.urlSerializer=wt(p2),this.location=wt(ws),this.componentInputBindingEnabled=!!wt(SL,{optional:!0}),this.eventsSubscription=new B,this.isNgZoneEnabled=wt(fi)instanceof fi&&fi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kx,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zq(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(lX(n)&&this._events.next(n));if(n instanceof CL)sX(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(n instanceof Qx)this.rawUrlTree=r.rawUrl;else if(n instanceof Lq){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(n instanceof WV)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(n instanceof y2)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(r);else if(n instanceof $V){const s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sX(r.source)};this.scheduleNavigation(s,v2,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}n instanceof EL&&this.restoreHistory(r,!0),n instanceof nh&&(this.navigated=!0),lX(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),v2,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const n="popstate"===t.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,n,t.state)},0)}))}navigateToSyncWithBrowser(t,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const d={...r};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const l=this.parseUrl(t);this.scheduleNavigation(l,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(JV),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:d}=n,h=d?this.currentUrlTree.fragment:o;let b,m=null;switch(l){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}null!==m&&(m=this.removeEmptyProps(m));try{b=Dq(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),b=this.currentUrlTree.root}return Tq(b,t,m,h??null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=pb(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,v2,null,n)}navigate(t,n={skipLocationChange:!1}){return function wbt(i){for(let e=0;e<i.length;e++)if(null==i[e])throw new Se(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let n;try{n=this.urlSerializer.parse(t)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return n}isActive(t,n){let r;if(r=!0===n?{...ybt}:!1===n?{...xbt}:n,pb(t))return vq(this.currentUrlTree,t,r);const s=this.parseUrl(t);return vq(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((n,r)=>{const s=t[r];return null!=s&&(n[r]=s),n},{})}scheduleNavigation(t,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,d,h;o?(l=o.resolve,d=o.reject,h=o.promise):h=new Promise((b,v)=>{l=b,d=v});const m=this.pendingTasks.add();return aX(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(b=>Promise.reject(b))}setBrowserUrl(t,n){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function lX(i){return!(i instanceof WV||i instanceof $V)}let gb=(()=>{class i{constructor(t,n,r,s,o,l){this.router=t,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Nt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const d=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof nh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,n,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function NT(i,e,t){return function FT(i,e){return"src"===e&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===e&&("base"===i||"link"===i)?LT:rr}(e,t)(i)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,n){const r=this.renderer,s=this.el.nativeElement;null!==n?r.setAttribute(s,t,n):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#t=this.\u0275fac=function(n){return new(n||i)(U(so),U(zd),Cl("tabindex"),U(Uo),U(ai),U(kn))};static#e=this.\u0275dir=be({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&fe("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Ni("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",$t],skipLocationChange:["skipLocationChange","skipLocationChange",$t],replaceUrl:["replaceUrl","replaceUrl",$t],routerLink:"routerLink"},standalone:!0,features:[xI,zn]})}return i})(),cX=(()=>{class i{get isActive(){return this._isActive}constructor(t,n,r,s,o){this.router=t,this.element=n,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof nh&&this.update()})}ngAfterContentInit(){je(this.links.changes,je(null)).pipe(Re()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=ne(t).pipe(Re()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){const n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const n=function Cbt(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,n)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(so),U(ai),U(Uo),U(Sn),U(gb,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,s){if(1&n&&En(s,gb,5),2&n){let o;Ze(o=We())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[zn]})}return i})();class dX{}let Ebt=(()=>{class i{constructor(t,n,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Gn(t=>t instanceof nh),K0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=TM(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ne(r).pipe(Re())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):je(null);const s=r.pipe(qt(o=>null===o?je(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return n.loadComponent&&!n._loadedComponent?ne([s,this.loader.loadComponent(n)]).pipe(Re()):s})}static#t=this.\u0275fac=function(n){return new(n||i)(V(so),V(qO),V(Fa),V(dX),V(n7))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const r7=new xe("");let uX=(()=>{class i{constructor(t,n,r,s,o={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof CL?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nh?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Qx&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fq&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fq(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();function jf(i,e){return{\u0275kind:i,\u0275providers:e}}function fX(){const i=wt(jr);return e=>{const t=i.get(Od);if(e!==t.components[0])return;const n=i.get(so),r=i.get(mX);1===i.get(s7)&&n.initialNavigation(),i.get(pX,null,wn.Optional)?.setUpPreloading(),i.get(r7,null,wn.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const mX=new xe("",{factory:()=>new Nt}),s7=new xe("",{providedIn:"root",factory:()=>1}),pX=new xe("");function Dbt(i){return jf(0,[{provide:pX,useExisting:Ebt},{provide:dX,useExisting:i}])}const gX=new xe("ROUTER_FORROOT_GUARD"),Ibt=[ws,{provide:p2,useClass:VV},so,x2,{provide:zd,useFactory:function hX(i){return i.routerState.root},deps:[so]},n7,[]];function Abt(){return new cS("Router",so)}let RL=(()=>{class i{constructor(t){}static forRoot(t,n){return{ngModule:i,providers:[Ibt,[],{provide:rw,multi:!0,useValue:t},{provide:gX,useFactory:Lbt,deps:[[so,new La,new Vh]]},{provide:OL,useValue:n||{}},n?.useHash?{provide:kn,useClass:Er}:{provide:kn,useClass:ps},{provide:r7,useFactory:()=>{const i=wt(Jrt),e=wt(fi),t=wt(OL),n=wt(AL),r=wt(p2);return t.scrollOffset&&i.setOffset(t.scrollOffset),new uX(r,n,i,e,t)}},n?.preloadingStrategy?Dbt(n.preloadingStrategy).\u0275providers:[],{provide:cS,multi:!0,useFactory:Abt},n?.initialNavigation?Fbt(n):[],n?.bindToComponentInputs?jf(8,[Gq,{provide:SL,useExisting:Gq}]).\u0275providers:[],[{provide:_X,useFactory:fX},{provide:Yp,multi:!0,useExisting:_X}]]}}static forChild(t){return{ngModule:i,providers:[{provide:rw,multi:!0,useValue:t}]}}static#t=this.\u0275fac=function(n){return new(n||i)(V(gX,8))};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();function Lbt(i){return"guarded"}function Fbt(i){return["disabled"===i.initialNavigation?jf(3,[{provide:$p,multi:!0,useFactory:()=>{const e=wt(so);return()=>{e.setUpLocationChangeListener()}}},{provide:s7,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?jf(2,[{provide:s7,useValue:0},{provide:$p,multi:!0,deps:[jr],useFactory:e=>{const t=e.get($s,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const r=e.get(so),s=e.get(mX);aX(r,()=>{n(!0)}),e.get(AL).afterPreactivation=()=>(n(!0),s.closed?je(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const _X=new xe(""),o7=()=>{if(!document.getElementById("mol-lang"))return console.log("mol-lang tag not set in index.html"),{molLang:"en",molUrl:"/",baseHref:"/"};const i=document.getElementById("mol-lang").getAttribute("content"),e=document.getElementById("mol-url").getAttribute("content");let t=e;return e.match(/\{lang\}/)&&(t=t.replace("{lang}",i)),{molLang:i,molUrl:e,baseHref:t}},Bbt=()=>o7().baseHref;let vg=(()=>{class i{constructor(t,n,r){this.activatedRoute=t,this.router=n,this.location=r,this.stateSource=new ti(null),this.state=this.stateSource.asObservable(),this.activatedRoute.queryParams.subscribe(s=>{const o={embed:!1,sidebar:!0,header:!0,nav:!0,footer:!0,speciesSearch:!0,regionSearch:!0,debug:!1,dsid:[],type:"",beta:"",indexConfig:o7()},l=Object.keys(s);-1!==l.indexOf("embed")&&(o.embed="false"!==s.embed,o.embed&&(o.header=!1,o.footer=!1,o.nav=!1,o.sidebar=!1)),-1!==l.indexOf("dsid")&&(o.dsid=s.dsid.split(",")),-1!==l.indexOf("type")&&(o.type=s.type),-1!==l.indexOf("sidebar")&&(o.sidebar="false"!==s.sidebar),-1!==l.indexOf("subnav")&&(o.nav="false"!==s.subnav),-1!==l.indexOf("header")&&(o.header="false"!==s.header),-1!==l.indexOf("footer")&&(o.footer="false"!==s.footer),-1!==l.indexOf("speciesSearch")&&(o.speciesSearch="false"!==s.speciesSearch),-1!==l.indexOf("regionSearch")&&(o.regionSearch="false"!==s.regionSearch),-1!==l.indexOf("debug")&&(o.debug=!0),this.stateSource.next(o)})}static#t=this.\u0275fac=function(n){return new(n||i)(V(zd),V(so),V(ws))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class D2{}let bX=(()=>{class i extends D2{getTranslation(t){return je({})}static \u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static \u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();class a7{}let vX=(()=>{class i{handle(t){return t.key}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();function T2(i,e){if(i===e)return!0;if(null===i||null===e)return!1;if(i!=i&&e!=e)return!0;let r,s,o,t=typeof i;if(t==typeof e&&"object"==t){if(!Array.isArray(i)){if(Array.isArray(e))return!1;for(s in o=Object.create(null),i){if(!T2(i[s],e[s]))return!1;o[s]=!0}for(s in e)if(!(s in o)&&typeof e[s]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((r=i.length)==e.length){for(s=0;s<r;s++)if(!T2(i[s],e[s]))return!1;return!0}}return!1}function vc(i){return typeof i<"u"&&null!==i}function l7(i){return i&&"object"==typeof i&&!Array.isArray(i)}function yX(i,e){let t=Object.assign({},i);return l7(i)&&l7(e)&&Object.keys(e).forEach(n=>{l7(e[n])?n in i?t[n]=yX(i[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}class PL{}let xX=(()=>{class i extends PL{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,n){let r;return r="string"==typeof t?this.interpolateString(t,n):"function"==typeof t?this.interpolateFunction(t,n):t,r}getValue(t,n){let r="string"==typeof n?n.split("."):[n];n="";do{n+=r.shift(),!vc(t)||!vc(t[n])||"object"!=typeof t[n]&&r.length?r.length?n+=".":t=void 0:(t=t[n],n="")}while(r.length);return t}interpolateFunction(t,n){return t(n)}interpolateString(t,n){return n?t.replace(this.templateMatcher,(r,s)=>{let o=this.getValue(n,s);return vc(o)?o:r}):t}static \u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static \u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();class LL{}let wX=(()=>{class i extends LL{compile(t,n){return t}compileTranslations(t,n){return t}static \u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static \u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();class CX{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new qe;onLangChange=new qe;onDefaultLangChange=new qe}const c7=new xe("USE_STORE"),d7=new xe("USE_DEFAULT_LANG"),u7=new xe("DEFAULT_LANGUAGE"),h7=new xe("USE_EXTEND");let sw=(()=>{class i{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new qe;_onLangChange=new qe;_onDefaultLangChange=new qe;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,n,r,s,o,l=!0,d=!1,h=!1,m){this.store=t,this.currentLoader=n,this.compiler=r,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=l,this.isolate=d,this.extend=h,m&&this.setDefaultLang(m)}setDefaultLang(t){if(t===this.defaultLang)return;let n=this.retrieveTranslations(t);typeof n<"u"?(null==this.defaultLang&&(this.defaultLang=t),n.pipe(ur(1)).subscribe(r=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return je(this.translations[t]);let n=this.retrieveTranslations(t);return typeof n<"u"?(this.currentLang||(this.currentLang=t),n.pipe(ur(1)).subscribe(r=>{this.changeLang(t)}),n):(this.changeLang(t),je(this.translations[t]))}retrieveTranslations(t){let n;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),n=this._translationRequests[t]),n}getTranslation(t){this.pending=!0;const n=this.currentLoader.getTranslation(t).pipe(gc(1),ur(1));return this.loadingTranslations=n.pipe(Ae(r=>this.compiler.compileTranslations(r,t)),gc(1),ur(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[t]=this.extend&&this.translations[t]?{...r,...this.translations[t]}:r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),n}setTranslation(t,n,r=!1){n=this.compiler.compileTranslations(n,t),this.translations[t]=(r||this.extend)&&this.translations[t]?yX(this.translations[t],n):n,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(n=>{-1===this.langs.indexOf(n)&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,n,r){let s;if(n instanceof Array){let o={},l=!1;for(let d of n)o[d]=this.getParsedResult(t,d,r),Jc(o[d])&&(l=!0);return l?LB(n.map(h=>Jc(o[h])?o[h]:je(o[h]))).pipe(Ae(h=>{let m={};return h.forEach((b,v)=>{m[n[v]]=b}),m})):o}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,n),r)),typeof s>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),r)),typeof s>"u"){let o={key:n,translateService:this};typeof r<"u"&&(o.interpolateParams=r),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:n}get(t,n){if(!vc(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(K0(r=>Jc(r=this.getParsedResult(r,t,n))?r:je(r)));{let r=this.getParsedResult(this.translations[this.currentLang],t,n);return Jc(r)?r:je(r)}}getStreamOnTranslationChange(t,n){if(!vc(t)||!t.length)throw new Error('Parameter "key" required');return Nx(mg(()=>this.get(t,n)),this.onTranslationChange.pipe(Hn(r=>{const s=this.getParsedResult(r.translations,t,n);return"function"==typeof s.subscribe?s:je(s)})))}stream(t,n){if(!vc(t)||!t.length)throw new Error('Parameter "key" required');return Nx(mg(()=>this.get(t,n)),this.onLangChange.pipe(Hn(r=>{const s=this.getParsedResult(r.translations,t,n);return Jc(s)?s:je(s)})))}instant(t,n){if(!vc(t)||!t.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],t,n);if(Jc(r)){if(t instanceof Array){let s={};return t.forEach((o,l)=>{s[t[l]]=t[l]}),s}return t}return r}set(t,n,r=this.currentLang){this.translations[r][t]=this.compiler.compile(n,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(n){return new(n||i)(V(CX),V(D2),V(LL),V(PL),V(a7),V(d7),V(c7),V(h7),V(u7))};static \u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),zbt=(()=>{class i{translateService;element;_ref;key;lastParams;currentParams;onLangChangeSub;onDefaultLangChangeSub;onTranslationChangeSub;set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){T2(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}constructor(t,n,r){this.translateService=t,this.element=n,this._ref=r,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(s=>{s.lang===this.translateService.currentLang&&this.checkNodes(!0,s.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(s=>{this.checkNodes(!0,s.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(s=>{this.checkNodes(!0)}))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,n){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes);for(let s=0;s<r.length;++s){let o=r[s];if(3===o.nodeType){let l;if(t&&(o.lastKey=null),vc(o.lookupKey))l=o.lookupKey;else if(this.key)l=this.key;else{let d=this.getContent(o),h=d.trim();h.length&&(o.lookupKey=h,d!==o.currentValue?(l=h,o.originalContent=d||o.originalContent):o.originalContent?l=o.originalContent.trim():d!==o.currentValue&&(l=h,o.originalContent=d||o.originalContent))}this.updateValue(l,o,n)}}}updateValue(t,n,r){if(t){if(n.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let s=o=>{o!==t&&(n.lastKey=t),n.originalContent||(n.originalContent=this.getContent(n)),n.currentValue=vc(o)?o:n.originalContent||t,this.setContent(n,this.key?n.currentValue:n.originalContent.replace(t,n.currentValue)),this._ref.markForCheck()};if(vc(r)){let o=this.translateService.getParsedResult(r,t,this.currentParams);Jc(o)?o.subscribe({next:s}):s(o)}else this.translateService.get(t,this.currentParams).subscribe(s)}}getContent(t){return vc(t.textContent)?t.textContent:t.data}setContent(t,n){vc(t.textContent)?t.textContent=n:t.data=n}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static \u0275fac=function(n){return new(n||i)(U(sw),U(ai),U(Sn))};static \u0275dir=be({type:i,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}return i})(),ed=(()=>{class i{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,n){this.translate=t,this._ref=n}updateValue(t,n,r){let s=o=>{this.value=void 0!==o?o:t,this.lastKey=t,this._ref.markForCheck()};if(r){let o=this.translate.getParsedResult(r,t,n);Jc(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(t,n).subscribe(s)}transform(t,...n){if(!t||!t.length)return t;if(T2(t,this.lastKey)&&T2(n,this.lastParams))return this.value;let r;if(vc(n[0])&&n.length)if("string"==typeof n[0]&&n[0].length){let s=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else"object"==typeof n[0]&&!Array.isArray(n[0])&&(r=n[0]);return this.lastKey=t,this.lastParams=n,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,r,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||i)(U(sw,16),U(Sn,16))};static \u0275pipe=ca({name:"translate",type:i,pure:!1});static \u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),ow=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[t.loader||{provide:D2,useClass:bX},t.compiler||{provide:LL,useClass:wX},t.parser||{provide:PL,useClass:xX},t.missingTranslationHandler||{provide:a7,useClass:vX},CX,{provide:c7,useValue:t.isolate},{provide:d7,useValue:t.useDefaultLang},{provide:h7,useValue:t.extend},{provide:u7,useValue:t.defaultLanguage},sw]}}static forChild(t={}){return{ngModule:i,providers:[t.loader||{provide:D2,useClass:bX},t.compiler||{provide:LL,useClass:wX},t.parser||{provide:PL,useClass:xX},t.missingTranslationHandler||{provide:a7,useClass:vX},{provide:c7,useValue:t.isolate},{provide:d7,useValue:t.useDefaultLang},{provide:h7,useValue:t.extend},{provide:u7,useValue:t.defaultLanguage},sw]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=zi({type:i});static \u0275inj=Oi({})}return i})(),EX=(()=>{class i{constructor(t,n){this.document=t,this.platformId=n,this.documentIsAccessible=ej(this.platformId)}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),this.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const r=this.getCookieRegExp(t).exec(this.document.cookie);return decodeURIComponent(r[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},n=this.document;if(n.cookie&&""!==n.cookie){const r=n.cookie.split(";");for(let s=0;s<r.length;s+=1){const o=r[s].split("=");o[0]=o[0].replace(/^ /,""),t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}}return t}set(t,n,r,s,o,l,d){if(!this.documentIsAccessible)return;let h=encodeURIComponent(t)+"="+encodeURIComponent(n)+";";r&&(h+="number"==typeof r?"expires="+new Date((new Date).getTime()+1e3*r*60*60*24).toUTCString()+";":"expires="+r.toUTCString()+";"),s&&(h+="path="+s+";"),o&&(h+="domain="+o+";"),l&&(h+="secure;"),d&&(h+="sameSite="+d+";"),this.document.cookie=h}delete(t,n,r){this.documentIsAccessible&&this.set(t,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),n,r)}deleteAll(t,n){if(!this.documentIsAccessible)return;const r=this.getAll();for(const s in r)r.hasOwnProperty(s)&&this.delete(s,t,n)}getCookieRegExp(t){const n=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g")}static#t=this.\u0275fac=function(n){return new(n||i)(V(li),V(Fc))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const yg=o7();let yc=(()=>{class i{constructor(t,n){this.translate=t,this.cookie=n,this.langs=h_t,this.langSource=new ti(yg.molLang),this.lang=this.langSource.asObservable(),this.isWWW=!1,this.isEmbedded=!1,this.translate.addLangs(this.langs),yg.molUrl.match(/\{lang\}/)?this.updateLang(yg.molLang,!1):this.cookie.check("lang")?this.updateLang(this.cookie.get("lang"),!1):this.translate.setDefaultLang("en"),this.isWWW=window.location.hostname.startsWith("www"),this.getUrlVar("embed")&&(this.isEmbedded=!0)}updateLang(t,n=!0){const r=t.replace(/-.*/,"");if(-1===this.langs.indexOf(r))throw Error("Language not supported.");if(r!==this.langSource.value){this.cookie.set("lang",r),this.langSource.next(r),this.translate.use(r);let o=document.location.href;n&&(o=yg.molUrl.match(/\{lang\}/)?o.replace(yg.baseHref,yg.molUrl.replace("{lang}",r)):o.replace(yg.baseHref,"/"+r+yg.molUrl),window.location.href=o)}else this.translate.use(r)}getUrlVar(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}static#t=this.\u0275fac=function(n){return new(n||i)(V(sw),V(EX))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Vbt(i){return new f_t(i,"https://cdn.mol.org/translations/locale-Regions-",".json")}let f7=(()=>{class i{constructor(t,n=""){this.translate=t,this.base=mL,this.authBase=qx,this.lang="",""!==n&&(this.base=n),this.translate.lang.subscribe(r=>{this.lang=r})}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Wf=(()=>{class i{constructor(){this.activeRequestsSource=new ti(0),this.activeRequests=this.activeRequestsSource.asObservable()}increaseActiveRequests(){this.activeRequestsSource.next(this.activeRequestsSource.value+1)}decreaseActiveRequests(){this.activeRequestsSource.next(this.activeRequestsSource.value-1)}cancelAllActiveRequests(){this.activeRequestsSource.next(0)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$f=(()=>{class i extends f7{constructor(t,n,r){super(n),this.httpClient=t,this.translate=n,this.spinner=r,this.modeSource=new ti(""),this.mode=this.modeSource.asObservable(),this.scientificnameSource=new ti(""),this.scientificname=this.scientificnameSource.asObservable(),this.mapStateSource=new ti("MAP"),this.mapState=this.mapStateSource.asObservable(),this.userFeatureSource=new ti(null),this.userFeature=this.userFeatureSource.asObservable(),this.newUserFeatureSource=new Nt,this.newUserFeature=this.newUserFeatureSource.asObservable(),this.selectedLayersSource=new ti([]),this.selectedLayers=this.selectedLayersSource.asObservable(),this.zoomToExtentSource=new ti(void 0),this.zoomToExtent=this.zoomToExtentSource.asObservable(),this.tileUrlSource=new ti(null),this.tileUrl=this.tileUrlSource.asObservable(),this.tileLayerUpdateSource=new Nt,this.tileLayerUpdate=this.tileLayerUpdateSource.asObservable(),this.locationSource=new VR(null),this.location=this.locationSource.asObservable(),this.secondaryTileUrlSource=new ti(null),this.secondaryTileUrl=this.secondaryTileUrlSource.asObservable(),this.tileParamSource=new ti(null),this.tileParam=this.tileParamSource.asObservable(),this.modelTileUrlSource=new ti(null),this.modelTileUrl=this.modelTileUrlSource.asObservable(),this.displayUncertaintySource=new ti(!1),this.displayUncertainty=this.displayUncertaintySource.asObservable(),this.clickedFeaturesSource=new Nt,this.clickedFeatures=this.clickedFeaturesSource.asObservable(),this.mouseOverFeaturesSource=new ti([]),this.mouseOverFeatures=this.mouseOverFeaturesSource.asObservable(),this.speciesFiltersSource=new ti(void 0),this.speciesFilters=this.speciesFiltersSource.asObservable(),this.geojsonFeaturesSource=new ti(null),this.geojsonFeatures=this.geojsonFeaturesSource.asObservable(),this.opacitySource=new ti(null),this.opacity=this.opacitySource.asObservable(),this.displayLegendSource=new Nt,this.displayLegend=this.displayLegendSource.asObservable(),this.highResActiveLayersSource=new Nt,this.highResActiveLayers=this.highResActiveLayersSource.asObservable(),this.highResLayerOpacitySource=new ti(null),this.highResLayerOpacity=this.highResLayerOpacitySource.asObservable(),this.webglFeatures=new Nt,this.clickEvent=new Nt,this.resize=new Nt,this.zoomEvent=new Nt}updateHighResLayers(t){this.highResActiveLayersSource.next(t)}updateHighResLayerOpacity(t,n){this.highResLayerOpacitySource.next({code:t,opacity:n})}updateTileUrl(t){this.tileUrlSource.next(t)}updateModelTileUrl(t){this.modelTileUrlSource.next(t)}updateSecondaryTileUrl(t){this.secondaryTileUrlSource.next(t)}doResize(){window.dispatchEvent(new Event("resize"))}updateTileLayer(t,n){this.tileLayerUpdateSource.next({url:t,layerId:n})}showLegend(t){this.displayLegendSource.next(t)}updateTileParams(t){this.tileParamSource.next(t)}updateGeoJsonFeatures(t){this.geojsonFeaturesSource.next(t)}updateLayerOpacity(t,n){this.opacitySource.next({opacity:t,index:n})}updateClickEvent(t){this.clickEvent.next(t)}updateClickedFeatures(t){this.clickedFeaturesSource.next(t)}updateMouseOverFeatures(t){this.mouseOverFeaturesSource.next(t)}updateZoomEvent(t){this.zoomEvent.next(t)}updateMapState(t){this.mapStateSource.next(t)}userFeaturesClear(){this.userFeatureSource.next([])}userFeaturesSet(t){this.userFeatureSource.next(t)}userFeaturesAdd(t){this.newUserFeatureSource.next(t)}addRegionDataset(t){this.updateTileLayer(`${h2}/tiles/regions/regions/{proj}/{z}/{x}/{y}.mvt?region_dataset_id=${t}`,"regions")}addRegion(t){this.updateTileLayer(`${h2}/tiles/regions/region/{proj}/{z}/{x}/{y}.mvt?region_id=${t}`,"regions")}updateSelectedLayers(t){this._selectedLayers=t,this.selectedLayersSource.next(t)}updateScientificname(t){this.scientificnameSource.next(t)}zoomToDatasetExtent(t){this.zoomToExtentSource.next(t)}setSpeciesFilters(t){this._speciesFilters=t,this.speciesFiltersSource.next(t)}displayUncertaintyBuffers(t){this.displayUncertaintySource.next(t)}updateDetailedMap(t,n=[],r=[],s={},o=[],l=[]){let d=l.filter(T=>-1!==["points","model","movement"].indexOf(T.product_type)).map(T=>T.dataset_id);0===d.length&&(d=r.concat(o));let h=l.map(T=>T.dataset_id);0===h.length&&(h=n);let b=(T,P,F)=>{let H=new tn;H=H.set("scientificname",t),H=H.set("dsids",T),"movement"===F&&(s.individual&&s.individual.length>0&&(H=H.set("aids",s.individual)),s.months&&s.months?.length>0&&(H=H.set("months",s.months.join(","))),s.years&&s.years?.length>0&&(H=H.set("decmin",s.years[0].toString()),H=H.set("decmax",s.years[1].toString())));let j=`${h2}/tiles/species/detailed/{proj}/{z}/{x}/{y}.mvt?${H.toString()}`,Q="movement"===F?"":"species";this.updateTileParams(0===T.length?{url:"OFF",index:P,layerId:Q}:{url:j,index:P,layerId:Q})};b(h.filter(T=>-1===d.indexOf(T)).join(","),0,"detailed"),b(l.filter(T=>"movement"===T.product_type).map(T=>T.dataset_id),3,"movement");const v=r.join(",");let E="",D=new tn;D=new tn,D=D.set("scientificname",t),D=D.set("dsids",v),s.months&&s.months?.length>0&&(D=D.set("months",s.months.join(","))),s.years&&s.years?.length>0&&(D=D.set("decmin",s.years[0].toString()),D=D.set("decmax",s.years[1].toString())),s.uncertainty&&s.uncertainty>0&&(D=D.set("uncertainty",s.uncertainty.toString())),E=`${h2}/tiles/species/occurrences/{proj}/{z}/{x}/{y}.mvt?${D.toString()}`,this.updateTileParams(0===v.length?{url:"OFF",index:1,layerId:"speciesOcc"}:{url:E,index:1,layerId:"speciesOcc"})}updateSpeciesModelMap(t,n,r,s){let o=new tn;o=o.set("molid",t),void 0!==n&&(o=o.set("threshold_unit",n.toString())),void 0!==r&&(o=o.set("threshold_raw",r.toString())),o=o.set("as_binary",s.toString()),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}species/models/map`,{params:o}).pipe(Fl(()=>{this.spinner.decreaseActiveRequests()})).subscribe(l=>{this.updateModelTileUrl(l.tile_url),this.updateTileParams({url:l.tile_url,index:2})})}updateLocation(t){this.locationSource.next(t)}getFeaturesMetadata(t){let n=new tn;return n=n.set("molids",t.join(",")),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}species/featuremetadata`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}getSpeciesGeohashMetadata(t,n){let r=new tn;return r=r.set("geohash",n),r=r.set("scientificname",t),r=r.set("dsids",this._selectedLayers.join(",")),this._speciesFilters&&this._speciesFilters.months&&this._speciesFilters.months?.length>0&&(r=r.set("months",this._speciesFilters.months.join(","))),this._speciesFilters&&this._speciesFilters.years&&this._speciesFilters.years?.length>0&&(r=r.set("decmin",this._speciesFilters.years[0].toString()),r=r.set("decmax",this._speciesFilters.years[1].toString())),this._speciesFilters&&this._speciesFilters.uncertainty&&this._speciesFilters.uncertainty>0&&(r=r.set("uncertainty",this._speciesFilters.uncertainty.toString())),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}species/geohashmetadata`,{params:r}).pipe(s=>(this.spinner.decreaseActiveRequests(),s))}updateModel(t,n){if(n){this.spinner.increaseActiveRequests();let r=new tn;r=r.set("scientificname",t),r=r.set("threshold",n),this.httpClient.get(`${mL}species/indicators/rasters/map`,{params:r}).subscribe(s=>{this.spinner.decreaseActiveRequests(),s.map&&this.modelTileUrlSource.next(s.map.tile_url)})}else this.modelTileUrlSource.next("OFF")}loadWebGLFeatures(t){}datasetsLegend(t="dataset_id",n="count",r="",s="",o=""){let l=new tn;return l=l.set("property",t),l=l.set("reducer",n),""!==r&&(l=l.set("dataset_id",r)),""!==o&&(l=l.set("product_type",o)),""!==s&&(l=l.set("taxogroup",s)),this.spinner.increaseActiveRequests(),this.httpClient.get(`${h2}/tiles/datasets/legend`,{params:l}).pipe(Ae(d=>(this.spinner.decreaseActiveRequests(),d)))}zoomToRegion(t){if("point"===t.regiontype){let n=.25;this.zoomToDatasetExtent({southWest:{lng:t.lng-n,lat:t.lat-n},northEast:{lng:t.lng+n,lat:t.lat+n},buffer:20})}else if("region"===t.regiontype){let n=t.regionInfo?.extent.replace("POLYGON((","").replace("))","");n=n?.split(",").map(o=>o.split(" ").map(parseFloat));let r=n?.map(o=>o[1]),s=n?.map(o=>o[0]);this.zoomToDatasetExtent({southWest:{lng:Math.min(...s),lat:Math.min(...r)},northEast:{lng:Math.max(...s),lat:Math.max(...r)}})}else"draw"===t.regiontype?this.zoomToDatasetExtent({geojson:{type:"FeatureCollection",features:[t.drawnRegion]}}):(t.regiontype="upload")&&this.zoomToDatasetExtent({geojson:{type:"FeatureCollection",features:[t.drawnRegion.features[0]]}});this.doResize()}clearMapTiles(){[0,1,2,3].forEach(t=>{this.updateTileParams({url:"OFF",index:t})})}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nd),V(yc),V(Wf))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),_b=(()=>{class i{constructor(t,n,r,s){this.httpClient=t,this.cookie=n,this.spinner=r,this.role=s,this.currentUserSubject=new ti(null),this.currentUser=this.currentUserSubject.asObservable(),this.loggedInSubject=new ti(null),this.loggedIn=this.loggedInSubject.asObservable(),this.roleCheckSubject=new ti(null),this.roleCheck=this.roleCheckSubject.asObservable(),this.hasCookie()?(this.spinner.increaseActiveRequests(),this.currentUser=this.getUserInfo().pipe(o=>(this.spinner.decreaseActiveRequests(),o),gc())):(this.loggedInSubject.next(!1),this.currentUserSubject.next(null),this.roleCheckSubject.next(!1))}get user(){return this.currentUser}getToken(){return this.cookie.get("muprsns")||null}hasCookie(){return this.cookie.get("muprsns")}logout(){console.log("logging out"),this.loggedInSubject.next(!1),this.currentUserSubject.next(null)}getUserInfo(){const t=this.getToken();let n="";return this.role&&(n="&role_check="+this.role),this.httpClient.get(`${qx}/api/me?auth_token=${t}${n}`).pipe(Ae(r=>(this.loggedInSubject.next(null!==r),r.role=void 0,this.currentUserSubject.next(r),void 0===r.has_role?this.roleCheckSubject.next(!1):(this.roleCheckSubject.next(r.has_role),r.has_role&&(r.role=this.role)),r),r=>{console.error("Could not get UserInfo"),console.error(r),this.loggedInSubject.next(!1),this.currentUserSubject.next(null),this.roleCheckSubject.next(!1)}))}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nd),V(EX),V(Wf),V("role",8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function MX(i=-1){return e=>e.lift(new Hbt(i,e))}class Hbt{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new Ubt(e,this.count,this.source))}}class Ubt extends et{constructor(e,t,n){super(e),this.count=t,this.source=n}error(e){if(!this.isStopped){const{source:t,count:n}=this;if(0===n)return super.error(e);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}}}function I2(i,e=HR){const n=function Gbt(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-e.now():Math.abs(i);return r=>r.lift(new jbt(n,e))}class jbt{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new m7(e,this.delay,this.scheduler))}}class m7 extends et{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,s=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(m7.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new Wbt(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Pl.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Pl.createComplete()),this.unsubscribe()}}class Wbt{constructor(e,t){this.time=e,this.notification=t}}let SX=(()=>{class i{constructor(t,n,r,s=""){this.translate=t,this.spinner=n,this.httpClient=r,this.base=mL,this.authBase=qx,this.lang="",""!==s&&(this.base=s),this.translate.lang.subscribe(o=>{this.lang=o})}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, body was: ${t.error.message}`),Rf("Something bad happened; please try again later.")}go(t,n,r,s={},o=""){this.spinner.increaseActiveRequests();let d,l=this.base;if(0!==o.length&&(l=o),"get"===t)d=this.httpClient.get(`${l}${n}`,r);else{if("post"!==t)throw this.spinner.decreaseActiveRequests(),new Error(`Http Method not found: ${t}`);d=this.httpClient.post(`${l}${n}`,s,r)}return d.pipe(Ae(h=>(this.spinner.decreaseActiveRequests(),h)),Ga(h=>(console.error(h),this.spinner.decreaseActiveRequests(),this.handleError(h))))}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),A2=(()=>{class i extends SX{constructor(t,n,r){super(n,t,r),this.spinner=t,this.translate=n,this.httpClient=r,this.$habitatMetricsVal=null,this.$prefVal=null,this.$defaultVal=null,this.$prefCache={scientificname:null,defaultPrefs:{},prefs:{}},this.$habitatMapCache={scientificname:null,prefs:{}},this.$habitatMapValue=null,this.$reserveCoverageMapCache={scientificname:null,prefs:{}},this.$reserveCoverageMapValue=null}speciesPreferences(t){let n=new tn;return n=n.set("scientificname",t),this.$prefCache.scientificname!=t&&(this.$prefVal=this.go("get","species/habitat",{params:n}).pipe(gc())),this.$prefVal}habitatDistributionMap(t,n){return(!this.$habitatMapValue||this.$habitatMapCache.scientificname!=t||Object.keys(n).map(r=>n[r]!==this.$habitatMapCache.prefs[r]).reduce((r,s)=>r||s))&&(this.$habitatMapValue=this.fetchMap("habitat-distribution",t,n).pipe(gc())),this.$habitatMapValue}setMapOptions(t,n){return(t=t.set("show_points",n.show_points.toString())).set("show_reserves",n.show_reserves.toString())}fetchMap(t,n,r){let s=new tn;return s=s.set("scientificname",n),s=this.getPreferenceQuery(s,r),"reserve-coverage"===t&&(s=this.setMapOptions(s,r)),this.go("get",`species/indicators/${t}/map`,{params:s})}getPreferenceQuery(t,n){return(t=(t=(t=(t=(t=(t=(t=(t=t.set("class",n.class)).set("habitat",n.habitat)).set("treecover_max",n.tree_cover_max.toString())).set("treecover_min",n.tree_cover_min.toString())).set("elev_max",n.elev_max.toString())).set("elev_min",n.elev_min.toString())).set("use_e",n.use_e.toString())).set("use_h",n.use_h.toString())).set("use_f",n.use_f.toString())}habitatDistributionMetrics(t,n){let r=new tn;return r=r.set("scientificname",t),r=this.getPreferenceQuery(r,n),(this.$prefCache.scientificname!=t||Object.keys(n).map(s=>n[s]!==this.$prefCache.prefs[s]).reduce((s,o)=>s||o))&&(this.$prefCache.prefs={...n},this.$prefCache.scientificname=t,this.$habitatMetricsVal=this.go("get","species/indicators/habitat-distribution/metrics",{params:r}).pipe(MX(1),I2(1e3),Ga(s=>{throw s}),gc(1))),this.$habitatMetricsVal}habitatDistributionDownload(t,n){let r=new tn;return r=r.set("scientificname",t),r=this.getPreferenceQuery(r,n),this.go("get","species/indicators/habitat-distribution/download",{params:r})}gisFragMetric(t,n){let r=new tn;return r=r.set("scientificname",t),r=this.getPreferenceQuery(r,n),this.$prefCache.prefs={...n},this.$prefCache.scientificname=t,this.go("get","species/indicators/habitat-distribution/frag",{params:r})}gisFragTrendsMetric(t){let n=new tn;return n=n.set("scientificname",t),this.go("get","species/indicators/habitat-fragmentation/data",{params:n})}habitatTrendsMetricsByCountry(t){let n=new tn;return n=n.set("scientificname",t),this.go("get","species/indicators/habitat-trends/bycountry",{params:n},null,"https://next-api-dot-api-2-x-dot-map-of-life.appspot.com/2.x/")}reserveCoverageMap(t,n){return(!this.$reserveCoverageMapValue||this.$reserveCoverageMapCache.scientificname!=t||Object.keys(n).map(r=>n[r]!==this.$reserveCoverageMapCache.prefs[r]).reduce((r,s)=>r||s))&&(this.$reserveCoverageMapValue=this.fetchMap("reserve-coverage",t,n).pipe(gc())),this.$reserveCoverageMapValue}reserveCoverageMetrics(t,n){let r=new tn;return r=r.set("scientificname",t),r=this.getPreferenceQuery(r,n),this.go("get","species/indicators/reserve-coverage/metrics",{params:r}).pipe(MX(1),I2(1e3),Ga(s=>{throw s}))}mapQuery(t,n){let r=new tn;return r=r.set("lng",t.toString()),r=r.set("lat",n.toString()),this.go("get","species/indicators/reserve-coverage/query",{params:r})}esaClassDict(){return{0:{color:"#000000",name:"No data"},10:{color:"#ffff64",name:"Cropland rainfed",category:"cropland"},11:{color:"#ffff64",name:"Cropland rainfed herbaceous cover",category:"cropland"},12:{color:"#ffff00",name:"Cropland rainfed tree or shrub cover",category:"cropland"},20:{color:"#aaf0f0",name:"Cropland irrigated",category:"cropland"},30:{color:"#dcf064",name:"Mosaic cropland",category:"cropland mosaics"},40:{color:"#c8c864",name:"Mosaic natural vegetation",category:"mosaics"},50:{color:"#006400",name:"Tree broadleaved evergreen closed to open"},60:{color:"#00a000",name:"Tree broadleaved deciduous closed to open"},61:{color:"#00a000",name:"Tree broadleaved deciduous closed"},62:{color:"#aac800",name:"Tree broadleaved deciduous open"},70:{color:"#003c00",name:"Tree needleleaved evergreen closed to open"},71:{color:"#003c00",name:"Tree needleleaved evergreen closed"},72:{color:"#005000",name:"Tree needleleaved evergreen open"},80:{color:"#285000",name:"Tree needleleaved deciduous closed to open"},81:{color:"#285000",name:"Tree needleleaved deciduous closed"},82:{color:"#286400",name:"Tree needleleaved deciduous open"},90:{color:"#788200",name:"Tree mixed"},100:{color:"#8ca000",name:"Mosaic tree and shrub"},110:{color:"#be9600",name:"Mosaic herbaceous"},120:{color:"#966400",name:"Shrubland"},121:{color:"#966400",name:"Shrubland evergreen"},122:{color:"#966400",name:"Shrubland deciduous"},130:{color:"#ffb432",name:"Grassland"},140:{color:"#ffdcd2",name:"Lichens and mosses"},150:{color:"#ffebaf",name:"Sparse vegetation"},151:{color:"#ffc864",name:"Sparse tree"},152:{color:"#ffd278",name:"Sparse shrub"},153:{color:"#ffebaf",name:"Sparse herbaceous"},160:{color:"#00785a",name:"Tree cover flooded fresh or brakish water"},170:{color:"#009678",name:"Tree cover flooded saline water"},180:{color:"#00dc82",name:"Shrub or herbaceous cover flooded"},190:{color:"#c31400",name:"Urban"},200:{color:"#fff5d7",name:"Bare areas"},201:{color:"#dcdcdc",name:"Bare areas consolidated"},202:{color:"#fff5d7",name:"Bare areas unconsolidated"},210:{color:"#0046c8",name:"Water"},220:{color:"#ffffff",name:"Snow and ice"}}}static#t=this.\u0275fac=function(n){return new(n||i)(V(Wf),V(yc),V(Nd))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),O2=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[$f,_b,A2],imports:[_s,Oct]})}return i})(),ul=(()=>{class i extends f7{constructor(t,n,r,s){super(n),this.httpClient=t,this.translate=n,this.spinner=r,this.sanitizer=s,this._datasets={scientificName:"",info:null},this._images={scientificName:"",info:null},this._speciesInfo={scientificName:"",images:!1,info:null},this.translate.lang.subscribe(o=>{this.clearLangCache()}),this.base+="species"}availableTaxa(t="",n=""){if(""!==t){let r=new tn;return"patterns"===t&&(r=r.set("devmode","true"),r=r.set("table_type","patterns")),"indicators"===t&&(r=r.set("version",n)),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base.replace("species","")}/indicators/availabletaxa`,{params:r}).pipe(Ae(s=>(this.spinner.decreaseActiveRequests(),s)))}return this.availableTaxa$||(this.availableTaxa$=this.fetchAvailableTaxa().pipe(gc())),this.availableTaxa$}clearLangCache(){this._datasets={scientificName:"",info:null},this._speciesInfo={scientificName:"",images:!1,info:null}}fetchAvailableTaxa(){this.spinner.increaseActiveRequests();let t=new tn;return t=t.set("lang",this.lang),this.httpClient.get(`${this.base}/availabletaxa`,{params:t}).pipe(Ae(n=>(this.spinner.decreaseActiveRequests(),n)))}getDatasets(t){return this._datasets.scientificName!==t&&(this._datasets.scientificName=t,this._datasets.info=this.fetchDatasets(t).pipe(gc())),this._datasets.info}fetchDatasets(t){t=t.trim();let n=new tn;if(!(t.length>0))throw new Error("0 length scientificName.");return n=n.set("scientificname",t),n=n.set("group","movement"),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/datasets`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}search(t,n="",r="",s=0,o=100){t=t.trim();let l=new tn;if(!(t.length>0))throw new Error("0 length Query.");return l=l.set("query",t),l=l.set("lang",this.lang),l=n?l.set("group",n):l,l=s?l.set("page",s.toString()):l,l=o?l.set("limit",o.toString()):l,l=r?l.set("regionId",r):l,this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/groupsearch`,{params:l}).pipe(Fl(()=>{this.spinner.decreaseActiveRequests()}))}random(t=""){let n=new tn;return""!==t&&(n=n.set("taxogroup",t)),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/random`,{params:n}).pipe(Fl(()=>{this.spinner.decreaseActiveRequests()}))}images(t){return this._images.scientificName!==t&&(this._images.scientificName=t,this._images.info=this.fetchImages(t).pipe(gc())),this._images.info}fetchImages(t){t=t.trim();let n=new tn;if(!(t.length>0))throw new Error("0 length scientificName.");return n=n.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/images/list`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}imagesVote(t,n){let r=new tn;return r=r.set("asset_id",t),r=r.set("vote_value",n.toString()),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/images/vote`,{params:r}).pipe(Ae(s=>(this.spinner.decreaseActiveRequests(),s)),Ga(s=>{throw this.spinner.decreaseActiveRequests(),console.error(s),s}))}getInfo(t,n=!1){return(this._speciesInfo.scientificName!==t||this._speciesInfo.images!==n)&&(this._speciesInfo.scientificName=t,this._speciesInfo.images=n,this._speciesInfo.info=this.fetchSpeciesInfo(t,n).pipe(gc())),this._speciesInfo.info}fetchSpeciesInfo(t,n=!1){t=t.trim();let r=new tn;if(r=r.set("lang",this.lang),!(t.length>0))throw new Error("scientificName not provided.");return r=r.set("scientificname",t),n&&(r=r.set("images","true")),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/info`,{params:r}).pipe(Ae(s=>(this.spinner.decreaseActiveRequests(),!!(s&&s.length>0)&&s[0])))}getProjection({scientificname:t="",decade:n=2015,landuse:r="luh",lumethod:s="message",luscale:o="025deg",scenario:l="scenario1"}){if(""===t)throw Error("Zero length scientificname.");let d=new tn;return d=d.set("scientificname",t),d=d.set("decade",n.toString()),d=d.set("landuse",r),d=d.set("lumethod",s),d=d.set("luscale",o),d=d.set("scenario",l),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/indicators/habitat-projection/map`,{params:d}).pipe(Ae(h=>(this.spinner.decreaseActiveRequests(),h)),Ga(h=>{throw this.spinner.decreaseActiveRequests(),h}))}getProjectionUrban({scientificname:t="",lumethod:n="message"}){if(""===t)throw Error("Zero length scientificname.");let r=new tn;return r=r.set("scientificname",t),r=r.set("scenario",n),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/indicators/habitat-projection-urban/species`,{params:r}).pipe(Ae(s=>(this.spinner.decreaseActiveRequests(),s)),Ga(s=>{throw this.spinner.decreaseActiveRequests(),s}))}getIndicatorSpecies({taxa:t=""}){let n=new tn;return this.spinner.increaseActiveRequests(),this.httpClient.get("https://cdn.mol.org/static/files/indicators/shi_species.min.json",{params:n}).pipe(Ae(s=>(this.spinner.decreaseActiveRequests(),s)),Ga(s=>{throw this.spinner.decreaseActiveRequests(),s}))}getPointFilters(t){t=t.trim();let n=new tn;return n=n.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/pointfilters`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}getSpeciesModelThumb(t,n,r,s){let o=new tn;return o=o.set("molid",t),n&&(o=o.set("width",n.toString())),r&&(o=o.set("height",r.toString())),s&&(o=o.set("format",s)),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/models/thumb`,{params:o,responseType:"blob"}).pipe(Ae(l=>{const d=URL.createObjectURL(l),h=this.sanitizer.bypassSecurityTrustUrl(d);return this.spinner.decreaseActiveRequests(),h}))}setSpeciesModelVote(t,n,r){let s=new tn;return s=s.set("molid",t),n&&(s=s.set("threshold",n.toString())),r&&(s=s.set("status",r)),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/models/vote`,{params:s}).pipe(Ae(o=>(this.spinner.decreaseActiveRequests(),o)))}getSpeciesModels(t){let n=new tn;return n=n.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/models/list`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}getSpeciesWithVotes(){return this.spinner.increaseActiveRequests(),console.log("calling"),this.httpClient.get(`${this.base}/models/vote/list`).pipe(Ae(t=>(this.spinner.decreaseActiveRequests(),t)))}getModelInfo(t){t=t.trim();let n=new tn;return n=n.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/models/info`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}download(t,n){t=t.trim();let r=new tn;return r=r.set("scientificname",t),r=r.set("dsids",n.join(",")),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/download`,{params:r,responseType:"blob"}).pipe(Ae(s=>(this.spinner.decreaseActiveRequests(),s)))}habitatTrend(t){this.spinner.increaseActiveRequests();let n=new tn;return n=n.set("scientificname",t),this.httpClient.get("https://next-api-dot-api-2-x-dot-map-of-life.appspot.com/2.x/species/indicators/habitat-trends/map",{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)),Ga((r,s)=>(this.spinner.decreaseActiveRequests(),console.error("Error getting habitat trend",r),Rf("error getting habitat trend."))))}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nd),V(yc),V(Wf),V(FR))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$bt=(()=>{class i extends f7{constructor(t,n,r){super(n),this.httpClient=t,this.translate=n,this.spinner=r,this._inventory=null,this.base+="datasets"}bbox(t){t||(t={maxX:180,minX:180,maxY:90,minY:-90});let n=new tn;return n=n.set("coords",`${t.minX},${t.minY},${t.maxX},${t.maxX}`),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/bbox`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}citations(){return this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/citations`).pipe(Ae(t=>t),Fl(()=>{this.spinner.decreaseActiveRequests()}))}info(t){let n=new tn;return n=n.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/info`,{params:n}).pipe(Ae(r=>r),Fl(()=>{this.spinner.decreaseActiveRequests()}))}type(t){let n=new tn;return n=n.set("id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/type`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}metadata(t){let n=new tn;return n=n.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/metadata`,{params:n}).pipe(Ae(r=>(this.spinner.decreaseActiveRequests(),r)))}inventory(){return this._inventory||(this.spinner.increaseActiveRequests(),this._inventory=this.httpClient.get(`${this.base}/inventory`).pipe(Ae(t=>(this.spinner.decreaseActiveRequests(),t[0])),gc())),this._inventory}species(t){let n=new tn;return n=n.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/species`,{params:n}).pipe(Ae(r=>r),Fl(()=>{this.spinner.decreaseActiveRequests()}))}deleteDataset(t){let n=new tn;return n=n.set("dataset_id",t),n=n.set("status","DELETED"),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/status`,{params:n}).pipe(Fl(()=>{this.spinner.decreaseActiveRequests()}))}downloadList(t){let n=new tn;return n=n.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/download/list`,{params:n}).pipe(Ae(r=>r),Fl(()=>{this.spinner.decreaseActiveRequests()}))}downloadAsset(t,n){let r=new tn;return r=r.set("asset_id",t),r=r.set("dataset_id",n),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/download`,{params:r}).pipe(s=>(this.spinner.decreaseActiveRequests(),s))}download(t){let n=new tn;return n=n.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(`${this.base}/download`,{params:n}).pipe(r=>(this.spinner.decreaseActiveRequests(),r))}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nd),V(yc),V(Wf))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ybt=(()=>{class i{constructor(t){this.inj=t,this.auth=this.inj.get(_b)}intercept(t,n){const r=this.auth.getToken();return u_t.map(o=>!!t.url.match(RegExp(o))).reduce((o,l)=>o||l)&&!t.url.match(/^https:\/\/auth.mol.org\/|mol\.org\/partials/)&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r}`}})),n.handle(t)}static#t=this.\u0275fac=function(n){return new(n||i)(V(jr))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),Zbt=(()=>{class i extends SX{constructor(t,n,r){super(n,t,r,"https://stoat-otf.azurewebsites.net"),this.spinner=t,this.translate=n,this.httpClient=r}correlation(t=""){let n=new tn;return n=n.set("scientificname",t),this.go("get","/metrics/covariance",{params:n})}scenarios(){return new tn,this.go("get","/list/scenarios")}univariate(t,n,r,s,o,l){let d={scientificname:t,mode:"temporal",limit:parseInt(l,10),yaxis:{product:n,variable:r,spatial:s,temporal:o}};return this.go("post","/species/metrics/scatter",{},d)}bivariate(t,n,r,s,o,l,d,h,m,b){const v={scientificname:t,mode:"bivariate",limit:parseInt(b,10),yaxis:{product:n,variable:r,spatial:s,temporal:o},xaxis:{product:l,variable:d,spatial:h,temporal:m}};return this.go("post","/species/metrics/scatter",{},v)}static#t=this.\u0275fac=function(n){return new(n||i)(V(Wf),V(yc),V(Nd))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),qbt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[_s,ob,ow]})}return i})();const Xbt=["mat-menu-item",""];function Kbt(i,e){1&i&&(Os(),O(0,"svg",3),te(1,"polygon",4),L())}const Qbt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Jbt=["mat-icon, [matMenuItemIcon]","*"];function tvt(i,e){if(1&i){const t=Ai();O(0,"div",0),fe("keydown",function(r){return Te(t),Ie(Mt()._handleKeydown(r))})("click",function(){return Te(t),Ie(Mt().closed.emit("click"))})("@transformMenu.start",function(r){return Te(t),Ie(Mt()._onAnimationStart(r))})("@transformMenu.done",function(r){return Te(t),Ie(Mt()._onAnimationDone(r))}),O(1,"div",1),Ei(2),L()()}if(2&i){const t=Mt();Y("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Ni("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const evt=["*"],p7=new xe("MAT_MENU_PANEL"),ivt=nb(ag(class{}));let g7=(()=>{class i extends ivt{constructor(t,n,r,s,o){super(),this._elementRef=t,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new Nt,this._focused=new Nt,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),n=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(li),U(Xu),U(p7,8),U(Sn))};static#e=this.\u0275cmp=He({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&fe("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(Ni("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Vi("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Ue],attrs:Xbt,ngContentSelectors:Jbt,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(jn(Qbt),Ei(0),O(1,"span",0),Ei(2,1),L(),te(3,"div",1),It(4,Kbt,2,0,"svg",2)),2&n&&(z(3),Y("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),z(1),Y("ngIf",r._triggersSubmenu))},dependencies:[on,lg],encapsulation:2,changeDetection:0})}return i})();const nvt=new xe("MatMenuContent"),FL={transformMenu:Qc("transformMenu",[ka("void",Dr({opacity:0,transform:"scale(0.8)"})),Mo("void => enter",Eo("120ms cubic-bezier(0, 0, 0.2, 1)",Dr({opacity:1,transform:"scale(1)"}))),Mo("* => void",Eo("100ms 25ms linear",Dr({opacity:0})))]),fadeInItems:Qc("fadeInItems",[ka("showing",Dr({opacity:1})),Mo("void => *",[Dr({opacity:0}),Eo("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let rvt=0;const kX=new xe("mat-menu-default-options",{providedIn:"root",factory:function svt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let R2=(()=>{class i{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Li(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Li(t)}set panelClass(t){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,n,r,s){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=s,this._directDescendantItems=new zu,this._classList={},this._panelAnimationState="void",this._animationDone=new Nt,this.closed=new qe,this.close=this.closed,this.panelId="mat-menu-panel-"+rvt++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Tz(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Nl(this._directDescendantItems),Hn(t=>yi(...t.map(n=>n._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Nl(this._directDescendantItems),Hn(n=>yi(...n.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const n=t.keyCode,r=this._keyManager;switch(n){case 27:cl(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(ur(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const n=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Nl(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(fi),U(kX),U(Sn))};static#e=this.\u0275dir=be({type:i,contentQueries:function(n,r,s){if(1&n&&(En(s,nvt,5),En(s,g7,5),En(s,g7,4)),2&n){let o;Ze(o=We())&&(r.lazyContent=o.first),Ze(o=We())&&(r._allItems=o),Ze(o=We())&&(r.items=o)}},viewQuery:function(n,r){if(1&n&&Pi(ss,5),2&n){let s;Ze(s=We())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return i})(),ovt=(()=>{class i extends R2{constructor(t,n,r,s){super(t,n,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(fi),U(kX),U(Sn))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(n,r){2&n&&Ni("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[vi([{provide:p7,useExisting:i}]),Ue],ngContentSelectors:evt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(jn(),It(0,tvt,3,6,"ng-template"))},dependencies:[Af],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[FL.transformMenu,FL.fadeInItems]},changeDetection:0})}return i})();const DX=new xe("mat-menu-scroll-strategy"),lvt={provide:DX,deps:[Sa],useFactory:function avt(i){return()=>i.scrollStrategies.reposition()}},TX=J0({passive:!0});let cvt=(()=>{class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,n,r,s,o,l,d,h,m){this._overlay=t,this._element=n,this._viewContainerRef=r,this._menuItemInstance=l,this._dir=d,this._focusMonitor=h,this._ngZone=m,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=B.EMPTY,this._hoverSubscription=B.EMPTY,this._menuCloseSubscription=B.EMPTY,this._changeDetectorRef=wt(Sn),this._handleTouchStart=b=>{Az(b)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new qe,this.onMenuOpen=this.menuOpened,this.menuClosed=new qe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof R2?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,TX)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,TX),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const n=this._createOverlay(t),r=n.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,n.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof R2&&(t._startAnimation(),t._directDescendantItems.changes.pipe(gn(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof R2?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(Gn(r=>"void"===r.toState),ur(1),gn(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let n=0,r=t.parentMenu;for(;r;)n++,r=r.parentMenu;t.setElevation(n)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const n=this._getOverlayConfig(t);this._subscribeToPositions(t,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new jx({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,n){t.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",o="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,o)):t.setPositionClasses(s,o)})}_setPosition(t,n){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[o,l]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[d,h]=[o,l],[m,b]=[r,s],v=0;if(this.triggersSubmenu()){if(b=r="before"===t.xPosition?"start":"end",s=m="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const E=this._parentMaterialMenu.items.first;this._parentInnerPadding=E?E._getHostElement().offsetTop:0}v="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(d="top"===o?"bottom":"top",h="top"===l?"bottom":"top");n.withPositions([{originX:r,originY:d,overlayX:m,overlayY:o,offsetY:v},{originX:s,originY:d,overlayX:b,overlayY:o,offsetY:v},{originX:r,originY:h,overlayX:m,overlayY:l,offsetY:-v},{originX:s,originY:h,overlayX:b,overlayY:l,offsetY:-v}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return yi(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:je(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Gn(o=>o!==this._menuItemInstance),Gn(()=>this._menuOpen)):je(),n)}_handleMousedown(t){Iz(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const n=t.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Gn(t=>t===this._menuItemInstance&&!t.disabled),I2(0,Bz)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof R2&&this.menu._isAnimating?this.menu._animationDone.pipe(ur(1),I2(0,Bz),gn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new lb(t.templateRef,this._viewContainerRef)),this._portal}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sa),U(ai),U(Zr),U(DX),U(p7,8),U(g7,10),U(Bl,8),U(Xu),U(fi))};static#e=this.\u0275dir=be({type:i,hostVars:3,hostBindings:function(n,r){1&n&&fe("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&n&&Ni("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return i})(),IX=(()=>{class i extends cvt{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Ue]})}return i})(),dvt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[lvt],imports:[_s,rb,Pn,hg,ug,Pn]})}return i})(),uvt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[_s,dg,dvt,ow,ob]})}return i})();function hvt(i,e){}class NL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let AX=(()=>{class i extends PP{constructor(t,n,r,s,o,l,d,h){super(),this._elementRef=t,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=l,this._overlayRef=d,this._focusMonitor=h,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=m=>{this._portalOutlet.hasAttached();const b=this._portalOutlet.attachDomPortal(m);return this._contentAttached(),b},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),n}attachTemplatePortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let n=null;if("string"==typeof t?n=this._document.querySelector(t):"boolean"==typeof t?n=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(n=t),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=mP(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,n=mP();return t===n||t.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mP())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(yP),U(li,8),U(NL),U(WS),U(fi),U(t2),U(Xu))};static#e=this.\u0275cmp=He({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&Pi(Ux,7),2&n){let s;Ze(s=We())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&Ni("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ue],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&It(0,hvt,0,0,"ng-template",0)},dependencies:[Ux],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return i})();class _7{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Nt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!cl(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const OX=new xe("DialogScrollStrategy"),fvt=new xe("DialogData"),mvt=new xe("DefaultDialogConfig"),gvt={provide:OX,deps:[Sa],useFactory:function pvt(i){return()=>i.scrollStrategies.block()}};let _vt=0,RX=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,n,r,s,o,l){this._overlay=t,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Nt,this._afterOpenedAtThisLevel=new Nt,this._ariaHiddenElements=new Map,this.afterAllClosed=mg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nl(void 0))),this._scrollStrategy=l}open(t,n){(n={...this._defaultOptions||new NL,...n}).id=n.id||"cdk-dialog-"+_vt++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),l=new _7(o,n),d=this._attachContainer(o,l,n);return l.containerInstance=d,this._attachDialogContent(t,l,d,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){b7(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){b7(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),b7(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const n=new jx({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachContainer(t,n,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:NL,useValue:r},{provide:_7,useValue:n},{provide:t2,useValue:t}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,o.push(...r.container.providers(r))):l=AX;const d=new ab(l,r.viewContainerRef,jr.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return t.attach(d).instance}_attachDialogContent(t,n,r,s){if(t instanceof ss){const o=this._createInjector(s,n,r,void 0);let l={$implicit:s.data,dialogRef:n};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new lb(t,null,l,o))}else{const o=this._createInjector(s,n,r,this._injector),l=r.attachComponentPortal(new ab(t,s.viewContainerRef,o,s.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(t,n,r,s){const o=t.injector||t.viewContainerRef?.injector,l=[{provide:fvt,useValue:t.data},{provide:_7,useValue:n}];return t.providers&&("function"==typeof t.providers?l.push(...t.providers(n,t,r)):l.push(...t.providers)),t.direction&&(!o||!o.get(Bl,null,{optional:!0}))&&l.push({provide:Bl,useValue:{value:t.direction,change:je()}}),jr.create({parent:o||s,providers:l})}_removeOpenDialog(t,n){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const n=t.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(n){return new(n||i)(V(Sa),V(jr),V(mvt,8),V(i,12),V(LP),V(OX))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})();function b7(i,e){let t=i.length;for(;t--;)e(i[t])}let bvt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[RX,gvt],imports:[hg,Gx,J$,Gx]})}return i})();function vvt(i,e){}class BL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const v7="mdc-dialog--open",PX="mdc-dialog--opening",LX="mdc-dialog--closing";let wvt=(()=>{class i extends AX{constructor(t,n,r,s,o,l,d,h){super(t,n,r,s,o,l,d,h),this._animationStateChanged=new qe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(yP),U(li,8),U(BL),U(WS),U(fi),U(t2),U(Xu))};static#e=this.\u0275cmp=He({type:i,selectors:[["ng-component"]],features:[Ue],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})();const FX="--mat-dialog-transition-duration";function NX(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?kr(i.substring(0,i.length-2)):i.endsWith("s")?1e3*kr(i.substring(0,i.length-1)):"0"===i?0:null}let Cvt=(()=>{class i extends wvt{constructor(t,n,r,s,o,l,d,h,m){super(t,n,r,s,o,l,d,m),this._animationMode=h,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?NX(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?NX(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(FX,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(PX,v7)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(v7),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(v7),this._animationsEnabled?(this._hostElement.style.setProperty(FX,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(LX)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(PX,LX)}_waitForAnimationToComplete(t,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(yP),U(li,8),U(BL),U(WS),U(fi),U(t2),U(Gr,8),U(Xu))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(n,r){2&n&&($c("id",r._config.id),Ni("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Vi("_mat-animation-noopable",!r._animationsEnabled))},features:[Ue],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1),It(2,vvt,0,0,"ng-template",2),L()())},dependencies:[Ux],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return i})();class xg{constructor(e,t,n){this._ref=e,this._containerInstance=n,this._afterOpened=new Nt,this._beforeClosed=new Nt,this._state=0,this.disableClose=t.disableClose,this.id=e.id,n._animationStateChanged.pipe(Gn(r=>"opened"===r.state),ur(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Gn(r=>"closed"===r.state),ur(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),yi(this.backdropClick(),this.keydownEvents().pipe(Gn(r=>27===r.keyCode&&!this.disableClose&&!cl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),BX(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Gn(t=>"closing"===t.state),ur(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function BX(i,e,t){return i._closeInteractionType=e,i.close(t)}const Yf=new xe("MatMdcDialogData"),Evt=new xe("mat-mdc-dialog-default-options"),zX=new xe("mat-mdc-dialog-scroll-strategy"),Svt={provide:zX,deps:[Sa],useFactory:function Mvt(i){return()=>i.scrollStrategies.block()}};let kvt=0,Dvt=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,n,r,s,o,l,d,h,m,b){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=d,this._dialogContainerType=h,this._dialogDataToken=m,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Nt,this._afterOpenedAtThisLevel=new Nt,this._idPrefix="mat-dialog-",this.dialogConfigClass=BL,this.afterAllClosed=mg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nl(void 0))),this._scrollStrategy=l,this._dialog=n.get(RX)}open(t,n){let r;(n={...this._defaultOptions||new BL,...n}).id=n.id||`${this._idPrefix}${kvt++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:NL,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,l,d)=>(r=new this._dialogRefConstructor(o,n,d),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}static#t=this.\u0275fac=function(n){jo()};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),id=(()=>{class i extends Dvt{constructor(t,n,r,s,o,l,d,h){super(t,n,s,l,d,o,xg,Cvt,Yf,h),this._idPrefix="mat-mdc-dialog-"}static#t=this.\u0275fac=function(n){return new(n||i)(V(Sa),V(jr),V(ws,8),V(Evt,8),V(zX),V(i,12),V(LP),V(Gr,8))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),Tvt=0,zL=(()=>{class i{constructor(t,n,r){this.dialogRef=t,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=UX(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const n=t._matDialogClose||t._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(t){BX(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#t=this.\u0275fac=function(n){return new(n||i)(U(xg,8),U(ai),U(id))};static#e=this.\u0275dir=be({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&fe("click",function(o){return r._onButtonClick(o)}),2&n&&Ni("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[zn]})}return i})(),VX=(()=>{class i{constructor(t,n,r){this._dialogRef=t,this._elementRef=n,this._dialog=r,this.id="mat-mdc-dialog-title-"+Tvt++}ngOnInit(){this._dialogRef||(this._dialogRef=UX(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const n=t.indexOf(this.id);n>-1&&t.splice(n,1)})}static#t=this.\u0275fac=function(n){return new(n||i)(U(xg,8),U(ai),U(id))};static#e=this.\u0275dir=be({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,r){2&n&&$c("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return i})(),P2=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return i})(),HX=(()=>{class i{constructor(){this.align="start"}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(n,r){2&n&&Vi("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}return i})();function UX(i,e){let t=i.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(n=>n.id===t.id):null}let VL=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[id,Svt],imports:[bvt,hg,Gx,Pn,Pn]})}return i})(),Ivt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,Pn]})}return i})();const jX=["*"],Jvt=new xe("MAT_LIST_CONFIG");let L2=(()=>{class i{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=wt(Jvt,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Li(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Li(t)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,hostVars:1,hostBindings:function(n,r){2&n&&Ni("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return i})(),tyt=(()=>{class i extends L2{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[vi([{provide:L2,useExisting:i}]),Ue],ngContentSelectors:jX,decls:1,vars:0,template:function(n,r){1&n&&(jn(),Ei(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return i})(),syt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Ez,_s,Pn,rb,cY,Ivt]})}return i})(),oyt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[O2],imports:[_s,VL,_Z,syt,ob,zP,s2,O2,ow]})}return i})(),ayt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[_s,s2,ob,vZ,RL,dg,ow,VL,dg]})}return i})();const lyt=["panel"];function cyt(i,e){if(1&i){const t=Ai();O(0,"div",0,1),fe("@panelAnimation.done",function(r){return Te(t),Ie(Mt()._animationDone.next(r))}),Ei(2),L()}if(2&i){const t=e.id,n=Mt();Y("id",n.id)("ngClass",n._classList)("@panelAnimation",n.isOpen?"visible":"hidden"),Ni("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const dyt=["*"],uyt=Qc("panelAnimation",[ka("void, hidden",Dr({opacity:0,transform:"scaleY(0.8)"})),Mo(":enter, hidden => visible",[Gz([Eo("0.03s linear",Dr({opacity:1})),Eo("0.12s cubic-bezier(0, 0, 0.2, 1)",Dr({transform:"scaleY(1)"}))])]),Mo(":leave, visible => hidden",[Eo("0.075s linear",Dr({opacity:0}))])]);let hyt=0;class fyt{constructor(e,t){this.source=e,this.option=t}}const myt=nb(class{}),XX=new xe("mat-autocomplete-default-options",{providedIn:"root",factory:function pyt(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let gyt=(()=>{class i extends myt{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=Li(t)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(t){this._autoSelectActiveOption=Li(t)}get requireSelection(){return this._requireSelection}set requireSelection(t){this._requireSelection=Li(t)}set classList(t){this._classList=t&&t.length?function adt(i,e=/\s+/){const t=[];if(null!=i){const n=Array.isArray(i)?i:`${i}`.split(e);for(const r of n){const s=`${r}`.trim();s&&t.push(s)}}return t}(t).reduce((n,r)=>(n[r]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(t,n,r,s){super(),this._changeDetectorRef=t,this._elementRef=n,this._defaults=r,this._activeOptionChanges=B.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new qe,this.opened=new qe,this.closed=new qe,this.optionActivated=new qe,this._classList={},this.id="mat-autocomplete-"+hyt++,this.inertGroups=s?.SAFARI||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption,this._autoSelectActiveOption=!!r.autoSelectActiveOption,this._requireSelection=!!r.requireSelection}ngAfterContentInit(){this._keyManager=new $$(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const n=new fyt(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(t){return t.disabled}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sn),U(ai),U(XX),U(Nr))};static#e=this.\u0275dir=be({type:i,viewQuery:function(n,r){if(1&n&&(Pi(ss,7),Pi(lyt,5)),2&n){let s;Ze(s=We())&&(r.template=s.first),Ze(s=We())&&(r.panel=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",requireSelection:"requireSelection",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[Ue]})}return i})(),_yt=(()=>{class i extends gyt{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new qe,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=Li(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}ngOnDestroy(){super.ngOnDestroy(),this._animationDone.complete()}_skipPredicate(t){return!1}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-autocomplete"]],contentQueries:function(n,r,s){if(1&n&&(En(s,CP,5),En(s,pc,5)),2&n){let o;Ze(o=We())&&(r.optionGroups=o),Ze(o=We())&&(r.options=o)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[vi([{provide:wP,useExisting:i}]),Ue],ngContentSelectors:dyt,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(n,r){1&n&&(jn(),It(0,cyt,3,5,"ng-template"))},dependencies:[Af],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[uyt]},changeDetection:0})}return i})();const byt={provide:Ea,useExisting:An(()=>QX),multi:!0},KX=new xe("mat-autocomplete-scroll-strategy"),yyt={provide:KX,deps:[Sa],useFactory:function vyt(i){return()=>i.scrollStrategies.reposition()}};let xyt=(()=>{class i{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=Li(t)}constructor(t,n,r,s,o,l,d,h,m,b,v){this._element=t,this._overlay=n,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=d,this._formField=h,this._document=m,this._viewportRuler=b,this._defaults=v,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=B.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Nt,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=mg(()=>{const E=this.autocomplete?this.autocomplete.options:null;return E?E.changes.pipe(Nl(E),Hn(()=>yi(...E.map(D=>D.onSelectionChange)))):this._zone.onStable.pipe(ur(1),Hn(()=>this.optionSelections))}),this._handlePanelKeydown=E=>{(27===E.keyCode&&!cl(E)||38===E.keyCode&&cl(E,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),E.stopPropagation(),E.preventDefault())},this._trackedModal=null,this._scrollStrategy=l}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return yi(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Gn(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Gn(()=>this._overlayAttached)):je()).pipe(Ae(t=>t instanceof dY?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return yi(Qp(this._document,"click"),Qp(this._document,"auxclick"),Qp(this._document,"touchend")).pipe(Gn(t=>{const n=Nf(t),r=this._formField?this._formField._elementRef.nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const n=t.keyCode,r=cl(t);if(27===n&&!r&&t.preventDefault(),this.activeOption&&13===n&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===n||40===n;9===n||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):o&&this._canOpen()&&this.openPanel(),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,r=n.value;"number"===n.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r||this._clearPreviousSelectedOption(null,!1),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return yi(this._zone.onStable.pipe(ur(1)),this.autocomplete.options.changes.pipe(ro(()=>this._positionStrategy.reapplyLastPosition()),I2(0))).pipe(Hn(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?(this._captureValueOnAttach(),this._emitOpened()):this.autocomplete.closed.emit())}),this.panelClosingActions)),ur(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_captureValueOnAttach(){this._valueOnAttach=this._element.nativeElement.value}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){const n=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const n=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),n._emitSelectEvent(r),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe(ur(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(n)})}_attachOverlay(){let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new lb(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const n=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this._captureValueOnAttach(),this.panelOpen&&n!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new jx({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?n:[...n,...s],t.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){n=r;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const n=this.autocomplete,r=uY(t,n.options,n.optionGroups);if(0===t&&1===r)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[t];if(s){const o=s._getHostElement(),l=hY(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(l)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=this.autocomplete.id;this._trackedModal&&jS(this._trackedModal,"aria-owns",n),Sz(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(jS(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Sa),U(Zr),U(fi),U(Sn),U(KX),U(Bl,8),U(NP,9),U(li,8),U(Hx),U(XX,8))};static#e=this.\u0275dir=be({type:i,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[zn]})}return i})(),QX=(()=>{class i extends xyt{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,r){1&n&&fe("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),2&n&&Ni("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[vi([byt]),Ue]})}return i})(),wyt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[yyt],imports:[hg,EP,Pn,_s,ug,EP,Pn]})}return i})(),Cyt=0;const y7=new xe("CdkAccordion");let Eyt=(()=>{class i{constructor(){this._stateChanges=new Nt,this._openCloseAllActions=new Nt,this.id="cdk-accordion-"+Cyt++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Li(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[vi([{provide:y7,useExisting:i}]),zn]})}return i})(),Myt=0,Syt=(()=>{class i{get expanded(){return this._expanded}set expanded(t){t=Li(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Li(t)}constructor(t,n,r){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=B.EMPTY,this.closed=new qe,this.opened=new qe,this.destroyed=new qe,this.expandedChange=new qe,this.id="cdk-accordion-child-"+Myt++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#t=this.\u0275fac=function(n){return new(n||i)(U(y7,12),U(Sn),U(lZ))};static#e=this.\u0275dir=be({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[vi([{provide:y7,useValue:void 0}])]})}return i})(),kyt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();const Dyt=["body"];function Tyt(i,e){}const Iyt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ayt=["mat-expansion-panel-header","*","mat-action-row"];function Oyt(i,e){1&i&&te(0,"span",2),2&i&&Y("@indicatorRotate",Mt()._getExpandedState())}const Ryt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Pyt=["mat-panel-title","mat-panel-description","*"],x7=new xe("MAT_ACCORDION"),JX="225ms cubic-bezier(0.4,0.0,0.2,1)",tK={indicatorRotate:Qc("indicatorRotate",[ka("collapsed, void",Dr({transform:"rotate(0deg)"})),ka("expanded",Dr({transform:"rotate(180deg)"})),Mo("expanded <=> collapsed, void => collapsed",Eo(JX))]),bodyExpansion:Qc("bodyExpansion",[ka("collapsed, void",Dr({height:"0px",visibility:"hidden"})),ka("expanded",Dr({height:"*",visibility:""})),Mo("expanded <=> collapsed, void => collapsed",Eo(JX))])},eK=new xe("MAT_EXPANSION_PANEL");let Lyt=(()=>{class i{constructor(t,n){this._template=t,this._expansionPanel=n}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss),U(eK,8))};static#e=this.\u0275dir=be({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]})}return i})(),Fyt=0;const iK=new xe("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let nK=(()=>{class i extends Syt{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Li(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,n,r,s,o,l,d){super(t,n,r),this._viewContainerRef=s,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new qe,this.afterCollapse=new qe,this._inputChanges=new Nt,this._headerId="mat-expansion-panel-header-"+Fyt++,this._bodyAnimationDone=new Nt,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe(_h((h,m)=>h.fromState===m.fromState&&h.toState===m.toState)).subscribe(h=>{"void"!==h.fromState&&("expanded"===h.toState?this.afterExpand.emit():"collapsed"===h.toState&&this.afterCollapse.emit())}),d&&(this.hideToggle=d.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Nl(null),Gn(()=>this.expanded&&!this._portal),ur(1)).subscribe(()=>{this._portal=new lb(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}static#t=this.\u0275fac=function(n){return new(n||i)(U(x7,12),U(Sn),U(lZ),U(Zr),U(li),U(Gr,8),U(iK,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,s){if(1&n&&En(s,Lyt,5),2&n){let o;Ze(o=We())&&(r._lazyContent=o.first)}},viewQuery:function(n,r){if(1&n&&Pi(Dyt,5),2&n){let s;Ze(s=We())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){2&n&&Vi("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[vi([{provide:x7,useValue:void 0},{provide:eK,useExisting:i}]),Ue,zn],ngContentSelectors:Ayt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){1&n&&(jn(Iyt),Ei(0),O(1,"div",0,1),fe("@bodyExpansion.done",function(o){return r._bodyAnimationDone.next(o)}),O(3,"div",2),Ei(4,1),It(5,Tyt,0,0,"ng-template",3),L(),Ei(6,2),L()),2&n&&(z(1),Y("@bodyExpansion",r._getExpandedState())("id",r.id),Ni("aria-labelledby",r._headerId),z(4),Y("cdkPortalOutlet",r._portal))},dependencies:[Ux],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[tK.bodyExpansion]},changeDetection:0})}return i})();class Nyt{}const Byt=YS(Nyt);let rK=(()=>{class i extends Byt{constructor(t,n,r,s,o,l,d){super(),this.panel=t,this._element=n,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=l,this._parentChangeSubscription=B.EMPTY;const h=t.accordion?t.accordion._stateChanges.pipe(Gn(m=>!(!m.hideToggle&&!m.togglePosition))):Of;this.tabIndex=parseInt(d||"")||0,this._parentChangeSubscription=yi(t.opened,t.closed,h,t._inputChanges.pipe(Gn(m=>!!(m.hideToggle||m.disabled||m.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Gn(()=>t._containsFocus())).subscribe(()=>r.focusVia(n,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:cl(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#t=this.\u0275fac=function(n){return new(n||i)(U(nK,1),U(ai),U(Xu),U(Sn),U(iK,8),U(Gr,8),Cl("tabindex"))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){1&n&&fe("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),2&n&&(Ni("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Wr("height",r._getHeaderHeight()),Vi("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Ue],ngContentSelectors:Pyt,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(n,r){1&n&&(jn(Ryt),O(0,"span",0),Ei(1),Ei(2,1),Ei(3,2),L(),It(4,Oyt,1,1,"span",1)),2&n&&(Vi("mat-content-hide-toggle",!r._showToggle()),z(4),Y("ngIf",r._showToggle()))},dependencies:[on],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[tK.indicatorRotate]},changeDetection:0})}return i})(),zyt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return i})(),Vyt=(()=>{class i extends Eyt{constructor(){super(...arguments),this._ownHeaders=new zu,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Li(t)}ngAfterContentInit(){this._headers.changes.pipe(Nl(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Tz(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["mat-accordion"]],contentQueries:function(n,r,s){if(1&n&&En(s,rK,5),2&n){let o;Ze(o=We())&&(r._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,r){2&n&&Vi("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[vi([{provide:x7,useExisting:i}]),Ue]})}return i})(),Hyt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[_s,Pn,kyt,Gx]})}return i})();const sK=J0({passive:!0});let Uyt=(()=>{class i{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Of;const n=Bf(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new Nt,o="cdk-text-field-autofilled",l=d=>{"cdk-text-field-autofill-start"!==d.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===d.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,sK),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",l,sK)}}),s}stopMonitoring(t){const n=Bf(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static#t=this.\u0275fac=function(n){return new(n||i)(V(Nr),V(fi))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gyt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();const jyt=new xe("MAT_INPUT_VALUE_ACCESSOR"),Wyt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $yt=0;const Yyt=iY(class{constructor(i,e,t,n){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=t,this.ngControl=n,this.stateChanges=new Nt}});let Zyt=(()=>{class i extends Yyt{get disabled(){return this._disabled}set disabled(t){this._disabled=Li(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Fj.required)??!1}set required(t){this._required=Li(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&O$().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Li(t)}constructor(t,n,r,s,o,l,d,h,m,b){super(l,s,o,r),this._elementRef=t,this._platform=n,this._autofillMonitor=h,this._formField=b,this._uid="mat-input-"+$yt++,this.focused=!1,this.stateChanges=new Nt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(D=>O$().has(D)),this._iOSKeyupListener=D=>{const T=D.target;!T.value&&0===T.selectionStart&&0===T.selectionEnd&&(T.setSelectionRange(1,1),T.setSelectionRange(0,0))};const v=this._elementRef.nativeElement,E=v.nodeName.toLowerCase();this._inputValueAccessor=d||v,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&m.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===E,this._isTextarea="textarea"===E,this._isInFormField=!!b,this._isNativeSelect&&(this.controlType=v.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Wyt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Nr),U($u,10),U(PS,8),U(LS,8),U(nY),U(jyt,10),U(Uyt),U(fi),U(NP,8))};static#e=this.\u0275dir=be({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&fe("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&($c("id",r.id)("disabled",r.disabled)("required",r.required),Ni("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Vi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[vi([{provide:Yz,useExisting:i}]),Ue,zn]})}return i})(),qyt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,Zz,Zz,Gyt,Pn]})}return i})();const Xyt=["knob"],Kyt=["valueIndicatorContainer"];function Qyt(i,e){if(1&i&&(O(0,"div",4,5)(2,"div",6)(3,"span",7),tt(4),L()()()),2&i){const t=Mt();z(4),Mi(t.valueIndicatorText)}}const Jyt=["trackActive"];function txt(i,e){if(1&i&&te(0,"div"),2&i){const t=e.$implicit,n=e.index,r=Mt(3);Yn(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Wr("transform",r._calcTickMarkTransform(n))}}function ext(i,e){if(1&i&&(Zo(0),It(1,txt,1,4,"div",11),za()),2&i){const t=Mt(2);z(1),Y("ngForOf",t._tickMarks)}}function ixt(i,e){if(1&i&&(O(0,"div",8,9),It(2,ext,2,1,"ng-container",10),L()),2&i){const t=Mt();z(2),Y("ngIf",t._cachedWidth)}}function nxt(i,e){if(1&i&&te(0,"mat-slider-visual-thumb",7),2&i){const t=Mt();Y("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const rxt=["*"],HL=new xe("_MatSlider"),oK=new xe("_MatSliderThumb"),aK=new xe("_MatSliderRangeThumb"),lK=new xe("_MatSliderVisualThumb");let sxt=(()=>{class i{constructor(t,n,r,s){this._cdr=t,this._ngZone=n,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=o=>{if(this._sliderInput._isFocused)return;const l=this._hostElement.getBoundingClientRect(),d=this._slider._isCursorOnSliderThumb(o,l);this._isHovered=d,d?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=o=>{0===o.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||n))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sn),U(fi),U(ai),U(HL))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(n,r){if(1&n&&(Pi(lg,5),Pi(Xyt,5),Pi(Kyt,5)),2&n){let s;Ze(s=We())&&(r._ripple=s.first),Ze(s=We())&&(r._knob=s.first),Ze(s=We())&&(r._valueIndicatorContainer=s.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[vi([{provide:lK,useExisting:i}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(n,r){1&n&&(It(0,Qyt,5,1,"div",0),te(1,"div",1,2)(3,"div",3)),2&n&&(Y("ngIf",r.discrete),z(3),Y("matRippleDisabled",!0))},dependencies:[on,lg],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return i})();const oxt=zx(nb(class{constructor(i){this._elementRef=i}}),"primary");let axt=(()=>{class i extends oxt{get disabled(){return this._disabled}set disabled(t){this._disabled=Li(t);const n=this._getInput(2),r=this._getInput(1);n&&(n.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=Li(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=Li(t)}get min(){return this._min}set min(t){const n=kr(t,this._min);this._min!==n&&this._updateMin(n)}_updateMin(t){const n=this._min;this._min=t,this._isRange?this._updateMinRange({old:n,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const n=this._getInput(2),r=this._getInput(1),s=n.value,o=r.value;r.min=t.new,n.min=Math.max(t.new,r.value),r.max=Math.min(n.max,n.value),r._updateWidthInactive(),n._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(n,r):this._onTranslateXChangeBySideEffect(r,n),s!==n.value&&this._onValueChange(n),o!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const n=this._getInput(2);if(n){const r=n.value;n.min=t,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(t){const n=kr(t,this._max);this._max!==n&&this._updateMax(n)}_updateMax(t){const n=this._max;this._max=t,this._isRange?this._updateMaxRange({old:n,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const n=this._getInput(2),r=this._getInput(1),s=n.value,o=r.value;n.max=t.new,r.max=Math.min(t.new,n.value),n.min=r.value,n._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,n):this._onTranslateXChangeBySideEffect(n,r),s!==n.value&&this._onValueChange(n),o!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const n=this._getInput(2);if(n){const r=n.value;n.max=t,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(t){const n=kr(t,this._step);this._step!==n&&this._updateStep(n)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),n=this._getInput(1),r=t.value,s=n.value,o=n.value;t.min=this._min,n.max=this._max,t.step=this._step,n.step=this._step,this._platform.SAFARI&&(t.value=t.value,n.value=n.value),t.min=Math.max(this._min,n.value),n.max=Math.min(this._max,t.value),n._updateWidthInactive(),t._updateWidthInactive(),t.value<o?this._onTranslateXChangeBySideEffect(n,t):this._onTranslateXChangeBySideEffect(t,n),r!==t.value&&this._onValueChange(t),s!==n.value&&this._onValueChange(n)}_updateStepNonRange(){const t=this._getInput(2);if(t){const n=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),n!==t.value&&this._onValueChange(t)}}constructor(t,n,r,s,o,l){super(r),this._ngZone=t,this._cdr=n,this._dir=s,this._globalRippleOptions=o,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=1,this.displayWith=d=>`${d}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=wt(Nr),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===l,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),n=this._getInput(1);this._isRange=!!t&&!!n,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,n):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,n){t.initProps(),t.initUI(),n.initProps(),n.initUI(),t._updateMinMax(),n._updateMinMax(),t._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),n=this._getInput(1);t._setIsLeftThumb(),n._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),t._updateStaticStyles(),n._updateStaticStyles(),t._updateWidthInactive(),n._updateWidthInactive(),t._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const n=this._getInput(t);return n?n.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const n=this._trackActive.nativeElement.style;n.left=t.left,n.right=t.right,n.transformOrigin=t.transformOrigin,n.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,n){this._hasViewInitialized&&(t._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),n=this._getInput(1);t._updateThumbUIByValue(),n._updateThumbUIByValue(),t._updateStaticStyles(),n._updateStaticStyles(),t._updateMinMax(),n._updateMinMax(),t._updateWidthInactive(),n._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),n=this._getInput(2);return!(!t||!n)&&n.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const n=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const n=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=n:t._hostElement.setAttribute("aria-valuetext",n),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=n:this.endValueIndicatorText=n;const r=this._getThumb(t.thumbPosition);n.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),n=this._getInput(1);t&&this._updateValueIndicatorUI(t),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const n=t.getSibling();if(!n||!this._cachedWidth)return;const r=Math.abs(n.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-n.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const n=this._getValue();let r=Math.max(Math.round((n-this.min)/t),0),s=Math.max(Math.round((this.max-n)/t),0);this._isRtl?r++:s++,this._tickMarks=Array(r).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(t){const n=this._getValue(),r=this._getValue(1),s=Math.max(Math.floor((r-this.min)/t),0),o=Math.max(Math.floor((n-r)/t)+1,0),l=Math.max(Math.floor((this.max-n)/t),0);this._tickMarks=Array(s).fill(1).concat(Array(o).fill(0),Array(l).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,n){const r=n.width/2,d=t.clientY-(n.y+r);return Math.pow(t.clientX-(n.x+r),2)+Math.pow(d,2)<Math.pow(r,2)}static#t=this.\u0275fac=function(n){return new(n||i)(U(fi),U(Sn),U(ai),U(Bl,8),U(XS,8),U(Gr,8))};static#e=this.\u0275cmp=He({type:i,selectors:[["mat-slider"]],contentQueries:function(n,r,s){if(1&n&&(En(s,oK,5),En(s,aK,4)),2&n){let o;Ze(o=We())&&(r._input=o.first),Ze(o=We())&&(r._inputs=o)}},viewQuery:function(n,r){if(1&n&&(Pi(Jyt,5),Pi(lK,5)),2&n){let s;Ze(s=We())&&(r._trackActive=s.first),Ze(s=We())&&(r._thumbs=s)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(n,r){2&n&&Vi("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[vi([{provide:HL,useExisting:i}]),Ue],ngContentSelectors:rxt,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(jn(),Ei(0),O(1,"div",0),te(2,"div",1),O(3,"div",2),te(4,"div",3,4),L(),It(6,ixt,3,1,"div",5),L(),It(7,nxt,1,3,"mat-slider-visual-thumb",6),te(8,"mat-slider-visual-thumb",7)),2&n&&(z(6),Y("ngIf",r.showTickMarks),z(1),Y("ngIf",r._isRange),z(1),Y("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[Ps,on,sxt],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})();const cxt={provide:Ea,useExisting:An(()=>w7),multi:!0};let w7=(()=>{class i{get value(){return kr(this._hostElement.value)}set value(t){const n=kr(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=n,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=n}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return kr(this._hostElement.min)}set min(t){this._hostElement.min=kr(t).toString(),this._cdr.detectChanges()}get max(){return kr(this._hostElement.max)}set max(t){this._hostElement.max=kr(t).toString(),this._cdr.detectChanges()}get step(){return kr(this._hostElement.step)}set step(t){this._hostElement.step=kr(t).toString(),this._cdr.detectChanges()}get disabled(){return Li(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=Li(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,n,r,s){this._ngZone=t,this._elementRef=n,this._cdr=r,this._slider=s,this.valueChange=new qe,this.dragStart=new qe,this.dragEnd=new qe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Nt,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=wt(Nr),this._hostElement=n.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const n=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=n,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const n=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,o=Math.floor((this._slider.max-this._slider.min)/s),h=Math.round((this._slider._isRtl?1-n/r:n/r)*o)/o*(this._slider.max-this._slider.min)+this._slider.min,m=Math.round(h/s)*s;if(m===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=m,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(n)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#t=this.\u0275fac=function(n){return new(n||i)(U(fi),U(ai),U(Sn),U(HL))};static#e=this.\u0275dir=be({type:i,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(n,r){1&n&&fe("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&n&&Ni("aria-valuetext",r._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[vi([cxt,{provide:oK,useExisting:i}])]})}return i})(),hxt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Pn,_s,rb]})}return i})();function fxt(i,e){if(1&i){const t=Ai();O(0,"div",2)(1,"button",3),fe("click",function(){return Te(t),Ie(Mt().action())}),tt(2),L()()}if(2&i){const t=Mt();z(2),mi(" ",t.data.action," ")}}const mxt=["label"];function pxt(i,e){}const gxt=Math.pow(2,31)-1;class C7{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Nt,this._afterOpened=new Nt,this._onAction=new Nt,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,gxt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const E7=new xe("MatSnackBarData");class UL{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let _xt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),bxt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),vxt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275dir=be({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),yxt=(()=>{class i{constructor(t,n){this.snackBarRef=t,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#t=this.\u0275fac=function(n){return new(n||i)(U(C7),U(E7))};static#e=this.\u0275cmp=He({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){1&n&&(O(0,"div",0),tt(1),L(),It(2,fxt,3,1,"div",1)),2&n&&(z(1),mi(" ",r.data.message,"\n"),z(1),Y("ngIf",r.hasAction))},dependencies:[on,dl,_xt,bxt,vxt],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return i})();const xxt={snackBarState:Qc("state",[ka("void, hidden",Dr({transform:"scale(0.8)",opacity:0})),ka("visible",Dr({transform:"scale(1)",opacity:1})),Mo("* => visible",Eo("150ms cubic-bezier(0, 0, 0.2, 1)")),Mo("* => void, * => hidden",Eo("75ms cubic-bezier(0.4, 0.0, 1, 1)",Dr({opacity:0})))])};let wxt=0,Cxt=(()=>{class i extends PP{constructor(t,n,r,s,o){super(),this._ngZone=t,this._elementRef=n,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=wt(li),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Nt,this._onExit=new Nt,this._onEnter=new Nt,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+wxt++,this.attachDomPortal=l=>{this._assertNotAttached();const d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}onAnimationEnd(t){const{fromState:n,toState:r}=t;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ur(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(r=>t.classList.add(r)):t.classList.add(n)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const n=t.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#t=this.\u0275fac=function(n){return new(n||i)(U(fi),U(ai),U(Sn),U(Nr),U(UL))};static#e=this.\u0275dir=be({type:i,viewQuery:function(n,r){if(1&n&&Pi(Ux,7),2&n){let s;Ze(s=We())&&(r._portalOutlet=s.first)}},features:[Ue]})}return i})(),Ext=(()=>{class i extends Cxt{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,n="mdc-snackbar__label";t.classList.toggle(n,!t.querySelector(`.${n}`))}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(1&n&&Pi(mxt,7),2&n){let s;Ze(s=We())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,r){1&n&&df("@state.done",function(o){return r.onAnimationEnd(o)}),2&n&&M0("@state",r._animationState)},features:[Ue],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1,2)(3,"div",3),It(4,pxt,0,0,"ng-template",4),L(),te(5,"div"),L()()),2&n&&(z(5),Ni("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Ux],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[xxt.snackBarState]}})}return i})(),cK=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[hg,Gx,_s,dg,Pn,Pn]})}return i})();const dK=new xe("mat-snack-bar-default-options",{providedIn:"root",factory:function Mxt(){return new UL}});let Sxt=(()=>{class i{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,n,r,s,o,l){this._overlay=t,this._live=n,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:n},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){const s=jr.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:UL,useValue:n}]}),o=new ab(this.snackBarContainerComponent,n.viewContainerRef,s),l=t.attach(o);return l.instance.snackBarConfig=n,l.instance}_attach(t,n){const r={...new UL,...this._defaultConfig,...n},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),l=new C7(o,s);if(t instanceof ss){const d=new lb(t,null,{$implicit:r.data,snackBarRef:l});l.instance=o.attachTemplatePortal(d)}else{const d=this._createInjector(r,l),h=new ab(t,void 0,d),m=o.attachComponentPortal(h);l.instance=m.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(gn(s.detachments())).subscribe(d=>{s.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration))}_createOverlay(t){const n=new jx;n.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,l=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(t,n){return jr.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:C7,useValue:n},{provide:E7,useValue:t.data}]})}static#t=this.\u0275fac=function(n){return new(n||i)(V(Sa),V(Oz),V(jr),V(Mz),V(i,12),V(dK))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac})}return i})(),bb=(()=>{class i extends Sxt{constructor(t,n,r,s,o,l){super(t,n,r,s,o,l),this.simpleSnackBarComponent=yxt,this.snackBarContainerComponent=Ext,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#t=this.\u0275fac=function(n){return new(n||i)(V(Sa),V(Oz),V(jr),V(Mz),V(i,12),V(dK))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:cK})}return i})();class kxt{constructor(){this.expansionModel=new n2(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(n=>this._trackByValue(n)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(n=>this._trackByValue(n)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}class Dxt extends kxt{constructor(e,t,n){super(),this.getLevel=e,this.isExpandable=t,this.options=n,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const n=[];for(let r=this.dataNodes.indexOf(e)+1;r<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[r]);r++)n.push(this.dataNodes[r]);return n}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}const GL=new xe("CDK_TREE_NODE_OUTLET_NODE");let F2=(()=>{class i{constructor(t,n){this.viewContainer=t,this._node=n}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(GL,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkTreeNodeOutlet",""]]})}return i})();class Txt{constructor(e){this.$implicit=e}}let jL=(()=>{class i{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||i)(U(ss))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}})}return i})(),Zf=(()=>{class i{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,n){this._differs=t,this._changeDetectorRef=n,this._onDestroy=new Nt,this._levels=new Map,this.viewChange=new ti({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(n=>!n.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;BP(this._dataSource)?t=this._dataSource.connect(this):Jc(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=je(this._dataSource)),t&&(this._dataSubscription=t.pipe(gn(this._onDestroy)).subscribe(n=>this.renderNodeChanges(n)))}renderNodeChanges(t,n=this._dataDiffer,r=this._nodeOutlet.viewContainer,s){const o=n.diff(t);o&&(o.forEachOperation((l,d,h)=>{if(null==l.previousIndex)this.insertNode(t[h],h,r,s);else if(null==h)r.remove(d),this._levels.delete(l.item);else{const m=r.get(d);r.move(m,h)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,n){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(n,t))||this._defaultNodeDef}insertNode(t,n,r,s){const o=this._getNodeDef(t,n),l=new Txt(t);l.level=this.treeControl.getLevel?this.treeControl.getLevel(t):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(t,l.level),(r||this._nodeOutlet.viewContainer).createEmbeddedView(o.template,l,n),rh.mostRecentTreeNode&&(rh.mostRecentTreeNode.data=t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Rl),U(Sn))};static#e=this.\u0275cmp=He({type:i,selectors:[["cdk-tree"]],contentQueries:function(n,r,s){if(1&n&&En(s,jL,5),2&n){let o;Ze(o=We())&&(r._nodeDefs=o)}},viewQuery:function(n,r){if(1&n&&Pi(F2,7),2&n){let s;Ze(s=We())&&(r._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(n,r){1&n&&qo(0,0)},dependencies:[F2],encapsulation:2})}return i})(),rh=(()=>{class i{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}static#t=this.mostRecentTreeNode=null;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,n){this._elementRef=t,this._tree=n,this._destroyed=new Nt,this._dataChanges=new Nt,i.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function Ixt(i){let e=i.parentElement;for(;e&&!Axt(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?kr(e.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static#e=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Zf))};static#i=this.\u0275dir=be({type:i,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(n,r){2&n&&Ni("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]})}return i})();function Axt(i){const e=i.classList;return!(!e?.contains("cdk-nested-tree-node")&&!e?.contains("cdk-tree"))}const Oxt=/([A-Za-z%]+)$/;let S7=(()=>{class i{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}constructor(t,n,r,s){this._treeNode=t,this._tree=n,this._element=r,this._dir=s,this._destroyed=new Nt,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe(gn(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,n=null==this._level?t:this._level;return"number"==typeof n?`${n*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const n=this._paddingIndent();if(n!==this._currentPadding||t){const r=this._element.nativeElement,s=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",o="paddingLeft"===s?"paddingRight":"paddingLeft";r.style[s]=n||"",r.style[o]="",this._currentPadding=n}}_setLevelInput(t){this._level=kr(t,null),this._setPadding()}_setIndentInput(t){let n=t,r="px";if("string"==typeof t){const s=t.split(Oxt);n=s[0],r=s[1]||r}this.indentUnits=r,this._indent=kr(n),this._setPadding()}static#t=this.\u0275fac=function(n){return new(n||i)(U(rh),U(Zf),U(ai),U(Bl,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}})}return i})(),k7=(()=>{class i{get recursive(){return this._recursive}set recursive(t){this._recursive=Li(t)}constructor(t,n){this._tree=t,this._treeNode=n,this._recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zf),U(rh))};static#e=this.\u0275dir=be({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(n,r){1&n&&fe("click",function(o){return r._toggle(o)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}})}return i})(),Rxt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({})}return i})();const Pxt=YS(ag(rh));let uK=(()=>{class i extends Pxt{constructor(t,n,r){super(t,n),this.tabIndex=Number(r)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(n){return new(n||i)(U(ai),U(Zf),Cl("tabindex"))};static#e=this.\u0275dir=be({type:i,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[vi([{provide:rh,useExisting:i}]),Ue]})}return i})(),hK=(()=>{class i extends jL{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[vi([{provide:jL,useExisting:i}]),Ue]})}return i})(),fK=(()=>{class i extends S7{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[vi([{provide:S7,useExisting:i}]),Ue]})}return i})(),D7=(()=>{class i{constructor(t,n){this.viewContainer=t,this._node=n}static#t=this.\u0275fac=function(n){return new(n||i)(U(Zr),U(GL,8))};static#e=this.\u0275dir=be({type:i,selectors:[["","matTreeNodeOutlet",""]],features:[vi([{provide:F2,useExisting:i}])]})}return i})(),mK=(()=>{class i extends Zf{constructor(){super(...arguments),this._nodeOutlet=void 0}static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275cmp=He({type:i,selectors:[["mat-tree"]],viewQuery:function(n,r){if(1&n&&Pi(D7,7),2&n){let s;Ze(s=We())&&(r._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[vi([{provide:Zf,useExisting:i}]),Ue],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(n,r){1&n&&qo(0,0)},dependencies:[D7],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return i})(),pK=(()=>{class i extends k7{static#t=this.\u0275fac=function(){let t;return function(r){return(t||(t=qi(i)))(r||i)}}();static#e=this.\u0275dir=be({type:i,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[vi([{provide:k7,useExisting:i}]),Ue]})}return i})(),Fxt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[Rxt,Pn,Pn]})}return i})();class Nxt{constructor(e,t,n,r){this.transformFunction=e,this.getLevel=t,this.isExpandable=n,this.getChildren=r}_flattenNode(e,t,n,r){const s=this.transformFunction(e,t);if(n.push(s),this.isExpandable(s)){const o=this.getChildren(e);o&&(Array.isArray(o)?this._flattenChildren(o,t,n,r):o.pipe(ur(1)).subscribe(l=>{this._flattenChildren(l,t,n,r)}))}return n}_flattenChildren(e,t,n,r){e.forEach((s,o)=>{let l=r.slice();l.push(o!=e.length-1),this._flattenNode(s,t+1,n,l)})}flattenNodes(e){let t=[];return e.forEach(n=>this._flattenNode(n,0,t,[])),t}expandFlattenedNodes(e,t){let n=[],r=[];return r[0]=!0,e.forEach(s=>{let o=!0;for(let l=0;l<=this.getLevel(s);l++)o=o&&r[l];o&&n.push(s),this.isExpandable(s)&&(r[this.getLevel(s)+1]=t.isExpanded(s))}),n}}class Bxt extends sZ{get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(e,t,n){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new ti([]),this._expandedData=new ti([]),this._data=new ti([]),n&&(this.data=n)}connect(e){return yi(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(Ae(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}let zxt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[O2],imports:[_s,LW,wyt,dg,CY,VL,ob,qyt,s2,Fxt,cK,zP,Hyt,hg,FW,O2,RL,MZ,hxt,ow]})}return i})(),Vxt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({imports:[_s,Oj,VL,dg,ob]})}return i})(),Hxt=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-page-not-found"]],decls:2,vars:0,template:function(n,r){1&n&&(O(0,"h3"),tt(1," Page not found :(\n"),L())}})}return i})(),T7=(()=>{class i{constructor(t,n){this.data=t,this.dialogRef=n,this.chartType="LineChart"}ngOnInit(){this.data.chartType&&(this.chartType=this.data.chartType)}close(){this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||i)(U(Yf),U(xg))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-chart-modal"]],decls:5,vars:7,consts:[[1,"wrapper"],["mat-icon-button","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button",3,"click"],[3,"data","type","title","columns","width","height","options"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"button",1),fe("click",function(){return r.close()}),O(2,"mat-icon"),tt(3,"close"),L()(),te(4,"google-chart",2),L()),2&n&&(z(4),Y("data",r.data.data)("type",r.chartType)("title",r.data.title)("columns",r.data.columns)("width",r.data.width)("height",r.data.height)("options",r.data.options))},dependencies:[kS,cg,Ma],styles:["[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px}[_nghost-%COMP%]   .popup-close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}"]})}return i})();var Wxt=Et(70);const gK="#5500ff,#4a00ff,#3f00ff,#3400ff,#2900ff,#1e00ff,#1300ff,#0800ff,#0002ff,#000dff,#0018ff,#0023ff,#002eff,#0039ff,#0044ff,#0050ff,#005bff,#0066ff,#0071ff,#007cff,#0087ff,#0092ff,#009dff,#00a8ff,#00b3ff,#00beff,#00c9ff,#00d4ff,#00dfff,#00eaff,#00f5ff,#00fffd,#00fff1,#00ffe6,#00ffdb,#00ffd0,#00ffc5,#00ffba,#00ffaf,#00ffa4,#00ff99,#00ff8e,#00ff83,#00ff78,#00ff6d,#00ff62,#00ff57,#00ff4c,#00ff41,#00ff35,#00ff2a,#00ff1f,#00ff14,#00ff09,#01ff00,#0cff00,#17ff00,#22ff00,#2dff00,#38ff00,#43ff00,#4eff00,#59ff00,#64ff00,#6fff00,#7aff00,#86ff00,#91ff00,#9cff00,#a7ff00,#b2ff00,#bdff00,#c8ff00,#d3ff00,#deff00,#e9ff00,#f4ff00,#fffe00,#fff300,#ffe800,#ffdd00,#ffd200,#ffc700,#ffbb00,#ffb000,#ffa500,#ff9a00,#ff8f00,#ff8400,#ff7900,#ff6e00,#ff6300,#ff5800,#ff4d00,#ff4200,#ff3700,#ff2c00,#ff2100,#ff1600,#ff0b00,#ff0000".split(","),$xt=["#40e0d0","#49e0cf","#51e0cf","#58e0ce","#5fe0cd","#65e0cd","#6be0cc","#70e0cb","#75e0ca","#7ae0ca","#7fe0c9","#83e0c8","#88e0c8","#8ce0c7","#90e0c6","#94e1c6","#98e1c5","#9ce1c4","#a0e0c3","#a3e0c3","#a7e0c2","#abe0c1","#aee0c1","#b2e0c0","#b5e0bf","#b8e0be","#bbe0be","#bfe0bd","#c2e0bc","#c5e0bc","#c8e0bb","#cbe0ba","#cee0ba","#d1e0b9","#d4e0b8","#d7e0b7","#dae0b7","#dde0b6","#e0dfb5","#e3dfb5","#e5dfb4","#e8dfb3","#ebdfb2","#eedfb2","#f0dfb1","#f3dfb0","#f6dfb0","#f8deaf","#fbdeae","#fedead","#fedcac","#fdd9a9","#fbd5a6","#fad2a3","#f8cea0","#f7ca9d","#f5c79a","#f3c397","#f2c094","#f0bc92","#efb98f","#edb58c","#ebb289","#eaae86","#e8ab84","#e6a781","#e5a47e","#e3a07b","#e19d79","#df9976","#de9673","#dc9270","#da8f6e","#d88b6b","#d78868","#d58466","#d38163","#d17d60","#cf7a5e","#cd765b","#cb7359","#c96f56","#c86c53","#c66851","#c4654e","#c2614c","#c05d49","#be5a47","#bc5644","#ba5242","#b84f3f","#b64b3d","#b4473a","#b24338","#b03f36","#ad3b33","#ab3731","#a9332f","#a72f2c","#a52a2a"],_K=["rgba(13, 13, 250, 0.5)","rgba(13, 71, 161, 0.5)","rgba(25, 118, 210, 0.5)","rgba(100, 181, 246, 0.5)","rgba(187, 222, 251, 0.5)","rgba(255, 249, 196, 0.5)","rgba(255, 241, 118, 0.5)","rgba(255, 214, 0, 0.5)","rgba(255, 138, 128, 0.5)","rgba(244, 67, 54, 0.5)","rgba(183, 28, 28, 0.5)","rgba(255, 0, 0, 0.5)"],Yxt=_K.slice().reverse(),bK=(["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"].reverse(),["#c394f3","#b174f0","#9f54ed","#8d33e9","#7b17e2","#6914c2","#5810a1","#460d81","#340a61","#230640"]),Hd={points:{colors:bK.slice(0,8),text:i=>{if(i>8)return;const e=Math.floor(Math.exp(i)),t=Math.floor(Math.exp(i+1))-1,n=t.toString();return 7===i?`${e}+`:e===t?`${e}`:`${e} - ${n}`}},range:{seasonality:["rgba(226, 91, 91, 0.6)","rgba(153, 204, 0, 0.6)","rgba(255, 204, 0, 0.6)","rgba(0, 107, 180, 0.6)","rgba(227, 156, 91, 0.6)","rgba(226, 91, 91, 0.6)"],labels:["","Resident","Breeding","Non-breeding","Passage",""]},localinv:{color:"rgba(106, 0, 133, 0.6)"},regionalchecklist:{color:"rgba(61, 153, 112, 0.5)"},griddedrangeatlas:{color:"rgba(255, 102, 0, 0.6)"},alienchecklist:{color:"rgba(255, 208, 215, 0.7)"}},Xxt=["#C0BEFE","#87A1FE","#57C7FF","#50FFDA","#AAFF7D","#EAFF2D","#FEBE0A","#FD6107","#FB0006"],Qxt=["#1C4877","#27528B","#365FA2","#466BB6","#5675C3","#6B82CE","#8695D8","#9FA7E0"].reverse();var aw=[0,.05,.1,.3,.5,1],vK=1/(aw.length-1),twt=aw.map((i,e)=>{if(1!==i){var t=[aw[e],aw[e+1]],n=[e*vK,(e+1)*vK];return r=>(n[0]*(t[1]-r)+n[1]*(r-t[0]))/(t[1]-t[0])}});function rwt(i,e){if(1&i&&(O(0,"div",5)(1,"h2",6),tt(2," Please "),O(3,"a",7),tt(4,"log in"),L(),tt(5," to download datasets. "),L()()),2&i){const t=Mt();z(3),Y("href","https://auth.mol.org/login?next="+t.url,rr)}}const swt=function(i){return{notDownloadable:i}};function owt(i,e){if(1&i){const t=Ai();O(0,"tr",12)(1,"td"),tt(2),L(),O(3,"td")(4,"a",13),tt(5),L()(),O(6,"td"),tt(7),L(),O(8,"td")(9,"button",14),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).addDataset(s))}),tt(10),L()()()}if(2&i){const t=e.$implicit,n=Mt(2);Yn($r(10,swt,!t.downloadable)),Y("hidden",!t.downloadable),z(2),Mi(t.type_title),z(2),Y("href","https://mol.org/datasets/"+t.dataset_id,rr),z(1),Mi(t.dataset_title),z(2),Mi(t.no_rows),z(2),Y("disabled",!t.downloadable)("color",n.downloadList.indexOf(t.dataset_id)>-1?"warn":"accent"),z(1),mi(" ",t.downloadable?n.downloadList.indexOf(t.dataset_id)>-1?"Remove":"Add":"Not Available"," ")}}function awt(i,e){1&i&&(O(0,"div",15),tt(1," No Private datasets available. "),L())}function lwt(i,e){if(1&i&&(O(0,"div",5)(1,"div",8)(2,"small"),tt(3,"Datasets available for download are based on licensing agreements. "),L()(),O(4,"h2",9),tt(5,"Public Datasets"),L(),O(6,"table")(7,"thead")(8,"tr")(9,"th"),tt(10,"Type"),L(),O(11,"th"),tt(12,"Title"),L(),O(13,"th"),tt(14,"Features"),L(),te(15,"th"),L()(),O(16,"tbody"),It(17,owt,11,12,"tr",10),L()(),O(18,"h2",9),tt(19,"Private Datasets"),L(),It(20,awt,2,0,"div",11),O(21,"div"),tt(22),L()()),2&i){const t=Mt();z(17),Y("ngForOf",t.datasets),z(3),Y("ngIf",0===t.privateDatasets.length),z(2),Ko(" ",t.downloadList.length," dataset",1!==t.downloadList.length?"s":""," selected for download. ")}}function cwt(i,e){if(1&i){const t=Ai();O(0,"button",16),fe("click",function(){return Te(t),Ie(Mt().doDownload())}),tt(1," Download "),L()}if(2&i){const t=Mt();Y("disabled",0===t.downloadList.length&&!t.active)}}let dwt=(()=>{class i{constructor(t,n,r,s,o){this.data=t,this.speciesService=n,this.auth=r,this.snackbar=s,this.dialogRef=o,this.datasets=[],this.privateDatasets=[],this.downloadList=[],this.loggedIn=!1,this.url="",this.active=!1}ngOnInit(){this.url=document.URL,this.speciesService.getDatasets(this.data.scientificname).subscribe(t=>{this.datasets=t.sort((n,r)=>{const s=n.product_type.localeCompare(r.product_type);return 0!==s?-s:-((n.downloadable?1:-1)-(r.downloadable?1:-1))})}),this.auth.loggedIn.subscribe(t=>{this.loggedIn=t})}addDataset(t){t.added?(t.added=!1,this.downloadList.splice(this.downloadList.findIndex(n=>n===t.dataset_id),1)):(t.added=!0,this.downloadList.push(t.dataset_id))}doDownload(){this.active=!0,this.speciesService.download(this.data.scientificname,this.downloadList).subscribe(t=>{const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=`${this.data.scientificname.replace(" ","_")}.zip`,n.click(),URL.revokeObjectURL(r),this.dialogRef.close()},t=>{this.snackbar.open("Error Downloading Dataset.","Close",{duration:1e4}),console.error(t),this.dialogRef.close()})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Yf),U(ul),U(_b),U(bb),U(xg))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-download-modal"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close",""],["class","download-btn","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-dialog-content",""],[1,"auth-guard","mhead"],[3,"href"],[1,"disclaimer"],[1,"mhead"],[3,"class","hidden",4,"ngFor","ngForOf"],["class","no-found",4,"ngIf"],[3,"hidden"],["target","_blank",3,"href"],["mat-flat-button","",3,"disabled","color","click"],[1,"no-found"],["mat-raised-button","","color","primary",1,"download-btn",3,"disabled","click"]],template:function(n,r){1&n&&(O(0,"h1",0),tt(1," Available datasets for "),O(2,"i"),tt(3),L()(),It(4,rwt,6,1,"div",1),It(5,lwt,23,4,"div",1),O(6,"mat-dialog-actions",2)(7,"button",3),tt(8,"Close"),L(),It(9,cwt,2,1,"button",4),L()),2&n&&(z(3),Mi(r.data.scientificname),z(1),Y("ngIf",!r.loggedIn),z(1),Y("ngIf",r.loggedIn),z(4),Y("ngIf",r.loggedIn))},dependencies:[Ps,on,dl,zL,VX,P2,HX],styles:[".download-btn[_ngcontent-%COMP%]{color:#fff}table[_ngcontent-%COMP%]{width:95%;max-width:1000px;margin:10px auto;padding:0 0 10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;min-width:100px;font-size:16px;font-weight:700}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;width:130px}table[_ngcontent-%COMP%]   th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000;text-decoration:underline;background-color:#fff}td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{color:#000;background-color:#fff}.mhead[_ngcontent-%COMP%]{padding:0;margin:0}.no-found[_ngcontent-%COMP%]{margin:20px}.mat-dialog-title[_ngcontent-%COMP%]{padding:0;margin:0}.disclaimer[_ngcontent-%COMP%]{padding-bottom:15px}.auth-guard[_ngcontent-%COMP%]{padding-top:40px}"]})}return i})();function uwt(i,e){1&i&&(O(0,"a",5),tt(1,"View dataset details"),L()),2&i&&Y("href","https://mol.org/datasets/"+Mt(2).data.dataset_id,rr)}function hwt(i,e){if(1&i&&(O(0,"h2",3),tt(1),It(2,uwt,2,1,"a",4),L()),2&i){const t=Mt();z(1),mi(" ",t.data.heading," "),z(1),Y("ngIf",t.data.dataset_id)}}function fwt(i,e){if(1&i&&(O(0,"td",10)(1,"a",11)(2,"strong"),tt(3),L()()()),2&i){const t=Mt().$implicit;z(1),Y("href",t.value,rr),z(2),Mi(t.value)}}function mwt(i,e){if(1&i&&(O(0,"td",10),tt(1),L()),2&i){const t=Mt().$implicit;z(1),Mi(t.value)}}function pwt(i,e){if(1&i&&(O(0,"tr")(1,"td",8)(2,"strong"),tt(3),L()(),It(4,fwt,4,2,"td",9),It(5,mwt,2,1,"td",9),L()),2&i){const t=e.$implicit;z(3),Mi(t.label),z(1),Y("ngIf","url"===t.type),z(1),Y("ngIf","url"!==t.type)}}function gwt(i,e){if(1&i&&(O(0,"div",6),It(1,pwt,6,3,"tr",7),L()),2&i){const t=e.$implicit;z(1),Y("ngForOf",t.children)}}let yK=(()=>{class i{constructor(t){this.data=t}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)(U(Yf))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-info-modal"]],decls:7,vars:2,consts:[["mat-icon-button","","mat-dialog-close","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button"],["class","info-title","mat-dialog-title","",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],["mat-dialog-title","",1,"info-title"],["class","dataset-link","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"dataset-link",3,"href"],[1,"section"],[4,"ngFor","ngForOf"],[1,"key"],["class","value",4,"ngIf"],[1,"value"],["target","_blank",3,"href"]],template:function(n,r){1&n&&(O(0,"button",0)(1,"mat-icon"),tt(2,"close"),L()(),It(3,hwt,3,2,"h2",1),O(4,"mat-dialog-content")(5,"table"),It(6,gwt,2,1,"div",2),L()()),2&n&&(z(3),Y("ngIf",r.data.heading),z(3),Y("ngForOf",r.data.info))},dependencies:[Ps,on,cg,zL,VX,P2,Ma,zl],styles:["table[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px 15px;font-size:small}table[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{width:200px;min-width:190px;padding:5px 0;text-overflow:ellipsis}table[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-wrap:break-word;max-width:550px}.section[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.info-title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-title[_ngcontent-%COMP%]   .dataset-link[_ngcontent-%COMP%]{font-size:14px;width:150px;text-decoration:underline}.info-title[_ngcontent-%COMP%]   .dataset-link[_ngcontent-%COMP%]:hover{background-color:unset;color:#203378}@media screen and (max-device-width: 480px){tr[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}}"]})}return i})();var gi=Et(939);const wg={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},I7=class bwt{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||wg[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},N2=6378137,lw=Math.PI*N2,vwt=[-lw,-lw,lw,lw],ywt=[-180,-85,180,85],WL=N2*Math.log(Math.tan(Math.PI/2));class cw extends I7{constructor(e){super({code:e,units:"m",extent:vwt,global:!0,worldExtent:ywt,getPointResolution:function(t,n){return t/Math.cosh(n[1]/N2)}})}}const xK=[new cw("EPSG:3857"),new cw("EPSG:102100"),new cw("EPSG:102113"),new cw("EPSG:900913"),new cw("http://www.opengis.net/def/crs/EPSG/0/3857"),new cw("http://www.opengis.net/gml/srs/epsg.xml#3857")];function xwt(i,e,t){const n=i.length;t=t>1?t:2,void 0===e&&(e=t>2?i.slice():new Array(n));for(let r=0;r<n;r+=t){e[r]=lw*i[r]/180;let s=N2*Math.log(Math.tan(Math.PI*(+i[r+1]+90)/360));s>WL?s=WL:s<-WL&&(s=-WL),e[r+1]=s}return e}function wwt(i,e,t){const n=i.length;t=t>1?t:2,void 0===e&&(e=t>2?i.slice():new Array(n));for(let r=0;r<n;r+=t)e[r]=180*i[r]/lw,e[r+1]=360*Math.atan(Math.exp(i[r+1]/N2))/Math.PI-90;return e}const wK=[-180,-90,180,90],Ewt=6378137*Math.PI/180;class vb extends I7{constructor(e,t){super({code:e,units:"degrees",extent:wK,axisOrientation:t,global:!0,metersPerUnit:Ewt,worldExtent:wK})}}const CK=[new vb("CRS:84"),new vb("EPSG:4326","neu"),new vb("urn:ogc:def:crs:OGC:1.3:CRS84"),new vb("urn:ogc:def:crs:OGC:2:84"),new vb("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new vb("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new vb("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let $L={},Ud={};function YL(i,e,t){const n=i.getCode(),r=e.getCode();n in Ud||(Ud[n]={}),Ud[n][r]=t}var me=Et(654),Fi=Et(469);function ZL(i,e){let t=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=e[n]){t=!1;break}return t}function A7(i,e){const t=Math.cos(e),n=Math.sin(e),s=i[1]*t+i[0]*n;return i[0]=i[0]*t-i[1]*n,i[1]=s,i}function O7(i,e){const t=i[0]-e[0],n=i[1]-e[1];return t*t+n*n}function MK(i,e){return Math.sqrt(O7(i,e))}function R7(i,e){if(e.canWrapX()){const t=(0,me.dz)(e.getExtent()),n=function Rwt(i,e,t){const n=e.getExtent();let r=0;return e.canWrapX()&&(i[0]<n[0]||i[0]>n[2])&&(t=t||(0,me.dz)(n),r=Math.floor((i[0]-n[0])/t)),r}(i,e,t);n&&(i[0]-=n*t)}return i}const qL=6371008.8;function P7(i,e,t){t=t||qL;const n=(0,Fi.Yr)(i[1]),r=(0,Fi.Yr)(e[1]),s=(r-n)/2,o=(0,Fi.Yr)(e[0]-i[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(n)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}const B2={info:1,warn:2,error:3,none:4};let KL=B2.info;function SK(...i){KL>B2.warn||console.warn(...i)}let F7=!0;function kK(i){F7=!(void 0===i||i)}function N7(i,e){if(void 0!==e)for(let t=0,n=i.length;t<n;++t)e[t]=i[t];else e=i.slice();return e}function DK(i,e){if(void 0!==e&&i!==e){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];i=e}return i}function Fwt(i){(function Swt(i,e){$L[i]=e})(i.getCode(),i),YL(i,i,N7)}function Tr(i){return"string"==typeof i?function Mwt(i){return $L[i]||$L[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(i):i||null}function QL(i,e,t,n){let r;const s=(i=Tr(i)).getPointResolutionFunc();if(s){if(r=s(e,t),n&&n!==i.getUnits()){const o=i.getMetersPerUnit();o&&(r=r*o/wg[n])}}else{const o=i.getUnits();if("degrees"==o&&!n||"degrees"==n)r=e;else{const l=z2(i,Tr("EPSG:4326"));if(l===DK&&"degrees"!==o)r=e*i.getMetersPerUnit();else{let h=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];h=l(h,h,2),r=(P7(h.slice(0,2),h.slice(2,4))+P7(h.slice(4,6),h.slice(6,8)))/2}const d=n?wg[n]:i.getMetersPerUnit();void 0!==d&&(r/=d)}}return r}function TK(i){(function Nwt(i){i.forEach(Fwt)})(i),i.forEach(function(e){i.forEach(function(t){e!==t&&YL(e,t,N7)})})}function B7(i,e){return i?"string"==typeof i?Tr(i):i:Tr(e)}function z7(i,e){return kK(),xb(i,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function yb(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||z2(i,e)===N7)&&t}function z2(i,e){let r=function kwt(i,e){let t;return i in Ud&&e in Ud[i]&&(t=Ud[i][e]),t}(i.getCode(),e.getCode());return r||(r=DK),r}function V2(i,e){return z2(Tr(i),Tr(e))}function xb(i,e,t){return V2(e,t)(i,void 0,i.length)}function JL(i,e,t,n){const r=V2(e,t);return(0,me.Ne)(i,r,void 0,n)}let hl=null;function V7(){return hl}function H7(i,e){return i}function Gd(i,e){return F7&&!ZL(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(F7=!1,SK("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function U7(i,e){return i}function wb(i,e){return i}function Hwt(i,e){return i}!function Uwt(){TK(xK),TK(CK),function Bwt(i,e,t,n){i.forEach(function(r){e.forEach(function(s){YL(r,s,t),YL(s,r,n)})})}(CK,xK,xwt,wwt)}();const AK=class Gwt{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?Tr(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=Tr(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return(0,gi.O3)()}readFeature(e,t){return(0,gi.O3)()}readFeatures(e,t){return(0,gi.O3)()}readGeometry(e,t){return(0,gi.O3)()}readProjection(e){return(0,gi.O3)()}writeFeature(e,t){return(0,gi.O3)()}writeFeatures(e,t){return(0,gi.O3)()}writeGeometry(e,t){return(0,gi.O3)()}};function G7(i,e,t){const n=t?Tr(t.featureProjection):null,r=t?Tr(t.dataProjection):null;let s;if(s=n&&r&&!yb(n,r)?(e?i.clone():i).transform(e?n:r,e?r:n):i,e&&t&&void 0!==t.decimals){const o=Math.pow(10,t.decimals),l=function(d){for(let h=0,m=d.length;h<m;++h)d[h]=Math.round(d[h]*o)/o;return d};s===i&&(s=i.clone()),s.applyTransform(l)}return s}var Cg=Et(221),nd=Et(365),vr=Et(780);const j7=new Array(6);function OK(i){return H2(i,1,0,0,1,0,0)}function t3(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],o=i[4],l=i[5],d=e[0],h=e[1],m=e[2],b=e[3],v=e[4],E=e[5];return i[0]=t*d+r*h,i[1]=n*d+s*h,i[2]=t*m+r*b,i[3]=n*m+s*b,i[4]=t*v+r*E+o,i[5]=n*v+s*E+l,i}function H2(i,e,t,n,r,s,o){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i[4]=s,i[5]=o,i}function So(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function W7(i,e,t){return t3(i,H2(j7,e,0,0,t,0,0))}function sh(i,e,t,n,r,s,o,l){const d=Math.sin(s),h=Math.cos(s);return i[0]=n*h,i[1]=r*d,i[2]=-n*d,i[3]=r*h,i[4]=o*n*h-l*n*d+e,i[5]=o*r*d+l*r*h+t,i}function e3(i,e){const t=function Ywt(i){return i[0]*i[3]-i[1]*i[2]}(e);(0,vr.h)(0!==t,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],s=e[2],o=e[3],l=e[4],d=e[5];return i[0]=o/t,i[1]=-r/t,i[2]=-s/t,i[3]=n/t,i[4]=(s*d-o*l)/t,i[5]=-(n*d-r*l)/t,i}let RK;function $7(i){const e="matrix("+i.join(", ")+")";if(nd.Id)return e;const t=RK||(RK=document.createElement("div"));return t.style.transform=e,t.style.transform}var ja=Et(589);function Eg(i,e,t,n,r,s){s=s||[];let o=0;for(let l=e;l<t;l+=n){const d=i[l],h=i[l+1];s[o++]=r[0]*d+r[2]*h+r[4],s[o++]=r[1]*d+r[3]*h+r[5]}return s&&s.length!=o&&(s.length=o),s}function Y7(i,e,t,n,r,s,o){o=o||[];const l=Math.cos(r),d=Math.sin(r),h=s[0],m=s[1];let b=0;for(let v=e;v<t;v+=n){const E=i[v]-h,D=i[v+1]-m;o[b++]=h+E*l-D*d,o[b++]=m+E*d+D*l;for(let T=v+2;T<v+n;++T)o[b++]=i[T]}return o&&o.length!=b&&(o.length=b),o}const PK=[1,0,0,1,0,0],LK=class Xwt extends Cg.Z{constructor(){super(),this.extent_=(0,me.lJ)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,ja.qe)(function(e,t,n){if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return(0,gi.O3)()}closestPointXY(e,t,n,r){return(0,gi.O3)()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return this.closestPointXY(e[0],e[1],t=t||[NaN,NaN],1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return(0,gi.O3)()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,me.YN)(t),this.extentRevision_=this.getRevision()}return(0,me.EO)(this.extent_,e)}rotate(e,t){(0,gi.O3)()}scale(e,t,n){(0,gi.O3)()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return(0,gi.O3)()}getType(){return(0,gi.O3)()}applyTransform(e){(0,gi.O3)()}intersectsExtent(e){return(0,gi.O3)()}translate(e,t){(0,gi.O3)()}transform(e,t){const n=Tr(e),r="tile-pixels"==n.getUnits()?function(s,o,l){const d=n.getExtent(),h=n.getWorldExtent(),m=(0,me.Cr)(h)/(0,me.Cr)(d);return sh(PK,h[0],h[3],m,-m,0,0,0),Eg(s,0,s.length,l,PK,o),V2(n,t)(s,o,l)}:V2(n,t);return this.applyTransform(r),this}};function n3(i){let e;return"XY"==i?e=2:"XYZ"==i||"XYM"==i?e=3:"XYZM"==i&&(e=4),e}const Mg=class Kwt extends LK{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return(0,me.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return(0,gi.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=n3(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){(0,gi.O3)()}setLayout(e,t,n){let r;if(e)r=n3(e);else{for(let s=0;s<n;++s){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}r=t.length,e=function Qwt(i){let e;return 2==i?e="XY":3==i?e="XYZ":4==i&&(e="XYZM"),e}(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();Y7(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){void 0===t&&(t=e),n||(n=(0,me.qg)(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();(function Zwt(i,e,t,n,r,s,o,l){l=l||[];const d=o[0],h=o[1];let m=0;for(let b=e;b<t;b+=n){const E=i[b+1]-h;l[m++]=d+r*(i[b]-d),l[m++]=h+s*E;for(let D=b+2;D<b+n;++D)l[m++]=i[D]}l&&l.length!=m&&(l.length=m)})(r,0,r.length,s,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();(function qwt(i,e,t,n,r,s,o){o=o||[];let l=0;for(let d=e;d<t;d+=n){o[l++]=i[d]+r,o[l++]=i[d+1]+s;for(let h=d+2;h<d+n;++h)o[l++]=i[h]}o&&o.length!=l&&(o.length=l)})(n,0,n.length,r,e,t,n),this.changed()}}};function FK(i,e,t,n,r,s,o){const l=i[e],d=i[e+1],h=i[t]-l,m=i[t+1]-d;let b;if(0===h&&0===m)b=e;else{const v=((r-l)*h+(s-d)*m)/(h*h+m*m);if(v>1)b=t;else{if(v>0){for(let E=0;E<n;++E)o[E]=(0,Fi.t7)(i[e+E],i[t+E],v);return void(o.length=n)}b=e}}for(let v=0;v<n;++v)o[v]=i[b+v];o.length=n}function Z7(i,e,t,n,r){let s=i[e],o=i[e+1];for(e+=n;e<t;e+=n){const l=i[e],d=i[e+1],h=(0,Fi.bI)(s,o,l,d);h>r&&(r=h),s=l,o=d}return r}function q7(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s){const l=t[s];r=Z7(i,e,l,n,r),e=l}return r}function X7(i,e,t,n,r,s,o,l,d,h,m){if(e==t)return h;let b,v;if(0===r){if(v=(0,Fi.bI)(o,l,i[e],i[e+1]),v<h){for(b=0;b<n;++b)d[b]=i[e+b];return d.length=n,v}return h}m=m||[NaN,NaN];let E=e+n;for(;E<t;)if(FK(i,E-n,E,n,o,l,m),v=(0,Fi.bI)(o,l,m[0],m[1]),v<h){for(h=v,b=0;b<n;++b)d[b]=m[b];d.length=n,E+=n}else E+=n*Math.max((Math.sqrt(v)-Math.sqrt(h))/r|0,1);if(s&&(FK(i,t-n,e,n,o,l,m),v=(0,Fi.bI)(o,l,m[0],m[1]),v<h)){for(h=v,b=0;b<n;++b)d[b]=m[b];d.length=n}return h}function K7(i,e,t,n,r,s,o,l,d,h,m){m=m||[NaN,NaN];for(let b=0,v=t.length;b<v;++b){const E=t[b];h=X7(i,e,E,n,r,s,o,l,d,h,m),e=E}return h}function NK(i,e,t,n){for(let r=0,s=t.length;r<s;++r)i[e++]=t[r];return e}function r3(i,e,t,n){for(let r=0,s=t.length;r<s;++r){const o=t[r];for(let l=0;l<n;++l)i[e++]=o[l]}return e}function Q7(i,e,t,n,r){r=r||[];let s=0;for(let o=0,l=t.length;o<l;++o){const d=r3(i,e,t[o],n);r[s++]=d,e=d}return r.length=s,r}function s3(i,e,t,n,r,s,o){const l=(t-e)/n;if(l<3){for(;e<t;e+=n)s[o++]=i[e],s[o++]=i[e+1];return o}const d=new Array(l);d[0]=1,d[l-1]=1;const h=[e,t-n];let m=0;for(;h.length>0;){const b=h.pop(),v=h.pop();let E=0;const D=i[v],T=i[v+1],P=i[b],F=i[b+1];for(let H=v+n;H<b;H+=n){const Tt=(0,Fi.rU)(i[H],i[H+1],D,T,P,F);Tt>E&&(m=H,E=Tt)}E>r&&(d[(m-e)/n]=1,v+n<m&&h.push(v,m),m+n<b&&h.push(m,b))}for(let b=0;b<l;++b)d[b]&&(s[o++]=i[e+b*n],s[o++]=i[e+b*n+1]);return o}function Cb(i,e){return e*Math.round(i/e)}function r1t(i,e,t,n,r,s,o){if(e==t)return o;let h,m,l=Cb(i[e],r),d=Cb(i[e+1],r);e+=n,s[o++]=l,s[o++]=d;do{if(h=Cb(i[e],r),m=Cb(i[e+1],r),(e+=n)==t)return s[o++]=h,s[o++]=m,o}while(h==l&&m==d);for(;e<t;){const b=Cb(i[e],r),v=Cb(i[e+1],r);if(e+=n,b==h&&v==m)continue;const E=h-l,D=m-d,T=b-l,P=v-d;E*P==D*T&&(E<0&&T<E||E==T||E>0&&T>E)&&(D<0&&P<D||D==P||D>0&&P>D)?(h=b,m=v):(s[o++]=h,s[o++]=m,l=h,d=m,h=b,m=v)}return s[o++]=h,s[o++]=m,o}function zK(i,e,t,n,r,s,o,l){for(let d=0,h=t.length;d<h;++d){const m=t[d];o=r1t(i,e,m,n,r,s,o),l.push(o),e=m}return o}var zr=Et(555);function VK(i,e,t,n,r){let s;for(e+=n;e<t;e+=n)if(s=r(i.slice(e-n,e),i.slice(e,e+n)),s)return s;return!1}function Sg(i,e,t,n,r){r=void 0!==r?r:[];let s=0;for(let o=e;o<t;o+=n)r[s++]=i.slice(o,o+n);return r.length=s,r}function U2(i,e,t,n,r){r=void 0!==r?r:[];let s=0;for(let o=0,l=t.length;o<l;++o){const d=t[o];r[s++]=Sg(i,e,d,n,r[s]),e=d}return r.length=s,r}function J7(i,e,t,n,r){r=void 0!==r?r:[];let s=0;for(let o=0,l=t.length;o<l;++o){const d=t[o];r[s++]=1===d.length&&d[0]===e?[]:U2(i,e,d,n,r[s]),e=d[d.length-1]}return r.length=s,r}function o3(i,e,t,n,r,s,o){let l,d;const h=(t-e)/n;if(1===h)l=e;else if(2===h)l=e,d=r;else if(0!==h){let m=i[e],b=i[e+1],v=0;const E=[0];for(let P=e+n;P<t;P+=n){const F=i[P],H=i[P+1];v+=Math.sqrt((F-m)*(F-m)+(H-b)*(H-b)),E.push(v),m=F,b=H}const D=r*v,T=(0,zr.ry)(E,D);T<0?(d=(D-E[-T-2])/(E[-T-1]-E[-T-2]),l=e+(-T-2)*n):l=e+T*n}o=o>1?o:2,s=s||new Array(o);for(let m=0;m<o;++m)s[m]=void 0===l?NaN:void 0===d?i[l+m]:(0,Fi.t7)(i[l+m],i[l+n+m],d);return s}function t9(i,e,t,n,r,s){if(t==e)return null;let o;if(r<i[e+n-1])return s?(o=i.slice(e,e+n),o[n-1]=r,o):null;if(i[t-1]<r)return s?(o=i.slice(t-n,t),o[n-1]=r,o):null;if(r==i[e+n-1])return i.slice(e,e+n);let l=e/n,d=t/n;for(;l<d;){const v=l+d>>1;r<i[(v+1)*n-1]?d=v:l=v+1}const h=i[l*n-1];if(r==h)return i.slice((l-1)*n,(l-1)*n+n);const b=(r-h)/(i[(l+1)*n-1]-h);o=[];for(let v=0;v<n-1;++v)o.push((0,Fi.t7)(i[(l-1)*n+v],i[l*n+v],b));return o.push(r),o}function a1t(i,e,t,n,r){return!(0,me.H6)(r,function(o){return!Eb(i,e,t,n,o[0],o[1])})}function Eb(i,e,t,n,r,s){let o=0,l=i[t-n],d=i[t-n+1];for(;e<t;e+=n){const h=i[e],m=i[e+1];d<=s?m>s&&(h-l)*(s-d)-(r-l)*(m-d)>0&&o++:m<=s&&(h-l)*(s-d)-(r-l)*(m-d)<0&&o--,l=h,d=m}return 0!==o}function e9(i,e,t,n,r,s){if(0===t.length||!Eb(i,e,t[0],n,r,s))return!1;for(let o=1,l=t.length;o<l;++o)if(Eb(i,t[o-1],t[o],n,r,s))return!1;return!0}function a3(i,e,t,n,r){const s=(0,me.qP)((0,me.lJ)(),i,e,t,n);return!!(0,me.kK)(r,s)&&(!!((0,me.r4)(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3])||VK(i,e,t,n,function(o,l){return(0,me.I7)(r,o,l)}))}function HK(i,e,t,n,r){return!!(a3(i,e,t,n,r)||Eb(i,e,t,n,r[0],r[1])||Eb(i,e,t,n,r[0],r[3])||Eb(i,e,t,n,r[2],r[1])||Eb(i,e,t,n,r[2],r[3]))}function UK(i,e,t,n,r){if(!HK(i,e,t[0],n,r))return!1;if(1===t.length)return!0;for(let s=1,o=t.length;s<o;++s)if(a1t(i,t[s-1],t[s],n,r)&&!a3(i,t[s-1],t[s],n,r))return!1;return!0}function i9(i,e,t,n){let r=i[e],s=i[e+1],o=0;for(let l=e+n;l<t;l+=n){const d=i[l],h=i[l+1];o+=Math.sqrt((d-r)*(d-r)+(h-s)*(h-s)),r=d,s=h}return o}class l3 extends Mg{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){this.flatCoordinates?(0,zr.l7)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new l3(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<(0,me.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Z7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),X7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,r))}forEachSegment(e){return VK(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:t9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t=void 0!==t&&t)}getCoordinates(){return Sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return o3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return i9(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=s3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new l3(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return a3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=r3(this.flatCoordinates,0,e,this.stride),this.changed()}}const kg=l3;class c3 extends Mg{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{let r=this.getLayout();const s=e,o=[],l=[];for(let d=0,h=s.length;d<h;++d){const m=s[d];0===d&&(r=m.getLayout()),(0,zr.l7)(o,m.getFlatCoordinates()),l.push(o.length)}this.setFlatCoordinates(r,o),this.ends_=l}}appendLineString(e){this.flatCoordinates?(0,zr.l7)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new c3(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<(0,me.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(q7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),K7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,r))}getCoordinateAtM(e,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function o1t(i,e,t,n,r,s,o){if(o)return t9(i,e,t[t.length-1],n,r,s);let l;if(r<i[n-1])return s?(l=i.slice(0,n),l[n-1]=r,l):null;if(i[i.length-1]<r)return s?(l=i.slice(i.length-n),l[n-1]=r,l):null;for(let d=0,h=t.length;d<h;++d){const m=t[d];if(e!=m){if(r<i[e+n-1])return null;if(r<=i[m-1])return t9(i,e,m,n,r,!1);e=m}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t=void 0!==t&&t,n=void 0!==n&&n)}getCoordinates(){return U2(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new kg(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,r=[];let s=0;for(let o=0,l=t.length;o<l;++o){const d=t[o],h=new kg(e.slice(s,d),n);r.push(h),s=d}return r}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const r=this.ends_,s=this.stride;for(let o=0,l=r.length;o<l;++o){const d=r[o],h=o3(t,n,d,s,.5);(0,zr.l7)(e,h),n=d}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=function BK(i,e,t,n,r,s,o,l){for(let d=0,h=t.length;d<h;++d){const m=t[d];o=s3(i,e,m,n,r,s,o),l.push(o),e=m}return o}(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new c3(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return function c1t(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s){if(a3(i,e,t[s],n,r))return!0;e=t[s]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Q7(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const d3=c3;class n9 extends Mg{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new n9(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const s=this.flatCoordinates,o=(0,Fi.bI)(e,t,s[0],s[1]);if(o<r){const l=this.stride;for(let d=0;d<l;++d)n[d]=s[d];return n.length=l,o}return r}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return(0,me.HK)(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return(0,me.jE)(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=NK(this.flatCoordinates,0,e),this.changed()}}const qf=n9;class r9 extends Mg{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?(0,zr.l7)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new r9(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<(0,me.qf)(this.getExtent(),e,t))return r;const s=this.flatCoordinates,o=this.stride;for(let l=0,d=s.length;l<d;l+=o){const h=(0,Fi.bI)(e,t,s[l],s[l+1]);if(h<r){r=h;for(let m=0;m<o;++m)n[m]=s[l+m];n.length=o}}return r}getCoordinates(){return Sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){return e<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=e?null:new qf(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,r=[];for(let s=0,o=e.length;s<o;s+=n){const l=new qf(e.slice(s,s+n),t);r.push(l)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let r=0,s=t.length;r<s;r+=n)if((0,me.jE)(e,t[r],t[r+1]))return!0;return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=r3(this.flatCoordinates,0,e,this.stride),this.changed()}}const u3=r9;function GK(i,e,t,n){let r=0,s=i[t-n],o=i[t-n+1];for(;e<t;e+=n){const l=i[e],d=i[e+1];r+=o*l-s*d,s=l,o=d}return r/2}function jK(i,e,t,n){let r=0;for(let s=0,o=t.length;s<o;++s){const l=t[s];r+=GK(i,e,l,n),e=l}return r}class h3 extends Mg{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new h3(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<(0,me.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Z7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),X7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return GK(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=s3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new h3(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=r3(this.flatCoordinates,0,e,this.stride),this.changed()}}const WK=h3;function s9(i,e,t,n,r,s,o){let l,d,h,m,b,v,E;const D=r[s+1],T=[];for(let H=0,j=t.length;H<j;++H){const Q=t[H];for(m=i[Q-n],v=i[Q-n+1],l=e;l<Q;l+=n)b=i[l],E=i[l+1],(D<=v&&E<=D||v<=D&&D<=E)&&(h=(D-v)/(E-v)*(b-m)+m,T.push(h)),m=b,v=E}let P=NaN,F=-1/0;for(T.sort(zr.j2),m=T[0],l=1,d=T.length;l<d;++l){b=T[l];const H=Math.abs(b-m);H>F&&(h=(m+b)/2,e9(i,e,t,n,h,D)&&(P=h,F=H)),m=b}return isNaN(P)&&(P=r[s]),o?(o.push(P,D,F),o):[P,D,F]}function $K(i,e,t,n,r){let s=[];for(let o=0,l=t.length;o<l;++o){const d=t[o];s=s9(i,e,d,n,r,2*o,s),e=d[d.length-1]}return s}function h1t(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}function o9(i,e,t,n){let r=0,s=i[t-n],o=i[t-n+1];for(;e<t;e+=n){const l=i[e],d=i[e+1];r+=(l-s)*(d+o),s=l,o=d}return 0===r?void 0:r>0}function YK(i,e,t,n,r){r=void 0!==r&&r;for(let s=0,o=t.length;s<o;++s){const l=t[s],d=o9(i,e,l,n);if(0===s){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;e=l}return!0}function a9(i,e,t,n,r){r=void 0!==r&&r;for(let s=0,o=t.length;s<o;++s){const l=t[s],d=o9(i,e,l,n);(0===s?r&&d||!r&&!d:r&&!d||!r&&d)&&h1t(i,e,l,n),e=l}return e}function ZK(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s)e=a9(i,e,t[s],n,r);return e}class Mb extends Mg{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?(0,zr.l7)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Mb(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<(0,me.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(q7(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),K7(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return e9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return jK(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),a9(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,U2(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=(0,me.qg)(this.getExtent());this.flatInteriorPoint_=s9(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new qf(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new WK(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let s=0;for(let o=0,l=n.length;o<l;++o){const d=n[o],h=new WK(t.slice(s,d),e);r.push(h),s=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;YK(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=a9(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=zK(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new Mb(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return UK(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Q7(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const Sb=Mb;function qK(i){if((0,me.xb)(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],t=i[1],n=i[2],r=i[3],s=[e,t,e,r,n,r,n,t,e,t];return new Mb(s,"XY",[s.length])}function XK(i,e,t,n){const r=[];let s=(0,me.lJ)();for(let o=0,l=t.length;o<l;++o){const d=t[o];s=(0,me.GN)(i,e,d[0],n),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=d[d.length-1]}return r}class f3 extends Mg{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){let r=this.getLayout();const s=e,o=[],l=[];for(let d=0,h=s.length;d<h;++d){const m=s[d];0===d&&(r=m.getLayout());const b=o.length,v=m.getEnds();for(let E=0,D=v.length;E<D;++E)v[E]+=b;(0,zr.l7)(o,m.getFlatCoordinates()),l.push(v)}t=r,e=o,n=l}void 0!==t&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const n=this.flatCoordinates.length;(0,zr.l7)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,s=t.length;r<s;++r)t[r]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();const n=new f3(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,r){return r<(0,me.qf)(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function t1t(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s){const l=t[s];r=q7(i,e,l,n,r),e=l[l.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function e1t(i,e,t,n,r,s,o,l,d,h,m){m=m||[NaN,NaN];for(let b=0,v=t.length;b<v;++b){const E=t[b];h=K7(i,e,E,n,r,s,o,l,d,h,m),e=E[E.length-1]}return h}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return function l1t(i,e,t,n,r,s){if(0===t.length)return!1;for(let o=0,l=t.length;o<l;++o){const d=t[o];if(e9(i,e,d,n,r,s))return!0;e=d[d.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function u1t(i,e,t,n){let r=0;for(let s=0,o=t.length;s<o;++s){const l=t[s];r+=jK(i,e,l,n),e=l[l.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),ZK(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,J7(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=XK(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=$K(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new u3(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function f1t(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s){const l=t[s];if(!YK(i,e,l,n,r))return!1;l.length&&(e=l[l.length-1])}return!0}(e,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ZK(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=function s1t(i,e,t,n,r,s,o,l){for(let d=0,h=t.length;d<h;++d){const m=t[d],b=[];o=zK(i,e,m,n,r,s,o,b),l.push(b),e=m[m.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new f3(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const s=this.endss_[e-1];t=s[s.length-1]}const n=this.endss_[e].slice(),r=n[n.length-1];if(0!==t)for(let s=0,o=n.length;s<o;++s)n[s]-=t;return new Sb(this.flatCoordinates.slice(t,r),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,r=[];let s=0;for(let o=0,l=n.length;o<l;++o){const d=n[o].slice(),h=d[d.length-1];if(0!==s)for(let b=0,v=d.length;b<v;++b)d[b]-=s;const m=new Sb(t.slice(s,h),e,d);r.push(m),s=h}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return function d1t(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s){const l=t[s];if(UK(i,e,l,n,r))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=function i1t(i,e,t,n,r){r=r||[];let s=0;for(let o=0,l=t.length;o<l;++o){const d=Q7(i,e,t[o],n,r[s]);0===d.length&&(d[0]=e),r[s++]=d,e=d[d.length-1]}return r.length=s,r}(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}}const m3=f3;var g1t=Et(463);const KK=[1,0,0,1,0,0];class G2{constructor(e,t,n,r,s){this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=r}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,me.HK)(this.flatCoordinates_):(0,me.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=(0,me.qg)(this.getExtent());this.flatInteriorPoints_=s9(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=XK(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=$K(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=o3(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let r=0,s=n.length;r<s;++r){const o=n[r],l=o3(e,t,o,2,.5);(0,zr.l7)(this.flatMidpoints_,l),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=Tr(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const r=(0,me.Cr)(n)/(0,me.Cr)(t);sh(KK,n[0],n[3],r,-r,0,0,0),Eg(this.flatCoordinates_,0,this.flatCoordinates_.length,2,KK,this.flatCoordinates_)}}getEnds(){return this.ends_}}G2.prototype.getEndss=G2.prototype.getEnds,G2.prototype.getFlatCoordinates=G2.prototype.getOrientedFlatCoordinates;const QK=G2;function v1t(i,e,t){if(3===i){const n={keys:[],values:[],features:[]},r=t.readVarint()+t.pos;t.readFields(y1t,n,r),n.length=n.features.length,n.length&&(e[n.name]=n)}}function y1t(i,e,t){if(15===i)e.version=t.readVarint();else if(1===i)e.name=t.readString();else if(5===i)e.extent=t.readVarint();else if(2===i)e.features.push(t.pos);else if(3===i)e.keys.push(t.readString());else if(4===i){let n=null;const r=t.readVarint()+t.pos;for(;t.pos<r;)n=1==(i=t.readVarint()>>3)?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null;e.values.push(n)}}function x1t(i,e,t){if(1==i)e.id=t.readVarint();else if(2==i){const n=t.readVarint()+t.pos;for(;t.pos<n;){const r=e.layer.keys[t.readVarint()],s=e.layer.values[t.readVarint()];e.properties[r]=s}}else 3==i?e.type=t.readVarint():4==i&&(e.geometry=t.pos)}function w1t(i,e,t){i.pos=e.features[t];const n=i.readVarint()+i.pos,r={layer:e,type:0,properties:{}};return i.readFields(x1t,r,n),r}const Xf=class b1t extends AK{constructor(e){super(),e=e||{},this.dataProjection=new I7({code:"",units:"tile-pixels"}),this.featureClass_=e.featureClass?e.featureClass:QK,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,n,r){e.pos=t.geometry;const s=e.readVarint()+e.pos;let o=1,l=0,d=0,h=0,m=0,b=0;for(;e.pos<s;){if(!l){const v=e.readVarint();o=7&v,l=v>>3}if(l--,1===o||2===o)d+=e.readSVarint(),h+=e.readSVarint(),1===o&&m>b&&(r.push(m),b=m),n.push(d,h),m+=2;else{if(7!==o)throw new Error("Invalid command found in the PBF");m>b&&(n.push(n[b],n[b+1]),m+=2)}}m>b&&(r.push(m),b=m)}createFeature_(e,t,n){const r=t.type;if(0===r)return null;let s;const o=t.properties;let l;this.idProperty_?(l=o[this.idProperty_],delete o[this.idProperty_]):l=t.id,o[this.layerName_]=t.layer.name;const d=[],h=[];this.readRawGeometry_(e,t,d,h);const m=function C1t(i,e){let t;return 1===i?t=1===e?"Point":"MultiPoint":2===i?t=1===e?"LineString":"MultiLineString":3===i&&(t="Polygon"),t}(r,h.length);if(this.featureClass_===QK)s=new this.featureClass_(m,d,h,o,l),s.transform(n.dataProjection);else{let b;if("Polygon"==m){const D=function m1t(i,e){const t=[];let n=0,r=0;for(let s=0,o=e.length;s<o;++s){const l=e[s];if(o9(i,n,l,2)){if(0===t.length)continue;t[t.length-1].push(e[r])}else t.push(e.slice(r,s+1));r=s+1,n=l}return t}(d,h);b=D.length>1?new m3(d,"XY",D):new Sb(d,"XY",h)}else b="Point"===m?new qf(d,"XY"):"LineString"===m?new kg(d,"XY"):"MultiPoint"===m?new u3(d,"XY"):"MultiLineString"===m?new d3(d,"XY",h):null;s=new(0,this.featureClass_),this.geometryName_&&s.setGeometryName(this.geometryName_);const E=G7(b,!1,n);s.setGeometry(E),void 0!==l&&s.setId(l),s.setProperties(o,!0)}return s}getType(){return"arraybuffer"}readFeatures(e,t){const n=this.layers_,r=Tr((t=this.adaptOptions(t)).dataProjection);r.setWorldExtent(t.extent),t.dataProjection=r;const s=new g1t(e),o=s.readFields(v1t,{}),l=[];for(const d in o){if(n&&!n.includes(d))continue;const h=o[d];r.setExtent(h?[0,0,h.extent,h.extent]:null);for(let b=0,v=h.length;b<v;++b){const E=w1t(s,h,b),D=this.createFeature_(s,E,t);null!==D&&l.push(D)}}return l}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}};var jd=Et(333),E1t=Et(392),Dn=Et(688),j2=Et(974);const Wd={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},JK=42,l9=256;function tQ(i,e,t){return function(n,r,s,o,l){if(!n)return;if(!r&&!e)return n;const d=e?0:s[0]*r,h=e?0:s[1]*r,m=l?l[0]:0,b=l?l[1]:0;let v=i[0]+d/2+m,E=i[2]-d/2+m,D=i[1]+h/2+b,T=i[3]-h/2+b;v>E&&(v=(E+v)/2,E=v),D>T&&(D=(T+D)/2,T=D);let P=(0,Fi.uZ)(n[0],v,E),F=(0,Fi.uZ)(n[1],D,T);if(o&&t&&r){const H=30*r;P+=-H*Math.log(1+Math.max(0,v-n[0])/H)+H*Math.log(1+Math.max(0,n[0]-E)/H),F+=-H*Math.log(1+Math.max(0,D-n[1])/H)+H*Math.log(1+Math.max(0,n[1]-T)/H)}return[P,F]}}function M1t(i){return i}function c9(i,e,t,n){const r=(0,me.dz)(e)/t[0],s=(0,me.Cr)(e)/t[1];return n?Math.min(i,Math.max(r,s)):Math.min(i,Math.min(r,s))}function d9(i,e,t){let n=Math.min(i,e);return n*=Math.log(1+50*Math.max(0,i/e-1))/50+1,t&&(n=Math.max(n,t),n/=Math.log(1+50*Math.max(0,t/i-1))/50+1),(0,Fi.uZ)(n,t/2,2*e)}function eQ(i,e,t,n,r){return t=void 0===t||t,function(s,o,l,d){if(void 0!==s){const h=n?c9(i,n,l,r):i;return t&&d?d9(s,h,e):(0,Fi.uZ)(s,e,h)}}}function u9(i){if(void 0!==i)return 0}function iQ(i){if(void 0!==i)return i}function nQ(i){return Math.pow(i,3)}function dw(i){return 1-nQ(1-i)}function h9(i){return 3*i*i-2*i*i*i}function I1t(i){return i}function p3(i,e){setTimeout(function(){i(e)},0)}function L1t(i){return!(i.sourceCenter&&i.targetCenter&&!ZL(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function m9(i,e,t,n,r){const s=Math.cos(-r);let o=Math.sin(-r),l=i[0]*s-i[1]*o,d=i[1]*s+i[0]*o;return l+=(e[0]/2-t[0])*n,d+=(t[1]-e[1]/2)*n,o=-o,[l*s-d*o,d*s+l*o]}const $d=class A1t extends Cg.Z{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=B7(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&kK(),e.center&&(e.center=Gd(e.center)),e.extent&&(e.extent=wb(e.extent)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const l in Wd)delete t[l];this.setProperties(t,!0);const n=function R1t(i){let e,t,n,o=void 0!==i.minZoom?i.minZoom:0,l=void 0!==i.maxZoom?i.maxZoom:28;const d=void 0!==i.zoomFactor?i.zoomFactor:2,h=void 0!==i.multiWorld&&i.multiWorld,m=void 0===i.smoothResolutionConstraint||i.smoothResolutionConstraint,b=void 0!==i.showFullExtent&&i.showFullExtent,v=B7(i.projection,"EPSG:3857"),E=v.getExtent();let D=i.constrainOnlyCenter,T=i.extent;if(!h&&!T&&v.isGlobal()&&(D=!1,T=E),void 0!==i.resolutions){const P=i.resolutions;t=P[o],n=void 0!==P[l]?P[l]:P[P.length-1],e=i.constrainResolution?function S1t(i,e,t,n){return e=void 0===e||e,function(r,s,o,l){if(void 0!==r){const d=i[0],h=i[i.length-1],m=t?c9(d,t,o,n):d;if(l)return e?d9(r,m,h):(0,Fi.uZ)(r,h,m);const b=Math.min(m,r),v=Math.floor((0,zr.h7)(i,b,s));return i[v]>m&&v<i.length-1?i[v+1]:i[v]}}}(P,m,!D&&T,b):eQ(t,n,m,!D&&T,b)}else{const F=(E?Math.max((0,me.dz)(E),(0,me.Cr)(E)):360*wg.degrees/v.getMetersPerUnit())/l9/Math.pow(2,0),H=F/Math.pow(2,28);t=i.maxResolution,void 0!==t?o=0:t=F/Math.pow(d,o),n=i.minResolution,void 0===n&&(n=void 0!==i.maxZoom?void 0!==i.maxResolution?t/Math.pow(d,l):F/Math.pow(d,l):H),l=o+Math.floor(Math.log(t/n)/Math.log(d)),n=t/Math.pow(d,l-o),e=i.constrainResolution?function k1t(i,e,t,n,r,s){return n=void 0===n||n,t=void 0!==t?t:0,function(o,l,d,h){if(void 0!==o){const m=r?c9(e,r,d,s):e;if(h)return n?d9(o,m,t):(0,Fi.uZ)(o,t,m);const b=1e-9,v=Math.ceil(Math.log(e/m)/Math.log(i)-b),E=-l*(.5-b)+.5,D=Math.min(m,o),T=Math.floor(Math.log(e/D)/Math.log(i)+E),P=Math.max(v,T),F=e/Math.pow(i,P);return(0,Fi.uZ)(F,t,m)}}}(d,t,n,m,!D&&T,b):eQ(t,n,m,!D&&T,b)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:o,zoomFactor:d}}(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=function O1t(i){if(void 0!==i.extent)return tQ(i.extent,i.constrainOnlyCenter,void 0===i.smoothExtentConstraint||i.smoothExtentConstraint);const e=B7(i.projection,"EPSG:3857");if(!0!==i.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,tQ(t,!1,!1)}return M1t}(e),s=n.constraint,o=function P1t(i){if(void 0===i.enableRotation||i.enableRotation){const t=i.constrainRotation;return void 0===t||!0===t?function T1t(i){return i=i||(0,Fi.Yr)(5),function(e,t){return t?e:void 0!==e?Math.abs(e)<=i?0:e:void 0}}():!1===t?iQ:"number"==typeof t?function D1t(i){const e=2*Math.PI/i;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(t):iQ}return u9}(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution();this.setCenterInternal([n[0]+s/2*(r[3]-t[3]+t[1]-r[1]),n[1]-s/2*(r[0]-t[0]+t[2]-r[2])])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let r=arguments[n];r.center&&(r=Object.assign({},r),r.center=Gd(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Gd(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}animateInternal(e){let n,t=arguments.length;t>1&&"function"==typeof arguments[t-1]&&(n=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),void 0!==m.zoom?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),void 0!==m.rotation&&this.setRotation(m.rotation)}if(r===t)return void(n&&p3(n,!0));let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,d=this.targetRotation_;const h=[];for(;r<t;++r){const m=arguments[r],b={start:s,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||h9,callback:n};if(m.center&&(b.sourceCenter=o,b.targetCenter=m.center.slice(),o=b.targetCenter),void 0!==m.zoom?(b.sourceResolution=l,b.targetResolution=this.getResolutionForZoom(m.zoom),l=b.targetResolution):m.resolution&&(b.sourceResolution=l,b.targetResolution=m.resolution,l=b.targetResolution),void 0!==m.rotation){b.sourceRotation=d;const v=(0,Fi.$W)(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;b.targetRotation=d+v,d=b.targetRotation}L1t(b)?b.complete=!0:s+=b.duration,h.push(b)}this.animations_.push(h),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let t=0,n=this.animations_.length;t<n;++t){const r=this.animations_[t];if(r[0].callback&&p3(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const l=r[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let s=!0;for(let o=0,l=r.length;o<l;++o){const d=r[o];if(d.complete)continue;let m=d.duration>0?(e-d.start)/d.duration:1;m>=1?(d.complete=!0,m=1):s=!1;const b=d.easing(m);if(d.sourceCenter){const v=d.sourceCenter[0],E=d.sourceCenter[1],D=d.targetCenter[0],T=d.targetCenter[1];this.nextCenter_=d.targetCenter,this.targetCenter_=[v+b*(D-v),E+b*(T-E)]}if(d.sourceResolution&&d.targetResolution){const v=1===b?d.targetResolution:d.sourceResolution+b*(d.targetResolution-d.sourceResolution);if(d.anchor){const E=this.getViewportSize_(this.getRotation()),D=this.constraints_.resolution(v,0,E,!0);this.targetCenter_=this.calculateCenterZoom(D,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==d.sourceRotation&&void 0!==d.targetRotation){const v=1===b?(0,Fi.$W)(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+b*(d.targetRotation-d.sourceRotation);if(d.anchor){const E=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(E,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),t=!0,!d.complete)break}if(s){this.animations_[n]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&p3(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-t[0],r[1]-t[1]],A7(n,e-this.getRotation()),function Dwt(i,e){i[0]+=+e[0],i[1]+=+e[1]}(n,t)),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),s=this.getResolution();return void 0!==r&&void 0!==s&&(n=[t[0]-e*(t[0]-r[0])/s,t[1]-e*(t[1]-r[1])/s]),n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&H7(e,this.getProjection())}getCenterInternal(){return this.get(Wd.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return U7(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();(0,vr.h)(t,"The view center is not defined");const n=this.getResolution();(0,vr.h)(void 0!==n,"The view resolution is not defined");const r=this.getRotation();return(0,vr.h)(void 0!==r,"The view rotation is not defined"),(0,me.p8)(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Wd.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(wb(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=(0,me.dz)(e)/t[0],r=(0,me.Cr)(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),r=Math.log(t/this.minResolution_)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(Wd.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),s=Math.log(n/this.minResolution_)/t;return function(o){return Math.log(n/o)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=m9(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,n)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let n,r,t=this.minZoom_||0;if(this.resolutions_){const s=(0,zr.h7)(this.resolutions_,e,1);t=s,n=this.resolutions_[s],r=s==this.resolutions_.length-1?2:n/this.resolutions_[s+1]}else n=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(n/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=(0,Fi.uZ)(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[t]/Math.pow(this.resolutions_[t]/this.resolutions_[t+1],(0,Fi.uZ)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if((0,vr.h)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e))(0,vr.h)(!(0,me.xb)(e),"Cannot fit empty extent provided as `geometry`"),n=qK(wb(e,this.getProjection()));else if("Circle"===e.getType()){const r=wb(e.getExtent(),this.getProjection());n=qK(r),n.rotate(this.getRotation(),(0,me.qg)(r))}else{const r=V7();n=r?e.clone().transform(r,this.getProjection()):e}this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,d=1/0,h=-1/0,m=-1/0;for(let b=0,v=s.length;b<v;b+=o){const E=s[b]*n-s[b+1]*r,D=s[b]*r+s[b+1]*n;l=Math.min(l,E),d=Math.min(d,D),h=Math.max(h,E),m=Math.max(m,D)}return[l,d,h,m]}fitInternal(e,t){let n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());const r=void 0!==t.padding?t.padding:[0,0,0,0],s=void 0!==t.nearest&&t.nearest;let o;o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const l=this.rotatedExtentForGeometry(e);let d=this.getResolutionForExtentInternal(l,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);d=isNaN(d)?o:Math.max(d,o),d=this.getConstrainedResolution(d,s?0:1);const h=this.getRotation(),m=Math.sin(h),b=Math.cos(h),v=(0,me.qg)(l);v[0]+=(r[1]-r[3])/2*d,v[1]+=(r[0]-r[2])/2*d;const T=this.getConstrainedCenter([v[0]*b-v[1]*m,v[1]*b+v[0]*m],d),P=t.callback?t.callback:ja.Zn;void 0!==t.duration?this.animateInternal({resolution:d,center:T,duration:t.duration,easing:t.easing},P):(this.targetResolution_=d,this.targetCenter_=T,this.applyTargetState_(!1,!0),p3(P,!0))}centerOn(e,t,n){this.centerOnInternal(Gd(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(m9(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-n),d=m9(e,r,[l[0]/2+o[3],l[1]/2+o[0]],t,n);s=[e[0]-d[0],e[1]-d[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=H7(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Gd(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Gd(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Gd(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,n),l=this.constraints_.center(this.targetCenter_,o,s,n,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(Wd.ROTATION)!==r&&this.set(Wd.ROTATION,r),this.get(Wd.RESOLUTION)!==o&&(this.set(Wd.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(Wd.CENTER)||!ZL(this.get(Wd.CENTER),l))&&this.set(Wd.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=void 0!==e?e:200;const r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,r,o),d=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=d,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!ZL(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:d,resolution:l,duration:e,easing:dw,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,t,n){n=n&&Gd(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}};var mn=Et(796);function p9(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const n=e.zoom;return n>i.minZoom&&n<=i.maxZoom}const g3=class F1t extends E1t.Z{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(j2.Z.SOURCE,this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(j2.Z.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,mn.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=(0,mn.oL)(e,Dn.Z.CHANGE,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;const n=this.getMapInternal();let r;!e&&n&&(e=n.getView()),t=e instanceof $d?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),r=t.layerStatesArray?t.layerStatesArray.find(o=>o.layer===this):this.getLayerState();const s=this.getExtent();return p9(r,t.viewState)&&(!s||(0,me.kK)(s,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const n=this.getSource();if(n&&(t=n.getAttributions()),!t)return[];let s=t(e instanceof $d?e.getViewStateAndExtent():e);return Array.isArray(s)||(s=[s]),s}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(j2.Z.MAP,e)}getMapInternal(){return this.get(j2.Z.MAP)}setMap(e){this.mapPrecomposeKey_&&((0,mn.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&((0,mn.bN)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=(0,mn.oL)(e,"precompose",function(t){const r=t.frameState.layerStatesArray,s=this.getLayerState(!1);(0,vr.h)(!r.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)},this),this.mapRenderKey_=(0,mn.oL)(this,Dn.Z.CHANGE,e.render,e),this.changed())}setSource(e){this.set(j2.Z.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}},B1t=class N1t extends g3{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}};var z1t=Et(210);const H1t=class V1t extends z1t.default{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return(0,gi.O3)()}getData(e){return null}prepareFrame(e){return(0,gi.O3)()}renderFrame(e,t){return(0,gi.O3)()}loadedTileCallback(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}createLoadedTileFinder(e,t,n){return(r,s)=>{const o=this.loadedTileCallback.bind(this,n,r);return e.forEachLoadedTile(t,r,s,o)}}forEachFeatureAtCoordinate(e,t,n,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(2===t.getState()||3===t.getState())&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return 2!=t&&3!=t&&e.addEventListener(Dn.Z.CHANGE,this.boundHandleImageChange_),0==t&&(e.load(),t=e.getState()),2==t}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}};var uw=Et(395);const rQ=class U1t extends uw.ZP{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}},sQ=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,oQ=/^([a-z]*)$|^hsla?\(.*\)$/i;function aQ(i){return"string"==typeof i?i:dQ(i)}const G1t=function(){const e={};let t=0;return function(n){let r;if(e.hasOwnProperty(n))r=e[n];else{if(t>=1024){let s=0;for(const o in e)3&s++||(delete e[o],--t)}r=function j1t(i){let e,t,n,r,s;if(oQ.exec(i)&&(i=function lQ(i){const e=document.createElement("div");if(e.style.color=i,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}(i)),sQ.exec(i)){const o=i.length-1;let l;l=o<=4?1:2;const d=4===o||8===o;e=parseInt(i.substr(1+0*l,l),16),t=parseInt(i.substr(1+1*l,l),16),n=parseInt(i.substr(1+2*l,l),16),r=d?parseInt(i.substr(1+3*l,l),16):255,1==l&&(e=(e<<4)+e,t=(t<<4)+t,n=(n<<4)+n,d&&(r=(r<<4)+r)),s=[e,t,n,r/255]}else if(i.startsWith("rgba("))s=i.slice(5,-1).split(",").map(Number),cQ(s);else{if(!i.startsWith("rgb("))throw new Error("Invalid color");s=i.slice(4,-1).split(",").map(Number),s.push(1),cQ(s)}return s}(n),e[n]=r,++t}return r}}();function _3(i){return Array.isArray(i)?i:G1t(i)}function cQ(i){return i[0]=(0,Fi.uZ)(i[0]+.5|0,0,255),i[1]=(0,Fi.uZ)(i[1]+.5|0,0,255),i[2]=(0,Fi.uZ)(i[2]+.5|0,0,255),i[3]=(0,Fi.uZ)(i[3],0,1),i}function dQ(i){let e=i[0];e!=(0|e)&&(e=e+.5|0);let t=i[1];t!=(0|t)&&(t=t+.5|0);let n=i[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+t+","+n+","+(void 0===i[3]?1:Math.round(100*i[3])/100)+")"}var yr=Et(120);const uQ=[];let hw=null;const hQ=class $1t extends H1t{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,n){let r;hw||function W1t(){hw=(0,yr.E4)(1,1,void 0,{willReadFrequently:!0})}(),hw.clearRect(0,0,1,1);try{hw.drawImage(e,t,n,1,1,0,0,1,1),r=hw.getImageData(0,0,1,1).data}catch{return hw=null,null}return r}getBackground(e){let n=this.getLayer().getBackground();return"function"==typeof n&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&(0,zr.fS)(_3(e.style.backgroundColor),_3(n)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=(0,yr.E4)();const d=o.canvas;s.appendChild(d),l=d.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=(0,me.rL)(n),s=(0,me.Xv)(n),o=(0,me.w$)(n),l=(0,me.hC)(n);So(t.coordinateToPixelTransform,r),So(t.coordinateToPixelTransform,s),So(t.coordinateToPixelTransform,o),So(t.coordinateToPixelTransform,l);const d=this.inversePixelTransform;So(d,r),So(d,s),So(d,o),So(d,l),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const s=new rQ(e,this.inversePixelTransform,n,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_("prerender",e,t)}postRender(e,t){this.dispatchRenderEvent_("postrender",e,t)}getRenderTransform(e,t,n,r,s,o,l){const m=r/t;return sh(this.tempTransform,s/2,o/2,m,-m,-n,-e[0]+l,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}};var g9=Et(78);const b3=class Y1t extends g9.Z{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(Dn.Z.CHANGE)}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?t=e:0==e.getState()?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){(0,gi.O3)()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;const r=t-n+1e3/60;return r>=this.transition_?1:nQ(r/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};const mQ=class X1t extends b3{constructor(e,t,n,r,s,o){super(e,t,o),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function K1t(){const i=(0,yr.E4)(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function Z1t(i,e,t){const n=i;let r=!0,s=!1,o=!1;const l=[(0,mn.Vx)(n,Dn.Z.LOAD,function(){o=!0,s||e()})];return n.src&&nd.Tp?(s=!0,n.decode().then(function(){r&&e()}).catch(function(d){r&&(o?e():t())})):l.push((0,mn.Vx)(n,Dn.Z.ERROR,t)),function(){r=!1,l.forEach(mn.bN)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let _9;const fw=[];function gQ(i,e,t,n,r){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(n,r),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,n)+1,Math.max(t,r)),i.restore()}function b9(i,e){return Math.abs(i[4*e]-210)>2||Math.abs(i[4*e+3]-191.25)>2}function v9(i,e,t,n){const r=xb(t,e,i);let s=QL(e,n,t);const o=e.getMetersPerUnit();void 0!==o&&(s*=o);const l=i.getMetersPerUnit();void 0!==l&&(s/=l);const d=i.getExtent();if(!d||(0,me.b8)(d,r)){const h=QL(i,s,r)/s;isFinite(h)&&h>0&&(s/=h)}return s}const y9=class sCt extends b3{constructor(e,t,n,r,s,o,l,d,h,m,b,v){super(s,0,{interpolate:!!v}),this.renderEdges_=void 0!==b&&b,this.pixelRatio_=l,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const E=r.getTileCoordExtent(this.wrappedTileCoord_),D=this.targetTileGrid_.getExtent();let T=this.sourceTileGrid_.getExtent();const P=D?(0,me.Ed)(E,D):E;if(0===(0,me.bg)(P))return void(this.state=4);const F=e.getExtent();F&&(T=T?(0,me.Ed)(T,F):F);const H=r.getResolution(this.wrappedTileCoord_[0]),j=function nCt(i,e,t,n){const r=(0,me.qg)(t);let s=v9(i,e,r,n);return(!isFinite(s)||s<=0)&&(0,me.H6)(t,function(o){return s=v9(i,e,o,n),isFinite(s)&&s>0}),s}(e,n,P,H);if(!isFinite(j)||j<=0)return void(this.state=4);if(this.triangulation_=new class tCt{constructor(e,t,n,r,s,o){this.sourceProj_=e,this.targetProj_=t;let l={};const d=V2(this.targetProj_,this.sourceProj_);this.transformInv_=function(H){const j=H[0]+"/"+H[1];return l[j]||(l[j]=d(H)),l[j]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,me.dz)(r)>=(0,me.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,me.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,me.dz)(this.targetProj_.getExtent()):null;const h=(0,me.rL)(n),m=(0,me.Xv)(n),b=(0,me.w$)(n),v=(0,me.hC)(n),E=this.transformInv_(h),D=this.transformInv_(m),T=this.transformInv_(b),P=this.transformInv_(v),F=10+(o?Math.max(0,Math.ceil(Math.log2((0,me.bg)(n)/(o*o*256*256)))):0);if(this.addQuad_(h,m,b,v,E,D,T,P,F),this.wrapsXInSource_){let H=1/0;this.triangles_.forEach(function(j,Q,Tt){H=Math.min(H,j.source[0][0],j.source[1][0],j.source[2][0])}),this.triangles_.forEach(j=>{if(Math.max(j.source[0][0],j.source[1][0],j.source[2][0])-H>this.sourceWorldWidth_/2){const Q=[[j.source[0][0],j.source[0][1]],[j.source[1][0],j.source[1][1]],[j.source[2][0],j.source[2][1]]];Q[0][0]-H>this.sourceWorldWidth_/2&&(Q[0][0]-=this.sourceWorldWidth_),Q[1][0]-H>this.sourceWorldWidth_/2&&(Q[1][0]-=this.sourceWorldWidth_),Q[2][0]-H>this.sourceWorldWidth_/2&&(Q[2][0]-=this.sourceWorldWidth_);const Tt=Math.min(Q[0][0],Q[1][0],Q[2][0]);Math.max(Q[0][0],Q[1][0],Q[2][0])-Tt<this.sourceWorldWidth_/2&&(j.source=Q)}})}l={}}addTriangle_(e,t,n,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,n]})}addQuad_(e,t,n,r,s,o,l,d,h){const m=(0,me.hI)([s,o,l,d]),b=this.sourceWorldWidth_?(0,me.dz)(m)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,E=this.sourceProj_.canWrapX()&&b>.5&&b<1;let D=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const P=(0,me.hI)([e,t,n,r]);D=(0,me.dz)(P)/this.targetWorldWidth_>.25||D}!E&&this.sourceProj_.isGlobal()&&b&&(D=b>.25||D)}if(!D&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!(0,me.kK)(m,this.maxSourceExtent_))return;let T=0;if(!(D||isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(d[0])&&isFinite(d[1])))if(h>0)D=!0;else if(T=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(d[0])&&isFinite(d[1])?0:1),1!=T&&2!=T&&4!=T&&8!=T)return;if(h>0){if(!D){const F=this.transformInv_([(e[0]+n[0])/2,(e[1]+n[1])/2]);let H;H=E?((0,Fi.$W)(s[0],v)+(0,Fi.$W)(l[0],v))/2-(0,Fi.$W)(F[0],v):(s[0]+l[0])/2-F[0];const j=(s[1]+l[1])/2-F[1];D=H*H+j*j>this.errorThresholdSquared_}if(D){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const P=[(t[0]+n[0])/2,(t[1]+n[1])/2],F=this.transformInv_(P),H=[(r[0]+e[0])/2,(r[1]+e[1])/2],j=this.transformInv_(H);this.addQuad_(e,t,P,H,s,o,F,j,h-1),this.addQuad_(H,P,n,r,j,F,l,d,h-1)}else{const P=[(e[0]+t[0])/2,(e[1]+t[1])/2],F=this.transformInv_(P),H=[(n[0]+r[0])/2,(n[1]+r[1])/2],j=this.transformInv_(H);this.addQuad_(e,P,H,r,s,F,j,d,h-1),this.addQuad_(P,t,n,H,F,o,l,j,h-1)}return}}if(E){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&T||this.addTriangle_(e,n,r,s,l,d),14&T||this.addTriangle_(e,n,t,s,l,o),T&&(13&T||this.addTriangle_(t,r,e,o,d,s),7&T||this.addTriangle_(t,r,n,o,d,l))}calculateSourceExtent(){const e=(0,me.lJ)();return this.triangles_.forEach(function(t,n,r){const s=t.source;(0,me.Wj)(e,s[0]),(0,me.Wj)(e,s[1]),(0,me.Wj)(e,s[2])}),e}getTriangles(){return this.triangles_}}(e,n,P,T,j*(void 0!==m?m:.5),H),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=t.getZForResolution(j);let Tt=this.triangulation_.calculateSourceExtent();if(T&&(e.canWrapX()?(Tt[1]=(0,Fi.uZ)(Tt[1],T[1],T[3]),Tt[3]=(0,Fi.uZ)(Tt[3],T[1],T[3])):Tt=(0,me.Ed)(Tt,T)),(0,me.bg)(Tt)){const Rt=t.getTileRangeForExtentAndZ(Tt,this.sourceZ_);for(let Ct=Rt.minX;Ct<=Rt.maxX;Ct++)for(let Bt=Rt.minY;Bt<=Rt.maxY;Bt++){const Vt=h(this.sourceZ_,Ct,Bt,l);Vt&&this.sourceTiles_.push(Vt)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&2==t.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),r="number"==typeof n?n:n[0],s="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(t),l=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function rCt(i,e,t,n,r,s,o,l,d,h,m,b){const v=(0,yr.E4)(Math.round(t*i),Math.round(t*e),fw);if(b||(v.imageSmoothingEnabled=!1),0===d.length)return v.canvas;function E(Q){return Math.round(Q*t)/t}v.scale(t,t),v.globalCompositeOperation="lighter";const D=(0,me.lJ)();d.forEach(function(Q,Tt,Rt){(0,me.l7)(D,Q.extent)});const T=(0,me.dz)(D),P=(0,me.Cr)(D),F=(0,yr.E4)(Math.round(t*T/n),Math.round(t*P/n),fw);b||(F.imageSmoothingEnabled=!1);const H=t/n;d.forEach(function(Q,Tt,Rt){const Ct=Q.extent[0]-D[0],Bt=-(Q.extent[3]-D[3]),Vt=(0,me.dz)(Q.extent),he=(0,me.Cr)(Q.extent);Q.image.width>0&&Q.image.height>0&&F.drawImage(Q.image,h,h,Q.image.width-2*h,Q.image.height-2*h,Ct*H,Bt*H,Vt*H,he*H)});const j=(0,me.rL)(o);return l.getTriangles().forEach(function(Q,Tt,Rt){const Ct=Q.source,Bt=Q.target;let Vt=Ct[0][0],he=Ct[0][1],re=Ct[1][0],kt=Ct[1][1],ie=Ct[2][0],de=Ct[2][1];const pe=E((Bt[0][0]-j[0])/s),Ht=E(-(Bt[0][1]-j[1])/s),Kt=E((Bt[1][0]-j[0])/s),oe=E(-(Bt[1][1]-j[1])/s),we=E((Bt[2][0]-j[0])/s),Je=E(-(Bt[2][1]-j[1])/s),Ci=Vt,ke=he;Vt=0,he=0,re-=Ci,kt-=ke,ie-=Ci,de-=ke;const di=(0,Fi.SV)([[re,kt,0,0,Kt-pe],[ie,de,0,0,we-pe],[0,0,re,kt,oe-Ht],[0,0,ie,de,Je-Ht]]);if(di){if(v.save(),v.beginPath(),function iCt(){if(void 0===_9){const i=(0,yr.E4)(6,6,fw);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",gQ(i,4,5,4,0),gQ(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;_9=b9(e,0)||b9(e,4)||b9(e,8),(0,yr.jy)(i),fw.push(i.canvas)}return _9}()||!b){v.moveTo(Kt,oe);const ji=4,gr=pe-Kt,Tn=Ht-oe;for(let Fn=0;Fn<ji;Fn++)v.lineTo(Kt+E((Fn+1)*gr/ji),oe+E(Fn*Tn/(ji-1))),Fn!=ji-1&&v.lineTo(Kt+E((Fn+1)*gr/ji),oe+E((Fn+1)*Tn/(ji-1)));v.lineTo(we,Je)}else v.moveTo(Kt,oe),v.lineTo(pe,Ht),v.lineTo(we,Je);v.clip(),v.transform(di[0],di[2],di[1],di[3],pe,Ht),v.translate(D[0]-Ci,D[3]-ke),v.scale(n/t,-n/t),v.drawImage(F.canvas,0,0),v.restore()}}),(0,yr.jy)(F),fw.push(F.canvas),m&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,l.getTriangles().forEach(function(Q,Tt,Rt){const Ct=Q.target,Bt=(Ct[0][0]-j[0])/s,Vt=-(Ct[0][1]-j[1])/s,he=(Ct[1][0]-j[0])/s,re=-(Ct[1][1]-j[1])/s,kt=(Ct[2][0]-j[0])/s,ie=-(Ct[2][1]-j[1])/s;v.beginPath(),v.moveTo(he,re),v.lineTo(Bt,Vt),v.lineTo(kt,ie),v.closePath(),v.stroke()}),v.restore()),v.canvas}(r,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,d,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const n=t.getState();if(0==n||1==n){e++;const r=(0,mn.oL)(t,Dn.Z.CHANGE,function(s){const o=t.getState();(2==o||3==o||4==o)&&((0,mn.bN)(r),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,n,r){0==t.getState()&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(mn.bN),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,yr.jy)(this.canvas_.getContext("2d")),fw.push(this.canvas_),this.canvas_=null),super.release()}};class _Q{constructor(e,t,n,r){this.minX=e,this.maxX=t,this.minY=n,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function mw(i,e,t,n,r){return void 0!==r?(r.minX=i,r.maxX=e,r.minY=t,r.maxY=n,r):new _Q(i,e,t,n)}const bQ=_Q;function vQ(i){return i[0]>0&&i[1]>0}function fl(i,e){return Array.isArray(i)?i:(void 0===e?e=[i,i]:(e[0]=i,e[1]=i),e)}const yQ=class aCt extends hQ{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,me.lJ)(),this.tmpTileRange_=new bQ(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),n=e.getState(),r=t.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!r}getTile(e,t,n,r){const s=r.pixelRatio,o=r.viewState.projection,l=this.getLayer();let h=l.getSource().getTile(e,t,n,s,o);return 3==h.getState()&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(h)||(h=h.getInterimTile()),h}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=So(t.pixelToCoordinateTransform,e.slice()),s=n.getExtent();if(s&&!(0,me.b8)(s,r))return null;const o=t.pixelRatio,l=t.viewState.projection,d=t.viewState,h=n.getRenderSource(),m=h.getTileGridForProjection(d.projection),b=h.getTilePixelRatio(t.pixelRatio);for(let v=m.getZForResolution(d.resolution);v>=m.getMinZoom();--v){const E=m.getTileCoordForCoordAndZ(r,v),D=h.getTile(v,E[1],E[2],o,l);if(!(D instanceof mQ||D instanceof y9)||D instanceof y9&&4===D.getState())return null;if(2!==D.getState())continue;const T=m.getOrigin(v),P=fl(m.getTileSize(v)),F=m.getResolution(v),H=Math.floor(b*((r[0]-T[0])/F-E[1]*P[0])),j=Math.floor(b*((T[1]-r[1])/F-E[2]*P[1])),Q=Math.round(b*h.getGutterForProjection(d.projection));return this.getImageData(D.getImage(),H+Q,j+Q)}return null}loadedTileCallback(e,t,n){return!!this.isDrawableTile(n)&&super.loadedTileCallback(e,t,n)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const n=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,l=r.center,d=r.rotation,h=e.pixelRatio,m=this.getLayer(),b=m.getSource(),v=b.getRevision(),E=b.getTileGridForProjection(s),D=E.getZForResolution(o,b.zDirection),T=E.getResolution(D);let P=e.extent;const F=e.viewState.resolution,H=b.getTilePixelRatio(h),j=Math.round((0,me.dz)(P)/F*h),Q=Math.round((0,me.Cr)(P)/F*h),Tt=n.extent&&wb(n.extent);Tt&&(P=(0,me.Ed)(P,wb(n.extent)));const Rt=T*j/2/H,Ct=T*Q/2/H,Bt=[l[0]-Rt,l[1]-Ct,l[0]+Rt,l[1]+Ct],Vt=E.getTileRangeForExtentAndZ(P,D),he={};he[D]={};const re=this.createLoadedTileFinder(b,s,he),kt=this.tmpExtent,ie=this.tmpTileRange_;this.newTiles_=!1;const de=d?(0,me.dY)(r.center,F,d,e.size):void 0;for(let Zi=Vt.minX;Zi<=Vt.maxX;++Zi)for(let di=Vt.minY;di<=Vt.maxY;++di){if(d&&!E.tileCoordIntersectsViewport([D,Zi,di],de))continue;const ji=this.getTile(D,Zi,di,e);if(this.isDrawableTile(ji)){const Fn=(0,gi.sq)(this);if(2==ji.getState()){he[D][ji.tileCoord.toString()]=ji;let ri=ji.inTransition(Fn);ri&&1!==n.opacity&&(ji.endTransition(Fn),ri=!1),!this.newTiles_&&(ri||!this.renderedTiles.includes(ji))&&(this.newTiles_=!0)}if(1===ji.getAlpha(Fn,e.time))continue}const gr=E.getTileCoordChildTileRange(ji.tileCoord,ie,kt);let Tn=!1;gr&&(Tn=re(D+1,gr)),Tn||E.forEachTileCoordParentTileRange(ji.tileCoord,re,ie,kt)}const pe=T/o*h/H;sh(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/h,1/h,d,-j/2,-Q/2);const Ht=$7(this.pixelTransform);this.useContainer(t,Ht,this.getBackground(e));const Kt=this.context,oe=Kt.canvas;e3(this.inversePixelTransform,this.pixelTransform),sh(this.tempTransform,j/2,Q/2,pe,pe,0,-j/2,-Q/2),oe.width!=j||oe.height!=Q?(oe.width=j,oe.height=Q):this.containerReused||Kt.clearRect(0,0,j,Q),Tt&&this.clipUnrotated(Kt,e,Tt),b.getInterpolate()||(Kt.imageSmoothingEnabled=!1),this.preRender(Kt,e),this.renderedTiles.length=0;let Je,Ci,ke,we=Object.keys(he).map(Number);we.sort(zr.j2),1!==n.opacity||this.containerReused&&!b.getOpaque(e.viewState.projection)?(Je=[],Ci=[]):we=we.reverse();for(let Zi=we.length-1;Zi>=0;--Zi){const di=we[Zi],ji=b.getTilePixelSize(di,h,s),Tn=E.getResolution(di)/T,Fn=ji[0]*Tn*pe,ri=ji[1]*Tn*pe,Ji=E.getTileCoordForCoordAndZ((0,me.rL)(Bt),di),an=E.getTileCoordExtent(Ji),Xe=So(this.tempTransform,[H*(an[0]-Bt[0])/T,H*(Bt[3]-an[3])/T]),ls=H*b.getGutterForProjection(s),Mn=he[di];for(const ys in Mn){const Qr=Mn[ys],sa=Qr.tileCoord,Ns=Ji[1]-sa[1],Gb=Math.round(Xe[0]-(Ns-1)*Fn),qg=Ji[2]-sa[2],$k=Math.round(Xe[1]-(qg-1)*ri),Za=Math.round(Xe[0]-Ns*Fn),Wl=Math.round(Xe[1]-qg*ri),$l=Gb-Za,nu=$k-Wl,um=D===di,_i=um&&1!==Qr.getAlpha((0,gi.sq)(this),e.time);let Ti=!1;if(!_i)if(Je){ke=[Za,Wl,Za+$l,Wl,Za+$l,Wl+nu,Za,Wl+nu];for(let Ne=0,Ee=Je.length;Ne<Ee;++Ne)if(D!==di&&di<Ci[Ne]){const Wi=Je[Ne];(0,me.kK)([Za,Wl,Za+$l,Wl+nu],[Wi[0],Wi[3],Wi[4],Wi[7]])&&(Ti||(Kt.save(),Ti=!0),Kt.beginPath(),Kt.moveTo(ke[0],ke[1]),Kt.lineTo(ke[2],ke[3]),Kt.lineTo(ke[4],ke[5]),Kt.lineTo(ke[6],ke[7]),Kt.moveTo(Wi[6],Wi[7]),Kt.lineTo(Wi[4],Wi[5]),Kt.lineTo(Wi[2],Wi[3]),Kt.lineTo(Wi[0],Wi[1]),Kt.clip())}Je.push(ke),Ci.push(di)}else Kt.clearRect(Za,Wl,$l,nu);this.drawTileImage(Qr,e,Za,Wl,$l,nu,ls,um),Je&&!_i?(Ti&&Kt.restore(),this.renderedTiles.unshift(Qr)):this.renderedTiles.push(Qr),this.updateUsedTiles(e.usedTiles,b,Qr)}}return this.renderedRevision=v,this.renderedResolution=T,this.extentChanged=!this.renderedExtent_||!(0,me.fS)(this.renderedExtent_,Bt),this.renderedExtent_=Bt,this.renderedPixelRatio=h,this.renderedProjection=s,this.manageTilePyramid(e,b,E,h,s,P,D,m.getPreload()),this.scheduleExpireCache(e,b),this.postRender(Kt,e),n.extent&&Kt.restore(),Kt.imageSmoothingEnabled=!0,Ht!==oe.style.transform&&(oe.style.transform=Ht),this.container}drawTileImage(e,t,n,r,s,o,l,d){const h=this.getTileImage(e);if(!h)return;const m=(0,gi.sq)(this),b=t.layerStatesArray[t.layerIndex],v=b.opacity*(d?e.getAlpha(m,t.time):1),E=v!==this.context.globalAlpha;E&&(this.context.save(),this.context.globalAlpha=v),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,n,r,s,o),E&&this.context.restore(),v!==b.opacity?t.animate=!0:d&&e.endTransition(m)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const n=function(r,s,o){const l=(0,gi.sq)(r);l in o.usedTiles&&r.expireCache(o.viewState.projection,o.usedTiles[l])}.bind(null,t);e.postRenderFunctions.push(n)}}updateUsedTiles(e,t,n){const r=(0,gi.sq)(t);r in e||(e[r]={}),e[r][n.getKey()]=!0}manageTilePyramid(e,t,n,r,s,o,l,d,h){const m=(0,gi.sq)(t);m in e.wantedTiles||(e.wantedTiles[m]={});const b=e.wantedTiles[m],v=e.tileQueue,E=n.getMinZoom(),D=e.viewState.rotation,T=D?(0,me.dY)(e.viewState.center,e.viewState.resolution,D,e.size):void 0;let F,H,j,Q,Tt,Rt,P=0;for(Rt=E;Rt<=l;++Rt)for(H=n.getTileRangeForExtentAndZ(o,Rt,H),j=n.getResolution(Rt),Q=H.minX;Q<=H.maxX;++Q)for(Tt=H.minY;Tt<=H.maxY;++Tt)D&&!n.tileCoordIntersectsViewport([Rt,Q,Tt],T)||(l-Rt<=d?(++P,F=t.getTile(Rt,Q,Tt,r,s),0==F.getState()&&(b[F.getKey()]=!0,v.isKeyQueued(F.getKey())||v.enqueue([F,m,n.getTileCoordCenter(F.tileCoord),j])),void 0!==h&&h(F)):t.useTile(Rt,Q,Tt,s));t.updateCacheSize(P,s)}},Vl=class lCt extends B1t{constructor(e){super(e)}createRenderer(){return new yQ(this)}};var xQ=Et(414);class x9{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=fl(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new x9({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,gi.O3)()}getImage(e){return(0,gi.O3)()}getHitDetectionImage(){return(0,gi.O3)()}getPixelRatio(e){return 1}getImageState(){return(0,gi.O3)()}getImageSize(){return(0,gi.O3)()}getOrigin(){return(0,gi.O3)()}getSize(){return(0,gi.O3)()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=fl(e)}listenImageChange(e){(0,gi.O3)()}load(){(0,gi.O3)()}unlistenImageChange(e){(0,gi.O3)()}}const wQ=x9;function ah(i){return Array.isArray(i)?dQ(i):i}var Tg=Et(925);const v3="ol-hidden",pw="ol-unselectable",CQ="ol-unsupported",y3="ol-control",EQ="ol-collapsed",dCt=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),MQ=["style","variant","weight","size","lineHeight","family"],SQ=function(i){const e=i.match(dCt);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let n=0,r=MQ.length;n<r;++n){const s=e[n+1];void 0!==s&&(t[MQ[n]]=s)}return t.families=t.family.split(/,\s?/),t},kQ="10px sans-serif",Hl="#000",gw="round",Kf=[],_w="round",$2="#000",Y2="center",x3="middle",kb=[0,0,0,0],Jf=new Cg.Z;let w9,bw=null;const C9={},uCt=function(){const e="32px ",t=["monospace","serif"],n=t.length,r="wmytzilWMYTZIL@#/&?$%10\uf013";let s,o;function l(h,m,b){let v=!0;for(let E=0;E<n;++E){const D=t[E];if(o=w3(h+" "+m+" "+e+D,r),b!=D){const T=w3(h+" "+m+" "+e+b+","+D,r);v=v&&T!=o}}return!!v}function d(){let h=!0;const m=Jf.getKeys();for(let b=0,v=m.length;b<v;++b){const E=m[b];Jf.get(E)<100&&(l.apply(this,E.split("\n"))?((0,Tg.Z)(C9),bw=null,w9=void 0,Jf.set(E,100)):(Jf.set(E,Jf.get(E)+1,!0),h=!1))}h&&(clearInterval(s),s=void 0)}return function(h){const m=SQ(h);if(!m)return;const b=m.families;for(let v=0,E=b.length;v<E;++v){const D=b[v],T=m.style+"\n"+m.weight+"\n"+D;void 0===Jf.get(T)&&(Jf.set(T,100,!0),l(m.style,m.weight,D)||(Jf.set(T,0,!0),void 0===s&&(s=setInterval(d,32))))}}}(),hCt=function(){let i;return function(e){let t=C9[e];if(null==t){if(nd.Id){const n=SQ(e),r=DQ(e,"\u017dg");t=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else i||(i=document.createElement("div"),i.innerHTML="M",i.style.minHeight="0",i.style.maxHeight="none",i.style.height="auto",i.style.padding="0",i.style.border="none",i.style.position="absolute",i.style.display="block",i.style.left="-99999px"),i.style.font=e,document.body.appendChild(i),t=i.offsetHeight,document.body.removeChild(i);C9[e]=t}return t}}();function DQ(i,e){return bw||(bw=(0,yr.E4)(1,1)),i!=w9&&(bw.font=i,w9=bw.font),bw.measureText(e)}function w3(i,e){return DQ(i,e).width}function TQ(i,e,t){if(e in t)return t[e];const n=e.split("\n").reduce((r,s)=>Math.max(r,w3(i,s)),0);return t[e]=n,n}class E9 extends wQ{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new E9({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const n=this.renderOptions_,r=(0,yr.E4)(n.size*e,n.size*e);this.draw_(n,r,e),t=r.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return 2}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let r=this.radius_,s=void 0===this.radius2_?r:this.radius2_;if(r<s){const Rt=r;r=s,s=Rt}const l=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),d=s*Math.sin(l),m=r-Math.sqrt(s*s-d*d),b=Math.sqrt(d*d+m*m),v=b/d;if("miter"===e&&v<=n)return v*t;const E=t/2/v,D=t/2*(m/b),P=Math.sqrt((r+E)*(r+E)+D*D)-r;if(void 0===this.radius2_||"bevel"===e)return 2*P;const F=r*Math.sin(l),j=s-Math.sqrt(r*r-F*F),Tt=Math.sqrt(F*F+j*j)/F;return Tt<=n?2*Math.max(P,Tt*t/2-s-r):2*P}createRenderOptions(){let o,e=gw,t=_w,n=0,r=null,s=0,l=0;this.stroke_&&(o=this.stroke_.getColor(),null===o&&(o=$2),o=ah(o),l=this.stroke_.getWidth(),void 0===l&&(l=1),r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),void 0===t&&(t=_w),e=this.stroke_.getLineCap(),void 0===e&&(e=gw),n=this.stroke_.getMiterLimit(),void 0===n&&(n=10));const d=this.calculateLineJoinSize_(t,l,n),h=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:o,strokeWidth:l,size:Math.ceil(2*h+d),lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:t,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();null===r&&(r=Hl),t.fillStyle=ah(r),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),n=0;if("string"==typeof t&&(t=_3(t)),null===t?n=1:Array.isArray(t)&&(n=4===t.length?t[3]:1),0===n){const r=(0,yr.E4)(e.size,e.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(e,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const n=this.radius_;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{const r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let l=0;l<t;l++){const d=s+l*o,h=l%2==0?n:r;e.lineTo(h*Math.cos(d),h*Math.sin(d))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Hl,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}const M9=E9;class S9 extends M9{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new S9({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}const Yd=S9;class k9{constructor(e){this.color_=void 0!==(e=e||{}).color?e.color:null}clone(){const e=this.getColor();return new k9({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const Cs=k9;class D9{constructor(e){this.color_=void 0!==(e=e||{}).color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new D9({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const Xs=D9;class Ig{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=IQ,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new Ig({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=IQ,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let T9=null;function _Ct(i,e){if(!T9){const t=new Cs({color:"rgba(255,255,255,0.4)"}),n=new Xs({color:"#3399CC",width:1.25});T9=[new Ig({image:new Yd({fill:t,stroke:n,radius:5}),fill:t,stroke:n})]}return T9}function IQ(i){return i.getGeometry()}const bs=Ig;function AQ(i,e,t){return e+":"+i+":"+(t?aQ(t):"null")}const C3=new class vCt{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_)!(3&e++)&&!this.cache_[t].hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}get(e,t,n){const r=AQ(e,t,n);return r in this.cache_?this.cache_[r]:null}set(e,t,n,r){const s=AQ(e,t,n);this.cache_[s]=r,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};let q2=null;class yCt extends g9.Z{constructor(e,t,n,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=s,this.imageState_=void 0===r?0:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&2===this.imageState_){q2||(q2=(0,yr.E4)(1,1,void 0,{willReadFrequently:!0})),q2.drawImage(this.image_,0,0);try{q2.getImageData(0,0,1,1),this.tainted_=!1}catch{q2=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(Dn.Z.CHANGE)}handleImageError_(){this.imageState_=3,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=2,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],n=(0,yr.E4)(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(0===this.imageState_){this.image_||this.initializeImage_(),this.imageState_=1;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&function fQ(i,e){return e&&(i.src=e),nd.Tp?new Promise((t,n)=>i.decode().then(()=>t(i),n)):function q1t(i,e){return new Promise((t,n)=>{function r(){o(),t(i)}function s(){o(),n(new Error("Image load error"))}function o(){i.removeEventListener("load",r),i.removeEventListener("error",s)}i.addEventListener("load",r),i.addEventListener("error",s),e&&(i.src=e)})}(i)}(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||2!==this.imageState_)return;const t=this.image_,n=document.createElement("canvas");n.width=Math.ceil(t.width*e),n.height=Math.ceil(t.height*e);const r=n.getContext("2d");r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=aQ(this.color_),r.fillRect(0,0,n.width/e,n.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=n}}function OQ(i,e,t,n){return void 0!==t&&void 0!==n?[t/i,n/e]:void 0!==t?t/i:void 0!==n?n/e:1}class I9 extends wQ{constructor(e){super({opacity:void 0!==(e=e||{}).opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const o=void 0!==e.img?e.img:null;let d,l=e.src;if((0,vr.h)(!(void 0!==l&&o),"`image` and `src` cannot be provided at the same time"),(void 0===l||0===l.length)&&o&&(l=o.src||(0,gi.sq)(o)),(0,vr.h)(void 0!==l&&l.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,vr.h)(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?d=0:void 0!==o&&(d=o instanceof HTMLImageElement?o.complete?o.src?2:0:1:2),this.color_=void 0!==e.color?_3(e.color):null,this.iconImage_=function xCt(i,e,t,n,r){let s=void 0===e?void 0:C3.get(e,t,r);return s||(s=new yCt(i,i instanceof HTMLImageElement?i.src||void 0:e,t,n,r),C3.set(e,t,r,s)),s}(o,l,this.crossOrigin_,d,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,void 0!==e.width||void 0!==e.height){let h,m;if(e.size)[h,m]=e.size;else{const b=this.getImage(1);if(b.width&&b.height)h=b.width,m=b.height;else if(b instanceof HTMLImageElement){this.initialOptions_=e;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const E=this.iconImage_.getSize();this.setScale(OQ(E[0],E[1],e.width,e.height))};return void this.listenImageChange(v)}}void 0!==h&&this.setScale(OQ(h,m,e.width,e.height))}}clone(){let e,t,n;return this.initialOptions_?(t=this.initialOptions_.width,n=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new I9({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!r)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=r[0]),"fraction"==this.anchorYUnits_&&(e[1]*=r[1])}if("top-left"!=this.anchorOrigin_){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+r[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=n[0]-t[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:2==this.iconImage_.getImageState()?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:2==this.iconImage_.getImageState()?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Dn.Z.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Dn.Z.CHANGE,e)}}const A9=I9;class O9{constructor(e){this.font_=(e=e||{}).font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=fl(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Cs({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){const e=this.getScale();return new O9({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=fl(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const R9=O9;let vw=0;const Wa=1<<vw++,Zn=1<<vw++,yw=1<<vw++,P9=1<<vw++,X2=1<<vw++,Zd=Math.pow(2,5)-1,RQ={[Wa]:"boolean",[Zn]:"number",[yw]:"string",[P9]:"color",[X2]:"number[]"},CCt=Object.keys(RQ).map(Number).sort(zr.j2);function E3(i){const e=[];for(const t of CCt)ECt(i,t)&&e.push(RQ[t]);return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function ECt(i,e){return(i&e)===e}function PQ(i,e){return!!(i&e)}class Ag{constructor(e,t){this.type=e,this.value=t}}class MCt{constructor(e,t,...n){this.type=e,this.operator=t,this.args=n}}function LQ(){return{variables:new Set,properties:new Set}}function M3(i,e){switch(typeof i){case"boolean":return new Ag(Wa,i);case"number":return new Ag(Zn,i);case"string":return new Ag(yw,i)}if(!Array.isArray(i))throw new Error("Expression must be an array or a primitive value");if(0===i.length)throw new Error("Empty expression");if("string"==typeof i[0])return function ICt(i,e){const t=i[0],n=SCt[t];if(!n)throw new Error(`Unknown operator: ${t}`);return n(i,e)}(i,e);for(const n of i)if("number"!=typeof n)throw new Error("Expected an array of numbers");let t=X2;return(3===i.length||4===i.length)&&(t|=P9),new Ag(t,i)}const ci={Number:"number",String:"string",Get:"get",Var:"var",Any:"any",All:"all",Not:"!",Resolution:"resolution",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match"},SCt={[ci.Number]:Rr(Kr(1,1/0,Zd),Zn),[ci.String]:Rr(Kr(1,1/0,Zd),yw),[ci.Get]:Rr(function kCt(i,e){if(2!==i.length)throw new Error("Expected 1 argument for get operation");const t=M3(i[1],e);if(!(t instanceof Ag))throw new Error("Expected a literal argument for get operation");if("string"!=typeof t.value)throw new Error("Expected a string argument for get operation");return e.properties.add(t.value),[t]},Zd),[ci.Var]:Rr(function DCt(i,e){if(2!==i.length)throw new Error("Expected 1 argument for var operation");const t=M3(i[1],e);if(!(t instanceof Ag))throw new Error("Expected a literal argument for var operation");if("string"!=typeof t.value)throw new Error("Expected a string argument for get operation");return e.variables.add(t.value),[t]},Zd),[ci.Resolution]:Rr(function TCt(i,e){if(1!==i.length)throw new Error(`Expected no arguments for ${i[0]} operation`);return[]},Zn),[ci.Any]:Rr(Kr(2,1/0,Wa),Wa),[ci.All]:Rr(Kr(2,1/0,Wa),Wa),[ci.Not]:Rr(Kr(1,1,Wa),Wa),[ci.Equal]:Rr(Kr(2,2,Zd),Wa),[ci.NotEqual]:Rr(Kr(2,2,Zd),Wa),[ci.GreaterThan]:Rr(Kr(2,2,Zd),Wa),[ci.GreaterThanOrEqualTo]:Rr(Kr(2,2,Zd),Wa),[ci.LessThan]:Rr(Kr(2,2,Zd),Wa),[ci.LessThanOrEqualTo]:Rr(Kr(2,2,Zd),Wa),[ci.Multiply]:Rr(Kr(2,1/0,Zn),Zn),[ci.Divide]:Rr(Kr(2,2,Zn),Zn),[ci.Add]:Rr(Kr(2,1/0,Zn),Zn),[ci.Subtract]:Rr(Kr(2,2,Zn),Zn),[ci.Clamp]:Rr(Kr(3,3,Zn),Zn),[ci.Mod]:Rr(Kr(2,2,Zn),Zn),[ci.Pow]:Rr(Kr(2,2,Zn),Zn),[ci.Abs]:Rr(Kr(1,1,Zn),Zn),[ci.Floor]:Rr(Kr(1,1,Zn),Zn),[ci.Ceil]:Rr(Kr(1,1,Zn),Zn),[ci.Round]:Rr(Kr(1,1,Zn),Zn),[ci.Sin]:Rr(Kr(1,1,Zn),Zn),[ci.Cos]:Rr(Kr(1,1,Zn),Zn),[ci.Atan]:Rr(Kr(1,2,Zn),Zn),[ci.Sqrt]:Rr(Kr(1,1,Zn),Zn),[ci.Match]:Rr(Kr(4,1/0,yw|Zn),Zd)};function Kr(i,e,t){return function(n,r){const s=n[0],o=n.length-1;if(i===e){if(o!==i)throw new Error(`Expected ${i} argument${1===i?"":"s"} for operation ${s}, got ${o}`)}else if(o<i||o>e)throw new Error(`Expected ${i} to ${e} arguments for operation ${s}, got ${o}`);const l=new Array(o);for(let d=0;d<o;++d){const h=M3(n[d+1],r);if(!PQ(t,h.type)){const m=E3(t),b=E3(h.type);throw new Error(`Unexpected type for argument ${d} of ${s} operation : got ${m} but expected ${b}`)}l[d]=h}return l}}function Rr(i,e){return function(t,n){const r=t[0],s=i(t,n);return new MCt(e,r,...s)}}function Og(i,e,t){const n=M3(i,t);if(!PQ(e,n.type)){const r=E3(e),s=E3(n.type);throw new Error(`Expected expression to be of type ${r}, got ${s}`)}return Db(n,t)}function Db(i,e){if(i instanceof Ag)return function(){return i.value};const t=i.operator;switch(t){case ci.Number:case ci.String:return function ACt(i,e){const t=i.operator,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=Db(i.args[s],e);switch(t){case ci.Number:case ci.String:return s=>{for(let o=0;o<n;++o){const l=r[o](s);if(typeof l===t)return l}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}(i,e);case ci.Get:case ci.Var:return function OCt(i,e){const t=i.args[0];if(!(t instanceof Ag))throw new Error("Expected literal name");const n=t.value;if("string"!=typeof n)throw new Error("Expected string name");switch(i.operator){case ci.Get:return r=>r.properties[n];case ci.Var:return r=>r.variables[n];default:throw new Error(`Unsupported accessor operator ${i.operator}`)}}(i);case ci.Resolution:return n=>n.resolution;case ci.Any:case ci.All:case ci.Not:return function PCt(i,e){const t=i.operator,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=Db(i.args[s],e);switch(t){case ci.Any:return s=>{for(let o=0;o<n;++o)if(r[o](s))return!0;return!1};case ci.All:return s=>{for(let o=0;o<n;++o)if(!r[o](s))return!1;return!0};case ci.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${t}`)}}(i,e);case ci.Equal:case ci.NotEqual:case ci.LessThan:case ci.LessThanOrEqualTo:case ci.GreaterThan:case ci.GreaterThanOrEqualTo:return function RCt(i,e){const t=i.operator,n=Db(i.args[0],e),r=Db(i.args[1],e);switch(t){case ci.Equal:return s=>n(s)===r(s);case ci.NotEqual:return s=>n(s)!==r(s);case ci.LessThan:return s=>n(s)<r(s);case ci.LessThanOrEqualTo:return s=>n(s)<=r(s);case ci.GreaterThan:return s=>n(s)>r(s);case ci.GreaterThanOrEqualTo:return s=>n(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${t}`)}}(i,e);case ci.Multiply:case ci.Divide:case ci.Add:case ci.Subtract:case ci.Clamp:case ci.Mod:case ci.Pow:case ci.Abs:case ci.Floor:case ci.Ceil:case ci.Round:case ci.Sin:case ci.Cos:case ci.Atan:case ci.Sqrt:return function LCt(i,e){const t=i.operator,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=Db(i.args[s],e);switch(t){case ci.Multiply:return s=>{let o=1;for(let l=0;l<n;++l)o*=r[l](s);return o};case ci.Divide:return s=>r[0](s)/r[1](s);case ci.Add:return s=>{let o=0;for(let l=0;l<n;++l)o+=r[l](s);return o};case ci.Subtract:return s=>r[0](s)-r[1](s);case ci.Clamp:return s=>{const o=r[0](s),l=r[1](s);if(o<l)return l;const d=r[2](s);return o>d?d:o};case ci.Mod:return s=>r[0](s)%r[1](s);case ci.Pow:return s=>Math.pow(r[0](s),r[1](s));case ci.Abs:return s=>Math.abs(r[0](s));case ci.Floor:return s=>Math.floor(r[0](s));case ci.Ceil:return s=>Math.ceil(r[0](s));case ci.Round:return s=>Math.round(r[0](s));case ci.Sin:return s=>Math.sin(r[0](s));case ci.Cos:return s=>Math.cos(r[0](s));case ci.Atan:return 2===n?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case ci.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${t}`)}}(i,e);case ci.Match:return function FCt(i,e){const t=i.args.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=Db(i.args[r],e);return r=>{const s=n[0](r);for(let o=1;o<t;o+=2)if(s===n[o](r))return n[o+1](r);return n[t-1](r)}}(i,e);default:throw new Error(`Unsupported operator ${t}`)}}function NCt(i){return!0}function NQ(i){const e=LQ(),t=i.length,n=new Array(t);for(let o=0;o<t;++o)n[o]=L9(i[o],e);const r={variables:{},properties:{},resolution:NaN},s=new Array(t);return function(o,l){r.properties=o.getPropertiesInternal(),r.resolution=l;for(let d=0;d<t;++d)s[d]=n[d](r);return s}}function L9(i,e){const t=K2(i,"",e),n=Q2(i,"",e),r=function VCt(i,e){const t="text-",n=Rg(i,t+"value",e);if(!n)return null;const r=K2(i,t,e),s=K2(i,t+"background-",e),o=Q2(i,t,e),l=Q2(i,t+"background-",e),d=Rg(i,t+"font",e),h=Ul(i,t+"max-angle",e),m=Ul(i,t+"offset-x",e),b=Ul(i,t+"offset-y",e),v=J2(i,t+"overflow",e),E=Rg(i,t+"placement",e),D=Ul(i,t+"repeat",e),T=k3(i,t+"scale",e),P=J2(i,t+"rotate-with-view",e),F=Ul(i,t+"rotation",e),H=Rg(i,t+"align",e),j=Rg(i,t+"justify",e),Q=Rg(i,t+"baseline",e),Tt=zQ(i,t+"padding",e),Rt=new R9({});return function(Ct){if(Rt.setText(n(Ct)),r&&Rt.setFill(r(Ct)),s&&Rt.setBackgroundFill(s(Ct)),o&&Rt.setStroke(o(Ct)),l&&Rt.setBackgroundStroke(l(Ct)),d&&Rt.setFont(d(Ct)),h&&Rt.setMaxAngle(h(Ct)),m&&Rt.setOffsetX(m(Ct)),b&&Rt.setOffsetY(b(Ct)),v&&Rt.setOverflow(v(Ct)),E){const Bt=E(Ct);if("point"!==Bt&&"line"!==Bt)throw new Error("Expected point or line for text-placement");Rt.setPlacement(Bt)}if(D&&Rt.setRepeat(D(Ct)),T&&Rt.setScale(T(Ct)),P&&Rt.setRotateWithView(P(Ct)),F&&Rt.setRotation(F(Ct)),H){const Bt=H(Ct);if("left"!==Bt&&"center"!==Bt&&"right"!==Bt&&"end"!==Bt&&"start"!==Bt)throw new Error("Expected left, right, center, start, or end for text-align");Rt.setTextAlign(Bt)}if(j){const Bt=j(Ct);if("left"!==Bt&&"right"!==Bt&&"center"!==Bt)throw new Error("Expected left, right, or center for text-justify");Rt.setJustify(Bt)}if(Q){const Bt=Q(Ct);if("bottom"!==Bt&&"top"!==Bt&&"middle"!==Bt&&"alphabetic"!==Bt&&"hanging"!==Bt)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Rt.setTextBaseline(Bt)}return Tt&&Rt.setPadding(Tt(Ct)),Rt}}(i,e),s=function HCt(i,e){return"icon-src"in i?function UCt(i,e){const t="icon-",n=t+"src",r=UQ(i[n],n),s=S3(i,t+"anchor",e),o=k3(i,t+"scale",e),l=Ul(i,t+"opacity",e),d=S3(i,t+"displacement",e),h=Ul(i,t+"rotation",e),m=J2(i,t+"rotate-with-view",e),b=VQ(i,t+"anchor-origin"),v=HQ(i,t+"anchor-x-units"),E=HQ(i,t+"anchor-y-units"),D=function ZCt(i,e){const t=i[e];if(void 0!==t)return jQ(t,e)}(i,t+"color"),T=function $Ct(i,e){const t=i[e];if(void 0!==t){if("string"!=typeof t)throw new Error(`Expected a string for ${e}`);return t}}(i,t+"cross-origin"),P=function YCt(i,e){const t=i[e];if(void 0!==t)return tk(t,e)}(i,t+"offset"),F=VQ(i,t+"offset-origin"),H=xw(i,t+"width"),j=xw(i,t+"height"),Q=function WCt(i,e){const t=i[e];if(void 0!==t){if("number"==typeof t)return fl(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(2!==t.length||"number"!=typeof t[0]||"number"!=typeof t[1])throw new Error(`Expected a number or size array for ${e}`);return t}}(i,t+"size"),Tt=F9(i,t+"declutter"),Rt=new A9({src:r,anchorOrigin:b,anchorXUnits:v,anchorYUnits:E,color:D,crossOrigin:T,offset:P,offsetOrigin:F,height:j,width:H,size:Q,declutterMode:Tt});return function(Ct){return l&&Rt.setOpacity(l(Ct)),d&&Rt.setDisplacement(d(Ct)),h&&Rt.setRotation(h(Ct)),m&&Rt.setRotateWithView(m(Ct)),o&&Rt.setScale(o(Ct)),s&&Rt.setAnchor(s(Ct)),Rt}}(i,e):"shape-points"in i?function GCt(i,e){const t="shape-",n=t+"points",r=GQ(i[n],n),s=K2(i,t,e),o=Q2(i,t,e),l=k3(i,t+"scale",e),d=S3(i,t+"displacement",e),h=Ul(i,t+"rotation",e),m=J2(i,t+"rotate-with-view",e),b=xw(i,t+"radius"),v=xw(i,t+"radius1"),E=xw(i,t+"radius2"),D=xw(i,t+"angle"),T=F9(i,t+"declutter-mode"),P=new M9({points:r,radius:b,radius1:v,radius2:E,angle:D,declutterMode:T});return function(F){return s&&P.setFill(s(F)),o&&P.setStroke(o(F)),d&&P.setDisplacement(d(F)),h&&P.setRotation(h(F)),m&&P.setRotateWithView(m(F)),l&&P.setScale(l(F)),P}}(i,e):"circle-radius"in i?function jCt(i,e){const t="circle-",n=K2(i,t,e),r=Q2(i,t,e),s=Ul(i,t+"radius",e),o=k3(i,t+"scale",e),l=S3(i,t+"displacement",e),d=Ul(i,t+"rotation",e),h=J2(i,t+"rotate-with-view",e),m=F9(i,t+"declutter-mode"),b=new Yd({radius:5,declutterMode:m});return function(v){return s&&b.setRadius(s(v)),n&&b.setFill(n(v)),r&&b.setStroke(r(v)),l&&b.setDisplacement(l(v)),d&&b.setRotation(d(v)),h&&b.setRotateWithView(h(v)),o&&b.setScale(o(v)),b}}(i,e):null}(i,e),o=Ul(i,"z-index",e),l=new bs;return function(d){let h=!0;if(t){const m=t(d);m&&(h=!1),l.setFill(m)}if(n){const m=n(d);m&&(h=!1),l.setStroke(m)}if(r){const m=r(d);m&&(h=!1),l.setText(m)}if(s){const m=s(d);m&&(h=!1),l.setImage(m)}return o&&l.setZIndex(o(d)),h?null:l}}function K2(i,e,t){const n=BQ(i,e+"fill-color",t);if(!n)return null;const r=new Cs;return function(s){const o=n(s);return"none"===o?null:(r.setColor(o),r)}}function Q2(i,e,t){const n=Ul(i,e+"stroke-width",t),r=BQ(i,e+"stroke-color",t);if(!n&&!r)return null;const s=Rg(i,e+"stroke-line-cap",t),o=Rg(i,e+"stroke-line-join",t),l=zQ(i,e+"stroke-line-dash",t),d=Ul(i,e+"stroke-line-dash-offset",t),h=Ul(i,e+"stroke-miter-limit",t),m=new Xs;return function(b){if(r){const v=r(b);if("none"===v)return null;m.setColor(v)}if(n&&m.setWidth(n(b)),s){const v=s(b);if("butt"!==v&&"round"!==v&&"square"!==v)throw new Error("Expected butt, round, or square line cap");m.setLineCap(v)}if(o){const v=o(b);if("bevel"!==v&&"round"!==v&&"miter"!==v)throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(v)}return l&&m.setLineDash(l(b)),d&&m.setLineDashOffset(d(b)),h&&m.setMiterLimit(h(b)),m}}function Ul(i,e,t){if(!(e in i))return;const n=Og(i[e],Zn,t);return function(r){return GQ(n(r),e)}}function Rg(i,e,t){if(!(e in i))return null;const n=Og(i[e],yw,t);return function(r){return UQ(n(r),e)}}function J2(i,e,t){if(!(e in i))return null;const n=Og(i[e],Wa,t);return function(r){const s=n(r);if("boolean"!=typeof s)throw new Error(`Expected a boolean for ${e}`);return s}}function BQ(i,e,t){if(!(e in i))return null;const n=Og(i[e],P9|yw,t);return function(r){return jQ(n(r),e)}}function zQ(i,e,t){if(!(e in i))return null;const n=Og(i[e],X2,t);return function(r){return tk(n(r),e)}}function S3(i,e,t){if(!(e in i))return null;const n=Og(i[e],X2,t);return function(r){const s=tk(n(r),e);if(2!==s.length)throw new Error(`Expected two numbers for ${e}`);return s}}function k3(i,e,t){if(!(e in i))return null;const n=Og(i[e],X2|Zn,t);return function(r){return function qCt(i,e){if("number"==typeof i)return i;const t=tk(i,e);if(2!==t.length)throw new Error(`Expected an array of two numbers for ${e}`);return t}(n(r),e)}}function xw(i,e){const t=i[e];if(void 0!==t){if("number"!=typeof t)throw new Error(`Expected a number for ${e}`);return t}}function VQ(i,e){const t=i[e];if(void 0!==t){if("bottom-left"!==t&&"bottom-right"!==t&&"top-left"!==t&&"top-right"!==t)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function HQ(i,e){const t=i[e];if(void 0!==t){if("pixels"!==t&&"fraction"!==t)throw new Error(`Expected pixels or fraction for ${e}`);return t}}function F9(i,e){const t=i[e];if(void 0!==t){if("string"!=typeof t)throw new Error(`Expected a string for ${e}`);if("declutter"!==t&&"obstacle"!==t&&"none"!==t)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function tk(i,e){if(!Array.isArray(i))throw new Error(`Expected an array for ${e}`);const t=i.length;for(let n=0;n<t;++n)if("number"!=typeof i[n])throw new Error(`Expected an array of numbers for ${e}`);return i}function UQ(i,e){if("string"!=typeof i)throw new Error(`Expected a string for ${e}`);return i}function GQ(i,e){if("number"!=typeof i)throw new Error(`Expected a number for ${e}`);return i}function jQ(i,e){if("string"==typeof i)return i;const t=tk(i,e),n=t.length;if(n<3||n>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}const $Q=class XCt extends g3{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new xQ(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set("renderOrder",e)}setStyle(e){this.style_=function KCt(i){if(void 0===i)return _Ct;if(!i)return null;if("function"==typeof i||i instanceof bs)return i;if(!Array.isArray(i))return NQ([i]);if(0===i.length)return[];const e=i.length,t=i[0];if(t instanceof bs){const r=new Array(e);for(let s=0;s<e;++s){const o=i[s];if(!(o instanceof bs))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in t){const r=new Array(e);for(let s=0;s<e;++s){const o=i[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return function BCt(i){const t=function zCt(i,e){const t=i.length,n=new Array(t);for(let r=0;r<t;++r){const s=i[r],o="filter"in s?Og(s.filter,Wa,e):NCt;let l;if(Array.isArray(s.style)){const d=s.style.length;l=new Array(d);for(let h=0;h<d;++h)l[h]=L9(s.style[h],e)}else l=[L9(s.style,e)];n[r]={filter:o,styles:l}}return function(r){const s=[];let o=!1;for(let l=0;l<t;++l)if((0,n[l].filter)(r)&&(!i[l].else||!o)){o=!0;for(const h of n[l].styles){const m=h(r);m&&s.push(m)}}return s}}(i,LQ()),n={variables:{},properties:{},resolution:NaN};return function(r,s){return n.properties=r.getPropertiesInternal(),n.resolution=s,t(n)}}(r)}return NQ(i)}(e),this.styleFunction_=null===e?void 0:function gCt(i){let e;if("function"==typeof i)e=i;else{let t;Array.isArray(i)?t=i:((0,vr.h)("function"==typeof i.getZIndex,"Expected an `Style` or an array of `Style`"),t=[i]),e=function(){return t}}return e}(this.style_),this.changed()}},ek={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},D3=[ek.FILL],Pg=[ek.STROKE],Tb=[ek.BEGIN_PATH],YQ=[ek.CLOSE_PATH],hn=ek;var QCt=Et(552);const ZQ=class JCt{drawCustom(e,t,n,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},ik=class tEt extends ZQ{constructor(e,t,n,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map(function(n){return n*t})}appendFlatPointCoordinates(e,t){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let l=0,d=e.length;l<d;l+=t)r[0]=e[l],r[1]=e[l+1],(0,me.b8)(n,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,n,r,s,o){const l=this.coordinates;let d=l.length;const h=this.getBufferedMaxExtent();o&&(t+=r);let m=e[t],b=e[t+1];const v=this.tmpCoordinate_;let D,T,P,E=!0;for(D=t+r;D<n;D+=r)v[0]=e[D],v[1]=e[D+1],P=(0,me.pX)(h,v),P!==T?(E&&(l[d++]=m,l[d++]=b,E=!1),l[d++]=v[0],l[d++]=v[1]):P===QCt.Z.INTERSECTING?(l[d++]=v[0],l[d++]=v[1],E=!1):E=!0,m=v[0],b=v[1],T=P;return(s&&E||D===t+r)&&(l[d++]=m,l[d++]=b),d}drawCustomCoordinates_(e,t,n,r,s){for(let o=0,l=n.length;o<l;++o){const d=n[o],h=this.appendFlatLineCoordinates(e,t,d,r,!1,!1);s.push(h),t=d}return t}drawCustom(e,t,n,r){this.beginGeometry(e,t);const s=e.getType(),o=e.getStride(),l=this.coordinates.length;let d,h,m,b,v;switch(s){case"MultiPolygon":d=e.getOrientedFlatCoordinates(),b=[];const E=e.getEndss();v=0;for(let D=0,T=E.length;D<T;++D){const P=[];v=this.drawCustomCoordinates_(d,v,E[D],o,P),b.push(P)}this.instructions.push([hn.CUSTOM,l,b,e,n,J7]),this.hitDetectionInstructions.push([hn.CUSTOM,l,b,e,r||n,J7]);break;case"Polygon":case"MultiLineString":m=[],d="Polygon"==s?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),v=this.drawCustomCoordinates_(d,0,e.getEnds(),o,m),this.instructions.push([hn.CUSTOM,l,m,e,n,U2]),this.hitDetectionInstructions.push([hn.CUSTOM,l,m,e,r||n,U2]);break;case"LineString":case"Circle":d=e.getFlatCoordinates(),h=this.appendFlatLineCoordinates(d,0,d.length,o,!1,!1),this.instructions.push([hn.CUSTOM,l,h,e,n,Sg]),this.hitDetectionInstructions.push([hn.CUSTOM,l,h,e,r||n,Sg]);break;case"MultiPoint":d=e.getFlatCoordinates(),h=this.appendFlatPointCoordinates(d,o),h>l&&(this.instructions.push([hn.CUSTOM,l,h,e,n,Sg]),this.hitDetectionInstructions.push([hn.CUSTOM,l,h,e,r||n,Sg]));break;case"Point":d=e.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),h=this.coordinates.length,this.instructions.push([hn.CUSTOM,l,h,e,n]),this.hitDetectionInstructions.push([hn.CUSTOM,l,h,e,r||n])}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[hn.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[hn.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const n=e.length;let r,s,o=-1;for(t=0;t<n;++t)r=e[t],s=r[0],s==hn.END_GEOMETRY?o=t:s==hn.BEGIN_GEOMETRY&&(r[2]=t,(0,zr.FZ)(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){const n=this.state;if(e){const r=e.getColor();n.fillStyle=ah(r||Hl)}else n.fillStyle=void 0;if(t){const r=t.getColor();n.strokeStyle=ah(r||$2);const s=t.getLineCap();n.lineCap=void 0!==s?s:gw;const o=t.getLineDash();n.lineDash=o?o.slice():Kf;const l=t.getLineDashOffset();n.lineDashOffset=l||0;const d=t.getLineJoin();n.lineJoin=void 0!==d?d:_w;const h=t.getWidth();n.lineWidth=void 0!==h?h:1;const m=t.getMiterLimit();n.miterLimit=void 0!==m?m:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(e){const t=e.fillStyle,n=[hn.SET_FILL_STYLE,t];return"string"!=typeof t&&n.push(!0),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[hn.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const n=e.fillStyle;("string"!=typeof n||e.currentFillStyle!=n)&&(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){const n=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineDashOffset,l=e.lineJoin,d=e.lineWidth,h=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=r||s!=e.currentLineDash&&!(0,zr.fS)(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=l||e.currentLineWidth!=d||e.currentMiterLimit!=h)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=l,e.currentLineWidth=d,e.currentMiterLimit=h)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[hn.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,me.d9)(this.maxExtent),this.maxLineWidth>0)&&(0,me.f3)(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_}},qQ=class sEt extends ik{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const s=this.state,o=void 0!==s.fillStyle,l=void 0!==s.strokeStyle,d=n.length;this.instructions.push(Tb),this.hitDetectionInstructions.push(Tb);for(let h=0;h<d;++h){const m=n[h],b=this.coordinates.length,v=this.appendFlatLineCoordinates(e,t,m,r,!0,!l),E=[hn.MOVE_TO_LINE_TO,b,v];this.instructions.push(E),this.hitDetectionInstructions.push(E),l&&(this.instructions.push(YQ),this.hitDetectionInstructions.push(YQ)),t=m}return o&&(this.instructions.push(D3),this.hitDetectionInstructions.push(D3)),l&&(this.instructions.push(Pg),this.hitDetectionInstructions.push(Pg)),t}drawCircle(e,t){const n=this.state;if(void 0===n.fillStyle&&void 0===n.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([hn.SET_FILL_STYLE,Hl]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([hn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Kf,0]);const o=e.getFlatCoordinates(),l=e.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const h=[hn.CIRCLE,d];this.instructions.push(Tb,h),this.hitDetectionInstructions.push(Tb,h),void 0!==n.fillStyle&&(this.instructions.push(D3),this.hitDetectionInstructions.push(D3)),void 0!==n.strokeStyle&&(this.instructions.push(Pg),this.hitDetectionInstructions.push(Pg)),this.endGeometry(t)}drawPolygon(e,t){const n=this.state;if(void 0===n.fillStyle&&void 0===n.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([hn.SET_FILL_STYLE,Hl]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([hn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Kf,0]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),d=e.getStride();this.drawFlatCoordinatess_(l,0,o,d),this.endGeometry(t)}drawMultiPolygon(e,t){const n=this.state;if(void 0===n.fillStyle&&void 0===n.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([hn.SET_FILL_STYLE,Hl]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([hn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Kf,0]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),d=e.getStride();let h=0;for(let m=0,b=o.length;m<b;++m)h=this.drawFlatCoordinatess_(l,h,o[m],d);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let n=0,r=t.length;n<r;++n)t[n]=Cb(t[n],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}};function oEt(i,e,t,n,r){const s=[];let o=t,l=0,d=e.slice(t,2);for(;l<i&&o+r<n;){const[h,m]=d.slice(-2),b=e[o+r],v=e[o+r+1],E=Math.sqrt((b-h)*(b-h)+(v-m)*(v-m));if(l+=E,l>=i){const D=(i-l+E)/E,T=(0,Fi.t7)(h,b,D),P=(0,Fi.t7)(m,v,D);d.push(T,P),s.push(d),d=[T,P],l==i&&(o+=r),l=0}else if(l<i)d.push(e[o+r],e[o+r+1]),o+=r;else{const D=E-l,T=(0,Fi.t7)(h,b,D/E),P=(0,Fi.t7)(m,v,D/E);d.push(T,P),s.push(d),d=[T,P],l=0,o+=r}}return l>0&&s.push(d),s}function aEt(i,e,t,n,r){let m,b,v,E,D,T,P,F,H,j,s=t,o=t,l=0,d=0,h=t;for(b=t;b<n;b+=r){const Q=e[b],Tt=e[b+1];void 0!==D&&(H=Q-D,j=Tt-T,E=Math.sqrt(H*H+j*j),void 0!==P&&(d+=v,m=Math.acos((P*H+F*j)/(v*E)),m>i&&(d>l&&(l=d,s=h,o=b),d=0,h=b-r)),v=E,P=H,F=j),D=Q,T=Tt}return d+=E,d>l?[h,b]:[s,o]}const T3={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},cEt={Circle:qQ,Default:ik,Image:class eEt extends ik{constructor(e,t,n,r){super(e,t,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const n=e.getFlatCoordinates(),r=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([hn.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([hn.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const n=e.getFlatCoordinates(),r=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([hn.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([hn.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const n=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},LineString:class nEt extends ik{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinates_(e,t,n,r){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),l=[hn.MOVE_TO_LINE_TO,s,o];return this.instructions.push(l),this.hitDetectionInstructions.push(l),n}drawLineString(e,t){const n=this.state;if(void 0===n.strokeStyle||void 0===n.lineWidth)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([hn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Kf,0],Tb);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(Pg),this.endGeometry(t)}drawMultiLineString(e,t){const n=this.state;if(void 0===n.strokeStyle||void 0===n.lineWidth)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([hn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Kf,0],Tb);const o=e.getEnds(),l=e.getFlatCoordinates(),d=e.getStride();let h=0;for(let m=0,b=o.length;m<b;++m)h=this.drawFlatCoordinates_(l,h,o[m],d);this.hitDetectionInstructions.push(Pg),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Pg),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Pg),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Tb)}},Polygon:qQ,Text:class lEt extends ik{constructor(e,t,n,r){super(e,t,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Hl]={fillStyle:Hl},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const s=this.textState_;if(""===this.text_||!s||!this.textFillState_&&!this.textStrokeState_)return;const o=this.coordinates;let l=o.length;const d=e.getType();let h=null,m=e.getStride();if("line"!==s.placement||"LineString"!=d&&"MultiLineString"!=d&&"Polygon"!=d&&"MultiPolygon"!=d){let b=s.overflow?null:[];switch(d){case"Point":case"MultiPoint":h=e.getFlatCoordinates();break;case"LineString":h=e.getFlatMidpoint();break;case"Circle":h=e.getCenter();break;case"MultiLineString":h=e.getFlatMidpoints(),m=2;break;case"Polygon":h=e.getFlatInteriorPoint(),s.overflow||b.push(h[2]/this.resolution),m=3;break;case"MultiPolygon":const F=e.getFlatInteriorPoints();h=[];for(let H=0,j=F.length;H<j;H+=3)s.overflow||b.push(F[H+2]/this.resolution),h.push(F[H],F[H+1]);if(0===h.length)return;m=2}const v=this.appendFlatPointCoordinates(h,m);if(v===l)return;if(b&&(v-l)/2!=h.length/m){let F=l/2;b=b.filter((H,j)=>{const Q=o[2*(F+j)]===h[j*m]&&o[2*(F+j)+1]===h[j*m+1];return Q||--F,Q})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&this.updateFillStyle(this.state,this.createFill),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let E=s.padding;if(E!=kb&&(s.scale[0]<0||s.scale[1]<0)){let F=s.padding[0],H=s.padding[1],j=s.padding[2],Q=s.padding[3];s.scale[0]<0&&(H=-H,Q=-Q),s.scale[1]<0&&(F=-F,j=-j),E=[F,H,j,Q]}const D=this.pixelRatio;this.instructions.push([hn.DRAW_IMAGE,l,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,E==kb?kb:E.map(function(F){return F*D}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,b]);const T=1/D,P=this.state.fillStyle;s.backgroundFill&&(this.state.fillStyle=Hl,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([hn.DRAW_IMAGE,l,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[T,T],NaN,void 0,this.declutterImageWithText_,E,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Hl:this.fillKey_,this.textOffsetX_,this.textOffsetY_,b]),s.backgroundFill&&(this.state.fillStyle=P,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!(0,me.kK)(this.getBufferedMaxExtent(),e.getExtent()))return;let b;if(h=e.getFlatCoordinates(),"LineString"==d)b=[h.length];else if("MultiLineString"==d)b=e.getEnds();else if("Polygon"==d)b=e.getEnds().slice(0,1);else if("MultiPolygon"==d){const T=e.getEndss();b=[];for(let P=0,F=T.length;P<F;++P)b.push(T[P][0])}this.beginGeometry(e,t);const v=s.repeat,E=v?void 0:s.textAlign;let D=0;for(let T=0,P=b.length;T<P;++T){let F;F=v?oEt(v*this.resolution,h,D,b[T],m):[h.slice(D,b[T])];for(let H=0,j=F.length;H<j;++H){const Q=F[H];let Tt=0,Rt=Q.length;if(null==E){const Bt=aEt(s.maxAngle,Q,0,Q.length,2);Tt=Bt[0],Rt=Bt[1]}for(let Bt=Tt;Bt<Rt;Bt+=m)o.push(Q[Bt],Q[Bt+1]);const Ct=o.length;D=b[T],this.drawChars_(l,Ct),l=Ct}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||Y2,justify:t.justify,textBaseline:t.textBaseline||x3,scale:t.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(e,t){const n=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,l=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,h=T3[r.textBaseline],m=this.textOffsetY_*d,b=this.text_,v=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([hn.DRAW_CHARS,e,t,h,r.overflow,l,r.maxAngle,d,m,s,v*d,b,o,1]),this.hitDetectionInstructions.push([hn.DRAW_CHARS,e,t,h,r.overflow,l&&Hl,r.maxAngle,d,m,s,v*d,b,o,1/d])}setTextStyle(e,t){let n,r,s;if(e){const o=e.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=ah(o.getColor()||Hl)):(r=null,this.textFillState_=r);const l=e.getStroke();if(l){s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const D=l.getLineDash(),T=l.getLineDashOffset(),P=l.getWidth(),F=l.getMiterLimit();s.lineCap=l.getLineCap()||gw,s.lineDash=D?D.slice():Kf,s.lineDashOffset=void 0===T?0:T,s.lineJoin=l.getLineJoin()||_w,s.lineWidth=void 0===P?1:P,s.miterLimit=void 0===F?10:F,s.strokeStyle=ah(l.getColor()||$2)}else s=null,this.textStrokeState_=s;n=this.textState_;const d=e.getFont()||kQ;uCt(d);const h=e.getScaleArray();n.overflow=e.getOverflow(),n.font=d,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||x3,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||kb,n.scale=void 0===h?[1,1]:h;const m=e.getOffsetX(),b=e.getOffsetY(),v=e.getRotateWithView(),E=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===b?0:b,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===E?0:E,this.strokeKey_=s?("string"==typeof s.strokeStyle?s.strokeStyle:(0,gi.sq)(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+(0,gi.sq)(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}},I3=class dEt{constructor(e,t,n,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const r in n){const s=n[r].finish();e[t][r]=s}}return e}getBuilder(e,t){const n=void 0!==e?e.toString():"0";let r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);let s=r[t];return void 0===s&&(s=new(0,cEt[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=s),s}};function uEt(i,e,t,n,r,s,o,l,d,h,m,b){let v=i[e],E=i[e+1],D=0,T=0,P=0,F=0;function H(){D=v,T=E,v=i[e+=n],E=i[e+1],F+=P,P=Math.sqrt((v-D)*(v-D)+(E-T)*(E-T))}do{H()}while(e<t-n&&F+P<s);let j=0===P?0:(s-F)/P;const Q=(0,Fi.t7)(D,v,j),Tt=(0,Fi.t7)(T,E,j),Rt=e-n,Ct=F,Bt=s+l*d(h,r,m);for(;e<t-n&&F+P<Bt;)H();j=0===P?0:(Bt-F)/P;const Vt=(0,Fi.t7)(D,v,j),he=(0,Fi.t7)(T,E,j);let re;if(b){const Ht=[Q,Tt,Vt,he];Y7(Ht,0,4,2,b,Ht,Ht),re=Ht[0]>Ht[2]}else re=Q>Vt;const kt=Math.PI,ie=[],de=Rt+n===e;let pe;if(P=0,F=Ct,v=i[e=Rt],E=i[e+1],de)return H(),pe=Math.atan2(E-T,v-D),re&&(pe+=pe>0?-kt:kt),ie[0]=[(Vt+Q)/2,(he+Tt)/2,(Bt-s)/2,pe,r],ie;for(let Ht=0,Kt=(r=r.replace(/\n/g," ")).length;Ht<Kt;){H();let oe=Math.atan2(E-T,v-D);if(re&&(oe+=oe>0?-kt:kt),void 0!==pe){let di=oe-pe;if(di+=di>kt?-2*kt:di<-kt?2*kt:0,Math.abs(di)>o)return null}pe=oe;const we=Ht;let Je=0;for(;Ht<Kt;++Ht){const ji=l*d(h,r[re?Kt-Ht-1:Ht],m);if(e+n<t&&F+P<s+Je+ji/2)break;Je+=ji}if(Ht===we)continue;const Ci=re?r.substring(Kt-we,Kt-Ht):r.substring(we,Ht);j=0===P?0:(s+Je/2-F)/P;const ke=(0,Fi.t7)(D,v,j),Zi=(0,Fi.t7)(T,E,j);ie.push([ke,Zi,Je/2,oe,Ci]),s+=Je}return ie}const ww=(0,me.lJ)(),Lg=[],tm=[],em=[],Fg=[];function XQ(i){return i[3].declutterBox}const KQ=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function N9(i,e){return"start"===e?e=KQ.test(i)?"right":"left":"end"===e&&(e=KQ.test(i)?"left":"right"),T3[e]}function hEt(i,e,t){return t>0&&i.push("\n",""),i.push(e,""),i}const mEt=class fEt{constructor(e,t,n,r){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,n,r){const s=e+t+n+r;if(this.labels_[s])return this.labels_[s];const o=r?this.strokeStates[r]:null,l=n?this.fillStates[n]:null,d=this.textStates[t],h=this.pixelRatio,m=[d.scale[0]*h,d.scale[1]*h],b=Array.isArray(e),v=d.justify?T3[d.justify]:N9(Array.isArray(e)?e[0]:e,d.textAlign||Y2),E=r&&o.lineWidth?o.lineWidth:0,D=b?e:e.split("\n").reduce(hEt,[]),{width:T,height:P,widths:F,heights:H,lineWidths:j}=function fCt(i,e){const t=[],n=[],r=[];let s=0,o=0,l=0,d=0;for(let h=0,m=e.length;h<=m;h+=2){const b=e[h];if("\n"===b||h===m){s=Math.max(s,o),r.push(o),o=0,l+=d;continue}const v=e[h+1]||i.font,E=w3(v,b);t.push(E),o+=E;const D=hCt(v);n.push(D),d=Math.max(d,D)}return{width:s,height:l,widths:t,heights:n,lineWidths:r}}(d,D),Q=T+E,Tt=[],Rt=(Q+2)*m[0],Ct=(P+E)*m[1],Bt={width:Rt<0?Math.floor(Rt):Math.ceil(Rt),height:Ct<0?Math.floor(Ct):Math.ceil(Ct),contextInstructions:Tt};(1!=m[0]||1!=m[1])&&Tt.push("scale",m),r&&(Tt.push("strokeStyle",o.strokeStyle),Tt.push("lineWidth",E),Tt.push("lineCap",o.lineCap),Tt.push("lineJoin",o.lineJoin),Tt.push("miterLimit",o.miterLimit),Tt.push("setLineDash",[o.lineDash]),Tt.push("lineDashOffset",o.lineDashOffset)),n&&Tt.push("fillStyle",l.fillStyle),Tt.push("textBaseline","middle"),Tt.push("textAlign","center");const Vt=.5-v;let he=v*Q+Vt*E;const re=[],kt=[];let Kt,ie=0,de=0,pe=0,Ht=0;for(let oe=0,we=D.length;oe<we;oe+=2){const Je=D[oe];if("\n"===Je){de+=ie,ie=0,he=v*Q+Vt*E,++Ht;continue}const Ci=D[oe+1]||d.font;Ci!==Kt&&(r&&re.push("font",Ci),n&&kt.push("font",Ci),Kt=Ci),ie=Math.max(ie,H[pe]);const ke=[Je,he+Vt*F[pe]+v*(F[pe]-j[Ht]),.5*(E+ie)+de];he+=F[pe],r&&re.push("strokeText",ke),n&&kt.push("fillText",ke),++pe}return Array.prototype.push.apply(Tt,re),Array.prototype.push.apply(Tt,kt),this.labels_[s]=Bt,Bt}replayTextBackground_(e,t,n,r,s,o,l){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,r,s,o,l,d,h,m,b,v,E,D,T,P){let F=n-(l*=v[0]),H=r-(d*=v[1]);const j=s+h>e?e-h:s,Q=o+m>t?t-m:o,Tt=D[3]+j*v[0]+D[1],Rt=D[0]+Q*v[1]+D[2],Ct=F-D[3],Bt=H-D[0];let Vt;return(T||0!==b)&&(Lg[0]=Ct,Fg[0]=Ct,Lg[1]=Bt,tm[1]=Bt,tm[0]=Ct+Tt,em[0]=tm[0],em[1]=Bt+Rt,Fg[1]=em[1]),0!==b?(Vt=sh([1,0,0,1,0,0],n,r,1,1,b,-n,-r),So(Vt,Lg),So(Vt,tm),So(Vt,em),So(Vt,Fg),(0,me.T9)(Math.min(Lg[0],tm[0],em[0],Fg[0]),Math.min(Lg[1],tm[1],em[1],Fg[1]),Math.max(Lg[0],tm[0],em[0],Fg[0]),Math.max(Lg[1],tm[1],em[1],Fg[1]),ww)):(0,me.T9)(Math.min(Ct,Ct+Tt),Math.min(Bt,Bt+Rt),Math.max(Ct,Ct+Tt),Math.max(Bt,Bt+Rt),ww),E&&(F=Math.round(F),H=Math.round(H)),{drawImageX:F,drawImageY:H,drawImageW:j,drawImageH:Q,originX:h,originY:m,declutterBox:{minX:ww[0],minY:ww[1],maxX:ww[2],maxY:ww[3],value:P},canvasTransform:Vt,scale:v}}replayImageOrLabel_(e,t,n,r,s,o,l){const h=r.declutterBox,m=e.canvas,b=l?l[2]*r.scale[0]/2:0;return h.minX-b<=m.width/t&&h.maxX+b>=0&&h.minY-b<=m.height/t&&h.maxY+b>=0&&(!(!o&&!l)&&this.replayTextBackground_(e,Lg,tm,em,Fg,o,l),function mCt(i,e,t,n,r,s,o,l,d,h,m){i.save(),1!==t&&(i.globalAlpha*=t),e&&i.transform.apply(i,e),n.contextInstructions?(i.translate(d,h),i.scale(m[0],m[1]),function pCt(i,e){const t=i.contextInstructions;for(let n=0,r=t.length;n<r;n+=2)Array.isArray(t[n+1])?e[t[n]].apply(e,t[n+1]):e[t[n]]=t[n+1]}(n,i)):m[0]<0||m[1]<0?(i.translate(d,h),i.scale(m[0],m[1]),i.drawImage(n,r,s,o,l,0,0,o,l)):i.drawImage(n,r,s,o,l,d,h,o*m[0],l*m[1]),i.restore()}(e,r.canvasTransform,s,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){if(this.alignFill_){const t=So(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,n,r){const s=this.textStates[t],o=this.createLabel(e,t,r,n),l=this.strokeStates[n],d=this.pixelRatio,h=N9(Array.isArray(e)?e[0]:e,s.textAlign||Y2),m=T3[s.textBaseline||x3],b=l&&l.lineWidth?l.lineWidth:0;return{label:o,anchorX:h*(o.width/d-2*s.scale[0])+2*(.5-h)*b,anchorY:m*o.height/d+2*(.5-m)*b}}execute_(e,t,n,r,s,o,l,d){let h;this.pixelCoordinates_&&(0,zr.fS)(n,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Eg(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function jwt(i,e){i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5]}(this.renderedTransform_,n));let m=0;const b=r.length;let E,D,T,P,F,H,j,Q,Tt,Rt,Ct,Bt,v=0,Vt=0,he=0,re=null,kt=null;const ie=this.coordinateCache_,de=this.viewRotation_,pe=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,Ht={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:de},Kt=this.instructions!=r||this.overlaps?0:200;let oe,we,Je,Ci;for(;m<b;){const ke=r[m];switch(ke[0]){case hn.BEGIN_GEOMETRY:oe=ke[1],Ci=ke[3],oe.getGeometry()?void 0===l||(0,me.kK)(l,Ci.getExtent())?++m:m=ke[2]+1:m=ke[2];break;case hn.BEGIN_PATH:Vt>Kt&&(this.fill_(e),Vt=0),he>Kt&&(e.stroke(),he=0),!Vt&&!he&&(e.beginPath(),P=NaN,F=NaN),++m;break;case hn.CIRCLE:v=ke[1];const di=h[v],ji=h[v+1],Fn=h[v+2]-di,ri=h[v+3]-ji,Ji=Math.sqrt(Fn*Fn+ri*ri);e.moveTo(di+Ji,ji),e.arc(di,ji,Ji,0,2*Math.PI,!0),++m;break;case hn.CLOSE_PATH:e.closePath(),++m;break;case hn.CUSTOM:v=ke[1],E=ke[2];const Xe=ke[4],ls=6==ke.length?ke[5]:void 0;Ht.geometry=ke[3],Ht.feature=oe,m in ie||(ie[m]=[]);const Mn=ie[m];ls?ls(h,v,E,2,Mn):(Mn[0]=h[v],Mn[1]=h[v+1],Mn.length=2),Xe(Mn,Ht),++m;break;case hn.DRAW_IMAGE:v=ke[1],E=ke[2],Q=ke[3],D=ke[4],T=ke[5];let ys=ke[6];const Qr=ke[7],sa=ke[8],Ns=ke[9],Gb=ke[10];let qg=ke[11];const $k=ke[12];let Za=ke[13];const Wl=ke[14],$l=ke[15];if(!Q&&ke.length>=20){Tt=ke[19],Rt=ke[20],Ct=ke[21],Bt=ke[22];const To=this.drawLabelWithPointPlacement_(Tt,Rt,Ct,Bt);Q=To.label,ke[3]=Q,D=(To.anchorX-ke[23])*this.pixelRatio,ke[4]=D,T=(To.anchorY-ke[24])*this.pixelRatio,ke[5]=T,ys=Q.height,ke[6]=ys,Za=Q.width,ke[13]=Za}let nu,um,_i,Ti;ke.length>25&&(nu=ke[25]),ke.length>17?(um=ke[16],_i=ke[17],Ti=ke[18]):(um=kb,_i=!1,Ti=!1),Gb&&pe?qg+=de:!Gb&&!pe&&(qg-=de);let Ne=0;for(;v<E;v+=2){if(nu&&nu[Ne++]<Za/this.pixelRatio)continue;const To=this.calculateImageOrLabelDimensions_(Q.width,Q.height,h[v],h[v+1],Za,ys,D,T,sa,Ns,qg,$k,s,um,_i||Ti,oe),Dc=[e,t,Q,To,Qr,_i?re:null,Ti?kt:null];if(d){if("none"===Wl)continue;if("obstacle"===Wl){d.insert(To.declutterBox);continue}{let ds,_l;if($l){const Vr=E-v;if(!$l[Vr]){$l[Vr]=Dc;continue}if(ds=$l[Vr],delete $l[Vr],_l=XQ(ds),d.collides(_l))continue}if(d.collides(To.declutterBox))continue;ds&&(d.insert(_l),this.replayImageOrLabel_.apply(this,ds)),d.insert(To.declutterBox)}}this.replayImageOrLabel_.apply(this,Dc)}++m;break;case hn.DRAW_CHARS:const Ee=ke[1],Wi=ke[2],Bi=ke[3],Gi=ke[4];Bt=ke[5];const Jr=ke[6],ao=ke[7],lo=ke[8];Ct=ke[9];const Ms=ke[10];Tt=ke[11],Rt=ke[12];const Da=[ke[13],ke[13]],cs=this.textStates[Rt],wr=cs.font,Ss=[cs.scale[0]*ao,cs.scale[1]*ao];let Do;wr in this.widths_?Do=this.widths_[wr]:(Do={},this.widths_[wr]=Do);const ru=i9(h,Ee,Wi,2),hm=Math.abs(Ss[0])*TQ(wr,Tt,Do);if(Gi||hm<=ru){const ds=uEt(h,Ee,Wi,2,Tt,(ru-hm)*N9(Tt,this.textStates[Rt].textAlign),Jr,Math.abs(Ss[0]),TQ,wr,Do,pe?0:this.viewRotation_);t:if(ds){const _l=[];let Vr,Bs,s1,oa,bl;if(Ct)for(Vr=0,Bs=ds.length;Vr<Bs;++Vr){bl=ds[Vr],s1=bl[4],oa=this.createLabel(s1,Rt,"",Ct),D=bl[2]+(Ss[0]<0?-Ms:Ms),T=Bi*oa.height+2*(.5-Bi)*Ms*Ss[1]/Ss[0]-lo;const su=this.calculateImageOrLabelDimensions_(oa.width,oa.height,bl[0],bl[1],oa.width,oa.height,D,T,0,0,bl[3],Da,!1,kb,!1,oe);if(d&&d.collides(su.declutterBox))break t;_l.push([e,t,oa,su,1,null,null])}if(Bt)for(Vr=0,Bs=ds.length;Vr<Bs;++Vr){bl=ds[Vr],s1=bl[4],oa=this.createLabel(s1,Rt,Bt,""),D=bl[2],T=Bi*oa.height-lo;const su=this.calculateImageOrLabelDimensions_(oa.width,oa.height,bl[0],bl[1],oa.width,oa.height,D,T,0,0,bl[3],Da,!1,kb,!1,oe);if(d&&d.collides(su.declutterBox))break t;_l.push([e,t,oa,su,1,null,null])}d&&d.load(_l.map(XQ));for(let su=0,lN=_l.length;su<lN;++su)this.replayImageOrLabel_.apply(this,_l[su])}}++m;break;case hn.END_GEOMETRY:if(void 0!==o){oe=ke[1];const To=o(oe,Ci);if(To)return To}++m;break;case hn.FILL:Kt?Vt++:this.fill_(e),++m;break;case hn.MOVE_TO_LINE_TO:for(v=ke[1],E=ke[2],we=h[v],Je=h[v+1],H=we+.5|0,j=Je+.5|0,(H!==P||j!==F)&&(e.moveTo(we,Je),P=H,F=j),v+=2;v<E;v+=2)we=h[v],Je=h[v+1],H=we+.5|0,j=Je+.5|0,(v==E-2||H!==P||j!==F)&&(e.lineTo(we,Je),P=H,F=j);++m;break;case hn.SET_FILL_STYLE:re=ke,this.alignFill_=ke[2],Vt&&(this.fill_(e),Vt=0,he&&(e.stroke(),he=0)),e.fillStyle=ke[1],++m;break;case hn.SET_STROKE_STYLE:kt=ke,he&&(e.stroke(),he=0),this.setStrokeStyle_(e,ke),++m;break;case hn.STROKE:Kt?he++:e.stroke(),++m;break;default:++m}}Vt&&this.fill_(e),he&&e.stroke()}execute(e,t,n,r,s,o){this.viewRotation_=r,this.execute_(e,t,n,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,t,n,r,s){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,r,s)}},B9=["Polygon","Circle","LineString","Image","Text","Default"],z9={},A3=class pEt{constructor(e,t,n,r,s,o){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(s)}clip(e,t){const n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}createExecutors_(e){for(const t in e){let n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);const r=e[t];for(const s in r)n[s]=new mEt(this.resolution_,this.pixelRatio_,this.overlaps_,r[s])}}hasExecutors(e){for(const t in this.executorsByZIndex_){const n=this.executorsByZIndex_[t];for(let r=0,s=e.length;r<s;++r)if(e[r]in n)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,r,s,o){const l=2*(r=Math.round(r))+1,d=sh(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=(0,yr.E4)(l,l,void 0,{willReadFrequently:!0}));const m=this.hitDetectionContext_;let b;m.canvas.width!==l||m.canvas.height!==l?(m.canvas.width=l,m.canvas.height=l):h||m.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(b=(0,me.lJ)(),(0,me.Wj)(b,e),(0,me.f3)(b,t*(this.renderBuffer_+r),b));const v=function gEt(i){if(void 0!==z9[i])return z9[i];const e=2*i+1,t=i*i,n=new Array(t+1);for(let s=0;s<=i;++s)for(let o=0;o<=i;++o){const l=s*s+o*o;if(l>t)break;let d=n[l];d||(d=[],n[l]=d),d.push(4*((i+s)*e+(i+o))+3),s>0&&d.push(4*((i-s)*e+(i+o))+3),o>0&&(d.push(4*((i+s)*e+(i-o))+3),s>0&&d.push(4*((i-s)*e+(i-o))+3))}const r=[];for(let s=0,o=n.length;s<o;++s)n[s]&&r.push(...n[s]);return z9[i]=r,r}(r);let E;function D(Tt,Rt){const Ct=m.getImageData(0,0,l,l).data;for(let Bt=0,Vt=v.length;Bt<Vt;Bt++)if(Ct[v[Bt]]>0){if(!o||"Image"!==E&&"Text"!==E||o.includes(Tt)){const he=(v[Bt]-3)/4,re=r-he%l,kt=r-(he/l|0),ie=s(Tt,Rt,re*re+kt*kt);if(ie)return ie}m.clearRect(0,0,l,l);break}}const T=Object.keys(this.executorsByZIndex_).map(Number);let P,F,H,j,Q;for(T.sort(zr.j2),P=T.length-1;P>=0;--P){const Tt=T[P].toString();for(H=this.executorsByZIndex_[Tt],F=B9.length-1;F>=0;--F)if(E=B9[F],j=H[E],void 0!==j&&(Q=j.executeHitDetection(m,d,n,D,b),Q))return Q}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const n=t[0],r=t[1],s=t[2],o=t[3],l=[n,r,n,o,s,o,s,r];return Eg(l,0,8,2,e,l),l}isEmpty(){return(0,Tg.x)(this.executorsByZIndex_)}execute(e,t,n,r,s,o,l){const d=Object.keys(this.executorsByZIndex_).map(Number);let h,m,b,v,E,D;for(d.sort(zr.j2),this.maxExtent_&&(e.save(),this.clip(e,n)),o=o||B9,l&&d.reverse(),h=0,m=d.length;h<m;++h){const T=d[h].toString();for(E=this.executorsByZIndex_[T],b=0,v=o.length;b<v;++b)D=E[o[b]],void 0!==D&&D.execute(e,t,n,r,s,l)}this.maxExtent_&&e.restore()}},bEt=class _Et extends ZQ{constructor(e,t,n,r,s,o,l){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=r,this.transformRotation_=r?(0,Fi.FH)(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,n,r){if(!this.image_)return;const s=Eg(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,l=this.tmpLocalTransform_,d=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=d*this.imageOpacity_);let h=this.imageRotation_;0===this.transformRotation_&&(h-=this.viewRotation_),this.imageRotateWithView_&&(h+=this.viewRotation_);for(let m=0,b=s.length;m<b;m+=2){const v=s[m]-this.imageAnchorX_,E=s[m+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const D=v+this.imageAnchorX_,T=E+this.imageAnchorY_;sh(l,D,T,1,1,h,-D,-T),o.save(),o.transform.apply(o,l),o.translate(D,T),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,E,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=d)}drawText_(e,t,n,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Eg(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_;let l=this.textRotation_;for(0===this.transformRotation_&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);t<n;t+=r){const d=s[t]+this.textOffsetX_,h=s[t+1]+this.textOffsetY_;0!==l||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(d-this.textOffsetX_,h-this.textOffsetY_),o.rotate(l),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,d,h),this.textFillState_&&o.fillText(this.text_,d,h))}}moveToLineTo_(e,t,n,r,s){const o=this.context_,l=Eg(e,t,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(l[0],l[1]);let d=l.length;s&&(d-=2);for(let h=2;h<d;h+=2)o.lineTo(l[h],l[h+1]);return s&&o.closePath(),n}drawRings_(e,t,n,r){for(let s=0,o=n.length;s<o;++s)t=this.moveToLineTo_(e,t,n[s],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,me.kK)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function Jwt(i,e,t){const n=i.getFlatCoordinates();if(!n)return null;const r=i.getStride();return Eg(n,0,n.length,r,e,t)}(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],r=t[3]-t[1],s=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let n=0,r=t.length;n<r;++n)this.drawGeometry(t[n])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,me.kK)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if((0,me.kK)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();let s=0;const o=e.getEnds(),l=e.getStride();n.beginPath();for(let d=0,h=o.length;d<h;++d)s=this.moveToLineTo_(r,s,o[d],l,!1);n.stroke()}if(""!==this.text_){const n=e.getFlatMidpoints();this.drawText_(n,0,n.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,me.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,me.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getOrientedFlatCoordinates();let r=0;const s=e.getEndss(),o=e.getStride();t.beginPath();for(let l=0,d=s.length;l<d;++l)r=this.drawRings_(n,r,s[l],o);this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),(0,zr.fS)(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,n=this.contextTextState_,r=e.textAlign?e.textAlign:Y2;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=r&&(n.textAlign=r,t.textAlign=r),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const n=e.getColor();this.fillState_={fillStyle:ah(n||Hl)}}else this.fillState_=null;if(t){const n=t.getColor(),r=t.getLineCap(),s=t.getLineDash(),o=t.getLineDashOffset(),l=t.getLineJoin(),d=t.getWidth(),h=t.getMiterLimit(),m=s||Kf;this.strokeState_={lineCap:void 0!==r?r:gw,lineDash:1===this.pixelRatio_?m:m.map(b=>b*this.pixelRatio_),lineDashOffset:(o||0)*this.pixelRatio_,lineJoin:void 0!==l?l:_w,lineWidth:(void 0!==d?d:1)*this.pixelRatio_,miterLimit:void 0!==h?h:10,strokeStyle:ah(n||$2)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const n=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}setTextStyle(e){if(e){const t=e.getFill();if(t){const E=t.getColor();this.textFillState_={fillStyle:ah(E||Hl)}}else this.textFillState_=null;const n=e.getStroke();if(n){const E=n.getColor(),D=n.getLineCap(),T=n.getLineDash(),P=n.getLineDashOffset(),F=n.getLineJoin(),H=n.getWidth(),j=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==D?D:gw,lineDash:T||Kf,lineDashOffset:P||0,lineJoin:void 0!==F?F:_w,lineWidth:void 0!==H?H:1,miterLimit:void 0!==j?j:10,strokeStyle:ah(E||$2)}}else this.textStrokeState_=null;const r=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),l=e.getRotateWithView(),d=e.getRotation(),h=e.getScaleArray(),m=e.getText(),b=e.getTextAlign(),v=e.getTextBaseline();this.textState_={font:void 0!==r?r:kQ,textAlign:void 0!==b?b:Y2,textBaseline:void 0!==v?v:x3},this.text_=void 0!==m?Array.isArray(m)?m.reduce((E,D,T)=>E+(T%2?" ":D),""):m:"",this.textOffsetX_=void 0!==s?this.pixelRatio_*s:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==l&&l,this.textRotation_=void 0!==d?d:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}else this.text_=""}},wc=.5;function QQ(i,e,t,n,r,s,o){const h=(0,yr.E4)(i[0]*wc,i[1]*wc);h.imageSmoothingEnabled=!1;const m=h.canvas,b=new bEt(h,wc,r,null,o),v=t.length,E=Math.floor(16777215/v),D={};for(let P=1;P<=v;++P){const F=t[P-1],H=F.getStyleFunction()||n;if(!H)continue;let j=H(F,s);if(!j)continue;Array.isArray(j)||(j=[j]);const Tt=(P*E).toString(16).padStart(7,"#00000");for(let Rt=0,Ct=j.length;Rt<Ct;++Rt){const Bt=j[Rt],Vt=Bt.getGeometryFunction()(F);if(!Vt||!(0,me.kK)(r,Vt.getExtent()))continue;const he=Bt.clone(),re=he.getFill();re&&re.setColor(Tt);const kt=he.getStroke();kt&&(kt.setColor(Tt),kt.setLineDash(null)),he.setText(void 0);const ie=Bt.getImage();if(ie){const Kt=ie.getImageSize();if(!Kt)continue;const oe=(0,yr.E4)(Kt[0],Kt[1],void 0,{alpha:!1}),we=oe.canvas;oe.fillStyle=Tt,oe.fillRect(0,0,we.width,we.height),he.setImage(new A9({img:we,anchor:ie.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ie.getOrigin(),opacity:1,size:ie.getSize(),scale:ie.getScale(),rotation:ie.getRotation(),rotateWithView:ie.getRotateWithView()}))}const de=he.getZIndex()||0;let pe=D[de];pe||(pe={},D[de]=pe,pe.Polygon=[],pe.Circle=[],pe.LineString=[],pe.Point=[]);const Ht=Vt.getType();if("GeometryCollection"===Ht){const Kt=Vt.getGeometriesArrayRecursive();for(let oe=0,we=Kt.length;oe<we;++oe){const Je=Kt[oe];pe[Je.getType().replace("Multi","")].push(Je,he)}}else pe[Ht.replace("Multi","")].push(Vt,he)}}const T=Object.keys(D).map(Number).sort(zr.j2);for(let P=0,F=T.length;P<F;++P){const H=D[T[P]];for(const j in H){const Q=H[j];for(let Tt=0,Rt=Q.length;Tt<Rt;Tt+=2){b.setStyle(Q[Tt+1]);for(let Ct=0,Bt=e.length;Ct<Bt;++Ct)b.setTransform(e[Ct]),b.drawGeometry(Q[Tt])}}}return h.getImageData(0,0,m.width,m.height)}function JQ(i,e,t){const n=[];if(t){const r=Math.floor(Math.round(i[0])*wc),s=Math.floor(Math.round(i[1])*wc),o=4*((0,Fi.uZ)(r,0,t.width-1)+(0,Fi.uZ)(s,0,t.height-1)*t.width),m=t.data[o+2]+256*(t.data[o+1]+256*t.data[o]),b=Math.floor(16777215/e.length);m&&m%b==0&&n.push(e[m/b-1])}return n}const vEt=.5,tJ={Point:function kEt(i,e,t,n,r){const s=t.getImage(),o=t.getText();let l;if(s){if(2!=s.getImageState())return;let d=i;if(r){const m=s.getDeclutterMode();if("none"!==m)if(d=r,"obstacle"===m){const b=i.getBuilder(t.getZIndex(),"Image");b.setImageStyle(s,l),b.drawPoint(e,n)}else o&&o.getText()&&(l={})}const h=d.getBuilder(t.getZIndex(),"Image");h.setImageStyle(s,l),h.drawPoint(e,n)}if(o&&o.getText()){let d=i;r&&(d=r);const h=d.getBuilder(t.getZIndex(),"Text");h.setTextStyle(o,l),h.drawText(e,n)}},LineString:function EEt(i,e,t,n,r){const s=t.getStroke();if(s){const l=i.getBuilder(t.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawLineString(e,n)}const o=t.getText();if(o&&o.getText()){const l=(r||i).getBuilder(t.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,n)}},Polygon:function TEt(i,e,t,n,r){const s=t.getFill(),o=t.getStroke();if(s||o){const d=i.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(s,o),d.drawPolygon(e,n)}const l=t.getText();if(l&&l.getText()){const d=(r||i).getBuilder(t.getZIndex(),"Text");d.setTextStyle(l),d.drawText(e,n)}},MultiPoint:function DEt(i,e,t,n,r){const s=t.getImage(),o=t.getText();let l;if(s){if(2!=s.getImageState())return;let d=i;if(r){const m=s.getDeclutterMode();if("none"!==m)if(d=r,"obstacle"===m){const b=i.getBuilder(t.getZIndex(),"Image");b.setImageStyle(s,l),b.drawMultiPoint(e,n)}else o&&o.getText()&&(l={})}const h=d.getBuilder(t.getZIndex(),"Image");h.setImageStyle(s,l),h.drawMultiPoint(e,n)}if(o&&o.getText()){let d=i;r&&(d=r);const h=d.getBuilder(t.getZIndex(),"Text");h.setTextStyle(o,l),h.drawText(e,n)}},MultiLineString:function MEt(i,e,t,n,r){const s=t.getStroke();if(s){const l=i.getBuilder(t.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawMultiLineString(e,n)}const o=t.getText();if(o&&o.getText()){const l=(r||i).getBuilder(t.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,n)}},MultiPolygon:function SEt(i,e,t,n,r){const s=t.getFill(),o=t.getStroke();if(o||s){const d=i.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(s,o),d.drawMultiPolygon(e,n)}const l=t.getText();if(l&&l.getText()){const d=(r||i).getBuilder(t.getZIndex(),"Text");d.setTextStyle(l),d.drawText(e,n)}},GeometryCollection:function CEt(i,e,t,n,r){const s=e.getGeometriesArray();let o,l;for(o=0,l=s.length;o<l;++o)(0,tJ[s[o].getType()])(i,s[o],t,n,r)},Circle:function xEt(i,e,t,n,r){const s=t.getFill(),o=t.getStroke();if(s||o){const d=i.getBuilder(t.getZIndex(),"Circle");d.setFillStrokeStyle(s,o),d.drawCircle(e,n)}const l=t.getText();if(l&&l.getText()){const d=(r||i).getBuilder(t.getZIndex(),"Text");d.setTextStyle(l),d.drawText(e,n)}}};function yEt(i,e){return parseInt((0,gi.sq)(i),10)-parseInt((0,gi.sq)(e),10)}function eJ(i,e){const t=V9(i,e);return t*t}function V9(i,e){return vEt*i/e}function O3(i,e,t,n,r,s,o){let l=!1;const d=t.getImage();if(d){const h=d.getImageState();2==h||3==h?d.unlistenImageChange(r):(0==h&&d.load(),d.listenImageChange(r),l=!0)}return function wEt(i,e,t,n,r,s){const o=t.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(n,r);t.getRenderer()?iJ(i,l,t,e):(0,tJ[l.getType()])(i,l,t,e,s)}(i,e,t,n,s,o),l}function iJ(i,e,t,n){if("GeometryCollection"!=e.getType())i.getBuilder(t.getZIndex(),"Default").drawCustom(e,n,t.getRenderer(),t.getHitDetectionRenderer());else{const s=e.getGeometries();for(let o=0,l=s.length;o<l;++o)iJ(i,s[o],t,n)}}const IEt={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},AEt={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},REt=class OEt extends yQ{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedPixelToCoordinateTransform_=null,this.tmpTransform_=[1,0,0,1,0,0]}prepareTile(e,t,n){let r;const s=e.getState();return(2===s||3===s)&&(this.updateExecutorGroup_(e,t,n),this.tileImageNeedsRender_(e)&&(r=!0)),r}getTile(e,t,n,r){const s=r.pixelRatio,o=r.viewState,l=o.resolution,d=o.projection,h=this.getLayer(),m=h.getSource().getTile(e,t,n,s,d),b=r.viewHints,v=!(b[0]||b[1]);return(v||!m.wantedResolution)&&(m.wantedResolution=l),this.prepareTile(m,s,d)&&(v||Date.now()-r.time<8)&&"vector"!==h.getRenderMode()&&this.renderTileImage_(m,r),super.getTile(e,t,n,r)}isDrawableTile(e){const t=this.getLayer();return super.isDrawableTile(e)&&("vector"===t.getRenderMode()?(0,gi.sq)(t)in e.executorGroups:e.hasContext(t))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,n){const r=this.getLayer(),s=r.getRevision(),o=r.getRenderOrder()||null,l=e.wantedResolution,d=e.getReplayState(r);if(!d.dirty&&d.renderedResolution===l&&d.renderedRevision==s&&d.renderedRenderOrder==o)return;const h=r.getSource(),m=r.getDeclutter(),b=h.getTileGrid(),E=h.getTileGridForProjection(n).getTileCoordExtent(e.wrappedTileCoord),D=h.getSourceTiles(t,n,e),T=(0,gi.sq)(r);delete e.hitDetectionImageData[T],e.executorGroups[T]=[],m&&(e.declutterExecutorGroups[T]=[]),d.dirty=!1;for(let P=0,F=D.length;P<F;++P){const H=D[P];if(2!=H.getState())continue;const Q=b.getTileCoordExtent(H.tileCoord),Tt=(0,me.Ed)(E,Q),Rt=(0,me.f3)(Tt,r.getRenderBuffer()*l,this.tmpExtent),Ct=(0,me.fS)(Q,Tt)?null:Rt,Bt=new I3(0,Rt,l,t),Vt=m?new I3(0,Tt,l,t):void 0,he=eJ(l,t),re=function(Ht){let Kt;const oe=Ht.getStyleFunction()||r.getStyleFunction();if(oe&&(Kt=oe(Ht,l)),Kt){const we=this.renderFeature(Ht,he,Kt,Bt,Vt);d.dirty=d.dirty||we}},kt=H.getFeatures();o&&o!==d.renderedRenderOrder&&kt.sort(o);for(let Ht=0,Kt=kt.length;Ht<Kt;++Ht){const oe=kt[Ht];(!Ct||(0,me.kK)(Ct,oe.getGeometry().getExtent()))&&re.call(this,oe)}const ie=Bt.finish(),de="vector"!==r.getRenderMode()&&m&&1===D.length?null:Tt,pe=new A3(de,l,t,h.getOverlaps(),ie,r.getRenderBuffer());if(e.executorGroups[T].push(pe),Vt){const Ht=new A3(null,l,t,h.getOverlaps(),Vt.finish(),r.getRenderBuffer());e.declutterExecutorGroups[T].push(Ht)}}d.renderedRevision=s,d.renderedRenderOrder=o,d.renderedResolution=l}forEachFeatureAtCoordinate(e,t,n,r,s){const o=t.viewState.resolution,l=t.viewState.rotation;n=n??0;const d=this.getLayer(),m=d.getSource().getTileGridForProjection(t.viewState.projection),b=(0,me.hI)([e]);(0,me.f3)(b,o*n,b);const v={},E=function(P,F,H){let j=P.getId();void 0===j&&(j=(0,gi.sq)(P));const Q=v[j];if(Q){if(!0!==Q&&H<Q.distanceSq){if(0===H)return v[j]=!0,s.splice(s.lastIndexOf(Q),1),r(P,d,F);Q.geometry=F,Q.distanceSq=H}}else{if(0===H)return v[j]=!0,r(P,d,F);s.push(v[j]={feature:P,layer:d,geometry:F,distanceSq:H,callback:r})}},D=this.renderedTiles;let T;for(let P=0,F=D.length;!T&&P<F;++P){const H=D[P],j=m.getTileCoordExtent(H.wrappedTileCoord);if(!(0,me.kK)(j,b))continue;const Q=(0,gi.sq)(d),Tt=[H.executorGroups[Q]],Rt=H.declutterExecutorGroups[Q];Rt&&Tt.push(Rt),Tt.some(Ct=>{const Bt=Ct===Rt?t.declutterTree.all().map(Vt=>Vt.value):null;for(let Vt=0,he=Ct.length;Vt<he;++Vt)if(T=Ct[Vt].forEachFeatureAtCoordinate(e,o,l,n,E,Bt),T)return!0})}return T}getFeatures(e){return new Promise((t,n)=>{const r=this.getLayer(),s=(0,gi.sq)(r),o=r.getSource(),l=this.renderedProjection,d=l.getExtent(),h=this.renderedResolution,m=o.getTileGridForProjection(l),b=So(this.renderedPixelToCoordinateTransform_,e.slice()),v=m.getTileCoordForCoordAndResolution(b,h);let E;for(let j=0,Q=this.renderedTiles.length;j<Q;++j)if(v.toString()===this.renderedTiles[j].tileCoord.toString()){if(E=this.renderedTiles[j],2===E.getState()){const Tt=m.getTileCoordExtent(E.tileCoord);o.getWrapX()&&l.canWrapX()&&!(0,me.r4)(d,Tt)&&R7(b,l);break}E=void 0}if(!E||E.loadingSourceTiles>0)return void t([]);const D=m.getTileCoordExtent(E.wrappedTileCoord),T=(0,me.rL)(D),P=[(b[0]-T[0])/h,(T[1]-b[1])/h],F=E.getSourceTiles().reduce(function(j,Q){return j.concat(Q.getFeatures())},[]);let H=E.hitDetectionImageData[s];if(!H){const j=fl(m.getTileSize(m.getZForResolution(h,o.zDirection))),Q=this.renderedRotation_;H=QQ(j,[this.getRenderTransform(m.getTileCoordCenter(E.wrappedTileCoord),h,0,wc,j[0]*wc,j[1]*wc,0)],F,r.getStyleFunction(),m.getTileCoordExtent(E.wrappedTileCoord),E.getReplayState(r).renderedResolution,Q),E.hitDetectionImageData[s]=H}t(JQ(P,F,H))})}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e){const t=this.context,n=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();const r=e.viewHints,s=!(r[0]||r[1]),o=this.renderedTiles;for(let l=0,d=o.length;l<d;++l){const h=o[l],m=h.declutterExecutorGroups[(0,gi.sq)(this.getLayer())];if(m)for(let b=m.length-1;b>=0;--b)m[b].execute(this.context,1,this.getTileRenderTransform(h,e),e.viewState.rotation,s,void 0,e.declutterTree)}t.globalAlpha=n}getTileRenderTransform(e,t){const n=t.pixelRatio,r=t.viewState,s=r.center,o=r.resolution,l=r.rotation,d=t.size,h=Math.round(d[0]*n),m=Math.round(d[1]*n),v=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),E=e.tileCoord,D=v.getTileCoordExtent(e.wrappedTileCoord),T=v.getTileCoordExtent(E,this.tmpExtent)[0]-D[0];return t3(W7(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(s,o,l,n,h,m,T))}postRender(e,t){const n=t.viewHints,r=!(n[0]||n[1]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;const s=this.getLayer(),o=s.getRenderMode(),l=e.globalAlpha;e.globalAlpha=s.getOpacity();const d=AEt[o],h=t.viewState,m=h.rotation,b=s.getSource(),E=b.getTileGridForProjection(h.projection).getZForResolution(h.resolution,b.zDirection),D=this.renderedTiles,T=[],P=[];let F=!0;for(let H=D.length-1;H>=0;--H){const j=D[H];F=F&&!j.getReplayState(s).dirty;const Q=j.executorGroups[(0,gi.sq)(s)].filter(Vt=>Vt.hasExecutors(d));if(0===Q.length)continue;const Tt=this.getTileRenderTransform(j,t),Rt=j.tileCoord[0];let Ct=!1;const Bt=Q[0].getClipCoords(Tt);if(Bt){for(let Vt=0,he=T.length;Vt<he;++Vt)if(E!==Rt&&Rt<P[Vt]){const re=T[Vt];(0,me.kK)([Bt[0],Bt[3],Bt[4],Bt[7]],[re[0],re[3],re[4],re[7]])&&(Ct||(e.save(),Ct=!0),e.beginPath(),e.moveTo(Bt[0],Bt[1]),e.lineTo(Bt[2],Bt[3]),e.lineTo(Bt[4],Bt[5]),e.lineTo(Bt[6],Bt[7]),e.moveTo(re[6],re[7]),e.lineTo(re[4],re[5]),e.lineTo(re[2],re[3]),e.lineTo(re[0],re[1]),e.clip())}T.push(Bt),P.push(Rt)}for(let Vt=0,he=Q.length;Vt<he;++Vt)Q[Vt].execute(e,1,Tt,m,r,d);Ct&&e.restore()}e.globalAlpha=l,this.ready=F,super.postRender(e,t)}renderFeature(e,t,n,r,s){if(!n)return!1;let o=!1;if(Array.isArray(n))for(let l=0,d=n.length;l<d;++l)o=O3(r,e,n[l],t,this.boundHandleStyleImageChange_,void 0,s)||o;else o=O3(r,e,n,t,this.boundHandleStyleImageChange_,void 0,s);return o}tileImageNeedsRender_(e){const t=this.getLayer();if("vector"===t.getRenderMode())return!1;const n=e.getReplayState(t),r=t.getRevision();return n.renderedTileResolution!==e.wantedResolution||n.renderedTileRevision!==r}renderTileImage_(e,t){const n=this.getLayer(),r=e.getReplayState(n),s=n.getRevision(),o=e.executorGroups[(0,gi.sq)(n)];r.renderedTileRevision=s;const l=e.wrappedTileCoord,d=l[0],h=n.getSource();let m=t.pixelRatio;const v=t.viewState.projection,E=h.getTileGridForProjection(v),D=E.getResolution(e.tileCoord[0]),T=t.pixelRatio/e.wantedResolution*D,P=E.getResolution(d),F=e.getContext(n);m=Math.round(Math.max(m,T/m));const H=h.getTilePixelSize(d,m,v);F.canvas.width=H[0],F.canvas.height=H[1];const j=m/T;if(1!==j){const Ct=OK(this.tmpTransform_);W7(Ct,j,j),F.setTransform.apply(F,Ct)}const Q=E.getTileCoordExtent(l,this.tmpExtent),Tt=T/P,Rt=OK(this.tmpTransform_);W7(Rt,Tt,-Tt),function $wt(i,e,t){t3(i,H2(j7,1,0,0,1,e,t))}(Rt,-Q[0],-Q[3]);for(let Ct=0,Bt=o.length;Ct<Bt;++Ct)o[Ct].execute(F,j,Rt,0,!0,IEt[n.getRenderMode()]);r.renderedTileResolution=e.wantedResolution}},qd=class PEt extends $Q{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t);const n=e.renderMode||"hybrid";(0,vr.h)("hybrid"==n||"vector"==n,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=n,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}createRenderer(){return new REt(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get("preload")}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setPreload(e){this.set("preload",e)}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}},FEt=class LEt{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const n=this.entries_[e];return(0,vr.h)(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(e){const t=this.entries_[e];return(0,vr.h)(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n,t=0;for(n=this.newest_;n;n=n.older)e[t++]=n.key_;return e}getValues(){const e=new Array(this.count_);let n,t=0;for(n=this.newest_;n;n=n.older)e[t++]=n.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){(0,vr.h)(!(e in this.entries_),"Tried to set a value for a key that is used already");const n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}setSize(e){this.highWaterMark=e}};function nJ(i,e,t,n){return void 0!==n?(n[0]=i,n[1]=e,n[2]=t,n):[i,e,t]}function Cw(i,e,t){return i+"/"+e+"/"+t}function rJ(i){return Cw(i[0],i[1],i[2])}function sJ(i){return i.split("/").map(Number)}function oJ(i){return(i[1]<<i[0])+i[2]}const H9=class zEt extends FEt{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const n=sJ(this.peekFirstKey())[0];this.forEach(r=>{r.tileCoord[0]!==n&&(this.remove(rJ(r.tileCoord)),r.release())})}};function aJ(i){return i?Array.isArray(i)?function(e){return i}:"function"==typeof i?i:function(e){return[i]}:null}const lJ=class VEt extends Cg.Z{constructor(e){super(),this.projection=Tr(e.projection),this.attributions_=aJ(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,r){t.viewResolver=n,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=aJ(e),this.changed()}setState(e){this.state_=e,this.changed()}},Ew=[0,0,0],Ib=class HEt{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,(0,vr.h)((0,zr.pT)(this.resolutions_,function(r,s){return s-r},!0),"`resolutions` must be sorted in descending order"),!e.origins)for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(t){if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}else t=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,(0,vr.h)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;void 0!==n&&!this.origin_&&!this.origins_&&(this.origin_=(0,me.rL)(n)),(0,vr.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,(0,vr.h)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:l9,(0,vr.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(r,s){const o=new bQ(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(n){const l=this.getTileRangeForExtentAndZ(n,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){const r=this.getTileRangeForExtentAndZ(e,t);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let l=r.minY,d=r.maxY;l<=d;++l)n([t,s,l])}forEachTileCoordParentTileRange(e,t,n,r){let s,o,l,d=null,h=e[0]-1;for(2===this.zoomFactor_?(o=e[1],l=e[2]):d=this.getTileCoordExtent(e,r);h>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),l=Math.floor(l/2),s=mw(o,o,l,l,n)):s=this.getTileRangeForExtentAndZ(d,h,n),t(h,s))return!0;--h}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const s=2*e[1],o=2*e[2];return mw(s,s+1,o,o+1,t)}const r=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(t===r)return mw(s,o,s,o,n);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,t-r),h=Math.floor(s*d),m=Math.floor(o*d);return t<r?mw(h,h,m,m,n):mw(h,Math.floor(d*(s+1))-1,m,Math.floor(d*(o+1))-1,n)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Ew);const r=Ew[1],s=Ew[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Ew),mw(r,Ew[1],s,Ew[2],n)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=fl(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]-(e[2]+.5)*r[1]*n]}getTileCoordExtent(e,t){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=fl(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*s[0]*r,l=n[1]-(e[2]+1)*s[1]*r;return(0,me.T9)(o,l,o+s[0]*r,l+s[1]*r,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,r,s){const o=this.getZForResolution(n),l=n/this.getResolution(o),d=this.getOrigin(o),h=fl(this.getTileSize(o),this.tmpSize_);let m=l*(e-d[0])/n/h[0],b=l*(d[1]-t)/n/h[1];return r?(m=(0,Fi.mD)(m,5)-1,b=(0,Fi.mD)(b,5)-1):(m=(0,Fi.GW)(m,5),b=(0,Fi.GW)(b,5)),nJ(o,m,b,s)}getTileCoordForXYAndZ_(e,t,n,r,s){const o=this.getOrigin(n),l=this.getResolution(n),d=fl(this.getTileSize(n),this.tmpSize_);let h=(e-o[0])/l/d[0],m=(o[1]-t)/l/d[1];return r?(h=(0,Fi.mD)(h,5)-1,m=(0,Fi.mD)(m,5)-1):(h=(0,Fi.GW)(h,5),m=(0,Fi.GW)(m,5)),nJ(n,h,m,s)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const n=(0,zr.h7)(this.resolutions_,e,t||0);return(0,Fi.uZ)(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return HK(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,n=new Array(t);for(let r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n}};function cJ(i){let e=i.getDefaultTileGrid();return e||(e=function jEt(i,e,t,n){return function GEt(i,e,t,n){n=void 0!==n?n:"top-left";const r=uJ(i,e,t);return new Ib({extent:i,origin:(0,me.g0)(i,n),resolutions:r,tileSize:t})}(R3(i),e,t,n)}(i),i.setDefaultTileGrid(e)),e}function dJ(i){const e=i||{},t=e.extent||Tr("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:uJ(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Ib(n)}function uJ(i,e,t,n){e=void 0!==e?e:JK,t=fl(void 0!==t?t:l9);const r=(0,me.Cr)(i),s=(0,me.dz)(i);n=n>0?n:Math.max(s/t[0],r/t[1]);const o=e+1,l=new Array(o);for(let d=0;d<o;++d)l[d]=n/Math.pow(2,d);return l}function R3(i){let e=(i=Tr(i)).getExtent();if(!e){const t=180*wg.degrees/i.getMetersPerUnit();e=(0,me.T9)(-t,-t,t,t)}return e}class $Et extends uw.ZP{constructor(e,t){super(e),this.tile=t}}const YEt=class WEt extends lJ{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&fl(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new H9(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const n=this.getTileCacheForProjection(e);n&&n.expireCache(t)}forEachLoadedTile(e,t,n,r){const s=this.getTileCacheForProjection(e);if(!s)return!1;let l,d,h,o=!0;for(let m=n.minX;m<=n.maxX;++m)for(let b=n.minY;b<=n.maxY;++b)d=Cw(t,m,b),h=!1,s.containsKey(d)&&(l=s.get(d),h=2===l.getState(),h&&(h=!1!==r(l))),h||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,n,r,s){return(0,gi.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:cJ(e)}getTileCacheForProjection(e){const t=this.getProjection();return(0,vr.h)(null===t||yb(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){const r=this.getTileGridForProjection(n),s=this.getTilePixelRatio(t),o=fl(r.getTileSize(e),this.tmpSize);return 1==s?o:function oCt(i,e,t){return void 0===t&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=void 0!==t?t:this.getProjection();const n=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=function UEt(i,e,t){const n=e[0],r=i.getTileCoordCenter(e),s=R3(t);if(!(0,me.b8)(s,r)){const o=(0,me.dz)(s),l=Math.ceil((s[0]-r[0])/o);return r[0]+=o*l,i.getTileCoordForCoordAndZ(r,n)}return e}(n,e,t)),function BEt(i,e){const t=i[0],n=i[1],r=i[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const s=e.getFullTileRange(t);return!s||s.containsXY(n,r)}(e,n)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const n=this.getTileCacheForProjection(t);e>n.highWaterMark&&(n.highWaterMark=e)}useTile(e,t,n,r){}};function ZEt(i,e){const t=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o,l,d){if(o)return i.replace(t,o[0].toString()).replace(n,o[1].toString()).replace(r,o[2].toString()).replace(s,function(){const m=e.getFullTileRange(o[0]);return(0,vr.h)(m,"The {-y} placeholder requires a tile grid with extent"),(m.getHeight()-o[2]-1).toString()})}}class G9 extends YEt{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===G9.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,n=(0,gi.sq)(t),r=t.getState();let s;1==r?(this.tileLoadingKeys_[n]=!0,s="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],s=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=s&&this.dispatchEvent(new $Et(s,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=function KEt(i){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(i);if(t){const n=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let s;for(s=n;s<=r;++s)e.push(i.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(i),t){const n=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=n;r++)e.push(i.replace(t[0],r.toString()));return e}return e.push(i),e}(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function qEt(i,e){const t=i.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=ZEt(i[r],e);return function XEt(i){return 1===i.length?i[0]:function(e,t,n){if(!e)return;const r=oJ(e),s=(0,Fi.$W)(r,i.length);return i[s](e,t,n)}}(n)}(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}useTile(e,t,n){const r=Cw(e,t,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}const hJ=G9;function JEt(i,e){i.getImage().src=e}const fJ=class QEt extends hJ{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:JEt,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:mQ,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const n=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==n?t:{});for(const r in this.tileCacheForProjection){const s=this.tileCacheForProjection[r];s.expireCache(s==n?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!yb(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!yb(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||yb(t,e)))return this.tileGrid;const n=(0,gi.sq)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=cJ(e)),this.tileGridForProjection[n]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||yb(t,e))return this.tileCache;const n=(0,gi.sq)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new H9(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(e,t,n,r,s,o){const l=[e,t,n],d=this.getTileCoordForTileUrlFunction(l,s),h=d?this.tileUrlFunction(d,r,s):void 0,m=new this.tileClass(l,void 0!==h?0:4,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=o,m.addEventListener(Dn.Z.CHANGE,this.handleTileChange.bind(this)),m}getTile(e,t,n,r,s){const o=this.getProjection();if(!o||!s||yb(o,s))return this.getTileInternal(e,t,n,r,o||s);const l=this.getTileCacheForProjection(s),d=[e,t,n];let h;const m=rJ(d);l.containsKey(m)&&(h=l.get(m));const b=this.getKey();if(h&&h.key==b)return h;const v=this.getTileGridForProjection(o),E=this.getTileGridForProjection(s),D=this.getTileCoordForTileUrlFunction(d,s),T=new y9(o,v,s,E,d,D,this.getTilePixelRatio(r),this.getGutter(),(P,F,H,j)=>this.getTileInternal(P,F,H,j,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return T.key=b,h?(T.interimTile=h,T.refreshInterimChain(),l.replace(m,T)):l.set(m,T),T}getTileInternal(e,t,n,r,s){let o=null;const l=Cw(e,t,n),d=this.getKey();if(this.tileCache.containsKey(l)){if(o=this.tileCache.get(l),o.key!=d){const h=o;o=this.createTile_(e,t,n,r,s,d),o.interimTile=0==h.getState()?h.interimTile:h,o.refreshInterimChain(),this.tileCache.replace(l,o)}}else o=this.createTile_(e,t,n,r,s,d),this.tileCache.set(l,o);return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const n=Tr(e);if(n){const r=(0,gi.sq)(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},Cc=class tMt extends fJ{constructor(e){const t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",n=void 0!==e.tileGrid?e.tileGrid:dJ({extent:R3(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}};function pJ(i,e){const t=[];Object.keys(e).forEach(function(r){null!=e[r]&&t.push(r+"="+encodeURIComponent(e[r]))});const n=t.join("&");return i=i.replace(/[?&]$/,""),(i+=i.includes("?")?"&":"?")+n}function gJ(i,e){const t=(""+i).split("."),n=(""+e).split(".");for(let r=0;r<Math.max(t.length,n.length);r++){const s=parseInt(t[r]||"0",10),o=parseInt(n[r]||"0",10);if(s>o)return 1;if(o>s)return-1}return 0}const j9="1.3.0";function W9(i,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:j9,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},i)}const lMt=class aMt extends b3{constructor(e,t,n,r,s,o){super(e,t,o),this.extent=null,this.format_=r,this.features_=null,this.projection=null,this.tileLoadFunction_=s,this.url_=n,this.key=n}getFormat(){return this.format_}getFeatures(){return this.features_}load(){0==this.state&&(this.setState(1),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(3)}setFeatures(e){this.features_=e,this.setState(2)}setLoader(e){this.loader_=e}},bJ=[],dMt=class cMt extends b3{constructor(e,t,n,r){super(e,t,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.getSourceTiles=r.bind(void 0,this),this.wrappedTileCoord=n}getContext(e){const t=(0,gi.sq)(e);return t in this.context_||(this.context_[t]=(0,yr.E4)(1,1,bJ)),this.context_[t]}hasContext(e){return(0,gi.sq)(e)in this.context_}getImage(e){return this.hasContext(e)?this.getContext(e).canvas:null}getReplayState(e){const t=(0,gi.sq)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){for(const e in this.context_){const t=this.context_[e];(0,yr.jy)(t),bJ.push(t.canvas),delete this.context_[e]}super.release()}};let vJ=!1;function yJ(i,e,t,n,r,s,o){const l=new XMLHttpRequest;l.open("GET","function"==typeof i?i(t,n,r):i,!0),"arraybuffer"==e.getType()&&(l.responseType="arraybuffer"),l.withCredentials=vJ,l.onload=function(d){if(!l.status||l.status>=200&&l.status<300){const h=e.getType();let m;"json"==h||"text"==h?m=l.responseText:"xml"==h?(m=l.responseXML,m||(m=(new DOMParser).parseFromString(l.responseText,"application/xml"))):"arraybuffer"==h&&(m=l.response),m?s(e.readFeatures(m,{extent:t,featureProjection:r}),e.readProjection(m)):o()}else o()},l.onerror=o,l.send()}function xJ(i,e){return function(t,n,r,s,o){const l=this;yJ(i,e,t,n,r,function(d,h){l.addFeatures(d),void 0!==s&&s(d)},o||ja.Zn)}}const im=class uMt extends hJ{constructor(e){const t=e.projection||"EPSG:3857",n=e.extent||R3(t),r=e.tileGrid||dJ({extent:n,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:hMt,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}),this.format_=e.format?e.format:null,this.sourceTileCache=new H9(this.tileCache.highWaterMark),this.overlaps_=null==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:lMt,this.tileGrids_={}}getFeaturesInExtent(e){const t=[],n=this.tileCache;if(0===n.getCount())return t;const r=sJ(n.peekFirstKey())[0],s=this.tileGrid;return n.forEach(function(o){if(o.tileCoord[0]!==r||2!==o.getState())return;const l=o.getSourceTiles();for(let d=0,h=l.length;d<h;++d){const m=l[d];if((0,me.kK)(e,s.getTileCoordExtent(m.tileCoord))){const v=m.getFeatures();if(v)for(let E=0,D=v.length;E<D;++E){const T=v[E],P=T.getGeometry();(0,me.kK)(e,P.getExtent())&&t.push(T)}}}}),t}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(e,t){const n=this.getTileCacheForProjection(e),r=Object.keys(t).reduce((s,o)=>{const l=function NEt(i){const[e,t,n]=i.substring(i.lastIndexOf("/")+1,i.length).split(",").map(Number);return Cw(e,t,n)}(o),d=n.peek(l);if(d){const h=d.sourceTiles;for(let m=0,b=h.length;m<b;++m)s[h[m].getKey()]=!0}return s},{});super.expireCache(e,t),this.sourceTileCache.expireCache(r)}getSourceTiles(e,t,n){if(0===n.getState()){n.setState(1);const r=n.wrappedTileCoord,s=this.getTileGridForProjection(t),o=s.getTileCoordExtent(r),d=s.getResolution(r[0]);(0,me.f3)(o,-d,o);const h=this.tileGrid,m=h.getExtent();m&&(0,me.Ed)(o,m,o);const b=h.getZForResolution(d,this.zDirection);h.forEachTileCoord(o,b,v=>{const E=this.tileUrlFunction(v,e,t),D=this.sourceTileCache.containsKey(E)?this.sourceTileCache.get(E):new this.tileClass(v,E?0:4,E,this.format_,this.tileLoadFunction);n.sourceTiles.push(D);const T=D.getState();if(T<2){const P=F=>{this.handleTileChange(F);const H=D.getState();if(2===H||3===H){const j=D.getKey();j in n.errorTileKeys?2===D.getState()&&delete n.errorTileKeys[j]:n.loadingSourceTiles--,3===H?n.errorTileKeys[j]=!0:D.removeEventListener(Dn.Z.CHANGE,P),0===n.loadingSourceTiles&&n.setState((0,Tg.x)(n.errorTileKeys)?2:3)}};D.addEventListener(Dn.Z.CHANGE,P),n.loadingSourceTiles++}0===T&&(D.extent=h.getTileCoordExtent(v),D.projection=t,D.resolution=h.getResolution(v[0]),this.sourceTileCache.set(E,D),D.load())}),n.loadingSourceTiles||n.setState(n.sourceTiles.some(v=>3===v.getState())?3:2)}return n.sourceTiles}getTile(e,t,n,r,s){const o=Cw(e,t,n),l=this.getKey();let d;if(this.tileCache.containsKey(o)&&(d=this.tileCache.get(o),d.key===l))return d;const h=[e,t,n];let m=this.getTileCoordForTileUrlFunction(h,s);const b=this.getTileGrid().getExtent(),v=this.getTileGridForProjection(s);if(m&&b){const T=v.getTileCoordExtent(m);(0,me.f3)(T,-v.getResolution(e),T),(0,me.kK)(b,T)||(m=null)}let E=!0;if(null!==m){const T=this.tileGrid,P=v.getResolution(e),F=T.getZForResolution(P,1),H=v.getTileCoordExtent(m);(0,me.f3)(H,-P,H),T.forEachTileCoord(H,F,j=>{E=E&&!this.tileUrlFunction(j,r,s)})}const D=new dMt(h,E?4:0,m,this.getSourceTiles.bind(this,r,s));return D.key=l,d?(D.interimTile=d,D.refreshInterimChain(),this.tileCache.replace(o,D)):this.tileCache.set(o,D),D}getTileGridForProjection(e){const t=e.getCode();let n=this.tileGrids_[t];if(!n){const r=this.tileGrid,s=r.getResolutions().slice(),o=s.map(function(h,m){return r.getOrigin(m)}),l=s.map(function(h,m){return r.getTileSize(m)}),d=JK+1;for(let h=s.length;h<d;++h)s.push(s[h-1]/2),o.push(o[h-1]),l.push(l[h-1]);n=new Ib({extent:r.getExtent(),origins:o,resolutions:s,tileSizes:l}),this.tileGrids_[t]=n}return n}getTilePixelRatio(e){return e}getTilePixelSize(e,t,n){const s=fl(this.getTileGridForProjection(n).getTileSize(e),this.tmpSize);return[Math.round(s[0]*t),Math.round(s[1]*t)]}updateCacheSize(e,t){super.updateCacheSize(2*e,t),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(t).highWaterMark}};function hMt(i,e){i.setLoader(function(t,n,r){yJ(e,i.getFormat(),t,n,r,i.onLoad.bind(i),i.onError.bind(i))})}new Vl({title:"Light",type:"base",visible:!0,source:new Cc({url:"https://{1-4}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attributions:'\xa9 <a href="https://carto.com">CARTO</a>'})}),new Vl({title:"World - WGS84",type:"base",visible:!1,source:new class sMt extends fJ{constructor(e){e=e||{};const t=Object.assign({},e.params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!(!("TRANSPARENT"in t)||t.TRANSPARENT),projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=(0,me.lJ)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,n,r){const s=Tr(n),o=this.getProjection()||s;let l=this.getTileGrid();l||(l=this.getTileGridForProjection(o));const d=xb(e,s,o),h=v9(o,s,e,t),m=l.getZForResolution(h,this.zDirection),b=l.getResolution(m),v=l.getTileCoordForCoordAndZ(d,m);if(l.getResolutions().length<=v[0])return;let E=l.getTileCoordExtent(v,this.tmpExtent_);const D=this.gutter_;0!==D&&(E=(0,me.f3)(E,b*D,E));const T={QUERY_LAYERS:this.params_.LAYERS};Object.assign(T,W9(this.params_,"GetFeatureInfo"),r);const P=Math.floor((d[0]-E[0])/b),F=Math.floor((E[3]-d[1])/b);return T[this.v13_?"I":"X"]=P,T[this.v13_?"J":"Y"]=F,this.getRequestUrl_(v,E,1,o||s,T)}getLegendUrl(e,t){if(void 0===this.urls[0])return;const n={SERVICE:"WMS",VERSION:j9,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){const r=this.params_.LAYERS;if(Array.isArray(r)&&1!==r.length)return;n.LAYER=r}if(void 0!==e){const r=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=e*r/28e-5}return Object.assign(n,t),pJ(this.urls[0],n)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,n,r,s){const o=this.urls;if(!o)return;let l;return l=1==o.length?o[0]:o[(0,Fi.$W)(oJ(e),o.length)],function _J(i,e,t,n,r,s,o){s=Object.assign({REQUEST:"GetMap"},s);const l=e/t,d=[(0,Fi.NM)((0,me.dz)(i)/l,4),(0,Fi.NM)((0,me.Cr)(i)/l,4)];if(1!=t)switch(o){case"geoserver":const m=90*t+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+m:s.FORMAT_OPTIONS="dpi:"+m;break;case"mapserver":s.MAP_RESOLUTION=90*t;break;case"carmentaserver":case"qgis":s.DPI=90*t;break;default:throw new Error("Unknown `serverType` configured")}return function rMt(i,e,t,n,r){r.WIDTH=t[0],r.HEIGHT=t[1];const s=n.getAxisOrientation();let o;const l=gJ(r.VERSION,"1.3")>=0;return r[l?"CRS":"SRS"]=n.getCode(),o=l&&"ne"==s.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=o.join(","),pJ(i,r)}(r,i,d,n,s)}(t,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(e[0]),n,r,l,s,this.serverType_)}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0;const t=[];for(const n in this.params_)t[e++]=n+"-"+this.params_[n];return t.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){this.v13_=gJ(this.params_.VERSION||j9,"1.3")>=0}tileUrlFunction(e,t,n){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),r.getResolutions().length<=e[0])return;1!=t&&(!this.hidpi_||void 0===this.serverType_)&&(t=1);const s=r.getResolution(e[0]);let o=r.getTileCoordExtent(e,this.tmpExtent_);const l=this.gutter_;0!==l&&(o=(0,me.f3)(o,s*l,o));const d=Object.assign({},W9(this.params_,"GetMap"));return this.getRequestUrl_(e,o,t,n,d)}}({url:"https://ahocevar.com/geoserver/wms",crossOrigin:"",params:{LAYERS:"ne:NE1_HR_LC_SR_W_DR",TILED:!0},projection:"EPSG:4326"})}),new qd({title:"ESRI - Vector Tiles",type:"base",visible:!1,source:new im({format:new Xf,attributions:'Tiles \xa9 <a href="https://www.arcgis.com/home/item.html?id=7dc6cea0b1764a1f9af2e679f642f0f5">ArcGIS</a>',url:"https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer/tile/{z}/{y}/{x}.pbf"})});const fMt=new Vl({title:"Satellite",type:"base",visible:!1,source:new Cc({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),mMt=new Vl({title:"Light",type:"base",visible:!0,source:new Cc({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/arcgis/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})}),pMt=new Vl({title:"Dark",type:"base",visible:!1,source:new Cc({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/arcgis/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}"})}),Xd=(new Vl({title:"Dark",type:"base",visible:!1,source:new Cc({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',url:"https://fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}"})}),new Vl({title:"OSM",type:"base",visible:!1,source:new class iMt extends Cc{constructor(e){let t;t=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:e.wrapX,zDirection:e.zDirection})}}}),new jd.default({title:"Base Layers",visible:!0,layers:[pMt,mMt,fMt]}));var Bg=function(i){return i.CLEAR="CLEAR",i.MAP="MAP",i.DRAW="DRAW",i.POINT="POINT",i}(Bg||{});function wJ(...i){const e=i[i.length-1];return"function"==typeof e&&i.pop(),oi(i,void 0).lift(new _Mt(e))}class _Mt{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new bMt(e,this.resultSelector))}}class bMt extends et{constructor(e,t,n=Object.create(null)){super(e),this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:null,this.values=n}_next(e){const t=this.iterators;At(e)?t.push(new yMt(e)):t.push("function"==typeof e[Wt]?new vMt(e[Wt]()):new xMt(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let o=0;o<t;o++){let l=e[o];if("function"==typeof l.hasValue&&!l.hasValue())return}let r=!1;const s=[];for(let o=0;o<t;o++){let l=e[o],d=l.next();if(l.hasCompleted()&&(r=!0),d.done)return void n.complete();s.push(d.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),r&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class vMt{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return e&&e.done}}class yMt{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[Wt](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class xMt extends Xn{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Wt](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e,t,n,r,s){this.buffer.push(t),this.parent.checkIterators()}subscribe(e,t){return dn(this,this.observable,this,t)}}let Kd=(()=>{class i{constructor(t){this.maps=t,this.scientificnameSource=new ti(""),this.scientificname=this.scientificnameSource.asObservable(),this.speciesInfoSource=new ti(null),this.speciesInfo=this.speciesInfoSource.asObservable(),this.speciesDatasetSource=new ti(""),this.speciesDataset=this.speciesDatasetSource.asObservable(),this.speciesPreferencesSource=new ti(null),this.speciesPreferences=this.speciesPreferencesSource.asObservable()}updateScientificname(t){t&&(t=(t=t.replace("_"," ")).charAt(0).toUpperCase()+t.slice(1),this.maps.updateScientificname(t),this.scientificnameSource.next(t))}updateSpeciesPreferences(t){this.speciesPreferencesSource.next(t)}static#t=this.\u0275fac=function(n){return new(n||i)(V($f))};static#e=this.\u0275prov=Fe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var wMt=Et(965),CJ=Et.n(wMt),EJ=Et(217);function CMt(i,e){if(1&i&&(O(0,"div",3)(1,"h2",4),tt(2," Please "),O(3,"a",5),tt(4,"log in"),L(),tt(5," to download metrics. "),L()()),2&i){const t=Mt();z(3),Y("href","https://auth.mol.org/login?next="+t.url,rr)}}function EMt(i,e){if(1&i&&(O(0,"b"),tt(1),L()),2&i){const t=Mt(2);z(1),Mi(t.data.dialogBody||t.DIALOG_BODY_DEFAULT)}}function MMt(i,e){if(1&i&&(O(0,"b"),tt(1),L()),2&i){const t=Mt(2);z(1),Mi(t.data.dialogBody||t.DIALOG_BODY_REMOTE_DEFAULT)}}function SMt(i,e){if(1&i&&(O(0,"b"),tt(1),L()),2&i){const t=Mt(2);z(1),Mi(t.DIALOG_BODY_COMINGSOON_DEFAULT)}}function kMt(i,e){if(1&i&&(O(0,"b"),tt(1),L()),2&i){const t=Mt(2);z(1),Mi(t.DIALOG_BODY_QUOTA_REACHED_DEFAULT)}}function DMt(i,e){if(1&i&&(O(0,"div"),te(1,"mol-small-spinner",10),O(2,"b"),tt(3),L()()),2&i){const t=Mt(2);z(3),Mi(t.DIALOG_BODY_CHECKING)}}function TMt(i,e){1&i&&(O(0,"div"),te(1,"mol-small-spinner",10),O(2,"b"),tt(3,"Generating download..."),L()())}function IMt(i,e){if(1&i){const t=Ai();O(0,"button",11),fe("click",function(){return Te(t),Ie(Mt(2).downloadZip())}),tt(1," DOWNLOAD "),L()}if(2&i){const t=Mt(2);Y("disabled",t.loading||!t.canDownload)}}function AMt(i,e){if(1&i&&(O(0,"div",6)(1,"div",7),It(2,EMt,2,1,"b",8),It(3,MMt,2,1,"b",8),It(4,SMt,2,1,"b",8),It(5,kMt,2,1,"b",8),te(6,"br"),It(7,DMt,4,1,"div",8),te(8,"br"),It(9,TMt,4,0,"div",8),L(),It(10,IMt,2,1,"button",9),L()),2&i){const t=Mt();z(2),Y("ngIf",t.canDownload&&t.data.files&&t.data.files.length>0),z(1),Y("ngIf",t.canDownload&&t.data.fetch&&!t.loading),z(1),Y("ngIf",!t.canDownload&&t.noData),z(1),Y("ngIf",!t.checking&&!t.canDownload),z(2),Y("ngIf",t.checking),z(2),Y("ngIf",t.loading),z(1),Y("ngIf",t.data.files&&t.data.files.length>0||t.data.fetch)}}let P3=(()=>{class i{constructor(t,n,r,s,o){this.data=t,this.dialogRef=n,this.auth=r,this.speciesIndicators=s,this.httpClient=o,this.loggedIn=!1,this.checking=!0,this.loading=!1,this.url="",this.noData=!0,this.DIALOG_BODY_CHECKING="Please wait...",this.DIALOG_BODY_DEFAULT="Your download request is now available.",this.DIALOG_BODY_REMOTE_DEFAULT="Click DOWNLOAD to start the request which may take a few seconds to complete.",this.DIALOG_BODY_COMINGSOON_DEFAULT="Data download coming soon. Please check back shortly.",this.DIALOG_BODY_QUOTA_REACHED_DEFAULT="Download quota reached. Please contact info@mol.org for more information.",this.downloadId="",this.canDownload=!1,this.auth.loggedIn.subscribe(l=>{this.loggedIn=l})}ngOnInit(){this.url=document.URL,this.noData=!(this.data.files&&this.data.files.length>0||this.data.fetch),this.noData||(this.checking=!0,this.checkDownload().subscribe(t=>{this.canDownload=!0,this.checking=!1},t=>{this.canDownload=!1,this.checking=!1}))}downloadZip(){this.data.fetch?this.getRemoteDownloadWithMetadata():this.downloadTables(),this.trackDownload()}checkDownload(){return this.httpClient.get("https://next-api.mol.org/2.x/download/item/check",{headers:{Authorization:`Bearer ${this.auth.getToken()}`}})}trackDownload(){fetch("https://next-api.mol.org/2.x/download/item",{method:"POST",headers:{"content-type":"application/json;charset=UTF-8",Authorization:`Bearer ${this.auth.getToken()}`},body:JSON.stringify(this.data)})}getRemoteDownload(){this.speciesIndicators.habitatDistributionDownload(this.data.scientificname,this.data.fetch.preferences).subscribe(t=>{window.open(t,"_blank")})}getRemoteDownloadWithMetadata(){this.loading=!0,this.speciesIndicators.habitatDistributionDownload(this.data.scientificname,this.data.fetch.preferences).subscribe(t=>{let n=this.downloadFile(t),r=this.data.scientificname.replace(" ","_"),s=`${this.data.zipPrefix}_${r}`;var o=new(CJ());o.file("metadata.txt",`${this.data.metadataTitle}\n---------------------------------------------------------------\n${this.data.metadataInfo}\n\n${this.data.metadataExtra}\n`),o.file(`${r}_habitat_distribution.zip`,n);let l=this;o.generateAsync({type:"blob"}).then(function(d){EJ.saveAs(d,s+".zip"),l.loading=!1,l.close()})})}downloadFile(t){return fetch(t).then(n=>n.blob())}downloadTables(){let t=this.data.scientificname.replace(" ","_"),n=`${this.data.zipPrefix}_${t}`;var r=new(CJ());r.file("metadata.txt",`${this.data.metadataTitle}\n---------------------------------------------------------------\n${this.data.metadataInfo}\n\n${this.data.metadataExtra}\n`),this.data.files.forEach(o=>{let l=this.makeCsv(o);r.file(`${o.name}_${t}.csv`,l)});let s=this;r.generateAsync({type:"blob"}).then(function(o){EJ.saveAs(o,n+".zip"),s.close()})}makeCsv(t){return t.addSciname&&t.columns.push("scientific_name"),[t.columns].concat(t.data.map(r=>{let s=r.map((o,l)=>(t.formatters[l]||(d=>d))(o));return t.addSciname&&s.push(this.data.scientificname),s})).map(r=>r.join(",")).join("\n")}close(){this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||i)(U(Yf),U(xg),U(_b),U(A2),U(Nd))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-generic-download-modal"]],decls:5,vars:2,consts:[["mat-icon-button","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button",3,"click"],["mat-dialog-content","",4,"ngIf"],["class","dialog-content","mat-dialog-content","",4,"ngIf"],["mat-dialog-content",""],[1,"auth-guard","mhead"],[3,"href"],["mat-dialog-content","",1,"dialog-content"],[1,"disclaimer"],[4,"ngIf"],["class","pull-right","mat-stroked-button","","color","accent",3,"disabled","click",4,"ngIf"],["diameter","20",1,"spin"],["mat-stroked-button","","color","accent",1,"pull-right",3,"disabled","click"]],template:function(n,r){1&n&&(O(0,"button",0),fe("click",function(){return r.close()}),O(1,"mat-icon"),tt(2,"close"),L()(),It(3,CMt,6,1,"div",1),It(4,AMt,11,7,"div",2)),2&n&&(z(3),Y("ngIf",!r.loggedIn),z(1),Y("ngIf",r.loggedIn))},dependencies:[on,dl,cg,P2,Ma,zl],styles:[".popup-close-button[_ngcontent-%COMP%]{float:right;background-color:#fff}.auth-guard[_ngcontent-%COMP%]{padding-top:40px}.mhead[_ngcontent-%COMP%]{padding:0;margin:0}.no-found[_ngcontent-%COMP%]{margin:20px}.mat-dialog-title[_ngcontent-%COMP%]{padding:0;margin:0}.disclaimer[_ngcontent-%COMP%]{padding-bottom:15px;min-height:5vh}.dialog-content[_ngcontent-%COMP%]{max-width:400px;min-width:400px}"]})}return i})();function OMt(i,e){if(1&i&&(O(0,"p"),tt(1),L()),2&i){const t=Mt();z(1),mi(" ",t.data.images[t.data.selectedIndex].description," ")}}function RMt(i,e){if(1&i&&(O(0,"div",14)(1,"a",15),tt(2),O(3,"mat-icon"),tt(4,"copyright"),L()()()),2&i){const t=Mt();z(1),Y("href",t.data.images[t.data.selectedIndex].license,rr),z(1),mi(" ",t.data.images[t.data.selectedIndex].copyright," ")}}function PMt(i,e){if(1&i&&(O(0,"div",14)(1,"a",15),tt(2," No copyright holder found. Licence. "),L()()),2&i){const t=Mt();z(1),Y("href",t.data.images[t.data.selectedIndex].license,rr)}}const MJ=function(i){return{vote:!0,voted:i}};let LMt=(()=>{class i{constructor(t,n,r){this.data=t,this.species=n,this.snackbar=r}ngOnInit(){}mod(t,n){return(t%n+n)%n}rotate(t){this.data.selectedIndex=this.mod(this.data.selectedIndex+t,this.data.images.length)}vote(t){let n=t;const r=this.data.images[this.data.selectedIndex];r.vote&&t===r.vote&&(n=0),this.species.imagesVote(r.asset_id,n).subscribe(s=>{r.vote=n,this.snackbar.open("Vote successful.","close")},s=>{console.error(s),this.snackbar.open(s.error.message?s.error.message:"Error casting vote.","close")})}handleKeyboardEvent(t){"ArrowRight"===t.key&&this.rotate(1),"ArrowLeft"===t.key&&this.rotate(-1)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Yf),U(ul),U(bb))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-images-modal"]],hostBindings:function(n,r){1&n&&fe("keydown",function(o){return r.handleKeyboardEvent(o)},0,vy)},decls:23,vars:10,consts:[[1,"content"],[1,"img-box"],[1,"image",3,"src"],["mat-button","",1,"prev",3,"click"],["mat-button","","cdkFocusInitial","",1,"next",3,"click"],[4,"ngIf"],[1,"image-rights"],["class","licence",4,"ngIf"],[1,"controls"],[1,"voting-controls"],["mat-icon-button",""],["aria-hidden","false","aria-label","vote up image",3,"ngClass","click"],["aria-hidden","false","aria-label","vote down image",3,"ngClass","click"],["mat-stroked-button","","mat-dialog-close","","matTooltipPosition","left","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup"],[1,"licence"],["target","_license",1,"copyright",3,"href"]],template:function(n,r){1&n&&(O(0,"mat-dialog-content",0)(1,"div",1),te(2,"img",2),O(3,"button",3),fe("click",function(){return r.rotate(-1)}),O(4,"mat-icon"),tt(5,"navigate_before"),L()(),O(6,"button",4),fe("click",function(){return r.rotate(1)}),O(7,"mat-icon"),tt(8,"navigate_next"),L()()(),It(9,OMt,2,1,"p",5),O(10,"div",6),It(11,RMt,5,2,"div",7),It(12,PMt,3,1,"div",7),L()(),O(13,"div",8)(14,"div",9)(15,"button",10)(16,"mat-icon",11),fe("click",function(){return r.vote(1)}),tt(17,"thumb_up"),L()(),O(18,"button",10)(19,"mat-icon",12),fe("click",function(){return r.vote(-1)}),tt(20,"thumb_down"),L()()(),O(21,"button",13),tt(22," Close "),L()()),2&n&&(z(2),Y("src",r.data.images[r.data.selectedIndex].asset_url,rr),z(7),Y("ngIf",r.data.images[r.data.selectedIndex].description),z(2),Y("ngIf",r.data.images[r.data.selectedIndex].copyright),z(1),Y("ngIf",!r.data.images[r.data.selectedIndex].copyright),z(4),Y("ngClass",$r(6,MJ,1===r.data.images[r.data.selectedIndex].vote)),z(3),Y("ngClass",$r(8,MJ,-1===r.data.images[r.data.selectedIndex].vote)))},dependencies:[Af,on,dl,cg,zL,P2,Ma,zl],styles:[".copyright[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{font-size:1em;color:#000}.img-box[_ngcontent-%COMP%]{position:relative}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{position:absolute;background-color:#fff;top:50%;max-width:30px;background-color:#ffffff80;padding:0}.prev[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{opacity:1}.prev[_ngcontent-%COMP%]{left:0;border-radius:0 5px 5px 0}.next[_ngcontent-%COMP%]{border-radius:5px 0 0 5px;right:0}.controls[_ngcontent-%COMP%], .image-rights[_ngcontent-%COMP%]{flex-direction:row;display:flex;justify-content:space-between;color:#000!important;font-size:1em}.image-rights[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;background-color:unset}.voted[_ngcontent-%COMP%]{color:#37f}@media screen and (max-device-width: 360px){.image[_ngcontent-%COMP%]{width:calc(100vw - 50%)}}@media screen and (min-device-width: 361px) and (max-device-width: 480px){.image[_ngcontent-%COMP%]{width:calc(100vw - 47%)}}"]})}return i})();function FMt(i,e){if(1&i){const t=Ai();O(0,"img",4),fe("click",function(){Te(t);const r=Mt();return Ie(r.openModal(r.selected))}),L()}if(2&i){const t=Mt();Y("src",t.selected.asset_url+"=s"+t.size+"-c",rr)}}function NMt(i,e){if(1&i&&(O(0,"div",5)(1,"a",6)(2,"mat-icon"),tt(3,"copyright"),L(),tt(4),L()()),2&i){const t=Mt();z(1),Y("href",t.selected.license,rr),z(3),Mi(t.selected.copyright)}}const SJ=function(i){return{vote:!0,voted:i}};function BMt(i,e){if(1&i){const t=Ai();O(0,"div",7)(1,"div",8)(2,"mat-icon",9),fe("click",function(){return Te(t),Ie(Mt().rotate(-1))}),tt(3,"chevron_left"),L(),O(4,"mat-icon",10),fe("click",function(){return Te(t),Ie(Mt().rotate(1))}),tt(5,"chevron_right"),L()(),O(6,"div",11)(7,"mat-icon",12),fe("click",function(){return Te(t),Ie(Mt().vote(-1))}),tt(8,"thumb_down"),L(),O(9,"mat-icon",13),fe("click",function(){return Te(t),Ie(Mt().vote(1))}),tt(10,"thumb_up"),L()()()}if(2&i){const t=Mt();z(7),Y("ngClass",$r(2,SJ,-1===t.selected.vote)),z(2),Y("ngClass",$r(4,SJ,1===t.selected.vote))}}let zMt=(()=>{class i{constructor(t,n,r,s){this.speciesService=t,this.dialog=n,this.auth=r,this.snackbar=s,this.scientificname="",this.size=160,this.showControls=!1,this.images=[],this.selectedIndex=0,this.selected={asset_id:"",asset_url:"",description:"",license:"",copyright:""}}ngOnChanges(t){this.scientificname&&this.refreshImages()}refreshImages(){this.speciesService.images(this.scientificname).subscribe(t=>{const n=t[0];n&&(this.images=n.images,this.images&&(this.selected=this.images[this.selectedIndex]))})}ngOnInit(){}openModal(t){this.dialog.open(LMt,{data:{selectedIndex:this.selectedIndex,images:this.images}})}mod(t,n){return(t%n+n)%n}rotate(t){this.selectedIndex+=t,this.selectedIndex=this.mod(this.selectedIndex,this.images.length),this.selected=this.images[this.selectedIndex]}vote(t){let n=t;this.selected.vote&&t===this.selected.vote&&(n=0),this.speciesService.imagesVote(this.selected.asset_id,n).subscribe(r=>{this.selected.vote=n,this.snackbar.open("Vote successful.","close")},r=>{this.snackbar.open(r.error.message?r.error.message:"Error casting vote.","close")})}style(){return{width:this.size?this.size+"px":"100%",height:this.size?this.size+"px":"100%",minWidth:"80px",maxWidth:"320px"}}static#t=this.\u0275fac=function(n){return new(n||i)(U(ul),U(id),U(_b),U(bb))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-images"]],inputs:{scientificname:"scientificname",size:"size"},features:[zn],decls:4,vars:5,consts:[[1,"species-images",3,"mouseover","mouseleave"],["class","spp-img",3,"src","click",4,"ngIf"],["class","image-rights",4,"ngIf"],["class","image-controls",4,"ngIf"],[1,"spp-img",3,"src","click"],[1,"image-rights"],["target","_license",1,"copyright",3,"href"],[1,"image-controls"],[1,"controls"],["aria-hidden","false","aria-label","previous image",1,"scroller",3,"click"],["aria-hidden","false","aria-label","next image",1,"scroller",3,"click"],[1,"voting"],["aria-hidden","false","aria-label","vote down image",3,"ngClass","click"],["aria-hidden","false","aria-label","vote up image",3,"ngClass","click"]],template:function(n,r){1&n&&(O(0,"div",0),fe("mouseover",function(){return r.showControls=!0,!1})("mouseleave",function(){return r.showControls=!1,!1}),It(1,FMt,1,1,"img",1),It(2,NMt,5,2,"div",2),It(3,BMt,11,6,"div",3),L()),2&n&&(function ol(i){Va(tM,XE,i,!1)}(r.style()),z(1),Y("ngIf",r.selected.asset_url),z(1),Y("ngIf",r.showControls&&r.selected.copyright),z(1),Y("ngIf",r.showControls))},dependencies:[Af,on,Ma],styles:[".species-images[_ngcontent-%COMP%]{display:inline-block;position:relative;border:1pt solid gray;border-radius:5pt;overflow:hidden;-webkit-user-select:none;user-select:none}.species-images[_ngcontent-%COMP%]   .image-controls[_ngcontent-%COMP%]{color:#d3d3d3;position:absolute;display:flex;justify-content:space-between;bottom:0;width:100%;background-color:#00000080;padding:5px}.controls[_ngcontent-%COMP%], .voting[_ngcontent-%COMP%]{margin-right:10px}.species-images[_ngcontent-%COMP%]   .image-rights[_ngcontent-%COMP%]{position:absolute;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:8pt;color:#d3d3d3;top:0;width:100%;background-color:#00000080;padding:5px}.copyright[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{height:8px;width:12px;font-size:8pt}.species-images[_ngcontent-%COMP%]   .image-rights[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#d3d3d3;max-height:1em;font-size:1em}.species-images[_ngcontent-%COMP%]   .voted[_ngcontent-%COMP%]{color:#37f}.species-images[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]{padding:1pt;cursor:pointer}.species-images[_ngcontent-%COMP%]   .vote[_ngcontent-%COMP%]{float:right;padding:1pt;cursor:pointer}.species-images[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-device-width: 480px){.species-images[_ngcontent-%COMP%]{width:126px}}"]})}return i})(),VMt=(()=>{class i{constructor(){this.btnColor="primary",this.url="",this.category="",this.citationShort="",this.catLong="",this.btnText="",this.catMap={LC:"Least Concern",DD:"Data Deficient",NE:"Not Evaluated",NT:"Near Threatened",VU:"Vulnerable",EN:"Endangered",CR:"Critically Endangered",EW:"Extinct in the Wild",EX:"Extinct"}}ngOnInit(){this.catLong=this.catMap[this.category],this.btnText=`${this.catLong} (${this.citationShort.replace(/\(|\)/g,"")})`}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-iucn-link"]],inputs:{url:"url",category:"category",citationShort:"citationShort"},decls:3,vars:4,consts:[["target","_blank",3,"href"]],template:function(n,r){1&n&&(O(0,"div")(1,"a",0),tt(2),L()()),2&n&&(Yn("infoIUCNStatus  "+r.category),z(1),Y("href",r.url,rr),z(1),mi(" ",r.btnText," "))},styles:[".infoIUCNStatus[_ngcontent-%COMP%]{background-color:#000;color:#fff;margin-top:5px;padding:5px 5px 5px 10px!important;width:180px;font-size:.9em;border-radius:5px;text-decoration:none}.infoIUCNStatus.CR[_ngcontent-%COMP%], .infoIUCNStatus.Critically.Endangered[_ngcontent-%COMP%]{background-color:#ed3131}.infoIUCNStatus.EN[_ngcontent-%COMP%], .infoIUCNStatus.Endangered[_ngcontent-%COMP%]{background-color:#e8662a}.infoIUCNStatus.EW[_ngcontent-%COMP%], .infoIUCNStatus.EX[_ngcontent-%COMP%], .infoIUCNStatus.Extinct[_ngcontent-%COMP%], .infoIUCNStatus.Extinct.Wild[_ngcontent-%COMP%]{background-color:#000}.infoIUCNStatus.LC[_ngcontent-%COMP%], .infoIUCNStatus.Least.Concern[_ngcontent-%COMP%], .infoIUCNStatus.NT[_ngcontent-%COMP%], .infoIUCNStatus.Near.Threatened[_ngcontent-%COMP%]{background-color:#006866}.infoIUCNStatus.VU[_ngcontent-%COMP%], .infoIUCNStatus.Vulnerable[_ngcontent-%COMP%], .infoIUCNStatus.Vulnerable.Vulnerable.Vulnerable.Vulnerable[_ngcontent-%COMP%]{background-color:#dc9c27}.infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff;background-color:transparent;display:block}"]})}return i})();function HMt(i,e){if(1&i&&(O(0,"div",15),tt(1),L()),2&i){const t=Mt(2);z(1),Ko(" ",t.familyString?"|":""," ",t.familyString," ")}}function UMt(i,e){if(1&i&&te(0,"mol-iucn-link",16),2&i){const t=Mt(2);Y("url",t.speciesInfo.redlist_link)("citationShort",t.speciesInfo.redlist_citation_short)("category",t.speciesInfo.redlist)}}function GMt(i,e){1&i&&te(0,"mol-images",17),2&i&&Y("scientificname",Mt(2).scientificname)}function jMt(i,e){if(1&i&&(O(0,"a",22),tt(1),L()),2&i){const t=Mt(2).$implicit;Y("href",Mt(3).wikiUrl,rr),z(1),Mi(t.source)}}function WMt(i,e){if(1&i&&(O(0,"div",20)(1,"strong"),tt(2),Yi(3,"translate"),L(),It(4,jMt,2,2,"a",21),L()),2&i){const t=Mt().$implicit;z(2),mi("",bn(3,2,"source"),": "),z(2),Y("ngIf","Wikipedia"===t.source)}}function $Mt(i,e){if(1&i&&(O(0,"div")(1,"p"),tt(2),L(),It(3,WMt,5,4,"div",19),L()),2&i){const t=e.$implicit;z(2),Mi(t.content),z(1),Y("ngIf",t.source)}}function YMt(i,e){if(1&i&&(O(0,"mat-card-content"),It(1,$Mt,4,2,"div",18),L()),2&i){const t=Mt(2);z(1),Y("ngForOf",t.wikiInfo)}}function ZMt(i,e){if(1&i&&(O(0,"mat-card",2)(1,"mat-card-header",3)(2,"mat-card-title-group")(3,"mat-card-title",4)(4,"div",5)(5,"div",6),te(6,"div",7),O(7,"div",8),It(8,HMt,2,2,"div",9),O(9,"div",10),tt(10),L(),O(11,"div",11)(12,"i"),tt(13),L()()()(),It(14,UMt,1,3,"mol-iucn-link",12),L(),It(15,GMt,1,1,"mol-images",13),L()()(),It(16,YMt,2,1,"mat-card-content",14),L()),2&i){const t=Mt();z(6),Y("ngStyle",t.iconUrl),z(2),Y("ngIf",t.familyString),z(2),Mi(t.speciesInfo.commonname),z(3),Mi(t.speciesInfo.scientificname),z(1),Y("ngIf",t.speciesInfo.redlist_link),z(1),Y("ngIf",t.speciesInfo.image),z(1),Y("ngIf",t.wiki)}}function qMt(i,e){if(1&i&&(O(0,"div",23)(1,"h2"),tt(2),L()()),2&i){const t=Mt();z(2),Mi(t.scientificname)}}function XMt(i,e){if(1&i&&te(0,"mol-iucn-link",16),2&i){const t=Mt(2);Y("url",t.speciesInfo.redlist_link)("citationShort",t.speciesInfo.redlist_citation_short)("category",t.speciesInfo.redlist)}}function KMt(i,e){1&i&&te(0,"mol-images",17),2&i&&Y("scientificname",Mt(2).scientificname)}function QMt(i,e){if(1&i&&(O(0,"mat-card-subtitle")(1,"a",25),tt(2),Yi(3,"translate"),L()()),2&i){const t=Mt(3);z(1),w0("href","https://mol.org/species/map/",t.scientificname,"",rr),z(1),Mi(bn(3,2,"view_species_page"))}}function JMt(i,e){if(1&i){const t=Ai();O(0,"strong",29),fe("click",function(){Te(t);const r=Mt(4);return Ie(r.showMore=!r.showMore)}),tt(1),L()}if(2&i){const t=Mt(4);z(1),Mi(t.showMoreLessLabel)}}function tSt(i,e){if(1&i&&(O(0,"a",22),tt(1),L()),2&i){const t=Mt(2).$implicit;Y("href",Mt(3).wikiUrl,rr),z(1),Mi(t.source)}}function eSt(i,e){if(1&i&&(O(0,"div",20)(1,"strong"),tt(2),Yi(3,"translate"),L(),It(4,tSt,2,2,"a",21),L()),2&i){const t=Mt().$implicit;z(2),mi("",bn(3,2,"source"),": "),z(2),Y("ngIf","Wikipedia"===t.source)}}function iSt(i,e){if(1&i&&(O(0,"div")(1,"p",26),tt(2),L(),O(3,"div",27),It(4,JMt,2,1,"strong",28),It(5,eSt,5,4,"div",19),L()()),2&i){const t=e.$implicit,n=Mt(3);z(2),Mi(n.showMore?t.content:t.intro),z(2),Y("ngIf",t.content.length>n.showMoreThreshold),z(1),Y("ngIf",t.source)}}function nSt(i,e){if(1&i&&(O(0,"mat-card-content"),It(1,QMt,4,4,"mat-card-subtitle",14),It(2,iSt,6,3,"div",18),L()),2&i){const t=Mt(2);z(1),Y("ngIf",t.detailedLink),z(1),Y("ngForOf",t.wikiInfo)}}function rSt(i,e){if(1&i&&(O(0,"mat-card",2)(1,"mat-card-header",3)(2,"mat-card-title-group")(3,"mat-card-title",24)(4,"div",5)(5,"div",6),te(6,"div",7),O(7,"div",8)(8,"div",15),tt(9),L(),O(10,"div",10),tt(11),L(),O(12,"div",11)(13,"i"),tt(14),L()()()(),It(15,XMt,1,3,"mol-iucn-link",12),L(),It(16,KMt,1,1,"mol-images",13),L()()(),It(17,nSt,3,2,"mat-card-content",14),L()),2&i){const t=Mt();z(6),Y("ngStyle",t.iconUrl),z(3),Ko(" ",t.familyString?"|":""," ",t.familyString," "),z(2),Mi(t.speciesInfo.commonname),z(3),Mi(t.speciesInfo.scientificname),z(1),Y("ngIf",t.speciesInfo.redlist_link),z(1),Y("ngIf",t.speciesInfo.image),z(1),Y("ngIf",t.wiki)}}let Mw=(()=>{class i{constructor(t,n,r){this.speciesService=t,this.translationService=n,this.translate=r,this.scientificname="",this.detailedLink=!1,this.wiki=!0,this.column=!1,this.speciesInfo=null,this.speciesInfoUpdated=new qe,this.lang="",this.familyString="",this.wikiUrl="",this.wikiInfo=[],this.iconUrl={},this.missing=!1,this.showMore=!1,this.showMoreThreshold=500}get showMoreLessLabel(){return this.translate.instant(this.showMore?"show_less":"show_more")}ngOnInit(){this.speciesInfo&&this.updateInfo(this.speciesInfo),this.translationService.lang.subscribe(t=>{this.lang=t,this.refreshInfo()})}ngOnChanges(t){t.scientificname.currentValue!==t.scientificname.previousValue&&this.refreshInfo()}refreshInfo(){this.speciesService.getInfo(this.scientificname).subscribe(t=>{this.speciesInfo=t,this.updateInfo(t)})}updateInfo(t){if(t){const n=this.speciesInfo.family.find(r=>r.name);this.familyString=n?n.name:"",this.wikiUrl=`https://${this.lang}.wikipedia.org/wiki/${this.speciesInfo.scientificname.replace(" ","_")}`,t.info&&t.info.length>0?(this.wikiInfo=[t.info.find(r=>r.lang===this.lang)||t.info[0]],this.showMoreThreshold=this.wikiInfo[0].content.indexOf(this.wikiInfo[0].content.split(". ")[2]),this.wikiInfo[0].intro=this.wikiInfo[0].content.slice(0,this.showMoreThreshold)):this.wikiInfo=[{content:"No information for this species."}],this.iconUrl={"background-size":"cover","background-image":`url('https://mol.org/static/img/groups/taxa_${this.speciesInfo.taxa}.png')`},this.missing=!1,this.speciesInfoUpdated.emit(this.speciesInfo)}else this.missing=!0}static#t=this.\u0275fac=function(n){return new(n||i)(U(ul),U(yc),U(sw))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-info"]],inputs:{scientificname:"scientificname",detailedLink:"detailedLink",wiki:"wiki",column:"column",speciesInfo:"speciesInfo"},outputs:{speciesInfoUpdated:"speciesInfoUpdated"},features:[zn],decls:3,vars:3,consts:[["class","species-card",4,"ngIf"],["class","missing",4,"ngIf"],[1,"species-card"],[1,"header"],[1,"info"],[1,"info-col"],[1,"info-wrapper"],["mat-card-avatar","",1,"taxa-icon",3,"ngStyle"],[1,"info-name"],["class","info-family",4,"ngIf"],[1,"info-common-name"],[1,"info-sciname"],[3,"url","citationShort","category",4,"ngIf"],["class","spp-icon-image","size","152","mat-card-lg-image","",3,"scientificname",4,"ngIf"],[4,"ngIf"],[1,"info-family"],[3,"url","citationShort","category"],["size","152","mat-card-lg-image","",1,"spp-icon-image",3,"scientificname"],[4,"ngFor","ngForOf"],["class","info-source",4,"ngIf"],[1,"info-source"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"missing"],[1,"info","info-common-name"],["target","_blank",1,"detailed-page-link",3,"href"],[1,"wikitext"],[1,"after-info"],[3,"click",4,"ngIf"],[3,"click"]],template:function(n,r){1&n&&(It(0,ZMt,17,7,"mat-card",0),It(1,qMt,3,1,"div",1),It(2,rSt,18,8,"mat-card",0)),2&n&&(Y("ngIf",r.speciesInfo&&!r.column),z(1),Y("ngIf",r.missing),z(1),Y("ngIf",r.speciesInfo&&r.column))},dependencies:[Ps,on,xB,Ku,wY,Vx,TP,xY,DP,kP,yY,zMt,VMt,ed],styles:["[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .mat-mdc-card-title-group[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;gap:10px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .info-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]     .mat-mdc-card-header-text .mat-mdc-card-subtitle{display:flex;flex-direction:column;padding-bottom:10px}[_nghost-%COMP%]   .spp-icon-image[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .spp-icon-image[_ngcontent-%COMP%]   .species-images[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .taxa-icon[_ngcontent-%COMP%]{height:25px;width:25px;object-fit:cover;display:inline-block;vertical-align:middle}[_nghost-%COMP%]   .info-sciname[_ngcontent-%COMP%]{font-size:1.2em}[_nghost-%COMP%]   .info-source[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .info-family[_ngcontent-%COMP%]{color:#000;font-size:1.1em;font-weight:400}[_nghost-%COMP%]   .species-card[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   .detailed-page-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}[_nghost-%COMP%]   .detailed-page-link[_ngcontent-%COMP%]:hover{background-color:unset;color:#000}[_nghost-%COMP%]   .missing[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .after-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:link{color:#203378}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#203378;color:#fff}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#5567a7}@media screen and (max-device-width: 360px){[_nghost-%COMP%]     .mat-card-header-text{margin:0!important}[_nghost-%COMP%]   .species-card[_ngcontent-%COMP%]{width:91%}}"]})}return i})();const sSt=[[["","title",""]],[["","content",""]]],oSt=["[title]","[content]"];let aSt=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-expansion-card"]],inputs:{panelOpenState:"panelOpenState"},ngContentSelectors:oSt,decls:6,vars:1,consts:[[1,"species-accordian"],[3,"expanded"]],template:function(n,r){1&n&&(jn(sSt),O(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),Ei(4),L()(),Ei(5,1),L()()),2&n&&(z(1),Y("expanded",r.panelOpenState))},dependencies:[Vyt,nK,rK,zyt],styles:["[_nghost-%COMP%]     .species-accordian .mat-expansion-panel-body{padding:0}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 17px}"]})}return i})();function lSt(i,e){if(1&i){const t=Ai();O(0,"button",8),fe("click",function(){return Te(t),Ie(Mt().resetPreferences())}),tt(1," Use defaults "),L()}2&i&&Or("matTooltip",Mt().tooltipMessages.reset)}function cSt(i,e){if(1&i){const t=Ai();O(0,"button",9),fe("click",function(){return Te(t),Ie(Mt().preferencesUpdated())}),tt(1," Update "),L()}2&i&&Or("matTooltip",Mt().tooltipMessages.update)}function dSt(i,e){if(1&i){const t=Ai();O(0,"div",10)(1,"div",11)(2,"div",12)(3,"mat-slide-toggle",13),fe("ngModelChange",function(r){return Te(t),Ie(Mt().elev.checked=r)})("change",function(r){return Te(t),Ie(Mt().onChange(r))}),tt(4,"Elevation "),O(5,"mat-icon",14),tt(6,"help"),L()(),O(7,"div",15)(8,"ngx-slider",16),fe("valueChange",function(r){return Te(t),Ie(Mt().elev.min=r)})("highValueChange",function(r){return Te(t),Ie(Mt().elev.max=r)})("userChange",function(r){return Te(t),Ie(Mt().updateElevation(r))}),L()()(),te(9,"hr"),O(10,"div",17)(11,"mat-slide-toggle",18),fe("ngModelChange",function(r){return Te(t),Ie(Mt().treecover.checked=r)})("change",function(r){return Te(t),Ie(Mt().onChange(r))})("userChange",function(r){return Te(t),Ie(Mt().updateElevation(r))}),tt(12," Tree cover "),O(13,"mat-icon",14),tt(14,"help"),L()(),O(15,"div",15)(16,"ngx-slider",16),fe("valueChange",function(r){return Te(t),Ie(Mt().treecover.min=r)})("highValueChange",function(r){return Te(t),Ie(Mt().treecover.max=r)})("userChange",function(r){return Te(t),Ie(Mt().updateTreeCover(r))}),L()()()(),te(17,"hr"),O(18,"div",19)(19,"mat-slide-toggle",20),fe("ngModelChange",function(r){return Te(t),Ie(Mt().landcover=r)})("change",function(r){return Te(t),Ie(Mt().onChange(r))}),tt(20,"Landcover "),O(21,"mat-icon",14),tt(22,"help"),L()(),O(23,"button",21),fe("click",function(){return Te(t),Ie(Mt().toggleList())}),tt(24),L()()()}if(2&i){const t=Mt();z(3),Or("matTooltip",t.tooltipMessages.elevation),Y("ngModel",t.elev.checked),z(5),Y("value",t.elev.min)("highValue",t.elev.max)("options",t.elevoptions),z(3),Or("matTooltip",t.tooltipMessages.treecover),Y("ngModel",t.treecover.checked),z(5),Y("value",t.treecover.min)("highValue",t.treecover.max)("options",t.options),z(3),Or("matTooltip",t.tooltipMessages.landcover),Y("ngModel",t.landcover),z(5),mi(" ",t.isLandCoverHidden," Land-cover preferences ")}}function uSt(i,e){if(1&i){const t=Ai();O(0,"th",30)(1,"mat-checkbox",31),fe("change",function(r){Te(t);const s=Mt(2);return Ie(r?s.masterToggle():null)}),L()()}if(2&i){const t=Mt(2);z(1),Y("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function hSt(i,e){if(1&i){const t=Ai();O(0,"td",32)(1,"mat-checkbox",33),fe("click",function(r){return r.stopPropagation()})("change",function(r){const o=Te(t).$implicit,l=Mt(2);return Ie(r?l.toggleCheckbox(o):null)}),L()()}if(2&i){const t=e.$implicit,n=Mt(2);z(1),Y("checked",1==t.percentage)("indeterminate",t.percentage>0&&t.percentage<1)("aria-label",n.checkboxLabel(t))}}function fSt(i,e){1&i&&(O(0,"th",30),tt(1,"Name"),L())}function mSt(i,e){if(1&i&&(O(0,"td",32),tt(1),L()),2&i){const t=e.$implicit;z(1),Mi(t.name)}}function pSt(i,e){1&i&&(O(0,"th",30),tt(1,"Percentage"),L())}function gSt(i,e){if(1&i&&(O(0,"mat-option",37),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),mi("",100*t," ")}}function _St(i,e){if(1&i){const t=Ai();O(0,"td",32)(1,"mat-form-field",34)(2,"mat-label"),tt(3,"%"),L(),O(4,"mat-select",35),fe("valueChange",function(r){return Ie(Te(t).$implicit.percentage=r)}),It(5,gSt,2,2,"mat-option",36),L()()()}if(2&i){const t=e.$implicit,n=Mt(2);z(4),Y("value",t.percentage),z(1),Y("ngForOf",n.percentages)}}function bSt(i,e){1&i&&te(0,"tr",38)}function vSt(i,e){if(1&i){const t=Ai();O(0,"tr",39),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).selection.toggle(s))}),L()}}function ySt(i,e){if(1&i&&(O(0,"table",22),Zo(1,23),It(2,uSt,2,3,"th",24),It(3,hSt,2,3,"td",25),za(),Zo(4,26),It(5,fSt,2,0,"th",24),It(6,mSt,2,1,"td",25),za(),Zo(7,27),It(8,pSt,2,0,"th",24),It(9,_St,6,2,"td",25),za(),It(10,bSt,1,0,"tr",28),It(11,vSt,1,0,"tr",29),L()),2&i){const t=Mt();Y("dataSource",t.dataSource),z(10),Y("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),z(1),Y("matRowDefColumns",t.displayedColumns)}}function xSt(i,e){1&i&&(O(0,"h4"),tt(1,"No Habitat Associations available for marine species"),L())}let wSt=(()=>{class i{constructor(t,n){this.speciesIndicators=t,this.state=n,this.preferencesChanged=new qe,this.speciesHabitats=[],this.displayedColumns=["select","name","percentage"],this.percentages=[0,.25,.5,.75,1],this.dataSource=new LZ(this.speciesHabitats),this.habitatsMap=new Map,this.elevoptions={disabled:!1,step:100,floor:0,ceil:8500,translate:(r,s)=>r+"m"},this.options={disabled:!1,step:5,floor:0,ceil:100,translate:(r,s)=>r+"%"},this.isLandCoverHidden="Show",this.showlandCoverList=!1,this.tooltipMessages={update:"Apply changes to habitat associations to the map and statistics",reset:"Reset preferences back to default",elevation:"Mean elevation of 1km pixel",treecover:"Tree cover at 1km based on global forest extent and change (GFC v1.7)",landcover:"Dominant land cover type at aggregated at 1 km pixel (ESA v2.1.1)"}}ngOnInit(){this.setElevationTreeCoverStates()}ngOnChanges(t){this.mapHabitat()}ngOnDestroy(){}onChange(t){switch(t.source.id){case"elevToggle":this.preferences.use_e=t.checked,this.elevoptions=Object.assign({},this.elevoptions,{disabled:!this.preferences.use_e});break;case"treecoverToggle":this.preferences.use_f=t.checked,this.options=Object.assign({},this.options,{disabled:!this.preferences.use_f});break;case"landcoverToggle":this.preferences.use_h=t.checked}}resetPreferences(){this.speciesIndicators.speciesPreferences(this.preferences.scientificname).subscribe(t=>{this.preferences={...t.prefs},this.setElevationTreeCoverStates(),this.mapHabitat(),this.preferencesUpdated()})}setElevationTreeCoverStates(){this.elev={min:this.preferences.elev_min,max:this.preferences.elev_max,checked:this.preferences.use_e},this.treecover={min:this.preferences.tree_cover_min,max:this.preferences.tree_cover_max,checked:this.preferences.use_f},this.landcover=this.preferences.use_h,this.elevoptions=Object.assign({},this.elevoptions,{disabled:!this.preferences.use_e}),this.options=Object.assign({},this.options,{disabled:!this.preferences.use_f})}preferencesUpdated(){this.mapPreferences(),this.preferencesChanged.emit(this.preferences)}mapPreferences(){let t="";this.dataSource.data.forEach(n=>{if(0!=n.percentage){let s=this.habitatsMap.get(n.name);""!=t&&(t+=","),t+=s.class+":"+n.percentage}}),this.preferences.habitat=t}mapHabitat(){this.habitatsMap.clear(),this.speciesHabitats.splice(0,this.speciesHabitats.length),this.preferences.habitat.split(",").forEach(t=>{const n=t.split(":"),r=this.habitats[n[0]].name,s=+n[1];this.habitatsMap.set(r,{class:n[0],percentage:s}),this.speciesHabitats.push({name:r,percentage:s})});for(const t in this.habitats){const r=this.habitats[t].name;this.habitatsMap.has(r)||(this.habitatsMap.set(r,{class:t,percentage:0}),this.speciesHabitats.push({name:r,percentage:0}))}this.selection=new n2(!0,this.speciesHabitats.filter(t=>1===t.percentage)),this.dataSource=new LZ(this.speciesHabitats)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){if(this.isAllSelected())return this.selection.clear(),this.dataSource.data.forEach(t=>{t.percentage=0}),void(this.landcover=!1);this.dataSource.data.forEach(t=>{t.percentage=1}),this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}toggleList(){this.showlandCoverList=!this.showlandCoverList,this.isLandCoverHidden=this.showlandCoverList?"Hide":"Show"}updateElevation(t){this.preferences.elev_min=t.value,this.preferences.elev_max=t.highValue}updateTreeCover(t){this.preferences.tree_cover_min=t.value,this.preferences.tree_cover_max=t.highValue}toggleCheckbox(t){this.selection.toggle(t),t.percentage=this.selection.isSelected(t)?1:0}static#t=this.\u0275fac=function(n){return new(n||i)(U(A2),U(Kd))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-habitat-association"]],viewQuery:function(n,r){if(1&n&&Pi(dV,5),2&n){let s;Ze(s=We())&&(r.table=s.first)}},inputs:{preferences:"preferences",habitats:"habitats",reserves:"reserves"},outputs:{preferencesChanged:"preferencesChanged"},features:[zn],decls:9,vars:5,consts:[[1,"content"],[1,"title-section"],["class","reset","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["class","update","mat-raised-button","","color","accent",3,"matTooltip","click",4,"ngIf"],["class","toggles",4,"ngIf"],[1,"habitat"],["mat-table","",3,"dataSource",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","",1,"reset",3,"matTooltip","click"],["mat-raised-button","","color","accent",1,"update",3,"matTooltip","click"],[1,"toggles"],[1,"range"],[1,"elevation"],["id","elevToggle",3,"ngModel","matTooltip","ngModelChange","change"],[1,"help-icon"],[1,"custom-slider"],[3,"value","highValue","options","valueChange","highValueChange","userChange"],[1,"tree-cover"],["id","treecoverToggle",3,"ngModel","matTooltip","ngModelChange","change","userChange"],[1,"land-cover"],["id","landcoverToggle",3,"ngModel","matTooltip","ngModelChange","change"],["mat-stroked-button","","color","primary",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","percentage"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","indeterminate","aria-label","click","change"],["appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(n,r){1&n&&(O(0,"mat-card")(1,"div",0)(2,"div",1),It(3,lSt,2,1,"button",2),It(4,cSt,2,1,"button",3),L(),It(5,dSt,25,13,"div",4),O(6,"div",5),It(7,ySt,12,4,"table",6),L(),It(8,xSt,2,0,"h4",7),L()()),2&n&&(z(3),Y("ngIf","fishes"!==r.preferences.class),z(1),Y("ngIf",!(!r.reserves&&"fishes"===r.preferences.class)),z(1),Y("ngIf","fishes"!==r.preferences.class),z(2),Y("ngIf",r.showlandCoverList),z(1),Y("ngIf","fishes"==r.preferences.class))},dependencies:[Ps,on,Yu,dl,Ku,Ma,zl,SY,jP,pz,dV,hV,AZ,fV,uV,OZ,mV,pV,RZ,PZ,Qu,fg,Ju,pc,Lf],styles:[".elevation[_ngcontent-%COMP%], .tree-cover[_ngcontent-%COMP%]{display:flex;flex-direction:column}th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0;padding-right:1em}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.mat-form-field-wrapper[_ngcontent-%COMP%], .mat-form-field-infix[_ngcontent-%COMP%]{width:8em}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{padding-top:1em}.land-cover[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.title-section[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5em;justify-content:flex-end}.title-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;line-height:24px;height:29px;margin-right:1.5em}.title-section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{background-color:#394aae;color:#fff;font-size:12px;line-height:24px;height:29px;margin-right:0}hr[_ngcontent-%COMP%]{margin:1em 0 2em;color:#cecece}.habitat[_ngcontent-%COMP%]{margin-bottom:1em}.mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:1em;line-height:30px}"]})}return i})();function CSt(i,e){1&i&&te(0,"mat-spinner",2),2&i&&Y("diameter",Mt().diameter)}let L3=(()=>{class i{constructor(t){this.spinner=t,this.diameter=30,this.display=!1}ngOnInit(){this.spinner.activeRequests.subscribe(t=>{this.display=t>0})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Wf))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-small-spinner"]],inputs:{diameter:"diameter"},decls:2,vars:1,consts:[[1,"small-spinner-container"],["class","small-spinner","color","accent",3,"diameter",4,"ngIf"],["color","accent",1,"small-spinner",3,"diameter"]],template:function(n,r){1&n&&(O(0,"div",0),It(1,CSt,1,1,"mat-spinner",1),L()),2&n&&(z(1),Y("ngIf",r.display))},dependencies:[on,qz],styles:[".small-spinner-container[_ngcontent-%COMP%]{width:60px}.small-spinner[_ngcontent-%COMP%]{align-self:center;margin:15px}"]})}return i})();function ESt(i,e){if(1&i&&(O(0,"td"),tt(1),te(2,"br"),L()),2&i){const t=Mt(2);z(1),mi(" ",t.gisFrag," km ")}}function MSt(i,e){1&i&&te(0,"mol-small-spinner",11)}function SSt(i,e){if(1&i&&(O(0,"td")(1,"div",9),It(2,MSt,1,0,"mol-small-spinner",10),tt(3),L()()),2&i){const t=Mt(2);z(2),Y("ngIf","Loading"===t.gisFrag),z(1),mi(" ",t.gisFrag," ")}}const kSt=function(i,e,t){return{protection_status_red:i,protection_status_green:e,protection_status_yellow:t}},DSt=function(i){return{protection_status_light_red:i}};function TSt(i,e){if(1&i&&(O(0,"div",2)(1,"h3",3),tt(2," Distribution "),O(3,"mat-icon",4),tt(4,"help"),L()(),O(5,"table")(6,"tr")(7,"td",5),tt(8," Map Improvement: "),L(),O(9,"td"),tt(10),Yi(11,"number"),te(12,"br"),O(13,"small"),tt(14," ("),O(15,"span",6),tt(16),L(),tt(17," \xa0-\xa0 "),O(18,"span",7),tt(19),L(),tt(20,") "),L()(),O(21,"td"),tt(22),te(23,"br"),O(24,"small"),tt(25,"Validation points"),L()()(),O(26,"tr")(27,"td",5),tt(28," Range size: "),L(),O(29,"td"),tt(30),Yi(31,"number"),te(32,"br"),O(33,"small"),tt(34,"Habitat Suitable"),L()(),O(35,"td"),tt(36),Yi(37,"number"),te(38,"br"),O(39,"small"),tt(40,"Total"),L()()(),O(41,"tr")(42,"td",5),tt(43," Avg. Edge Distance: "),L(),It(44,ESt,3,1,"td",8),It(45,SSt,4,2,"td",8),L()()()),2&i){const t=Mt();z(1),Or("matTooltip",t.tooltipMessages.geodis),z(6),Or("matTooltip",t.tooltipMessages.mapimprov),z(2),Yn(nx(24,kSt,t.f_change_high<0,t.f_change_low>0,0==t.f_change_low||0==t.f_change_high)),z(1),mi(" ",bn(11,16,t.f_change),"%\xa0 "),z(6),mi("",t.f_change_low,"%\xa0"),z(3),mi("",t.f_change_high,"%"),z(3),mi(" ",t.num_points," "),z(5),Or("matTooltip",t.tooltipMessages.range),z(2),Yn($r(28,DSt,t.refined_range_size<2e4)),z(1),mi(" ",Al(31,18,t.habitatMetrics.refined_range_size,"1.0-0")," km\xb2 "),z(6),mi(" ",Al(37,21,t.habitatMetrics.expert_range_size,"1.0-0")," km\xb2 "),z(6),Or("matTooltip",t.tooltipMessages.edgeDistance),z(2),Y("ngIf","Loading"!==t.gisFrag&&"Error"!==t.gisFrag),z(1),Y("ngIf","Loading"===t.gisFrag||"Error"===t.gisFrag)}}function ISt(i,e){1&i&&(O(0,"div",12),te(1,"mol-small-spinner",13),O(2,"small"),tt(3,"Generating distribution metrics."),L()())}let ASt=(()=>{class i{constructor(){this.range_change=0,this.precision_change=0,this.sensitivity_change=0,this.expert_f=0,this.refined_f=0,this.f_change=0,this.f_score=0,this.refined_precision=0,this.expert_precision=0,this.expert_sensitivity=0,this.refined_sensitivity=0,this.num_points=0,this.f_change_high=0,this.f_change_low=0,this.tooltipMessages={geodis:"Range size characteristics and improvements in distribution estimate from currently selected habitat associations.",range:"Area covered by total (suitable + unsuitable) or suitable range given habitat selection.\n \n Year: 2019.",mapimprov:"Change in map performance according to available validation information ( points).\n \n Year: 2019.",edgeDistance:"Average distance of suitable habitat cells to the nearest border with unsuitable habitat cells (GISFrag metric).The larger the distance, the greater the connectivity and the smaller the fragmentation.\n \n Max dist: 50km.\n \n Year: 2019."}}ngOnInit(){}ngOnChanges(t){if(this.habitatMetrics){this.refined_precision=1,this.expert_precision=this.habitatMetrics.refined_range_size/this.habitatMetrics.expert_range_size,this.expert_sensitivity=1,this.num_points=this.habitatMetrics.total_points,this.expert_f=Math.round(100*this.getFScore(this.expert_precision,this.expert_sensitivity)),this.refined_sensitivity=this.habitatMetrics.points_in_refined_range/(this.habitatMetrics.points_in_refined_range+this.habitatMetrics.points_in_expert_range),this.refined_f=Math.round(100*this.getFScore(this.refined_precision,this.refined_sensitivity)),this.f_change=this.changeInMapPerformance(this.habitatMetrics.refined_range_size,this.habitatMetrics.expert_range_size,this.habitatMetrics.points_in_expert_range,this.habitatMetrics.points_in_refined_range),this.f_score=this.refinedMapPerformance(this.habitatMetrics.refined_range_size,this.habitatMetrics.expert_range_size,this.habitatMetrics.points_in_expert_range,this.habitatMetrics.points_in_refined_range);var n=this.getSensConf(this.getSensitivity(this.habitatMetrics.points_in_refined_range,this.habitatMetrics.points_in_expert_range),this.habitatMetrics.points_in_refined_range+this.habitatMetrics.points_in_expert_range),r=Math.round(100*this.getFScore(this.refined_precision,n[0])),s=Math.round(100*this.getFScore(this.refined_precision,n[1]));this.f_change_high=s-this.expert_f,this.f_change_low=0==this.num_points?-1:r-this.expert_f}}getFScore(t,n){return t*n*2/(t+n)}refinedMapPerformance(t,n,r,s){return this.range_change=Math.round(100*(t-n)/n),this.expert_f=Math.round(100*this.getFScore(t/n,1)),this.refined_f=Math.round(100*this.getFScore(1,s/(r+s))),this.refined_precision}getSensitivity(t,n){return t/(n+t)}changeInMapPerformance(t,n,r,s){this.range_change=Math.round(100*(t-n)/n);var o=t/n,d=Math.round(100*this.getFScore(o,1)),m=s/(r+s),b=Math.round(100*this.getFScore(1,m));return this.precision_change=Math.round(100*(1-o)),this.sensitivity_change=Math.round(100*(m-1)),this.f_change=b-d,this.f_change}getSensConf(t,n){var r=1.96,s=2*n*t+r^2,o=r*Math.sqrt(r^2+4*n*t*(1-t)),l=2*(n+r^2);return[(s-o)/l,(s+o)/l]}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-geographic-distribution"]],inputs:{habitatMetrics:"habitatMetrics",habitatMetricsLoading:"habitatMetricsLoading",gisFrag:"gisFrag"},features:[zn],decls:3,vars:2,consts:[["class","content",4,"ngIf"],["class","loading",4,"ngIf"],[1,"content"],[3,"matTooltip"],[1,"help-icon"],[1,"stat-title",3,"matTooltip"],["ng-show","f_change_low != null"],["ng-show","f_change_high != null"],[4,"ngIf"],[2,"display","flex","align-items","center"],["style","width: 40px","diameter","20",4,"ngIf"],["diameter","20",2,"width","40px"],[1,"loading"],["diameter","20",1,"spin"]],template:function(n,r){1&n&&(O(0,"mat-card"),It(1,TSt,46,30,"div",0),It(2,ISt,4,0,"div",1),L()),2&n&&(z(1),Y("ngIf",r.habitatMetrics&&!r.habitatMetricsLoading),z(1),Y("ngIf",r.habitatMetricsLoading))},dependencies:[on,L3,Ku,Ma,zl,W0],styles:["table[_ngcontent-%COMP%]{text-align:center;border-collapse:separate;border-spacing:0 1em}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border:1px solid rgba(136,136,136,.5333333333);min-width:100px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin:10px 0;border:1px solid #888}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.loading[_ngcontent-%COMP%]   mol-small-spinner[_ngcontent-%COMP%]{width:40px}"]})}return i})();const kJ=JSON.parse('[{"GEO_ID":1,"ISO3":"ABW","NAME":"Aruba","REGION_ID":"fee99b31-465c-4edc-acbe-0ca31cce4d0e"},{"GEO_ID":2,"ISO3":"AFG","NAME":"Afghanistan","REGION_ID":"f1b0a8bd-ccbc-43ad-82c6-d665598fcbf7"},{"GEO_ID":3,"ISO3":"AGO","NAME":"Angola","REGION_ID":"a01885ee-84fa-4ccd-a4af-feedeb02750c"},{"GEO_ID":4,"ISO3":"AIA","NAME":"Anguilla","REGION_ID":"eb9a67f8-c6ee-4bf1-a310-c41c1fcf1704"},{"GEO_ID":5,"ISO3":"ALA","NAME":"\xc5land","REGION_ID":"6f680399-366c-41a1-be03-3c70d06fbfe6"},{"GEO_ID":6,"ISO3":"ALB","NAME":"Albania","REGION_ID":"910dd100-dd79-467d-a6a1-0fdfd49ac6d4"},{"GEO_ID":7,"ISO3":"AND","NAME":"Andorra","REGION_ID":"24971000-3230-4eab-9866-5ae8ff7ed2a8"},{"GEO_ID":8,"ISO3":"ARE","NAME":"United Arab Emirates","REGION_ID":"01f5669a-bd35-46eb-b4d6-48b1e00296fd"},{"GEO_ID":9,"ISO3":"ARG","NAME":"Argentina","REGION_ID":"897d05e6-6dfc-426c-927c-99bbb5218a77"},{"GEO_ID":10,"ISO3":"ARM","NAME":"Armenia","REGION_ID":"a7969e69-adaa-40d8-ba02-cbdd98084a78"},{"GEO_ID":11,"ISO3":"ASM","NAME":"American Samoa","REGION_ID":"2f4eb1ad-4698-494e-a01e-97c9544b31ab"},{"GEO_ID":12,"ISO3":"ATA","NAME":"Antarctica","REGION_ID":"9fb0cae7-ee8f-4475-89c0-bc1c64b87db6"},{"GEO_ID":13,"ISO3":"ATF","NAME":"French Southern Territories","REGION_ID":"9b86c26a-8230-4c59-8464-db0865abbb0c"},{"GEO_ID":14,"ISO3":"ATG","NAME":"Antigua and Barbuda","REGION_ID":"ad0f6204-f4dd-4aa9-80e2-5d52016a4d06"},{"GEO_ID":15,"ISO3":"AUS","NAME":"Australia","REGION_ID":"52113000-c475-4db4-a46c-3203ba706054"},{"GEO_ID":16,"ISO3":"AUT","NAME":"Austria","REGION_ID":"0c89fafd-0896-4abd-a5fe-c41cdb4ac4ac"},{"GEO_ID":17,"ISO3":"AZE","NAME":"Azerbaijan","REGION_ID":"42b69ecf-0f24-40c4-b493-ffabea3c4ce3"},{"GEO_ID":18,"ISO3":"BDI","NAME":"Burundi","REGION_ID":"4771400a-f813-44be-953b-c4a5a17b0877"},{"GEO_ID":19,"ISO3":"BEL","NAME":"Belgium","REGION_ID":"85f90819-4add-484b-b980-284882a7635d"},{"GEO_ID":20,"ISO3":"BEN","NAME":"Benin","REGION_ID":"f00533f8-4726-40b9-af1e-d40ffee23b0d"},{"GEO_ID":21,"ISO3":"BES","NAME":"Bonaire, Sint Eustatius and Saba","REGION_ID":"82721b3b-390d-4462-95a9-f02f03aff561"},{"GEO_ID":22,"ISO3":"BFA","NAME":"Burkina Faso","REGION_ID":"c189ad16-8f17-4b77-9ae0-4e04a230acdd"},{"GEO_ID":23,"ISO3":"BGD","NAME":"Bangladesh","REGION_ID":"979aa058-c5d2-4ba0-9879-d68387542dff"},{"GEO_ID":24,"ISO3":"BGR","NAME":"Bulgaria","REGION_ID":"99986896-05e9-403f-be52-afd6407f6a6a"},{"GEO_ID":25,"ISO3":"BHR","NAME":"Bahrain","REGION_ID":"a5ab7864-ba9d-4147-b054-1ffbe4153ed0"},{"GEO_ID":26,"ISO3":"BHS","NAME":"Bahamas","REGION_ID":"007d3ec6-b50d-4ad2-963b-e82d3e6e25e8"},{"GEO_ID":27,"ISO3":"BIH","NAME":"Bosnia and Herzegovina","REGION_ID":"598adc43-b1b3-4eed-b951-4a122b509ac2"},{"GEO_ID":28,"ISO3":"BLM","NAME":"Saint-Barth\xe9lemy","REGION_ID":"8e3b3c8a-112f-477a-95c9-7ccdfc5505d7"},{"GEO_ID":29,"ISO3":"BLR","NAME":"Belarus","REGION_ID":"b9706318-c602-4c94-8fec-707b818774a2"},{"GEO_ID":30,"ISO3":"BLZ","NAME":"Belize","REGION_ID":"7524378b-e95d-4afe-9954-6e97ddfbdaf8"},{"GEO_ID":31,"ISO3":"BMU","NAME":"Bermuda","REGION_ID":"78172139-419d-4b5b-89ce-3a2d1bc3dd6f"},{"GEO_ID":32,"ISO3":"BOL","NAME":"Bolivia","REGION_ID":"b324f90b-25f5-4ad0-86b7-0bf39eea64f8"},{"GEO_ID":33,"ISO3":"BRA","NAME":"Brazil","REGION_ID":"ca3e23e7-1d60-464e-9e1a-61ae9e1cb006"},{"GEO_ID":34,"ISO3":"BRB","NAME":"Barbados","REGION_ID":"2d6e1b52-5620-416d-b6dc-b6b885508a8f"},{"GEO_ID":35,"ISO3":"BRN","NAME":"Brunei","REGION_ID":"83a421a3-6da2-4c89-9af5-5170b3085d6f"},{"GEO_ID":36,"ISO3":"BTN","NAME":"Bhutan","REGION_ID":"b58ab549-4ee2-47c6-a611-ca0c30ec94fd"},{"GEO_ID":37,"ISO3":"BVT","NAME":"Bouvet Island","REGION_ID":"31592207-25e0-471d-a8ee-e0f624cd5f38"},{"GEO_ID":38,"ISO3":"BWA","NAME":"Botswana","REGION_ID":"794637ce-4182-44b7-bf5b-b7dd625ade74"},{"GEO_ID":39,"ISO3":"CAF","NAME":"Central African Republic","REGION_ID":"d286bae6-afee-43a3-a490-d13356c0057f"},{"GEO_ID":40,"ISO3":"CAN","NAME":"Canada","REGION_ID":"8c90cf0d-2b0c-42ab-864d-43ff2f7f1145"},{"GEO_ID":41,"ISO3":"CCK","NAME":"Cocos Islands","REGION_ID":"b5de4439-9143-4ef8-8e57-e04b1c132af6"},{"GEO_ID":42,"ISO3":"CHE","NAME":"Switzerland","REGION_ID":"1121bb2d-fd3e-49ea-8e61-e5b4aab8a538"},{"GEO_ID":43,"ISO3":"CHL","NAME":"Chile","REGION_ID":"f8207868-1091-4e18-9680-e6e54220fd22"},{"GEO_ID":44,"ISO3":"CHN","NAME":"China","REGION_ID":"10befcf4-155b-46ef-a6a8-ca3a8e68fd19"},{"GEO_ID":45,"ISO3":"CIV","NAME":"C\xf4te d\'Ivoire","REGION_ID":"ce75cfca-a5e8-44e6-95a3-1467e26b4639"},{"GEO_ID":46,"ISO3":"CMR","NAME":"Cameroon","REGION_ID":"3fda604a-28a1-40ae-93b5-4e852c398e09"},{"GEO_ID":47,"ISO3":"COD","NAME":"Democratic Republic of the Congo","REGION_ID":"90b03e87-3880-4164-a310-339994e3f919"},{"GEO_ID":48,"ISO3":"COG","NAME":"Republic of Congo","REGION_ID":"0c98b276-f38a-4a2e-abab-0acfad46ac69"},{"GEO_ID":49,"ISO3":"COK","NAME":"Cook Islands","REGION_ID":"dcc14246-ee6e-4a5e-abff-2216536894b4"},{"GEO_ID":50,"ISO3":"COL","NAME":"Colombia","REGION_ID":"5eeefdc1-03d2-4686-a447-d79402a93425"},{"GEO_ID":51,"ISO3":"COM","NAME":"Comoros","REGION_ID":"ec7907ed-6de5-4f63-b570-beba1207baa5"},{"GEO_ID":52,"ISO3":"CPV","NAME":"Cape Verde","REGION_ID":"1a45fe3b-6b5f-4ab4-9a3a-7c901bd8c357"},{"GEO_ID":53,"ISO3":"CRI","NAME":"Costa Rica","REGION_ID":"fba67d08-ee5d-4d7f-a5ab-4ddd7be134df"},{"GEO_ID":54,"ISO3":"CUB","NAME":"Cuba","REGION_ID":"15ba9e24-fac6-465c-a5d1-0034cdf7456f"},{"GEO_ID":55,"ISO3":"CUW","NAME":"Cura\xe7ao","REGION_ID":"46cf7bba-1db8-45d0-a8ca-c47d22d2e48c"},{"GEO_ID":56,"ISO3":"CXR","NAME":"Christmas Island","REGION_ID":"c505d69a-9382-4a65-9b37-38190c619675"},{"GEO_ID":57,"ISO3":"CYM","NAME":"Cayman Islands","REGION_ID":"6a560fd5-59ef-4426-bfee-7801c9c6fbd6"},{"GEO_ID":58,"ISO3":"CYP","NAME":"Cyprus","REGION_ID":"f86004b3-d504-4934-92d8-92ef2f808492"},{"GEO_ID":59,"ISO3":"CZE","NAME":"Czech Republic","REGION_ID":"00f56e11-6f89-4b61-8a65-62f722c8b738"},{"GEO_ID":60,"ISO3":"DEU","NAME":"Germany","REGION_ID":"48dbf7cf-b380-4c33-8a4d-5b8c892d710f"},{"GEO_ID":61,"ISO3":"DJI","NAME":"Djibouti","REGION_ID":"e1454f19-ee49-4268-a4f7-c0314914f48a"},{"GEO_ID":62,"ISO3":"DMA","NAME":"Dominica","REGION_ID":"a234c9da-5dfa-4171-8ebe-2dcb8faf2358"},{"GEO_ID":63,"ISO3":"DNK","NAME":"Denmark","REGION_ID":"d6ab9c75-0607-41ed-9f7e-64213f853cba"},{"GEO_ID":64,"ISO3":"DOM","NAME":"Dominican Republic","REGION_ID":"6529d262-30b0-4dc2-ac8c-b14db4760c2d"},{"GEO_ID":65,"ISO3":"DZA","NAME":"Algeria","REGION_ID":"96abdaec-88f3-43d0-9193-fcb36d7f05c8"},{"GEO_ID":66,"ISO3":"ECU","NAME":"Ecuador","REGION_ID":"820244c0-44c5-4fe3-81d3-f01556fde5c5"},{"GEO_ID":67,"ISO3":"EGY","NAME":"Egypt","REGION_ID":"5ea33967-35d9-4ca4-b1fa-9b3f10f53641"},{"GEO_ID":68,"ISO3":"ERI","NAME":"Eritrea","REGION_ID":"fb302f98-520b-45ac-9334-96de07f93c78"},{"GEO_ID":69,"ISO3":"ESH","NAME":"Western Sahara","REGION_ID":"880c22a0-9375-48e6-b208-7c3af0663c44"},{"GEO_ID":70,"ISO3":"ESP","NAME":"Spain","REGION_ID":"15393966-6b57-4447-9f0c-e50077c516d4"},{"GEO_ID":71,"ISO3":"EST","NAME":"Estonia","REGION_ID":"f72e2031-af5e-4fa6-af37-e4309936742f"},{"GEO_ID":72,"ISO3":"ETH","NAME":"Ethiopia","REGION_ID":"b74ac2e3-f8ca-4d46-81b9-f1a685ba0657"},{"GEO_ID":73,"ISO3":"FIN","NAME":"Finland","REGION_ID":"eae62a5b-f89a-4f84-98c2-f9efc3e2ca97"},{"GEO_ID":74,"ISO3":"FJI","NAME":"Fiji","REGION_ID":"52423050-b862-400f-b944-ec49b8f8e261"},{"GEO_ID":75,"ISO3":"FLK","NAME":"Falkland Islands","REGION_ID":"d21a9cb7-32dc-415f-a555-6d6dbf9ae948"},{"GEO_ID":76,"ISO3":"FRA","NAME":"France","REGION_ID":"4a400958-7ee5-4619-b1e9-5f0b2469e349"},{"GEO_ID":77,"ISO3":"FRO","NAME":"Faroe Islands","REGION_ID":"3e07160b-9ebc-408e-9d4c-3d37b7044688"},{"GEO_ID":78,"ISO3":"FSM","NAME":"Micronesia","REGION_ID":"97d0b1f9-cc34-4614-9ef4-5499ea67dcab"},{"GEO_ID":79,"ISO3":"GAB","NAME":"Gabon","REGION_ID":"30810b40-0044-46dd-a1cd-5a3217749738"},{"GEO_ID":80,"ISO3":"GBR","NAME":"United Kingdom","REGION_ID":"21a8e228-fc67-4e87-96bd-ee7f8beaeb47"},{"GEO_ID":81,"ISO3":"GEO","NAME":"Georgia","REGION_ID":"7eb6c4ea-688f-428e-9924-5821b106df77"},{"GEO_ID":82,"ISO3":"GGY","NAME":"Guernsey","REGION_ID":"64b547cb-8318-4284-a061-b6edb52efe84"},{"GEO_ID":83,"ISO3":"GHA","NAME":"Ghana","REGION_ID":"43fd0520-1126-45d2-8dd4-ca9bcbf27735"},{"GEO_ID":84,"ISO3":"GIB","NAME":"Gibraltar","REGION_ID":"f4d513e0-cfa7-490b-93b0-e186e17b0fc9"},{"GEO_ID":85,"ISO3":"GIN","NAME":"Guinea","REGION_ID":"22200606-e907-497f-96db-e7cfd95d61b5"},{"GEO_ID":86,"ISO3":"GLP","NAME":"Guadeloupe","REGION_ID":"e10b34e0-c00e-4752-b023-0ca37bf0767f"},{"GEO_ID":87,"ISO3":"GMB","NAME":"Gambia","REGION_ID":"dc86208f-3e05-4fa2-8a61-19c2ba90b903"},{"GEO_ID":88,"ISO3":"GNB","NAME":"Guinea-Bissau","REGION_ID":"15c15d29-31f0-47cd-b22d-38ffc3764b84"},{"GEO_ID":89,"ISO3":"GNQ","NAME":"Equatorial Guinea","REGION_ID":"35657c66-a459-4131-a767-348bb2687742"},{"GEO_ID":90,"ISO3":"GRC","NAME":"Greece","REGION_ID":"a8511cc6-dd5e-4616-a045-32031f3a86ac"},{"GEO_ID":91,"ISO3":"GRD","NAME":"Grenada","REGION_ID":"7cef5f1a-3dbe-4a59-be66-c550ad4dced9"},{"GEO_ID":92,"ISO3":"GRL","NAME":"Greenland","REGION_ID":"73f872b4-7723-41db-be54-7ce29919357c"},{"GEO_ID":93,"ISO3":"GTM","NAME":"Guatemala","REGION_ID":"6e20d4c8-9c19-4cbd-b8ac-96107776a65e"},{"GEO_ID":94,"ISO3":"GUF","NAME":"French Guiana","REGION_ID":"2a779654-4086-430a-89e0-8dcb54772845"},{"GEO_ID":95,"ISO3":"GUM","NAME":"Guam","REGION_ID":"87a30e40-4c04-487a-acae-3b35c9ba4728"},{"GEO_ID":96,"ISO3":"GUY","NAME":"Guyana","REGION_ID":"25ca0de8-c215-4cda-aafd-f6d644ed9e4a"},{"GEO_ID":97,"ISO3":"HKG","NAME":"Hong Kong","REGION_ID":"f1ea9f6f-b616-49c4-a1a8-6b0ee7d032bf"},{"GEO_ID":98,"ISO3":"HMD","NAME":"Heard Island and McDonald Islands","REGION_ID":"de029d28-87a9-4cb5-ad0e-de8d82fe6529"},{"GEO_ID":99,"ISO3":"HND","NAME":"Honduras","REGION_ID":"933013bd-2a70-44f4-83a7-d3c1f4086cbd"},{"GEO_ID":100,"ISO3":"HRV","NAME":"Croatia","REGION_ID":"9b794015-a7c8-4a2b-b7a0-12dded43b3f9"},{"GEO_ID":101,"ISO3":"HTI","NAME":"Haiti","REGION_ID":"f447037c-09cf-47f3-be49-c260544c3aa1"},{"GEO_ID":102,"ISO3":"HUN","NAME":"Hungary","REGION_ID":"5647081c-7f77-4a3d-962f-2c39d66b0be5"},{"GEO_ID":103,"ISO3":"IDN","NAME":"Indonesia","REGION_ID":"3ccb99e1-0f2c-4ed9-a35b-3fbcfaa5ed11"},{"GEO_ID":104,"ISO3":"IMN","NAME":"Isle of Man","REGION_ID":"fcd94225-2fc6-4a2a-8017-4621a392b192"},{"GEO_ID":105,"ISO3":"IND","NAME":"India","REGION_ID":"7410608a-f752-4b63-9698-34f2a0ce4eb3"},{"GEO_ID":106,"ISO3":"IOT","NAME":"British Indian Ocean Territory","REGION_ID":"aca525ef-0ede-4ce7-9de2-fba79b1f418f"},{"GEO_ID":107,"ISO3":"IRL","NAME":"Ireland","REGION_ID":"59eae850-c83f-4927-aa41-195e50bc9bc7"},{"GEO_ID":108,"ISO3":"IRN","NAME":"Iran","REGION_ID":"fdee96ad-6852-4f1a-9760-84ae8e92e001"},{"GEO_ID":109,"ISO3":"IRQ","NAME":"Iraq","REGION_ID":"106a1e38-0ced-461a-886b-1f1248c09b5f"},{"GEO_ID":110,"ISO3":"ISL","NAME":"Iceland","REGION_ID":"db119bef-4f14-4315-9647-bf7c77125e8a"},{"GEO_ID":111,"ISO3":"ISR","NAME":"Israel","REGION_ID":"7ffaa41d-1d6b-4595-8ca4-2e8d4878da54"},{"GEO_ID":112,"ISO3":"ITA","NAME":"Italy","REGION_ID":"22c5e5d3-b096-40fb-8982-5a3a2c3396f3"},{"GEO_ID":113,"ISO3":"JAM","NAME":"Jamaica","REGION_ID":"d3e41119-d06c-4ece-adcb-aa4afe7b3de5"},{"GEO_ID":114,"ISO3":"JEY","NAME":"Jersey","REGION_ID":"c99a8cf8-6150-46f9-84a8-9d6276fe396b"},{"GEO_ID":115,"ISO3":"JOR","NAME":"Jordan","REGION_ID":"fc3b331c-f81d-4bb4-a7aa-d8973247dce2"},{"GEO_ID":116,"ISO3":"JPN","NAME":"Japan","REGION_ID":"aa03f64e-0044-485f-9371-e6730ef97dee"},{"GEO_ID":117,"ISO3":"KAZ","NAME":"Kazakhstan","REGION_ID":"2cffda41-307f-4a2c-b675-04a4794b3e5a"},{"GEO_ID":118,"ISO3":"KEN","NAME":"Kenya","REGION_ID":"f839d936-e194-4a3a-b6e8-1812a7b4f827"},{"GEO_ID":119,"ISO3":"KGZ","NAME":"Kyrgyzstan","REGION_ID":"8d385ef3-735f-4e59-b986-b814a59beedd"},{"GEO_ID":120,"ISO3":"KHM","NAME":"Cambodia","REGION_ID":"40be0146-9389-41f5-a733-0d7d1863da49"},{"GEO_ID":121,"ISO3":"KIR","NAME":"Kiribati","REGION_ID":"2095b81b-bb09-461c-a05b-9255f010c4e8"},{"GEO_ID":122,"ISO3":"KNA","NAME":"Saint Kitts and Nevis","REGION_ID":"4d3a087c-aa07-4c4b-a0c6-8250a567efff"},{"GEO_ID":123,"ISO3":"KOR","NAME":"South Korea","REGION_ID":"90acab3e-5a1e-432e-abf2-e09f42ab3fc1"},{"GEO_ID":124,"ISO3":"KWT","NAME":"Kuwait","REGION_ID":"8ae9cbeb-0c40-4f20-b95f-059f785bddf0"},{"GEO_ID":125,"ISO3":"LAO","NAME":"Laos","REGION_ID":"905bbee6-1713-4a73-8192-93b3bf58a611"},{"GEO_ID":126,"ISO3":"LBN","NAME":"Lebanon","REGION_ID":"cc32db84-5638-49d5-9acc-804db1fce973"},{"GEO_ID":127,"ISO3":"LBR","NAME":"Liberia","REGION_ID":"50e1557e-fc47-481a-b090-66d5cba5be70"},{"GEO_ID":128,"ISO3":"LBY","NAME":"Libya","REGION_ID":"cbb78d4b-7d5b-4869-abf8-93a2079143ef"},{"GEO_ID":129,"ISO3":"LCA","NAME":"Saint Lucia","REGION_ID":"bd644c87-31dd-422f-9462-4669fb83f652"},{"GEO_ID":130,"ISO3":"LIE","NAME":"Liechtenstein","REGION_ID":"3429fc32-b221-4a24-b35a-98a57098eeb4"},{"GEO_ID":131,"ISO3":"LKA","NAME":"Sri Lanka","REGION_ID":"57921c75-d2bd-4b57-9618-f5b9061954e5"},{"GEO_ID":132,"ISO3":"LSO","NAME":"Lesotho","REGION_ID":"42a0f001-470f-4e3f-9eed-fe27b2b716fe"},{"GEO_ID":133,"ISO3":"LTU","NAME":"Lithuania","REGION_ID":"922b96b0-9038-4a9b-93dd-a56e8dc5098e"},{"GEO_ID":134,"ISO3":"LUX","NAME":"Luxembourg","REGION_ID":"a258ae26-83da-4acd-a762-d5e44ea0fa66"},{"GEO_ID":135,"ISO3":"LVA","NAME":"Latvia","REGION_ID":"c883de73-23f4-4a52-b42c-b60a8da5eaa1"},{"GEO_ID":136,"ISO3":"MAC","NAME":"Macao","REGION_ID":"be21ece8-003f-4e65-8137-7a94ef9d5bc3"},{"GEO_ID":137,"ISO3":"MAF","NAME":"Saint-Martin","REGION_ID":"8a9a037f-b077-4751-bb10-218f89e60d87"},{"GEO_ID":138,"ISO3":"MAR","NAME":"Morocco","REGION_ID":"96ece8fa-cdf8-41cb-8b7a-473559652f93"},{"GEO_ID":139,"ISO3":"MCO","NAME":"Monaco","REGION_ID":"ed4a7687-4f95-4cfe-86f4-c2a388e9246d"},{"GEO_ID":140,"ISO3":"MDA","NAME":"Moldova","REGION_ID":"a3b7cdc4-8707-428b-b303-2e0767462329"},{"GEO_ID":141,"ISO3":"MDG","NAME":"Madagascar","REGION_ID":"72b6baa0-823b-4116-95aa-d61674de995b"},{"GEO_ID":142,"ISO3":"MDV","NAME":"Maldives","REGION_ID":"b5686747-c24e-4bae-8e2a-de02f2249019"},{"GEO_ID":143,"ISO3":"MEX","NAME":"Mexico","REGION_ID":"7d8e3429-a5b5-42ce-968d-d86106254ff8"},{"GEO_ID":144,"ISO3":"MHL","NAME":"Marshall Islands","REGION_ID":"3a7318fb-94cd-4885-a76a-eebd90ee48ee"},{"GEO_ID":145,"ISO3":"MKD","NAME":"Macedonia","REGION_ID":"6f2a53e6-eb0e-4a6d-8998-d48b45b11e4b"},{"GEO_ID":146,"ISO3":"MLI","NAME":"Mali","REGION_ID":"60fa4f95-7415-47b7-abb3-f86ec028f5f3"},{"GEO_ID":147,"ISO3":"MLT","NAME":"Malta","REGION_ID":"9b6c3861-711a-43a8-8152-205d3cbf7844"},{"GEO_ID":148,"ISO3":"MMR","NAME":"Myanmar","REGION_ID":"d636b801-89a2-4eaf-9d58-4ece3a4d0594"},{"GEO_ID":149,"ISO3":"MNE","NAME":"Montenegro","REGION_ID":"127e5960-7a62-4b2c-ba59-4743da1bc9fe"},{"GEO_ID":150,"ISO3":"MNG","NAME":"Mongolia","REGION_ID":"b5a7cc4f-deda-400c-b48f-e4a24a7604be"},{"GEO_ID":151,"ISO3":"MNP","NAME":"Northern Mariana Islands","REGION_ID":"7cc11db2-dfc5-4bc1-b55a-1959710f3a4b"},{"GEO_ID":152,"ISO3":"MOZ","NAME":"Mozambique","REGION_ID":"9071dde7-4ede-4f50-a649-d5219d9224d2"},{"GEO_ID":153,"ISO3":"MRT","NAME":"Mauritania","REGION_ID":"ea3ae466-cfd7-4e63-9262-bd651c5bab90"},{"GEO_ID":154,"ISO3":"MSR","NAME":"Montserrat","REGION_ID":"ab7acba8-13e7-43a5-9452-0d249327b691"},{"GEO_ID":155,"ISO3":"MTQ","NAME":"Martinique","REGION_ID":"d5867dfa-020e-42ac-b3ca-abac5b4660a3"},{"GEO_ID":156,"ISO3":"MUS","NAME":"Mauritius","REGION_ID":"df8090e3-7f1d-421a-b28b-c135cf848d01"},{"GEO_ID":157,"ISO3":"MWI","NAME":"Malawi","REGION_ID":"f7e0587a-6546-4635-b1b4-cf93d7d60190"},{"GEO_ID":158,"ISO3":"MYS","NAME":"Malaysia","REGION_ID":"e7d859d2-73fc-4a13-b226-fae746c2b885"},{"GEO_ID":159,"ISO3":"MYT","NAME":"Mayotte","REGION_ID":"aa86460a-3d33-4f76-8ccb-b91e22462314"},{"GEO_ID":160,"ISO3":"NAM","NAME":"Namibia","REGION_ID":"f1c5b971-7d97-4135-bf6e-d7e1d03c938e"},{"GEO_ID":161,"ISO3":"NCL","NAME":"New Caledonia","REGION_ID":"072810da-5139-4b0d-a0a3-5243220ad318"},{"GEO_ID":162,"ISO3":"NER","NAME":"Niger","REGION_ID":"26091048-c0c4-4fd6-b8dc-8de60184c3e8"},{"GEO_ID":163,"ISO3":"NFK","NAME":"Norfolk Island","REGION_ID":"c3df8035-0fd3-44a0-8340-ad64c4407b2f"},{"GEO_ID":164,"ISO3":"NGA","NAME":"Nigeria","REGION_ID":"e3a8b6ab-f383-4694-9aa7-0c13877ce4c1"},{"GEO_ID":165,"ISO3":"NIC","NAME":"Nicaragua","REGION_ID":"7c8ac8c1-cd3b-4bcf-8bfc-42b8335ce0e4"},{"GEO_ID":166,"ISO3":"NIU","NAME":"Niue","REGION_ID":"9d3b8c5f-a295-4608-8368-71c27c772a00"},{"GEO_ID":167,"ISO3":"NLD","NAME":"Netherlands","REGION_ID":"121e9800-122d-421e-9005-59da97e0256c"},{"GEO_ID":168,"ISO3":"NOR","NAME":"Norway","REGION_ID":"b49746f5-9d85-46e9-95d8-b4757fe67f54"},{"GEO_ID":169,"ISO3":"NPL","NAME":"Nepal","REGION_ID":"b3a102f6-49b9-4976-83d9-6e2d60fa33ac"},{"GEO_ID":170,"ISO3":"NRU","NAME":"Nauru","REGION_ID":"b3d973cb-55e6-4229-a352-77d18a4d8f98"},{"GEO_ID":171,"ISO3":"NZL","NAME":"New Zealand","REGION_ID":"5379e7a6-063d-41bf-acc2-9f6c25e98caa"},{"GEO_ID":172,"ISO3":"OMN","NAME":"Oman","REGION_ID":"15781f4d-228a-4fcc-be8b-22c693c6c44c"},{"GEO_ID":173,"ISO3":"PAK","NAME":"Pakistan","REGION_ID":"e7161a9b-e35b-45da-b043-3e9c7256a56e"},{"GEO_ID":174,"ISO3":"PAN","NAME":"Panama","REGION_ID":"2869bb42-3828-4cd5-bea4-3bbf97181f4f"},{"GEO_ID":175,"ISO3":"PCN","NAME":"Pitcairn Islands","REGION_ID":"fe1174ce-0a54-4a58-92bd-1db5ed6ee531"},{"GEO_ID":176,"ISO3":"PER","NAME":"Peru","REGION_ID":"d782caea-8e79-40f3-b938-47e3006b0766"},{"GEO_ID":177,"ISO3":"PHL","NAME":"Philippines","REGION_ID":"4f8d1572-0139-412f-8f5f-3561a955cbf1"},{"GEO_ID":178,"ISO3":"PLW","NAME":"Palau","REGION_ID":"e121d7ad-1db2-4851-9a80-aac58612d4b1"},{"GEO_ID":179,"ISO3":"PNG","NAME":"Papua New Guinea","REGION_ID":"48a653ba-9433-4a15-80e6-c356b5d28f42"},{"GEO_ID":180,"ISO3":"POL","NAME":"Poland","REGION_ID":"99e309bf-2876-471e-9510-99cd543291f2"},{"GEO_ID":181,"ISO3":"PRI","NAME":"Puerto Rico","REGION_ID":"22b8bcc2-709b-4684-9935-8c1bc15e376b"},{"GEO_ID":182,"ISO3":"PRK","NAME":"North Korea","REGION_ID":"2ab0886c-8b01-498b-a988-76bc01e99a7e"},{"GEO_ID":183,"ISO3":"PRT","NAME":"Portugal","REGION_ID":"1df34786-540b-46e1-93d1-d7d60eeb54f1"},{"GEO_ID":184,"ISO3":"PRY","NAME":"Paraguay","REGION_ID":"30bd42c0-b3ce-409d-a3fd-87cd1599dc9c"},{"GEO_ID":185,"ISO3":"PSE","NAME":"Palestina","REGION_ID":"db3d3322-bb51-4537-8343-a019bd2915e2"},{"GEO_ID":186,"ISO3":"PYF","NAME":"French Polynesia","REGION_ID":"0d1945f2-a8e6-4cad-a569-2060ddf84405"},{"GEO_ID":187,"ISO3":"QAT","NAME":"Qatar","REGION_ID":"5913271a-8182-4254-9a71-f1f49bddfaa5"},{"GEO_ID":188,"ISO3":"REU","NAME":"Reunion","REGION_ID":"16f4ccaa-f541-4093-b805-97be3d040d13"},{"GEO_ID":189,"ISO3":"ROU","NAME":"Romania","REGION_ID":"954adfc5-3a5d-4cb9-bac8-d8a9bd480cf2"},{"GEO_ID":190,"ISO3":"RUS","NAME":"Russia","REGION_ID":"a091317c-6c52-4c48-a1e3-d5b5bb59bbd7"},{"GEO_ID":191,"ISO3":"RWA","NAME":"Rwanda","REGION_ID":"5bb91b6f-47c2-4d1e-9600-fd6717ca2cb3"},{"GEO_ID":192,"ISO3":"SAU","NAME":"Saudi Arabia","REGION_ID":"16c0b06a-ca43-471e-9b89-b4abf3db8227"},{"GEO_ID":193,"ISO3":"SDN","NAME":"Sudan","REGION_ID":"51c6bdb0-3ae5-46fc-a151-3578816c8771"},{"GEO_ID":194,"ISO3":"SEN","NAME":"Senegal","REGION_ID":"ae5557b5-5936-420b-845b-88d61b3ef489"},{"GEO_ID":195,"ISO3":"SGP","NAME":"Singapore","REGION_ID":"a5ed5449-35a1-47e2-bf5c-ec3fc63e108c"},{"GEO_ID":196,"ISO3":"SGS","NAME":"South Georgia and the South Sandwich Islands","REGION_ID":"96663a45-e3a9-40fa-80ff-81f95e78d206"},{"GEO_ID":197,"ISO3":"SHN","NAME":"Saint Helena","REGION_ID":"e576a169-053a-46e4-a0a1-487754cf8014"},{"GEO_ID":198,"ISO3":"SJM","NAME":"Svalbard and Jan Mayen","REGION_ID":"b67390a1-0120-4930-8eac-a45edcaf1507"},{"GEO_ID":199,"ISO3":"SLB","NAME":"Solomon Islands","REGION_ID":"0bb5dc7e-ad4a-44c9-b2b2-03c4a5264948"},{"GEO_ID":200,"ISO3":"SLE","NAME":"Sierra Leone","REGION_ID":"c506eda9-5d3e-43f2-b5d6-34f7f152952f"},{"GEO_ID":201,"ISO3":"SLV","NAME":"El Salvador","REGION_ID":"66778a3f-a00b-4d2e-b97c-7ee9be22e216"},{"GEO_ID":202,"ISO3":"SMR","NAME":"San Marino","REGION_ID":"dc4c5e0b-6900-42b0-9738-a4072d3bd112"},{"GEO_ID":203,"ISO3":"SOM","NAME":"Somalia","REGION_ID":"98d8ead3-0f43-41e5-891c-78b049b7d0fc"},{"GEO_ID":204,"ISO3":"SPM","NAME":"Saint Pierre and Miquelon","REGION_ID":"cb5c0600-60f2-4997-b2da-91701f0f2228"},{"GEO_ID":205,"ISO3":"SRB","NAME":"Serbia","REGION_ID":"c4196d60-c7eb-4616-8838-21dde119e388"},{"GEO_ID":206,"ISO3":"SSD","NAME":"South Sudan","REGION_ID":"3a70ba24-1544-4e46-bb43-62017ef1ae08"},{"GEO_ID":207,"ISO3":"STP","NAME":"S\xe3o Tom\xe9 and Pr\xedncipe","REGION_ID":"65adc315-dfb5-45f2-8a44-a480fa6137f7"},{"GEO_ID":208,"ISO3":"SUR","NAME":"Suriname","REGION_ID":"c647b2f4-25fc-47ee-be74-58f76a3080b1"},{"GEO_ID":209,"ISO3":"SVK","NAME":"Slovakia","REGION_ID":"44885edd-14e0-414f-99e5-40a1383079ad"},{"GEO_ID":210,"ISO3":"SVN","NAME":"Slovenia","REGION_ID":"bdb4acba-2c0c-4f26-bfd9-8c9dde9f2c81"},{"GEO_ID":211,"ISO3":"SWE","NAME":"Sweden","REGION_ID":"1968dda2-b750-445d-9bb3-7aab12906c84"},{"GEO_ID":212,"ISO3":"SWZ","NAME":"Swaziland","REGION_ID":"618e02db-743e-4b1b-81fa-85474d5e2ccd"},{"GEO_ID":213,"ISO3":"SXM","NAME":"Sint Maarten","REGION_ID":"5a574ec1-9797-4876-b0db-769a3871ad74"},{"GEO_ID":214,"ISO3":"SYC","NAME":"Seychelles","REGION_ID":"02adb491-b63a-47f3-8b3a-f8d2ee05f28a"},{"GEO_ID":215,"ISO3":"SYR","NAME":"Syria","REGION_ID":"73c61f2f-b0b4-4a05-8dbc-e1b4ade722ff"},{"GEO_ID":216,"ISO3":"TCA","NAME":"Turks and Caicos Islands","REGION_ID":"9a97a370-4bc5-4f7e-a0f3-e9f5fa2696ce"},{"GEO_ID":217,"ISO3":"TCD","NAME":"Chad","REGION_ID":"fe58733a-57fd-4b15-b0bd-99c3b4d0ec0b"},{"GEO_ID":218,"ISO3":"TGO","NAME":"Togo","REGION_ID":"d4b3d957-e92c-4bf4-bd41-6dac22c529c5"},{"GEO_ID":219,"ISO3":"THA","NAME":"Thailand","REGION_ID":"8d16c6bd-851a-45cd-8e4a-05147dbd2c08"},{"GEO_ID":220,"ISO3":"TJK","NAME":"Tajikistan","REGION_ID":"e027565b-3195-409b-b08f-d0db45438bf0"},{"GEO_ID":221,"ISO3":"TKL","NAME":"Tokelau","REGION_ID":"4c67906c-4156-4a35-8916-80495b0af7fd"},{"GEO_ID":222,"ISO3":"TKM","NAME":"Turkmenistan","REGION_ID":"3c1135ab-07bc-4d63-9a34-951c7091ccf6"},{"GEO_ID":223,"ISO3":"TLS","NAME":"Timor-Leste","REGION_ID":"442096e1-3ca8-4ab0-b2f8-8341c31ede27"},{"GEO_ID":224,"ISO3":"TON","NAME":"Tonga","REGION_ID":"654784dc-403f-4959-a05c-40c0ed0ec6f8"},{"GEO_ID":225,"ISO3":"TTO","NAME":"Trinidad and Tobago","REGION_ID":"69470e73-9179-40ac-a9b9-568fc0a7c327"},{"GEO_ID":226,"ISO3":"TUN","NAME":"Tunisia","REGION_ID":"24a497ce-fd07-4be2-b8c7-9eb5609c2fb6"},{"GEO_ID":227,"ISO3":"TUR","NAME":"Turkey","REGION_ID":"a95e0b9a-d8ba-4b8e-af33-3362f5b5e749"},{"GEO_ID":228,"ISO3":"TUV","NAME":"Tuvalu","REGION_ID":"26565c93-f604-4519-ba5b-e8addc96dcaa"},{"GEO_ID":229,"ISO3":"TWN","NAME":"Taiwan","REGION_ID":"0d81db60-be14-4380-b5b7-575f0aeeb892"},{"GEO_ID":230,"ISO3":"TZA","NAME":"Tanzania","REGION_ID":"c9725d3a-f95d-4c06-8c0a-2e451376f5ba"},{"GEO_ID":231,"ISO3":"UGA","NAME":"Uganda","REGION_ID":"4f78f663-3c54-4bf8-aea2-883efff761bb"},{"GEO_ID":232,"ISO3":"UKR","NAME":"Ukraine","REGION_ID":"ad54efce-e9c5-4e62-8535-189c1b9efc8a"},{"GEO_ID":233,"ISO3":"UMI","NAME":"United States Minor Outlying Islands","REGION_ID":"56001e8a-32f4-4ede-88f0-2123150a1903"},{"GEO_ID":234,"ISO3":"URY","NAME":"Uruguay","REGION_ID":"41a9e7e5-fa4e-4284-84fd-06452e0e08b4"},{"GEO_ID":235,"ISO3":"USA","NAME":"United States","REGION_ID":"0ac8d80c-ec74-490d-8e7d-5742400b035e"},{"GEO_ID":236,"ISO3":"UZB","NAME":"Uzbekistan","REGION_ID":"6df440da-5f21-4836-9844-d5fc34aa9b02"},{"GEO_ID":237,"ISO3":"VAT","NAME":"Vatican City","REGION_ID":"6a657615-04e7-4dcc-9cb4-1a139090cd7a"},{"GEO_ID":238,"ISO3":"VCT","NAME":"Saint Vincent and the Grenadines","REGION_ID":"9f2aff88-7b07-458d-a492-b8200e0c2097"},{"GEO_ID":239,"ISO3":"VEN","NAME":"Venezuela","REGION_ID":"3ae8db96-5654-4a7b-b21c-10df34e56812"},{"GEO_ID":240,"ISO3":"VGB","NAME":"British Virgin Islands","REGION_ID":"f94c07f3-3314-4328-9696-9aee46e482fe"},{"GEO_ID":241,"ISO3":"VIR","NAME":"Virgin Islands, U.S.","REGION_ID":"a5d68447-5daf-4966-8ade-0932f0bf17af"},{"GEO_ID":242,"ISO3":"VNM","NAME":"Vietnam","REGION_ID":"9142f2db-04de-4d79-87a2-09853627e851"},{"GEO_ID":243,"ISO3":"VUT","NAME":"Vanuatu","REGION_ID":"6cb772fa-28f8-43eb-9a2f-dcc3197b2ffa"},{"GEO_ID":244,"ISO3":"WLF","NAME":"Wallis and Futuna","REGION_ID":"6098e39f-c718-4fa1-91bb-77cf725c0e24"},{"GEO_ID":245,"ISO3":"WSM","NAME":"Samoa","REGION_ID":"2f5529ec-b481-437a-8d9f-aeb53b4f74ea"},{"GEO_ID":246,"ISO3":"XAD","NAME":"Akrotiri and Dhekelia","REGION_ID":"14030021-4de5-48bc-894c-409ec3c1e32d"},{"GEO_ID":247,"ISO3":"XCA","NAME":"Caspian Sea","REGION_ID":"be0dde06-0299-4936-bfdb-3961d200eb91"},{"GEO_ID":248,"ISO3":"XCL","NAME":"Clipperton Island","REGION_ID":"3f2070c4-045f-4017-a804-4688d8005464"},{"GEO_ID":249,"ISO3":"XKO","NAME":"Kosovo","REGION_ID":"7aadbf26-e559-4f19-9f55-8a78a7eb15cf"},{"GEO_ID":250,"ISO3":"XNC","NAME":"Northern Cyprus","REGION_ID":"b09ec9d4-c1fd-4779-b550-0aa3780430b7"},{"GEO_ID":251,"ISO3":"XPI","NAME":"Paracel Islands","REGION_ID":"66d94ead-934f-460a-8832-4b57b8f7ec1c"},{"GEO_ID":252,"ISO3":"XSP","NAME":"Spratly Islands","REGION_ID":"1ed51369-3119-4834-8f18-4eb6f0dc86fb"},{"GEO_ID":253,"ISO3":"YEM","NAME":"Yemen","REGION_ID":"9023dbfd-918b-4c07-a8e3-bd98c2bf8546"},{"GEO_ID":254,"ISO3":"ZAF","NAME":"South Africa","REGION_ID":"0c36c8f0-53f7-46d8-993c-6adb4bcee5e7"},{"GEO_ID":255,"ISO3":"ZMB","NAME":"Zambia","REGION_ID":"deddc8f1-7ff6-4c53-a4cb-de3c4bcfccc1"},{"GEO_ID":256,"ISO3":"ZWE","NAME":"Zimbabwe","REGION_ID":"2dfa435e-7455-4381-9ac5-c11739ac3053"}]');function OSt(i,e){if(1&i&&(O(0,"mat-option",14),tt(1),L()),2&i){const t=e.$implicit;Y("value",t.code),z(1),Ko("",t.name," (",t.count,")")}}function RSt(i,e){if(1&i){const t=Ai();O(0,"div",2)(1,"h3",3),tt(2," Protection "),O(3,"mat-icon",4),tt(4,"help"),L()(),O(5,"mat-form-field",5)(6,"mat-label"),tt(7,"Country"),L(),O(8,"mat-select",6),fe("selectionChange",function(r){return Te(t),Ie(Mt().updateSelection(r))}),O(9,"mat-option",7),tt(10,"All"),L(),It(11,OSt,2,3,"mat-option",8),L()(),O(12,"table")(13,"tr"),te(14,"th"),O(15,"th",9),tt(16," Any Size "),L(),O(17,"th",9),tt(18," Larger than "),te(19,"br"),tt(20),L()(),O(21,"tr")(22,"td",9),tt(23," Strict Parks "),L(),O(24,"td"),tt(25),L(),O(26,"td"),tt(27),L()(),O(28,"tr")(29,"td",9),tt(30," All parks "),L(),O(31,"td"),tt(32),L(),O(33,"td"),tt(34),L()(),O(35,"tr")(36,"td",9),tt(37," Range protected "),L(),O(38,"td"),tt(39),Yi(40,"number"),L(),O(41,"td"),tt(42),Yi(43,"number"),L()(),O(44,"tr")(45,"td",9),tt(46," Target protected "),L(),O(47,"td"),tt(48),Yi(49,"number"),L(),O(50,"td"),tt(51),Yi(52,"number"),L()(),O(53,"tr")(54,"td",9),tt(55," Protection Score* "),L(),O(56,"td"),tt(57),Yi(58,"number"),L(),O(59,"td"),tt(60),Yi(61,"number"),L()()(),O(62,"div",10)(63,"div",11),tt(64," Minimum reserve size: "),L(),O(65,"div",12)(66,"ngx-slider",13),fe("valueChange",function(r){return Te(t),Ie(Mt().minReserveSize=r)})("userChange",function(){return Te(t),Ie(Mt().changes())}),L()()()()}if(2&i){const t=Mt();z(1),Or("matTooltip",t.tooltipMessages.maxCov),z(10),Y("ngForOf",t.countryOptions),z(4),Or("matTooltip",t.tooltipMessages.anySize),z(2),Or("matTooltip",t.tooltipMessages.largerthan),z(3),mi(" ",t.minReserveSize," km\xb2 "),z(2),Or("matTooltip",t.tooltipMessages.strictParks),z(3),Mi(t.anyStats.strict),z(2),Mi(t.areaFilteredStats.strict),z(2),Or("matTooltip",t.tooltipMessages.allParks),z(3),Mi(t.anyStats.all),z(2),Mi(t.areaFilteredStats.all),z(2),Or("matTooltip",t.tooltipMessages.rangeProtected),z(3),mi("",Al(40,27,t.anyStats.all_area,"1.0-1")," km\xb2"),z(3),mi("",Al(43,30,t.areaFilteredStats.all_area,"1.0-1")," km\xb2"),z(3),Or("matTooltip",t.tooltipMessages.targetProtected),z(3),mi("",Al(49,33,t.anyStats.target_area,"1.0-1")," km\xb2"),z(3),mi("",Al(52,36,t.areaFilteredStats.target_area,"1.0-1")," km\xb2"),z(3),Or("matTooltip",t.tooltipMessages.protectionScore),z(2),Yn(t.anyStats.cls),z(1),mi(" ",Al(58,39,t.anyStats.protection_score,"1.0-2"),"% "),z(2),Yn(t.areaFilteredStats.cls),z(1),mi(" ",Al(61,42,t.areaFilteredStats.protection_score,"1.0-2"),"% "),z(3),Or("matTooltip",t.tooltipMessages.minReCov),z(3),Y("value",t.minReserveSize)("options",t.sliderOpts)}}function PSt(i,e){1&i&&(O(0,"div",15),te(1,"mol-small-spinner",16),O(2,"small"),tt(3,"Generating protection metrics."),L()())}let LSt=(()=>{class i{constructor(){this.reserveList=[],this.anyStatsEmitter=new qe,this.areaFilteredReserves=[],this.countryList=[],this.countryOptions=[],this.minReserveSize=10,this.anyStats=null,this.areaFilteredStats=null,this.ready=!1,this.anysize={},this.selectedCountry="",this.countryReserves=[],this.tooltipMessages={maxCov:"Provides the maximum number and area of reserves that overlap with the species\u2019 potential total or suitable distribution, as selected in Habitat Associations, and progress toward a conservation target.Note: Species typically occur in much fewer areas than these distributions suggest and observed coverage may be much smaller.",anySize:"Includes reserves of all sizes",largerthan:"Compute total area contributed by reserves larger than minimum size (result is not visualized on map)",strictParks:"Parks with IUCN category Ia, Ib, II, III",allParks:"All parks  designated at the national level",rangeProtected:"Total non-overlapping area covered by All parks",targetProtected:"For species <10,000km2 equals range size, for those >250,000km2 equals 15% of range size.For species with range sizes in between the target is a log-linear interpolation of these two area values.",protectionScore:" \u201cSpecies Protection Score\u201d, defined as percent of representation adequacy target achieved (Range Protected / Target Protected).",minReCov:"Select the minimum park size."},this.sliderOpts={step:2,floor:0,ceil:1e3,showSelectionBarEnd:!0,translate:(t,n)=>""}}ngOnInit(){}ngOnChanges(t){this.changes()}updateSelection(t){this.selectedCountry=t.value,this.changes()}changes(){if(this.reserveList.length>0&&this.habitatMetrics){let t={};this.reserveList.forEach(r=>{t[r.ISO3]?t[r.ISO3]+=1:t[r.ISO3]=1}),this.countryOptions=Object.keys(t).map(r=>{let s=kJ.filter(o=>o.ISO3===r);return{code:r,count:t[r],name:s[0].NAME,gid:s[0].GEO_ID}}),this.countryReserves=""!=this.selectedCountry?this.reserveList.filter(r=>r.ISO3===this.selectedCountry):this.reserveList,this.areaFilteredReserves=this.countryReserves.filter(r=>r.sum>this.minReserveSize),this.anyStats=this.getStats(this.countryReserves),this.areaFilteredStats=this.getStats(this.areaFilteredReserves),this.ready=!0;let n=this.countryOptions.map(r=>{const s=this.getStats(this.reserveList.filter(o=>o.ISO3===r.code));return s.selectedCountry=r.name,s});n.push({...this.getStats(this.reserveList),selectedCountry:"ALL"}),this.anyStatsEmitter.emit(n)}}getStats(t){let n=this.habitatMetrics.refined_range_size;if(""!=this.selectedCountry){let o=kJ.filter(l=>l.ISO3===this.selectedCountry)[0];n=this.habitatMetrics.refined_grouped_stats.filter(l=>l.ZONEID===o.GEO_ID)[0].sum}let r=this.targetProtectedArea(n),s=t.map(o=>o.sum).reduce((o,l)=>o+l,0);return{strict:t.filter(o=>["I","Ia","Ib","II","III"].indexOf(o.IUCN_CAT)>-1).length,all:t.length,all_area:s,target_area:r,protection_score:Math.min(s/r*100,100),cls:this.targetRealizedClass(Math.min(s/r*100)),selectedCountry:this.selectedCountry}}targetRealizedClass(t){return t>=120?"protection_status_green":t>=75&&t<120?"protection_status_yellow":t>=25&&t<75?"protection_status_orange":"protection_status_red"}targetProtectedArea(t){return t<=1e4?t:t>=25e4?.15*t:t*(.85/(Math.log10(1e4)-Math.log10(25e4))*(Math.log10(t)-Math.log10(1e4))+1)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-reserve-coverage-metrics"]],inputs:{reserveList:"reserveList",habitatMetrics:"habitatMetrics",reservesLoading:"reservesLoading"},outputs:{anyStatsEmitter:"anyStatsEmitter"},features:[zn],decls:3,vars:2,consts:[["class","content",4,"ngIf"],["class","loading",4,"ngIf"],[1,"content"],[1,"stitle",3,"matTooltip"],[1,"help-icon"],["appearance","legacy"],["[(model]","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"stat-title",3,"matTooltip"],[1,"mrs-slider-box"],[1,"mrs","stat-title",3,"matTooltip"],[1,"mrs-slider","custom-slider"],[3,"value","options","valueChange","userChange"],[3,"value"],[1,"loading"],["diameter","20",1,"spin"]],template:function(n,r){1&n&&(O(0,"mat-card"),It(1,RSt,67,45,"div",0),It(2,PSt,4,0,"div",1),L()),2&n&&(z(1),Y("ngIf",r.ready&&!r.reservesLoading),z(1),Y("ngIf",!r.ready||r.reservesLoading))},dependencies:[Ps,on,L3,Ku,Ma,zl,pz,Qu,fg,Ju,pc,W0],styles:[".stitle[_ngcontent-%COMP%]{margin-block-end:-5px}table[_ngcontent-%COMP%]{text-align:center;border-collapse:collapse;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #aaa}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;min-height:30px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;min-width:105px}.mrs-slider-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.mrs-slider-box[_ngcontent-%COMP%]   .mrs[_ngcontent-%COMP%]{text-align:right;padding-right:5px}.mrs-slider-box[_ngcontent-%COMP%]   .mrs-slider[_ngcontent-%COMP%]{width:100%}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.loading[_ngcontent-%COMP%]   mol-small-spinner[_ngcontent-%COMP%]{width:40px}"]})}return i})(),FSt=(()=>{class i{constructor(){this.mapOptionsChanged=new qe,this.mapOptions={points:!1,reserves:!0},this.tooltipMessages={points:"",reserves:""}}ngOnInit(){}onChange(t){switch(t.source.id){case"points":this.mapOptions.points=t.checked,this.mapOptionsChanged.emit(this.mapOptions);break;case"reserves":this.mapOptions.reserves=t.checked,this.mapOptionsChanged.emit(this.mapOptions)}}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-map-options"]],outputs:{mapOptionsChanged:"mapOptionsChanged"},decls:9,vars:2,consts:[[1,"title-section"],[1,"content"],["id","points",3,"ngModel","ngModelChange","change"],["id","reserves",3,"ngModel","ngModelChange","change"]],template:function(n,r){1&n&&(O(0,"mat-card")(1,"div",0)(2,"h3"),tt(3,"Map Options"),L()(),O(4,"div",1)(5,"mat-slide-toggle",2),fe("ngModelChange",function(o){return r.mapOptions.points=o})("change",function(o){return r.onChange(o)}),tt(6,"Show Points "),L(),O(7,"mat-slide-toggle",3),fe("ngModelChange",function(o){return r.mapOptions.reserves=o})("change",function(o){return r.onChange(o)}),tt(8,"Show Reserves "),L()()()),2&n&&(z(5),Y("ngModel",r.mapOptions.points),z(2),Y("ngModel",r.mapOptions.reserves))},dependencies:[Yu,Ku,jP,Lf],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-slide-toggle[_ngcontent-%COMP%]{line-height:30px}.title-section[_ngcontent-%COMP%]{display:flex}"]})}return i})();function NSt(i,e){1&i&&te(0,"div",13)}function BSt(i,e){if(1&i){const t=Ai();O(0,"mol-habitat-association",14),fe("preferencesChanged",function(r){return Te(t),Ie(Mt().preferencesUpdated(r))}),L()}if(2&i){const t=Mt();Y("preferences",t.preferences)("reserves",t.reserves)("habitats",t.habitats)}}function zSt(i,e){1&i&&te(0,"div",13)}function VSt(i,e){if(1&i){const t=Ai();O(0,"mol-map-options",15),fe("mapOptionsChanged",function(r){return Te(t),Ie(Mt().mapOptionsUpdated(r))}),L()}}function HSt(i,e){1&i&&te(0,"div",13)}function USt(i,e){1&i&&te(0,"div",13)}function GSt(i,e){if(1&i){const t=Ai();O(0,"mol-reserve-coverage-metrics",16),fe("anyStatsEmitter",function(r){return Te(t),Ie(Mt().updateMetrics(r))}),L()}if(2&i){const t=Mt();Y("reserveList",t.reserveList)("reservesLoading",t.reservesLoading)("habitatMetrics",t.habitatMetrics)}}function jSt(i,e){1&i&&(O(0,"div")(1,"mat-icon"),tt(2,"info"),L(),tt(3," Learn more at "),O(4,"a",17),tt(5,"Species Protection Index"),L()())}let DJ=(()=>{class i{constructor(t,n,r,s,o,l){this.state=t,this.mapService=n,this.route=r,this.speciesIndicators=s,this.dialog=o,this._snackBar=l,this.geoDisMetrics$=null,this.scientificname="",this.reserves=!1,this.speciesChangeSubscription=null,this.clickSub=null,this.preferences=null,this.defaultPreferences=null,this.reserveList=[],this.mapOptions={points:!1,reserves:!0},this.tooltipMessages={habitatAssociations:"Select suitable habitat conditions for this species. Default is current expert opinion"},this.protectionMetrics=null,this.habitatMetricsLoading=!0,this.reservesLoading=!0}ngOnInit(){this.speciesChangeSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.route.data.subscribe(n=>{this.reserves=n.reserves,this.speciesChanged()})}),this.habitats=this.speciesIndicators.esaClassDict(),this.clickSub=this.mapService.clickEvent.subscribe(t=>{this.reserves&&this.speciesIndicators.mapQuery(t[0],t[1]).pipe(Ga((n,r)=>je({WDPAID:null}))).subscribe(n=>{n.WDPAID?this.reserveList&&this.openReserveModal(n):this.openSnackBar("No protected area found.")})})}openReserveModal(t){t&&this.dialog.open(yK,{data:{heading:t.NAME,info:[{children:[{label:"WDPA website",value:"https://www.protectedplanet.net/"+t.WDPAID,type:"url"}].concat(Object.keys(t).map(n=>({label:("sum"===n?"Area":n).replace(/_/gi," "),value:t[n],type:t[n].toString().match(/^http/)?"url":void 0})))}]}})}speciesChanged(){wJ(this.speciesIndicators.speciesPreferences(this.scientificname),this.state.speciesPreferences).subscribe(r=>{this.preferences=null==r[1]?{...r[0].prefs}:{...r[1]},this.mapService.zoomToDatasetExtent({...r[0].bounds,buffer:20}),this.updateTileUrl(),this.getHabitatMetrics(),this.reserves&&this.getReserveMetrics()})}ngOnDestroy(){this.speciesChangeSubscription.unsubscribe(),this.clickSub.unsubscribe(),this.mapService.updateTileUrl("OFF")}preferencesUpdated(t){this.preferences=t,this.state.updateSpeciesPreferences(t),this.updateTileUrl(),this.getHabitatMetrics(),this.reserves&&this.getReserveMetrics()}mapOptionsUpdated(t){this.mapOptions=t,this.updateTileUrl()}addMapOptions(t){let n={...t};return n.show_points=this.mapOptions.points,n.show_reserves=this.mapOptions.reserves,n}updateTileUrl(){let t;if(this.preferences){if(this.reserves){let n=this.addMapOptions(this.preferences);t=this.speciesIndicators.reserveCoverageMap(this.scientificname,n)}else t=this.speciesIndicators.habitatDistributionMap(this.scientificname,this.preferences);t.subscribe(n=>{this.mapService.updateTileUrl(n.tileurl)})}}getHabitatMetrics(){this.gisFrag="Loading",this.habitatMetricsLoading=!0,this.speciesIndicators.habitatDistributionMetrics(this.scientificname,this.preferences).subscribe(t=>{this.habitatMetricsLoading=!1,this.habitatMetrics=t},t=>{this.openSnackBar(t)}),this.speciesIndicators.gisFragMetric(this.scientificname,this.preferences).subscribe(t=>{this.gisFrag=t.gisFrag.toPrecision(4)},t=>{this.openSnackBar(t),this.gisFrag="Error"})}getReserveMetrics(){this.reservesLoading=!0,this.speciesIndicators.reserveCoverageMetrics(this.scientificname,this.preferences).subscribe(t=>{this.reserveList=t,this.reservesLoading=!1},t=>{this.reservesLoading=!1,this.openSnackBar(t)})}openSnackBar(t){this._snackBar.openFromComponent(WSt,{duration:5e3,data:{text:t}})}updateMetrics(t){this.protectionMetrics=t}openDownload(){if(this.reserves){let t=["WDPAID","NAME","ISO3","IUCN_CAT"];const n={strict:"strict_parks",all:"all_parks",all_area:"country_range_area",target_area:"target_area",protection_score:"protection_score",selectedCountry:"country"};this.dialog.open(P3,{data:{scientificname:this.scientificname,zipPrefix:"MOL_species_reserves",metadataTitle:`MOL Species Reserves Metrics\n\nGenerated and downloaded from https://mol.org/ on: ${(new Date).toLocaleDateString()}`,metadataInfo:`Files available:\n- metrics_${this.scientificname}.csv\n- metadata.txt`,metadataExtra:"",files:[{data:this.protectionMetrics.map(r=>Object.keys(n).map(s=>r[s])),columns:Object.values(n),formatters:Object.keys(n).map(r=>{}),name:"metrics",addSciname:!1},{data:this.reserveList.map(r=>t.map(s=>r[s])),columns:t,formatters:t.map(r=>{}),name:"reserves",addSciname:!1}]}})}else this.dialog.open(P3,{data:{scientificname:this.scientificname,zipPrefix:"MOL_habitat_distribution",metadataTitle:`MOL Species Reserves Map\n\nGenerated and downloaded from https://mol.org/ on: ${(new Date).toLocaleDateString()}`,metadataInfo:`Files available:\n- ${this.scientificname}_habitat_distribution.zip\n- metadata.txt`,metadataExtra:"",fetch:{preferences:this.preferences}}})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Kd),U($f),U(zd),U(A2),U(id),U(bb))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-habitat-distribution"]],decls:21,vars:17,consts:[[3,"scientificname","wiki"],["class","divider",4,"ngIf"],[3,"panelOpenState"],["title","",3,"matTooltip"],[1,"help-icon"],["content","",3,"preferences","reserves","habitats","preferencesChanged",4,"ngIf"],[3,"mapOptionsChanged",4,"ngIf"],[3,"habitatMetrics","habitatMetricsLoading","gisFrag"],[3,"reserveList","reservesLoading","habitatMetrics","anyStatsEmitter",4,"ngIf"],[1,"learn-more-container"],[4,"ngIf"],[1,"download-container"],["mat-flat-button","","color","accent",1,"mol-button",3,"disabled","click"],[1,"divider"],["content","",3,"preferences","reserves","habitats","preferencesChanged"],[3,"mapOptionsChanged"],[3,"reserveList","reservesLoading","habitatMetrics","anyStatsEmitter"],["href","https://mol.org/indicators/protection/background"]],template:function(n,r){1&n&&(te(0,"mol-species-info",0),It(1,NSt,1,0,"div",1),O(2,"mol-species-expansion-card",2)(3,"h3",3),tt(4," Habitat Associations "),O(5,"mat-icon",4),tt(6,"help"),L()(),It(7,BSt,1,3,"mol-habitat-association",5),L(),It(8,zSt,1,0,"div",1),It(9,VSt,1,0,"mol-map-options",6),It(10,HSt,1,0,"div",1),te(11,"mol-geographic-distribution",7),It(12,USt,1,0,"div",1),It(13,GSt,1,3,"mol-reserve-coverage-metrics",8),O(14,"div",9),It(15,jSt,6,0,"div",10),L(),O(16,"div",11)(17,"button",12),fe("click",function(){return r.openDownload()}),O(18,"mat-icon"),tt(19,"download"),L(),tt(20),L()()),2&n&&(Y("scientificname",r.scientificname)("wiki",!1),z(1),Y("ngIf",null!=r.preferences),z(1),Y("panelOpenState",!r.reserves),z(1),Or("matTooltip",r.tooltipMessages.habitatAssociations),z(4),Y("ngIf",null!=r.preferences),z(1),Y("ngIf",r.reserves),z(1),Y("ngIf",r.reserves),z(1),Y("ngIf",r.habitatMetrics),z(1),Y("habitatMetrics",r.habitatMetrics)("habitatMetricsLoading",r.habitatMetricsLoading)("gisFrag",r.gisFrag),z(1),Y("ngIf",r.reserves),z(1),Y("ngIf",r.reserves),z(2),Y("ngIf",r.reserves),z(2),Y("disabled",r.reserves?0==r.reserveList.length||!r.habitatMetrics:r.habitatMetricsLoading),z(3),mi(" ",r.reserves?"DOWNLOAD RESERVE LIST":"DOWNLOAD MAP"," \xa0 "))},dependencies:[on,Mw,aSt,dl,Ma,zl,wSt,ASt,LSt,FSt],styles:["h3[_ngcontent-%COMP%]{margin:0}.learn-more-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:8px}.learn-more-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:bottom}.download-container[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:row-reverse}"]})}return i})(),WSt=(()=>{class i{constructor(t){this.data=t}static#t=this.\u0275fac=function(n){return new(n||i)(U(E7))};static#e=this.\u0275cmp=He({type:i,selectors:[["snack-bar-component"]],decls:2,vars:1,consts:[[1,"snack-bar"]],template:function(n,r){1&n&&(O(0,"span",0),tt(1),L()),2&n&&(z(1),mi(" ",r.data.text," "))},styles:[".snack-bar[_ngcontent-%COMP%]{color:#ff69b4}"]})}return i})();const $St=JSON.parse('{"10":"Cropland, rainfed","11":"Herbaceous cover","12":"Tree or shrub cover","20":"Cropland, irrigated or post-flooding","30":"Mosaic cropland (>50%) / natural vegetation (tree, shrub, herbaceous cover) (<50%)","40":"Mosaic natural vegetation (tree, shrub, herbaceous cover) (>50%) / cropland (<50%)","50":"Tree cover, broadleaved, evergreen, closed to open (>15%)","60":"Tree cover, broadleaved, deciduous, closed to open (>15%)","61":"Tree cover, broadleaved, deciduous, closed (>40%)","62":"Tree cover, broadleaved, deciduous, open (15-40%)","70":"Tree cover, needleleaved, evergreen, closed to open (>15%)","71":"Tree cover, needleleaved, evergreen, closed (>40%)","72":"Tree cover, needleleaved, evergreen, open (15-40%)","80":"Tree cover, needleleaved, deciduous, closed to open (>15%)","81":"Tree cover, needleleaved, deciduous, closed (>40%)","82":"Tree cover, needleleaved, deciduous, open (15-40%)","90":"Tree cover, mixed leaf type (broadleaved and needleleaved)","100":"Mosaic tree and shrub (>50%) / herbaceous cover (<50%)","110":"Mosaic herbaceous cover (>50%) / tree and shrub (<50%)","120":"Shrubland","121":"Shrubland evergreen","122":"Shrubland deciduous","130":"Grassland","140":"Lichens and mosses","150":"Sparse vegetation (tree, shrub, herbaceous cover) (<15%)","152":"Sparse shrub (<15%)","153":"Sparse herbaceous cover (<15%)","160":"Tree cover, flooded, fresh or brakish water","170":"Tree cover, flooded, saline water","180":"Shrub or herbaceous cover, flooded, fresh/saline/brakish water","190":"Urban areas","200":"Bare areas","201":"Consolidated bare areas","202":"Unconsolidated bare areas","210":"Water bodies","220":"Permanent snow and ice"}');function YSt(i,e){1&i&&(O(0,"div",3)(1,"h3"),tt(2," Error generating habitat trends for this species, please try again or contact us. "),L()())}function ZSt(i,e){if(1&i){const t=Ai();O(0,"google-chart",24),fe("ready",function(){return Te(t),Ie(Mt(3).showButton=!0)}),L()}if(2&i){const t=Mt(3);Y("data",t.chartData.data)("type","LineChart")("title",t.chartData.title)("columns",t.chartData.columns)("width",t.chartData.width)("height",t.chartData.height)("options",t.chartData.options)}}function qSt(i,e){if(1&i){const t=Ai();O(0,"button",27),fe("click",function(){return Te(t),Ie(Mt(4).openChartModal())}),tt(1," View larger chart "),L()}}function XSt(i,e){if(1&i&&(O(0,"div",25),It(1,qSt,2,0,"button",26),L()),2&i){const t=Mt(3);z(1),Y("ngIf",t.showButton)}}function KSt(i,e){1&i&&(O(0,"div",28)(1,"p"),tt(2,"Suitable habitat information not available."),L()())}function QSt(i,e){if(1&i&&(O(0,"div",21),It(1,ZSt,1,7,"google-chart",22),It(2,XSt,2,1,"div",23),It(3,KSt,3,0,"div",18),L()),2&i){const t=Mt(2);z(1),Y("ngIf",t.chartData.data.length>0),z(1),Y("ngIf",t.chartData.data.length>0),z(1),Y("ngIf",0==t.chartData.data.length)}}function JSt(i,e){if(1&i&&(O(0,"mat-option",35),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),Mi(t)}}function t2t(i,e){if(1&i&&(O(0,"strong",36),tt(1," \xa0 Stewardship "),O(2,"mat-icon",37),tt(3,"help"),L(),O(4,"em"),tt(5),Yi(6,"number"),L()()),2&i){const t=Mt(3);Or("matTooltip",t.stewardshipTitle),z(5),mi("",Al(6,2,t.shs_Year2001/t.shs_Year2001_global*100,"1.0-0"),"%")}}function e2t(i,e){if(1&i){const t=Ai();O(0,"google-chart",39),fe("ready",function(){return Te(t),Ie(Mt(4).showButton2=!0)}),L()}if(2&i){const t=Mt(4);Y("data",t.shsData.data)("type","LineChart")("columns",t.shsData.columns)("width",t.shsData.width)("height",t.shsData.height)("options",t.shsData.options)}}function i2t(i,e){if(1&i){const t=Ai();O(0,"button",42),fe("click",function(){return Te(t),Ie(Mt(5).openSHSModal())}),tt(1," View larger chart "),L()}}function n2t(i,e){if(1&i&&(O(0,"div",25),It(1,i2t,2,0,"button",40),O(2,"button",41),tt(3,"Help"),L()()),2&i){const t=Mt(4);z(1),Y("ngIf",t.showButton2),z(1),Or("matTooltip",t.shsHelpText)}}function r2t(i,e){1&i&&(O(0,"div",28)(1,"p"),tt(2,"Habitat Score information not available."),L()())}function s2t(i,e){if(1&i&&(O(0,"div",21)(1,"h4",36),tt(2,"Species Habitat Score \u2013 Area "),O(3,"mat-icon",37),tt(4,"help"),L()(),O(5,"strong"),tt(6),Yi(7,"number"),O(8,"sup"),tt(9,"2"),L()(),It(10,e2t,1,6,"google-chart",38),It(11,n2t,4,2,"div",23),It(12,r2t,3,0,"div",18),L()),2&i){const t=Mt(3);z(1),Or("matTooltip",t.shsTitle),z(5),mi("Reference (2001): ca. ",Al(7,5,t.shs_Year2001,"1.0-0")," km"),z(4),Y("ngIf",t.shsData.data.length>0),z(1),Y("ngIf",t.shsData.data.length>0),z(1),Y("ngIf",0==t.shsData.data.length)}}function o2t(i,e){if(1&i){const t=Ai();O(0,"google-chart",39),fe("ready",function(){return Te(t),Ie(Mt(4).showButton2=!0)}),L()}if(2&i){const t=Mt(4);Y("data",t.fragData.data)("type","LineChart")("columns",t.fragData.columns)("width",t.fragData.width)("height",t.fragData.height)("options",t.fragData.options)}}function a2t(i,e){if(1&i){const t=Ai();O(0,"button",42),fe("click",function(){return Te(t),Ie(Mt(5).openFragModal())}),tt(1," View larger chart "),L()}}function l2t(i,e){if(1&i&&(O(0,"div",25),It(1,a2t,2,0,"button",40),O(2,"button",41),tt(3,"Help"),L()()),2&i){const t=Mt(4);z(1),Y("ngIf",t.showButton2),z(1),Or("matTooltip",t.avgEdgeDisHelpText)}}function c2t(i,e){1&i&&(O(0,"div",28)(1,"p"),tt(2,"Habitat fragmentation information not available."),L()())}function d2t(i,e){if(1&i&&(O(0,"div",21)(1,"h4",36),tt(2,"Species Habitat Score - Connectivity "),O(3,"mat-icon",37),tt(4,"help"),L()(),O(5,"strong"),tt(6),Yi(7,"number"),L(),It(8,o2t,1,6,"google-chart",38),It(9,l2t,4,2,"div",23),It(10,c2t,3,0,"div",18),L()),2&i){const t=Mt(3);z(1),Or("matTooltip",t.avgEdgeDisTitle),z(5),mi("Reference (2001): ",Al(7,5,t.frag_Year2001,"1.0-2")," km"),z(2),Y("ngIf",t.fragData.data.length>0),z(1),Y("ngIf",t.fragData.data.length>0),z(1),Y("ngIf",0==t.fragData.data.length)}}function u2t(i,e){if(1&i){const t=Ai();O(0,"div"),te(1,"hr"),O(2,"h3"),tt(3,"Species Habitat Index"),L(),O(4,"mat-form-field",29)(5,"mat-label"),tt(6,"Country"),L(),O(7,"mat-select",30),fe("selectionChange",function(r){return Te(t),Ie(Mt(2).updateCountrySelection(r))}),It(8,JSt,2,2,"mat-option",31),L()(),It(9,t2t,7,5,"strong",32),It(10,s2t,13,8,"div",16),te(11,"hr"),It(12,d2t,11,8,"div",16),te(13,"hr"),O(14,"div",33)(15,"h3"),tt(16,"Downloads"),L(),O(17,"div",25)(18,"button",34),fe("click",function(){return Te(t),Ie(Mt(2).openDownloadMap())}),O(19,"mat-icon"),tt(20,"download"),L(),tt(21," MAP "),L(),O(22,"button",34),fe("click",function(){return Te(t),Ie(Mt(2).openDownloadMetrics())}),O(23,"mat-icon"),tt(24,"download"),L(),tt(25," METRICS "),L()()()()}if(2&i){const t=Mt(2);z(7),Y("ngModel",t.selectedCountry),z(1),Y("ngForOf",t.shiCountries),z(1),Y("ngIf",t.shs_Year2001_global),z(1),Y("ngIf",t.shsData),z(2),Y("ngIf",t.fragData),z(6),Y("disabled",null===t.chartData||null===t.shsData||null===t.fragData),z(4),Y("disabled",null===t.chartData||null===t.shsData||null===t.fragData)}}function h2t(i,e){1&i&&(O(0,"div",28),tt(1," Suitable habitat metrics not available. "),L())}function f2t(i,e){if(1&i&&(O(0,"div",4)(1,"div"),te(2,"div",5),tt(3," Map overlay: "),L(),O(4,"div",6),tt(5,"1km ESA land cover, tree cover and elevation"),L(),O(6,"div",7)(7,"mat-label"),tt(8,"Legend:"),L(),O(9,"div",8)(10,"div",9),tt(11,"% initial habitat suitability"),L(),te(12,"div",10)(13,"div",11),L(),O(14,"div",12)(15,"div",13),tt(16,"\xa0"),L(),O(17,"div",14),tt(18,"Loss"),L(),O(19,"div",15),tt(20,"No-change"),L(),O(21,"div"),tt(22,"Gain"),L()()(),It(23,QSt,4,3,"div",16),It(24,u2t,26,7,"div",17),It(25,h2t,2,0,"div",18),O(26,"div",19)(27,"div")(28,"mat-icon"),tt(29,"info"),L(),tt(30," Learn more at "),O(31,"a",20),tt(32,"Species Habitat Index"),L()()()()),2&i){const t=Mt();z(23),Y("ngIf",t.chartData),z(1),Y("ngIf",t.shiCountries.length>0),z(1),Y("ngIf",0==t.shiCountries.length)}}let m2t=(()=>{class i{constructor(t,n,r,s,o,l){this.state=t,this.species=n,this.mapService=r,this.dialog=s,this.speciesIndicators=o,this.config=l,this.speciesNameSubscription=null,this.scientificname=null,this.results=null,this.showButton=!1,this.showButton2=!1,this.mapOverlay=null,this.mapOverlayOptions=null,this.tableData=null,this.elevation=[0,8500],this.treeCover=[0,100],this.showTable=!1,this.chartData=null,this.error=!1,this.dataByCountry={},this.shiCountries=null,this.selectedCountry="Global",this.fragData=null,this.avgEdgeDisTitle="Connectivity Score: Habitat connectivity compared to reference period",this.avgEdgeDisHelpText="The Connectivity Score measures habitat connectivity for this species and focal region compared to the reference period. Connectivity is given as the average distance of suitable habitat cells to the nearest border with unsuitable habitat cells (GISFrag metric).The larger the distance, the greater the connectivity and the smaller the fragmentation.\n This calculation was done with the maximum possible distance to edge as 50km.",this.shsTitle="Area Score: Habitat-Suitable Range area compared to reference period",this.shsHelpText='The Area Score measures amount of habitat-suitable range this species has in the focal region compared to the reference period. For details on Habitat-Suitable Range, click on the "Habitat Distribution" tab.',this.shsData=null,this.stewardshipTitle="Stewardship: portion of the global habitat-suitable range (in the reference period) in this region",this.shs_Year2001_global=null,this.shs_Year2001=null,this.frag_Year2001=null}ngOnInit(){this.speciesNameSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.updateResults(),this.speciesIndicators.habitatTrendsMetricsByCountry(this.scientificname).subscribe(n=>{this.extractHabitatCountries(n),this.extractFragmentationData(),this.extractHabitatScoreData()})})}ngOnDestroy(){this.speciesNameSubscription.unsubscribe(),this.mapService.updateTileUrl("OFF")}roundUpNumber(t){return t>1e4?1e3*Math.round(t/1e3):t>1e3?100*Math.round(t/100):t}updateResults(){this.tableData=null,this.species.habitatTrend(this.scientificname).subscribe(t=>{this.results=t,this.mapOverlayOptions=t.trends.filter(n=>["expert_esa_plus_treecover"].indexOf(n.id)>-1),this.mapOverlay=this.mapOverlayOptions[0],this.updateMap(this.mapOverlay),this.makeLCS(),this.extractChartData()},t=>{console.log("error getting chart"),this.error=!0})}makeLCS(){let t=this.results.metadata.properties;void 0!==t.elev_min&&(this.elevation[0]=t.elev_min),void 0!==t.elev_max&&(this.elevation[1]=t.elev_max),void 0!==t.treecover_min&&(this.treeCover[0]=t.treecover_min),void 0!==t.treecover_max&&(this.treeCover[1]=t.treecover_max),this.tableData=t.esa_landcover.split(",").map(n=>{let r=n.split(":");return{label:$St[r[0]],pc:100*parseFloat(r[1])}})}extractChartData(){this.results.data&&(this.chartData={data:this.results.data.map((n,r)=>0===r?null:[new Date(Date.UTC(n[0],1,1,12,0,0)),n[1],n[2],n[3]]).filter(n=>n),columns:[{type:"date",id:"Year"},{type:"number",id:"estcntryrs"},{type:"number",id:"estcntryrs_l95",role:"interval"},{type:"number",id:"estcntryrs_u95",role:"interval"}],title:"Habitat suitable range km\xb2",options:{curveType:"function",series:[{lineWidth:0,enableInteractivity:!1}],intervals:{style:"area"},legend:"none",vAxis:{title:"Habitat suitable range km\xb2"},hAxis:{title:"Year",format:"Y"}},width:400,height:300})}extractHabitatCountries(t){t.shs&&(this.dataByCountry=t.shs.reduce((n,r)=>{let s=r.country;return n[s]||(n[s]={shs:[],frag:[]}),n[s].shs.push(r),n},{})),t.frag&&(this.dataByCountry=t.frag.reduce((n,r)=>{let s=r.country;return n[s]||(n[s]={shs:[],frag:[]}),n[s].frag.push(r),n},this.dataByCountry)),this.shiCountries=Object.keys(this.dataByCountry),this.shiCountries.sort((n,r)=>{var s=n.toUpperCase(),o=r.toUpperCase();return"GLOBAL"===s||"GLOBAL"===o?-2:s<o?-1:s>o?1:0})}extractFragmentationData(){let t=this.selectedCountry;0==this.dataByCountry[this.selectedCountry].frag.length&&(t="Global"),this.frag_Year2001=this.dataByCountry[t].frag[0].gisfrag,this.fragData={data:this.dataByCountry[t].frag.map(r=>[new Date(Date.UTC(r.year,0,1,12,0,0)),r.gisfrag/this.frag_Year2001*100]).filter(r=>r),columns:[{type:"date",id:"Year"},{type:"number",id:"Fragmentation"}],title:"Species Habitat Score  - Connectivity",options:{series:[{lineWidth:1,enableInteractivity:!0}],intervals:{style:"line"},legend:"none",vAxis:{title:"Connectivity Score"},hAxis:{title:"Year",format:"Y"}},width:400,height:300}}extractHabitatScoreData(){0!=this.dataByCountry.Global.shs.length&&(this.shs_Year2001_global=this.dataByCountry.Global.shs[0].val,this.shs_Year2001=this.roundUpNumber(this.dataByCountry[this.selectedCountry].shs[0].val),this.shsData={data:this.dataByCountry[this.selectedCountry].shs.map(n=>[new Date(Date.UTC(n.year,0,1,12,0,0)),100*n.propchange]).filter(n=>n),columns:[{type:"date",id:"Year"},{type:"number",id:"Proportion Original Size"}],title:"Species Habitat Score \u2013 Area",options:{series:[{lineWidth:1,enableInteractivity:!0}],intervals:{style:"line"},legend:"none",vAxis:{title:"Area Score"},hAxis:{title:"Year",format:"Y"}},width:400,height:300})}openChartModal(){this.dialog.open(T7,{data:{...this.chartData,height:500,width:700,options:{...this.chartData.options,chartArea:{width:"90%",height:"80%",right:0}}},width:"800px"})}openFragModal(){this.dialog.open(T7,{data:{...this.fragData,height:500,width:700,options:{...this.fragData.options,chartArea:{width:"90%",height:"80%",right:0}}},width:"800px"})}openSHSModal(){this.dialog.open(T7,{data:{...this.shsData,height:500,width:700,options:{...this.shsData.options,chartArea:{width:"90%",height:"80%",right:0}}},width:"800px"})}openDownloadMap(){this.dialog.open(P3,{data:{scientificname:this.scientificname,zipPrefix:"MOL_habitat_trends_map",metadataTitle:`MOL Species Habitat Trends Map\n\nGenerated and downloaded from https://mol.org/ on: ${(new Date).toLocaleDateString()}`,metadataInfo:`Files available:\n- ${this.scientificname}_habitat_trends.zip\n- metadata.txt`,metadataExtra:""}})}openDownloadMetrics(){let t=this.dataByCountry[this.selectedCountry],n=t.shs.map(s=>({...s,...t.frag.find(o=>o.year==s.year)}));n.forEach(s=>{s.gisfrag||(s.gisfrag=null),s.propchange||(s.propchange=null),s.shs_connectivity=s.gisfrag/this.frag_Year2001*100,s.shs_area=100*s.propchange,delete s.gisfrag,delete s.propchange,delete s.val});let r=n.map(s=>Object.values(s));this.dialog.open(P3,{data:{scientificname:this.scientificname,zipPrefix:"SHI-SHS_trends_MOL",metadataTitle:`SHI - Species Habitats Scores\n\nGenerated and downloaded from https://mol.org/ on: ${(new Date).toLocaleDateString()}\nFor details see https://mol.org/species/habitat-trend/${this.scientificname.replace(" ","_")}`,metadataInfo:`Files available:\n- habitat_trends_${this.scientificname.replace(" ","_")}.csv\n- metadata.txt`,metadataExtra:"",files:[{data:r,columns:["country","iso3","year","SHS_Connectivity","SHS_Area"],formatters:[void 0,void 0,void 0,void 0,void 0],name:"habitat_trends",addSciname:!0}]}})}updateCountrySelection(t){this.selectedCountry=t.value,this.extractHabitatScoreData(),this.extractFragmentationData()}updateMap(t){this.mapService.updateModelTileUrl(this.mapOverlay.tile_url)}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Kd),U(ul),U($f),U(id),U(A2),U(vg))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-habitat-trends"]],decls:3,vars:4,consts:[[3,"scientificname","wiki","speciesInfoUpdated"],["class","error",4,"ngIf"],["class","controls",4,"ngIf"],[1,"error"],[1,"controls"],[1,"label"],[1,"overlay-title"],[1,"legend-block"],[1,"legend-row","trends"],[1,"make-vertical"],[1,"legend-colours"],[1,"after"],[1,"legend-labels"],[2,"width","90px"],[2,"width","95px"],[2,"width","125px"],["class","chart",4,"ngIf"],[4,"ngIf"],["class","no-data-message",4,"ngIf"],[1,"learn-more-container"],["href","https://mol.org/indicators/habitat/background"],[1,"chart"],["class","gchart",3,"data","type","title","columns","width","height","options","ready",4,"ngIf"],["class","btn-group",4,"ngIf"],[1,"gchart",3,"data","type","title","columns","width","height","options","ready"],[1,"btn-group"],["mat-stroked-button","","class","chart-btn",3,"click",4,"ngIf"],["mat-stroked-button","",1,"chart-btn",3,"click"],[1,"no-data-message"],["appearance","legacy"],[3,"ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["title","",3,"matTooltip",4,"ngIf"],[1,"download-container"],["mat-flat-button","","color","accent",1,"download-button",3,"disabled","click"],[3,"value"],["title","",3,"matTooltip"],[1,"help-iconz"],["class","gchart",3,"data","type","columns","width","height","options","ready",4,"ngIf"],[1,"gchart",3,"data","type","columns","width","height","options","ready"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"matTooltip"],["mat-stroked-button","",3,"click"]],template:function(n,r){1&n&&(O(0,"mol-species-info",0),fe("speciesInfoUpdated",function(o){return r.speciesInfoUpdated(o)}),L(),It(1,YSt,3,0,"div",1),It(2,f2t,33,3,"div",2)),2&n&&(Y("scientificname",r.scientificname)("wiki",!1),z(1),Y("ngIf",r.error),z(1),Y("ngIf",r.results))},dependencies:[Ps,on,Yu,Mw,kS,dl,Ma,zl,Qu,fg,Ju,pc,Lf,W0],styles:[".controls[_ngcontent-%COMP%]{padding:15px}.controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;color:#666}.controls[_ngcontent-%COMP%]   .overlay-title[_ngcontent-%COMP%]{font-size:18px;font-weight:100;padding:3px}.toggle-btn[_ngcontent-%COMP%]{margin:10px 0}.lc-table[_ngcontent-%COMP%]{line-height:21px;border-spacing:0;border:1px solid #ddd}.lc-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;font-size:13px}.lc-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;padding:8px}.lc-table[_ngcontent-%COMP%]   .c-label[_ngcontent-%COMP%]{width:290px}.lc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border:1px solid #ddd}.legend-block[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:30px}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:75px}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]   .make-vertical[_ngcontent-%COMP%]{width:25%;transform:rotate(-90deg);padding:10px 0 0;margin:28px 0 0;text-align:center;height:50%!important;line-height:15px;font-size:9pt}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]   .legend-colours[_ngcontent-%COMP%]{background:linear-gradient(to bottom,rgb(255,255,255),rgba(255,255,255,0)) no-repeat border-box,linear-gradient(to right,rgb(255,0,0),rgb(0,0,255),rgb(255,255,0)) no-repeat border-box;min-width:66.66666667%}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]   .after[_ngcontent-%COMP%]{width:8.33333333%}.legend-block[_ngcontent-%COMP%]   .legend-labels[_ngcontent-%COMP%]{display:flex;flex-direction:row}.prefs[_ngcontent-%COMP%]{padding-top:15px;line-height:21px}.btn-group[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.error[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.help-icon[_ngcontent-%COMP%]{font-size:medium;float:right;position:relative;bottom:19.4em;right:6.7em}.help-iconz[_ngcontent-%COMP%]{font-size:medium;vertical-align:sub}.download-container[_ngcontent-%COMP%]{padding:20px 10px}.no-data-message[_ngcontent-%COMP%]{color:#f44336;font-style:italic;margin:15px 10px}hr[_ngcontent-%COMP%]{color:#eee}.learn-more-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:8px}.learn-more-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:bottom}"]})}return i})();const p2t=function(i){return{scroll:!0,show:i}};let $9=(()=>{class i{constructor(){this.show=!1,this.show=window.scrollY>0}scroll(){window.scrollTo({top:0,behavior:"smooth"})}scrollEvent(t){this.show=window.scrollY>0}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-scroll-to-top"]],hostBindings:function(n,r){1&n&&fe("scroll",function(o){return r.scrollEvent(o)},0,JC)},decls:4,vars:4,consts:[["mat-mini-fab","","color","accent"],[3,"click"]],template:function(n,r){1&n&&(O(0,"div")(1,"button",0)(2,"mat-icon",1),fe("click",function(){return r.scroll()}),tt(3,"keyboard_arrow_up"),L()()()),2&n&&Yn($r(2,p2t,r.show))},dependencies:[Ma,vut],styles:[".mat-icon[_ngcontent-%COMP%]{color:#fff}.scroll[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility 0s linear 0s,opacity .3s;inset:auto 10px 10px auto;position:fixed;z-index:1000}.show[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:visibility 0s linear 0s,opacity .3s}"]})}return i})();function g2t(i,e){1&i&&(O(0,"mat-label",5),tt(1),Yi(2,"translate"),L()),2&i&&(z(1),Mi(bn(2,1,"all_groups")))}function _2t(i,e){1&i&&(O(0,"mat-option",6),tt(1),Yi(2,"translate"),L()),2&i&&(z(1),mi(" ",bn(2,1,"all_groups"),""))}function b2t(i,e){if(1&i&&(O(0,"mat-option",10),tt(1),L()),2&i){const t=e.$implicit;Y("value",t.taxa),z(1),mi(" ",t.title," ")}}function v2t(i,e){if(1&i&&(O(0,"mat-optgroup",8),It(1,b2t,2,2,"mat-option",9),L()),2&i){const t=e.$implicit;Y("label",t.name),z(1),Y("ngForOf",t.taxa)}}function y2t(i,e){if(1&i&&(Zo(0),It(1,v2t,2,2,"mat-optgroup",7),za()),2&i){const t=Mt();z(1),Y("ngForOf",t.taxaGroups)}}function x2t(i,e){if(1&i&&(O(0,"mat-option",10),tt(1),L()),2&i){const t=e.$implicit;Y("value",t.taxa),z(1),mi(" ",t.title," ")}}function w2t(i,e){if(1&i&&(O(0,"mat-optgroup",8),It(1,x2t,2,2,"mat-option",9),L()),2&i){const t=e.$implicit;Y("label",t.name),z(1),Y("ngForOf",t.taxa)}}function C2t(i,e){if(1&i&&(Zo(0),It(1,w2t,2,2,"mat-optgroup",7),za()),2&i){const t=Mt();z(1),Y("ngForOf",t.overwriteTaxa)}}const E2t=function(i){return{"in-nav2":i}},M2t={description:"",title:"All",taxa:"",tc_id:null,sortby:100,groupby_sortby:0,groupby:"all",icon:""};let S2t=(()=>{class i{constructor(t){this.speciesService=t,this.showLabel=!0,this.taxaControl=new mW,this.chosen=new qe,this.nav=!1,this.selected="",this.mode="",this.version="",this.allOption=!0,this.overwriteTaxa=null}ngOnInit(){this.fetchTaxa(),this.taxaControl.valueChanges.subscribe(t=>{this.showLabel=!1,this.chosen.emit(""===t?M2t:this.taxa.find(n=>n.taxa===t))})}ngOnChanges(t){t.version&&""!=this.version&&this.fetchTaxa()}fetchTaxa(){this.speciesService.availableTaxa(this.mode,this.version).subscribe(t=>{this.taxa=t;const n={};t.forEach(r=>{n[r.groupby]?n[r.groupby].taxa.push(r):n[r.groupby]={name:r.groupby,groupby_sortby:r.groupby_sortby,taxa:[r]}}),this.taxaGroups=Object.keys(n).map(r=>n[r]).sort((r,s)=>r.groupby_sortby-s.groupby_sortby),this.selected&&this.taxaControl.setValue(this.selected)})}static#t=this.\u0275fac=function(n){return new(n||i)(U(ul))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-availabletaxa-dropdown"]],inputs:{nav:"nav",selected:"selected",mode:"mode",version:"version",allOption:"allOption",overwriteTaxa:"overwriteTaxa"},outputs:{chosen:"chosen"},features:[zn],decls:6,vars:9,consts:[["floatLabel","never",1,"taxa-drop"],["class","drop-label",4,"ngIf"],[3,"formControl"],["translate","","value","",4,"ngIf"],[4,"ngIf"],[1,"drop-label"],["translate","","value",""],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){1&n&&(O(0,"mat-form-field",0),It(1,g2t,3,3,"mat-label",1),O(2,"mat-select",2),It(3,_2t,3,3,"mat-option",3),It(4,y2t,2,1,"ng-container",4),It(5,C2t,2,1,"ng-container",4),L()()),2&n&&(z(1),Y("ngIf",r.nav&&r.showLabel&&r.allOption),z(1),Yn($r(7,E2t,r.nav)),Y("formControl",r.taxaControl),z(1),Y("ngIf",r.allOption),z(1),Y("ngIf",!r.overwriteTaxa),z(1),Y("ngIf",r.overwriteTaxa))},dependencies:[Ps,on,Yu,pc,rut,Qu,fg,Ju,JR,zbt,ed],styles:[".taxa-drop[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row-reverse;padding-right:10px}.mat-select[_ngcontent-%COMP%]{min-width:100%}  .mat-select-value{line-height:20px;padding-top:3px;vertical-align:middle}  .mat-form-field{line-height:20px}.in-nav2[_ngcontent-%COMP%]{border:1px solid #aaa;border-radius:5px;display:inline;background-color:#fff;padding:1px 3px 8px;vertical-align:middle;margin-left:-5px;min-width:100%}.in-nav2[_ngcontent-%COMP%]     mat-label{padding-top:5px}.drop-label[_ngcontent-%COMP%]{display:block;margin-top:3px}  .mat-select-arrow-wrapper{margin-top:3px;display:inline-block!important}"]})}return i})();function k2t(i,e){if(1&i){const t=Ai();O(0,"mat-option",7),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().go(s))}),O(1,"div",8),te(2,"img",9),O(3,"div",10)(4,"div")(5,"strong"),tt(6),L()(),O(7,"i"),tt(8),L()()()()}if(2&i){const t=e.$implicit;Y("value",t.scientificname),z(2),Y("src","https://mol.org/static/img/groups/taxa_"+t.taxa+".png",rr),z(4),mi("",t.vernacular," "),z(2),Mi(t.scientificname)}}const D2t=function(i){return{"search-form":!0,"in-nav":i}},T2t=function(){return{"taxa-drop":!0,"in-nav2":!0}},I2t=function(i){return{search:!0,"in-nav":i}};let F3=(()=>{class i{constructor(t,n){this.speciesService=t,this.router=n,this.chosenSpecies=new qe,this.chosenTaxa=new qe,this.results=new qe,this.nav=!0,this.spinner=!1,this.searchControl=new mW,this.taxa=null,this._results=[],this.chosen=null,this.isMobile=!1,this.isMobile=window.innerWidth<=480}ngOnInit(){this.searchControl.valueChanges.pipe(Dx(200),Gn(t=>!!(t=t.trim())),Hn(t=>this.speciesService.search(t,this.taxa?this.taxa.taxa:""))).subscribe(t=>{this._results=t,this.results.emit(this._results)})}go(t){return this.chosen=t,this.chosenSpecies.emit(this.chosen),""}setTaxa(t){this.taxa=t,this.chosenTaxa.emit(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ul),U(so))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-search"]],inputs:{nav:"nav",spinner:"spinner"},outputs:{chosenSpecies:"chosenSpecies",chosenTaxa:"chosenTaxa",results:"results"},decls:9,vars:19,consts:[["search",""],[3,"nav","chosen"],["appearance","none"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],[1,"search-results",3,"panelWidth"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"mat-option-text-sub"],["width","50","height","50","err-src","https://mol.org/static/img/groups/taxa_all.png",3,"src"],[1,"name"]],template:function(n,r){if(1&n&&(O(0,"div",null,0)(2,"mol-availabletaxa-dropdown",1),fe("chosen",function(o){return r.setTaxa(o)}),L(),O(3,"div",2),te(4,"input",3),Yi(5,"translate"),O(6,"mat-autocomplete",4,5),It(8,k2t,9,4,"mat-option",6),L()()()),2&n){const s=Yo(7);Yn($r(14,D2t,r.nav)),z(2),Yn(Id(16,T2t)),Y("nav",!0),z(1),Yn($r(17,I2t,r.nav)),z(1),Y("placeholder",bn(5,12,"search_species"))("formControl",r.searchControl)("matAutocomplete",s),z(2),Y("panelWidth",300),z(2),Y("ngForOf",r._results)}},dependencies:[Ps,DS,Yu,_yt,pc,QX,Zyt,JR,S2t,ed],styles:[".search-form[_ngcontent-%COMP%]{display:inline-flex;align-items:center;text-align:left;padding-right:10px}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;padding:3px 5px;max-width:240px;font-size:1.1em;border-radius:5px;border:1px solid #aaa}.search-form.in-nav[_ngcontent-%COMP%]{height:52px}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]{height:100%}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop{display:block;height:100%}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop .mat-mdc-form-field-flex{height:52px}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:22px}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop .mdc-text-field--no-label:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mat-mdc-form-field-infix{padding-top:14px;padding-bottom:8px}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop label{font-weight:500;top:23px}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop   mat-select{background-color:transparent;border:none;border-radius:0}.search-form[_ngcontent-%COMP%]   .taxa-drop[_ngcontent-%COMP%]     .taxa-drop   mat-select.in-nav2{font-weight:500}.search.in-nav[_ngcontent-%COMP%], .search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.search[_ngcontent-%COMP%]{padding:0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;max-width:500px}.mat-option[_ngcontent-%COMP%]{line-height:20px;height:50px}.mat-option[_ngcontent-%COMP%]   .mat-option-text-sub[_ngcontent-%COMP%]{display:inline-flex}.mat-option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block}.mat-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;padding-right:5px;vertical-align:middle}@media only screen and (min-device-width: 320px) and (max-device-width: 480px){.search.in-nav[_ngcontent-%COMP%]{width:auto}.search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:250px}.search-form.in-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:20px;padding-left:20px;align-items:center}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto;max-width:auto}}@media only screen and (min-device-width: 320px) and (max-width: 740px){.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:245px}}@media only screen and (max-width: 490px){.search-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly}}"]})}return i})();function A2t(i,e){if(1&i&&(O(0,"div",4),te(1,"img",5),L()),2&i){const t=Mt();z(1),Y("src",t.img,rr)("alt","Photo of a "+t.commonName)}}const O2t=function(i,e){return[i,e]};let R2t=(()=>{class i{constructor(t){this.router=t}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)(U(zd))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-card"]],inputs:{commonName:"commonName",scientificname:"scientificname",route:"route",img:"img"},decls:9,vars:7,consts:[[1,"species-card"],[3,"routerLink"],["class","spp-img-container",4,"ngIf"],[1,"content"],[1,"spp-img-container"],[3,"src","alt"]],template:function(n,r){1&n&&(O(0,"mat-card",0)(1,"a",1),It(2,A2t,2,2,"div",2),O(3,"mat-card-content")(4,"div",3)(5,"h4"),tt(6),L(),O(7,"em"),tt(8),L()()()()()),2&n&&(z(1),Y("routerLink",O0(4,O2t,r.route?r.route:"/",r.scientificname.replace(" ","_"))),z(1),Y("ngIf",r.img),z(4),Mi(r.commonName),z(2),Mi(r.scientificname))},dependencies:[on,Ku,Vx,gb],styles:[".spp-img-container[_ngcontent-%COMP%]{top:0;margin-top:-20px}.species-card[_ngcontent-%COMP%]{max-width:300px;height:250px;text-align:center;box-sizing:border-box;transition:all .1s cubic-bezier(.165,.84,.44,1);margin:0 10px;padding:0;display:inline-block;border:1px solid #aaa;box-shadow:none;box-shadow:0 2px 3px #0003,0 4px 4px #00000024,0 5px 4px -4px #0000001f}.species-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .species-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{background-color:transparent}.species-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:transparent;color:#000;padding:0;margin:0;display:flex;flex-direction:column;align-items:middle;justify-content:center;height:90px;max-height:100%;vertical-align:middle}.species-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:170px;vertical-align:top}.species-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin:0;padding:0 3px 5px;line-height:1}.species-card[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin:0;font-weight:300}.species-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 7px #0003,0 4px 4px #00000024,0 5px 4px -4px #0000001f;transform:translate3d(0,-4px,0)}.species-card-pa[_ngcontent-%COMP%]{height:332px}.species-card-pa[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:0;max-height:152px;vertical-align:top}"]})}return i})();function P2t(i,e){if(1&i&&te(0,"mol-species-card",2),2&i){const t=e.$implicit;Y("commonName",t.commonName)("scientificname",t.scientificname)("route",t.route)("img",t.img)}}let Y9=(()=>{class i{constructor(){this.species=[{commonName:"Von der decken's hornbill",scientificname:"Tockus deckeni",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Tockus_deckeni.jpg"},{commonName:"Red-crowned crane",scientificname:"Grus japonensis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Grus_japonensis.jpg"},{commonName:"Pebas stubfoot toad",scientificname:"Atelopus spumarius",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Atelopus_spumarius.jpg"},{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"},{commonName:"White-Throated Monitor",scientificname:"Varanus albigularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Varanus_albigularis.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Red-footed tortoise",scientificname:"Chelonoidis carbonaria",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Chelonoidis_carbonaria.jpg"}],this.isMobile=!1,this.isMobile=window.innerWidth<=480}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-card-container"]],inputs:{species:"species"},decls:2,vars:1,consts:[[1,"species-card-container"],["class","species-card-wrapper",3,"commonName","scientificname","route","img",4,"ngFor","ngForOf"],[1,"species-card-wrapper",3,"commonName","scientificname","route","img"]],template:function(n,r){1&n&&(O(0,"div",0),It(1,P2t,1,4,"mol-species-card",1),L()),2&n&&(z(1),Y("ngForOf",r.species))},dependencies:[Ps,R2t],styles:[".species-card-container[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;margin-top:.7em;flex-wrap:wrap}.species-card-container[_ngcontent-%COMP%]   .species-card-wrapper[_ngcontent-%COMP%]{max-width:25%;margin:15px 0;float:left;position:relative;min-height:1px;padding-bottom:10px}@media screen and (min-device-width: 320px) and (max-device-width: 480px){.species-card-container[_ngcontent-%COMP%]   .species-card-wrapper[_ngcontent-%COMP%]{max-width:100%;height:263px;margin:0 15%}}"]})}return i})();function L2t(i,e){1&i&&(O(0,"h2"),tt(1),Yi(2,"translate"),L()),2&i&&(z(1),Mi(bn(2,1,"search_species")))}function F2t(i,e){1&i&&te(0,"mol-scroll-to-top")}let N2t=(()=>{class i{constructor(t,n,r,s){this.router=t,this.speciesService=n,this.state=r,this.translate=s,this.isMobile=!1,this.taxa="",this.isMobile=window.innerWidth<=480}ngOnInit(){}goToMap(t){this.router.navigate([t.scientificname.replace(" ","_")])}randomSpecies(){this.speciesService.random(this.taxa).subscribe(t=>{this.goToMap(t)})}chosenTaxa(t){this.taxa=t.taxa}scroll(){window.scrollTo({top:0,behavior:"smooth"})}static#t=this.\u0275fac=function(n){return new(n||i)(U(so),U(ul),U(Kd),U(yc))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-landing"]],decls:15,vars:6,consts:[[1,"splash"],[4,"ngIf"],[1,"search"],[3,"spinner","chosenSpecies","chosenTaxa"],[1,"spinner"],[1,"random"],["mat-raised-button","","color","info",3,"click"],[1,"pickFavorites"]],template:function(n,r){1&n&&(O(0,"div",0),It(1,L2t,3,3,"h2",1),O(2,"div",2)(3,"div")(4,"mol-search",3),fe("chosenSpecies",function(o){return r.goToMap(o)})("chosenTaxa",function(o){return r.chosenTaxa(o)}),L()(),O(5,"div",4),te(6,"mol-small-spinner"),L()(),O(7,"div",5)(8,"button",6),fe("click",function(){return r.randomSpecies()}),tt(9," Pick a random species "),L()(),O(10,"h2",7),tt(11),Yi(12,"translate"),L(),te(13,"mol-species-card-container"),It(14,F2t,1,0,"mol-scroll-to-top",1),L()),2&n&&(z(1),Y("ngIf",!r.isMobile),z(3),Y("spinner",!0),z(7),Mi(bn(12,4,"pick_favourites")),z(3),Y("ngIf",r.isMobile))},dependencies:[on,L3,$9,F3,Y9,dl,ed],styles:[".parent[_ngcontent-%COMP%]{display:flex;padding-top:30px;flex-direction:row;flex-wrap:wrap}.splash[_ngcontent-%COMP%]{margin:0 auto;max-width:1000px}.search[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:40px}.search[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{max-width:200px}.search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{height:60px;flex-direction:row;display:inline-flex}h2[_ngcontent-%COMP%]{font-weight:300;padding:5px;font-size:21px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.random[_ngcontent-%COMP%]{padding:5px}.pickFavorites[_ngcontent-%COMP%]{text-align:left}@media screen and (min-device-width: 320px) and (max-device-width: 480px){.random[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;width:-moz-fit-content;width:fit-content}.splash[_ngcontent-%COMP%]{padding-top:0}.search[_ngcontent-%COMP%]{margin-left:1%;margin-right:0;flex-direction:column}.pickFavorites[_ngcontent-%COMP%]{text-align:center}.spinner[_ngcontent-%COMP%]{position:absolute;margin:27% 25% 0% 72%}}"]})}return i})();function B2t(i,e){if(1&i&&(O(0,"a",22),te(1,"img",13),O(2,"h4"),tt(3),L()()),2&i){const t=e.$implicit;Y("routerLink","/"+Mt(2).chosen.base+"/"+t.scientificname),z(1),Y("src",t.img,rr),z(2),Mi(t.scientificname)}}function z2t(i,e){if(1&i){const t=Ai();O(0,"div",23)(1,"mat-card",24),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).moduleClick(s.appname))})("mouseenter",function(){const s=Te(t).$implicit;return Ie(Mt(2).moduleClick(s.appname))}),O(2,"a")(3,"div",25),te(4,"img",13),L(),O(5,"mat-card-content")(6,"div",26)(7,"h4"),tt(8),L()()()()()()}if(2&i){const t=e.$implicit;z(4),Y("src",t.image,rr),z(4),Mi(t.appname)}}function V2t(i,e){if(1&i&&(O(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),te(5,"img",13),L(),O(6,"div",14)(7,"div",15),tt(8),L(),O(9,"div",16),tt(10),L(),te(11,"br"),O(12,"div",17),tt(13,"Check out these species:"),L(),O(14,"div",18),It(15,B2t,4,3,"a",19),L()()()(),O(16,"div",20),It(17,z2t,9,2,"div",21),L()()()),2&i){const t=Mt();z(5),Y("src",t.chosen.image,rr),z(3),Mi(t.chosen.appname),z(2),Mi(t.chosen.infoText),z(5),Y("ngForOf",t.chosen.species),z(2),Y("ngForOf",t.modules)}}function H2t(i,e){if(1&i){const t=Ai();O(0,"div",31),fe("mouseenter",function(){const s=Te(t).$implicit;return Ie(Mt(2).showModules(s))}),O(1,"a",22)(2,"div",32),te(3,"img",33),L(),O(4,"div",34)(5,"span")(6,"h3"),tt(7),L()(),O(8,"span")(9,"h4"),tt(10),L()()()()()}if(2&i){const t=e.$implicit;z(1),Y("routerLink","/"+t.scientificname),z(2),Y("src",t.img,rr),z(4),Mi(t.commonName),z(3),Mi(t.scientificname)}}function U2t(i,e){if(1&i&&(O(0,"div",23)(1,"a",35)(2,"mat-card",36)(3,"div",25),te(4,"img",13),L(),O(5,"mat-card-content")(6,"div",26)(7,"h4"),tt(8),L()()()()()()),2&i){const t=e.$implicit,n=Mt(2);z(1),Y("routerLink","/"+t.base+"/"+n.selectedSpeciesName),z(1),Or("matTooltip",t.infoText),z(2),Y("src",t.img,rr),z(4),Mi(t.name)}}function G2t(i,e){if(1&i&&(O(0,"div",27)(1,"div")(2,"div",28)(3,"div",11)(4,"div",14),te(5,"br"),O(6,"div",17),tt(7,"Check out these species:"),L(),O(8,"div",29),It(9,H2t,11,4,"div",30),L()()()(),O(10,"div",20),It(11,U2t,9,4,"div",21),L()()()),2&i){const t=Mt();z(9),Y("ngForOf",t.chosen.species),z(2),Y("ngForOf",t.selectedSpecies)}}let j2t=(()=>{class i{constructor(t,n,r,s){this.router=t,this.speciesService=n,this.state=r,this.translate=s,this.modules=[{image:"assets/consensus.png",appname:"Consensus Map",base:"",infoText:"The consensus map is a simple overview of where a species is likely to be found, it is computed using range maps, occurrence data and local inventories.",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Red-crowned crane",scientificname:"Grus japonensis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Grus_japonensis.jpg"},{commonName:"Crab Eating Macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"}]},{image:"/assets/detailed.png",appname:"Detailed Map",base:"map",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filtering and displaying of Species Distribution Models for select species.",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/trends.png",appname:"Trends",base:"habitat-trend",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained? ",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/trends.png",appname:"Projection",base:"projection/landuse",infoText:"See how a species range changes under different climate scenarios projected into the future!",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/habdist.png",appname:"Habitat Distribution",base:"range",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/protect.png",appname:"Reserve coverage",base:"protect",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/niche1.png",appname:"Environmental Niche",base:"niche",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]}],this.species={Phyllomedusatomopterna:[{name:"Summary Map",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/summary.png",infoText:"The Summary map shows a summary of the species and where it is occured",base:""},{name:"Detailed Map",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/detailed.png",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filteringand displaying of Species Distribution Models for select species.",base:"map"},{name:"Trends",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/trends.png",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained?",base:"habitat-trend"},{name:"Projection",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/trends.png",infoText:"See how a species range changes under different climate scenarios projected into the future!",base:"projection/landuse"},{name:"Habitat Distribution",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/habdist.png",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",base:"range"},{name:"Reserve coverage",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/protect.png",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",base:"protect"},{name:"Environmental Niche",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/niche1.png",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",base:"niche"}],Grusjaponensis:[{name:"Summary Map",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/summary.png",infoText:"The Summary map shows a summary of the species and where it is occured",base:""},{name:"Detailed Map",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/detailed.png",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filteringand displaying of Species Distribution Models for select species.",base:"map"},{name:"Trends",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/trends.png",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained?",base:"habitat-trend"},{name:"Projection",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/trends.png",infoText:"See how a species range changes under different climate scenarios projected into the future!",base:"projection/landuse"},{name:"Habitat Distribution",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/habdist.png",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",base:"range"},{name:"Reserve coverage",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/protect.png",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",base:"protect"},{name:"Environmental Niche",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/niche1.png",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",base:"niche"}],Macacafascicularis:[{name:"Summary Map",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/summary.png",infoText:"The Summary map shows a summary of the species and where it is occured",base:""},{name:"Detailed Map",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/detailed.png",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filteringand displaying of Species Distribution Models for select species.",base:"map"},{name:"Trends",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/trends.png",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained?",base:"habitat-trend"},{name:"Projection",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/trends.png",infoText:"See how a species range changes under different climate scenarios projected into the future!",base:"projection/landuse"},{name:"Habitat Distribution",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/habdist.png",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",base:"range"},{name:"Reserve coverage",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/protect.png",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",base:"protect"},{name:"Environmental Niche",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/niche1.png",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",base:"niche"}]},this.chosenIndex=0,this.chosen=this.modules[this.chosenIndex],this.selectedSpecies=this.species.Phyllomedusatomopterna,this.selectedSpeciesName="Phyllomedusa tomopterna"}ngOnInit(){}moduleClick(t){this.chosenIndex=this.modules.findIndex(n=>n.appname===t),this.chosen=this.modules[this.chosenIndex]}goToMap(t){this.router.navigate(["./",t.scientificname.replace(" ","_")])}randomSpecies(){this.speciesService.random().subscribe(t=>{this.goToMap(t)})}showModules(t){this.selectedSpeciesName=t.scientificname,this.selectedSpecies=this.species[t.scientificname.replace(" ","")]}static#t=this.\u0275fac=function(n){return new(n||i)(U(so),U(ul),U(Kd),U(yc))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-landing2"]],decls:16,vars:12,consts:[[1,"banner"],[1,"big"],[1,"search"],[3,"nav","chosenSpecies"],[1,"random"],["mat-raised-button","","color","info",3,"click"],["class","splash",4,"ngIf"],["class","splash-landing-3",4,"ngIf"],[1,"splash"],[1,"parent"],[1,"hero"],[1,"hero-row"],[1,"hero-img"],[3,"src"],[1,"hero-content"],[1,"hero-heading"],[1,"hero-desc","b"],[1,"hero-desc"],[1,"module-spp"],["class","mini-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"module-card-container"],["class","module-card-wrapper",4,"ngFor","ngForOf"],[1,"mini-card",3,"routerLink"],[1,"module-card-wrapper"],[1,"app-card",3,"click","mouseenter"],[1,"spp-img-container"],[1,"content"],[1,"splash-landing-3"],[1,"hero-landing-3"],[1,"species-list"],["class","module-spp",3,"mouseenter",4,"ngFor","ngForOf"],[1,"module-spp",3,"mouseenter"],[1,"img-wrapper"],[1,"img",3,"src"],[1,"species-names"],[3,"routerLink"],[1,"app-card",3,"matTooltip"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"h2",1),tt(2),Yi(3,"translate"),L(),O(4,"div",2)(5,"div")(6,"mol-search",3),fe("chosenSpecies",function(o){return r.goToMap(o)}),L()()(),O(7,"div",4)(8,"h3"),tt(9),Yi(10,"translate"),L(),O(11,"button",5),fe("click",function(){return r.randomSpecies()}),tt(12),Yi(13,"translate"),L()()(),It(14,V2t,18,5,"div",6),It(15,G2t,12,2,"div",7)),2&n&&(z(2),mi("",bn(3,6,"search_species"),"!"),z(4),Y("nav",!1),z(3),Mi(bn(10,8,"pick_random")),z(3),mi(" ",bn(13,10,"btn_spin_wheel")," "),z(2),Y("ngIf",!1),z(1),Y("ngIf",!0))},dependencies:[gb,Ps,on,F3,dl,Ku,Vx,zl,ed],styles:[".parent[_ngcontent-%COMP%]{display:flex;flex-direction:column}.splash[_ngcontent-%COMP%]{margin:0 auto;max-width:1000px;padding-bottom:50px}.banner[_ngcontent-%COMP%]{height:350px;display:flex;flex-direction:column;margin:0 auto;align-items:center;justify-content:center;background-image:url(https://mapoflife.github.io/species-next/assets/bg.jpg);background-position:0% 50%;background-repeat:no-repeat;background-size:cover;color:#fff}.search[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:#000;max-width:100%;align-items:center}.big[_ngcontent-%COMP%]{font-size:48px;font-weight:400;padding:25px 0 10px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.random[_ngcontent-%COMP%]{align-items:center;font-size:18px}.random[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:0}.random[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:15px}.module-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:0 auto}.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]{max-width:33%;margin:15px 0;float:left;position:relative;min-height:1px;padding-bottom:10px}@media screen and (min-device-width: 320px) and (max-device-width: 480px){.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]{max-width:100%;height:263px;margin:0 15%}}.hero[_ngcontent-%COMP%]{transition:1s;height:350px;padding:10px 0}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;width:100%}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .mini-card[_ngcontent-%COMP%]{padding:10px;text-align:center}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{min-width:400px;min-height:300px;max-width:400px;margin:0 auto}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding:15px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-heading[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc[_ngcontent-%COMP%]{font-size:18px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc.b[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]{display:flex;cursor:pointer;flex-direction:row}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:unset;color:unset;font-size:18px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:170px;max-width:200px}.stats[_ngcontent-%COMP%]{display:flex;padding-bottom:30px;flex-direction:row;text-align:center;justify-content:space-evenly}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{padding:10px}.app-card[_ngcontent-%COMP%]{max-width:300px;height:250px;text-align:center;box-sizing:border-box;transition:all .1s cubic-bezier(.165,.84,.44,1);margin:0 10px;padding:0;display:inline-block;border:1px solid #aaa;box-shadow:none;box-shadow:0 2px 3px #0003,0 4px 4px #00000024,0 5px 4px -4px #0000001f}.app-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{background-color:transparent}.app-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:transparent;color:#000;padding:0;margin:0;display:flex;flex-direction:column;align-items:middle;justify-content:center;height:90px;max-height:100%;vertical-align:middle}.app-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:170px;vertical-align:top}.app-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin:0;padding:0 3px 5px;line-height:1}.app-card[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin:0;font-weight:300}.app-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 7px #0003,0 4px 4px #00000024,0 5px 4px -4px #0000001f;transform:translate3d(0,-4px,0)}.hero-landing-3[_ngcontent-%COMP%]{height:auto;margin:auto}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]{align-items:stretch}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{margin:0 auto}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-heading[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc[_ngcontent-%COMP%]{font-size:18px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc.b[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;position:relative;margin:5px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .species-names[_ngcontent-%COMP%]{display:flex;flex-direction:column}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .species-names[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.1em;display:inline-flex}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .species-names[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;margin-bottom:0}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{font-style:italic}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:transparent;color:unset;font-size:18px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{overflow-y:hidden;position:relative;padding:62.24% 0 0;height:0}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;inset:0;position:absolute}.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset}.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:transparent;color:unset;font-size:18px}@media all and (max-width: 679px){.module-spp[_ngcontent-%COMP%]{width:47%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:90%}}@media all and (min-width: 680px) and (max-width: 999px){.module-spp[_ngcontent-%COMP%]{width:48%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:86%}}@media all and (min-width: 1000px) and (max-width: 1500px){.module-spp[_ngcontent-%COMP%]{width:32%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:81%}}@media all and (min-width: 1501px){.module-spp[_ngcontent-%COMP%]{width:32%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:70%}}"]})}return i})(),Z9=(()=>{class i{constructor(){this.year=2020,this.partnershipsClass="",this.feedbackClass="",this.privacyClass="",this.tosClass=""}ngOnInit(){this.year=(new Date).getFullYear(),"Partnerships"===document.title&&(this.partnershipsClass="active-trail active"),"Feedback"===document.title&&(this.feedbackClass="active-trail active"),"Privacy"===document.title&&(this.privacyClass="active-trail active"),"Terms of Service"===document.title&&(this.tosClass="active-trail active")}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-footer"]],decls:32,vars:24,consts:[["role","contentinfo"],[1,"region","region-thin-footer"],[1,"block","block-block","meta","meta-thin"],[1,"content"],["href","https://github.com/MapOfLife/","target","_blank"],[1,"fa","fa-github-square","fa-2x"],["href","https://twitter.com/moldotorg","target","_blank"],[1,"fa","fa-twitter-square","fa-2x"],["href","https://www.facebook.com/moldotorg","target","_blank"],[1,"fa","fa-facebook-square","fa-2x"],[1,"block","block-nice-menus","footer-menu","footer-menu-thin"],[1,"nice-menu","nice-menu-down","nice-menu-menu-footer-links"],["href","https://mol.org/partnerships","target","_self"],["href","https://mol.org/feedback","target","_self"],["href","https://mol.org/privacy","target","_self"],["href","https://mol.org/tos","target","_self"]],template:function(n,r){1&n&&(O(0,"footer",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"p")(5,"a",4),te(6,"i",5),L(),O(7,"a",6),te(8,"i",7),L(),O(9,"a",8),te(10,"i",9),L(),tt(11),Yi(12,"translate"),L()()(),O(13,"section",10)(14,"div",3)(15,"ul",11)(16,"li")(17,"a",12),tt(18),Yi(19,"translate"),L()(),O(20,"li")(21,"a",13),tt(22),Yi(23,"translate"),L()(),O(24,"li")(25,"a",14),tt(26),Yi(27,"translate"),L()(),O(28,"li")(29,"a",15),tt(30),Yi(31,"translate"),L()()()()()()()),2&n&&(z(11),Ko(" \xa9",r.year," MOL. ",bn(12,14,"mol_copyright"),". "),z(5),Yn(r.partnershipsClass),z(2),mi(" ",bn(19,16,"nav_supporters"),""),z(2),Yn(r.feedbackClass),z(2),mi(" ",bn(23,18,"nav_feedback"),""),z(2),Yn(r.privacyClass),z(2),mi(" ",bn(27,20,"nav_privacy"),""),z(2),Yn(r.tosClass),z(2),mi(" ",bn(31,22,"nav_tos"),""))},dependencies:[ed]})}return i})();const N3=function(i){return{active:i}};function W2t(i,e){if(1&i&&(O(0,"ul",3)(1,"li",4)(2,"a",5)(3,"mat-icon"),tt(4,"info"),L(),tt(5),Yi(6,"translate"),L()(),O(7,"li",4)(8,"a",6)(9,"mat-icon"),tt(10,"place"),L(),tt(11),Yi(12,"translate"),L()(),O(13,"li",4)(14,"a",7)(15,"mat-icon"),tt(16,"speed"),L(),tt(17),Yi(18,"translate"),L()(),O(19,"li",4)(20,"a",8)(21,"mat-icon"),tt(22,"pattern"),L(),tt(23),Yi(24,"translate"),L()()()),2&i){const t=Mt();z(2),Yn($r(20,N3,"species"===t.app)),z(3),Mi(bn(6,12,"nav_species")),z(3),Yn($r(22,N3,"regions"===t.app)),z(3),Mi(bn(12,14,"nav_regions")),z(3),Yn($r(24,N3,"indicators"===t.app)),z(3),mi(" ",bn(18,16,"nav_indicators"),""),z(3),Yn($r(26,N3,"patterns"===t.app)),z(3),mi(" ",bn(24,18,"nav_patterns"),"")}}function $2t(i,e){1&i&&(O(0,"div",9)(1,"em",10),tt(2,"Putting biodiversity on the map"),L()())}let TJ=(()=>{class i{constructor(){this.nav=!0,this.app=""}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-header-blue"]],inputs:{nav:"nav",app:"app"},decls:3,vars:2,consts:[[1,"mol-header-nav"],["class","nav-tabs",4,"ngIf"],["class","mol-slogan",4,"ngIf"],[1,"nav-tabs"],[1,"tab"],["href","https://mol.org/species","target","_self"],["href","https://mol.org/regions","target","_self"],["href","https://mol.org/indicators","target","_self"],["href","https://mol.org/patterns","target","_self"],[1,"mol-slogan"],[1,"text-muted"]],template:function(n,r){1&n&&(O(0,"nav",0),It(1,W2t,25,28,"ul",1),It(2,$2t,3,0,"div",2),L()),2&n&&(z(1),Y("ngIf",r.nav),z(1),Y("ngIf",!r.nav))},dependencies:[on,Ma,ed],styles:["[_nghost-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]{display:flex;justify-content:end}@media screen and (max-width: 800px){[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]{flex-direction:column;overflow:visible}}[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .mol-slogan[_ngcontent-%COMP%]{font-size:20px;font-weight:300;color:#777;padding-bottom:20px}[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{list-style:none;display:flex;height:36px;margin:0;padding:0}@media screen and (max-width: 800px){[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{flex-direction:column;height:auto}}[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border:2px solid #203378;border-bottom:none;border-radius:12px 12px 0 0;display:flex;justify-content:center;align-items:center}@media screen and (max-width: 800px){[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border:none}}[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:100%;width:120px;display:flex;justify-content:center;align-items:center;color:#203378;font-weight:700;border-radius:8px 8px 0 0;gap:3px}@media screen and (max-width: 800px){[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:0;background-color:#fff;width:100%;justify-content:flex-start;font-size:18px}}[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#203378;color:#fff;border-bottom:none;border-radius:8px 8px 0 0}@media screen and (max-width: 800px){[_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   .mol-header-nav[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-radius:0}}"]})}return i})();function Y2t(i,e){if(1&i&&(O(0,"span"),tt(1),L()),2&i){const t=Mt().$implicit;z(1),Mi(t)}}function Z2t(i,e){if(1&i){const t=Ai();O(0,"li",2),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).select(s))}),It(1,Y2t,2,1,"span",0),L()}if(2&i){const t=e.$implicit;Yn(t===Mt(2).lang?"selected":""),z(1),Y("ngIf","en"===t||"es"===t)}}function q2t(i,e){if(1&i&&(O(0,"ul"),It(1,Z2t,2,3,"li",1),L()),2&i){const t=Mt();z(1),Y("ngForOf",t.langs)}}function X2t(i,e){if(1&i){const t=Ai();O(0,"li",2),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).select(s))}),tt(1),L()}if(2&i){const t=e.$implicit;Yn(t===Mt(2).lang?"selected":""),z(1),mi(" ",t," ")}}function K2t(i,e){if(1&i&&(O(0,"ul"),It(1,X2t,2,3,"li",1),L()),2&i){const t=Mt();z(1),Y("ngForOf",t.langs)}}let Q2t=(()=>{class i{constructor(t){this.translationService=t,this.app="regions",this.langs=[],this.lang=""}ngOnInit(){this.translationService.lang.subscribe(t=>{this.lang=t}),this.langs=this.translationService.langs}select(t){this.translationService.updateLang(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(yc))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-language-selector"]],inputs:{app:"app"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,r){1&n&&(It(0,q2t,2,1,"ul",0),It(1,K2t,2,1,"ul",0)),2&n&&(Y("ngIf","regions"===r.app),z(1),Y("ngIf","regions"!==r.app))},dependencies:[Ps,on],styles:["ul[_ngcontent-%COMP%]{margin:0;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{padding-left:1em}@media screen and (max-width: 800px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{padding-left:.35em;font-size:18px}}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;list-style:none;margin:0 3px;cursor:pointer}@media screen and (max-width: 800px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:18px}}ul[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{text-decoration:underline}"]})}return i})();function J2t(i,e){1&i&&(O(0,"a",11),tt(1),Yi(2,"translate"),Yi(3,"translate"),L()),2&i&&(z(1),Ko("",bn(2,2,"nav_feedback")," / ",bn(3,4,"contact")," "))}function tkt(i,e){if(1&i&&(O(0,"a",12),tt(1),Yi(2,"translate"),L()),2&i){const t=Mt();Y("href",t.authBase+"/login?next="+t.doc.location.href,rr),z(1),mi(" ",bn(2,2,"nav_login"),"")}}function ekt(i,e){if(1&i&&(O(0,"a",12),tt(1),Yi(2,"translate"),L()),2&i){const t=Mt();Y("href",t.authBase+"/register?next="+t.doc.location.href,rr),z(1),mi(" ",bn(2,2,"nav_register"),"")}}function ikt(i,e){if(1&i&&(O(0,"li"),tt(1," Logged in as: "),O(2,"a",13),tt(3),te(4,"span",14),L()()),2&i){const t=Mt(),n=Yo(11);z(2),Y("matMenuTriggerFor",n),z(1),mi(" ",t.user.fullname," ")}}let IJ=(()=>{class i{constructor(t){this.router=t,this.loggedIn=!1,this.contact=!0,this.authBase=qx,this.app="regions",this.doc=null}ngOnInit(){this.doc=document}static#t=this.\u0275fac=function(n){return new(n||i)(U(so))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-header-user-drop"]],viewQuery:function(n,r){if(1&n&&Pi(IX,5),2&n){let s;Ze(s=We())&&(r.trigger=s.first)}},inputs:{user:"user",loggedIn:"loggedIn",contact:"contact",authBase:"authBase",app:"app"},decls:19,vars:8,consts:[[1,"mol-header-thin-menu"],[1,"btn-group"],["href","/contact-us","class","pre-drop",4,"ngIf"],["class","pre-drop",3,"href",4,"ngIf"],[4,"ngIf"],[3,"app"],["xPosition","before",1,"mol-header-menu"],["menu","matMenu"],[1,"dropdown-item",3,"href"],[1,"menu-divider"],["target","_self",1,"dropdown-item",3,"href"],["href","/contact-us",1,"pre-drop"],[1,"pre-drop",3,"href"],["aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle","simple-link",3,"matMenuTriggerFor"],[1,"caret"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"ul",1)(2,"li"),It(3,J2t,4,6,"a",2),L(),O(4,"li"),It(5,tkt,3,4,"a",3),L(),O(6,"li"),It(7,ekt,3,4,"a",3),L(),It(8,ikt,5,2,"li",4),te(9,"mol-language-selector",5),L()(),O(10,"mat-menu",6,7)(12,"a",8),tt(13,"Profile"),L(),O(14,"a",8),tt(15,"Dashboard"),L(),te(16,"div",9),O(17,"a",10),tt(18,"Logout"),L()()),2&n&&(z(3),Y("ngIf",r.contact),z(2),Y("ngIf",!r.loggedIn),z(2),Y("ngIf",!r.loggedIn),z(1),Y("ngIf",r.loggedIn),z(1),Y("app",r.app),z(3),Y("href",r.authBase+"/profile",rr),z(2),Y("href",r.authBase+"/dashboard",rr),z(3),Y("href",r.authBase+"/logout?next="+r.doc.location.href,rr))},dependencies:[on,ovt,IX,Q2t,ed],styles:[".mol-header-thin-menu[_ngcontent-%COMP%]{padding:0 5px;display:inline-flex}@media screen and (max-width: 800px){.mol-header-thin-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}}.btn-group[_ngcontent-%COMP%]{display:inline-flex;align-items:center;vertical-align:middle;list-style:none;margin:5px;text-transform:capitalize}@media screen and (max-width: 800px){.btn-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;margin:0;align-items:flex-start}.btn-group[_ngcontent-%COMP%]   a.pre-drop[_ngcontent-%COMP%]{font-size:18px}}.pull-right[_ngcontent-%COMP%]{float:right}.mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{font-size:16px;color:#706f6f;display:inline-block;margin-bottom:-1px;transition:all .3s ease;padding:8px}.mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#2c2b2b;text-decoration:none;background-color:transparent;margin-bottom:-1px;transition:all .3s ease}.pre-drop[_ngcontent-%COMP%]{display:inline-block;padding:0 10px;font-size:16px;color:#706f6f}.pre-drop.feedback[_ngcontent-%COMP%]{font-weight:700;background-color:#fff;color:#203378;border:2px solid #203378;border-radius:8px}.pre-drop[_ngcontent-%COMP%]:hover{background-color:transparent;color:#2c2b2b;text-decoration:none}.pre-drop[_ngcontent-%COMP%]:hover.feedback{color:#fff;background-color:#203378}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.menu-divider[_ngcontent-%COMP%]{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.caret[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-right:4px solid transparent;border-left:4px solid transparent}@media screen and (max-width: 480px){.btn-group[_ngcontent-%COMP%]{vertical-align:top;padding:0}.btn-group[_ngcontent-%COMP%]   a.pre-drop[_ngcontent-%COMP%]{font-size:18px}.pull-right[_ngcontent-%COMP%]{float:unset}.mol-header-thin-menu[_ngcontent-%COMP%]{align-items:stretch;justify-content:space-around;width:100%}}"]})}return i})();function nkt(i,e){if(1&i){const t=Ai();O(0,"div",8),fe("click",function(){return Te(t),Ie(Mt().toggleMenu())}),L()}}const rkt=function(i){return{active:i}},skt=function(i){return{show:i}};let okt=(()=>{class i{constructor(t){this.changeDetector=t,this.loggedIn=!1,this.contact=!0,this.authBase=qx,this.app="",this.showMenu=!1}ngOnInit(){}toggleMenu(){this.showMenu=!this.showMenu,this.changeDetector.detectChanges()}static#t=this.\u0275fac=function(n){return new(n||i)(U(Sn))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-header-nav-mobile"]],inputs:{user:"user",loggedIn:"loggedIn",contact:"contact",authBase:"authBase",app:"app"},decls:10,vars:11,consts:[["class","overlay",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"menu-button__wrapper"],[1,"menu-button",3,"ngClass"],[1,"menu-button__bar"],[1,"menu",3,"ngClass"],[3,"user","authBase","loggedIn"],[3,"app"],[1,"overlay",3,"click"]],template:function(n,r){1&n&&(It(0,nkt,1,0,"div",0),O(1,"button",1),fe("click",function(){return r.toggleMenu()}),O(2,"div",2)(3,"div",3),te(4,"span",4)(5,"span",4)(6,"span",4),L()()(),O(7,"div",5),te(8,"mol-header-user-drop",6)(9,"mol-header-blue",7),L()),2&n&&(Y("ngIf",r.showMenu),z(3),Y("ngClass",$r(7,rkt,r.showMenu)),z(4),Y("ngClass",$r(9,skt,r.showMenu)),z(1),Y("user",r.user)("authBase",r.authBase)("loggedIn",r.loggedIn),z(1),Y("app",r.app))},dependencies:[Af,on,cg,TJ,IJ],styles:["[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{background-color:#00000080;overflow:hidden;position:absolute;inset:82px 0 0;height:calc(100dvh - 82px);z-index:100}[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]{width:32px;cursor:pointer;z-index:33;display:block;height:20px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .menu-button__wrapper[_ngcontent-%COMP%]{position:fixed;top:1.2rem;right:.65rem;z-index:33;width:48px;height:48px}[_nghost-%COMP%]   .menu-button__bar[_ngcontent-%COMP%]{background-color:#191919;height:4px;width:32px;display:block;position:absolute;transition:all .4s ease}[_nghost-%COMP%]   .menu-button__bar[_ngcontent-%COMP%]:nth-of-type(2){top:8px}[_nghost-%COMP%]   .menu-button__bar[_ngcontent-%COMP%]:nth-of-type(3){top:16px}[_nghost-%COMP%]   .menu-button.active[_ngcontent-%COMP%]   .menu-button__bar[_ngcontent-%COMP%]{transform:translateY(8px) rotate(45deg)}[_nghost-%COMP%]   .menu-button.active[_ngcontent-%COMP%]   .menu-button__bar[_ngcontent-%COMP%]:nth-of-type(2){transform:translate(2rem);opacity:0;visibility:hidden}[_nghost-%COMP%]   .menu-button.active[_ngcontent-%COMP%]   .menu-button__bar[_ngcontent-%COMP%]:nth-of-type(3){transform:translateY(-8px) rotate(-45deg)}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{position:fixed;height:calc(100dvh - 82px);visibility:hidden;right:0;width:200px;opacity:0;transform:translate(100%);z-index:200;background-color:#fff;display:flex;gap:5px;flex-direction:column;padding:10px 10px 0;border-radius:8px 0 0 8px;box-shadow:0 0 16px -5px #000;transition:all .3s}[_nghost-%COMP%]   .menu.show[_ngcontent-%COMP%]{opacity:1;transform:translate(0);visibility:visible}"]})}return i})();function akt(i,e){if(1&i&&(O(0,"div",6),te(1,"mol-header-user-drop",7)(2,"mol-header-blue",8),L()),2&i){const t=Mt();z(1),Y("user",t.user)("app",t.app)("authBase",t.authBase)("loggedIn",t.loggedIn)("nav",t.nav),z(1),Y("app",t.app)("nav",t.nav)}}function lkt(i,e){if(1&i&&te(0,"mol-header-nav-mobile",9),2&i){const t=Mt();Y("user",t.user)("authBase",t.authBase)("loggedIn",t.loggedIn)("app",t.app)}}let q9=(()=>{class i{constructor(t,n,r){this.auth=t,this.changeDetectorRef=n,this.media=r,this.loggedIn=!1,this.authBase=qx,this.app="regions",this.nav=!0,this.mobileQuery=r.matchMedia("(max-width: 800px)"),this._mobileQueryListener=()=>n.detectChanges(),this.mobileQuery.addEventListener("change",this._mobileQueryListener)}ngOnInit(){void 0===this.forceLoggedIn?this.auth.loggedIn.subscribe(t=>{this.loggedIn=t}):this.loggedIn=this.forceLoggedIn,this.auth.user.subscribe(t=>{this.user=t})}ngOnDestroy(){this.mobileQuery.removeEventListener("change",this._mobileQueryListener)}static#t=this.\u0275fac=function(n){return new(n||i)(U(_b),U(Sn),U(V$))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-header"]],inputs:{forceLoggedIn:"forceLoggedIn",app:"app",nav:"nav"},decls:6,vars:2,consts:[[1,"mol-header","mol-header-thin"],[1,"mol-logo-thin"],["href","https://mol.org/","target","_self","rel","home","title","Home"],["alt","Map of Life","src","https://mol.org/static/img/logo.png"],["class","navigation",4,"ngIf"],[3,"user","authBase","loggedIn","app",4,"ngIf"],[1,"navigation"],[3,"user","app","authBase","loggedIn","nav"],[3,"app","nav"],[3,"user","authBase","loggedIn","app"]],template:function(n,r){1&n&&(O(0,"header",0)(1,"figure",1)(2,"a",2),te(3,"img",3),L()(),It(4,akt,3,7,"div",4),It(5,lkt,1,4,"mol-header-nav-mobile",5),L()),2&n&&(z(4),Y("ngIf",!r.mobileQuery.matches),z(1),Y("ngIf",r.mobileQuery.matches))},dependencies:[on,TJ,IJ,okt],styles:[".mol-header[_ngcontent-%COMP%]{background:#fff url(https://mol.org/static/img/header_background.png) no-repeat bottom center;position:relative;margin:0 40px}.mol-header.mol-header-fat[_ngcontent-%COMP%]{padding:20px;margin:0 auto}.mol-logo-fat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:240px}figure[_ngcontent-%COMP%]{margin:0}.motd[_ngcontent-%COMP%]{z-index:10000;position:absolute;bottom:10px;left:calc(50% - 215px);font-size:15px;border:3px solid #203378;background-color:#203378;padding:10px;border-radius:3px;color:#fff}.motd[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:17px;text-decoration:underline;color:#fff;font-weight:500}.motd[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#203378}.mol-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mol-header[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end;gap:10px}.mol-header.mol-header-thin[_ngcontent-%COMP%]{padding:10px 10px 0}.mol-logo-thin[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:160px}header[_ngcontent-%COMP%]   .mol-header-thin-menu[_ngcontent-%COMP%]{padding:0 5px}@media screen and (max-width: 800px){.motd[_ngcontent-%COMP%]{display:none}.mol-logo-thin[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{margin:auto 5px}.mol-header[_ngcontent-%COMP%]{margin:0}}@media screen and (max-width: 1500px){.motd[_ngcontent-%COMP%]{left:215px}}@keyframes _ngcontent-%COMP%_blinkingText{0%{border:3px solid white;color:#fff}to{border:3px solid #fdac72}}@keyframes _ngcontent-%COMP%_blinkingLink{0%{color:#fff}}"]})}return i})();function ckt(i,e){if(1&i){const t=Ai();O(0,"a",7),fe("click",function(){Te(t);const r=Mt();return Ie(r.searchOpen=!r.searchOpen)}),te(1,"i",8),L()}}const AJ=function(){return{exact:!0}};function dkt(i,e){if(1&i&&(O(0,"a",10),tt(1),Yi(2,"translate"),L()),2&i){const t=e.$implicit;Y("routerLinkActiveOptions",Id(7,AJ))("routerLink",t.route)("queryParams",t.data)("href",t.url,rr),z(1),mi(" ",bn(2,5,t.name)," ")}}function ukt(i,e){if(1&i&&(O(0,"div"),It(1,dkt,3,8,"a",9),L()),2&i){const t=Mt();z(1),Y("ngForOf",t.links)}}function hkt(i,e){if(1&i){const t=Ai();O(0,"a",7),fe("click",function(){Te(t);const r=Mt();return Ie(r.menuOpen=!r.menuOpen)}),te(1,"i",11),L()}}function fkt(i,e){1&i&&te(0,"div",12)}function mkt(i,e){1&i&&Ei(0,0,["*ngIf","!mobile && (searchOpen || !showSearchLink)"])}function pkt(i,e){1&i&&(O(0,"span"),te(1,"i",8),L())}function gkt(i,e){1&i&&(O(0,"span"),te(1,"i",14),L())}function _kt(i,e){if(1&i){const t=Ai();O(0,"a",13),fe("click",function(){return Te(t),Ie(Mt().toggleSearch())}),It(1,pkt,2,0,"span",2),It(2,gkt,2,0,"span",2),L()}if(2&i){const t=Mt();z(1),Y("ngIf",!t.searchOpen),z(1),Y("ngIf",t.searchOpen&&t.showSearchLink)}}function bkt(i,e){1&i&&(O(0,"div",15),Ei(1,1),L())}function vkt(i,e){if(1&i&&(O(0,"a",18),tt(1),Yi(2,"translate"),L()),2&i){const t=e.$implicit;Y("routerLinkActiveOptions",Id(7,AJ))("routerLink",t.route)("queryParams",t.data)("href",t.url,rr),z(1),mi(" ",bn(2,5,t.name)," ")}}function ykt(i,e){if(1&i&&(O(0,"div",16),It(1,vkt,3,8,"a",17),L()),2&i){const t=Mt();z(1),Y("ngForOf",t.links)}}const xkt=[[["","slot","search2"]],[["","slot","search1"]]],wkt=["[slot=search2]","[slot=search1]"];let X9=(()=>{class i{constructor(){this.showSearchLink=!1,this.searchOpen=!1,this.menuOpen=!1,this.mobile=!1,this.mobile=window.innerWidth<=480}ngOnInit(){}toggleSearch(){this.searchOpen=!this.searchOpen}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-nav"]],inputs:{links:"links",showSearchLink:"showSearchLink"},ngContentSelectors:wkt,decls:9,vars:8,consts:[[1,"navigation"],["mat-button","","class","mobile-only open-search-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","spacer",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","navigation nav-menu mobile-search",4,"ngIf"],["class","navigation nav-menu",4,"ngIf"],["mat-button","",1,"mobile-only","open-search-button",3,"click"],[1,"fa","fa-search"],["mat-button","","routerLinkActive","active","queryParamsHandling","",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","",3,"routerLinkActiveOptions","routerLink","queryParams","href"],[1,"fa","fa-bars"],[1,"spacer"],["mat-button","",3,"click"],[1,"fa","fa-close"],[1,"navigation","nav-menu","mobile-search"],[1,"navigation","nav-menu"],["mat-button","","class","mobile-only","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",1,"mobile-only",3,"routerLinkActiveOptions","routerLink","queryParams","href"]],template:function(n,r){1&n&&(jn(xkt),O(0,"div",0),It(1,ckt,2,0,"a",1),It(2,ukt,2,1,"div",2),It(3,hkt,2,0,"a",1),It(4,fkt,1,0,"div",3),It(5,mkt,1,0,"ng-content",2),It(6,_kt,3,2,"a",4),L(),It(7,bkt,2,0,"div",5),It(8,ykt,2,1,"div",6)),2&n&&(z(1),Y("ngIf",r.showSearchLink),z(1),Y("ngIf",!r.searchOpen),z(1),Y("ngIf",(null==r.links?null:r.links.length)>0),z(1),Y("ngIf",!r.mobile),z(1),Y("ngIf",!r.mobile&&(r.searchOpen||!r.showSearchLink)),z(1),Y("ngIf",r.showSearchLink&&(null==r.links?null:r.links.length)>0),z(1),Y("ngIf",r.mobile&&r.searchOpen),z(1),Y("ngIf",r.mobile&&r.menuOpen))},dependencies:[Ps,on,gb,cX,_ut,ed],styles:[".navigation[_ngcontent-%COMP%]{display:flex;text-align:center;background-color:#203378;height:52px;padding:0 15px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;border-radius:0;padding:0 20px;text-align:left;font-size:16px;font-weight:400;height:100%;line-height:50px;text-transform:capitalize}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navigation[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#1e3070;color:#fff;transition:all .3s ease}.navigation[_ngcontent-%COMP%]     mol-search .taxa-drop   .taxa-drop{color:#fff}.navigation[_ngcontent-%COMP%]     mol-search .taxa-drop   .taxa-drop label{color:#fff}.navigation[_ngcontent-%COMP%]     mol-search .taxa-drop   .taxa-drop   mat-select.in-nav2{color:#fff}.navigation[_ngcontent-%COMP%]     mol-search .taxa-drop   .taxa-drop   mat-select.in-nav2 .mat-mdc-select-arrow{color:#fff}.spacer[_ngcontent-%COMP%]{flex-grow:1}.open-search-button[_ngcontent-%COMP%]{display:none}.fa.fa-search[_ngcontent-%COMP%]{margin-right:.5em}.mat-button[_ngcontent-%COMP%]{min-width:auto}@media screen and (max-device-width: 480px){.navigation[_ngcontent-%COMP%]{flex-wrap:wrap;padding:0;flex-direction:row;height:unset;justify-content:space-between;align-items:flex-end}.navigation[_ngcontent-%COMP%]   .open-search-button[_ngcontent-%COMP%]{display:block}.navigation.nav-menu[_ngcontent-%COMP%]{box-shadow:0 2px 6px #ddd;display:flex;flex-direction:column}.navigation.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#1e3070}.navigation.nav-menu.mobile-search[_ngcontent-%COMP%]{align-items:center}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.active, .mobile-only)[_ngcontent-%COMP%]{display:none}.navigation[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#203378}.space[_ngcontent-%COMP%]{display:none;flex-grow:initial;width:0}}"]})}return i})(),OJ=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-main-layout"]],decls:5,vars:0,consts:[[1,"main"],["app","species"]],template:function(n,r){1&n&&(O(0,"div",0),te(1,"mol-header",1)(2,"mol-nav")(3,"router-outlet"),L(),te(4,"mol-footer"))},dependencies:[tw,Z9,q9,X9]})}return i})();function Ckt(i,e){1&i&&te(0,"mol-scroll-to-top")}let Ekt=(()=>{class i{constructor(t,n,r,s,o,l){this.actRoute=t,this.router=n,this.state=r,this.location=s,this.urlConfig=o,this.translate=l,this.scientificname="",this.links=[],this.embed=!1,this.sidebar=!0,this.opened=!0,this.isMobile=!1,this.mapMode="consensus",this.showLegend=!1,this.urlConfig.state.subscribe(d=>{d&&(this.embed=d.embed,this.sidebar=d.sidebar)}),this.router.events.pipe(Gn(d=>d instanceof nh)).subscribe(d=>{const h=!!d.url.match(/^\/map\//),m=!!d.url.match(/^\/[^\/]+$/);this.showLegend=h||m,this.mapMode=h?"detailed":"consensus"}),this.isMobile=window.innerWidth<=480}ngOnInit(){const t=this.actRoute.firstChild.snapshot.params.scientificname;this.state.scientificname.subscribe(n=>{""!==n&&this.actRoute.data.subscribe(r=>{this.scientificname=n;const s=n.replace(" ","_"),o=this.actRoute.firstChild.snapshot.queryParams;this.links=[{name:"nav_species_home",route:this.getUrl([""]),data:o},{name:"nav_detailed_map",route:this.getUrl(["map",s]),data:o},{name:"Projection",route:this.getUrl(["projection","landuse",s]),data:o},{name:"Habitat Trends",route:this.getUrl(["habitat-trend",s]),data:o},{name:"Habitat Distribution",route:this.getUrl(["range",s]),data:o},{name:"Reserve Coverage",route:this.getUrl(["protect",s]),data:o}],this.actRoute.firstChild.snapshot.url[this.actRoute.firstChild.snapshot.url.length-1].path=s;const d=this.getUrl(this.actRoute.firstChild.snapshot.url.map(h=>h.path),!0);this.location.go(d)})}),this.state.updateScientificname(t)}getUrl(t,n=!1){return this.router.createUrlTree(t,{queryParams:n?this.actRoute.firstChild.snapshot.queryParams:null}).toString()}updateSpecies(t){this.state.updateScientificname(t.scientificname)}static#t=this.\u0275fac=function(n){return new(n||i)(U(zd),U(so),U(Kd),U(ws),U(vg),U(yc))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-navlinks"]],decls:8,vars:6,consts:[[1,"main"],["app","species"],[3,"hidden","showSearchLink","links"],["slot","search2",3,"nav","chosenSpecies"],["slot","search1",3,"nav","chosenSpecies"],[4,"ngIf"]],template:function(n,r){1&n&&(O(0,"div",0),te(1,"mol-header",1),O(2,"mol-nav",2)(3,"mol-search",3),fe("chosenSpecies",function(o){return r.updateSpecies(o)}),L(),O(4,"mol-search",4),fe("chosenSpecies",function(o){return r.updateSpecies(o)}),L()(),te(5,"router-outlet"),It(6,Ckt,1,0,"mol-scroll-to-top",5),L(),te(7,"mol-footer")),2&n&&(z(2),Y("hidden",r.embed)("showSearchLink",!0)("links",r.links),z(1),Y("nav",!0),z(1),Y("nav",!0),z(2),Y("ngIf",r.isMobile))},dependencies:[tw,on,Z9,q9,X9,$9,F3]})}return i})();const Mkt=function(){return["/niche","Grus japonensis"]},Skt=function(){return["/niche",""]},kkt=function(){return["/niche","Pan troglodytes"]},Dkt=function(){return["/niche","Rattus rattus"]};let Tkt=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-niche-landing-content"]],decls:43,vars:8,consts:[[1,"intro"],[1,"row","content"],["target","_blank","href","https://mol.org/stoat/about"],[3,"routerLink"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"h2"),tt(2,"Species Environmental Niches"),L(),O(3,"div",1)(4,"p"),tt(5," Species have different environmental preferences, and these preferences are called their environmental niche. "),L(),O(6,"p"),tt(7," We can estimate these environmental niches for each species by environmental annotation, intersecting occurrence data for the species with environmental layers. "),L(),O(8,"p"),tt(9," This is done using different spatial and temporal buffers, eg. a radius of 1000m around an occurrence record, and 7 days in the past. "),L(),O(10,"p"),tt(11," These annotations were computed using the "),O(12,"a",2),tt(13,"stoat"),L(),tt(14," platform. "),L(),O(15,"p"),tt(16,"Check out the following species:"),L(),O(17,"h4"),tt(18,"Birds:"),L(),O(19,"ul")(20,"li")(21,"a",3),tt(22,"Red-Crowned Crane - "),O(23,"i"),tt(24,"Grus japonensis"),L()()(),O(25,"li")(26,"a",3),tt(27,"Powerful owl - "),O(28,"i"),tt(29,"Ninox strenua"),L()()()(),O(30,"h4"),tt(31,"Mammals:"),L(),O(32,"ul")(33,"li")(34,"a",3),tt(35,"Chimpanzee - "),O(36,"i"),tt(37,"Pan troglodytes"),L()()(),O(38,"li")(39,"a",3),tt(40,"Black Rat - "),O(41,"i"),tt(42,"Rattus rattus"),L()()()()()()),2&n&&(z(21),Y("routerLink",Id(4,Mkt)),z(5),Y("routerLink",Id(5,Skt)),z(8),Y("routerLink",Id(6,kkt)),z(5),Y("routerLink",Id(7,Dkt)))},dependencies:[gb],styles:[".intro[_ngcontent-%COMP%]{padding:0 20px;font-size:16px}"]})}return i})(),Ikt=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-niche-landing"]],decls:2,vars:0,consts:[[1,"splash"]],template:function(n,r){1&n&&(O(0,"div",0),te(1,"mol-niche-landing-content"),L())},dependencies:[Tkt]})}return i})();var zg=Et(165),Vg=Et(529),RJ=Et(511);function Okt(i,e){C3.expire()}const Rkt=class Akt extends RJ.Z{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){(0,gi.O3)()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;sh(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),e3(r,n)}forEachFeatureAtCoordinate(e,t,n,r,s,o,l,d){let h;const m=t.viewState;function b(Q,Tt,Rt,Ct){return s.call(o,Tt,Q?Rt:null,Ct)}const v=m.projection,E=R7(e.slice(),v),D=[[0,0]];if(v.canWrapX()&&r){const Q=v.getExtent(),Tt=(0,me.dz)(Q);D.push([-Tt,0],[Tt,0])}const T=t.layerStatesArray,P=T.length,F=[],H=[];for(let Q=0;Q<D.length;Q++)for(let Tt=P-1;Tt>=0;--Tt){const Rt=T[Tt],Ct=Rt.layer;if(Ct.hasRenderer()&&p9(Rt,m)&&l.call(d,Ct)){const Bt=Ct.getRenderer(),Vt=Ct.getSource();if(Bt&&Vt){const he=Vt.getWrapX()?E:e,re=b.bind(null,Rt.managed);H[0]=he[0]+D[Q][0],H[1]=he[1]+D[Q][1],h=Bt.forEachFeatureAtCoordinate(H,t,n,re,F)}if(h)return h}}if(0===F.length)return;const j=1/F.length;return F.forEach((Q,Tt)=>Q.distanceSq+=Tt*j),F.sort((Q,Tt)=>Q.distanceSq-Tt.distanceSq),F.some(Q=>h=Q.callback(Q.feature,Q.layer,Q.geometry)),h}hasFeatureAtCoordinate(e,t,n,r,s,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,ja.uX,this,s,o)}getMap(){return this.map_}renderFrame(e){(0,gi.O3)()}flushDeclutterItems(e){}scheduleExpireIconCache(e){C3.canExpireCache()&&e.postRenderFunctions.push(Okt)}};var B3=Et(196);const Lkt=class Pkt extends Rkt{constructor(e){super(e),this.fontChangeListenerKey_=(0,mn.oL)(Jf,B3.Z.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=pw+" ol-layers";const n=e.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const r=new rQ(e,void 0,t);n.dispatchEvent(r)}}disposeInternal(){(0,mn.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const t=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),n=e.viewState;this.children_.length=0;const r=this.declutterLayers_;r.length=0;let s=null;for(let o=0,l=t.length;o<l;++o){const d=t[o];e.layerIndex=o;const h=d.layer,m=h.getSourceState();if(!p9(d,n)||"ready"!=m&&"undefined"!=m){h.unrender();continue}const b=h.render(e,s);b&&(b!==s&&(this.children_.push(b),s=b),"getDeclutter"in h&&r.push(h))}this.flushDeclutterItems(e),(0,yr.hF)(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}flushDeclutterItems(e){const t=this.declutterLayers_;for(let n=t.length-1;n>=0;--n)t[n].renderDeclutter(e);t.length=0}},Sw=class Fkt extends uw.ZP{constructor(e,t,n){super(e),this.map=t,this.frameState=void 0!==n?n:null}},nm=class Nkt extends Sw{constructor(e,t,n,r,s,o){super(e,t,s),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Pr={SINGLECLICK:"singleclick",CLICK:Dn.Z.CLICK,DBLCLICK:Dn.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},zkt=class Bkt extends g9.Z{constructor(e,t){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=(0,mn.oL)(n,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=(0,mn.oL)(n,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Dn.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!nd.bM&&{passive:!1})}emulateClick_(e){let t=new nm(Pr.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new nm(Pr.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const n=new nm(Pr.SINGLECLICK,this.map_,e);this.dispatchEvent(n)},250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==Pr.POINTERUP||t.type==Pr.POINTERCANCEL){delete this.trackedTouches_[n];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==Pr.POINTERDOWN||t.type==Pr.POINTERMOVE)&&(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new nm(Pr.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(mn.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new nm(Pr.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const n=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,mn.oL)(n,Pr.POINTERMOVE,this.handlePointerMove_,this),(0,mn.oL)(n,Pr.POINTERUP,this.handlePointerUp_,this),(0,mn.oL)(this.element_,Pr.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push((0,mn.oL)(this.element_.getRootNode(),Pr.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new nm(Pr.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new nm(Pr.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,mn.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Dn.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,mn.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(mn.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}};var Hg=Et(645);const z3=1/0,Hkt=class Vkt{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,Tg.Z)(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(e){(0,vr.h)(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=z3&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,r=t.length,s=t[e],o=n[e],l=e;for(;e<r>>1;){const d=this.getLeftChildIndex_(e),h=this.getRightChildIndex_(e),m=h<r&&n[h]<n[d]?h:d;t[e]=t[m],n[e]=n[m],e=m}t[e]=s,n[e]=o,this.siftDown_(l,e)}siftDown_(e,t){const n=this.elements_,r=this.priorities_,s=n[t],o=r[t];for(;t>e;){const l=this.getParentIndex_(t);if(!(r[l]>o))break;n[t]=n[l],r[t]=r[l],t=l}n[t]=s,r[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let r=0;const s=t.length;let o,l,d;for(l=0;l<s;++l)o=t[l],d=e(o),d==z3?delete this.queuedElements_[this.keyFunction_(o)]:(n[r]=d,t[r++]=o);t.length=r,n.length=r,this.heapify_()}},Gkt=class Ukt extends Hkt{constructor(e,t){super(function(n){return e.apply(null,n)},function(n){return n[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Dn.Z.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(2===n||3===n||4===n){3!==n&&t.removeEventListener(Dn.Z.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let r,s,o,n=0;for(;this.tilesLoading_<e&&n<t&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),r=s.getState(),0===r&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++n,s.load())}};var nk=Et(692);const Q9=class Wkt extends nk.default{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:t+"-expand",s=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=void 0!==e.label?e.label:"i";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=r):this.label_=l;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(Dn.Z.CLICK,this.handleClick_.bind(this),!1);const m=this.element;m.className=t+" "+pw+" "+y3+(this.collapsed_&&this.collapsible_?" "+EQ:"")+(this.collapsible_?"":" ol-uncollapsible"),m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(e)))),n=!this.getMap().getAllLayers().some(r=>r.getSource()&&!1===r.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(n),t}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,zr.fS)(t,this.renderedAttributions_)){(0,yr.ep)(this.ulElement_);for(let r=0,s=t.length;r<s;++r){const o=document.createElement("li");o.innerHTML=t[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(EQ),this.collapsed_?(0,yr.$H)(this.collapseLabel_,this.label_):(0,yr.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},Ykt=class $kt extends nk.default{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"\u21e7",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(Dn.Z.CLICK,this.handleClick_.bind(this),!1);const d=this.element;d.className=t+" "+pw+" "+y3,d.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(v3)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const n=t.getRotation();void 0!==n&&(this.duration_>0&&n%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:dw}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const r="rotate("+n+"rad)";if(this.autoHide_){const s=this.element.classList.contains(v3);s||0!==n?s&&0!==n&&this.element.classList.remove(v3):this.element.classList.add(v3)}this.label_.style.transform=r}this.rotation_=n}},qkt=class Zkt extends nk.default{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",s=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",l=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",d=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",h=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=d,m.appendChild("string"==typeof o?document.createTextNode(o):o),m.addEventListener(Dn.Z.CLICK,this.handleClick_.bind(this,n),!1);const b=document.createElement("button");b.className=s,b.setAttribute("type","button"),b.title=h,b.appendChild("string"==typeof l?document.createTextNode(l):l),b.addEventListener(Dn.Z.CLICK,this.handleClick_.bind(this,-n),!1);const E=this.element;E.className=t+" "+pw+" "+y3,E.appendChild(m),E.appendChild(b),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const n=this.getMap().getView();if(!n)return;const r=n.getZoom();if(void 0!==r){const s=n.getConstrainedZoom(r+e);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:s,duration:this.duration_,easing:dw})):n.setZoom(s)}}};function J9(i){i=i||{};const e=new zg.Z;return(void 0===i.zoom||i.zoom)&&e.push(new qkt(i.zoomOptions)),(void 0===i.rotate||i.rotate)&&e.push(new Ykt(i.rotateOptions)),(void 0===i.attribution||i.attribution)&&e.push(new Q9(i.attributionOptions)),e}function eH(i,e,t,n){const r=i.getZoom();if(void 0===r)return;const s=i.getConstrainedZoom(r+e),o=i.getResolutionForZoom(s);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:o,anchor:t,duration:void 0!==n?n:250,easing:dw})}const rk=class Xkt extends Cg.Z{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},Jkt=class Qkt extends rk{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==Pr.DBLCLICK){const n=e.originalEvent,s=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_;eH(e.map.getView(),o,s,this.duration_),n.preventDefault(),t=!0}return!t}};function iH(i){const e=i.length;let t=0,n=0;for(let r=0;r<e;r++)t+=i[r].clientX,n+=i[r].clientY;return{clientX:t/e,clientY:n/e}}const kw=class tDt extends rk{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Pr.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Pr.POINTERUP){const n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==Pr.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==Pr.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function nH(i){const e=arguments;return function(t){let n=!0;for(let r=0,s=e.length;r<s&&(n=n&&e[r](t),n);++r);return n}}const eDt=function(i){const e=i.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},PJ=function(i){return!i.map.getTargetElement().hasAttribute("tabindex")||function(i){const e=i.map.getTargetElement(),t=i.map.getOwnerDocument().activeElement;return e.contains(t)}(i)},rH=ja.uX,LJ=function(i){const e=i.originalEvent;return 0==e.button&&!(nd.G$&&nd.tK&&e.ctrlKey)},nDt=ja.Dv,sH=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},FJ=function(i){const e=i.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},NJ=function(i){const e=i.originalEvent,t=e.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t&&!e.target.isContentEditable},oH=function(i){const e=i.originalEvent;return(0,vr.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},sDt=function(i){const e=i.originalEvent;return(0,vr.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button},aDt=class oDt extends kw{constructor(e){super({stopDown:ja.Dv}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const t=e.condition?e.condition:nH(sH,sDt);this.condition_=e.onFocusOnly?nH(PJ,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,r=t.getEventPixel(iH(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],l=e.map.getView();(function Awt(i,e){i[0]*=e,i[1]*=e})(s,l.getResolution()),A7(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=n.getCenterInternal(),l=t.getPixelFromCoordinateInternal(o),d=t.getCoordinateFromPixelInternal([l[0]-r*Math.cos(s),l[1]-r*Math.sin(s)]);n.animateInternal({center:n.getConstrainedCenter(d),duration:500,easing:dw})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const n=e.map.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},cDt=class lDt extends kw{constructor(e){e=e||{},super({stopDown:ja.Dv}),this.condition_=e.condition?e.condition:eDt,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!oH(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===u9)return;const r=t.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}handleUpEvent(e){return!oH(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(oH(e)&&LJ(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},uDt=class dDt extends RJ.Z{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+n,r.top=Math.min(e[1],t[1])+n,r.width=Math.abs(t[0]-e[0])+n,r.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Sb([r])}getGeometry(){return this.geometry_}};class aH extends uw.ZP{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}const fDt=class hDt extends kw{constructor(e){super(),this.box_=new uDt((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:LJ,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const r=n[0]-t[0],s=n[1]-t[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new aH("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new aH(t?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new aH("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},pDt=class mDt extends fDt{constructor(e){super({condition:(e=e||{}).condition?e.condition:FJ,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const n=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=n.rotatedExtentForGeometry(r),o=n.getResolutionForExtentInternal(s),l=n.getResolution()/o;r=r.clone(),r.scale(l*l)}n.fitInternal(r,{duration:this.duration_,easing:dw})}},_Dt=class gDt extends rk{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return sH(t)&&NJ(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Dn.Z.KEYDOWN){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&("ArrowDown"==r||"ArrowLeft"==r||"ArrowRight"==r||"ArrowUp"==r)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let d=0,h=0;"ArrowDown"==r?h=-l:"ArrowLeft"==r?d=-l:"ArrowRight"==r?d=l:h=l;const m=[d,h];A7(m,o.getRotation()),function Kkt(i,e,t){const n=i.getCenterInternal();n&&i.animateInternal({duration:void 0!==t?t:250,easing:I1t,center:i.getConstrainedCenter([n[0]+e[0],n[1]+e[1]])})}(o,m,this.duration_),n.preventDefault(),t=!0}}return!t}},vDt=class bDt extends rk{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:function(t){return!function(i){const e=i.originalEvent;return nd.tK?e.metaKey:e.ctrlKey}(t)&&NJ(t)},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==Dn.Z.KEYDOWN||e.type==Dn.Z.KEYPRESS){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&("+"===r||"-"===r)){const o="+"===r?this.delta_:-this.delta_;eH(e.map.getView(),o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}},CDt=class wDt extends rk{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:rH;this.condition_=e.onFocusOnly?nH(PJ,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Dn.Z.WHEEL)return!0;const n=e.map,r=e.originalEvent;let s;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==Dn.Z.WHEEL&&(s=r.deltaY,nd.V&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=nd.MP),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=n.getView();if("trackpad"===this.mode_&&!l.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const d=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),d),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-(0,Fi.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),eH(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},MDt=class EDt extends kw{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=ja.Dv),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){const d=s-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=d}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==u9&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(iH(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},lH=class SDt extends kw{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=ja.Dv),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],r=this.targetPointers[1],s=n.clientX-r.clientX,o=n.clientY-r.clientY,l=Math.sqrt(s*s+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/l),this.lastDistance_=l;const d=e.map,h=d.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(iH(this.targetPointers))),d.render(),h.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};function cH(i){i=i||{};const e=new zg.Z,t=new class yDt{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;const s=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===i.altShiftDragRotate||i.altShiftDragRotate)&&e.push(new cDt),(void 0===i.doubleClickZoom||i.doubleClickZoom)&&e.push(new Jkt({delta:i.zoomDelta,duration:i.zoomDuration})),(void 0===i.dragPan||i.dragPan)&&e.push(new aDt({onFocusOnly:i.onFocusOnly,kinetic:t})),(void 0===i.pinchRotate||i.pinchRotate)&&e.push(new MDt),(void 0===i.pinchZoom||i.pinchZoom)&&e.push(new lH({duration:i.zoomDuration})),(void 0===i.keyboard||i.keyboard)&&(e.push(new _Dt),e.push(new vDt({delta:i.zoomDelta,duration:i.zoomDuration}))),(void 0===i.mouseWheelZoom||i.mouseWheelZoom)&&e.push(new CDt({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),(void 0===i.shiftDragZoom||i.shiftDragZoom)&&e.push(new pDt({duration:i.zoomDuration})),e}function BJ(i){i instanceof g3?i.setMapInternal(null):i instanceof jd.default&&i.getLayers().forEach(BJ)}function zJ(i,e){if(i instanceof g3)i.setMapInternal(e);else if(i instanceof jd.default){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n)zJ(t[n],e)}}const VJ=class kDt extends Cg.Z{constructor(e){super();const t=function DDt(i){let e=null;void 0!==i.keyboardEventTarget&&(e="string"==typeof i.keyboardEventTarget?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);const t={},n=i.layers&&"function"==typeof i.layers.getLayers?i.layers:new jd.default({layers:i.layers});let r,s,o;return t.layergroup=n,t.target=i.target,t.view=i.view instanceof $d?i.view:new $d,void 0!==i.controls&&(Array.isArray(i.controls)?r=new zg.Z(i.controls.slice()):((0,vr.h)("function"==typeof i.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),r=i.controls)),void 0!==i.interactions&&(Array.isArray(i.interactions)?s=new zg.Z(i.interactions.slice()):((0,vr.h)("function"==typeof i.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),s=i.interactions)),void 0!==i.overlays?Array.isArray(i.overlays)?o=new zg.Z(i.overlays.slice()):((0,vr.h)("function"==typeof i.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),o=i.overlays):o=new zg.Z,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:nd.MP,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||J9(),this.interactions=t.interactions||cH({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Gkt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(t.values);const n=this;e.view&&!(e.view instanceof $d)&&e.view.then(function(r){n.setView(new $d(r))}),this.controls.addEventListener(Vg.Z.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Vg.Z.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Vg.Z.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Vg.Z.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Vg.Z.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Vg.Z.REMOVE,r=>{const s=r.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){zJ(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,t,null,void 0!==n.layerFilter?n.layerFilter:ja.uX,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,function(r){n.push(r)},t),n}getAllLayers(){const e=[];return function t(n){n.forEach(function(r){r instanceof jd.default?t(r.getLayers()):e.push(r)})}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(t=void 0!==t?t:{}).hitTolerance?t.hitTolerance:0,!1!==t.checkWrapped,void 0!==t.layerFilter?t.layerFilter:ja.uX,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const n=this.viewport_.getBoundingClientRect(),r=this.getSize(),l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-n.left)/(n.width/r[0]),(l.clientY-n.top)/(n.height/r[1])]}getTarget(){return this.get("target")}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return H7(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?So(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(e){const t=this.getLayerGroup();if(e instanceof zg.Z)return void t.setLayers(e);const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const r=e[t];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Gd(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?So(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,r){return function jkt(i,e,t,n,r){if(!i||!(t in i.wantedTiles)||!i.wantedTiles[t][e.getKey()])return z3;const s=i.viewState.center,o=n[0]-s[0],l=n[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+l*l)/r}(this.frameState_,e,t,n,r)}handleBrowserEvent(e,t){const n=new nm(t=t||e.type,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if("pointerdown"===n||n===Dn.Z.WHEEL||n===Dn.Z.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()===this&&o.getActive()&&this.getTargetElement()&&(!o.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[0]||o[1]){const l=Date.now()-e.time>8;r=l?0:8,s=l?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Sw(Hg.Z.LOADEND,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Sw(Hg.Z.LOADSTART,this,e))));const n=this.postRenderFunctions_;for(let r=0,s=n.length;r<s;++r)n[r](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,r=this.targetChangeHandlerKeys_.length;n<r;++n)(0,mn.bN)(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Dn.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Dn.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,yr.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Lkt(this)),this.mapBrowserEventHandler_=new zkt(this,this.moveTolerance_);for(const s in Pr)this.mapBrowserEventHandler_.addEventListener(Pr[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Dn.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Dn.Z.WHEEL,this.boundHandleBrowserEvent_,!!nd.bM&&{passive:!1});const n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[(0,mn.oL)(n,Dn.Z.KEYDOWN,this.handleBrowserEvent,this),(0,mn.oL)(n,Dn.Z.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,mn.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,mn.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,mn.oL)(e,B3.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,mn.oL)(e,Dn.Z.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(mn.bN),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new jd.GroupEvent("addlayer",e)),this.layerGroupPropertyListenerKeys_=[(0,mn.oL)(e,B3.Z.PROPERTYCHANGE,this.render,this),(0,mn.oL)(e,Dn.Z.CHANGE,this.render,this),(0,mn.oL)(e,"addlayer",this.handleLayerAdd_,this),(0,mn.oL)(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){BJ(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),r=this.frameState_;let s=null;if(void 0!==t&&vQ(t)&&n&&n.isDef()){const o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=n.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,me.p8)(l.center,l.resolution,l.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:(0,gi.sq)(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const d=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=(0,me.p8)(l.nextCenter,l.nextResolution,d,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!(0,me.xb)(this.previousExtent_)&&!(0,me.fS)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Sw(Hg.Z.MOVESTART,this,r)),this.previousExtent_=(0,me.YN)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!(0,me.fS)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Sw(Hg.Z.MOVEEND,this,s)),(0,me.d9)(s.extent,this.previousExtent_))),this.dispatchEvent(new Sw(Hg.Z.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Hg.Z.LOADSTART)||this.hasListener(Hg.Z.LOADEND)||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new jd.GroupEvent("removelayer",t)),this.set("layergroup",e)}setSize(e){this.set("size",e)}setTarget(e){this.set("target",e)}setView(e){if(!e||e instanceof $d)return void this.set("view",e);this.set("view",new $d);const t=this;e.then(function(n){t.setView(new $d(n))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[s,o],!vQ(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&SK("No map visible because the map container's width or height are 0."))}const n=this.getSize();t&&(!n||!(0,zr.fS)(t,n))&&(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const n=getComputedStyle(this.viewport_);n.width&&n.height&&(t=[parseInt(n.width,10),parseInt(n.height,10)]),e.setViewportSize(t)}}},HJ=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];function GJ(i){const e=i.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&i.fullscreenEnabled)}function jJ(i){return!(!i.webkitIsFullScreen&&!i.fullscreenElement)}function WJ(i){i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}const $J=class TDt extends nk.default{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const t=void 0!==e.label?e.label:"\u2922";this.labelNode_="string"==typeof t?document.createTextNode(t):t;const n=void 0!==e.labelActive?e.labelActive:"\xd7";this.labelActiveNode_="string"==typeof n?document.createTextNode(n):n;const r=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=r,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(Dn.Z.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${pw} ${y3}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const t=e.getOwnerDocument();if(GJ(t))if(jJ(t))!function ADt(i){i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()}(t);else{let n;n=this.source_?"string"==typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function IDt(i){i.webkitRequestFullscreen?i.webkitRequestFullscreen():WJ(i)}(n):WJ(n)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const t=this.isInFullscreen_;this.isInFullscreen_=jJ(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?((0,yr.$H)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):((0,yr.$H)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const t=this.getMap();t&&t.removeChangeListener("target",this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener("target",this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let n=0,r=e.length;n<r;++n)(0,mn.bN)(e[n]);e.length=0;const t=this.getMap();if(t){const n=t.getOwnerDocument();GJ(n)?this.element.classList.remove(CQ):this.element.classList.add(CQ);for(let r=0,s=HJ.length;r<s;++r)e.push((0,mn.oL)(n,HJ[r],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}},dH="units",ODt=[1,2,5],sk=25.4/.28,YJ=class RDt extends nk.default{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target});const n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=n+"-inner",this.element.className=n+" "+pw,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(dH,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(dH)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(dH,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=e.center,n=e.projection,r=this.getUnits();let o=QL(n,e.resolution,t,"degrees"==r?"degrees":"m");const l=this.minWidth_*(this.dpi_||sk)/sk,d=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||sk)/sk:void 0;let h=l*o,m="";if("degrees"==r){const j=wg.degrees;h*=j,h<j/60?(m="\u2033",o*=3600):h<j?(m="\u2032",o*=60):m="\xb0"}else if("imperial"==r)h<.9144?(m="in",o/=.0254):h<1609.344?(m="ft",o/=.3048):(m="mi",o/=1609.344);else if("nautical"==r)o/=1852,m="NM";else if("metric"==r)h<.001?(m="\u03bcm",o*=1e6):h<1?(m="mm",o*=1e3):h<1e3?m="m":(m="km",o/=1e3);else{if("us"!=r)throw new Error("Invalid units");h<.9144?(m="in",o*=39.37):h<1609.344?(m="ft",o/=.30480061):(m="mi",o/=1609.3472)}let v,E,D,T,P,F,b=3*Math.floor(Math.log(l*o)/Math.log(10));for(;;){D=Math.floor(b/3);const j=Math.pow(10,D);if(v=ODt[(b%3+3)%3]*j,E=Math.round(v/o),isNaN(E))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==d&&E>=d){v=T,E=P,D=F;break}if(E>=l)break;T=v,P=E,F=D,++b}const H=this.scaleBar_?this.createScaleBar(E,v,m):v.toFixed(D<0?-D:0)+" "+m;this.renderedHTML_!=H&&(this.innerElement_.innerHTML=H,this.renderedHTML_=H),this.renderedWidth_!=E&&(this.innerElement_.style.width=E+"px",this.renderedWidth_=E),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,n){const r=this.getScaleForResolution(),s=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),o=this.scaleBarSteps_,l=e/o,d=[this.createMarker("absolute")];for(let m=0;m<o;++m)d.push(`<div><div class="ol-scale-singlebar ${m%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even"}" style="width: ${l}px;"></div>`+this.createMarker("relative")+(m%2==0||2===o?this.createStepText(m,e,!1,t,n):"")+"</div>");return d.push(this.createStepText(o,e,!0,t,n)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+d.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,n,r,s){const l=(0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+s);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:t/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:t/this.scaleBarSteps_*2}px;left: ${n?t+"px":"unset"};">`+l+"</div>"}getScaleForResolution(){return QL(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||sk)}render(e){const t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}},ZJ=class PDt{constructor(e){this.rbush_=new xQ(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[(0,gi.sq)(t)]=n}load(e,t){const n=new Array(t.length);for(let r=0,s=t.length;r<s;r++){const o=e[r],l=t[r],d={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};n[r]=d,this.items_[(0,gi.sq)(l)]=d}this.rbush_.load(n)}remove(e){const t=(0,gi.sq)(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}update(e,t){const n=this.items_[(0,gi.sq)(t)];(0,me.fS)([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){return this.rbush_.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let r=0,s=e.length;r<s;r++)if(n=t(e[r]),n)return n;return n}isEmpty(){return(0,Tg.x)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return(0,me.T9)(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}};function LDt(i,e){return[[-1/0,-1/0,1/0,1/0]]}class Ug extends uw.ZP{constructor(e,t,n){super(e),this.feature=t,this.features=n}}const ok=class FDt extends lJ{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=ja.Zn,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&((0,vr.h)(this.format_,"`format` must be set when `url` is set"),this.loader_=xJ(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:LDt;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let n,r;this.featuresRtree_=t?new ZJ:null,this.loadedExtentsRtree_=new ZJ,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(n=e.features,r=n.getArray()),!t&&void 0===n&&(n=new zg.Z(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=(0,gi.sq)(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Ug("addfeature",e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[(0,mn.oL)(t,Dn.Z.CHANGE,this.handleFeatureChange_,this),(0,mn.oL)(t,B3.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let n=!0;const r=t.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=t),n&&((0,vr.h)(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],r=[];for(let s=0,o=e.length;s<o;s++){const l=e[s],d=(0,gi.sq)(l);this.addToIndex_(d,l)&&n.push(l)}for(let s=0,o=n.length;s<o;s++){const l=n[s],d=(0,gi.sq)(l);this.setupChangeEvents_(d,l);const h=l.getGeometry();if(h){const m=h.getExtent();t.push(m),r.push(l)}else this.nullGeometryFeatures_[d]=l}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener("addfeature"))for(let s=0,o=n.length;s<o;s++)this.dispatchEvent(new Ug("addfeature",n[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener("addfeature",function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener("removefeature",function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(Vg.Z.ADD,n=>{t||(t=!0,this.addFeature(n.element),t=!1)}),e.addEventListener(Vg.Z.REMOVE,n=>{t||(t=!0,this.removeFeature(n.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(mn.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(r=>{this.removeFeatureInternal(r)});for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Ug("clear");this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(r){if(r.getGeometry().intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(n){if(n.getGeometry().intersectsExtent(e)){const s=t(n);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,Tg.x)(this.nullGeometryFeatures_)||(0,zr.l7)(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){t.push(n)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=(0,me.MV)(e,t);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],r=e[1];let s=null;const o=[NaN,NaN];let l=1/0;const d=[-1/0,-1/0,1/0,1/0];return t=t||ja.uX,this.featuresRtree_.forEachInExtent(d,function(h){if(t(h)){const m=h.getGeometry(),b=l;if(l=m.closestPointXY(n,r,o,l),l<b){s=h;const v=Math.sqrt(l);d[0]=n-v,d[1]=r-v,d[2]=n+v,d[3]=r+v}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=(0,gi.sq)(t),r=t.getGeometry();if(r){const o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);const s=t.getId();if(void 0!==s){const o=s.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Ug("changefeature",t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:(0,gi.sq)(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,Tg.x)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,n){const r=this.loadedExtentsRtree_,s=this.strategy_(e,t,n);for(let o=0,l=s.length;o<l;++o){const d=s[o];r.forEachInExtent(d,function(m){return(0,me.r4)(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Ug("featuresloadstart")),this.loader_.call(this,d,t,n,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ug("featuresloadend",void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ug("featuresloaderror"))}),r.insert(d,{extent:d.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let n;t.forEachInExtent(e,function(r){if((0,me.fS)(r.extent,e))return n=r,!0}),n&&t.remove(n)}removeFeature(e){if(!e)return;const t=(0,gi.sq)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=(0,gi.sq)(e),n=this.featureChangeKeys_[t];if(!n)return;n.forEach(mn.bN),delete this.featureChangeKeys_[t];const r=e.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[t],this.dispatchEvent(new Ug("removefeature",e)),e}removeFromIdIndex_(e){let t=!1;for(const n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){(0,vr.h)(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(xJ(e,this.format_))}},BDt=class NDt extends hQ{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,me.lJ)(),this.wrappedRenderedExtent_=(0,me.lJ)(),this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,n){const r=t.extent,s=t.viewState,o=s.center,l=s.resolution,d=s.projection,h=s.rotation,m=d.getExtent(),b=this.getLayer().getSource(),v=t.pixelRatio,E=t.viewHints,D=!(E[0]||E[1]),T=this.compositionContext_,P=Math.round(t.size[0]*v),F=Math.round(t.size[1]*v),H=b.getWrapX()&&d.canWrapX(),j=H?(0,me.dz)(m):null,Q=H?Math.ceil((r[2]-m[2])/j)+1:1;let Tt=H?Math.floor((r[0]-m[0])/j):0;do{const Rt=this.getRenderTransform(o,l,h,v,P,F,Tt*j);e.execute(T,1,Rt,h,D,void 0,n)}while(++Tt<Q)}setupCompositionContext_(){if(1!==this.opacity_){const e=(0,yr.E4)(this.context.canvas.width,this.context.canvas.height,uQ);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,(0,yr.jy)(this.compositionContext_),uQ.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const n=e.pixelRatio,r=e.layerStatesArray[e.layerIndex];(function Wwt(i,e,t){H2(i,e,0,0,t,0,0)})(this.pixelTransform,1/n,1/n),e3(this.inversePixelTransform,this.pixelTransform);const s=$7(this.pixelTransform);this.useContainer(t,s,this.getBackground(e));const o=this.context,l=o.canvas,d=this.replayGroup_,h=this.declutterExecutorGroup;let m=d&&!d.isEmpty()||h&&!h.isEmpty();if(!m&&!this.getLayer().hasListener("prerender")&&!this.getLayer().hasListener("postrender"))return null;const b=Math.round(e.size[0]*n),v=Math.round(e.size[1]*n);l.width!=b||l.height!=v?(l.width=b,l.height=v,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||o.clearRect(0,0,b,v),this.preRender(o,e);const E=e.viewState;this.opacity_=r.opacity,this.setupCompositionContext_();let T=!1;if(m&&r.extent&&this.clipping){const P=wb(r.extent);m=(0,me.kK)(P,e.extent),T=m&&!(0,me.r4)(P,e.extent),T&&this.clipUnrotated(this.compositionContext_,e,P)}return m&&this.renderWorlds(d,e),T&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==E.rotation&&(this.renderedRotation_=E.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const n=[this.context.canvas.width,this.context.canvas.height];So(this.pixelTransform,n);const r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,l=this.renderedProjection_,d=this.wrappedRenderedExtent_,h=this.getLayer(),m=[],b=n[0]*wc,v=n[1]*wc;m.push(this.getRenderTransform(r,s,o,wc,b,v,0).slice());const E=h.getSource(),D=l.getExtent();if(E.getWrapX()&&l.canWrapX()&&!(0,me.r4)(D,d)){let T=d[0];const P=(0,me.dz)(D);let H,F=0;for(;T<D[0];)--F,H=P*F,m.push(this.getRenderTransform(r,s,o,wc,b,v,H).slice()),T+=P;for(F=0,T=d[2];T>D[2];)++F,H=P*F,m.push(this.getRenderTransform(r,s,o,wc,b,v,H).slice()),T-=P}this.hitDetectionImageData_=QQ(n,m,this.renderedFeatures_,h.getStyleFunction(),d,s,o)}t(JQ(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,n,r,s){if(!this.replayGroup_)return;const o=t.viewState.resolution,l=t.viewState.rotation,d=this.getLayer(),h={},m=function(E,D,T){const P=(0,gi.sq)(E),F=h[P];if(F){if(!0!==F&&T<F.distanceSq){if(0===T)return h[P]=!0,s.splice(s.lastIndexOf(F),1),r(E,d,D);F.geometry=D,F.distanceSq=T}}else{if(0===T)return h[P]=!0,r(E,d,D);s.push(h[P]={feature:E,layer:d,geometry:D,distanceSq:T,callback:r})}};let b;const v=[this.replayGroup_];return this.declutterExecutorGroup&&v.push(this.declutterExecutorGroup),v.some(E=>b=E.forEachFeatureAtCoordinate(e,o,l,n,m,E===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(D=>D.value):null)),b}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const r=e.viewHints[0],s=e.viewHints[1],o=t.getUpdateWhileAnimating(),l=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=e.extent,h=e.viewState,m=h.projection,b=h.resolution,v=e.pixelRatio,E=t.getRevision(),D=t.getRenderBuffer();let T=t.getRenderOrder();void 0===T&&(T=yEt);const P=h.center.slice(),F=(0,me.f3)(d,D*b),H=F.slice(),j=[F.slice()],Q=m.getExtent();if(n.getWrapX()&&m.canWrapX()&&!(0,me.r4)(Q,e.extent)){const Ht=(0,me.dz)(Q),Kt=Math.max((0,me.dz)(F)/2,Ht);F[0]=Q[0]-Kt,F[2]=Q[2]+Kt,R7(P,m);const oe=(0,me.Cf)(j[0],m);oe[0]<Q[0]&&oe[2]<Q[2]?j.push([oe[0]+Ht,oe[1],oe[2]+Ht,oe[3]]):oe[0]>Q[0]&&oe[2]>Q[2]&&j.push([oe[0]-Ht,oe[1],oe[2]-Ht,oe[3]])}if(this.ready&&this.renderedResolution_==b&&this.renderedRevision_==E&&this.renderedRenderOrder_==T&&(0,me.r4)(this.wrappedRenderedExtent_,F))return(0,zr.fS)(this.renderedExtent_,H)||(this.hitDetectionImageData_=null,this.renderedExtent_=H),this.renderedCenter_=P,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const Tt=new I3(V9(b,v),F,b,v);let Rt;this.getLayer().getDeclutter()&&(Rt=new I3(V9(b,v),F,b,v));const Ct=V7();let Bt;if(Ct){for(let Ht=0,Kt=j.length;Ht<Kt;++Ht){const we=U7(j[Ht]);n.loadFeatures(we,Hwt(b),Ct)}Bt=z2(Ct,m)}else for(let Ht=0,Kt=j.length;Ht<Kt;++Ht)n.loadFeatures(j[Ht],b,m);const Vt=eJ(b,v);let he=!0;const re=Ht=>{let Kt;const oe=Ht.getStyleFunction()||t.getStyleFunction();if(oe&&(Kt=oe(Ht,b)),Kt){const we=this.renderFeature(Ht,Vt,Kt,Tt,Bt,Rt);he=he&&!we}},kt=U7(F),ie=n.getFeaturesInExtent(kt);T&&ie.sort(T);for(let Ht=0,Kt=ie.length;Ht<Kt;++Ht)re(ie[Ht]);this.renderedFeatures_=ie,this.ready=he;const de=Tt.finish(),pe=new A3(F,b,v,n.getOverlaps(),de,t.getRenderBuffer());return Rt&&(this.declutterExecutorGroup=new A3(F,b,v,n.getOverlaps(),Rt.finish(),t.getRenderBuffer())),this.renderedResolution_=b,this.renderedRevision_=E,this.renderedRenderOrder_=T,this.renderedExtent_=H,this.wrappedRenderedExtent_=F,this.renderedCenter_=P,this.renderedProjection_=m,this.replayGroup_=pe,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,r,s,o){if(!n)return!1;let l=!1;if(Array.isArray(n))for(let d=0,h=n.length;d<h;++d)l=O3(r,e,n[d],t,this.boundHandleStyleImageChange_,s,o)||l;else l=O3(r,e,n,t,this.boundHandleStyleImageChange_,s,o);return l}},H3=class zDt extends $Q{constructor(e){super(e)}createRenderer(){return new BDt(this)}};class uH extends Cg.Z{constructor(e){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}clone(){const e=new uH(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,mn.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=(0,mn.oL)(e,Dn.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function VDt(i){if("function"==typeof i)return i;let e;return Array.isArray(i)?e=i:((0,vr.h)("function"==typeof i.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[i]),function(){return e}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const Ec=uH,UDt=class HDt extends Cg.Z{constructor(e){super(),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener("element",this.handleElementChanged),this.addChangeListener("map",this.handleMapChanged),this.addChangeListener("offset",this.handleOffsetChanged),this.addChangeListener("position",this.handlePositionChanged),this.addChangeListener("positioning",this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get("element")}getId(){return this.id}getMap(){return this.get("map")||null}getOffset(){return this.get("offset")}getPosition(){return this.get("position")}getPositioning(){return this.get("positioning")}handleElementChanged(){(0,yr.ep)(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,yr.ZF)(this.element),(0,mn.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,mn.oL)(e,Hg.Z.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set("element",e)}setMap(e){this.set("map",e)}setOffset(e){this.set("offset",e)}setPosition(e){this.set("position",e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get("position"))return;const n=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),s=this.getRect(r,[(0,yr.iO)(r),(0,yr.Pb)(r)]),o=void 0===(e=e||{}).margin?20:e.margin;if(!(0,me.r4)(n,s)){const l=s[0]-n[0],d=n[2]-s[2],h=s[1]-n[1],m=n[3]-s[3],b=[0,0];if(l<0?b[0]=l-o:d<0&&(b[0]=Math.abs(d)+o),h<0?b[1]=h-o:m<0&&(b[1]=Math.abs(m)+o),0!==b[0]||0!==b[1]){const v=t.getView().getCenterInternal(),E=t.getPixelFromCoordinateInternal(v);if(!E)return;const D=[E[0]+b[0],E[1]+b[1]],T=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(D),duration:T.duration,easing:T.easing})}}}getRect(e,t){const n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,s=n.top+window.pageYOffset;return[r,s,r+t[0],s+t[1]]}setPositioning(e){this.set("positioning",e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t)return void this.setVisible(!1);const n=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(n,r)}updateRenderedPosition(e,t){const n=this.element.style,r=this.getOffset(),s=this.getPositioning();this.setVisible(!0);let d="0%",h="0%";"bottom-right"==s||"center-right"==s||"top-right"==s?d="-100%":("bottom-center"==s||"center-center"==s||"top-center"==s)&&(d="-50%"),"bottom-left"==s||"bottom-center"==s||"bottom-right"==s?h="-100%":("center-left"==s||"center-center"==s||"center-right"==s)&&(h="-50%");const m=`translate(${d}, ${h}) translate(${Math.round(e[0]+r[0])+"px"}, ${Math.round(e[1]+r[1])+"px"})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,n.transform=m)}getOptions(){return this.options}};var GDt=Et(248),jDt=Et(557),qJ=Et.n(jDt);const WDt=["charts"],$Dt=["popup"],YDt=["map"];function ZDt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),Ko("",t.product.name," - ",t.variable.name," ")}}function qDt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),ff("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function XDt(i,e){if(1&i){const t=Ai();O(0,"mat-form-field",16)(1,"mat-label"),tt(2,"Y: Spaitiotemporal buffer"),L(),O(3,"mat-select",32),fe("ngModelChange",function(r){return Te(t),Ie(Mt(2).selectedBuffer=r)})("ngModelChange",function(){return Te(t),Ie(Mt(2).updateBuff())}),It(4,qDt,2,4,"mat-option",18),L()()}if(2&i){const t=Mt(2);z(3),Y("ngModel",t.selectedBuffer),z(1),Y("ngForOf",t.selectedScenario.buffers)}}function KDt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),Ko("",t.product.name," - ",t.variable.name," ")}}function QDt(i,e){if(1&i){const t=Ai();O(0,"mat-form-field",16)(1,"mat-label"),tt(2,"X: Product - Variable"),L(),O(3,"mat-select",17),fe("ngModelChange",function(r){return Te(t),Ie(Mt(2).selectedXScenario=r)})("ngModelChange",function(){return Te(t),Ie(Mt(2).pvXChanged())}),It(4,KDt,2,3,"mat-option",18),L()()}if(2&i){const t=Mt(2);z(3),Y("ngModel",t.selectedXScenario),z(1),Y("ngForOf",t.scenarios)}}function JDt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),ff("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function tTt(i,e){if(1&i){const t=Ai();O(0,"mat-form-field",16)(1,"mat-label"),tt(2,"X: Spaitiotemporal buffer"),L(),O(3,"mat-select",32),fe("ngModelChange",function(r){return Te(t),Ie(Mt(2).selectedXBuffer=r)})("ngModelChange",function(){return Te(t),Ie(Mt(2).updateBuff())}),It(4,JDt,2,4,"mat-option",18),L()()}if(2&i){const t=Mt(2);z(3),Y("ngModel",t.selectedXBuffer),z(1),Y("ngForOf",t.selectedXScenario.buffers)}}function eTt(i,e){if(1&i){const t=Ai();O(0,"div",15)(1,"mat-form-field",16)(2,"mat-label"),tt(3,"Y: Product - Variable"),L(),O(4,"mat-select",17),fe("ngModelChange",function(r){return Te(t),Ie(Mt().selectedScenario=r)})("ngModelChange",function(){return Te(t),Ie(Mt().pvChanged())}),It(5,ZDt,2,3,"mat-option",18),L()(),It(6,XDt,5,2,"mat-form-field",19),O(7,"mat-form-field",16)(8,"mat-label"),tt(9,"X: Mode"),L(),O(10,"mat-select",20),fe("ngModelChange",function(r){return Te(t),Ie(Mt().xMode=r)})("ngModelChange",function(r){return Te(t),Ie(Mt().modeChanged(r))}),O(11,"mat-option",21),tt(12,"Date"),L(),O(13,"mat-option",22),tt(14,"Latitude"),L(),O(15,"mat-option",23),tt(16,"Longitude"),L(),O(17,"mat-option",24),tt(18,"Bivariate"),L()()(),It(19,QDt,5,2,"mat-form-field",19),It(20,tTt,5,2,"mat-form-field",19),O(21,"mat-form-field",16)(22,"mat-label"),tt(23,"Maximum number of events:"),L(),O(24,"mat-select",25),fe("ngModelChange",function(r){return Te(t),Ie(Mt().limit=r)})("ngModelChange",function(r){return Te(t),Ie(Mt().limitChanged(r))}),O(25,"mat-option",26),tt(26,"1000"),L(),O(27,"mat-option",27),tt(28,"3000"),L(),O(29,"mat-option",28),tt(30,"5000"),L(),O(31,"mat-option",29),tt(32,"10000"),L(),O(33,"mat-option",30),tt(34,"20000"),L()()()()}if(2&i){const t=Mt();z(4),Y("ngModel",t.selectedScenario),z(1),Y("ngForOf",t.scenarios),z(1),Y("ngIf",t.selectedScenario),z(4),Y("ngModel",t.xMode),z(9),Y("ngIf","x_value"===t.xMode),z(1),Y("ngIf",t.selectedXScenario&&"x_value"===t.xMode),z(4),Y("ngModel",t.limit)}}function iTt(i,e){if(1&i){const t=Ai();O(0,"button",33),fe("click",function(){return Te(t),Ie(Mt().refresh())}),tt(1," Go! "),L()}if(2&i){const t=Mt();Y("disabled",t.currentGoStatus===t.newGoStatus)}}function nTt(i,e){if(1&i&&(O(0,"div",34),te(1,"google-chart",35),L()),2&i){const t=Mt();z(1),Y("data",t.chartData.data)("type","ScatterChart")("title",t.chartData.title)("columns",t.chartData.columns)("width",t.chartData.width)("height",t.chartData.height)("options",t.chartData.options)}}function rTt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),Ko("",t.product.name," - ",t.variable.name," ")}}function sTt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),ff("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function oTt(i,e){if(1&i){const t=Ai();O(0,"mat-form-field",16)(1,"mat-label"),tt(2,"Y: Spaitiotemporal buffer"),L(),O(3,"mat-select",32),fe("ngModelChange",function(r){return Te(t),Ie(Mt(3).selectedBuffer=r)})("ngModelChange",function(){return Te(t),Ie(Mt(3).updateBuff())}),It(4,sTt,2,4,"mat-option",18),L()()}if(2&i){const t=Mt(3);z(3),Y("ngModel",t.selectedBuffer),z(1),Y("ngForOf",t.selectedScenario.buffers)}}function aTt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),Ko("",t.product.name," - ",t.variable.name," ")}}function lTt(i,e){if(1&i){const t=Ai();O(0,"mat-form-field",16)(1,"mat-label"),tt(2,"X: Product - Variable"),L(),O(3,"mat-select",17),fe("ngModelChange",function(r){return Te(t),Ie(Mt(3).selectedXScenario=r)})("ngModelChange",function(){return Te(t),Ie(Mt(3).pvXChanged())}),It(4,aTt,2,3,"mat-option",18),L()()}if(2&i){const t=Mt(3);z(3),Y("ngModel",t.selectedXScenario),z(1),Y("ngForOf",t.scenarios)}}function cTt(i,e){if(1&i&&(O(0,"mat-option",31),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),ff("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function dTt(i,e){if(1&i){const t=Ai();O(0,"mat-form-field",16)(1,"mat-label"),tt(2,"X: Spaitiotemporal buffer"),L(),O(3,"mat-select",32),fe("ngModelChange",function(r){return Te(t),Ie(Mt(3).selectedXBuffer=r)})("ngModelChange",function(){return Te(t),Ie(Mt(3).updateBuff())}),It(4,cTt,2,4,"mat-option",18),L()()}if(2&i){const t=Mt(3);z(3),Y("ngModel",t.selectedXBuffer),z(1),Y("ngForOf",t.selectedXScenario.buffers)}}function uTt(i,e){if(1&i){const t=Ai();O(0,"div",15)(1,"mat-form-field",16)(2,"mat-label"),tt(3,"Y: Product - Variable"),L(),O(4,"mat-select",17),fe("ngModelChange",function(r){return Te(t),Ie(Mt(2).selectedScenario=r)})("ngModelChange",function(){return Te(t),Ie(Mt(2).pvChanged())}),It(5,rTt,2,3,"mat-option",18),L()(),It(6,oTt,5,2,"mat-form-field",19),O(7,"mat-form-field",16)(8,"mat-label"),tt(9,"X: Mode"),L(),O(10,"mat-select",20),fe("ngModelChange",function(r){return Te(t),Ie(Mt(2).xMode=r)})("ngModelChange",function(r){return Te(t),Ie(Mt(2).modeChanged(r))}),O(11,"mat-option",21),tt(12,"Date"),L(),O(13,"mat-option",22),tt(14,"Latitude"),L(),O(15,"mat-option",23),tt(16,"Longitude"),L(),O(17,"mat-option",24),tt(18,"Bivariate"),L()()(),It(19,lTt,5,2,"mat-form-field",19),It(20,dTt,5,2,"mat-form-field",19),O(21,"mat-form-field",16)(22,"mat-label"),tt(23,"Maximum number of events:"),L(),O(24,"mat-select",25),fe("ngModelChange",function(r){return Te(t),Ie(Mt(2).limit=r)})("ngModelChange",function(r){return Te(t),Ie(Mt(2).limitChanged(r))}),O(25,"mat-option",26),tt(26,"1000"),L(),O(27,"mat-option",29),tt(28,"10000"),L(),O(29,"mat-option",30),tt(30,"20000"),L(),O(31,"mat-option",36),tt(32,"50000"),L()()()()}if(2&i){const t=Mt(2);z(4),Y("ngModel",t.selectedScenario),z(1),Y("ngForOf",t.scenarios),z(1),Y("ngIf",t.selectedScenario),z(4),Y("ngModel",t.xMode),z(9),Y("ngIf","x_value"===t.xMode),z(1),Y("ngIf",t.selectedXScenario&&"x_value"===t.xMode),z(4),Y("ngModel",t.limit)}}function hTt(i,e){if(1&i){const t=Ai();O(0,"button",33),fe("click",function(){return Te(t),Ie(Mt(2).refresh())}),tt(1," Go! "),L()}if(2&i){const t=Mt(2);Y("disabled",t.currentGoStatus===t.newGoStatus)}}function fTt(i,e){if(1&i&&(O(0,"div"),te(1,"mol-species-info",1),It(2,uTt,33,7,"div",2),O(3,"div",3),It(4,hTt,2,1,"button",4),te(5,"mol-small-spinner"),L()()),2&i){const t=Mt();z(1),Y("scientificname",t.scientificname)("wiki",!1),z(1),Y("ngIf",t.scenarios.length>0),z(2),Y("ngIf",t.scenarios.length>0)}}let mTt=(()=>{class i{constructor(t,n,r,s,o,l,d,h,m,b){this.state=t,this.species=n,this.mapService=r,this.config=s,this.dialog=o,this.snackBar=l,this.stoat=d,this.router=h,this.urlConfig=m,this.translate=b,this.isMobile=!1,this.speciesNameSubscription=null,this.scientificname="",this.data=null,this.scenarios=[],this.selectedScenario=null,this.selectedBuffer=null,this.selectedXScenario=null,this.selectedXBuffer=null,this.spatial=1e3,this.limit="1000",this.temporal=1e3,this.chartData=null,this.map=null,this.minVal=1e6,this.maxVal=-1e6,this.xMode="eventdate",this.xOldMode=this.xMode,this.currentGoStatus="",this.newGoStatus="",this.colorFunction=v=>"#ff0000",this.vectorSource=null,this.vectorLayer=null,this.showPopup=!1,this.links=[],this.isMobile=window.innerWidth<=480}ngOnInit(){this.setupMap(),this.speciesNameSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.scenarios.length>0&&this.refresh()}),this.stoat.scenarios().subscribe(t=>{this.scenarios=t.filter(n=>"esacci_landcover"!=n.scenario_code),this.selectedScenario=this.scenarios[0],this.selectedBuffer=this.selectedScenario.buffers[0],this.scenarios.length>1&&(this.selectedXScenario=this.scenarios[1],this.selectedXBuffer=this.selectedXScenario.buffers[0]),this.refresh()})}ngAfterViewInit(){this.addOverlay()}ngOnDestroy(){this.speciesNameSubscription.unsubscribe(),this.map.dispose(),this.map=null,document.getElementById("map").remove()}refreshCB(t){t&&(this.data=t),this.setColorFunction(),this.makeChart(),this.refreshMapData()}refresh(){this.currentGoStatus=this.goStatus(),this.newGoStatus=this.goStatus(),this.showPopup=!1,"x_value"!==this.xMode?this.stoat.univariate(this.scientificname,this.selectedScenario.product.code,this.selectedScenario.variable.code,this.selectedBuffer.s_buff,this.selectedBuffer.t_buff,this.limit).subscribe(t=>this.refreshCB(t)):this.stoat.bivariate(this.scientificname,this.selectedScenario.product.code,this.selectedScenario.variable.code,this.selectedBuffer.s_buff,this.selectedBuffer.t_buff,this.selectedXScenario.product.code,this.selectedXScenario.variable.code,this.selectedXBuffer.s_buff,this.selectedXBuffer.t_buff,this.limit).subscribe(t=>this.refreshCB(t))}pvChanged(){this.newGoStatus=this.goStatus(),this.selectedBuffer=this.selectedScenario.buffers[0]}pvXChanged(){this.newGoStatus=this.goStatus(),this.selectedXBuffer=this.selectedXScenario.buffers[0]}updateBuff(){this.newGoStatus=this.goStatus()}goStatus(){let t=[this.scientificname,this.selectedScenario.product.code,this.selectedScenario.variable.code,this.selectedBuffer.s_buff,this.selectedBuffer.t_buff].join("-");return"x_value"===this.xMode&&(t+="-"+[this.selectedXScenario.product.code,this.selectedXScenario.variable.code,this.selectedXBuffer.s_buff,this.selectedXBuffer.t_buff].join("-")),t+=`-lim${this.limit}`,t}modeChanged(t){this.newGoStatus=this.goStatus(),"x_value"!=this.xMode?(this.makeChart(),"x_value"===this.xOldMode&&this.refresh()):this.refresh(),this.xOldMode=this.xMode}limitChanged(t){this.newGoStatus=this.goStatus()}getTitle(t="y"){const n="y"===t?this.selectedScenario:this.selectedXScenario,r="y"===t?this.selectedBuffer:this.selectedXBuffer;return`${n.product.name} - ${n.variable.name}: ${r.s_buff}m, ${r.t_buff} day${1===r.t_buff?"":"s"}`}makeChart(){if(!this.data)return;let t=this.charts.nativeElement.offsetWidth||900,n=this.charts.nativeElement.offsetHeight||600;n/=2;let r={type:"date",label:"date",id:"date"},s={title:"Date",format:"YYYY-MM-dd"};"latitude"===this.xMode?(r={type:"number",label:"Latitude",id:"lat"},s={title:"Latitude"}):"longitude"===this.xMode?(r={type:"number",label:"Longitude",id:"lng"},s={title:"Longitude"}):"x_value"===this.xMode&&(r={type:"number",label:this.data.x_label,id:"x_value"},s={title:this.getTitle("x")}),this.chartData={data:[],columns:[r,{type:"number",label:this.data.y_label,id:"value"},{type:"string",role:"style"}],options:{legend:{position:"none"},hAxis:s,vAxis:{title:this.getTitle()}},width:t,height:n},this.chartData.data=this.data.rows.map(o=>{let l="x_value"===this.xMode?"y_value":"value",d=`point { fill-color: ${this.rgbToHex(this.colorFunction(o[l]))}; }`,h=null;return h="eventdate"===this.xMode?new Date(o.eventdate):o[this.xMode],[h,o[l],d]})}rgbToHex(t){function n(m,b){var v=Math.max(0,parseInt(m,10));return b?Math.floor(255*Math.min(100,v)/100):Math.min(255,v)}var s,h="";return(s=/^rgb\(\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*\)$/.exec(t))&&(h="#"+(16777216+(n(s[1],s[2])<<16)+(n(s[3],s[4])<<8)+n(s[5],s[6])).toString(16).slice(1)),h}refreshMapData(){this.vectorSource.clear();let t=this.data.rows.map(this.featureFromRow);this.vectorSource.addFeatures(t),this.map.getView().fit(this.vectorSource.getExtent(),{padding:[100,100,100,100]})}featureFromRow(t){return new Ec({...t,geometry:new qf(xb([t.longitude,t.latitude],"EPSG:4326","EPSG:3857"))})}setColorFunction(){const t="x_value"===this.xMode?"y_value":"value";var n=this.data.rows.map(r=>r[t]);this.minVal=Math.min(...n),this.maxVal=Math.max(...n),this.colorFunction=r=>(0,GDt.Z)((r-this.minVal)/(this.maxVal-this.minVal))}setupMap(){var t=new bs({image:new Yd({radius:3,fill:new Cs({color:"#ffcc33"})})});this.vectorSource=new ok,this.vectorLayer=new H3({source:this.vectorSource,style:r=>(t.setImage(new Yd({radius:3,fill:new Cs({color:this.colorFunction(r.get("x_value"===this.xMode?"y_value":"value"))})})),t)}),this.map=new VJ({target:"map",interactions:cH().extend([new lH]),layers:[Xd,this.vectorLayer],view:new $d({center:z7([10,30]),zoom:2,projection:"EPSG:3857",maxZoom:10,minZoom:2}),controls:J9({attribution:!1}).extend([new Q9({collapsible:!1}),new $J,new YJ])});const n=new(qJ())({label:"Layers",reverse:!0});this.map.addControl(n)}addOverlay(){let t=document.getElementById("popup"),n=document.getElementById("popup-content"),r=document.getElementById("popup-closer");var s=new UDt({element:t});r.onclick=()=>(this.showPopup=!1,!1),this.map.addOverlay(s),this.map.on("singleclick",o=>{let l=this.map.getFeaturesAtPixel(o.pixel);if(l.length>0){var d=o.coordinate;let h=l[0].getProperties(),m=`<span><b>Date:</b> ${h.eventdate}\n        <br>\n        <b>Longitude, Latitude: </b>${h.longitude}, ${h.latitude}\n        <br>\n        <b>${this.getTitle("y")}: </b> ${h.value?h.value:h.y_value}\n        `;h.x_value&&(m+=`<br> <b>${this.getTitle("x")}: </b> ${h.x_value}`),m+="</span>",n.innerHTML=m,s.setPosition(d),this.showPopup=!0}})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Kd),U(ul),U($f),U(vg),U(id),U(bb),U(Zbt),U(so),U(vg),U(yc))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-niche"]],viewQuery:function(n,r){if(1&n&&(Pi(WDt,5),Pi($Dt,5),Pi(YDt,5)),2&n){let s;Ze(s=We())&&(r.charts=s.first),Ze(s=We())&&(r.popup=s.first),Ze(s=We())&&(r.mapRef=s.first)}},decls:18,vars:8,consts:[["mode","side","position","start",1,"asidebar",3,"opened"],[3,"scientificname","wiki"],["class","dropdowns",4,"ngIf"],[1,"go-bar"],["class","mol-button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"charts"],["charts",""],["class","chart",4,"ngIf"],["id","map"],["map",""],["id","popup",1,"ol-popup",3,"hidden"],["popup",""],["href","#","id","popup-closer",1,"ol-popup-closer"],["id","popup-content"],[4,"ngIf"],[1,"dropdowns"],["appearance","legacy"],["name","product_variable",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","legacy",4,"ngIf"],["name","xMode",3,"ngModel","ngModelChange"],["value","eventdate"],["value","latitude"],["value","longitude"],["value","x_value"],["name","limit",3,"ngModel","ngModelChange"],["value","1000"],["value","3000"],["value","5000"],["value","10000"],["value","20000"],[3,"value"],["name","buffer",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",1,"mol-button",3,"disabled","click"],[1,"chart"],[3,"data","type","title","columns","width","height","options"],["value","50000"]],template:function(n,r){1&n&&(O(0,"mat-sidenav-container")(1,"mat-sidenav",0),te(2,"mol-species-info",1),It(3,eTt,35,7,"div",2),O(4,"div",3),It(5,iTt,2,1,"button",4),te(6,"mol-small-spinner"),L()(),O(7,"mat-sidenav-content")(8,"div",5,6),It(10,nTt,2,7,"div",7),te(11,"div",8,9),O(13,"div",10,11),te(15,"a",12)(16,"div",13),L(),It(17,fTt,6,4,"div",14),L()()()),2&n&&(z(1),Y("opened",!r.isMobile),z(1),Y("scientificname",r.scientificname)("wiki",!1),z(1),Y("ngIf",r.scenarios.length>0),z(2),Y("ngIf",r.scenarios.length>0),z(5),Y("ngIf",r.chartData),z(3),Y("hidden",!r.showPopup),z(4),Y("ngIf",r.isMobile))},dependencies:[Ps,on,Yu,L3,Mw,kS,dl,Qz,Jz,GP,Qu,fg,Ju,pc,Lf],styles:[':root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:none}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;user-select:text}.ol-grabbing{cursor:grabbing}.ol-grab{cursor:move;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.layer-switcher{position:absolute;top:3.5em;right:.5em;text-align:left}.layer-switcher .panel{margin:0;border:4px solid #eee;border-radius:4px;background-color:#fff;display:none;max-height:inherit;height:100%;box-sizing:border-box;overflow-y:auto}.layer-switcher button{float:right;z-index:1;width:38px;height:38px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACE1BMVEX///8A//8AgICA//8AVVVAQID///8rVVVJtttgv98nTmJ2xNgkW1ttyNsmWWZmzNZYxM4gWGgeU2JmzNNr0N1Rwc0eU2VXxdEhV2JqytQeVmMhVmNoydUfVGUgVGQfVGQfVmVqy9hqy9dWw9AfVWRpydVry9YhVmMgVGNUw9BrytchVWRexdGw294gVWQgVmUhVWPd4N6HoaZsy9cfVmQgVGRrytZsy9cgVWQgVWMgVWRsy9YfVWNsy9YgVWVty9YgVWVry9UgVWRsy9Zsy9UfVWRsy9YgVWVty9YgVWRty9Vsy9aM09sgVWRTws/AzM0gVWRtzNYgVWRuy9Zsy9cgVWRGcHxty9bb5ORbxdEgVWRty9bn6OZTws9mydRfxtLX3Nva5eRix9NFcXxOd4JPeINQeIMiVmVUws9Vws9Vw9BXw9BYxNBaxNBbxNBcxdJexdElWWgmWmhjyNRlx9IqXGtoipNpytVqytVryNNrytZsjZUuX210k5t1y9R2zNR3y9V4lp57zth9zdaAnKOGoaeK0NiNpquV09mesrag1tuitbmj1tuj19uktrqr2d2svcCu2d2xwMO63N+7x8nA3uDC3uDFz9DK4eHL4eLN4eIyYnDX5OM5Z3Tb397e4uDf4uHf5uXi5ePi5+Xj5+Xk5+Xm5+Xm6OY6aHXQ19fT4+NfhI1Ww89gx9Nhx9Nsy9ZWw9Dpj2abAAAAWnRSTlMAAQICAwQEBgcIDQ0ODhQZGiAiIyYpKywvNTs+QklPUlNUWWJjaGt0dnd+hIWFh4mNjZCSm6CpsbW2t7nDzNDT1dje5efr7PHy9PT29/j4+Pn5+vr8/f39/f6DPtKwAAABTklEQVR4Xr3QVWPbMBSAUTVFZmZmhhSXMjNvkhwqMzMzMzPDeD+xASvObKePPa+ffHVl8PlsnE0+qPpBuQjVJjno6pZpSKXYl7/bZyFaQxhf98hHDKEppwdWIW1frFnrxSOWHFfWesSEWC6R/P4zOFrix3TzDFLlXRTR8c0fEEJ1/itpo7SVO9Jdr1DVxZ0USyjZsEY5vZfiiAC0UoTGOrm9PZLuRl8X+Dq1HQtoFbJZbv61i+Poblh/97TC7n0neCcK0ETNUrz1/xPHf+DNAW9Ac6t8O8WH3Vp98f5lCaYKAOFZMLyHL4Y0fe319idMNgMMp+zWVSybUed/+/h7I4wRAG1W6XDy4XmjR9HnzvDRZXUAYDFOhC1S/Hh+fIXxen+eO+AKqbs+wAo30zDTDvDxKoJN88sjUzDFAvBzEUGFsnADoIvAJzoh2BZ8sner+Ke/vwECuQAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:2px;background-color:#fff;color:#000;border:none}.layer-switcher button:focus,.layer-switcher button:hover{background-color:#fff}.layer-switcher.shown{overflow-y:hidden;display:flex;flex-direction:column;max-height:calc(100% - 5.5em)}.layer-switcher.shown.ol-control,.layer-switcher.shown.ol-control:hover{background-color:transparent}.layer-switcher.shown .panel{display:block}.layer-switcher.shown button{display:none}.layer-switcher.shown.layer-switcher-activation-mode-click>button{display:block;background-image:unset;right:2px;position:absolute;background-color:#eee;margin:1px}.layer-switcher.shown button:focus,.layer-switcher.shown button:hover{background-color:#fafafa}.layer-switcher ul{list-style:none;margin:1.6em .4em;padding-left:0}.layer-switcher ul ul{padding-left:1.2em;margin:.1em 0 0}.layer-switcher li.group+li.group{margin-top:.4em}.layer-switcher li.group>label{font-weight:700}.layer-switcher.layer-switcher-group-select-style-none li.group>label{padding-left:1.2em}.layer-switcher li{position:relative;margin-top:.3em}.layer-switcher li input{position:absolute;left:1.2em;height:1em;width:1em;font-size:1em}.layer-switcher li label{padding-left:2.7em;padding-right:1.2em;display:inline-block;margin-top:1px}.layer-switcher label.disabled{opacity:.4}.layer-switcher input{margin:0}.layer-switcher.touch ::-webkit-scrollbar{width:4px}.layer-switcher.touch ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.layer-switcher.touch ::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}li.layer-switcher-base-group>label{padding-left:1.2em}.layer-switcher .group button{position:absolute;left:0;display:inline-block;vertical-align:top;float:none;font-size:1em;width:1em;height:1em;margin:0;background-position:center 2px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAW0lEQVR4nGNgGAWMyBwXFxcGBgaGeii3EU0tXHzPnj1wQRYsihqQ+I0ExDEMQAYNONgoAN0AmMkNaDSyQSheY8JiaCMOGzE04zIAmyFYNTMw4A+DRhzsUUBtAADw4BCeIZkGdwAAAABJRU5ErkJggg==);transition:transform .2s ease-in-out}.layer-switcher .group.layer-switcher-close button{transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}.layer-switcher .group.layer-switcher-fold.layer-switcher-close>ul{overflow:hidden;height:0}.layer-switcher.shown.layer-switcher-activation-mode-click{padding-left:34px}.layer-switcher.shown.layer-switcher-activation-mode-click>button{left:0;border-right:0}@charset "UTF-8";:root{--topLine: 3em}@media screen and (max-device-width: 480px){:root{--topLine: .1em}.layer-switcher>button{font-size:15px!important}}.layer-switcher{position:absolute;left:.5em;top:calc(var(--topLine) + 7em);border-radius:3px;background-color:transparent;width:60px}.layer-switcher.shown{width:unset}.layer-switcher button{width:60px;padding:2px;border-radius:3px;border:1px solid black;line-height:25px;background-image:unset;font-weight:unset}.layer-switcher .panel{max-width:250px}.ol-scale-line{background-color:#fff;left:.9em}.ol-scale-line-inner{border:black solid 1px;border-top:none;background-color:#fff;color:#000}.ol-touch .ol-control button{font-size:16px}.ol-control button{border:#bbb solid 1px;background-color:#fff;color:#000}.ol-control button:hover,.ol-control button:focus{background-color:#eee;color:#000}.ol-zoom{z-index:1000;top:calc(var(--topLine) + 0px);bottom:unset;left:.5em}.map-parent{position:relative}.ol-full-screen{left:.5em;top:calc(var(--topLine) + 4.5em);max-width:1.7em}.ol-attribution{bottom:35px}.controls{padding-top:15px}.dropdowns{padding-top:15px;margin-left:10px}.dropdowns .mat-form-field,.dropdowns .mat-form-field-wrapper{width:90%}.dropdowns .axes-label{font-size:1.5em;padding-top:5px}.sidebar-container{height:calc(100vh - 172px)}.asidebar{min-height:100%;min-width:400px;max-width:400px;box-shadow:3px 0 2px -2px #aaa}.charts{height:calc(100vh - 172px);overflow-x:hidden}#map{height:calc((100vh - 172px)/2)}@media screen and (max-device-width: 480px){#map{height:calc((100vh - 172px)/2 - 100px)}}.go-bar{margin-left:10px;display:flex;flex-direction:row;height:50px;align-items:center}.go-bar .mol-button{color:#fff;height:30px}.ol-popup{position:absolute;background-color:#fff;box-shadow:0 1px 4px #0003;padding:15px;border-radius:10px;border:1px solid #cccccc;bottom:12px;left:-50px;min-width:320px}.ol-popup:after,.ol-popup:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ol-popup:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer:hover{background-color:unset;color:red}.ol-popup-closer:after{content:"\\2716"}\n'],encapsulation:2})}return i})(),pTt=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-projection-climate-landing"]],decls:6,vars:0,consts:[[1,"splash"],[1,"row","content"],[1,"lead"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"h1"),tt(2," Climate Change Species Habitat Projections "),L(),O(3,"div",1)(4,"p",2),tt(5," Quick info about climate change species habitat projection "),L()()())}})}return i})();const XJ=[{scientificname:"Limnornis curvirostris",commonName:"Curve-Billed Reedhaunter",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/i_Czl7FZ3E-a2a6ECsMiVS3mJ2WsC9Mit30UqUxgUn7JFUiRFI-6mFVqK5T9azb7xRIQxuKQ2y493mZLSY8Viy4-=s512-c"},{scientificname:"Oreophryne monticola",commonName:"Lombok Cross Frog",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/iwdEY5ht0EMMylwjOy9UGg1AtUR6zoeMOvcI9F7zear21GPUTWyRpO1WWUacPm9Fo7dO8fBFeU8tb_R-_b_yTJE=s512-c"},{scientificname:"Cichlocolaptes leucophrus",commonName:"Pale-Browed Treehunter",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/V-nKhiE6tSJA3LpBv9rc8Nch5jgC5KjB4mY_eOxoS3DNIRslyQpA2r31sHdBl_WKK2tyuHgnuVpUa59WozddFw=s512-c"},{scientificname:"Kobus megaceros",commonName:"Nile Lechwe",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/8gNXTCEgTbSpRLOPB0oDzcvI4U7GXyB5ZaF7qHfLLIBPjFx7xvkk-3R1abFELQ-F_ljlrRnWmrGPHLcJoestqCQ=s512-c"}],hH=[{scientificname:"Calotes liocephalus",commonName:"Lionhead Agama",route:"/projection/urban/",img:"https://inaturalist-open-data.s3.amazonaws.com/photos/107713747/medium.jpg"},{scientificname:"Hyperolius ademetzi",commonName:"Bamenda Reed Frog",route:"/projection/urban/",img:"https://lh3.googleusercontent.com/W_mdNpHM2pFcN96frAgDKdmX-u1y7LX79xTiboNZaAxwUMTS_d1_afXCt1xvQ_5At_V8WMJIb2iF5cSDvbzWXqg=s512-c"},{scientificname:"Ergaticus versicolor",commonName:"Pink-Headed Warbler",route:"/projection/urban/",img:"https://lh3.googleusercontent.com/4-4rxl4G9hJeAE4dx186XSqRj7Be_zWSHVNvorUQhAH7ortud-Y7iw_2QXivIUDebxhUtg3rpQHHWRduRT6aaw=s512-c"},{scientificname:"Nycticebus javanicus",commonName:"Javan Slow Loris",route:"/projection/urban/",img:"https://lh3.googleusercontent.com/tB_eve4UKRy_nqoyzXi64rh9wfpPBRFrdZQ8C5wO9VP3elpQg7UbXi-dA6sSmqMsXe0y1rz7UMkzU2BFdSu7-Q=s512-c"}];function gTt(i,e){if(1&i&&(O(0,"div")(1,"h1"),tt(2," Biodiversity impacts of urban land expansion projected to 2050 "),L(),O(3,"div",1)(4,"p",2),tt(5," Urban land conversions are expected to be an increasingly prominent driver of habitat and biodiversity loss over the next 30 years. Here we provide tools to visualize forecasted habitat loss caused by urban land expansion to 2050. These tools highlight the urgent need for an increased focus on urban land in global conservation strategies and identify high-priority areas for this engagement. "),L(),te(6,"mol-species-card-container",4),L()()),2&i){const t=Mt();z(6),Y("species",t.urbanProjectionSpeciesList)}}let KJ=(()=>{class i{constructor(t){this.router=t,this.landingPage="",this.projectionSpeciesList=XJ,this.urbanProjectionSpeciesList=hH}ngOnInit(){this.landingPage=this.router.url}static#t=this.\u0275fac=function(n){return new(n||i)(U(so))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-projection-landing"]],decls:16,vars:2,consts:[[1,"splash"],[1,"row","content"],[1,"lead"],["href","https://www.nature.com/articles/s41558-019-0406-z"],[3,"species"],[4,"ngIf"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div")(2,"h1"),tt(3," Global habitat loss and extinction risk of terrestrial vertebrates under future land- use change scenarios "),L(),O(4,"div",1)(5,"p",2),tt(6," Explore potential range losses projected under different a range of plausible futures (shared socioeconomic pathways). For this work, we linked global decadal land-use projections to year 2070 for a range of shared socio-economic pathways (SSPs) to evaluate potential losses in range-wide suitable habitat and extinction risks for ~ 19,400 species of amphibians, birds and mammals. "),L(),O(7,"p",2),tt(8," From: "),O(9,"a",3),tt(10,"Powers & Jetz (2019): Global habitat loss and extinction risk of terrestrial vertebrates under future land- use change scenarios. Nature Climate Change. doi: 10.1038/s41558-019-0406-z"),L()(),O(11,"p",2),tt(12,"Select species from the publication"),L(),te(13,"mol-species-card-container",4),L(),te(14,"hr"),L(),It(15,gTt,7,1,"div",5),L()),2&n&&(z(13),Y("species",r.projectionSpeciesList),z(2),Y("ngIf","/projection"===r.landingPage))},dependencies:[on,Y9],styles:["hr[_ngcontent-%COMP%]{margin-bottom:50px}h1[_ngcontent-%COMP%]{line-height:1}"]})}return i})(),_Tt=(()=>{class i{constructor(){this.projectionSpeciesList=hH}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-projection-urban-landing"]],decls:21,vars:1,consts:[[1,"splash"],[1,"row","content"],[1,"lead"],["href","/patterns/urban-projection?aoi=nga"],[2,"text-align","center"],["src","https://mapoflife.github.io/species-next/assets/grid_up3.png",2,"max-width","700px"],[3,"species"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"h1"),tt(2," Biodiversity impacts of urban land expansion projected to 2050 "),L(),O(3,"div",1)(4,"p",2),tt(5," Urban land conversions are expected to be an increasingly prominent driver of habitat and biodiversity loss over the next 30 years. Here we provide tools to visualize forecasted habitat loss caused by urban land expansion to 2050. These tools highlight the urgent need for an increased focus on urban land in global conservation strategies and identify high-priority areas for this engagement. "),L()(),O(6,"h2"),tt(7,"Global impacts of urban land expansion"),L(),O(8,"div",1)(9,"p",2)(10,"a",3),tt(11,"Visualize the impacts of global urban land expansion"),L(),tt(12," under three development scenarios (Shared Socio-economic Pathways). Investigate the impacts of individual urban clusters that form global urban impact hotspots. "),L(),O(13,"p",4),te(14,"img",5),L()(),O(15,"h2"),tt(16,"Impacts of urban expansion on individual species"),L(),O(17,"div",1)(18,"p",2),tt(19," Visualize projected habitat loss driven by urban and non-urban land-use change for individual species under three different scenarios. "),L(),te(20,"mol-species-card-container",6),L()()),2&n&&(z(20),Y("species",r.projectionSpeciesList))},dependencies:[Y9],styles:["h2[_ngcontent-%COMP%]{margin-top:50px}"]})}return i})();function bTt(i,e){if(1&i){const t=Ai();O(0,"li")(1,"a",6),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).goToLandUse(s))}),tt(2),O(3,"i"),tt(4),L()()()}if(2&i){const t=e.$implicit;z(2),mi("",t.commonName,", "),z(2),Mi(t.scientificname)}}function vTt(i,e){if(1&i&&(O(0,"div",2)(1,"div")(2,"div",3),tt(3," A projection for this species is missing. Projections should be available for most terrestrial vertebrates. See "),O(4,"a",4),tt(5,"here"),L(),tt(6," for more info or select one of the species below "),L(),te(7,"br"),O(8,"div",3),tt(9," Please select from one of the following species featured in the publication: "),L(),O(10,"ul"),It(11,bTt,5,2,"li",5),L()()()),2&i){const t=Mt();z(11),Y("ngForOf",t.projectionSpeciesList)}}function yTt(i,e){if(1&i&&(O(0,"mat-option",12),tt(1),L()),2&i){const t=e.$implicit;Y("value",t.m),z(1),Mi(t.d)}}const xTt=function(i){return{label:!0,disabled:i}};function wTt(i,e){if(1&i){const t=Ai();O(0,"div",2)(1,"div")(2,"div",3),tt(3,"Projection Year: 2050"),L()(),O(4,"div")(5,"div"),tt(6," Shared Socio-Economic Pathway (SSP) "),L(),O(7,"mat-form-field",7)(8,"mat-select",8),fe("ngModelChange",function(r){return Te(t),Ie(Mt().luMethod=r)})("selectionChange",function(r){return Te(t),Ie(Mt().luMethodChanged(r))}),It(9,yTt,2,2,"mat-option",9),L()()(),O(10,"div",10),tt(11," Biodiversity impacts and conservation implications of urban land expansion projected by 2050 "),te(12,"br")(13,"br"),tt(14," Click "),O(15,"a",11),tt(16,"here"),L(),tt(17," for more information. "),L()()}if(2&i){const t=Mt();z(5),Yn($r(4,xTt,2015===t.year)),z(3),Y("ngModel",t.luMethod),z(1),Y("ngForOf",t.luMethodsDrop)}}let CTt=(()=>{class i{constructor(t,n,r,s,o,l){this.state=t,this.species=n,this.mapService=r,this.config=s,this.dialog=o,this.snackBar=l,this.scientificname="",this.year=2050,this.luMethod="magpie",this.loading=!1,this.error=!1,this.projectionSpeciesList=hH,this.luMethodsDrop=[{m:"image",d:"SSP 1 (RCP 2.6)"},{m:"aim",d:"SSP 3 (RCP 7.0)"},{m:"magpie",d:"SSP 5 (RCP 8.5)"}],this.luhMethods={image:"SSP 1",message:"SSP 2",aim:"SSP 3",magpie:"SSP 5"},this.speciesNameSubscription=null,this.oldScientificname="",this.oldLuMethod=""}ngOnInit(){this.speciesNameSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.updateResults()})}ngOnDestroy(){this.speciesNameSubscription.unsubscribe(),this.mapService.updateTileUrl("OFF")}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds)}zoomToDatasetExtent(t){this.mapService.zoomToDatasetExtent(t)}goToLandUse(t){this.state.updateScientificname(t.scientificname)}luMethodChanged(t){this.updateResults()}updateResults(){this.loading=!0,this.error=!1,this.oldScientificname=this.scientificname,this.oldLuMethod=this.luMethod,this.species.getProjectionUrban({scientificname:this.scientificname,lumethod:this.luhMethods[this.luMethod].replace(" ","")}).subscribe(t=>{this.loading=!1,t.map&&(this.mapService.updateTileUrl(t.map.tile_url),this.snackBar.open("Projections of species with large ranges may not load until you zoom in the map.","Okay",{duration:3e3,panelClass:"snackbar-color"}))},t=>{this.error=!0,this.loading=!1})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Kd),U(ul),U($f),U(vg),U(id),U(bb))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-projection-urban"]],decls:3,vars:4,consts:[[3,"scientificname","wiki","speciesInfoUpdated"],["class","controls",4,"ngIf"],[1,"controls"],[1,"label"],["href","https://mol.org/species/projection"],[4,"ngFor","ngForOf"],[1,"lu-link",3,"click"],["appearance","legacy","floatLabel","never"],["name","ssp",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"infoBlock"],["href","https://mol.org/species/projection/urban"],[3,"value"]],template:function(n,r){1&n&&(O(0,"mol-species-info",0),fe("speciesInfoUpdated",function(o){return r.speciesInfoUpdated(o)}),L(),It(1,vTt,12,1,"div",1),It(2,wTt,18,6,"div",1)),2&n&&(Y("scientificname",r.scientificname)("wiki",!1),z(1),Y("ngIf",r.error),z(1),Y("ngIf",!r.error))},dependencies:[Ps,on,Yu,Mw,Qu,Ju,pc,Lf],styles:[".controls[_ngcontent-%COMP%]{padding-top:15px;margin-left:10px}.controls[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:15px 0}.controls[_ngcontent-%COMP%]   .section.go[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:middle;align-items:center}.controls[_ngcontent-%COMP%]   .section.go[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{margin:0 40px}.controls[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%]{cursor:pointer}.controls[_ngcontent-%COMP%]   .infoBlock[_ngcontent-%COMP%]{width:300px}.controls[_ngcontent-%COMP%]   .results-block[_ngcontent-%COMP%]{display:inline-flex;justify-content:center}.controls[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{font-weight:400}.controls[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{max-width:400px;overflow:hidden}.controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;padding-right:5px;padding-bottom:3px}.controls[_ngcontent-%COMP%]   .label.disabled[_ngcontent-%COMP%]{color:#aaa}.controls[_ngcontent-%COMP%]   .mol-button[_ngcontent-%COMP%]{color:#fff}.controls[_ngcontent-%COMP%]   .regain-control[_ngcontent-%COMP%]{display:block}.controls[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]:hover   .mat-button-focus-overlay[_ngcontent-%COMP%]{opacity:unset}.controls[_ngcontent-%COMP%]   .cat-button[_ngcontent-%COMP%]{margin:0 3px;cursor:default;height:30px;font-size:14px;font-weight:400;padding:2px 5px;border-radius:3px;min-width:50px;color:#333;background-color:#efefef;border:1px solid #ddd}.controls[_ngcontent-%COMP%]   .cat-button[_ngcontent-%COMP%]:focus{outline:unset}.controls[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#fff;background-color:#5bc0de}.controls[_ngcontent-%COMP%]   .selectedControl[_ngcontent-%COMP%]{color:#fff;background-color:#286090}.controls[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{padding:0 30px 60px}.lu-link[_ngcontent-%COMP%]{color:#203378}.chart-open-button[_ngcontent-%COMP%]{display:inline-flex;font-weight:500;font-size:12px;align-items:flex-end;width:90%;padding:10px}mol-help-tooltip[_ngcontent-%COMP%]{vertical-align:middle;padding-left:10px}"]})}return i})(),ETt=(()=>{class i{constructor(t,n){this.data=t,this.dialogRef=n}ngOnInit(){}close(){this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||i)(U(Yf),U(xg))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-chart-modal"]],decls:5,vars:7,consts:[["mat-icon-button","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button",3,"click"],[3,"data","type","title","columns","width","height","options"]],template:function(n,r){1&n&&(O(0,"div")(1,"button",0),fe("click",function(){return r.close()}),O(2,"mat-icon"),tt(3,"close"),L()(),te(4,"google-chart",1),L()),2&n&&(z(4),Y("data",r.data.data)("type","LineChart")("title",r.data.title)("columns",r.data.columns)("width",r.data.width)("height",r.data.height)("options",r.data.options))},dependencies:[kS,cg,Ma,zl],styles:[".popup-close-button[_ngcontent-%COMP%]{float:right;background-color:#fff}"]})}return i})(),QJ=(()=>{class i{constructor(){this.tooltip=""}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-help-tooltip"]],inputs:{tooltip:"tooltip"},decls:3,vars:1,consts:[["matTooltipPosition","right",3,"matTooltip"]],template:function(n,r){1&n&&(O(0,"span",0)(1,"mat-icon"),tt(2," help "),L()()),2&n&&Y("matTooltip",r.tooltip)},dependencies:[zl,Ma]})}return i})();function MTt(i,e){if(1&i){const t=Ai();O(0,"li")(1,"a",13),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).goToLandUse(s))}),tt(2),O(3,"i"),tt(4),L()()()}if(2&i){const t=e.$implicit;z(2),mi("",t.commonName,", "),z(2),Mi(t.scientificname)}}function STt(i,e){if(1&i&&(O(0,"div",3)(1,"div")(2,"div",10),tt(3," A projection for this species is missing. Projections should be available for most terrestrial vertebrates. See "),O(4,"a",11),tt(5,"here"),L(),tt(6," for more info or select one of the species below "),L(),te(7,"br"),O(8,"div",10),tt(9," Please select from one of the following species featured in the publication: "),L(),O(10,"ul"),It(11,MTt,5,2,"li",12),L()()()),2&i){const t=Mt();z(11),Y("ngForOf",t.projectionSpeciesList)}}function kTt(i,e){if(1&i&&(O(0,"mat-option",26),tt(1),L()),2&i){const t=e.$implicit;Y("value",t),z(1),Mi(t)}}function DTt(i,e){if(1&i&&(O(0,"mat-option",26),tt(1),L()),2&i){const t=e.$implicit;Y("value",t.m),z(1),Mi(t.d)}}function TTt(i,e){1&i&&te(0,"mat-spinner",27),2&i&&Y("diameter",30)}function ITt(i,e){1&i&&(O(0,"div",28),tt(1," From: Powers & Jetz (2019): Global habitat loss and extinction risk of terrestrial vertebrates under future land- use change scenarios. "),te(2,"br"),tt(3," Nature Climate Change. "),te(4,"br"),tt(5," Click "),O(6,"a",29),tt(7,"here"),L(),tt(8," for more information. "),L())}const ATt=function(i){return{label:!0,disabled:i}},JJ=function(i){return{selectedControl:i}};function OTt(i,e){if(1&i){const t=Ai();O(0,"div",3)(1,"div")(2,"div",10),tt(3,"Projection Year (Map)"),L(),O(4,"mat-form-field",14)(5,"mat-select",15),fe("ngModelChange",function(r){return Te(t),Ie(Mt().year=r)})("ngModelChange",function(r){return Te(t),Ie(Mt().yearChanged(r))}),It(6,kTt,2,2,"mat-option",16),L()()(),O(7,"div")(8,"div"),tt(9," Shared Socio\u2010Economic Pathway (SSP) "),L(),O(10,"mat-form-field",17)(11,"mat-select",18),fe("ngModelChange",function(r){return Te(t),Ie(Mt().luMethod=r)}),It(12,DTt,2,2,"mat-option",16),L()()(),O(13,"div",19)(14,"div",10),tt(15,"Habitat Regain Assumption:"),L(),O(16,"div")(17,"button",20),fe("click",function(){return Te(t),Ie(Mt().regainScenario="scenario1")}),tt(18," No-regain "),L(),O(19,"button",20),fe("click",function(){return Te(t),Ie(Mt().regainScenario="scenario3")}),tt(20," Regain "),L()()(),O(21,"div",21)(22,"button",22),fe("click",function(){return Te(t),Ie(Mt().updateResults())}),tt(23," Get projection "),L(),O(24,"mol-help-tooltip",23),fe("click",function(){Te(t);const r=Mt();return Ie(r.showInfo=!r.showInfo)}),L(),It(25,TTt,1,1,"mat-spinner",24),L(),It(26,ITt,9,0,"div",25),L()}if(2&i){const t=Mt();z(5),Y("ngModel",t.year),z(1),Y("ngForOf",t.decades),z(2),Yn($r(16,ATt,2015===t.year)),z(3),Y("disabled",2015===t.year)("ngModel",t.luMethod),z(1),Y("ngForOf",t.luMethodsDrop),z(5),Yn($r(18,JJ,"scenario1"===t.regainScenario)),Y("disableRipple",!0),z(2),Yn($r(20,JJ,"scenario3"===t.regainScenario)),Y("disableRipple",!0),z(3),Y("disabled",t.loading||t.year===t.oldYear&&t.scientificname===t.oldScientificname&&t.oldLuMethod===t.luMethod&&t.oldLuOption===t.luOption&&t.oldRegainScenario===t.regainScenario),z(3),Y("ngIf",t.loading),z(1),Y("ngIf",t.showInfo)}}function RTt(i,e){1&i&&(O(0,"div",30)(1,"div",10),tt(2,"Projected suitability"),L(),O(3,"small"),tt(4,"If the projection map is not appearing, please zoom in."),L()())}const PTt=function(i){return{"cat-button":!0,selected:i}};function LTt(i,e){if(1&i&&(O(0,"button"),tt(1),L()),2&i){const t=e.$implicit,n=Mt(2);Yn($r(3,PTt,-1!==n.metadata.luh_cat.indexOf(t.code))),z(1),mi(" ",t.name," ")}}function FTt(i,e){if(1&i&&(O(0,"div",31)(1,"div",32)(2,"div",10),tt(3,"Suitable elevation:"),L(),O(4,"div",33),tt(5),L()(),O(6,"div",32)(7,"div",10),tt(8,"Suitable tree cover:"),L(),O(9,"div",33),tt(10),L()(),O(11,"div",10),tt(12,"Suitable land-cover categories (in blue):"),L(),It(13,LTt,2,5,"button",34),L()),2&i){const t=Mt();z(5),Ko(" ",t.metadata.elev_min," to ",t.metadata.elev_max," meters "),z(5),Ko(" ",t.metadata.treecover_min," to ",t.metadata.treecover_max,"% "),z(3),Y("ngForOf",t.landUseCategories)}}function NTt(i,e){if(1&i&&(O(0,"div",35),te(1,"google-chart",36),L()),2&i){const t=Mt();z(1),Y("data",t.chartData.data)("type","LineChart")("title",t.chartData.title)("columns",t.chartData.columns)("width",t.chartData.width)("height",t.chartData.height)("options",t.chartData.options)}}function BTt(i,e){if(1&i){const t=Ai();O(0,"div",37)(1,"button",38),fe("click",function(){return Te(t),Ie(Mt().openChartModal())}),tt(2," View Larger Chart "),L()()}}function zTt(i,e){1&i&&(O(0,"div",10),tt(1,"Legend"),L())}function VTt(i,e){1&i&&(O(0,"div",39)(1,"div"),tt(2,"% suitable habitat"),L(),te(3,"div",40),O(4,"div")(5,"span"),tt(6,"0"),L(),O(7,"span",41),tt(8,"100%"),L()()())}let HTt=(()=>{class i{constructor(t,n,r,s,o,l){this.state=t,this.species=n,this.mapService=r,this.config=s,this.dialog=o,this.snackBar=l,this.scientificname="",this.year=2015,this.regainScenario="scenario1",this.luOption="luh",this.luMethod="message",this.luScale="025deg",this.loading=!0,this.error=!1,this.projectionSpeciesList=XJ,this.luMethodsDrop=[{m:"image",d:"SSP 1 (RCP 2.6)"},{m:"message",d:"SSP 2 (RCP 4.5)"},{m:"aim",d:"SSP 3 (RCP 7.0)"},{m:"magpie",d:"SSP 5 (RCP 8.5)"}],this.chartData=null,this.speciesNameSubscription=null,this.metadata=null,this.showInfo=!1,this.landUseCategories=[{code:5,name:"Forest"},{code:15,name:"Non-Forest"},{code:14,name:"Managed Land"},{code:13,name:"Urban"},{code:12,name:"Crop"}],this.luhMethods={image:"SSP 1",message:"SSP 2",aim:"SSP 3",magpie:"SSP 5"},this.decadeOptions={globio:[2010,2020,2030,2040,2050],luh:[2015,2020,2030,2040,2050,2060,2070]},this.decades=[],this.oldScientificname="",this.oldYear=0,this.oldLuOption="",this.oldLuMethod="",this.oldRegainScenario=""}ngOnInit(){this.decades=this.decadeOptions[this.luOption],this.year=this.decades[0],this.speciesNameSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.updateResults()})}ngOnDestroy(){this.speciesNameSubscription.unsubscribe(),this.mapService.updateTileUrl("OFF")}yearChanged(t){2015===t&&(this.luMethod="message")}updateResults(){this.loading=!0,this.error=!1,this.oldScientificname=this.scientificname,this.oldYear=this.year,this.oldLuOption=this.luOption,this.oldLuMethod=this.luMethod,this.oldRegainScenario=this.regainScenario,this.species.getProjection({scientificname:this.scientificname,decade:this.year,landuse:this.luOption,lumethod:this.luMethod,scenario:this.regainScenario}).subscribe(t=>{this.loading=!1,this.extractChartData(t.chart),t.map&&(this.mapService.updateTileUrl(t.map.tile_url),this.snackBar.open("Projections of species with large ranges may not load until you zoom in the map.","Okay",{panelClass:"snackbar-color"})),t.metadata&&(this.metadata=t.metadata)},t=>{this.error=!0,this.loading=!1})}extractChartData(t){t&&(this.chartData={data:[],columns:[{type:"date",label:"Year",id:"Year"},{type:"number",label:"Regain",id:"Regain"},{type:"number",label:"No-regain",id:"No-regain"}],title:this.scientificname+" projection under "+this.luhMethods[this.luMethod],options:{legend:{position:"bottom"},hAxis:{title:"Year",format:"Y"},vAxis:{title:"Habitat-suitable range (km\xb2)"},colors:["#00F","#F00"]},width:450,height:350},this.decades.forEach(r=>{const s=[new Date(r,1,1)];t.features.forEach(o=>{s.push(o.properties[r])}),this.chartData.data.push(s)}))}openChartModal(){this.dialog.open(ETt,{data:{...this.chartData,height:500,width:700,options:{...this.chartData.options,chartArea:{width:"90%",height:"80%",right:0}}},width:"800px"})}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds)}zoomToDatasetExtent(t){this.mapService.zoomToDatasetExtent(t)}goToLandUse(t){this.state.updateScientificname(t.scientificname)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Kd),U(ul),U($f),U(vg),U(id),U(bb))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-projection"]],decls:11,vars:10,consts:[[3,"scientificname","wiki","speciesInfoUpdated"],["class","controls",4,"ngIf"],[1,"divider"],[1,"controls"],["class","results",4,"ngIf"],["class","section results",4,"ngIf"],["class","chart",4,"ngIf"],["class","chart-open-button",4,"ngIf"],["class","label",4,"ngIf"],["class","legend",4,"ngIf"],[1,"label"],["href","https://mol.org/species/projection"],[4,"ngFor","ngForOf"],[1,"lu-link",3,"click"],["appearance","legacy"],["name","year",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","legacy","floatLabel","never"],["name","ssp",3,"disabled","ngModel","ngModelChange"],[1,"section","regain-control"],["mat-raised-button","",3,"disableRipple","click"],[1,"section","go"],["mat-raised-button","","color","primary",1,"mol-button",3,"disabled","click"],[1,"showInfo",3,"click"],["color","accent","class","loading",3,"diameter",4,"ngIf"],["class","infoBlock",4,"ngIf"],[3,"value"],["color","accent",1,"loading",3,"diameter"],[1,"infoBlock"],["href","https://mol.org/species/projection/landuse"],[1,"results"],[1,"section","results"],[1,"results-block"],[1,"results-text"],[3,"class",4,"ngFor","ngForOf"],[1,"chart"],[3,"data","type","title","columns","width","height","options"],[1,"chart-open-button"],["mat-raised-button","",3,"click"],[1,"legend"],[2,"height","10px","background","linear-gradient(90deg, #0000ff00, #0000ffaa)"],[2,"float","right"]],template:function(n,r){1&n&&(O(0,"mol-species-info",0),fe("speciesInfoUpdated",function(o){return r.speciesInfoUpdated(o)}),L(),It(1,STt,12,1,"div",1),It(2,OTt,27,22,"div",1),te(3,"div",2),O(4,"div",3),It(5,RTt,5,0,"div",4),It(6,FTt,14,5,"div",5),It(7,NTt,2,7,"div",6),It(8,BTt,3,0,"div",7),It(9,zTt,2,0,"div",8),It(10,VTt,9,0,"div",9),L()),2&n&&(Y("scientificname",r.scientificname)("wiki",!1),z(1),Y("ngIf",r.error),z(1),Y("ngIf",!r.error),z(3),Y("ngIf",r.metadata),z(1),Y("ngIf",r.metadata),z(1),Y("ngIf",r.chartData),z(1),Y("ngIf",r.chartData),z(1),Y("ngIf",r.chartData),z(1),Y("ngIf",r.chartData))},dependencies:[Ps,on,Yu,QJ,Mw,kS,dl,qz,Qu,Ju,pc,Lf],styles:[".controls[_ngcontent-%COMP%]{padding-top:15px;margin-left:10px}.controls[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:15px 0}.controls[_ngcontent-%COMP%]   .section.go[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:middle;align-items:center}.controls[_ngcontent-%COMP%]   .section.go[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{margin:0 40px}.controls[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%]{cursor:pointer}.controls[_ngcontent-%COMP%]   .infoBlock[_ngcontent-%COMP%]{width:300px}.controls[_ngcontent-%COMP%]   .results-block[_ngcontent-%COMP%]{display:inline-flex;justify-content:center}.controls[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{font-weight:400}.controls[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{max-width:400px;overflow:hidden}.controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;padding-right:5px;padding-bottom:3px}.controls[_ngcontent-%COMP%]   .label.disabled[_ngcontent-%COMP%]{color:#aaa}.controls[_ngcontent-%COMP%]   .mol-button[_ngcontent-%COMP%]{color:#fff}.controls[_ngcontent-%COMP%]   .regain-control[_ngcontent-%COMP%]{display:block}.controls[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]:hover   .mat-button-focus-overlay[_ngcontent-%COMP%]{opacity:unset}.controls[_ngcontent-%COMP%]   .cat-button[_ngcontent-%COMP%]{margin:0 3px;cursor:default;height:30px;font-size:14px;font-weight:400;padding:2px 5px;border-radius:3px;min-width:50px;color:#333;background-color:#efefef;border:1px solid #ddd}.controls[_ngcontent-%COMP%]   .cat-button[_ngcontent-%COMP%]:focus{outline:unset}.controls[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#fff;background-color:#5bc0de}.controls[_ngcontent-%COMP%]   .selectedControl[_ngcontent-%COMP%]{color:#fff;background-color:#286090}.controls[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{padding:0 30px 60px}.lu-link[_ngcontent-%COMP%]{color:#203378}.chart-open-button[_ngcontent-%COMP%]{display:inline-flex;font-weight:500;font-size:12px;align-items:flex-end;width:90%;padding:10px}mol-help-tooltip[_ngcontent-%COMP%]{vertical-align:middle;padding-left:10px}"]})}return i})();function UTt(i,e){if(1&i&&(O(0,"div",14),tt(1),Yi(2,"translate"),L()),2&i){const t=Mt().$implicit,n=Mt();z(1),mi(" ",bn(2,1,"src_"+n.datasetNameMap[t].product_type)," ")}}function GTt(i,e){if(1&i&&(O(0,"div",14),tt(1),L()),2&i){const t=Mt().$implicit,n=Mt();z(1),mi(" ",n.datasetNameMap[t].type_title," ")}}function jTt(i,e){if(1&i&&(O(0,"mat-option",8)(1,"div",9),te(2,"img",10),O(3,"div",11)(4,"div",12),tt(5),L(),It(6,UTt,3,3,"div",13),It(7,GTt,2,1,"div",13),L()()()),2&i){const t=e.$implicit,n=Mt();Y("value",t),z(2),Y("src","https://cdn.mol.org/static/images/legends/datatypes/"+n.datasetNameMap[t].product_type+".png",rr),z(3),mi(" ",n.datasetNameMap[t].dataset_title," "),z(1),Y("ngIf","alienchecklist"!==n.datasetNameMap[t].product_type),z(1),Y("ngIf","alienchecklist"===n.datasetNameMap[t].product_type)}}function WTt(i,e){if(1&i&&(O(0,"tr")(1,"td",15),tt(2),L(),O(3,"td"),te(4,"span",16),L()()),2&i){const t=e.$implicit;z(2),Mi(t.k),z(2),Y("innerHTML",t.v,Du)}}function $Tt(i,e){if(1&i&&(O(0,"mat-list")(1,"table"),It(2,WTt,5,2,"tr",4),L()()),2&i){const t=e.$implicit;z(2),Y("ngForOf",t.metadataArray)}}let YTt=(()=>{class i{constructor(t,n,r,s,o){this.dialogRef=t,this.data=n,this.scientificname=r,this.translate=s,this.species=o,this.activeInfoPageDataChunk=[],this.datasetNameMap={},this.results=[],this.modalTitle="Feature information",this.modalType="",this.datasetIds=[],this.selected="",this.gbifKeysToRemove=["dataset_title","dataset_key","publishing_title","publishing_key","source_id"]}ngOnInit(){this.scientificname=this.data.scientificname,this.results=this.data.datasetResults.concat(this.data.geohashResults),this.results.forEach(t=>{if(t.metadataArray=[],Object.keys(t.metadata).forEach(r=>{"attributes"===r?Object.keys(t.metadata.attributes).filter(s=>null!==t.metadata.attributes[s]).forEach(s=>{t.metadataArray.push("flag"!==s&&"recorded_by"!==s||"string"==typeof t.metadata.attributes[s]?{k:s,v:t.metadata.attributes[s]}:{k:s,v:t.metadata.attributes[s].join(", ")})}):t.metadataArray.push({k:r,v:t.metadata[r]})}),"9905692e-6a28-4310-b01e-476a471e5bf8"==t.dataset_id){const r=t.metadataArray.find(d=>"dataset_key"===d.k),s=t.metadataArray.find(d=>"source_id"===d.k),o=`<a href="https://www.gbif.org/dataset/${r.v}" target="_blank">Dataset Link</a>`,l=`<a href="https://www.gbif.org/occurrence/${s.v}" target="_blank">Occurrence Record</a>`;t.metadataArray=t.metadataArray.filter(d=>-1===this.gbifKeysToRemove.indexOf(d.k)),t.metadataArray.push({k:"dataset",v:o}),t.metadataArray.push({k:"source",v:l})}if("794adb49-7458-41c4-a1c0-56537fdbec1d"==t.dataset_id){const r=t.metadataArray.find(l=>"checklist_complete"===l.k);r&&(r.v="1"===r.v?"True":"False");const s=t.metadataArray.find(l=>"sampling_event_identifier"===l.k),o=`<a href="https://ebird.org/checklist/${s.v}" target="_blank">${s.v}</a>`;t.metadataArray=t.metadataArray.filter(l=>-1===["sampling_event_identifier"].indexOf(l.k)),t.metadataArray.push({k:"sampling_event_identifier",v:o})}const n=t.metadataArray.find(r=>"uncertainty_m"===r.k);n&&n.v&&(n.v=1*n.v<1e3?`${n.v} m`:n.v/1e3+" km"),t.metadataArray=t.metadataArray.filter(r=>!!r.v),t.metadataArray.sort((r,s)=>"eventdate"===r.k?-1:1),t.metadataArray.forEach(r=>{r.k=r.k.replaceAll("_"," "),"aid"===r.k?r.k="Animal ID":"eventdate"===r.k&&(r.k="Event Date")})}),this.species.getDatasets(this.scientificname).subscribe(t=>{t.forEach(n=>{this.datasetNameMap[n.dataset_id]=n}),this.datasetIds=new Array(...new Set(this.results.map(n=>n.dataset_id)))})}ngAfterViewInit(){setTimeout(()=>{this.paginator.length=this.results.length,this.activeInfoPageDataChunk=this.results.slice(0,1),this.paginator.firstPage(),this.updateTitle(this.activeInfoPageDataChunk[0].dataset_id)})}onInfoPageChanged(t){this.pageEvent=t;const n=t.pageIndex*t.pageSize;this.activeInfoPageDataChunk=this.results.slice(n,n+t.pageSize),this.updateTitle(this.activeInfoPageDataChunk[0].dataset_id)}datasetSelectionChanged(t){const n=t.value,r=this.results.findIndex(s=>s.dataset_id===n);this.paginator.pageIndex=r,this.onInfoPageChanged({pageIndex:r,pageSize:1})}updateTitle(t){const n=this.datasetNameMap[t];this.selected=t,n?(this.modalTitle=n.dataset_title,this.modalType=n.type_title):"794adb49-7458-41c4-a1c0-56537fdbec1d"===t?(this.modalTitle="eBird",this.modalType="Occurrences"):"9905692e-6a28-4310-b01e-476a471e5bf8"===t?(this.modalTitle="GBIF",this.modalType="Occurrences"):(this.modalTitle="Dataset title missing",this.modalType="Dataset type missing")}static#t=this.\u0275fac=function(n){return new(n||i)(U(xg),U(Yf),U(Yf),U(yc),U(ul))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-feature-metadata-popup"]],viewQuery:function(n,r){if(1&n&&Pi(gZ,5),2&n){let s;Ze(s=We())&&(r.paginator=s.first)}},decls:14,vars:7,consts:[["mat-icon-button","","mat-dialog-close","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button"],[1,"dataset-select",3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"content"],[4,"ngFor","ngForOf"],["align","end"],[3,"pageSize","showFirstLastButtons","hidePageSize","page"],["paginator",""],[3,"value"],[1,"dataset-dropdown"],[1,"product-type-logo",3,"src"],[1,"ds-text"],[1,"dataset-title"],["class","dataset-type-title",4,"ngIf"],[1,"dataset-type-title"],[1,"title"],[3,"innerHTML"]],template:function(n,r){1&n&&(O(0,"button",0)(1,"mat-icon"),tt(2,"close"),L()(),O(3,"div")(4,"mat-form-field")(5,"mat-select",1),fe("selectionChange",function(o){return r.datasetSelectionChanged(o)})("valueChange",function(o){return r.selected=o}),O(6,"mat-select-trigger"),tt(7),L(),It(8,jTt,8,5,"mat-option",2),L()()(),O(9,"mat-dialog-content",3),It(10,$Tt,3,1,"mat-list",4),L(),O(11,"mat-dialog-actions",5)(12,"mat-paginator",6,7),fe("page",function(o){return r.onInfoPageChanged(o)}),L()()),2&n&&(z(5),Y("value",r.selected),z(2),mi(" ",null==r.datasetNameMap[r.selected]?null:r.datasetNameMap[r.selected].dataset_title," "),z(1),Y("ngForOf",r.datasetIds),z(2),Y("ngForOf",r.activeInfoPageDataChunk),z(2),Y("pageSize",1)("showFirstLastButtons",!0)("hidePageSize",!0))},dependencies:[Ps,on,zL,P2,HX,gZ,tyt,Ma,Qu,Ju,hZ,pc,zl,ed],styles:[".popup-close-button[_ngcontent-%COMP%]{float:right;background-color:#fff}.title[_ngcontent-%COMP%]{font-weight:400;padding:3px;text-transform:capitalize}.dataset-select[_ngcontent-%COMP%]{font-size:16px}.dataset-select[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto!important}.dataset-select[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{max-width:100%;width:auto}.mat-option[_ngcontent-%COMP%]{height:40px;padding:5px 0}.mat-option[_ngcontent-%COMP%]   .dataset-dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.mat-option[_ngcontent-%COMP%]   .dataset-dropdown[_ngcontent-%COMP%]   .product-type-logo[_ngcontent-%COMP%]{height:25px;width:25px;padding:5px}.mat-option[_ngcontent-%COMP%]   .ds-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:17px}.mat-option[_ngcontent-%COMP%]   .ds-text[_ngcontent-%COMP%]   .dataset-title[_ngcontent-%COMP%]{font-size:18px}.mat-option[_ngcontent-%COMP%]   .ds-text[_ngcontent-%COMP%]   .dataset-type-title[_ngcontent-%COMP%]{font-size:12px;line-height:10px;font-weight:300}.info-title[_ngcontent-%COMP%]{font-weight:500;min-width:500px;font-size:1.2em;padding-right:15px}.modal-title[_ngcontent-%COMP%]{margin-bottom:5px}.modal-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-right:5px;margin-bottom:-8px}.modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 3px;font-size:.7em;font-weight:300}.content[_ngcontent-%COMP%]{max-height:400px}table[_ngcontent-%COMP%]{padding:0 3px;table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-wrap:break-word}@media screen and (max-device-width: 480px){tr[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]})}return i})();class U3 extends LK{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(mn.bN),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push((0,mn.oL)(this.geometries_[e],Dn.Z.CHANGE,this.changed,this))}clone(){const e=new U3(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<(0,me.qf)(this.getExtent(),e,t))return r;const s=this.geometries_;for(let o=0,l=s.length;o<l;++o)r=s[o].closestPointXY(e,t,n,r);return r}containsXY(e,t){const n=this.geometries_;for(let r=0,s=n.length;r<s;++r)if(n[r].containsXY(e,t))return!0;return!1}computeExtent(e){(0,me.YN)(e);const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)(0,me.l7)(e,t[n].getExtent());return e}getGeometries(){return ttt(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let r=!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],d=l.getSimplifiedGeometry(e);t.push(d),d!==l&&(r=!0)}if(r){const s=new U3(null);return s.setGeometriesArray(t),s}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const n=this.geometries_;for(let r=0,s=n.length;r<s;++r)n[r].rotate(e,t);this.changed()}scale(e,t,n){n||(n=(0,me.qg)(this.getExtent()));const r=this.geometries_;for(let s=0,o=r.length;s<o;++s)r[s].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(ttt(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let r=0,s=n.length;r<s;++r)n[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function ttt(i){const e=[];for(let t=0,n=i.length;t<n;++t)e.push(i[t].clone());return e}const ett=U3;function G3(i){return"string"==typeof i?JSON.parse(i)||null:null!==i?i:null}const qTt=class ZTt extends AK{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(G3(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(G3(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return(0,gi.O3)()}readFeaturesFromObject(e,t){return(0,gi.O3)()}readGeometry(e,t){return this.readGeometryFromObject(G3(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return(0,gi.O3)()}readProjection(e){return this.readProjectionFromObject(G3(e))}readProjectionFromObject(e){return(0,gi.O3)()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return(0,gi.O3)()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return(0,gi.O3)()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return(0,gi.O3)()}};function fH(i,e){if(!i)return null;let t;switch(i.type){case"Point":t=function QTt(i){return new qf(i.coordinates)}(i);break;case"LineString":t=function JTt(i){return new kg(i.coordinates)}(i);break;case"Polygon":t=function nIt(i){return new Sb(i.coordinates)}(i);break;case"MultiPoint":t=function eIt(i){return new u3(i.coordinates)}(i);break;case"MultiLineString":t=function tIt(i){return new d3(i.coordinates)}(i);break;case"MultiPolygon":t=function iIt(i){return new m3(i.coordinates)}(i);break;case"GeometryCollection":t=function KTt(i,e){const t=i.geometries.map(function(n){return fH(n,e)});return new ett(t)}(i);break;default:throw new Error("Unsupported GeoJSON type: "+i.type)}return G7(t,!1,e)}function mH(i,e){const t=(i=G7(i,!0,e)).getType();let n;switch(t){case"Point":n=function cIt(i,e){return{type:"Point",coordinates:i.getCoordinates()}}(i);break;case"LineString":n=function sIt(i,e){return{type:"LineString",coordinates:i.getCoordinates()}}(i);break;case"Polygon":n=function dIt(i,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:i.getCoordinates(t)}}(i,e);break;case"MultiPoint":n=function aIt(i,e){return{type:"MultiPoint",coordinates:i.getCoordinates()}}(i);break;case"MultiLineString":n=function oIt(i,e){return{type:"MultiLineString",coordinates:i.getCoordinates()}}(i);break;case"MultiPolygon":n=function lIt(i,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:i.getCoordinates(t)}}(i,e);break;case"GeometryCollection":n=function rIt(i,e){return delete(e=Object.assign({},e)).featureProjection,{type:"GeometryCollection",geometries:i.getGeometriesArray().map(function(n){return mH(n,e)})}}(i,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+t)}return n}const j3=class XTt extends qTt{constructor(e){e=e||{},super(),this.dataProjection=Tr(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Tr(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const r=fH(n.geometry,t),s=new Ec;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&s.setGeometryName(n.geometry_name),s.setGeometry(r),"id"in n&&s.setId(n.id),n.properties&&s.setProperties(n.properties,!0),s}readFeaturesFromObject(e,t){let r=null;if("FeatureCollection"===e.type){r=[];const o=e.features;for(let l=0,d=o.length;l<d;++l)r.push(this.readFeatureFromObject(o[l],t))}else r=[this.readFeatureFromObject(e,t)];return r}readGeometryFromObject(e,t){return fH(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if("name"==t.type)n=Tr(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");n=Tr("EPSG:"+t.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},r=e.getId();if(void 0!==r&&(n.id=r),!e.hasProperties())return n;const s=e.getProperties(),o=e.getGeometry();return o&&(n.geometry=mH(o,t),delete s[e.getGeometryName()]),(0,Tg.x)(s)||(n.properties=s),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let r=0,s=e.length;r<s;++r)n.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return mH(e,this.adaptOptions(t))}};class W3 extends Mg{constructor(e,t,n){super(),void 0!==n&&void 0===t?this.setFlatCoordinates(n,e):this.setCenterAndRadius(e,t=t||0,n)}clone(){const e=new W3(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const s=this.flatCoordinates,o=e-s[0],l=t-s[1],d=o*o+l*l;if(d<r){if(0===d)for(let h=0;h<this.stride;++h)n[h]=s[h];else{const h=this.getRadius()/Math.sqrt(d);n[0]=s[0]+h*o,n[1]=s[1]+h*l;for(let m=2;m<this.stride;++m)n[m]=s[m]}return n.length=this.stride,d}return r}containsXY(e,t){const n=this.flatCoordinates,r=e-n[0],s=t-n[1];return r*r+s*s<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,n=t[this.stride]-t[0];return(0,me.T9)(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if((0,me.kK)(e,t)){const n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]||(0,me.H6)(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],r=e.slice();r[t]=r[0]+n;for(let s=1;s<t;++s)r[t+s]=e[s];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let s=NK(r,0,e);r[s++]=r[0]+t;for(let o=1,l=this.stride;o<l;++o)r[s++]=r[o];r.length=s,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const n=this.getCenter(),r=this.getStride();this.setCenter(Y7(n,0,n.length,r,e,t,n)),this.changed()}}const uIt=W3;class Y3 extends uw.ZP{constructor(e,t){super(e),this.feature=t}}function Z3(i,e){return(0,Fi.bI)(i[0],i[1],e[0],e[1])}function Dw(i,e){const t=i.length;return e<0?i[e+t]:e>=t?i[e-t]:i[e]}function q3(i,e,t){let n,r;e<t?(n=e,r=t):(n=t,r=e);const s=Math.ceil(n),o=Math.floor(r);if(s>o)return Z3(Tw(i,n),Tw(i,r));let l=0;n<s&&(l+=Z3(Tw(i,n),Dw(i,s))),o<r&&(l+=Z3(Dw(i,o),Tw(i,r)));for(let d=s;d<o-1;++d)l+=Z3(Dw(i,d),Dw(i,d+1));return l}function itt(i,e,t){if(e instanceof kg)X3(i,e.getCoordinates(),!1,t);else if(e instanceof d3){const n=e.getCoordinates();for(let r=0,s=n.length;r<s;++r)X3(i,n[r],!1,t)}else if(e instanceof Sb){const n=e.getCoordinates();for(let r=0,s=n.length;r<s;++r)X3(i,n[r],!0,t)}else if(e instanceof m3){const n=e.getCoordinates();for(let r=0,s=n.length;r<s;++r){const o=n[r];for(let l=0,d=o.length;l<d;++l)X3(i,o[l],!0,t)}}else if(e instanceof ett){const n=e.getGeometries();for(let r=0;r<n.length;++r)itt(i,n[r],t)}}const pH={index:-1,endIndex:NaN};function X3(i,e,t,n){const r=i[0],s=i[1];for(let o=0,l=e.length-1;o<l;++o){const m=ntt(r,s,e[o],e[o+1]);if(0===m.squaredDistance){const b=o+m.along;return void n.push({coordinates:e,ring:t,startIndex:b,endIndex:b})}}}const gH={along:0,squaredDistance:0};function ntt(i,e,t,n){const r=t[0],s=t[1],d=n[0]-r,h=n[1]-s;let m=0,b=r,v=s;return(0!==d||0!==h)&&(m=(0,Fi.uZ)(((i-r)*d+(e-s)*h)/(d*d+h*h),0,1),b+=d*m,v+=h*m),gH.along=m,gH.squaredDistance=(0,Fi.FH)((0,Fi.bI)(i,e,b,v),10),gH}function Tw(i,e){const t=i.length;let n=Math.floor(e);const r=e-n;n>=t?n-=t:n<0&&(n+=t);let s=n+1;s>=t&&(s-=t);const o=i[n],l=o[0],d=o[1],h=i[s];return[l+(h[0]-l)*r,d+(h[1]-d)*r]}function pIt(){const i=function bCt(){const i={},e=[255,255,255,1],t=[0,153,255,1];return i.Polygon=[new Ig({fill:new Cs({color:[255,255,255,.5]})})],i.MultiPolygon=i.Polygon,i.LineString=[new Ig({stroke:new Xs({color:e,width:5})}),new Ig({stroke:new Xs({color:t,width:3})})],i.MultiLineString=i.LineString,i.Circle=i.Polygon.concat(i.LineString),i.Point=[new Ig({image:new Yd({radius:6,fill:new Cs({color:t}),stroke:new Xs({color:e,width:1.5})}),zIndex:1/0})],i.MultiPoint=i.Point,i.GeometryCollection=i.Polygon.concat(i.LineString,i.Point),i}();return function(e,t){return i[e.getGeometry().getType()]}}const rtt=class mIt extends kw{constructor(e){const t=e;t.stopDown||(t.stopDown=ja.Dv),super(t),this.shouldHandle_=!1,this.downPx_=null,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function gIt(i){switch(i){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+i)}}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:ja.uX,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let n=e.geometryFunction;if(!n){const r=this.mode_;if("Circle"===r)n=function(s,o,l){const d=o||new uIt([NaN,NaN]),h=Gd(s[0]),m=O7(h,Gd(s[s.length-1]));d.setCenterAndRadius(h,Math.sqrt(m),this.geometryLayout_);const b=V7();return b&&d.transform(l,b),d};else{let s;"Point"===r?s=qf:"LineString"===r?s=kg:"Polygon"===r&&(s=Sb),n=function(o,l,d){return l?l.setCoordinates("Polygon"===r?o[0].length?[o[0].concat([o[0][0]])]:[]:o,this.geometryLayout_):l=new s(o,this.geometryLayout_),l}}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new H3({source:new ok({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:pIt(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:sH,this.freehandCondition_=e.freehand?rH:e.freehandCondition?e.freehandCondition:FJ,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener("active",this.updateState_)}setTrace(e){let t;t=e?!0===e?rH:e:nDt,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===Dn.Z.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);let t=e.type===Pr.POINTERMOVE,n=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Pr.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Pr.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===Pr.POINTERDOWN?n=!1:t&&this.getPointerCount()<2?(n=e.type===Pr.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===Pr.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===Pr.DBLCLICK&&(n=!1),super.handleEvent(e)&&n}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new nm(Pr.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active)return void this.deactivateTrace_();const t=this.getMap(),n=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),r=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),s=(0,me.hI)([n,r]),o=this.traceSource_.getFeaturesInExtent(s);if(0===o.length)return;const l=function hIt(i,e){const t=[];for(let n=0;n<e.length;++n)itt(i,e[n].getGeometry(),t);return t}(e.coordinate,o);l.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:l,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex;n===e.startIndex<=t?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const r=Math.ceil(e);let s=Math.floor(t);s===t&&(s-=1),n=s-r+1}else{const r=Math.floor(e);let s=Math.ceil(t);s===t&&(s+=1),n=r-s+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(e,t,n){if(t===n)return;const r=[];if(t<n){const s=Math.ceil(t);let o=Math.floor(n);o===n&&(o-=1);for(let l=s;l<=o;++l)r.push(Dw(e.coordinates,l))}else{const s=Math.floor(t);let o=Math.ceil(n);o===n&&(o+=1);for(let l=s;l>=o;--l)r.push(Dw(e.coordinates,l))}r.length&&this.appendCoordinates(r)}updateTrace_(e){const t=this.traceState_;if(!t.active||-1===t.targetIndex&&MK(t.startPx,e.pixel)<this.snapTolerance_)return;const n=function fIt(i,e,t,n){const r=i[0],s=i[1];let o=1/0,l=-1,d=NaN;for(let b=0;b<e.targets.length;++b){const v=e.targets[b],E=v.coordinates;let T,D=1/0;for(let P=0;P<E.length-1;++P){const j=ntt(r,s,E[P],E[P+1]);j.squaredDistance<D&&(D=j.squaredDistance,T=P+j.along)}D<o&&(o=D,v.ring&&e.targetIndex===b&&(v.endIndex>v.startIndex?T<v.startIndex&&(T+=E.length):v.endIndex<v.startIndex&&T>v.startIndex&&(T-=E.length)),d=T,l=b)}const h=e.targets[l];let m=h.ring;if(e.targetIndex===l&&m){const b=Tw(h.coordinates,d);MK(t.getPixelFromCoordinate(b),e.startPx)>n&&(m=!1)}if(m){const b=h.coordinates,v=b.length,E=h.startIndex,D=d;if(E<D){const T=q3(b,E,D);q3(b,E,D-v)<T&&(d-=v)}else{const T=q3(b,E,D);q3(b,E,D+v)<T&&(d+=v)}}return pH.index=l,pH.endIndex=d,pH}(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==n.index){if(-1!==t.targetIndex){const d=t.targets[t.targetIndex];this.removeTracedCoordinates_(d.startIndex,d.endIndex)}const l=t.targets[n.index];this.addTracedCoordinates_(l,l.startIndex,n.endIndex)}else this.addOrRemoveTracedCoordinates_(t.targets[t.targetIndex],n.endIndex);t.targetIndex=n.index;const r=t.targets[t.targetIndex];r.endIndex=n.endIndex;const s=Tw(r.coordinates,r.endIndex),o=this.getMap().getPixelFromCoordinate(s);e.coordinate=s,e.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(e){let t=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const n=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(e.coordinate),!r&&this.freehand_?this.finishDrawing():!this.freehand_&&(!r||"Point"===this.mode_)&&(this.atFinish_(e.pixel,n)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,n=e.pixel,r=t[0]-n[0],s=t[1]-n[1],o=r*r+s*s;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e,t){let n=!1;if(this.sketchFeature_){let r=!1,s=[this.finishCoordinate_];const o=this.mode_;if("Point"===o)n=!0;else if("Circle"===o)n=2===this.sketchCoords_.length;else if("LineString"===o)r=!t&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){const l=this.sketchCoords_;r=l[0].length>this.minPoints_,s=[l[0][0],l[0][l[0].length-2]],s=t?[l[0][0]]:[l[0][0],l[0][l[0].length-2]]}if(r){const l=this.getMap();for(let d=0,h=s.length;d<h;d++){const m=s[d],b=l.getPixelFromCoordinate(m),v=e[0]-b[0],E=e[1]-b[1],D=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(v*v+E*E)<=D,n){this.finishCoordinate_=m;break}}}}return n}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Ec(new qf(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Ec);const t=e.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new kg(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(e){const t=this.getMap().getView().getProjection(),n=n3(this.geometryLayout_);for(;e.length<n;)e.push(0);this.finishCoordinate_=e,"Point"===this.mode_?this.sketchCoords_=e.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Ec(new kg(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Ec,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new Y3("drawstart",this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),n=this.sketchFeature_.getGeometry(),r=t.getView().getProjection(),s=n3(this.geometryLayout_);let o,l;for(;e.length<s;)e.push(0);"Point"===this.mode_?l=this.sketchCoords_:"Polygon"===this.mode_?(o=this.sketchCoords_[0],l=o[o.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,l=o[o.length-1]),l[0]=e[0],l[1]=e[1],this.geometryFunction_(this.sketchCoords_,n,r),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),"Polygon"===n.getType()&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(n):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let r,s;const o=this.mode_;"LineString"===o||"Circle"===o?(this.finishCoordinate_=e.slice(),s=this.sketchCoords_,s.length>=this.maxPoints_&&(this.freehand_?s.pop():r=!0),s.push(e.slice()),this.geometryFunction_(s,t,n)):"Polygon"===o&&(s=this.sketchCoords_[0],s.length>=this.maxPoints_&&(this.freehand_?s.pop():r=!0),s.push(e.slice()),r&&(this.finishCoordinate_=s[0]),this.geometryFunction_(this.sketchCoords_,t,n)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),r&&this.finishDrawing()}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;for(let s=0;s<e;++s){let o;if("LineString"===r||"Circle"===r){if(o=this.sketchCoords_,o.splice(-2,1),o.length>=2){this.finishCoordinate_=o[o.length-2].slice();const l=this.finishCoordinate_.slice();o[o.length-1]=l,this.createOrUpdateSketchPoint_(l)}this.geometryFunction_(o,t,n),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if("Polygon"===r){o=this.sketchCoords_[0],o.splice(-2,1);const l=this.sketchLine_.getGeometry();if(o.length>=2){const d=o[o.length-2].slice();o[o.length-1]=d,this.createOrUpdateSketchPoint_(d)}l.setCoordinates(o),this.geometryFunction_(this.sketchCoords_,t,n)}if(1===o.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const n=e.getGeometry(),r=this.getMap().getView().getProjection();"LineString"===this.mode_?(t.pop(),this.geometryFunction_(t,n,r)):"Polygon"===this.mode_&&(t[0].pop(),this.geometryFunction_(t,n,r),t=n.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new u3([t])):"MultiLineString"===this.type_?e.setGeometry(new d3([t])):"MultiPolygon"===this.type_&&e.setGeometry(new m3([t])),this.dispatchEvent(new Y3("drawend",e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Y3("drawabort",e))}appendCoordinates(e){const t=this.mode_,n=!this.sketchFeature_;let r;if(n&&this.startDrawing_(e[0]),"LineString"===t||"Circle"===t)r=this.sketchCoords_;else{if("Polygon"!==t)return;r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&r.shift(),r.pop();for(let o=0;o<e.length;o++)this.addToDrawing_(e[o]);const s=e[e.length-1];this.addToDrawing_(s),this.modifyDrawing_(s)}extend(e){const n=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=n.getCoordinates();const r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.sketchPoint_=new Ec(new qf(r)),this.updateSketchFeatures_(),this.dispatchEvent(new Y3("drawstart",this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}};function _H(i=[]){if(0===i.length)return function(d,h){};const e=Qxt,t=Math.min(i.length,e.length),r=new Cs({color:"#f44444aa"}),s=new Xs({color:"#EEEEEE",width:.2}),o=new bs({fill:r,stroke:s});return function(d,h){return r.setColor(function(d){for(let h=0;h<t;h++)if(d<=i[h])return e[h];return"#000000"}(d.get("ct"))+"88"),o}}const stt=[];for(let i=0;i<=1;++i)stt.push(156543.03392804097/Math.pow(2,2*i));const _It=new Ib({extent:Tr("EPSG:3857").getExtent(),resolutions:stt,tileSize:512}),bH=new im({attributions:'\xa9 <a href="https://mol.org">MOL</a>',format:new Xf,projection:"EPSG:3857",tileGrid:_It,transition:0}),ott=new qd({visible:!1,source:bH,minZoom:1,maxZoom:8,transition:0,style:_H()}),bIt=(new qd({visible:!1,source:bH,minZoom:1,maxZoom:8,transition:0,style:_H()}),new jd.default({fold:"open",type:"overlay",layers:[ott]})),vH=bK,K3=new Image;K3.src="https://storage.googleapis.com/cdn.mol.org/static/images/hatching/bw20.png",K3.width=512,K3.height=512;const yIt=document.createElement("canvas").getContext("2d").createPattern(K3,"repeat");function ak(i=!1,e=!1){const t=new Cs({color:""}),n=new Xs({color:"#CCCCCC",width:1}),s=(new bs({fill:t}),new bs({fill:t,stroke:n})),l=(new bs({stroke:n}),new bs({image:new Yd({fill:new Cs({color:"#F60C1577"}),stroke:new Xs({color:"#CCCCCC",width:.6}),radius:17}),fill:new Cs({color:"#FA4141"})})),d=new bs({image:new Yd({fill:new Cs({color:vH[0]}),stroke:new Xs({color:"#CCCCCC",width:1}),radius:1}),fill:new Cs({color:"#FA4141"})}),h=[];return function(m,b){let v=0,E=m.get("layer");"tile"===E&&(E=m.get("product_type")),m.get("product_type"),m.get("presence");const P=m.get("uncertainty"),F=m.getGeometry().getType();if("nodata"==E)t.setColor(yIt),h[v++]=s;else if("coverage"==E)t.setColor("rgba(255,255,255, 0)"),h[v++]=s;else if("range"==E){const H=m.get("seasonality");t.setColor(Hd.range.seasonality[H]),h[v++]=s}else if("localinv"==E)t.setColor(Hd.localinv.color),n.setWidth(.7),h[v++]=s;else if("regionalchecklist"==E)t.setColor(Hd.regionalchecklist.color),h[v++]=s;else if("griddedrangeatlas"==E)t.setColor(Hd.griddedrangeatlas.color),n.setWidth(.1),h[v++]=s;else if("alienchecklist"==E)t.setColor(Hd.alienchecklist.color),t.setColor("rgba(255, 208, 215, 0.7)"),h[v++]=s;else if("movement"!=E)if("buffer"==E&&i)t.setColor(P>=16e4?"rgba(51, 51, 51, 0.15)":P<16e4?"rgba(51, 51, 51, 0.2)":P<=8e4?"rgba(51, 51, 51, 0.25)":P<=4e4?"rgba(51, 51, 51, 0.30)":P<=2e4?"rgba(51, 51, 51, 0.35)":P<=1e4?"rgba(51, 51, 51, 0.40)":P<=5e3?"rgba(51, 51, 51, 0.45)":P<=2500?"rgba(51, 51, 51, 0.5)":P<=1250?"rgba(51, 51, 51, 0.55)":P<=625?"rgba(51, 51, 51, 0.6)":"rgba(51, 51, 51, 0.5)"),h[v++]=s;else if("points"==E)d.getImage().setRadius(4),h[v++]=d;else if("occurrence"==E){const H=Math.trunc(Math.min(8,Math.floor(Math.log(m.get("total")))));if("Polygon"==F)t.setColor(vH[H]+"AA"),n.setWidth(.2),n.setColor("#333"),h[v++]=s;else{const j=Math.floor(2*H+3);l.getImage().setRadius(j),l.getImage().getFill().setColor(vH[H]),h[v++]=l}}else"spp_data"==E&&(t.setColor("rgba(68, 136, 51, 0.6)"),h[v++]=s);return h.length=v,h}}function att(i=[],e={threshold:.1,showCellProtectedArea:!0}){const t=new Cs({color:"#f44444aa"}),n=new Xs({color:"#EEEEEE",width:.3}),r=new bs({stroke:new Xs({color:"#000000",width:.5}),fill:new Cs({color:"#ffffff00"})}),s=new bs({stroke:new Xs({color:"#FFFFFF",width:1})}),o=new bs({fill:t,stroke:n}),l="88";return function(d,h){const m=d.getProperties();if("layer"===m.layer)return o.getFill().setColor(Yxt[m.map_color]),o;if("region"===m.layer&&"data"===m.type)return e.showCellProtectedArea&&parseFloat(m.prop)>=e.threshold?r:void 0;if("region"===m.layer&&"mask"===m.type)return e.showCellProtectedArea?s:void 0;if("region"===m.layer)return r;if("pattern"===m.layer){const v=o.getFill();if(void 0!==m.pct_value)v.setColor(gK[Math.round(m.pct_value)]+"77");else if("sr_mrx"===m.ptype||"ph_mrx"===m.ptype)v.setColor("0"===m.pvalue?"#00000000":function(i){return Xxt[Math.floor(9*i)]}(parseFloat(m.pvalue))+l);else if("disc_srunk"===m.ptype){let E=parseFloat(m.pvalue);v.setColor("#00000000");let D=(i=>(0,Wxt.Z)((i=>{for(let e=1;e<aw.length-1;e++)if(i<=aw[e+1])return twt[e](i);return 1})(100*i)))(E).replace("rgb","rgba").replace(")"," ,0.6)");v.setColor(D),o.getStroke().setColor("#00000000")}else if("richness"===m.ptype){var b=(i=>_K[i])(parseInt(m.map_color,10));v.setColor(b),o.getStroke().setColor("#00000000")}else if(void 0!==m.map_color){const E=parseInt(m.map_color,10);E<2e3?v.setColor(gK[E-1e3]+l):E>=2e3&&v.setColor($xt[E-2e3]+l)}else void 0!==m.label&&v.setColor(function(i){switch(i){case"FishOnly":return"#2e72f6";case"PlantsOnly":return"#7ce245";case"VertsOnly":return"#d32d1f";case"Fish_Plants":case"Fish_Verts":return"#4aa586";case"Plants_Fish":return"#a07125";case"Plants_Verts_Fish":return"#465085";case"Marine":return"#ccfde9";default:console.log("getRarityCentersColor",i,"not found")}}(m.label)+"aa")}return o}}const yH=function(){new bs({fill:new Cs({color:[255,100,100,.2]}),stroke:new Xs({color:[255,100,100,.8]})});let e=new bs({stroke:new Xs({color:"blue",width:1}),fill:new Cs({color:"rgba(0, 0, 255, 0.1)"}),text:new R9({fill:new Cs({color:"white"}),scale:2})});return n=>{let r=n.get("region_id"),s=Math.abs((n=>n.split("").reduce(function(r,s){return(r=(r<<5)-r+s.charCodeAt(0))&r},0))(r)),o=s%1e3*255/1e3,l=s%1e6*255/1e6,d=s%1e9*255/1e9;return"f567e547-8ef7-42ee-a131-a4ec012822b1"===n.get("region_dataset_id")?(e.getFill().setColor(`rgba(${o}, ${l}, ${d}, 0.6)`),e.getStroke().setColor(`rgba(${o}, ${l}, ${d}, 0.8)`)):(e.getFill().setColor(`rgba(${o}, ${l}, ${d}, 0)`),e.getStroke().setColor("rgba(255,255,255, 1)")),e}},ltt=[];for(let i=0;i<=5;++i)ltt.push(156543.03392804097/Math.pow(2,2*i));const xH=new Ib({extent:Tr("EPSG:3857").getExtent(),resolutions:ltt,tileSize:512}),wH=new im({attributions:'\xa9 <a href="https://mol.org">MOL</a>',format:new Xf,projection:"EPSG:3857",tileGrid:xH}),CH=new qd({title:"Vector tile - Indicators",visible:!1,source:wH,style:att()}),ctt=new Cc({tileGrid:xH}),dtt=new Vl({title:"Raster layer",visible:!1,opacity:.8,source:ctt}),MIt=new jd.default({fold:"open",type:"overlay",layers:[CH,dtt]}),utt=[];for(let i=0;i<=14;++i)utt.push(156543.03392804097/Math.pow(2,2*i));const lk=new Ib({extent:Tr("EPSG:3857").getExtent(),resolutions:utt,tileSize:512}),ck=new im({format:new Xf({featureClass:Ec}),projection:"EPSG:3857",tileGrid:lk,transition:0}),Iw=new qd({title:"Vector tile - Species",visible:!1,source:ck,renderMode:"hybrid",style:ak()}),EH=new im({format:new Xf({featureClass:Ec}),projection:"EPSG:3857",tileGrid:lk,transition:0}),Q3=new qd({title:"Vector tile - Species",visible:!1,source:EH,renderMode:"hybrid",style:function wIt(){var i=new Cs({color:"rgba(251, 120, 84, 0.6)"}),e=new Xs({color:"#FA4141",width:1});new bs({image:new M9({fill:i,stroke:e,points:3,radius:4,rotation:Math.PI/4,angle:0})});var n=new Cs({color:"rgba(255,255,255,0.4)"}),r=new Xs({color:"#3399CC",width:1.25}),o=(new bs({image:new Yd({fill:n,stroke:r,radius:5}),fill:n,stroke:r}),new bs({image:new A9({opacity:.4,src:'data:image/svg+xml;utf8,\n<svg width="100" height="100" version="1.1" xmlns="http://www.w3.org/2000/svg">\n  <style>\n  polygon {\n    fill: white;\n    stroke: darkgrey;\n    stroke-width: 20px;\n  }\n  </style>\n\n  <polygon color="white" points="100,100 50,0 0,100" class="triangle" />\n  </svg>\n',color:"rgb(241, 147, 121)",scale:.1})}));return()=>o}()}),J3=new ok,htt=new H3({source:J3,style:function CIt(){const i=new bs({image:new Yd({stroke:new Xs({color:[0,120,120],width:2}),radius:1})}),e=new bs({image:new Yd({stroke:new Xs({color:[33,33,255],width:2}),radius:1})}),t=new Cs({color:"rgba(255,255,255,0.4)"}),n=new Xs({color:"#3399CC",width:1.25}),r=new bs({fill:t,stroke:n});return s=>"Point"==s.getGeometry().getType()?"Occurrence"===s.get("what")?e:i:r}(),opacity:.6}),lh=new ok,tF=new H3({source:lh,opacity:.6}),eF=new im({format:new Xf({featureClass:Ec}),projection:"EPSG:3857",tileGrid:lk,transition:0}),Ob=new qd({title:"Vector tile - Occurrence",visible:!1,source:eF,renderMode:"hybrid",style:ak()}),dk=new Cc({tileGrid:lk}),uk=new Vl({title:"Raster version",visible:!1,opacity:.7,source:dk}),ftt=new Cc({tileGrid:lk}),mtt=new Vl({title:"Rangemap layer",visible:!1,opacity:.8,source:ftt}),SIt=new jd.default({fold:"open",type:"overlay",layers:[uk,Iw,Ob,Q3,mtt,htt,tF]}),ptt=[];for(let i=0;i<=14;++i)ptt.push(156543.03392804097/Math.pow(2,2*i));const MH=new Ib({extent:Tr("EPSG:3857").getExtent(),resolutions:ptt,tileSize:512}),gtt=new im({format:new Xf({featureClass:Ec}),projection:"EPSG:3857",tileGrid:MH,transition:0}),kIt=new qd({title:"Vector tile - regions",visible:!1,source:gtt,style:yH()}),_tt=new im({format:new Xf({featureClass:Ec}),projection:"EPSG:3857",tileGrid:MH,transition:0}),DIt=new qd({title:"Vector tile - Species",visible:!1,source:_tt,renderMode:"hybrid",style:ak()}),btt=new im({format:new Xf({featureClass:Ec}),projection:"EPSG:3857",tileGrid:MH,transition:0}),TIt=new qd({title:"Vector tile - Occurrence",visible:!1,source:btt,renderMode:"hybrid",style:ak()}),IIt=new Vl({title:"Locations",type:"overlay",visible:!1,source:new Cc({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/arcgis/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}"})}),AIt=new Vl({title:"Locations",type:"overlay",visible:!1,source:new Cc({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/arcgis/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}"})}),OIt=new Vl({title:"Locations",type:"overlay",visible:!1,source:new Cc({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Imagery/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/arcgis/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}"})}),vtt=[kIt,tF,DIt,TIt,IIt,AIt,OIt],RIt=[gtt,lh,_tt,btt],PIt={regions:0,user_layer:1,species:2,speciesOcc:3},LIt=new jd.default({fold:"open",type:"overlay",layers:vtt});var Aw=function(i){return i.LIGHT="LIGHT",i.DARK="DARK",i.SATELITE="SATELITE",i}(Aw||{});class FIt{constructor(e={zoom:2,center:[10,30],maxZoom:14,minZoom:1},t,n,r,s="species",o=(d=>{}),l=Aw.LIGHT){this.mode="species",this.state=Bg.MAP,this.currentZoom=2,this.radius=2500,this.drawEndCallback=d=>{},this.overlaySource=[ck,eF,dk,EH],this.overlayLayer=[Iw,Ob,uk,Q3],this.tileLoadStartRef=null,this.tileLoadEndRef=null,this.tileLoadErrorRef=null,this.clickHandlerRef=null,this.pointerMoveHandlerRef=null,this.zoomHandlerRef=null,this.feedbackInteraction=new rtt({source:lh,type:"Polygon",freehand:!0}),this.pointInteraction=null,this.newFeatureListener=d=>(console.log("new feature listener",d),!0),this.mode=s,this.defaultLayer=l,this.initMap(e),this.mapClickCallback=t,this.mapMouseOverCallback=n,this.mapZoomCallback=r,this.tileLoad=o}getOverlayGroup(){let e=SIt;return"indicators"===this.mode||"patterns"===this.mode?e=MIt:"datasets"===this.mode?e=bIt:"regions"===this.mode&&(e=LIt),e}initMap(e){let t=this.getOverlayGroup();this.setDefaultMapLayer(),this.map=new VJ({target:"map",interactions:cH().extend([new lH]),layers:[Xd,t],view:new $d({center:z7(e.center||[10,30]),zoom:e.zoom||2.5,projection:"EPSG:3857",maxZoom:e.maxZoom,minZoom:2,enableRotation:!1}),controls:J9({attribution:!1}).extend([new Q9({collapsible:!1}),new $J,new YJ])});const n=new(qJ())({label:"Layers",reverse:!0});this.map.addControl(n);const r=this;this.clickHandlerRef=function(s){const o=s.map.getFeaturesAtPixel(s.pixel);r.mapClickCallback&&r.mapClickCallback(o,s.coordinate,s)},this.pointerMoveHandlerRef=function(s){if(s.dragging)return;const o=s.map.getFeaturesAtPixel(s.pixel);r.mapMouseOverCallback&&r.mapMouseOverCallback(o,s.coordinate,s)},this.zoomHandlerRef=s=>{r.mapZoomCallback&&(this.currentZoom=this.map.getView().getZoom(),this.state===Bg.POINT&&this.updatePointInteractionRadius(),r.mapZoomCallback(s))},this.map.on("singleclick",this.clickHandlerRef),this.map.on("pointermove",this.pointerMoveHandlerRef),this.map.on("moveend",this.zoomHandlerRef),this.map.on("postrender",()=>this.setRegionOverlayLayer()),this.map.getTargetElement().style.cursor="pointer",this.newFeatureListener=s=>{tF.setVisible(!0);var o=new j3({dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),l=JSON.parse(o.writeFeatures([s.feature])).features[0];return r.drawEndCallback(l),!0}}setDefaultMapLayer(){switch(this.defaultLayer){case Aw.DARK:Xd.getLayersArray()[0].setVisible(!0);break;case Aw.SATELITE:Xd.getLayersArray()[2].setVisible(!0);break;default:Xd.getLayersArray()[1].setVisible(!0)}}dispose(){this.map.getLayers().forEach(e=>{this.map.removeLayer(e),e&&e.dispose()}),this.map.getInteractions().forEach(e=>{this.map.removeInteraction(e)}),this.map.setTarget(null),this.map.setView(null),this.map.un("singleclick",this.clickHandlerRef),this.map.un("pointermove",this.pointerMoveHandlerRef),this.map.un("moveend",this.zoomHandlerRef),this.map.un("postrender",()=>this.setRegionOverlayLayer())}addInteraction(e){this.map.addInteraction(e)}removeInteraction(e){return this.map.removeInteraction(e)}removeLayer(e){return this.map.removeLayer(e)}getInteractions(){return this.map.getInteractions()}addLayer(e){return this.map.addLayer(e)}getLayers(){return this.map.getLayers()}getPixelFromCoordinate(e){return this.map.getPixelFromCoordinate(e)}setTileUrl(e,t=0,n="aa"){if(this.map.getLayers().clear(),this.map.getLayers().insertAt(0,Xd),this.map.getLayers().insertAt(1,this.getOverlayGroup()),"OFF"===e){if("regions"===this.mode){if("aa"===n)return;t=this.regionsTileUrl(n),this.setRegionOverlayLayer()}}else"species"===this.mode||"erm"===this.mode?this.speciesTileUrl(e,t):"experts"===this.mode?this.expertsTileUrl(e):"indicators"===this.mode?this.indicatorsTileUrl(e):"patterns"===this.mode?this.patternsTileUrl(e):"datasets"===this.mode?this.datasetTileUrl(e):"regions"===this.mode&&(t=this.regionsTileUrl(n),this.setRegionOverlayLayer());this.overlayLayer&&(this.overlayLayer.length<=t||(this.overlayLayer[t]?.setVisible(e.length>0&&"OFF"!==e),this.mapLoadingHandlers(),this.overlayLayer[t]?.getVisible()&&(this.overlaySource[t].setTileUrlFunction(function(r){return e.replace("{proj}","3857").replace("{z}",String(2*r[0]-1)).replace("{x}",String(r[1])).replace("{y}",String(r[2]))}),this.overlaySource[t].refresh())))}setRegionOverlayLayer(){this.overlayLayer.length>4&&(Xd.getLayersArray()[0].getVisible()?(this.overlayLayer[4].setVisible(!0),this.overlayLayer[5].setVisible(!1),this.overlayLayer[6].setVisible(!1),this.overlayLayer[0].setStyle(yH())):Xd.getLayersArray()[1].getVisible()?(this.overlayLayer[4].setVisible(!1),this.overlayLayer[5].setVisible(!0),this.overlayLayer[6].setVisible(!1),this.overlayLayer[0].setStyle(function(){new bs({fill:new Cs({color:[255,100,100,.2]}),stroke:new Xs({color:[255,100,100,.8]})});let e=new bs({stroke:new Xs({color:"blue",width:1}),fill:new Cs({color:"rgba(0, 0, 255, 0.1)"}),text:new R9({fill:new Cs({color:"white"}),scale:2})});return n=>{let r=n.get("region_id"),s=Math.abs((n=>n.split("").reduce(function(r,s){return(r=(r<<5)-r+s.charCodeAt(0))&r},0))(r)),o=s%1e3*255/1e3,l=s%1e6*255/1e6,d=s%1e9*255/1e9;return"f567e547-8ef7-42ee-a131-a4ec012822b1"===n.get("region_dataset_id")?(e.getFill().setColor(`rgba(${o}, ${l}, ${d}, 0.6)`),e.getStroke().setColor(`rgba(${o}, ${l}, ${d}, 0.8)`)):(e.getFill().setColor(`rgba(${o}, ${l}, ${d}, 0)`),e.getStroke().setColor("rgba(0,0,0, 0.1)")),e}}())):Xd.getLayersArray()[2].getVisible()&&(this.overlayLayer[4].setVisible(!1),this.overlayLayer[5].setVisible(!1),this.overlayLayer[6].setVisible(!0),this.overlayLayer[0].setStyle(yH())))}updateHighResLayerOpacity(e){e&&this.map.getLayers().getArray().find(t=>t.get("name")==e.code).setOpacity(e.opacity)}AddMultipleLayersToMap(e){if(0==e.length)return this.map.getLayers().clear(),void this.map.getLayers().insertAt(0,Xd);this.overlaySource=[],this.overlayLayer=[],this.map.getLayers().clear();for(let t=0;t<e.length;t++){let n=t+0,r=new Cc({tileGrid:xH}),s=new Vl({visible:!0,opacity:.8,source:r});this.overlaySource.push(r),this.overlayLayer.push(s),this.overlayLayer[n].setVisible(!0),this.overlayLayer[n].set("name",e[t].code),this.overlaySource[n].setTileUrlFunction(function(o){return e[t].url.replace("{proj}","3857").replace("{z}",String(2*o[0]-1)).replace("{x}",String(o[1])).replace("{y}",String(o[2]))}),this.overlaySource[n].refresh()}this.map.getLayers().insertAt(0,Xd),this.map.getLayers().extend(this.overlayLayer)}removeTileLoadHandlers(e=void 0){this.overlaySource.forEach((t,n)=>{(void 0===e||e===n)&&(t.un("tileloadstart",this.tileLoadStartRef),t.un("tileloadend",this.tileLoadEndRef),t.un("tileloaderror",this.tileLoadErrorRef))})}setView(e,t,n){e&&this.map.getView().setZoom(e),t&&this.map.getView().setCenter(z7(t)),n&&this.map.getView().fit(n)}restyle(e){let t;if("patterns"===this.mode)t=att(void 0,{threshold:e.pa/100,showCellProtectedArea:e.showCellProtectedArea});else{if("datasets"!==this.mode)return;t=_H(e.breaks)}this.overlayLayer.forEach(n=>{n instanceof qd&&n.setStyle(t)})}updateLayerOpacity(e,t){this.overlayLayer[t].setOpacity(e)}indicatorsTileUrl(e){this.overlaySource=[wH],this.overlayLayer=[CH]}patternsTileUrl(e){this.overlaySource=[wH,ctt],this.overlayLayer=[CH,dtt]}datasetTileUrl(e){this.overlaySource=[bH],this.overlayLayer=[ott]}regionsTileUrl(e){return this.overlaySource=RIt,this.overlayLayer=vtt,PIt[e]}speciesTileUrl(e,t){e.indexOf(".mvt")>-1||t>0?(this.overlaySource=[ck,eF,dk,EH],this.overlayLayer=[Iw,Ob,uk,Q3]):(this.overlaySource=[dk],this.overlayLayer=[uk],Iw.setVisible(!1),Ob.setVisible(!1))}expertsTileUrl(e){this.overlaySource=[ck,dk,ftt,J3,lh],this.overlayLayer=[Iw,uk,mtt,htt,tF],Ob.setVisible(!1),Q3.setVisible(!1)}setSimpleLayerGeoJson(e){if(!e)return;let t=J3;"regions"===this.mode&&(t=lh,this.regionsTileUrl("a")),t.clear(),0!==e.features.length&&t.addFeatures(new j3({dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}).readFeatures(e))}mapLoadingHandlers(){if(null===this.tileLoadStartRef){const e=this;this.tileLoadStartRef=function(){e.tileLoad("start")},this.tileLoadEndRef=function(){e.tileLoad("end")},this.tileLoadErrorRef=function(){e.tileLoad("error")}}this.overlaySource.forEach(e=>{e.un("tileloadstart",this.tileLoadStartRef),e.un("tileloadend",this.tileLoadEndRef),e.un("tileloaderror",this.tileLoadErrorRef),e.on("tileloadstart",this.tileLoadStartRef),e.on("tileloadend",this.tileLoadEndRef),e.on("tileloaderror",this.tileLoadErrorRef)})}zoomToExtent(e,t=100){this.map.updateSize(),this.map.getView().fit(JL(e,"EPSG:4326","EPSG:3857"),{padding:[t,t,t,t]})}zoomToGeoJSON(e,t=100){this.map.getView().fit(JL(new ok({features:(new j3).readFeatures(JSON.stringify(e))}).getExtent(),"EPSG:4326","EPSG:3857"),{padding:[t,t,t,t]})}updateSpeciesStyles(e=!1){Ob.setStyle(ak(e))}setBaseLayer(e){}updateState(e){switch(this.state=e,this.clearDrawings(),this.map.removeInteraction(this.feedbackInteraction),this.map.removeInteraction(this.pointInteraction),e){case Bg.CLEAR:this.state=Bg.MAP;break;case Bg.DRAW:this.map.addInteraction(this.feedbackInteraction),this.feedbackInteraction.addEventListener("drawend",this.newFeatureListener);break;case Bg.POINT:this.updatePointInteractionRadius()}}clearDrawings(){lh.clear();let e=J3;"regions"===this.mode&&(e=lh,this.regionsTileUrl("a")),e.clear()}setUserFeatures(e){lh.clear(),e?.length>0&&lh.addFeatures(new j3({dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}).readFeatures(e))}getOccurenceVisibleFeatures(){const e=[];return Ob.getVisible()&&e.push(...eF.getFeaturesInExtent(this.map.getView().calculateExtent(this.map.getSize()))),Iw.getVisible()&&e.push(...ck.getFeaturesInExtent(this.map.getView().calculateExtent(this.map.getSize()))),e}addWebGLFeatures(e){console.log("turn back on addFeatures to speciesWebGLMovementSource")}updatePointInteractionRadius(){const e=this.map.getView().getResolutionForZoom(this.currentZoom),t=this.radius/e*this.currentZoom;this.map.removeInteraction(this.pointInteraction),this.pointInteraction=new rtt({source:lh,type:"Point",style:new bs({image:new Yd({radius:t<5?5:t,stroke:new Xs({color:"#ff0000"})})})}),this.map.addInteraction(this.pointInteraction)}}function NIt(i,e){1&i&&(O(0,"a",7),Os(),O(1,"svg",8)(2,"style",9),tt(3," .st0 { fill: #0a46e6; } "),L(),te(4,"path",10),L()())}let BIt=(()=>{class i{constructor(t,n,r){this._dialog=t,this.mapService=n,this.spinner=r,this.mode="species",this.styleParameters={},this.defaultMapLayer=Aw.LIGHT,this.selectedDatasetIds=[],this.subscriptions=[],this.activeTileUrls={}}ngOnInit(){const t=this;let n;["patterns","indicators","datasets","regions"].indexOf(this.mode)>-1&&(n=function(o,l){t.handleMouseOver(o,l)});const r=function(){var o=this.map.getView().getZoom();t.handleZoom(o)},s=["species","erm","experts","regions"].indexOf(this.mode)>-1?14:8;setTimeout(()=>{this.map=new FIt({maxZoom:s},function(o,l,d){t.handleClick(o,l,d)},n,r,this.mode,this.getTileLoadHandler(),this.defaultMapLayer),("experts"===this.mode||"regions"===this.mode)&&(this.map.drawEndCallback=o=>{this.mapService.userFeaturesAdd(o)}),this.subscriptions.push(this.mapService.scientificname.subscribe(o=>{this.scientificname=o,this._dialog.closeAll()})),this.subscriptions.push(this.mapService.selectedLayers.subscribe(o=>{this.selectedDatasetIds=o})),this.subscriptions.push(this.mapService.zoomToExtent.subscribe(o=>{o&&o.southWest?this.map.zoomToExtent([o.southWest.lng,o.southWest.lat,o.northEast.lng,o.northEast.lat],o.buffer?o.buffer:void 0):o&&o.geojson&&this.map.zoomToGeoJSON(o.geojson,o.buffer)})),this.tileSubscriptions()},100)}tileSubscriptions(){let t=n=>{n&&(n.layerId||(n.layerId=n.id),(n?.url||""===n?.url)&&this.activeTileUrls[n.index||n.layerId]!==n.url&&(this.activeTileUrls[n.index||n.layerId]=n.url,this.map.setTileUrl(n.url,n.index,n.layerId)))};this.subscriptions.push(this.mapService.tileLayerUpdate.subscribe(n=>{t({url:n.url,layerId:n.layerId})})),this.subscriptions.push(this.mapService.tileUrl.subscribe(n=>{t({url:n,index:0})})),this.subscriptions.push(this.mapService.highResActiveLayers.subscribe(n=>{this.map.AddMultipleLayersToMap(n)})),this.subscriptions.push(this.mapService.highResLayerOpacity.subscribe(n=>{this.map.updateHighResLayerOpacity(n)})),this.subscriptions.push(this.mapService.secondaryTileUrl.subscribe(n=>{t({url:n,index:1})})),this.subscriptions.push(this.mapService.modelTileUrl.subscribe(n=>{t({url:n,index:2})})),this.subscriptions.push(this.mapService.tileParam.subscribe(n=>{t(n)})),this.subscriptions.push(this.mapService.displayUncertainty.subscribe(n=>{this.map.updateSpeciesStyles(n)})),this.subscriptions.push(this.mapService.opacity.subscribe(n=>{n&&this.map.updateLayerOpacity(n.opacity,n.index)})),this.subscriptions.push(this.mapService.geojsonFeatures.subscribe(n=>{this.map.setSimpleLayerGeoJson(n)})),this.subscriptions.push(this.mapService.mapState.subscribe(n=>{n&&this.map.updateState(n)})),this.subscriptions.push(this.mapService.userFeature.subscribe(n=>{n&&this.map.setUserFeatures(n)}))}ngOnDestroy(){this._dialog.closeAll(),this.subscriptions.forEach(t=>t.unsubscribe()),this.mapService.updateTileUrl(""),this.mapService.updateSecondaryTileUrl(""),this.map.dispose(),this.map=null}ngOnChanges(t){t.styleParameters&&(t.styleParameters.firstChange||this.map.restyle(t.styleParameters.currentValue))}updateMap(){}handleClick(t,n,r){t&&t.length>0&&("erm"===this.mode?this.speciesClickHandler(t,r):"species"===this.mode?this.speciesClickHandler(t):this.basicClickHandler(t)),this.mapService.updateClickEvent(function zwt(i,e){const t=xb(i,void 0!==e?e:"EPSG:3857","EPSG:4326"),n=t[0];return(n<-180||n>180)&&(t[0]=(0,Fi.$W)(n+180,360)-180),t}(n))}handleMouseOver(t,n){this.mapService.updateMouseOverFeatures(t)}handleZoom(t){this.mapService.updateZoomEvent(t)}basicClickHandler(t){this.mapService.updateClickedFeatures(t)}speciesClickHandler(t,n){const r=t.filter(o=>o.get("molid")).map(o=>o.get("molid"));let s=t.filter(o=>o.get("hash")).map(o=>o.get("hash"));if(s.length>1){const o=s.map(l=>6==l.length?l:l.slice(0,-1));s=[...new Set(o)]}s.length>0&&r.length>0?wJ(this.mapService.getFeaturesMetadata(r),this.mapService.getSpeciesGeohashMetadata(this.scientificname,s)).subscribe(([o,l])=>{this.displayMetadata(o,l)}):r.length>0?this.mapService.getFeaturesMetadata(r).subscribe(o=>{this.displayMetadata(o,[])}):s.length>0&&this.mapService.getSpeciesGeohashMetadata(this.scientificname,s).subscribe(o=>{this.displayMetadata([],o)})}displayMetadata(t,n){this._dialog.closeAll(),this._dialog.open(YTt,{minWidth:420,width:"40%",maxWidth:700,position:{bottom:"0px"},data:{datasetResults:t,geohashResults:n,scientificname:this.scientificname},hasBackdrop:!1})}getTileLoadHandler(){const t=this;return n=>{"start"===n?t.spinner.increaseActiveRequests():t.spinner.decreaseActiveRequests()}}static#t=this.\u0275fac=function(n){return new(n||i)(U(id),U($f),U(Wf))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-map"]],inputs:{mode:"mode",styleParameters:"styleParameters",defaultMapLayer:"defaultMapLayer"},features:[zn],decls:7,vars:1,consts:[["id","map",1,"moveFullScreen"],[1,"map-logos"],["href","https://google.com/","target","_blank","title","Google"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARAAAABcCAYAAACm5+q2AAAXGElEQVR4Ae1dC5QcVZm+OtOBwC6CwiqCCBIQkAWSqpqEkNhdt3uyQeJBgSi4uwoIihtchJgF5TGarpoJicACCkFANuGBBhcQH5DMJAH0CCjIQ1hYfBAeZPoRkklVdR6ZZHrvt+a4pLdn5r/Vdbuqh/udc0/nMdPTZ+rWV//9/+//fhYHZnat2yvtVEzueqdx159ju8Fltus73PF7xN/ni79fIta52e5gVtr1j053VXdnGhoa70ykezYfzJ3KedwN7rJd/8/itSqzMnlvu3h9Xnzvzdz1/ynd5e3LNDQ0xi7SCyoHcjf4ZiYfPAsSiHTlvSHxvqtsJzi7c9HQnkxDQ2NsgLvedNvx78u43g7c7KqXIJIB7voLpzvB/ixh0NAwf3hqdbTFGNOw8xun8nzwsCqiIEQlm2zXX4D8CtPQ0ATSGshdWfmgII4f4SZOxHK8fiRnmYaGJpAEo1p9F3eCM3GEwI2btAVSS3dt2JtpaGgCSRZwTOBusAw3aqJX3n8l2xNMZBoamkCSgdz8jYdxN3gpCQRBz414pzANDU0giUiUrldxk2fcoGi73muZfFDI5L0tUZd9oUNhGhqaQOJBxvWzGderRJCb+L14vZa7/ul2T3DsrK7qHvXyK9N6BvbhTqUDilTb9W8TP/uNsD8TJWUI0JiGhiaQ5iOb9zOIEsLewFCf2k5wORSpjSRt005liiCyGzN5P9DkoaEJpAXAXf+YjBtsDCnyesHO+2eIXpZ2FiEQndiu/y3uBr4mDw1NIAlFZ5f/d8hLhCAPnzv+10AccWlQNHloaAKJEbOXVdtsN1gtH3X4v84t2HRQk49YnxVE4mny0NAEkhBwJ7hUPlkZXG/cVE2xGJDt3nh4Jh/8tyYPDU0gCch78Ly3TSpR6gTfQKKTxQi0+cNDhGloaAKJB11d1Xdz139MkjzmMQ0NDU0gggw+L3lsuYYeeWhojFloApl57dBu3PXWSJRpVyHZyjQ0NDSBcCc4R4I81qGMyjQ0NDSBIPch0yQnkpVfYICGhoYmEPS6yGg9QDgM0NDQ0ATC88GdVAJBbwwDNDQ0NIGgI5baaZtx/Sd01aV1oKEJpNrF3o3FVAHiK2r0QVN5alTT6fZ13OgoZs15xax1d4Ebvy1ljULJtiqFrDWEV/wd/y7+/66ibX69nDUtfF8iPv9q1r6tr71jW2/7vG0r2u8e7Ev9duuKVGFrX6oi/lwVfx4UqzzY2/aM+LofiXWx+Nrj8X0sAcAwMu4EJ8Jo23aDXrjToaP8r3OG8kEJD0N0d4uv+czUK8t/2+oE0t95zJ6lrDVLrEUlbvSJ1zVij20Wr9W/LGOT2Hd/KtnGg0Vu5stZIxPJfoMEndgaX0l3Ff+GDQuNUtacKC7Wd0vcKuGiSS/bLIrX64ud1nEsBmxdnjpusDd1vSCKIohCdonvWze4IrVYvE5iMQAWltz1b0VDZwhX/5vT3QMTavqscpTvj4tAqoy9q9hpnCAI4U4QRLj9Zl65jk85oIHyrfcM1aiYadRF0TanCnbvxUWJcK0o5DqmsCYA0YOIKFbQyYJEJqu3LW8/gTUB9nz/Y9zxft64g503iDlDU64aGp90AunPTJpcyBqPRLLXbGuLIJIFiGLC5D920CTrlS8xjV3wZtrYV1yA23ERFK6lb2St9yk6quwryGMpbnhVS7z/XUO/YPupEz/63TiWRDwe5Bl0lSeRQN6cZeyBKFfJXrONP0s9tLLdFYv6S0273hFM468o2x28wK21+MWrXuJJ80YpZ6ZZhBD5i4zIXbyJm1z1Qv5ksK/NZhECNzh3vCdVGXLDCweWmkkikGJ64gRxVHle7V6zthW5dSajwHb9zxFDu83/p/3QKHHrnIJtbMcvvFkLP69om2dFkuvoTZ0tjhjbcXM3a+HnCcL6clS5Dhhwx+P2r4BA6Pm1cvP2nHEhgUCCS2hsHDzHNABW5tZc/IJjW9z8WoP5jgtxQ8e1BInMbbDlYhJ3gw3Yl+8UAunvNI8uZM31Td9rOevc0QjkKlr+w/8pU4y4N8E019tv9Mij44v4xca9ilkrVCvB1pWps3ATx70QAYUbLTJwKHeDMq7XO4VAimnrA+II+3oc+wxRb5l32CO07/u3ECOQO8Y6gWS7Nx3PRgCSS+JCDjYQEhbEjf9E0bZW4xUltEbOqdCNSEUeq9oni1zEtgaOIGvF62Pi5l+JV/Fe/Q3kRLZtW9k+lUmgc9HQntwNng97fdEACu2H+PNKeN5gjnLSCQQCsGLWXBlyv20qcOth8f03F7h5rdhv/1Hi5mPYO7L7du3M4/YbroS7lCggu2msE8hIQ7nXzezYq2hbr8ofN4ynxQX8l/U5o65P7Fp74oeL3JwjzrfPhtggr5SnTiUJoEQVZC8hCFsjfbP3pp5E3mKob/wBdd939fgDxft+RSRIn5Z9b3wefC66V42/WJ40vFdxTIflZT0FNUaNcNefi9EjSSQQ7I0Q5PG42E+ffW3KlPHD7WUcTSAqo7+nuWyYm9ZbQpztcvPYJ5DKsAk+MLhc6Ge9VuAdn4LQhywIypqnotoidZSxzatoFZfUNZJ5ilcH+8Z9slqlfX58nfj6TwtSeF2SSK6jiR29tOQwsQomA1A9evF1IBJMRUwKgUAiULCNjfS9YLxVso0zqHvulXR6d5lycNHumFEnAvG/TyKQfHD3mD/C5P2L6jJ2bvKRghB2SNTSHxyYNm0fFgLQe0CQJnVGtc2PshGwZcW4I8XxY4fEUeVn1V72HhYCQw+x94ojznKZysyWh8YdMarVxE6xI3H9EZKDsAlaVHeSQCCQpEtEo88jyg1ZUVxIjEKexZGqNiy8kpZE9R4c8xGIE1w8zIVcKnEh760aRoo1gOrso8YVs9ZPJH7mbWwEiGhiicSx4p5G+1mqT7KUeJ/7JKKdEfNrGcc7VYY8pjvB/qwBgHwybvBW0wmk9piRtXxiFPpfiFYa6dvCUZvysxBV1zqwzyUmUV8e6wRidwdfZzUo5yZ+kKr3KGTNJxEWMgJoakPjGaLIbBCZ+roRwYNsf7LeY0XqCZGT2I1FgKFfs/EiL/I7ahQytGL8sO528J8htlp4yHWwCCD2wow4CaTMjS8THyA+xGXhH1az29CAV7Ct39HIylodkt29QZwTx3YOxJ/DaoAuWeIvdqt4PZxFiH7b+hjIoRFtCDQXxJt4izjqHMYixJa+cUdRqz7o+q0fDfhH05WjwbksQqApLy4CKWTNR4nX/QIWAqiqFLl1MRLxsklaHJnDXaCeisEUAv0MKhZ6fcJaFQhi+A1Nl2F+hykAOnOJG+kxVgeIKohHiYVMAZAkpUY/9XMSfp5Yon02aqU0dyoHiL2ztdkEgvwZJeeGhDuOuzKdu5AioHcLD7zR3p+UuEdUQc88+3NZ6wEb4dPEI8wuWeYN6WP3Jl7IQRx1mAKgzEv6DEim1pR0kQilJE/h7YGjDlOAau/uBxE/w1D1l2yfOtWXp4gJ8H9kCmDng9ubTSBlbn6S+NDoovqEoPWCekwhPCxX1doZ/orYobi89cd00psFxQU6kVp1YQqBC0a6sDnrH3Z9+redSK26MIUQ799L05y0zWRvA7xniNGjj/Z7Fj2QC/lEswmkmLW+TUtoTj5mlOj1cPFe1wjiGGiUNBCxFG3jDthWIJKprcS4RFHOdkzsb0HD6HsJuoEdcLEK0/MiLtJXFRPIvBB5EPS8XESsgsxhCoE8DPFz/NuuT/+NU4mR8f0q7T4x5rWJBIIb/x5K8hQl1XoVFVRK4CUTkZx9jXgwXdLfefzw9z13vekSicYLWAsB6kNKXR+Dues8CRZTfsmqTX9KtvVxIoHcUJP/WEy8cTsUE8h0Yh5kccgpid9kCgENSjMJBDaXhNL9M7t+z+T3l7h1KQSMEbTzD4n1C1RnUKWh+Ee2Z9ygSBzp8Cd8PWsR2D3BscRNeFcdgc2PKb9wWg0+PGA3R7z499TcuD+m3LgQfzGFQH6FqEG5r+boeTHtaO3PVnwE/s/mRiDGK5Q8BI4SJd4xHZ67hP4WkpIVorKiPenQML+k68jVmLx/RuvM+vW/TdyE5/9/AjEfovziCSzdENDTECIXg9zDQ5QbV6VjN1BdxsYRczG9NV41DjEqtplCoI2jmQRC8dP930jDtp6L6JjyeDHb8XnsM+VPaiw0HiFf0CLT9v5I1LkcxWoAZ2sSgSi+AaFsJTbu9dUQSB+l+sEAtQTSRuzQXVVTwu2hPdC8jyvOod3YTAJpjmmQsbnArVvL9mQjQh1G8KiE8OoKlnBQM+iw/EeupM6T4H6SsAblU4VAfwyxV+G+miPM/aQjzHK2J1MIlGeJHiE/r4mKu4jl908whUApt5kEotD7A+X+l+E0Bq1JrPNhILCBrVyik6fwfqCFwAvrNxmZSygXBYpRtfaJkybRe2Lke2DQbKd8VAQtmbukRgk6p9Eu6ogerKuaSSDUvhTqgo4ID5cCNzrVRsu46RzvNxLS4ZcJA3liAVSl5C7c+f7fD0MgV9Dq8aaaYVvyLmiX1RDIFZQbd/vK1BmKdSBnEtWw80M+0L6n8p7AEKpmEgihkZJuYMXN/FszzA+xZgFzbyVNeB4i9Mg0FekFlQOp3ZQQ0Q1/45qnEy/WD5hCYGgQ0b/yM+xt2N6XOp1WPm27RXEZ9w7K58Dn3cWBLL/5EOI+fIkpQm6+d2SThWTYdz0NOvg/AkMhmsxdATBASnKGxtLZy6ptLAGAelGQ2m/JRzGncvKwEuD05IOJXbjrw3ThUmXI1Lbu2ifN5tW7HUysfrwlWviVfH7kV0Ry1KN8js3Ldzuk9ulPlRegCMAUABqTpitRc+YpIYjDL3HrezBfjv8mXBh8QJDIeslu1mUY8sNixMyudXtxN3hEInp6erQGLGq3YjlrfklRM92/EjfQH+o7sLe9QiSRcxRNvPsq5efjc9ZzP+P54E5iHutWBfN121FxbDaBIGkOMRdR9PVSMWt9hZDIby4wcFi6HT4fPAzyYTFgRn7Th0AIkg5kOTYK0EtATFS9WUwfFencYOEw9R6JGbuLGrEyhBWhiEIi/fxo5sNAKaL36jXDqKRPo7ZZoBQfcRXvrJja+aE+/iXlukPsyCRBc4G3jo8iEXlTiJGA/bgxm1yunUFJdNEtGuUrIFhFbkVqPI0qkIRf5bHDJDAnSfiT3hDx5LvbJKwNJw03ZZ+cz3L8x6PKx2HEB/ZUCxgKQUAYWRkbvTRwgd/ZAb6oIXEZjiRkN6g6YyBURyPCfep9oUjO9damu7x9qR4K8NogJ7C4dV5E5HEB3fnd+tXIZsepxyTGLZwb9dGFsOp6mdAFZTXTA6DpkUeNxUWwIk5HMhxJqIbKiFIJfqg0Y29ufL/2iIRer0aZ+A9hSATO2BhcBY/KaM+mG/a2neAbtXkaaqiLSpNkHmKWTCMSunNxMcJeRPE+F0kOmZo5SiQwS4JAhjCmgYUECEt68t3KthGfoOgAx14iP7yc4LtI6ocf1h0sS4CpMo7PrsSD68VGPGmgdhaRxy3D6UjQIyNZKKgppzne6w3MWxlEyzXsE1ElYSEwu6s6DkcV7vg/qN1MUsupnBeKmQmeHDXrdiTDpG3mbOuHctPUrd7RyAo3NWTikmMdlkBBGmLS/12SE+pWUkZHCFK4XPJar7Tzmz4sN29380foEbd6AoGhVck21kmUb19Hcx2TBJrnEMVSSCp0NJLuHpjAXW9NBMObBqG9gPrTdoKzc3lvGox8YB+HIwmiFXv+xo/CYgDt3AhfbTfopZAG4Vh1GQuJ8gzjCFkbuJ2zTC8f7cmAblu4S4noZYMkeWyh+rBidILIM2yVnET3liCSSwUxjHgUhSEyRGuCpDZIvv9WfC5GAHIhPB+8KJfU9zZxx1uEB+BoCXhMJ8DXJ2+wlHWmbEkXuiHk7vBgGW1Pi313ncy+RjQiiOrk0AItDNlO0kzSZvbuFLlxflh/hZ3eqtfDpAh5ErxiqA+8H2pKduSFRJukoOv8kCMtd4gqyePwN4VJESbV4VX82/XwMsWxJ8z7Ik/CJABP3lqPUpmSPXeCG+C8D+m77foXcje4Fu0OgjiGkjraEiRQ05NFXjsnzy2FQhmlXuw7mAPhqFLMGi+EfM/nMDGAhQWk69zxf9IqxIHNYbs+baMSjjKwdUvCcG3MOcXnkc1PkFSh6hfIYyk+Twhh1xdxXd9Jw7XR+IYmuLj3HJK1/Z0dh0TSJm87wTyC1VusK+MGGzNOcBKLEJAHE3xClK4CN3+GpFdYbw74hMQ8mX855s8o8HhpYQIh5CmyRn9cew4VoXLOMqN2appEsHuLZaEp0M4PHMoUACEcIaxUtIx7G6nNA9UH2B5o9Y8p8ngAQ6cabnBz/fnvJAIBMI8FidI4Ig+6b0iImjlmymbywUBCjiybYIWn2nYRLmRFbl3d5Au5ED83QpOfq5tKIL2p7xDGZpKBQVIqo2DkW1ASjp1AahLuyKc1cc/9vpA1P8JUA8IsVFZwA8dzXIH9v7cEGXXWRJSyHScpDi1RPluLERNMAUQn7kkiCdqvkjjw/pj0r0ZMWLFgK6FgP1VgVARVdZIIBHh55oTd8DBBRUQteZg3EBKm0RMJyqW2673WrIgD6kOUflmTUTMIeRHKqlHbzpWy5pWqG6VEPmIvER0swnjLSIkD74eoA5P+FQIzYWzX/1ZUD6+/VBr9Y5gAhUCQqFdCIIQ2iwK3Ho6aOBDhFHPGNBYnoASE8Mt2/Fu4G5QjJo1t8CHhTnBObsF6hZtTvgmpxK1uRCSNRhzFrOnUzOJQDug9xI3f3WhEsrOBrgf6kGZ3kUPPUdM7Q14Y/4GxJRAtvq0frJNy1FFGIITKYDlrZJCTG2UIPMlTF6prvGfizI0RaiJXYjvBPTCAgaRcooa/xna8BzkSZ05wIkHNGiuQpxDnxhxyJIWs9dRoA7Lx/5jsj5mjhZyVVe3yTsqP9LblkCMRR5ynMPpytOn6Ygre0yLa+Hfx2ll9kqWYIpBFZ27lU1Atw+92FNJYB/8bjIYAcYSx+cR7sAQADxyMsBRR6zJisrWMih4GktF7aRICJF+hEEw7lSk4a9qudwosBDDHVly0mZnuymRIi2PwGFHiql5MT5xQtjs4VHwl2zgDr/g7/h0dkCzBACEIc6IJomeFD/aOO3n7itTntq8cNxskAyUpSsMswZjWM7APHmAgA+wx7LWM66VzCzYdNErjHQjkC/ShZMkCpPCCTCaiV6rIjdPgWIcIoz8zaTKiZcWRhoaGBhTMBAJZxWqhoaGhgSP3aASCPB9rPWhoaCC/BkGjqveGJ+sYmxetoaExo2vgvdz152LyIMqoKsr46AgnakZOYBoaGskHOnI5qiuut3nXm9h/AAnRZk8ngPYkwYl+DQ0NlGXhDTPapEF8TWQ/06mYiGwI+Y+fMg0NjeQCvh1EvdBmyAJYg4BlRSYfvECcy/vPTENDI7nIzd94GFV4iKbORqb1Q6QIBzyiyHHDrK7qHkxDQyPZyLj+jVKtDiE6sjHdTsZxz3Z8l7UGNDR01QUlVclBZy9iOBSiipF6tuDLizEk6OiW6JsZwGdirQENDQ1I0cP6eogb/lHb8Rfbru8gckBEwx1vebjGOyx/DmstaGhogADiNq1CjgQiM9aK0NDQylNvaVzkge5eDLpiGhoaSQVhan4+uL3p5IG5z90bD2etDw0NHYkgl9FEAnmJYNLdStDQ0MDYDjiJqT22BHcqc77T0NCI3zCIO8F1UTu0Q40Ksys29qGhoQGHMe4EV6M028gkQ54P+uBaRpjwP9agoaEBb1PYYgoiuYY7/uMjDWbP5L0tUJ/arn8bRGcwZmYaGhoab59kh9Jr2vWP5k6lA/6o3PWO4q7/fq3naDVoaGhoaGhoaPwP1Ihp8Bm98aYAAAAASUVORK5CYII=",1,"google-logo"],["href","https://mol.org/","target","_self","rel","home","title","Home",1,"mol-logo"],["alt","Map of Life","src","https://mol.org/static/img/logo.png"],["class","field-logo","href","https://www.fieldmuseum.org/","target","_blank",4,"ngIf"],["href","https://www.fieldmuseum.org/","target","_blank",1,"field-logo"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 360 360",0,"xml","space","preserve",2,"enable-background","new 0 0 360 360"],["type","text/css"],["d","M36,36h107.7v37.6H82.4v14.7H139l0,33.2H82.4l0,53.1H36V36z M36,185.4h46.4v98.8h61.5V324H36V185.4z M154.7,36\n\tH201v138.6h-46.4V36z M211.8,36h111.1v36.4h-65.1v15.8h60.4v33.3h-60.4v16.6H324v36.4H211.8V36z M324,285.2h-38.8V324H324V285.2z\n\t M154.7,185.4h51.6c53.5,0,80.3,27.1,80.3,68.1v0.4c0,41-27.3,70.1-81.8,70.1h-50.1V185.4z M207.2,283.6c20.6,0,33.9-8.7,33.9-28.7\n\tv-0.4c0-20-13.3-28.7-33.9-28.7h-7.5v57.8H207.2z M123,203c0,0,0.3,0,0.7,0c5.7-0.1,9.1-0.9,9.1-8.2c0-6.5-2.7-8.9-8.3-8.9\n\tc-6.2,0-7.5,3.4-8.4,6.8c-0.7,2.9-1.3,4.2-3.6,4.2c-1.9,0-2.6-0.8-2.6-2.5c0-2.2,1.1-2.6,4.2-2.6l0-6.2c-0.2,0-0.7,0-0.7,0\n\tc-6.3,0.1-9.1,1.5-9.1,8.7c0,6,2.2,9.1,8.7,9.1c6-0.1,7.5-2.9,8.3-7.3c0.5-2.8,0.9-3.6,3.4-3.6c1.7,0,2.5,0.8,2.5,2.1\n\tc0,1.9-1.3,2.2-4.2,2.2L123,203z M104.8,155.1l13.9,3l-13.9-0.3l0,6.4l27.4,0l0-9l-15.2-2.6l15.2-2.6l0-9l-27.4,0l0,6.4l13.9-0.3\n\tl-13.9,3L104.8,155.1z M104.8,255.8l13.9,3l-13.9-0.3l0,6.4l27.4,0l0-9l-15.2-2.6l15.2-2.6l0-9l-27.4,0l0,6.4l13.9-0.3l-13.9,3\n\tL104.8,255.8z M109.9,175.3c0-1.6,0.7-1.9,2.5-1.9l19.8,0l0-6.5l-20.1,0c-5.3,0-7.8,1.6-7.8,8.4c0,6.8,2.5,8.4,7.8,8.4l20.1,0l0-6.5\n\tl-19.8,0C110.5,177.2,109.9,176.9,109.9,175.3z M132.2,205.2l-27.4,0l0,15.1l5.6,0l0-8.6l5.6,0l0,6.7l5.6,0l0-6.7l5,0l0,8.2l5.6,0\n\tL132.2,205.2z M109.9,230.5c0-1.6,0.7-1.9,2.5-1.9l19.8,0l0-6.5l-20.1,0c-5.3,0-7.8,1.6-7.8,8.4c0,6.8,2.5,8.4,7.8,8.4l20.1,0l0-6.5\n\tl-19.8,0C110.5,232.5,109.9,232.2,109.9,230.5z",1,"st0"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1)(2,"a",2),te(3,"img",3),L(),O(4,"a",4),te(5,"img",5),L(),It(6,NIt,5,0,"a",6),L()()),2&n&&(z(6),Y("ngIf","regions"===r.mode))},dependencies:[on],styles:[':root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:none}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;user-select:text}.ol-grabbing{cursor:grabbing}.ol-grab{cursor:move;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.layer-switcher{position:absolute;top:3.5em;right:.5em;text-align:left}.layer-switcher .panel{margin:0;border:4px solid #eee;border-radius:4px;background-color:#fff;display:none;max-height:inherit;height:100%;box-sizing:border-box;overflow-y:auto}.layer-switcher button{float:right;z-index:1;width:38px;height:38px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACE1BMVEX///8A//8AgICA//8AVVVAQID///8rVVVJtttgv98nTmJ2xNgkW1ttyNsmWWZmzNZYxM4gWGgeU2JmzNNr0N1Rwc0eU2VXxdEhV2JqytQeVmMhVmNoydUfVGUgVGQfVGQfVmVqy9hqy9dWw9AfVWRpydVry9YhVmMgVGNUw9BrytchVWRexdGw294gVWQgVmUhVWPd4N6HoaZsy9cfVmQgVGRrytZsy9cgVWQgVWMgVWRsy9YfVWNsy9YgVWVty9YgVWVry9UgVWRsy9Zsy9UfVWRsy9YgVWVty9YgVWRty9Vsy9aM09sgVWRTws/AzM0gVWRtzNYgVWRuy9Zsy9cgVWRGcHxty9bb5ORbxdEgVWRty9bn6OZTws9mydRfxtLX3Nva5eRix9NFcXxOd4JPeINQeIMiVmVUws9Vws9Vw9BXw9BYxNBaxNBbxNBcxdJexdElWWgmWmhjyNRlx9IqXGtoipNpytVqytVryNNrytZsjZUuX210k5t1y9R2zNR3y9V4lp57zth9zdaAnKOGoaeK0NiNpquV09mesrag1tuitbmj1tuj19uktrqr2d2svcCu2d2xwMO63N+7x8nA3uDC3uDFz9DK4eHL4eLN4eIyYnDX5OM5Z3Tb397e4uDf4uHf5uXi5ePi5+Xj5+Xk5+Xm5+Xm6OY6aHXQ19fT4+NfhI1Ww89gx9Nhx9Nsy9ZWw9Dpj2abAAAAWnRSTlMAAQICAwQEBgcIDQ0ODhQZGiAiIyYpKywvNTs+QklPUlNUWWJjaGt0dnd+hIWFh4mNjZCSm6CpsbW2t7nDzNDT1dje5efr7PHy9PT29/j4+Pn5+vr8/f39/f6DPtKwAAABTklEQVR4Xr3QVWPbMBSAUTVFZmZmhhSXMjNvkhwqMzMzMzPDeD+xASvObKePPa+ffHVl8PlsnE0+qPpBuQjVJjno6pZpSKXYl7/bZyFaQxhf98hHDKEppwdWIW1frFnrxSOWHFfWesSEWC6R/P4zOFrix3TzDFLlXRTR8c0fEEJ1/itpo7SVO9Jdr1DVxZ0USyjZsEY5vZfiiAC0UoTGOrm9PZLuRl8X+Dq1HQtoFbJZbv61i+Poblh/97TC7n0neCcK0ETNUrz1/xPHf+DNAW9Ac6t8O8WH3Vp98f5lCaYKAOFZMLyHL4Y0fe319idMNgMMp+zWVSybUed/+/h7I4wRAG1W6XDy4XmjR9HnzvDRZXUAYDFOhC1S/Hh+fIXxen+eO+AKqbs+wAo30zDTDvDxKoJN88sjUzDFAvBzEUGFsnADoIvAJzoh2BZ8sner+Ke/vwECuQAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:2px;background-color:#fff;color:#000;border:none}.layer-switcher button:focus,.layer-switcher button:hover{background-color:#fff}.layer-switcher.shown{overflow-y:hidden;display:flex;flex-direction:column;max-height:calc(100% - 5.5em)}.layer-switcher.shown.ol-control,.layer-switcher.shown.ol-control:hover{background-color:transparent}.layer-switcher.shown .panel{display:block}.layer-switcher.shown button{display:none}.layer-switcher.shown.layer-switcher-activation-mode-click>button{display:block;background-image:unset;right:2px;position:absolute;background-color:#eee;margin:1px}.layer-switcher.shown button:focus,.layer-switcher.shown button:hover{background-color:#fafafa}.layer-switcher ul{list-style:none;margin:1.6em .4em;padding-left:0}.layer-switcher ul ul{padding-left:1.2em;margin:.1em 0 0}.layer-switcher li.group+li.group{margin-top:.4em}.layer-switcher li.group>label{font-weight:700}.layer-switcher.layer-switcher-group-select-style-none li.group>label{padding-left:1.2em}.layer-switcher li{position:relative;margin-top:.3em}.layer-switcher li input{position:absolute;left:1.2em;height:1em;width:1em;font-size:1em}.layer-switcher li label{padding-left:2.7em;padding-right:1.2em;display:inline-block;margin-top:1px}.layer-switcher label.disabled{opacity:.4}.layer-switcher input{margin:0}.layer-switcher.touch ::-webkit-scrollbar{width:4px}.layer-switcher.touch ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.layer-switcher.touch ::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}li.layer-switcher-base-group>label{padding-left:1.2em}.layer-switcher .group button{position:absolute;left:0;display:inline-block;vertical-align:top;float:none;font-size:1em;width:1em;height:1em;margin:0;background-position:center 2px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAW0lEQVR4nGNgGAWMyBwXFxcGBgaGeii3EU0tXHzPnj1wQRYsihqQ+I0ExDEMQAYNONgoAN0AmMkNaDSyQSheY8JiaCMOGzE04zIAmyFYNTMw4A+DRhzsUUBtAADw4BCeIZkGdwAAAABJRU5ErkJggg==);transition:transform .2s ease-in-out}.layer-switcher .group.layer-switcher-close button{transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}.layer-switcher .group.layer-switcher-fold.layer-switcher-close>ul{overflow:hidden;height:0}.layer-switcher.shown.layer-switcher-activation-mode-click{padding-left:34px}.layer-switcher.shown.layer-switcher-activation-mode-click>button{left:0;border-right:0}:root{--topLine: 3em}@media screen and (max-device-width: 480px){:root{--topLine: .1em}.layer-switcher>button{font-size:15px!important}}.layer-switcher{position:absolute;left:.5em;top:calc(var(--topLine) + 7em);border-radius:3px;background-color:transparent;width:60px}.layer-switcher.shown{width:unset}.layer-switcher button{width:60px;padding:2px;border-radius:3px;border:1px solid black;line-height:25px;background-image:unset;font-weight:unset}.layer-switcher .panel{max-width:250px}.ol-scale-line{background-color:#fff;left:.9em}.ol-scale-line-inner{border:black solid 1px;border-top:none;background-color:#fff;color:#000}.ol-touch .ol-control button{font-size:16px}.ol-control button{border:#bbb solid 1px;background-color:#fff;color:#000}.ol-control button:hover,.ol-control button:focus{background-color:#eee;color:#000}.ol-zoom{z-index:1000;top:calc(var(--topLine) + 0px);bottom:unset;left:.5em}.map-parent{position:relative}.ol-full-screen{left:.5em;top:calc(var(--topLine) + 4.5em);max-width:1.7em}.ol-attribution{bottom:35px}#map{width:100%;height:100%;transition:0;position:relative}.drawing{cursor:url(feather.9d915bb975993212.svg) 2 20,auto}.google-logo{max-height:25px;z-index:10000}:host{position:relative}.map-logos{position:absolute;display:flex;align-items:center;gap:20px;bottom:5px;margin:0 auto;left:calc(50% - 50px);z-index:1}.map-logos a:hover,.map-logos a:visited,.map-logos a:active,.map-logos a::selection,.map-logos:focus{background-color:transparent}.map-logos img{height:40px}.map-logos .mol-logo img{height:28px}.map-logos .field-logo{width:42px;display:block}#hatch{background-image:url(/libs/ui/src/assets/bw20.png)}@media screen and (max-device-width: 480px){.map-logos{left:35%;bottom:1px}.map-logos img{height:20px}.map-logos .mol-logo{padding-left:10px}.map-logos .mol-logo img{height:17px}}\n'],encapsulation:2})}return i})();function zIt(i,e){1&i&&te(0,"mat-spinner",1)}let VIt=(()=>{class i{constructor(t){this.spinner=t,this.display=!1}ngOnInit(){this.spinner.activeRequests.subscribe(t=>{this.display=t>0})}static#t=this.\u0275fac=function(n){return new(n||i)(U(Wf))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-spinner"]],decls:1,vars:1,consts:[["class","main-spinner","color","accent","diameter","60",4,"ngIf"],["color","accent","diameter","60",1,"main-spinner"]],template:function(n,r){1&n&&It(0,zIt,1,0,"mat-spinner",0),2&n&&Y("ngIf",r.display)},dependencies:[on,qz],styles:[".main-spinner[_ngcontent-%COMP%]{z-index:1000000;position:absolute;top:30px;left:calc(50% - 30px)}"]})}return i})();function HIt(i,e){if(1&i&&(O(0,"div",5),tt(1),L()),2&i){const t=Mt();z(1),Mi(t.productType)}}function UIt(i,e){1&i&&te(0,"div",10),2&i&&Wr("background-color",Mt().$implicit.color)}function GIt(i,e){1&i&&te(0,"img",11),2&i&&Y("src",Mt().$implicit.img,rr)}function jIt(i,e){if(1&i&&(O(0,"div",6),It(1,UIt,1,2,"div",7),It(2,GIt,1,1,"img",8),O(3,"div",9),tt(4),L()()),2&i){const t=e.$implicit;z(1),Y("ngIf",t.color),z(1),Y("ngIf",t.img),z(2),Mi(t.text)}}function WIt(i,e){1&i&&(O(0,"button",19),tt(1," Strict Parks "),L())}function $It(i,e){1&i&&(O(0,"button",20),tt(1," All Parks "),L())}function YIt(i,e){if(1&i&&(O(0,"div",12)(1,"div",13)(2,"button",14),tt(3," Records outside suitable range "),L(),O(4,"button",15),tt(5," Records in suitable range "),L(),O(6,"button",16),tt(7,"Suitable range"),L()(),O(8,"div",13),It(9,WIt,2,0,"button",17),It(10,$It,2,0,"button",18),L()()),2&i){const t=Mt();z(9),Y("ngIf","protect"===t.productType),z(1),Y("ngIf","protect"===t.productType)}}const ytt={text:"No range data available",img:"https://storage.googleapis.com/cdn.mol.org/static/images/hatching/bw1.png"};let ZIt=(()=>{class i{constructor(){this.productType="",this.showLegendTitle=!1,this.legend=[]}ngOnInit(){if("points"===this.productType)this.legend=Hd.points.colors.map((t,n)=>({color:t,text:Hd.points.text(n)}));else if("consensus"===this.productType)this.legend=[{text:"Consensus",color:"#448833"},ytt];else if("range"===this.productType){const t=[];Hd.range.seasonality.forEach((n,r)=>{r>0&&r<5&&t.push({color:n,text:Hd.range.labels[r]})}),t.push(ytt),this.legend=t}else Hd[this.productType]?.color&&(this.legend=[{color:Hd[this.productType].color,text:"Presence"}])}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-detailed-map-legend"]],inputs:{productType:"productType",showLegendTitle:"showLegendTitle"},decls:5,vars:3,consts:[[1,"legend-parent"],["class","legend-title",4,"ngIf"],[1,"legend-box"],["class","legend-row",4,"ngFor","ngForOf"],["class","legend-flex",4,"ngIf"],[1,"legend-title"],[1,"legend-row"],["class","legend-color",3,"background-color",4,"ngIf"],["class","legend-color",3,"src",4,"ngIf"],[1,"legend-text"],[1,"legend-color"],[1,"legend-color",3,"src"],[1,"legend-flex"],[1,"flex-col"],["mat-flat-button","",1,"legend-epoints"],["mat-flat-button","",1,"legend-rpoints"],["mat-flat-button","",1,"legend-refine"],["mat-flat-button","","class","legend-park-strict ng-hide",4,"ngIf"],["mat-flat-button","","class","legend-park-all",4,"ngIf"],["mat-flat-button","",1,"legend-park-strict","ng-hide"],["mat-flat-button","",1,"legend-park-all"]],template:function(n,r){1&n&&(O(0,"div",0),It(1,HIt,2,1,"div",1),O(2,"div",2),It(3,jIt,5,3,"div",3),L(),It(4,YIt,11,2,"div",4),L()),2&n&&(z(1),Y("ngIf",r.showLegendTitle),z(2),Y("ngForOf",r.legend),z(1),Y("ngIf","habitatDist"===r.productType||"protect"===r.productType))},dependencies:[Ps,on,dl],styles:[".legend-color[_ngcontent-%COMP%]{width:15px;height:15px;margin:0 3px 0 12px}.legend-row[_ngcontent-%COMP%]{display:flex;min-width:200px;align-items:center}.legend-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;line-height:20px}.legend-flex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;cursor:default;height:auto;width:200px}.legend-flex[_ngcontent-%COMP%]   .legend-rpoints[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.legend-flex[_ngcontent-%COMP%]   .legend-epoints[_ngcontent-%COMP%]{color:#fff;background-color:#c0392b}.legend-flex[_ngcontent-%COMP%]   .legend-refine[_ngcontent-%COMP%]{color:#fff;background-color:#85ad5a;opacity:.7}.legend-flex[_ngcontent-%COMP%]   .legend-park-strict[_ngcontent-%COMP%]{color:#fff;background-color:#3e7bb6;opacity:.7}.legend-flex[_ngcontent-%COMP%]   .legend-park-all[_ngcontent-%COMP%]{color:#fff;background-color:#f90;opacity:.7}"]})}return i})();function qIt(i,e){if(1&i){const t=Ai();O(0,"div",3),fe("mouseleave",function(){return Te(t),Ie(Mt().close())})("touchend",function(){return Te(t),Ie(Mt().close())}),O(1,"div",4)(2,"div",5),tt(3,"Legend:"),L(),O(4,"div",6),fe("click",function(){return Te(t),Ie(Mt().active=!1)}),O(5,"mat-icon"),tt(6,"close"),L()()(),O(7,"div",7),tt(8),Yi(9,"translate"),L(),te(10,"mol-detailed-map-legend",8),O(11,"div",7),tt(12),Yi(13,"translate"),L(),te(14,"mol-detailed-map-legend",9),O(15,"div",7),tt(16),Yi(17,"translate"),L(),te(18,"mol-detailed-map-legend",10),O(19,"div",7),tt(20),Yi(21,"translate"),L(),te(22,"mol-detailed-map-legend",11),O(23,"div",7),tt(24),Yi(25,"translate"),L(),te(26,"mol-detailed-map-legend",12),L()}2&i&&(z(8),Mi(bn(9,5,"src_range")),z(4),Mi(bn(13,7,"src_points")),z(4),Mi(bn(17,9,"src_localinv")),z(4),Mi(bn(21,11,"src_regionalchecklist")),z(4),Mi(bn(25,13,"src_griddedrangeatlas")))}function XIt(i,e){if(1&i){const t=Ai();O(0,"div",3),fe("mouseleave",function(){return Te(t),Ie(Mt().close())})("touchend",function(){return Te(t),Ie(Mt().close())}),O(1,"div",4)(2,"div",5),tt(3,"Legend:"),L(),O(4,"div",6),fe("click",function(){return Te(t),Ie(Mt().active=!1)}),O(5,"mat-icon"),tt(6,"close"),L()()(),te(7,"mol-detailed-map-legend",13),L()}}function KIt(i,e){if(1&i){const t=Ai();O(0,"div",14),fe("mouseleave",function(){return Te(t),Ie(Mt().close())})("touchend",function(){return Te(t),Ie(Mt().close())}),O(1,"div",4)(2,"div",5),tt(3,"Legend:"),L(),O(4,"div",6),fe("click",function(){return Te(t),Ie(Mt().active=!1)}),O(5,"mat-icon"),tt(6,"close"),L()()(),te(7,"mol-detailed-map-legend",15),L()}if(2&i){const t=Mt();z(7),Y("productType",t.mode)}}function QIt(i,e){if(1&i){const t=Ai();O(0,"div",16),fe("mouseenter",function(){return Te(t),Ie(Mt().open())})("touchstart",function(){return Te(t),Ie(Mt().open())}),O(1,"div",17),tt(2),Yi(3,"translate"),L()()}2&i&&(z(2),Mi(bn(3,1,"legend")))}let JIt=(()=>{class i{constructor(){this.active=!0,this.mode="detailed"}ngOnInit(){}ngOnChanges(){this.active=!0}open(){this.active=!0}close(){setTimeout(()=>{this.active=!1},1e3)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-detailed-map-legend-box"]],inputs:{mode:"mode"},features:[zn],decls:4,vars:4,consts:[["class","map-legend",3,"mouseleave","touchend",4,"ngIf"],["class","map-legend spind",3,"mouseleave","touchend",4,"ngIf"],["class","map-legend btn",3,"mouseenter","touchstart",4,"ngIf"],[1,"map-legend",3,"mouseleave","touchend"],[1,"heading"],[1,"l-title"],[1,"close",3,"click"],[1,"type-title"],["productType","range"],["productType","points"],["productType","localinv"],["productType","regionalchecklist"],["productType","griddedrangeatlas"],["productType","consensus"],[1,"map-legend","spind",3,"mouseleave","touchend"],[3,"productType"],[1,"map-legend","btn",3,"mouseenter","touchstart"],[1,""]],template:function(n,r){1&n&&(It(0,qIt,27,15,"div",0),It(1,XIt,8,0,"div",0),It(2,KIt,8,1,"div",1),It(3,QIt,4,3,"div",2)),2&n&&(Y("ngIf",r.active&&"detailed"===r.mode),z(1),Y("ngIf",r.active&&"consensus"===r.mode),z(1),Y("ngIf",r.active&&("habitatDist"===r.mode||"protect"===r.mode)),z(1),Y("ngIf",!r.active))},dependencies:[on,Ma,ZIt,ed],styles:[".map-legend[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;top:unset;bottom:3em;left:.75em;background-color:#fff;padding:10px;border-radius:px;border:#bbb solid 1px}.map-legend.btn[_ngcontent-%COMP%]{height:25px;line-height:25px;font-size:18px}.map-legend[_ngcontent-%COMP%]   .type-title[_ngcontent-%COMP%]{font-weight:500;padding:3px 0}.map-legend[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:3px}[_nghost-%COMP%]{position:relative}.l-title[_ngcontent-%COMP%]{float:left;font-size:16px;font-weight:700}.close[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}"]})}return i})();const tAt=function(i,e){return{fa:!0,"fa-chevron-left":i,"fa-chevron-right":e}};function eAt(i,e){if(1&i){const t=Ai();O(0,"button",10),fe("click",function(){Te(t);const r=Mt(2);return Ie(r.opened=!r.opened)}),te(1,"i"),L()}if(2&i){const t=Mt(2);z(1),Yn(O0(2,tAt,t.opened,!t.opened))}}function iAt(i,e){1&i&&te(0,"mol-detailed-map-legend-box",11),2&i&&Y("mode",Mt(2).mapMode)}const nAt=function(i,e,t,n){return{"sidebar-container":i,"full-sidebar":e,"sidebar-header":t,"sidebar-nav":n}};function rAt(i,e){if(1&i){const t=Ai();O(0,"mat-sidenav-container")(1,"mat-sidenav",7),fe("openedChange",function(r){Te(t);const s=Mt();return Ie(s.opened&&(s.sidebar=r))}),te(2,"router-outlet"),L(),O(3,"mat-sidenav-content"),It(4,eAt,2,5,"button",8),te(5,"mol-map")(6,"mol-spinner"),It(7,iAt,1,1,"mol-detailed-map-legend-box",9),L()()}if(2&i){const t=Mt();Yn(uO(5,nAt,!t.embed,t.embed,!t.hideHeader,!t.hideNav)),z(1),Y("opened",t.opened&&t.sidebar),z(3),Y("ngIf",t.sidebar),z(3),Y("ngIf",t.showLegend)}}function sAt(i,e){if(1&i&&(O(0,"div",12)(1,"div")(2,"div",13),te(3,"mol-map")(4,"mol-spinner"),L(),te(5,"mol-detailed-map-legend-box",11)(6,"router-outlet")(7,"mol-scroll-to-top"),L()()),2&i){const t=Mt();z(5),Y("mode",t.mapMode)}}function oAt(i,e){1&i&&te(0,"mol-footer")}const aAt=function(i,e,t){return{main:i,full:e,footer:t}};let lAt=(()=>{class i{constructor(t,n,r,s,o,l){this.actRoute=t,this.router=n,this.state=r,this.location=s,this.urlConfig=o,this.translate=l,this.scientificname="",this.links=[],this.embed=!1,this.sidebar=!0,this.hideHeader=!1,this.hideNav=!1,this.hideFooter=!1,this.opened=!0,this.isMobile=!1,this.mapMode="detailed",this.showLegend=!1,this.isMobile=window.innerWidth<=480,this.urlConfig.state.subscribe(d=>{d&&(this.embed=d.embed,this.sidebar=d.sidebar,this.hideHeader=!d.header,this.hideNav=!d.nav,this.hideFooter=!d.footer)}),this.router.events.pipe(Gn(d=>d instanceof nh)).subscribe(d=>{const h=!!d.url.match(/^\/map\//),m=!!d.url.match(/^\/range\//),b=!!d.url.match(/^\/protect\//),v=!!d.url.match(/^\/[^\/]+$/);this.showLegend=h||v||m||b,this.mapMode=h?"detailed":m?"habitatDist":b?"protect":"detailed"})}ngOnInit(){const t=this.actRoute.firstChild.snapshot.params.scientificname;this.state.scientificname.subscribe(n=>{""!==n&&this.actRoute.data.subscribe(r=>{this.scientificname=n;const s=n.replace(" ","_"),o=this.actRoute.firstChild.snapshot.queryParams;this.links=[{name:"nav_species_home",route:this.getUrl([""]),data:o},{name:"nav_detailed_map",route:this.getUrl(["map",s]),data:o},{name:"Habitat Distribution",route:this.getUrl(["range",s]),data:o},{name:"Reserve Coverage",route:this.getUrl(["protect",s]),data:o},{name:"Habitat Trends",route:this.getUrl(["habitat-trend",s]),data:o},{name:"Projection Landuse",route:this.getUrl(["projection","landuse",s]),data:o},{name:"Projection Urban",route:this.getUrl(["projection","urban",s]),data:o}],this.actRoute.firstChild.snapshot.url[this.actRoute.firstChild.snapshot.url.length-1].path=s;const d=this.getUrl(this.actRoute.firstChild.snapshot.url.map(h=>h.path),!0);this.location.go(d)})}),this.state.updateScientificname(t)}getUrl(t,n=!1){return this.router.createUrlTree(t,{queryParams:n?this.actRoute.firstChild.snapshot.queryParams:null}).toString()}updateSpecies(t){this.state.updateScientificname(t.scientificname)}static#t=this.\u0275fac=function(n){return new(n||i)(U(zd),U(so),U(Kd),U(ws),U(vg),U(yc))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-sidebar-layout"]],decls:8,vars:15,consts:[["app","species",3,"hidden"],[3,"hidden","showSearchLink","links"],["slot","search2",3,"nav","chosenSpecies"],["slot","search1",3,"nav","chosenSpecies"],[3,"class",4,"ngIf"],["class","mobile-layout",4,"ngIf"],[4,"ngIf"],["position","start","mode","side","disableClose","",1,"sidebar",3,"opened","openedChange"],["mat-button","","class","open-close-button",3,"click",4,"ngIf"],[3,"mode",4,"ngIf"],["mat-button","",1,"open-close-button",3,"click"],[3,"mode"],[1,"mobile-layout"],[1,"map-block"]],template:function(n,r){1&n&&(O(0,"div"),te(1,"mol-header",0),O(2,"mol-nav",1)(3,"mol-search",2),fe("chosenSpecies",function(o){return r.updateSpecies(o)}),L(),O(4,"mol-search",3),fe("chosenSpecies",function(o){return r.updateSpecies(o)}),L()(),It(5,rAt,8,10,"mat-sidenav-container",4),It(6,sAt,8,1,"div",5),L(),It(7,oAt,1,0,"mol-footer",6)),2&n&&(Yn(nx(11,aAt,!r.embed,r.embed,!r.hideFooter)),z(1),Y("hidden",r.hideHeader),z(1),Y("hidden",r.hideNav)("showSearchLink",!0)("links",r.links),z(1),Y("nav",!0),z(1),Y("nav",!0),z(1),Y("ngIf",!r.isMobile),z(1),Y("ngIf",r.isMobile),z(1),Y("ngIf",!r.hideFooter))},dependencies:[tw,on,Z9,q9,BIt,X9,VIt,$9,F3,JIt,dl,Qz,Jz,GP],styles:[".open-close-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-10px;max-width:30px;z-index:99999;padding:0;margin:0;background-color:#fff;border:solid #aaa 1px}.mobile-layout[_ngcontent-%COMP%]{display:none}@media screen and (max-device-width: 480px){.sidebar-container[_ngcontent-%COMP%], .full-sidebar[_ngcontent-%COMP%]{display:none}.mobile-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mobile-layout[_ngcontent-%COMP%]   mol-spinner[_ngcontent-%COMP%]{top:300px}.mobile-layout[_ngcontent-%COMP%]   .map-block[_ngcontent-%COMP%]{height:400px;position:relative;min-height:400px}.sidebar[_ngcontent-%COMP%]{width:100%}.open-close-button[_ngcontent-%COMP%]{max-width:150px;width:140px}.open-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.show-map-button[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row-reverse}.show-map-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:solid #aaa 1px;border-radius:0}}@media screen and (min-device-width: 480px){.open-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .show-map-button[_ngcontent-%COMP%]{display:none}}.sidebar[_ngcontent-%COMP%]{box-shadow:3px 0 2px -2px #aaa}"]})}return i})(),cAt=(()=>{class i{constructor(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-dataset-menu-legend-overlay"]],decls:25,vars:0,consts:[[1,"legend-box"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-breeding.png",1,"legend-img"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-non-breeding.png",1,"legend-img"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-resident.png",1,"legend-img"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-passage.png",1,"legend-img"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"h3"),tt(2,"Expert range maps key"),L(),O(3,"table")(4,"tbody")(5,"tr")(6,"td"),te(7,"img",1),L(),O(8,"td"),tt(9," Breeding "),L()(),O(10,"tr")(11,"td"),te(12,"img",2),L(),O(13,"td"),tt(14," Non-breeding "),L()(),O(15,"tr")(16,"td"),te(17,"img",3),L(),O(18,"td"),tt(19," Resident "),L()(),O(20,"tr")(21,"td"),te(22,"img",4),L(),O(23,"td"),tt(24," Passage "),L()()()()())},styles:[".legend-box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;display:block;top:-16px;left:80px;box-shadow:0 4px 7px #0003,0 4px 4px #00000024,0 5px 4px -4px #0000001f}h3[_ngcontent-%COMP%]{padding:0;margin:0;font-size:1em}.legend-img[_ngcontent-%COMP%]{width:25px;height:25px;padding:3px}table[_ngcontent-%COMP%]{border-spacing:0;font-size:.5em;border-collapse:collapse}"]})}return i})();function dAt(i,e){1&i&&te(0,"button",13)}function uAt(i,e){1&i&&(O(0,"button",14),te(1,"i",15),L())}const hAt=function(){return{"feature-count":!0}};function fAt(i,e){if(1&i){const t=Ai();O(0,"mat-tree-node",3)(1,"div",4)(2,"div",5),It(3,dAt,1,0,"button",6),It(4,uAt,2,0,"button",7),O(5,"button",8),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().toggleDataset(s.data))}),O(6,"mat-icon"),tt(7),L()(),O(8,"div",9),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().info(s,!0))}),tt(9),L(),O(10,"span",10),tt(11),L(),O(12,"button",11),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().zoom(s))}),Yi(13,"translate"),O(14,"mat-icon"),tt(15,"zoom_in"),L()(),O(16,"button",11),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().info(s,!0))}),Yi(17,"translate"),te(18,"i",12),L()()()()}if(2&i){const t=e.$implicit;z(3),Y("ngIf",!t.data.user_dataset),z(1),Y("ngIf",t.data.user_dataset),z(3),mi(" ",t.data.visible?"check_box":"check_box_outline_blank"," "),z(1),Y("matTooltip",t.data.dataset_title)("matTooltipShowDelay",500),z(1),mi(" ",t.data.dataset_title," "),z(1),Yn(Id(16,hAt)),Y("matTooltip",t.data.tooltip),z(1),Mi(t.data.n_display),z(1),Y("matTooltip",bn(13,12,"info_zoom_dataset")),z(4),Y("matTooltip",bn(17,14,"info_about_dataset"))}}function mAt(i,e){if(1&i&&(O(0,"div",22),tt(1),Yi(2,"translate"),L()),2&i){const t=Mt().$implicit;Ni("aria-label","toggle "+t.data.type_title),z(1),mi(" ",bn(2,2,"src_"+t.data.product_type)," ")}}function pAt(i,e){if(1&i&&(O(0,"div",22),tt(1),L()),2&i){const t=Mt().$implicit;Ni("aria-label","toggle "+t.data.type_title),z(1),mi(" ",t.data.type_title," ")}}function gAt(i,e){1&i&&(O(0,"div",22),tt(1," Movement "),L()),2&i&&Ni("aria-label","toggle "+Mt().$implicit.data.type_title)}function _At(i,e){if(1&i){const t=Ai();O(0,"mat-tree-node",3)(1,"button",16)(2,"mat-icon",17),tt(3),L()(),O(4,"button",18),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().toggleDatatype(s))}),O(5,"mat-icon"),tt(6),L()(),It(7,mAt,3,4,"div",19),It(8,pAt,2,2,"div",19),It(9,gAt,2,1,"div",19),te(10,"img",20),O(11,"span",21),tt(12),L(),O(13,"button",11),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().zoom(s))}),Yi(14,"translate"),O(15,"mat-icon"),tt(16,"zoom_in"),L()(),O(17,"button",11),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt().info(s,!1))}),Yi(18,"translate"),te(19,"i",12),L()()}if(2&i){const t=e.$implicit,n=Mt();z(1),Ni("aria-label","toggle "+t.data.type_title),z(2),mi(" ",n.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),z(3),mi(" ",t.data.icon," "),z(1),Y("ngIf","movement"!=t.data.product_type&&"alienchecklist"!=t.data.product_type),z(1),Y("ngIf","alienchecklist"==t.data.product_type),z(1),Y("ngIf","movement"==t.data.product_type),z(1),Y("src","https://cdn.mol.org/static/images/legends/datatypes/"+("points"===t.data.product_type?"points_agg":t.data.product_type)+".png",rr),z(1),Y("matTooltip",t.data.tooltip),z(1),Mi(t.data.n_display),z(1),Y("matTooltip",bn(14,11,"info_zoom_data_type")),z(4),Y("matTooltip",bn(18,13,"info_about_data_type"))}}const bAt=(i,e)=>({expandable:!!i.children&&i.children.length>0,data:i.data,level:e});let vAt=(()=>{class i{constructor(t,n,r,s,o){this.species=t,this.datasetService=n,this.dialog=r,this.decimal=s,this.overlay=o,this.scientificname="",this.defaultSelected=[],this.defaultDatasetType="",this.selectedDatasetIdsChanged=new qe,this.selectedDatasets=new qe,this.selectedOccurrenceDatasetIdsChanged=new qe,this.selectedModelDatasets=new qe,this.zoomToDatasetExtent=new qe,this.datasets=[],this.selectedDatasetIds=[],this.maxOcc=5e3,this.first=!0,this.modelThresholdStore={},this.treeControl=new Dxt(l=>l.level,l=>l.expandable),this.treeFlattener=new Nxt(bAt,l=>l.level,l=>l.expandable,l=>l.children),this.dataSource=new Bxt(this.treeControl,this.treeFlattener),this.countFormatter=new Intl.NumberFormat(void 0,{notation:"compact",maximumFractionDigits:0}),this.hasChild=(l,d)=>d.expandable}ngOnInit(){}ngOnChanges(t){t.scientificname.currentValue!==t.scientificname.previousValue&&this.species.getDatasets(this.scientificname).subscribe(n=>{this.datasets=n,this.dataSource.data=this.makeHierarchical(n),this.updatedSelectedDatasetIds()})}makeHierarchical(t){const n=Array.from(new Set(t.map(d=>d.product_type))),r={},s=t.find(d=>"704898e7-b945-4721-b201-9286bd00c0a9"===d.dataset_id),o=t.find(d=>"d542e050-2ae5-457e-8476-027741538965"===d.dataset_id),l=t.find(d=>"ec694c34-bddd-4111-ba99-926a5f7866e8"===d.dataset_id);return l&&(t.filter(d=>"range"===d.product_type).forEach(d=>{d.visible=!1}),l.visible=!0),s&&o&&(s.visible=!1),t.forEach(d=>{if(r[d.product_type]){const h=r[d.product_type];h.data.bounds.northEast.lat=Math.max(h.data.bounds.northEast.lat,d.bounds.northEast.lat),h.data.bounds.northEast.lng=Math.max(h.data.bounds.northEast.lng,d.bounds.northEast.lng),h.data.bounds.southWest.lat=Math.min(h.data.bounds.southWest.lat,d.bounds.southWest.lat),h.data.bounds.southWest.lng=Math.min(h.data.bounds.southWest.lng,d.bounds.southWest.lng),h.data.no_rows+=d.no_rows,h.children.push({data:d}),d.visible&&!h.data.visible&&(h.data.visible=!0,h.data.icon="indeterminate_check_box")}else r[d.product_type]={expandable:!0,data:Object.assign({icon:d.visible?"check_box":"check_box_outline_blank"},d),children:[{data:d}]};"model"===d.product_type&&(d.visible=!1,this.species.getModelInfo(this.scientificname).subscribe(h=>{h.forEach(m=>{this.modelThresholdStore[d.dataset_id]=[];const b=["th05","th10"];Object.keys(m).forEach(v=>{if("number"==typeof m[v]&&b.indexOf(v)>-1){const E={code:v,threshold:m[v],visible:v===b[0]};this.modelThresholdStore[d.dataset_id].push(E),d.thresholds?d.thresholds.push(E):d.thresholds=[E]}})})}))}),n.forEach(d=>{const h=this.countDataTypeTooltip(r[d]);r[d].data.tooltip=h,r[d].children.forEach(m=>{m.data.tooltip=this.countDatasetTooltip(m)})}),n.map(d=>r[d])}legend(t){t.data.legend=!t.data.legend}toggleDataset(t){t.visible=!t.visible;const n=this.dataSource.data.find(s=>s.data.product_type===t.product_type);n.children.every(s=>s.data.visible===t.visible)&&n.data.visible!==t.visible&&(n.data.visible=t.visible),this.updatedSelectedDatasetIds()}toggleDatatype(t){t.data.visible=!t.data.visible,this.datasets.filter(n=>n.product_type===t.data.product_type).forEach(n=>n.visible=t.data.visible),this.updatedSelectedDatasetIds()}updatedSelectedDatasetIds(){let t=!1;this.first&&(this.defaultSelected.length>=1?(t=!0,this.datasets.forEach(l=>{l.visible=-1!==this.defaultSelected.indexOf(l.dataset_id)})):""!==this.defaultDatasetType&&(t=!0,this.datasets.forEach(l=>{l.product_type!==this.defaultDatasetType&&(l.visible=!1)})),this.first=!1),this.dataSource.data.map(l=>{const d=l.children.map(b=>b.data.visible),h=-1!==d.indexOf(!0),m=-1!==d.indexOf(!1);!h&&m?(l.data.visible=!1,l.data.icon="check_box_outline_blank"):h&&!m?(l.data.visible=!0,l.data.icon="check_box"):h&&m&&(l.data.visible=!0,l.data.icon="indeterminate_check_box")});const n=this.datasets.filter(l=>l.visible),r=n.filter(l=>"points"===l.product_type).map(l=>l.dataset_id),o=n.filter(l=>"model"===l.product_type).map(l=>l.dataset_id).map(l=>({thresholds:this.modelThresholdStore[l],dataset_id:l}));this.selectedDatasets.emit(n),this.selectedDatasetIds=n.map(l=>l.dataset_id),this.selectedOccurrenceDatasetIdsChanged.emit(r),this.selectedModelDatasets.emit(o.length>0?o[0]:null),this.selectedDatasetIdsChanged.emit(this.selectedDatasetIds)}countDatasetTooltip(t){const n=t.data.no_rows;return t.data.n_display=this.countFormatter.format(n),`${this.decimal.transform(n)} features available in ${t.data.dataset_title}.`}countDataTypeTooltip(t){if(!t)return"";const n=this.datasets.filter(r=>r.product_type===t.data.product_type).length;return t.data.n_display=this.countFormatter.format(t.data.no_rows),`${this.decimal.transform(t.data.no_rows)} ${t.data.type_title} features available across ${n} datasets.`}zoom(t){this.zoomToDatasetExtent.emit(t.data.bounds)}info(t,n){n?this.datasetService.metadata(t.data.dataset_id).subscribe(r=>{this.openInfoModal({info:r.metadata,dataset_id:t.data.dataset_id,heading:t.data.dataset_title})}):this.datasetService.type(t.data.product_type).subscribe(r=>{r.length>=1&&this.openInfoModal({info:[{children:r}],heading:r[0].value})})}openInfoModal(t){this.dialog.open(yK,{data:t})}openLegendOverlay(t,n){if("range"!==n.data.product_type)return;const r=this.overlay.position().flexibleConnectedTo(t.srcElement).withPositions([{originX:"start",originY:"center",overlayX:"end",overlayY:"center"}]);this.overlayRef=this.overlay.create({positionStrategy:r,hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop"}),this.overlayRef.attach(new ab(cAt)),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef.dispose()),setTimeout(()=>{this.overlayRef.dispose()},1e3)}static#t=this.\u0275fac=function(n){return new(n||i)(U(ul),U($bt),U(id),U(W0),U(Sa))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-dataset-menu"]],inputs:{scientificname:"scientificname",defaultSelected:"defaultSelected",defaultDatasetType:"defaultDatasetType"},outputs:{selectedDatasetIdsChanged:"selectedDatasetIdsChanged",selectedDatasets:"selectedDatasets",selectedOccurrenceDatasetIdsChanged:"selectedOccurrenceDatasetIdsChanged",selectedModelDatasets:"selectedModelDatasets",zoomToDatasetExtent:"zoomToDatasetExtent"},features:[vi([W0]),zn],decls:3,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodePadding","","class","treeNode",4,"matTreeNodeDef"],["matTreeNodePadding","","class","treeNode",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"treeNode"],[1,"node-container"],[1,"node-row"],["mat-icon-button","","disabled","",4,"ngIf"],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","matTooltip","Toggle dataset visibility.",3,"click"],["mat-flat-button","",1,"dataset-button",3,"matTooltip","matTooltipShowDelay","click"],["matTooltipPosition","right",3,"matTooltip"],["mat-icon-button","","matTooltipPosition","right",3,"matTooltip","click"],[1,"fa","fa-info"],["mat-icon-button","","disabled",""],["mat-icon-button",""],[1,"fa","fa-user"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["mat-icon-button","",3,"click"],["mat-flat-button","","matTreeNodeToggle","","class","product-type-button",4,"ngIf"],[1,"product-type-logo",3,"src"],["matTooltipPosition","right",1,"feature-count",3,"matTooltip"],["mat-flat-button","","matTreeNodeToggle","",1,"product-type-button"]],template:function(n,r){1&n&&(O(0,"mat-tree",0),It(1,fAt,19,17,"mat-tree-node",1),It(2,_At,20,15,"mat-tree-node",2),L()),2&n&&(Y("dataSource",r.dataSource)("treeControl",r.treeControl),z(2),Y("matTreeNodeDefWhen",r.hasChild))},dependencies:[on,cg,Ma,zl,hK,fK,pK,mK,uK,ed],styles:["strong[_ngcontent-%COMP%]{display:block;margin:10px 0 0 10px;font-size:1.1em}.product-type-logo[_ngcontent-%COMP%]{height:25px;width:25px}.product-type-button[_ngcontent-%COMP%], .dataset-button[_ngcontent-%COMP%]{cursor:pointer;width:150px;min-width:150px;max-width:150px;text-decoration:underline;font-weight:300;text-align:left;padding:0;display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dataset-button[_ngcontent-%COMP%]{min-width:135px;max-width:135px;width:135px;line-height:40px}.feature-count[_ngcontent-%COMP%]{display:inline;width:50px;max-width:50px;min-width:50px;line-height:30px;padding:5px 0;font-weight:700;text-align:center;word-break:keep-all}.feature-count.points[_ngcontent-%COMP%]{text-align:center;width:100px}.node-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.node-container[_ngcontent-%COMP%]   .node-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%}.dataset-menu-button[_ngcontent-%COMP%]{height:25px;line-height:25px;margin:3px}@media screen and (max-device-width: 480px){.mat-icon-button[_ngcontent-%COMP%]{width:34px}.treeNode[_ngcontent-%COMP%]{justify-content:center}.treeNode[aria-expanded=false][_ngcontent-%COMP%]{padding-left:0!important}.feature-count[_ngcontent-%COMP%]{width:40px;max-width:40px;min-width:40px}.product-type-button[_ngcontent-%COMP%]{width:125px;max-width:125px;min-width:125px}.product-type-logo[_ngcontent-%COMP%]{display:none}.dataset-button[_ngcontent-%COMP%]{width:125px;max-width:125px;min-width:125px}}"]})}return i})();var Ow=Et(208);function xtt(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}var wtt=function yAt(i){return 1===i.length&&(i=function xAt(i){return function(e,t){return xtt(i(e),t)}}(i)),{left:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var s=n+r>>>1;i(e[s],t)<0?n=s+1:r=s}return n},right:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var s=n+r>>>1;i(e[s],t)>0?r=s:n=s+1}return n}}}(xtt);const CAt=wtt.right;var SH=Math.sqrt(50),kH=Math.sqrt(10),DH=Math.sqrt(2);function iF(i,e,t){var n=(e-i)/Math.max(0,t),r=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,r);return r>=0?(s>=SH?10:s>=kH?5:s>=DH?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=SH?10:s>=kH?5:s>=DH?2:1)}function LAt(){}function IH(i){return null==i?LAt:function(){return this.querySelector(i)}}function NAt(){return[]}function Mtt(i){return null==i?NAt:function(){return this.querySelectorAll(i)}}function Stt(i){return function(){return this.matches(i)}}function ktt(i){return new Array(i.length)}function oF(i,e){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=e}oF.prototype={constructor:oF,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,e){return this._parent.insertBefore(i,e)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function UAt(i,e,t,n,r,s){for(var l,o=0,d=e.length,h=s.length;o<h;++o)(l=e[o])?(l.__data__=s[o],n[o]=l):t[o]=new oF(i,s[o]);for(;o<d;++o)(l=e[o])&&(r[o]=l)}function GAt(i,e,t,n,r,s,o){var l,d,E,h={},m=e.length,b=s.length,v=new Array(m);for(l=0;l<m;++l)(d=e[l])&&(v[l]=E="$"+o.call(d,d.__data__,l,e),E in h?r[l]=d:h[E]=d);for(l=0;l<b;++l)(d=h[E="$"+o.call(i,s[l],l,s)])?(n[l]=d,d.__data__=s[l],h[E]=null):t[l]=new oF(i,s[l]);for(l=0;l<m;++l)(d=e[l])&&h[v[l]]===d&&(r[l]=d)}function XAt(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}var AH="http://www.w3.org/1999/xhtml";const Ttt={svg:"http://www.w3.org/2000/svg",xhtml:AH,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function aF(i){var e=i+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=i.slice(0,t))&&(i=i.slice(t+1)),Ttt.hasOwnProperty(e)?{space:Ttt[e],local:i}:i}function nOt(i){return function(){this.removeAttribute(i)}}function rOt(i){return function(){this.removeAttributeNS(i.space,i.local)}}function sOt(i,e){return function(){this.setAttribute(i,e)}}function oOt(i,e){return function(){this.setAttributeNS(i.space,i.local,e)}}function aOt(i,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(i):this.setAttribute(i,t)}}function lOt(i,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,t)}}function Itt(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function dOt(i){return function(){this.style.removeProperty(i)}}function uOt(i,e,t){return function(){this.style.setProperty(i,e,t)}}function hOt(i,e,t){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(i):this.style.setProperty(i,n,t)}}function Rw(i,e){return i.style.getPropertyValue(e)||Itt(i).getComputedStyle(i,null).getPropertyValue(e)}function mOt(i){return function(){delete this[i]}}function pOt(i,e){return function(){this[i]=e}}function gOt(i,e){return function(){var t=e.apply(this,arguments);null==t?delete this[i]:this[i]=t}}function Att(i){return i.trim().split(/^|\s+/)}function OH(i){return i.classList||new Ott(i)}function Ott(i){this._node=i,this._names=Att(i.getAttribute("class")||"")}function Rtt(i,e){for(var t=OH(i),n=-1,r=e.length;++n<r;)t.add(e[n])}function Ptt(i,e){for(var t=OH(i),n=-1,r=e.length;++n<r;)t.remove(e[n])}function bOt(i){return function(){Rtt(this,i)}}function vOt(i){return function(){Ptt(this,i)}}function yOt(i,e){return function(){(e.apply(this,arguments)?Rtt:Ptt)(this,i)}}function wOt(){this.textContent=""}function COt(i){return function(){this.textContent=i}}function EOt(i){return function(){var e=i.apply(this,arguments);this.textContent=e??""}}function SOt(){this.innerHTML=""}function kOt(i){return function(){this.innerHTML=i}}function DOt(i){return function(){var e=i.apply(this,arguments);this.innerHTML=e??""}}function IOt(){this.nextSibling&&this.parentNode.appendChild(this)}function OOt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function POt(i){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===AH&&e.documentElement.namespaceURI===AH?e.createElement(i):e.createElementNS(t,i)}}function LOt(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function Ltt(i){var e=aF(i);return(e.local?LOt:POt)(e)}function NOt(){return null}function zOt(){var i=this.parentNode;i&&i.removeChild(this)}function HOt(){var i=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function UOt(){var i=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}Ott.prototype={add:function(i){this._names.indexOf(i)<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var e=this._names.indexOf(i);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};var Ftt={},Rb=null;function $Ot(i,e,t){return i=Ntt(i,e,t),function(n){var r=n.relatedTarget;(!r||r!==this&&!(8&r.compareDocumentPosition(this)))&&i.call(this,n)}}function Ntt(i,e,t){return function(n){var r=Rb;Rb=n;try{i.call(this,this.__data__,e,t)}finally{Rb=r}}}function ZOt(i){return function(){var e=this.__on;if(e){for(var s,t=0,n=-1,r=e.length;t<r;++t)s=e[t],i.type&&s.type!==i.type||s.name!==i.name?e[++n]=s:this.removeEventListener(s.type,s.listener,s.capture);++n?e.length=n:delete this.__on}}}function qOt(i,e,t){var n=Ftt.hasOwnProperty(i.type)?$Ot:Ntt;return function(r,s,o){var d,l=this.__on,h=n(e,s,o);if(l)for(var m=0,b=l.length;m<b;++m)if((d=l[m]).type===i.type&&d.name===i.name)return this.removeEventListener(d.type,d.listener,d.capture),this.addEventListener(d.type,d.listener=h,d.capture=t),void(d.value=e);this.addEventListener(i.type,h,t),d={type:i.type,name:i.name,value:e,listener:h,capture:t},l?l.push(d):this.__on=[d]}}function Btt(i,e,t){var n=Itt(i),r=n.CustomEvent;"function"==typeof r?r=new r(e,t):(r=n.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),i.dispatchEvent(r)}function KOt(i,e){return function(){return Btt(this,i,e)}}function QOt(i,e){return function(){return Btt(this,i,e.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||(Ftt={mouseenter:"mouseover",mouseleave:"mouseout"}));var tRt=[null];function Jd(i,e){this._groups=i,this._parents=e}function ztt(){return new Jd([[document.documentElement]],tRt)}Jd.prototype=ztt.prototype={constructor:Jd,select:function FAt(i){"function"!=typeof i&&(i=IH(i));for(var e=this._groups,t=e.length,n=new Array(t),r=0;r<t;++r)for(var d,h,s=e[r],o=s.length,l=n[r]=new Array(o),m=0;m<o;++m)(d=s[m])&&(h=i.call(d,d.__data__,m,s))&&("__data__"in d&&(h.__data__=d.__data__),l[m]=h);return new Jd(n,this._parents)},selectAll:function BAt(i){"function"!=typeof i&&(i=Mtt(i));for(var e=this._groups,t=e.length,n=[],r=[],s=0;s<t;++s)for(var d,o=e[s],l=o.length,h=0;h<l;++h)(d=o[h])&&(n.push(i.call(d,d.__data__,h,o)),r.push(d));return new Jd(n,r)},filter:function zAt(i){"function"!=typeof i&&(i=Stt(i));for(var e=this._groups,t=e.length,n=new Array(t),r=0;r<t;++r)for(var d,s=e[r],o=s.length,l=n[r]=[],h=0;h<o;++h)(d=s[h])&&i.call(d,d.__data__,h,s)&&l.push(d);return new Jd(n,this._parents)},data:function jAt(i,e){if(!i)return E=new Array(this.size()),h=-1,this.each(function(Rt){E[++h]=Rt}),E;var t=e?GAt:UAt,n=this._parents,r=this._groups;"function"!=typeof i&&(i=function HAt(i){return function(){return i}}(i));for(var s=r.length,o=new Array(s),l=new Array(s),d=new Array(s),h=0;h<s;++h){var m=n[h],b=r[h],v=b.length,E=i.call(m,m&&m.__data__,h,n),D=E.length,T=l[h]=new Array(D),P=o[h]=new Array(D);t(m,b,T,P,d[h]=new Array(v),E,e);for(var Q,Tt,H=0,j=0;H<D;++H)if(Q=T[H]){for(H>=j&&(j=H+1);!(Tt=P[j])&&++j<D;);Q._next=Tt||null}}return(o=new Jd(o,n))._enter=l,o._exit=d,o},enter:function VAt(){return new Jd(this._enter||this._groups.map(ktt),this._parents)},exit:function WAt(){return new Jd(this._exit||this._groups.map(ktt),this._parents)},join:function $At(i,e,t){var n=this.enter(),r=this,s=this.exit();return n="function"==typeof i?i(n):n.append(i+""),null!=e&&(r=e(r)),null==t?s.remove():t(s),n&&r?n.merge(r).order():r},merge:function YAt(i){for(var e=this._groups,t=i._groups,n=e.length,s=Math.min(n,t.length),o=new Array(n),l=0;l<s;++l)for(var v,d=e[l],h=t[l],m=d.length,b=o[l]=new Array(m),E=0;E<m;++E)(v=d[E]||h[E])&&(b[E]=v);for(;l<n;++l)o[l]=e[l];return new Jd(o,this._parents)},order:function ZAt(){for(var i=this._groups,e=-1,t=i.length;++e<t;)for(var o,n=i[e],r=n.length-1,s=n[r];--r>=0;)(o=n[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function qAt(i){function e(b,v){return b&&v?i(b.__data__,v.__data__):!b-!v}i||(i=XAt);for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s){for(var h,o=t[s],l=o.length,d=r[s]=new Array(l),m=0;m<l;++m)(h=o[m])&&(d[m]=h);d.sort(e)}return new Jd(r,this._parents).order()},call:function KAt(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this},nodes:function QAt(){var i=new Array(this.size()),e=-1;return this.each(function(){i[++e]=this}),i},node:function JAt(){for(var i=this._groups,e=0,t=i.length;e<t;++e)for(var n=i[e],r=0,s=n.length;r<s;++r){var o=n[r];if(o)return o}return null},size:function tOt(){var i=0;return this.each(function(){++i}),i},empty:function eOt(){return!this.node()},each:function iOt(i){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l,r=e[t],s=0,o=r.length;s<o;++s)(l=r[s])&&i.call(l,l.__data__,s,r);return this},attr:function cOt(i,e){var t=aF(i);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((null==e?t.local?rOt:nOt:"function"==typeof e?t.local?lOt:aOt:t.local?oOt:sOt)(t,e))},style:function fOt(i,e,t){return arguments.length>1?this.each((null==e?dOt:"function"==typeof e?hOt:uOt)(i,e,t??"")):Rw(this.node(),i)},property:function _Ot(i,e){return arguments.length>1?this.each((null==e?mOt:"function"==typeof e?gOt:pOt)(i,e)):this.node()[i]},classed:function xOt(i,e){var t=Att(i+"");if(arguments.length<2){for(var n=OH(this.node()),r=-1,s=t.length;++r<s;)if(!n.contains(t[r]))return!1;return!0}return this.each(("function"==typeof e?yOt:e?bOt:vOt)(t,e))},text:function MOt(i){return arguments.length?this.each(null==i?wOt:("function"==typeof i?EOt:COt)(i)):this.node().textContent},html:function TOt(i){return arguments.length?this.each(null==i?SOt:("function"==typeof i?DOt:kOt)(i)):this.node().innerHTML},raise:function AOt(){return this.each(IOt)},lower:function ROt(){return this.each(OOt)},append:function FOt(i){var e="function"==typeof i?i:Ltt(i);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function BOt(i,e){var t="function"==typeof i?i:Ltt(i),n=null==e?NOt:"function"==typeof e?e:IH(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function VOt(){return this.each(zOt)},clone:function GOt(i){return this.select(i?UOt:HOt)},datum:function jOt(i){return arguments.length?this.property("__data__",i):this.node().__data__},on:function XOt(i,e,t){var r,o,n=function YOt(i){return i.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(i+""),s=n.length;if(!(arguments.length<2)){for(l=e?qOt:ZOt,null==t&&(t=!1),r=0;r<s;++r)this.each(l(n[r],e,t));return this}var l=this.node().__on;if(l)for(var m,d=0,h=l.length;d<h;++d)for(r=0,m=l[d];r<s;++r)if((o=n[r]).type===m.type&&o.name===m.name)return m.value},dispatch:function JOt(i,e){return this.each(("function"==typeof e?QOt:KOt)(i,e))}};const fk=ztt;var eRt={value:function(){}};function Vtt(){for(var n,i=0,e=arguments.length,t={};i<e;++i){if(!(n=arguments[i]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new lF(t)}function lF(i){this._=i}function nRt(i,e){for(var r,t=0,n=i.length;t<n;++t)if((r=i[t]).name===e)return r.value}function Htt(i,e,t){for(var n=0,r=i.length;n<r;++n)if(i[n].name===e){i[n]=eRt,i=i.slice(0,n).concat(i.slice(n+1));break}return null!=t&&i.push({name:e,value:t}),i}lF.prototype=Vtt.prototype={constructor:lF,on:function(i,e){var r,t=this._,n=function iRt(i,e){return i.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(i+"",t),s=-1,o=n.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(i=n[s]).type)t[r]=Htt(t[r],i.name,e);else if(null==e)for(r in t)t[r]=Htt(t[r],i.name,null);return this}for(;++s<o;)if((r=(i=n[s]).type)&&(r=nRt(t[r],i.name)))return r},copy:function(){var i={},e=this._;for(var t in e)i[t]=e[t].slice();return new lF(i)},call:function(i,e){if((r=arguments.length-2)>0)for(var r,s,t=new Array(r),n=0;n<r;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(n=0,r=(s=this._[i]).length;n<r;++n)s[n].value.apply(e,t)},apply:function(i,e,t){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var n=this._[i],r=0,s=n.length;r<s;++r)n[r].value.apply(e,t)}};const rRt=Vtt;var cF,gk,Pw=0,mk=0,pk=0,Utt=1e3,dF=0,Pb=0,uF=0,_k="object"==typeof performance&&performance.now?performance:Date,Gtt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function hF(){return Pb||(Gtt(sRt),Pb=_k.now()+uF)}function sRt(){Pb=0}function fF(){this._call=this._time=this._next=null}function jtt(i,e,t){var n=new fF;return n.restart(i,e,t),n}function Wtt(){Pb=(dF=_k.now())+uF,Pw=mk=0;try{!function oRt(){hF(),++Pw;for(var e,i=cF;i;)(e=Pb-i._time)>=0&&i._call.call(null,e),i=i._next;--Pw}()}finally{Pw=0,function lRt(){for(var i,t,e=cF,n=1/0;e;)e._call?(n>e._time&&(n=e._time),i=e,e=e._next):(t=e._next,e._next=null,e=i?i._next=t:cF=t);gk=i,RH(n)}(),Pb=0}}function aRt(){var i=_k.now(),e=i-dF;e>Utt&&(uF-=e,dF=i)}function RH(i){Pw||(mk&&(mk=clearTimeout(mk)),i-Pb>24?(i<1/0&&(mk=setTimeout(Wtt,i-_k.now()-uF)),pk&&(pk=clearInterval(pk))):(pk||(dF=_k.now(),pk=setInterval(aRt,Utt)),Pw=1,Gtt(Wtt)))}function $tt(i,e,t){var n=new fF;return n.restart(function(r){n.stop(),i(r+e)},e=null==e?0:+e,t),n}fF.prototype=jtt.prototype={constructor:fF,restart:function(i,e,t){if("function"!=typeof i)throw new TypeError("callback is not a function");t=(null==t?hF():+t)+(null==e?0:+e),!this._next&&gk!==this&&(gk?gk._next=this:cF=this,gk=this),this._call=i,this._time=t,RH()},stop:function(){this._call&&(this._call=null,this._time=1/0,RH())}};var cRt=rRt("start","end","cancel","interrupt"),dRt=[],Ytt=0,mF=3;function gF(i,e,t,n,r,s){var o=i.__transition;if(o){if(t in o)return}else i.__transition={};!function uRt(i,e,t){var r,n=i.__transition;function o(h){var m,b,v,E;if(1!==t.state)return d();for(m in n)if((E=n[m]).name===t.name){if(E.state===mF)return $tt(o);4===E.state?(E.state=6,E.timer.stop(),E.on.call("interrupt",i,i.__data__,E.index,E.group),delete n[m]):+m<e&&(E.state=6,E.timer.stop(),E.on.call("cancel",i,i.__data__,E.index,E.group),delete n[m])}if($tt(function(){t.state===mF&&(t.state=4,t.timer.restart(l,t.delay,t.time),l(h))}),t.state=2,t.on.call("start",i,i.__data__,t.index,t.group),2===t.state){for(t.state=mF,r=new Array(v=t.tween.length),m=0,b=-1;m<v;++m)(E=t.tween[m].value.call(i,i.__data__,t.index,t.group))&&(r[++b]=E);r.length=b+1}}function l(h){for(var m=h<t.duration?t.ease.call(null,h/t.duration):(t.timer.restart(d),t.state=5,1),b=-1,v=r.length;++b<v;)r[b].call(i,m);5===t.state&&(t.on.call("end",i,i.__data__,t.index,t.group),d())}function d(){for(var h in t.state=6,t.timer.stop(),delete n[e],n)return;delete i.__transition}n[e]=t,t.timer=jtt(function s(h){t.state=1,t.timer.restart(o,t.delay,t.time),t.delay<=h&&o(h-t.delay)},0,t.time)}(i,t,{name:e,index:n,group:r,on:cRt,tween:dRt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ytt})}function FH(i,e){var t=tu(i,e);if(t.state>Ytt)throw new Error("too late; already scheduled");return t}function rm(i,e){var t=tu(i,e);if(t.state>mF)throw new Error("too late; already running");return t}function tu(i,e){var t=i.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function eu(i,e){return i=+i,e=+e,function(t){return i*(1-t)+e*t}}var bk,BH,Qtt,_F,Xtt=180/Math.PI,NH={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ktt(i,e,t,n,r,s){var o,l,d;return(o=Math.sqrt(i*i+e*e))&&(i/=o,e/=o),(d=i*t+e*n)&&(t-=i*d,n-=e*d),(l=Math.sqrt(t*t+n*n))&&(t/=l,n/=l,d/=l),i*n<e*t&&(i=-i,e=-e,d=-d,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,i)*Xtt,skewX:Math.atan(d)*Xtt,scaleX:o,scaleY:l}}function Jtt(i,e,t,n){function r(h){return h.length?h.pop()+" ":""}return function(h,m){var b=[],v=[];return h=i(h),m=i(m),function s(h,m,b,v,E,D){if(h!==b||m!==v){var T=E.push("translate(",null,e,null,t);D.push({i:T-4,x:eu(h,b)},{i:T-2,x:eu(m,v)})}else(b||v)&&E.push("translate("+b+e+v+t)}(h.translateX,h.translateY,m.translateX,m.translateY,b,v),function o(h,m,b,v){h!==m?(h-m>180?m+=360:m-h>180&&(h+=360),v.push({i:b.push(r(b)+"rotate(",null,n)-2,x:eu(h,m)})):m&&b.push(r(b)+"rotate("+m+n)}(h.rotate,m.rotate,b,v),function l(h,m,b,v){h!==m?v.push({i:b.push(r(b)+"skewX(",null,n)-2,x:eu(h,m)}):m&&b.push(r(b)+"skewX("+m+n)}(h.skewX,m.skewX,b,v),function d(h,m,b,v,E,D){if(h!==b||m!==v){var T=E.push(r(E)+"scale(",null,",",null,")");D.push({i:T-4,x:eu(h,b)},{i:T-2,x:eu(m,v)})}else(1!==b||1!==v)&&E.push(r(E)+"scale("+b+","+v+")")}(h.scaleX,h.scaleY,m.scaleX,m.scaleY,b,v),h=m=null,function(E){for(var P,D=-1,T=v.length;++D<T;)b[(P=v[D]).i]=P.x(E);return b.join("")}}}var gRt=Jtt(function mRt(i){return"none"===i?NH:(bk||(bk=document.createElement("DIV"),BH=document.documentElement,Qtt=document.defaultView),bk.style.transform=i,i=Qtt.getComputedStyle(BH.appendChild(bk),null).getPropertyValue("transform"),BH.removeChild(bk),Ktt(+(i=i.slice(7,-1).split(","))[0],+i[1],+i[2],+i[3],+i[4],+i[5]))},"px, ","px)","deg)"),_Rt=Jtt(function pRt(i){return null!=i&&(_F||(_F=document.createElementNS("http://www.w3.org/2000/svg","g")),_F.setAttribute("transform",i),i=_F.transform.baseVal.consolidate())?Ktt((i=i.matrix).a,i.b,i.c,i.d,i.e,i.f):NH},", ",")",")");function bRt(i,e){var t,n;return function(){var r=rm(this,i),s=r.tween;if(s!==t)for(var o=0,l=(n=t=s).length;o<l;++o)if(n[o].name===e){(n=n.slice()).splice(o,1);break}r.tween=n}}function vRt(i,e,t){var n,r;if("function"!=typeof t)throw new Error;return function(){var s=rm(this,i),o=s.tween;if(o!==n){r=(n=o).slice();for(var l={name:e,value:t},d=0,h=r.length;d<h;++d)if(r[d].name===e){r[d]=l;break}d===h&&r.push(l)}s.tween=r}}function zH(i,e,t){var n=i._id;return i.each(function(){var r=rm(this,n);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return tu(r,n).value[e]}}var bF=Et(701),vF=Et(451),VH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HH=new RegExp(VH.source,"g");function tet(i,e){var n,r,s,t=VH.lastIndex=HH.lastIndex=0,o=-1,l=[],d=[];for(i+="",e+="";(n=VH.exec(i))&&(r=HH.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,d.push({i:o,x:eu(n,r)})),t=HH.lastIndex;return t<e.length&&(s=e.slice(t),l[o]?l[o]+=s:l[++o]=s),l.length<2?d[0]?function wRt(i){return function(e){return i(e)+""}}(d[0].x):function xRt(i){return function(){return i}}(e):(e=d.length,function(h){for(var b,m=0;m<e;++m)l[(b=d[m]).i]=b.x(h);return l.join("")})}function eet(i,e){var t;return("number"==typeof e?eu:e instanceof bF.ZP?vF.ZP:(t=(0,bF.ZP)(e))?(e=t,vF.ZP):tet)(i,e)}function CRt(i){return function(){this.removeAttribute(i)}}function ERt(i){return function(){this.removeAttributeNS(i.space,i.local)}}function MRt(i,e,t){var n,s,r=t+"";return function(){var o=this.getAttribute(i);return o===r?null:o===n?s:s=e(n=o,t)}}function SRt(i,e,t){var n,s,r=t+"";return function(){var o=this.getAttributeNS(i.space,i.local);return o===r?null:o===n?s:s=e(n=o,t)}}function kRt(i,e,t){var n,r,s;return function(){var o,d,l=t(this);return null==l?void this.removeAttribute(i):(o=this.getAttribute(i))===(d=l+"")?null:o===n&&d===r?s:(r=d,s=e(n=o,l))}}function DRt(i,e,t){var n,r,s;return function(){var o,d,l=t(this);return null==l?void this.removeAttributeNS(i.space,i.local):(o=this.getAttributeNS(i.space,i.local))===(d=l+"")?null:o===n&&d===r?s:(r=d,s=e(n=o,l))}}function ORt(i,e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&function ARt(i,e){return function(t){this.setAttributeNS(i.space,i.local,e.call(this,t))}}(i,s)),t}return r._value=e,r}function RRt(i,e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&function IRt(i,e){return function(t){this.setAttribute(i,e.call(this,t))}}(i,s)),t}return r._value=e,r}function LRt(i,e){return function(){FH(this,i).delay=+e.apply(this,arguments)}}function FRt(i,e){return e=+e,function(){FH(this,i).delay=e}}function BRt(i,e){return function(){rm(this,i).duration=+e.apply(this,arguments)}}function zRt(i,e){return e=+e,function(){rm(this,i).duration=e}}var QRt=fk.prototype.constructor;function iet(i){return function(){this.style.removeProperty(i)}}var gPt=0;function sm(i,e,t,n){this._groups=i,this._parents=e,this._name=t,this._id=n}function net(){return++gPt}var Lw=fk.prototype;sm.prototype=function _Pt(i){return fk().transition(i)}.prototype={constructor:sm,select:function XRt(i){var e=this._name,t=this._id;"function"!=typeof i&&(i=IH(i));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var m,b,l=n[o],d=l.length,h=s[o]=new Array(d),v=0;v<d;++v)(m=l[v])&&(b=i.call(m,m.__data__,v,l))&&("__data__"in m&&(b.__data__=m.__data__),h[v]=b,gF(h[v],e,t,v,h,tu(m,t)));return new sm(s,this._parents,e,t)},selectAll:function KRt(i){var e=this._name,t=this._id;"function"!=typeof i&&(i=Mtt(i));for(var n=this._groups,r=n.length,s=[],o=[],l=0;l<r;++l)for(var m,d=n[l],h=d.length,b=0;b<h;++b)if(m=d[b]){for(var E,v=i.call(m,m.__data__,b,d),D=tu(m,t),T=0,P=v.length;T<P;++T)(E=v[T])&&gF(E,e,t,T,v,D);s.push(v),o.push(m)}return new sm(s,o,e,t)},filter:function GRt(i){"function"!=typeof i&&(i=Stt(i));for(var e=this._groups,t=e.length,n=new Array(t),r=0;r<t;++r)for(var d,s=e[r],o=s.length,l=n[r]=[],h=0;h<o;++h)(d=s[h])&&i.call(d,d.__data__,h,s)&&l.push(d);return new sm(n,this._parents,this._name,this._id)},merge:function jRt(i){if(i._id!==this._id)throw new Error;for(var e=this._groups,t=i._groups,n=e.length,s=Math.min(n,t.length),o=new Array(n),l=0;l<s;++l)for(var v,d=e[l],h=t[l],m=d.length,b=o[l]=new Array(m),E=0;E<m;++E)(v=d[E]||h[E])&&(b[E]=v);for(;l<n;++l)o[l]=e[l];return new sm(o,this._parents,this._name,this._id)},selection:function JRt(){return new QRt(this._groups,this._parents)},transition:function mPt(){for(var i=this._name,e=this._id,t=net(),n=this._groups,r=n.length,s=0;s<r;++s)for(var d,o=n[s],l=o.length,h=0;h<l;++h)if(d=o[h]){var m=tu(d,e);gF(d,i,t,h,o,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new sm(n,this._parents,i,t)},call:Lw.call,nodes:Lw.nodes,node:Lw.node,size:Lw.size,empty:Lw.empty,each:Lw.each,on:function YRt(i,e){var t=this._id;return arguments.length<2?tu(this.node(),t).on.on(i):this.each(function $Rt(i,e,t){var n,r,s=function WRt(i){return(i+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?FH:rm;return function(){var o=s(this,i),l=o.on;l!==n&&(r=(n=l).copy()).on(e,t),o.on=r}}(t,i,e))},attr:function TRt(i,e){var t=aF(i),n="transform"===t?_Rt:eet;return this.attrTween(i,"function"==typeof e?(t.local?DRt:kRt)(t,n,zH(this,"attr."+i,e)):null==e?(t.local?ERt:CRt)(t):(t.local?SRt:MRt)(t,n,e))},attrTween:function PRt(i,e){var t="attr."+i;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var n=aF(i);return this.tween(t,(n.local?ORt:RRt)(n,e))},style:function rPt(i,e,t){var n="transform"==(i+="")?gRt:eet;return null==e?this.styleTween(i,function tPt(i,e){var t,n,r;return function(){var s=Rw(this,i),o=(this.style.removeProperty(i),Rw(this,i));return s===o?null:s===t&&o===n?r:r=e(t=s,n=o)}}(i,n)).on("end.style."+i,iet(i)):"function"==typeof e?this.styleTween(i,function iPt(i,e,t){var n,r,s;return function(){var o=Rw(this,i),l=t(this),d=l+"";return null==l&&(this.style.removeProperty(i),d=l=Rw(this,i)),o===d?null:o===n&&d===r?s:(r=d,s=e(n=o,l))}}(i,n,zH(this,"style."+i,e))).each(function nPt(i,e){var t,n,r,l,s="style."+e,o="end."+s;return function(){var d=rm(this,i),h=d.on,m=null==d.value[s]?l||(l=iet(e)):void 0;(h!==t||r!==m)&&(n=(t=h).copy()).on(o,r=m),d.on=n}}(this._id,i)):this.styleTween(i,function ePt(i,e,t){var n,s,r=t+"";return function(){var o=Rw(this,i);return o===r?null:o===n?s:s=e(n=o,t)}}(i,n,e),t).on("end.style."+i,null)},styleTween:function aPt(i,e,t){var n="style."+(i+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function oPt(i,e,t){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function sPt(i,e,t){return function(n){this.style.setProperty(i,e.call(this,n),t)}}(i,o,t)),n}return s._value=e,s}(i,e,t??""))},text:function dPt(i){return this.tween("text","function"==typeof i?function cPt(i){return function(){var e=i(this);this.textContent=e??""}}(zH(this,"text",i)):function lPt(i){return function(){this.textContent=i}}(null==i?"":i+""))},textTween:function fPt(i){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==i)return this.tween(e,null);if("function"!=typeof i)throw new Error;return this.tween(e,function hPt(i){var e,t;function n(){var r=i.apply(this,arguments);return r!==t&&(e=(t=r)&&function uPt(i){return function(e){this.textContent=i.call(this,e)}}(r)),e}return n._value=i,n}(i))},remove:function qRt(){return this.on("end.remove",function ZRt(i){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==i)return;e&&e.removeChild(this)}}(this._id))},tween:function yRt(i,e){var t=this._id;if(i+="",arguments.length<2){for(var o,n=tu(this.node(),t).tween,r=0,s=n.length;r<s;++r)if((o=n[r]).name===i)return o.value;return null}return this.each((null==e?bRt:vRt)(t,i,e))},delay:function NRt(i){var e=this._id;return arguments.length?this.each(("function"==typeof i?LRt:FRt)(e,i)):tu(this.node(),e).delay},duration:function VRt(i){var e=this._id;return arguments.length?this.each(("function"==typeof i?BRt:zRt)(e,i)):tu(this.node(),e).duration},ease:function URt(i){var e=this._id;return arguments.length?this.each(function HRt(i,e){if("function"!=typeof e)throw new Error;return function(){rm(this,i).ease=e}}(e,i)):tu(this.node(),e).ease},end:function pPt(){var i,e,t=this,n=t._id,r=t.size();return new Promise(function(s,o){var l={value:o},d={value:function(){0==--r&&s()}};t.each(function(){var h=rm(this,n),m=h.on;m!==i&&((e=(i=m).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(d)),h.on=e})})}};var UH={time:null,delay:0,duration:250,ease:function bPt(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}};function vPt(i,e){for(var t;!(t=i.__transition)||!(t=t[e]);)if(!(i=i.parentNode))return UH.time=hF(),UH;return t}function vk(i){return{type:i}}fk.prototype.interrupt=function fRt(i){return this.each(function(){!function hRt(i,e){var n,r,o,t=i.__transition,s=!0;if(t){for(o in e=null==e?null:e+"",t)(n=t[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",i,i.__data__,n.index,n.group),delete t[o]):s=!1;s&&delete i.__transition}}(this,i)})},fk.prototype.transition=function yPt(i){var e,t;i instanceof sm?(e=i._id,i=i._name):(e=net(),(t=UH).time=hF(),i=null==i?null:i+"");for(var n=this._groups,r=n.length,s=0;s<r;++s)for(var d,o=n[s],l=o.length,h=0;h<l;++h)(d=o[h])&&gF(d,i,e,h,o,t||vPt(d,e));return new sm(n,this._parents,i,e)},["w","e"].map(vk),["n","s"].map(vk),["n","w","e","s","nw","ne","sw","se"].map(vk),Math,Math,Math,Math;var rd="$";function wF(){}function det(i,e){var t=new wF;if(i instanceof wF)i.each(function(l,d){t.set(d,l)});else if(Array.isArray(i)){var s,n=-1,r=i.length;if(null==e)for(;++n<r;)t.set(n,i[n]);else for(;++n<r;)t.set(e(s=i[n],n,i),s)}else if(i)for(var o in i)t.set(o,i[o]);return t}wF.prototype=det.prototype={constructor:wF,has:function(i){return rd+i in this},get:function(i){return this[rd+i]},set:function(i,e){return this[rd+i]=e,this},remove:function(i){var e=rd+i;return e in this&&delete this[e]},clear:function(){for(var i in this)i[0]===rd&&delete this[i]},keys:function(){var i=[];for(var e in this)e[0]===rd&&i.push(e.slice(1));return i},values:function(){var i=[];for(var e in this)e[0]===rd&&i.push(this[e]);return i},entries:function(){var i=[];for(var e in this)e[0]===rd&&i.push({key:e.slice(1),value:this[e]});return i},size:function(){var i=0;for(var e in this)e[0]===rd&&++i;return i},empty:function(){for(var i in this)if(i[0]===rd)return!1;return!0},each:function(i){for(var e in this)e[0]===rd&&i(this[e],e.slice(1),this)}};const YH=det;function CF(){}var Lb=YH.prototype;function EF(i,e){if((t=(i=e?i.toExponential(e-1):i.toExponential()).indexOf("e"))<0)return null;var t,n=i.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+i.slice(t+1)]}function Bw(i){return(i=EF(Math.abs(i)))?i[1]:NaN}CF.prototype=function BPt(i,e){var t=new CF;if(i instanceof CF)i.each(function(s){t.add(s)});else if(i){var n=-1,r=i.length;if(null==e)for(;++n<r;)t.add(i[n]);else for(;++n<r;)t.add(e(i[n],n,i))}return t}.prototype={constructor:CF,has:Lb.has,add:function(i){return this[rd+(i+="")]=i,this},remove:Lb.remove,clear:Lb.clear,values:Lb.keys,size:Lb.size,empty:Lb.empty,each:Lb.each},Math,Math.sqrt(5);var met,qPt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function MF(i){if(!(e=qPt.exec(i)))throw new Error("invalid format: "+i);var e;return new ZH({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ZH(i){this.fill=void 0===i.fill?" ":i.fill+"",this.align=void 0===i.align?">":i.align+"",this.sign=void 0===i.sign?"-":i.sign+"",this.symbol=void 0===i.symbol?"":i.symbol+"",this.zero=!!i.zero,this.width=void 0===i.width?void 0:+i.width,this.comma=!!i.comma,this.precision=void 0===i.precision?void 0:+i.precision,this.trim=!!i.trim,this.type=void 0===i.type?"":i.type+""}function pet(i,e){var t=EF(i,e);if(!t)return i+"";var n=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}MF.prototype=ZH.prototype,ZH.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const get={"%":function(i,e){return(100*i).toFixed(e)},b:function(i){return Math.round(i).toString(2)},c:function(i){return i+""},d:function $Pt(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)},e:function(i,e){return i.toExponential(e)},f:function(i,e){return i.toFixed(e)},g:function(i,e){return i.toPrecision(e)},o:function(i){return Math.round(i).toString(8)},p:function(i,e){return pet(100*i,e)},r:pet,s:function KPt(i,e){var t=EF(i,e);if(!t)return i+"";var n=t[0],r=t[1],s=r-(met=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+EF(i,Math.max(0,e+s-1))[0]},X:function(i){return Math.round(i).toString(16).toUpperCase()},x:function(i){return Math.round(i).toString(16)}};function _et(i){return i}var SF,Fb,yet,bet=Array.prototype.map,vet=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function jg(){return new kF}function kF(){this.reset()}!function JPt(i){SF=function QPt(i){var e=void 0===i.grouping||void 0===i.thousands?_et:function YPt(i,e){return function(t,n){for(var r=t.length,s=[],o=0,l=i[0],d=0;r>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),s.push(t.substring(r-=l,r+l)),!((d+=l+1)>n));)l=i[o=(o+1)%i.length];return s.reverse().join(e)}}(bet.call(i.grouping,Number),i.thousands+""),t=void 0===i.currency?"":i.currency[0]+"",n=void 0===i.currency?"":i.currency[1]+"",r=void 0===i.decimal?".":i.decimal+"",s=void 0===i.numerals?_et:function ZPt(i){return function(e){return e.replace(/[0-9]/g,function(t){return i[+t]})}}(bet.call(i.numerals,String)),o=void 0===i.percent?"%":i.percent+"",l=void 0===i.minus?"-":i.minus+"",d=void 0===i.nan?"NaN":i.nan+"";function h(b){var v=(b=MF(b)).fill,E=b.align,D=b.sign,T=b.symbol,P=b.zero,F=b.width,H=b.comma,j=b.precision,Q=b.trim,Tt=b.type;"n"===Tt?(H=!0,Tt="g"):get[Tt]||(void 0===j&&(j=12),Q=!0,Tt="g"),(P||"0"===v&&"="===E)&&(P=!0,v="0",E="=");var Rt="$"===T?t:"#"===T&&/[boxX]/.test(Tt)?"0"+Tt.toLowerCase():"",Ct="$"===T?n:/[%p]/.test(Tt)?o:"",Bt=get[Tt],Vt=/[defgprs%]/.test(Tt);function he(re){var de,pe,Ht,kt=Rt,ie=Ct;if("c"===Tt)ie=Bt(re)+ie,re="";else{var Kt=(re=+re)<0||1/re<0;if(re=isNaN(re)?d:Bt(Math.abs(re),j),Q&&(re=function XPt(i){t:for(var r,e=i.length,t=1,n=-1;t<e;++t)switch(i[t]){case".":n=r=t;break;case"0":0===n&&(n=t),r=t;break;default:if(!+i[t])break t;n>0&&(n=0)}return n>0?i.slice(0,n)+i.slice(r+1):i}(re)),Kt&&0==+re&&"+"!==D&&(Kt=!1),kt=(Kt?"("===D?D:l:"-"===D||"("===D?"":D)+kt,ie=("s"===Tt?vet[8+met/3]:"")+ie+(Kt&&"("===D?")":""),Vt)for(de=-1,pe=re.length;++de<pe;)if(48>(Ht=re.charCodeAt(de))||Ht>57){ie=(46===Ht?r+re.slice(de+1):re.slice(de))+ie,re=re.slice(0,de);break}}H&&!P&&(re=e(re,1/0));var oe=kt.length+re.length+ie.length,we=oe<F?new Array(F-oe+1).join(v):"";switch(H&&P&&(re=e(we+re,we.length?F-ie.length:1/0),we=""),E){case"<":re=kt+re+ie+we;break;case"=":re=kt+we+re+ie;break;case"^":re=we.slice(0,oe=we.length>>1)+kt+re+ie+we.slice(oe);break;default:re=we+kt+re+ie}return s(re)}return j=void 0===j?6:/[gprs]/.test(Tt)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j)),he.toString=function(){return b+""},he}return{format:h,formatPrefix:function m(b,v){var E=h(((b=MF(b)).type="f",b)),D=3*Math.max(-8,Math.min(8,Math.floor(Bw(v)/3))),T=Math.pow(10,-D),P=vet[8+D/3];return function(F){return E(T*F)+P}}}}(i),Fb=SF.format,yet=SF.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),kF.prototype={constructor:kF,reset:function(){this.s=this.t=0},add:function(i){xet(DF,i,this.t),xet(this,DF.s,this.s),this.s?this.t+=DF.t:this.s=DF.t},valueOf:function(){return this.s}};var DF=new kF;function xet(i,e,t){var n=i.s=e+t,r=n-e;i.t=e-(n-r)+(t-r)}var Ls=Math.PI,Gl=Ls/2,zw=2*Ls,vs=Ls/180,yk=(Math,Math.atan),Vw=Math.atan2,pr=Math.cos,Wn=(Math,Math,Math,Math,Math,Math.sin),lm=(Math,Math.sqrt);Math;function Hw(i){return i>1?Gl:i<-1?-Gl:Math.asin(i)}function aU(i,e){return[i>Ls?i-zw:i<-Ls?i+zw:i,e]}jg(),jg(),jg(),aU.invert=aU;jg();function CU(){}function bit(i){return function(e,t){var n=pr(e),r=pr(t),s=i(n*r);return[s*r*Wn(e),s*Wn(t)]}}function Ik(i){return function(e,t){var n=lm(e*e+t*t),r=i(n),s=Wn(r),o=pr(r);return[Vw(e*s,n*o),Hw(n&&t*s/n)]}}jg(),jg(),jg(),jg(),function pit(i){return"m0,"+i+"a"+i+","+i+" 0 1,1 0,"+-2*i+"a"+i+","+i+" 0 1,1 0,"+2*i+"z"}(4.5),CU.prototype={constructor:CU,point:function(i,e){this.stream.point(i,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},pr(30*vs),function git(i){return function(e){var t=new CU;for(var n in i)t[n]=i[n];return t.stream=e,t}}({point:function(i,e){this.stream.point(i*vs,e*vs)}});var vit=bit(function(i){return lm(2/(1+i))});vit.invert=Ik(function(i){return 2*Hw(i/2)});var yit=bit(function(i){return(i=function tLt(i){return i>1?0:i<-1?Ls:Math.acos(i)}(i))&&i/Wn(i)});function MU(i,e){return[i,e]}function $w(){return Math.random()}yit.invert=Ik(function(i){return i}),MU.invert=MU,Ik(yk),Ik(Hw),Ik(function(i){return 2*yk(i)}),function i(e){function t(n,r){return n=null==n?0:+n,r=null==r?1:+r,1===arguments.length?(r=n,n=0):r-=n,function(){return e()*r+n}}return t.source=i,t}($w);const n3t=function i(e){function t(n,r){var s,o;return n=null==n?0:+n,r=null==r?1:+r,function(){var l;if(null!=s)l=s,s=null;else do{s=2*e()-1,l=2*e()-1,o=s*s+l*l}while(!o||o>1);return n+r*l*Math.sqrt(-2*Math.log(o)/o)}}return t.source=i,t}($w),r3t=(function i(e){function t(){var n=n3t.source(e).apply(this,arguments);return function(){return Math.exp(n())}}return t.source=i,t}($w),function i(e){function t(n){return function(){for(var r=0,s=0;s<n;++s)r+=e();return r}}return t.source=i,t}($w));function SU(i,e){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(e).domain(i)}return this}(function i(e){function t(n){var r=r3t.source(e)(n);return function(){return r()/n}}return t.source=i,t})($w),function i(e){function t(n){return function(){return-Math.log(1-e())/n}}return t.source=i,t}($w);var Sit=Array.prototype,s3t=Sit.map,kU=Sit.slice,kit={name:"implicit"};function Dit(){var i=YH(),e=[],t=[],n=kit;function r(s){var o=s+"",l=i.get(o);if(!l){if(n!==kit)return n;i.set(o,l=e.push(s))}return t[(l-1)%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],i=YH();for(var d,h,o=-1,l=s.length;++o<l;)i.has(h=(d=s[o])+"")||i.set(h,e.push(d));return r},r.range=function(s){return arguments.length?(t=kU.call(s),r):t.slice()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return Dit(e,t).unknown(n)},SU.apply(r,arguments),r}function DU(){var r,s,i=Dit().unknown(void 0),e=i.domain,t=i.range,n=[0,1],o=!1,l=0,d=0,h=.5;function m(){var b=e().length,v=n[1]<n[0],E=n[v-0],D=n[1-v];r=(D-E)/Math.max(1,b-l+2*d),o&&(r=Math.floor(r)),E+=(D-E-r*(b-l))*h,s=r*(1-l),o&&(E=Math.round(E),s=Math.round(s));var T=function TAt(i,e,t){i=+i,e=+e,t=(r=arguments.length)<2?(e=i,i=0,1):r<3?1:+t;for(var n=-1,r=0|Math.max(0,Math.ceil((e-i)/t)),s=new Array(r);++n<r;)s[n]=i+n*t;return s}(b).map(function(P){return E+r*P});return t(v?T.reverse():T)}return delete i.unknown,i.domain=function(b){return arguments.length?(e(b),m()):e()},i.range=function(b){return arguments.length?(n=[+b[0],+b[1]],m()):n.slice()},i.rangeRound=function(b){return n=[+b[0],+b[1]],o=!0,m()},i.bandwidth=function(){return s},i.step=function(){return r},i.round=function(b){return arguments.length?(o=!!b,m()):o},i.padding=function(b){return arguments.length?(l=Math.min(1,d=+b),m()):l},i.paddingInner=function(b){return arguments.length?(l=Math.min(1,b),m()):l},i.paddingOuter=function(b){return arguments.length?(d=+b,m()):d},i.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),m()):h},i.copy=function(){return DU(e(),n).round(o).paddingInner(l).paddingOuter(d).align(h)},SU.apply(m(),arguments)}function Iit(i,e){var o,t=e?e.length:0,n=i?Math.min(t,i.length):0,r=new Array(n),s=new Array(t);for(o=0;o<n;++o)r[o]=TU(i[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=r[o](l);return s}}function o3t(i,e){var t=new Date;return i=+i,e=+e,function(n){return t.setTime(i*(1-n)+e*n),t}}function a3t(i,e){var r,t={},n={};for(r in(null===i||"object"!=typeof i)&&(i={}),(null===e||"object"!=typeof e)&&(e={}),e)r in i?t[r]=TU(i[r],e[r]):n[r]=e[r];return function(s){for(r in t)n[r]=t[r](s);return n}}var l3t=Et(39);function c3t(i,e){e||(e=[]);var r,t=i?Math.min(e.length,i.length):0,n=e.slice();return function(s){for(r=0;r<t;++r)n[r]=i[r]*(1-s)+e[r]*s;return n}}function TU(i,e){var n,t=typeof e;return null==e||"boolean"===t?(0,l3t.Z)(e):("number"===t?eu:"string"===t?(n=(0,bF.ZP)(e))?(e=n,vF.ZP):tet:e instanceof bF.ZP?vF.ZP:e instanceof Date?o3t:function d3t(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}(e)?c3t:Array.isArray(e)?Iit:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?a3t:eu)(i,e)}function u3t(i,e){return i=+i,e=+e,function(t){return Math.round(i*(1-t)+e*t)}}function f3t(i){return+i}var Ait=[0,1];function Yw(i){return i}function IU(i,e){return(e-=i=+i)?function(t){return(t-i)/e}:function h3t(i){return function(){return i}}(isNaN(e)?NaN:.5)}function Oit(i){var n,e=i[0],t=i[i.length-1];return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function m3t(i,e,t){var n=i[0],r=i[1],s=e[0],o=e[1];return r<n?(n=IU(r,n),s=t(o,s)):(n=IU(n,r),s=t(s,o)),function(l){return s(n(l))}}function p3t(i,e,t){var n=Math.min(i.length,e.length)-1,r=new Array(n),s=new Array(n),o=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),e=e.slice().reverse());++o<n;)r[o]=IU(i[o],i[o+1]),s[o]=t(e[o],e[o+1]);return function(l){var d=CAt(i,l,1,n)-1;return s[d](r[d](l))}}function C3t(i){var e=i.domain;return i.ticks=function(t){var n=e();return function EAt(i,e,t){var n,s,o,l,r=-1;if(t=+t,(i=+i)==(e=+e)&&t>0)return[i];if((n=e<i)&&(s=i,i=e,e=s),0===(l=iF(i,e,t))||!isFinite(l))return[];if(l>0)for(i=Math.ceil(i/l),e=Math.floor(e/l),o=new Array(s=Math.ceil(e-i+1));++r<s;)o[r]=(i+r)*l;else for(i=Math.floor(i*l),e=Math.ceil(e*l),o=new Array(s=Math.ceil(i-e+1));++r<s;)o[r]=(i-r)/l;return n&&o.reverse(),o}(n[0],n[n.length-1],t??10)},i.tickFormat=function(t,n){var r=e();return function w3t(i,e,t,n){var s,r=function MAt(i,e,t){var n=Math.abs(e-i)/Math.max(0,t),r=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/r;return s>=SH?r*=10:s>=kH?r*=5:s>=DH&&(r*=2),e<i?-r:r}(i,e,t);switch((n=MF(n??",f")).type){case"s":var o=Math.max(Math.abs(i),Math.abs(e));return null==n.precision&&!isNaN(s=function v3t(i,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bw(e)/3)))-Bw(Math.abs(i)))}(r,o))&&(n.precision=s),yet(n,o);case"":case"e":case"g":case"p":case"r":null==n.precision&&!isNaN(s=function y3t(i,e){return i=Math.abs(i),e=Math.abs(e)-i,Math.max(0,Bw(e)-Bw(i))+1}(r,Math.max(Math.abs(i),Math.abs(e))))&&(n.precision=s-("e"===n.type));break;case"f":case"%":null==n.precision&&!isNaN(s=function x3t(i){return Math.max(0,-Bw(Math.abs(i)))}(r))&&(n.precision=s-2*("%"===n.type))}return Fb(n)}(r[0],r[r.length-1],t??10,n)},i.nice=function(t){null==t&&(t=10);var d,n=e(),r=0,s=n.length-1,o=n[r],l=n[s];return l<o&&(d=o,o=l,l=d,d=r,r=s,s=d),(d=iF(o,l,t))>0?d=iF(o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d,t):d<0&&(d=iF(o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d,t)),d>0?(n[r]=Math.floor(o/d)*d,n[s]=Math.ceil(l/d)*d,e(n)):d<0&&(n[r]=Math.ceil(o*d)/d,n[s]=Math.floor(l*d)/d,e(n)),i},i}function Rit(){var i=function b3t(i,e){return function _3t(){var n,r,s,l,d,h,i=Ait,e=Ait,t=TU,o=Yw;function m(){return l=Math.min(i.length,e.length)>2?p3t:m3t,d=h=null,b}function b(v){return isNaN(v=+v)?s:(d||(d=l(i.map(n),e,t)))(n(o(v)))}return b.invert=function(v){return o(r((h||(h=l(e,i.map(n),eu)))(v)))},b.domain=function(v){return arguments.length?(i=s3t.call(v,f3t),o===Yw||(o=Oit(i)),m()):i.slice()},b.range=function(v){return arguments.length?(e=kU.call(v),m()):e.slice()},b.rangeRound=function(v){return e=kU.call(v),t=u3t,m()},b.clamp=function(v){return arguments.length?(o=v?Oit(i):Yw,b):o!==Yw},b.interpolate=function(v){return arguments.length?(t=v,m()):t},b.unknown=function(v){return arguments.length?(s=v,b):s},function(v,E){return n=v,r=E,m()}}()(i,e)}(Yw,Yw);return i.copy=function(){return function g3t(i,e){return e.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}(i,Rit())},SU.apply(i,arguments),C3t(i)}const K3t=function X3t(i){for(var e=i.length/6|0,t=new Array(e),n=0;n<e;)t[n]="#"+i.slice(6*n,6*++n);return t}("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var OU=new Date,RU=new Date;function fh(i,e,t,n){function r(s){return i(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return i(s=new Date(+s)),s},r.ceil=function(s){return i(s=new Date(s-1)),e(s,1),i(s),s},r.round=function(s){var o=r(s),l=r.ceil(s);return s-o<l-s?o:l},r.offset=function(s,o){return e(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,l){var h,d=[];if(s=r.ceil(s),l=null==l?1:Math.floor(l),!(s<o&&l>0))return d;do{d.push(h=new Date(+s)),e(s,l),i(s)}while(h<s&&s<o);return d},r.filter=function(s){return fh(function(o){if(o>=o)for(;i(o),!s(o);)o.setTime(o-1)},function(o,l){if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););})},t&&(r.count=function(s,o){return OU.setTime(+s),RU.setTime(+o),i(OU),i(RU),Math.floor(t(OU,RU))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(n?function(o){return n(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}var Wit=fh(function(i){i.setDate(1),i.setHours(0,0,0,0)},function(i,e){i.setMonth(i.getMonth()+e)},function(i,e){return e.getMonth()-i.getMonth()+12*(e.getFullYear()-i.getFullYear())},function(i){return i.getMonth()});const Q3t=Wit;var PU=fh(function(i){i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,e){i.setFullYear(i.getFullYear()+e)},function(i,e){return e.getFullYear()-i.getFullYear()},function(i){return i.getFullYear()});PU.every=function(i){return isFinite(i=Math.floor(i))&&i>0?fh(function(e){e.setFullYear(Math.floor(e.getFullYear()/i)*i),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t*i)}):null};const Zw=PU;function Vb(i){return fh(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-i)%7),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var qit=Vb(0),iN=Vb(1),qw=(Vb(2),Vb(3),Vb(4)),Xit=(Vb(5),Vb(6),fh(function(i){i.setUTCHours(0,0,0,0)},function(i,e){i.setUTCDate(i.getUTCDate()+e)},function(i,e){return(e-i)/864e5},function(i){return i.getUTCDate()-1}));const Kit=Xit;function Hb(i){return fh(function(e){e.setDate(e.getDate()-(e.getDay()+7-i)%7),e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}var Qit=Hb(0),nN=Hb(1),Xw=(Hb(2),Hb(3),Hb(4)),Jit=(Hb(5),Hb(6),fh(function(i){i.setHours(0,0,0,0)},function(i,e){i.setDate(i.getDate()+e)},function(i,e){return(e-i-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/864e5},function(i){return i.getDate()-1}));const tnt=Jit;var LU=fh(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,e){i.setUTCFullYear(i.getUTCFullYear()+e)},function(i,e){return e.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});LU.every=function(i){return isFinite(i=Math.floor(i))&&i>0?fh(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/i)*i),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t*i)}):null};const Lk=LU;function FU(i){if(0<=i.y&&i.y<100){var e=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return e.setFullYear(i.y),e}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function NU(i){if(0<=i.y&&i.y<100){var e=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return e.setUTCFullYear(i.y),e}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function Fk(i,e,t){return{y:i,m:e,d:t,H:0,M:0,S:0,L:0}}var Kw,pnt,gnt,ent={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,lFt=/^%/,cFt=/[\\^$*+?|[\]().{}]/g;function xr(i,e,t){var n=i<0?"-":"",r=(n?-i:i)+"",s=r.length;return n+(s<t?new Array(t-s+1).join(e)+r:r)}function dFt(i){return i.replace(cFt,"\\$&")}function Nk(i){return new RegExp("^(?:"+i.map(dFt).join("|")+")","i")}function Bk(i){for(var e={},t=-1,n=i.length;++t<n;)e[i[t].toLowerCase()]=t;return e}function uFt(i,e,t){var n=ra.exec(e.slice(t,t+1));return n?(i.w=+n[0],t+n[0].length):-1}function hFt(i,e,t){var n=ra.exec(e.slice(t,t+1));return n?(i.u=+n[0],t+n[0].length):-1}function fFt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.U=+n[0],t+n[0].length):-1}function mFt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.V=+n[0],t+n[0].length):-1}function pFt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.W=+n[0],t+n[0].length):-1}function int(i,e,t){var n=ra.exec(e.slice(t,t+4));return n?(i.y=+n[0],t+n[0].length):-1}function nnt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function gFt(i,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(i.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function _Ft(i,e,t){var n=ra.exec(e.slice(t,t+1));return n?(i.q=3*n[0]-3,t+n[0].length):-1}function bFt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.m=n[0]-1,t+n[0].length):-1}function rnt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.d=+n[0],t+n[0].length):-1}function vFt(i,e,t){var n=ra.exec(e.slice(t,t+3));return n?(i.m=0,i.d=+n[0],t+n[0].length):-1}function snt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.H=+n[0],t+n[0].length):-1}function yFt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.M=+n[0],t+n[0].length):-1}function xFt(i,e,t){var n=ra.exec(e.slice(t,t+2));return n?(i.S=+n[0],t+n[0].length):-1}function wFt(i,e,t){var n=ra.exec(e.slice(t,t+3));return n?(i.L=+n[0],t+n[0].length):-1}function CFt(i,e,t){var n=ra.exec(e.slice(t,t+6));return n?(i.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function EFt(i,e,t){var n=lFt.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function MFt(i,e,t){var n=ra.exec(e.slice(t));return n?(i.Q=+n[0],t+n[0].length):-1}function SFt(i,e,t){var n=ra.exec(e.slice(t));return n?(i.s=+n[0],t+n[0].length):-1}function ont(i,e){return xr(i.getDate(),e,2)}function kFt(i,e){return xr(i.getHours(),e,2)}function DFt(i,e){return xr(i.getHours()%12||12,e,2)}function TFt(i,e){return xr(1+tnt.count(Zw(i),i),e,3)}function ant(i,e){return xr(i.getMilliseconds(),e,3)}function IFt(i,e){return ant(i,e)+"000"}function AFt(i,e){return xr(i.getMonth()+1,e,2)}function OFt(i,e){return xr(i.getMinutes(),e,2)}function RFt(i,e){return xr(i.getSeconds(),e,2)}function PFt(i){var e=i.getDay();return 0===e?7:e}function LFt(i,e){return xr(Qit.count(Zw(i)-1,i),e,2)}function lnt(i){var e=i.getDay();return e>=4||0===e?Xw(i):Xw.ceil(i)}function FFt(i,e){return i=lnt(i),xr(Xw.count(Zw(i),i)+(4===Zw(i).getDay()),e,2)}function NFt(i){return i.getDay()}function BFt(i,e){return xr(nN.count(Zw(i)-1,i),e,2)}function zFt(i,e){return xr(i.getFullYear()%100,e,2)}function VFt(i,e){return xr((i=lnt(i)).getFullYear()%100,e,2)}function HFt(i,e){return xr(i.getFullYear()%1e4,e,4)}function UFt(i,e){var t=i.getDay();return xr((i=t>=4||0===t?Xw(i):Xw.ceil(i)).getFullYear()%1e4,e,4)}function GFt(i){var e=i.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xr(e/60|0,"0",2)+xr(e%60,"0",2)}function cnt(i,e){return xr(i.getUTCDate(),e,2)}function jFt(i,e){return xr(i.getUTCHours(),e,2)}function WFt(i,e){return xr(i.getUTCHours()%12||12,e,2)}function $Ft(i,e){return xr(1+Kit.count(Lk(i),i),e,3)}function dnt(i,e){return xr(i.getUTCMilliseconds(),e,3)}function YFt(i,e){return dnt(i,e)+"000"}function ZFt(i,e){return xr(i.getUTCMonth()+1,e,2)}function qFt(i,e){return xr(i.getUTCMinutes(),e,2)}function XFt(i,e){return xr(i.getUTCSeconds(),e,2)}function KFt(i){var e=i.getUTCDay();return 0===e?7:e}function QFt(i,e){return xr(qit.count(Lk(i)-1,i),e,2)}function unt(i){var e=i.getUTCDay();return e>=4||0===e?qw(i):qw.ceil(i)}function JFt(i,e){return i=unt(i),xr(qw.count(Lk(i),i)+(4===Lk(i).getUTCDay()),e,2)}function tNt(i){return i.getUTCDay()}function eNt(i,e){return xr(iN.count(Lk(i)-1,i),e,2)}function iNt(i,e){return xr(i.getUTCFullYear()%100,e,2)}function nNt(i,e){return xr((i=unt(i)).getUTCFullYear()%100,e,2)}function rNt(i,e){return xr(i.getUTCFullYear()%1e4,e,4)}function sNt(i,e){var t=i.getUTCDay();return xr((i=t>=4||0===t?qw(i):qw.ceil(i)).getUTCFullYear()%1e4,e,4)}function oNt(){return"+0000"}function hnt(){return"%"}function fnt(i){return+i}function mnt(i){return Math.floor(+i/1e3)}function BU(){this._=null}function rN(i){i.U=i.C=i.L=i.R=i.P=i.N=null}function zk(i,e){var t=e,n=e.R,r=t.U;r?r.L===t?r.L=n:r.R=n:i._=n,n.U=r,t.U=n,t.R=n.L,t.R&&(t.R.U=t),n.L=t}function Vk(i,e){var t=e,n=e.L,r=t.U;r?r.L===t?r.L=n:r.R=n:i._=n,n.U=r,t.U=n,t.L=n.R,t.L&&(t.L.U=t),n.R=t}function _nt(i){for(;i.L;)i=i.L;return i}!function cNt(i){Kw=function aFt(i){var e=i.dateTime,t=i.date,n=i.time,r=i.periods,s=i.days,o=i.shortDays,l=i.months,d=i.shortMonths,h=Nk(r),m=Bk(r),b=Nk(s),v=Bk(s),E=Nk(o),D=Bk(o),T=Nk(l),P=Bk(l),F=Nk(d),H=Bk(d),j={a:function Kt(ri){return o[ri.getDay()]},A:function oe(ri){return s[ri.getDay()]},b:function we(ri){return d[ri.getMonth()]},B:function Je(ri){return l[ri.getMonth()]},c:null,d:ont,e:ont,f:IFt,g:VFt,G:UFt,H:kFt,I:DFt,j:TFt,L:ant,m:AFt,M:OFt,p:function Ci(ri){return r[+(ri.getHours()>=12)]},q:function ke(ri){return 1+~~(ri.getMonth()/3)},Q:fnt,s:mnt,S:RFt,u:PFt,U:LFt,V:FFt,w:NFt,W:BFt,x:null,X:null,y:zFt,Y:HFt,Z:GFt,"%":hnt},Q={a:function Zi(ri){return o[ri.getUTCDay()]},A:function di(ri){return s[ri.getUTCDay()]},b:function ji(ri){return d[ri.getUTCMonth()]},B:function gr(ri){return l[ri.getUTCMonth()]},c:null,d:cnt,e:cnt,f:YFt,g:nNt,G:sNt,H:jFt,I:WFt,j:$Ft,L:dnt,m:ZFt,M:qFt,p:function Tn(ri){return r[+(ri.getUTCHours()>=12)]},q:function Fn(ri){return 1+~~(ri.getUTCMonth()/3)},Q:fnt,s:mnt,S:XFt,u:KFt,U:QFt,V:JFt,w:tNt,W:eNt,x:null,X:null,y:iNt,Y:rNt,Z:oNt,"%":hnt},Tt={a:function he(ri,Ji,an){var Xe=E.exec(Ji.slice(an));return Xe?(ri.w=D[Xe[0].toLowerCase()],an+Xe[0].length):-1},A:function re(ri,Ji,an){var Xe=b.exec(Ji.slice(an));return Xe?(ri.w=v[Xe[0].toLowerCase()],an+Xe[0].length):-1},b:function kt(ri,Ji,an){var Xe=F.exec(Ji.slice(an));return Xe?(ri.m=H[Xe[0].toLowerCase()],an+Xe[0].length):-1},B:function ie(ri,Ji,an){var Xe=T.exec(Ji.slice(an));return Xe?(ri.m=P[Xe[0].toLowerCase()],an+Xe[0].length):-1},c:function de(ri,Ji,an){return Bt(ri,e,Ji,an)},d:rnt,e:rnt,f:CFt,g:nnt,G:int,H:snt,I:snt,j:vFt,L:wFt,m:bFt,M:yFt,p:function Vt(ri,Ji,an){var Xe=h.exec(Ji.slice(an));return Xe?(ri.p=m[Xe[0].toLowerCase()],an+Xe[0].length):-1},q:_Ft,Q:MFt,s:SFt,S:xFt,u:hFt,U:fFt,V:mFt,w:uFt,W:pFt,x:function pe(ri,Ji,an){return Bt(ri,t,Ji,an)},X:function Ht(ri,Ji,an){return Bt(ri,n,Ji,an)},y:nnt,Y:int,Z:gFt,"%":EFt};function Rt(ri,Ji){return function(an){var Qr,sa,Ns,Xe=[],ls=-1,Mn=0,ys=ri.length;for(an instanceof Date||(an=new Date(+an));++ls<ys;)37===ri.charCodeAt(ls)&&(Xe.push(ri.slice(Mn,ls)),null!=(sa=ent[Qr=ri.charAt(++ls)])?Qr=ri.charAt(++ls):sa="e"===Qr?" ":"0",(Ns=Ji[Qr])&&(Qr=Ns(an,sa)),Xe.push(Qr),Mn=ls+1);return Xe.push(ri.slice(Mn,ls)),Xe.join("")}}function Ct(ri,Ji){return function(an){var Mn,ys,Xe=Fk(1900,void 0,1);if(Bt(Xe,ri,an+="",0)!=an.length)return null;if("Q"in Xe)return new Date(Xe.Q);if("s"in Xe)return new Date(1e3*Xe.s+("L"in Xe?Xe.L:0));if(Ji&&!("Z"in Xe)&&(Xe.Z=0),"p"in Xe&&(Xe.H=Xe.H%12+12*Xe.p),void 0===Xe.m&&(Xe.m="q"in Xe?Xe.q:0),"V"in Xe){if(Xe.V<1||Xe.V>53)return null;"w"in Xe||(Xe.w=1),"Z"in Xe?(ys=(Mn=NU(Fk(Xe.y,0,1))).getUTCDay(),Mn=ys>4||0===ys?iN.ceil(Mn):iN(Mn),Mn=Kit.offset(Mn,7*(Xe.V-1)),Xe.y=Mn.getUTCFullYear(),Xe.m=Mn.getUTCMonth(),Xe.d=Mn.getUTCDate()+(Xe.w+6)%7):(ys=(Mn=FU(Fk(Xe.y,0,1))).getDay(),Mn=ys>4||0===ys?nN.ceil(Mn):nN(Mn),Mn=tnt.offset(Mn,7*(Xe.V-1)),Xe.y=Mn.getFullYear(),Xe.m=Mn.getMonth(),Xe.d=Mn.getDate()+(Xe.w+6)%7)}else("W"in Xe||"U"in Xe)&&("w"in Xe||(Xe.w="u"in Xe?Xe.u%7:"W"in Xe?1:0),ys="Z"in Xe?NU(Fk(Xe.y,0,1)).getUTCDay():FU(Fk(Xe.y,0,1)).getDay(),Xe.m=0,Xe.d="W"in Xe?(Xe.w+6)%7+7*Xe.W-(ys+5)%7:Xe.w+7*Xe.U-(ys+6)%7);return"Z"in Xe?(Xe.H+=Xe.Z/100|0,Xe.M+=Xe.Z%100,NU(Xe)):FU(Xe)}}function Bt(ri,Ji,an,Xe){for(var Qr,sa,ls=0,Mn=Ji.length,ys=an.length;ls<Mn;){if(Xe>=ys)return-1;if(37===(Qr=Ji.charCodeAt(ls++))){if(Qr=Ji.charAt(ls++),!(sa=Tt[Qr in ent?Ji.charAt(ls++):Qr])||(Xe=sa(ri,an,Xe))<0)return-1}else if(Qr!=an.charCodeAt(Xe++))return-1}return Xe}return j.x=Rt(t,j),j.X=Rt(n,j),j.c=Rt(e,j),Q.x=Rt(t,Q),Q.X=Rt(n,Q),Q.c=Rt(e,Q),{format:function(ri){var Ji=Rt(ri+="",j);return Ji.toString=function(){return ri},Ji},parse:function(ri){var Ji=Ct(ri+="",!1);return Ji.toString=function(){return ri},Ji},utcFormat:function(ri){var Ji=Rt(ri+="",Q);return Ji.toString=function(){return ri},Ji},utcParse:function(ri){var Ji=Ct(ri+="",!0);return Ji.toString=function(){return ri},Ji}}}(i),pnt=Kw.format,gnt=Kw.parse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),BU.prototype={constructor:BU,insert:function(i,e){var t,n,r;if(i){if(e.P=i,e.N=i.N,i.N&&(i.N.P=e),i.N=e,i.R){for(i=i.R;i.L;)i=i.L;i.L=e}else i.R=e;t=i}else this._?(i=_nt(this._),e.P=null,e.N=i,i.P=i.L=e,t=i):(e.P=e.N=null,this._=e,t=null);for(e.L=e.R=null,e.U=t,e.C=!0,i=e;t&&t.C;)t===(n=t.U).L?(r=n.R)&&r.C?(t.C=r.C=!1,n.C=!0,i=n):(i===t.R&&(zk(this,t),t=(i=t).U),t.C=!1,n.C=!0,Vk(this,n)):(r=n.L)&&r.C?(t.C=r.C=!1,n.C=!0,i=n):(i===t.L&&(Vk(this,t),t=(i=t).U),t.C=!1,n.C=!0,zk(this,n)),t=i.U;this._.C=!1},remove:function(i){i.N&&(i.N.P=i.P),i.P&&(i.P.N=i.N),i.N=i.P=null;var t,s,o,e=i.U,n=i.L,r=i.R;if(s=n?r?_nt(r):n:r,e?e.L===i?e.L=s:e.R=s:this._=s,n&&r?(o=s.C,s.C=i.C,s.L=n,n.U=s,s!==r?(e=s.U,s.U=i.U,e.L=i=s.R,s.R=r,r.U=s):(s.U=e,e=s,i=s.R)):(o=i.C,i=s),i&&(i.U=e),!o){if(i&&i.C)return void(i.C=!1);do{if(i===this._)break;if(i===e.L){if((t=e.R).C&&(t.C=!1,e.C=!0,zk(this,e),t=e.R),t.L&&t.L.C||t.R&&t.R.C){(!t.R||!t.R.C)&&(t.L.C=!1,t.C=!0,Vk(this,t),t=e.R),t.C=e.C,e.C=t.R.C=!1,zk(this,e),i=this._;break}}else if((t=e.L).C&&(t.C=!1,e.C=!0,Vk(this,e),t=e.L),t.L&&t.L.C||t.R&&t.R.C){(!t.L||!t.L.C)&&(t.R.C=!1,t.C=!0,zk(this,t),t=e.L),t.C=e.C,e.C=t.L.C=!1,Vk(this,e),i=this._;break}t.C=!0,i=e,e=e.U}while(!i.C);i&&(i.C=!1)}}};const bnt=BU;function Hk(i,e,t,n){var r=[null,null],s=Ya.push(r)-1;return r.left=i,r.right=e,t&&sN(r,i,e,t),n&&sN(r,e,i,n),kc[i.index].halfedges.push(s),kc[e.index].halfedges.push(s),r}function Uk(i,e,t){var n=[e,t];return n.left=i,n}function sN(i,e,t,n){i[0]||i[1]?i.left===t?i[1]=n:i[0]=n:(i[0]=n,i.left=e,i.right=t)}function dNt(i,e,t,n,r){var T,s=i[0],o=i[1],l=s[0],d=s[1],b=0,v=1,E=o[0]-l,D=o[1]-d;if(T=e-l,E||!(T>0)){if(T/=E,E<0){if(T<b)return;T<v&&(v=T)}else if(E>0){if(T>v)return;T>b&&(b=T)}if(T=n-l,E||!(T<0)){if(T/=E,E<0){if(T>v)return;T>b&&(b=T)}else if(E>0){if(T<b)return;T<v&&(v=T)}if(T=t-d,D||!(T>0)){if(T/=D,D<0){if(T<b)return;T<v&&(v=T)}else if(D>0){if(T>v)return;T>b&&(b=T)}if(T=r-d,D||!(T<0)){if(T/=D,D<0){if(T>v)return;T>b&&(b=T)}else if(D>0){if(T<b)return;T<v&&(v=T)}return!(b>0)&&!(v<1)||(b>0&&(i[0]=[l+b*E,d+b*D]),v<1&&(i[1]=[l+v*E,d+v*D])),!0}}}}}function uNt(i,e,t,n,r){var s=i[1];if(s)return!0;var T,P,o=i[0],l=i.left,d=i.right,h=l[0],m=l[1],b=d[0],v=d[1],E=(h+b)/2;if(v===m){if(E<e||E>=n)return;if(h>b){if(o){if(o[1]>=r)return}else o=[E,t];s=[E,r]}else{if(o){if(o[1]<t)return}else o=[E,r];s=[E,t]}}else if(P=(m+v)/2-(T=(h-b)/(v-m))*E,T<-1||T>1)if(h>b){if(o){if(o[1]>=r)return}else o=[(t-P)/T,t];s=[(r-P)/T,r]}else{if(o){if(o[1]<t)return}else o=[(r-P)/T,r];s=[(t-P)/T,t]}else if(m<v){if(o){if(o[0]>=n)return}else o=[e,T*e+P];s=[n,T*n+P]}else{if(o){if(o[0]<e)return}else o=[n,T*n+P];s=[e,T*e+P]}return i[0]=o,i[1]=s,!0}function mNt(i,e){var t=i.site,n=e.left,r=e.right;return t===r&&(r=n,n=t),r?Math.atan2(r[1]-n[1],r[0]-n[0]):(t===n?(n=e[1],r=e[0]):(n=e[0],r=e[1]),Math.atan2(n[0]-r[0],r[1]-n[1]))}function vnt(i,e){return e[+(e.left!==i.site)]}function pNt(i,e){return e[+(e.left===i.site)]}var zU,ynt=[];function bNt(){rN(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qw(i){var e=i.P,t=i.N;if(e&&t){var n=e.site,r=i.site,s=t.site;if(n!==s){var o=r[0],l=r[1],d=n[0]-o,h=n[1]-l,m=s[0]-o,b=s[1]-l,v=2*(d*b-h*m);if(!(v>=-CNt)){var E=d*d+h*h,D=m*m+b*b,T=(b*E-h*D)/v,P=(d*D-m*E)/v,F=ynt.pop()||new bNt;F.arc=i,F.site=r,F.x=T+o,F.y=(F.cy=P+l)+Math.sqrt(T*T+P*P),i.circle=F;for(var H=null,j=Gk._;j;)if(F.y<j.y||F.y===j.y&&F.x<=j.x){if(!j.L){H=j.P;break}j=j.L}else{if(!j.R){H=j;break}j=j.R}Gk.insert(H,F),H||(zU=F)}}}}function Jw(i){var e=i.circle;e&&(e.P||(zU=e.N),Gk.remove(e),ynt.push(e),rN(e),i.circle=null)}var xnt=[];function vNt(){rN(this),this.edge=this.site=this.circle=null}function wnt(i){var e=xnt.pop()||new vNt;return e.site=i,e}function VU(i){Jw(i),t1.remove(i),xnt.push(i),rN(i)}function yNt(i){var e=i.circle,t=e.x,n=e.cy,r=[t,n],s=i.P,o=i.N,l=[i];VU(i);for(var d=s;d.circle&&Math.abs(t-d.circle.x)<Es&&Math.abs(n-d.circle.cy)<Es;)s=d.P,l.unshift(d),VU(d),d=s;l.unshift(d),Jw(d);for(var h=o;h.circle&&Math.abs(t-h.circle.x)<Es&&Math.abs(n-h.circle.cy)<Es;)o=h.N,l.push(h),VU(h),h=o;l.push(h),Jw(h);var b,m=l.length;for(b=1;b<m;++b)sN((h=l[b]).edge,(d=l[b-1]).site,h.site,r);(h=l[m-1]).edge=Hk((d=l[0]).site,h.site,null,r),Qw(d),Qw(h)}function xNt(i){for(var n,r,s,o,e=i[0],t=i[1],l=t1._;l;)if((s=Cnt(l,t)-e)>Es)l=l.L;else{if(!((o=e-wNt(l,t))>Es)){s>-Es?(n=l.P,r=l):o>-Es?(n=l,r=l.N):n=r=l;break}if(!l.R){n=l;break}l=l.R}!function fNt(i){kc[i.index]={site:i,halfedges:[]}}(i);var d=wnt(i);if(t1.insert(n,d),n||r){if(n===r)return Jw(n),r=wnt(n.site),t1.insert(d,r),d.edge=r.edge=Hk(n.site,d.site),Qw(n),void Qw(r);if(!r)return void(d.edge=Hk(n.site,d.site));Jw(n),Jw(r);var h=n.site,m=h[0],b=h[1],v=i[0]-m,E=i[1]-b,D=r.site,T=D[0]-m,P=D[1]-b,F=2*(v*P-E*T),H=v*v+E*E,j=T*T+P*P,Q=[(P*H-E*j)/F+m,(v*j-T*H)/F+b];sN(r.edge,h,D,Q),d.edge=Hk(h,i,null,Q),r.edge=Hk(i,D,null,Q),Qw(n),Qw(r)}}function Cnt(i,e){var t=i.site,n=t[0],r=t[1],s=r-e;if(!s)return n;var o=i.P;if(!o)return-1/0;var l=(t=o.site)[0],d=t[1],h=d-e;if(!h)return l;var m=l-n,b=1/s-1/h,v=m/h;return b?(-v+Math.sqrt(v*v-2*b*(m*m/(-2*h)-d+h/2+r-s/2)))/b+n:(n+l)/2}function wNt(i,e){var t=i.N;if(t)return Cnt(t,e);var n=i.site;return n[1]===e?n[0]:1/0}var t1,kc,Gk,Ya,Es=1e-6,CNt=1e-12;function ENt(i,e,t){return(i[0]-t[0])*(e[1]-i[1])-(i[0]-e[0])*(t[1]-i[1])}function MNt(i,e){return e[1]-i[1]||e[0]-i[0]}function Ent(i,e){var n,r,s,t=i.sort(MNt).pop();for(Ya=[],kc=new Array(i.length),t1=new bnt,Gk=new bnt;;)if(s=zU,t&&(!s||t[1]<s.y||t[1]===s.y&&t[0]<s.x))(t[0]!==n||t[1]!==r)&&(xNt(t),n=t[0],r=t[1]),t=i.pop();else{if(!s)break;yNt(s.arc)}if(function gNt(){for(var t,n,r,s,i=0,e=kc.length;i<e;++i)if((t=kc[i])&&(s=(n=t.halfedges).length)){var o=new Array(s),l=new Array(s);for(r=0;r<s;++r)o[r]=r,l[r]=mNt(t,Ya[n[r]]);for(o.sort(function(d,h){return l[h]-l[d]}),r=0;r<s;++r)l[r]=n[o[r]];for(r=0;r<s;++r)n[r]=l[r]}}(),e){var o=+e[0][0],l=+e[0][1],d=+e[1][0],h=+e[1][1];(function hNt(i,e,t,n){for(var s,r=Ya.length;r--;)uNt(s=Ya[r],i,e,t,n)&&dNt(s,i,e,t,n)&&(Math.abs(s[0][0]-s[1][0])>Es||Math.abs(s[0][1]-s[1][1])>Es)||delete Ya[r]})(o,l,d,h),function _Nt(i,e,t,n){var s,o,l,d,h,m,b,v,E,D,T,P,r=kc.length,F=!0;for(s=0;s<r;++s)if(o=kc[s]){for(l=o.site,d=(h=o.halfedges).length;d--;)Ya[h[d]]||h.splice(d,1);for(d=0,m=h.length;d<m;)T=(D=pNt(o,Ya[h[d]]))[0],P=D[1],v=(b=vnt(o,Ya[h[++d%m]]))[0],E=b[1],(Math.abs(T-v)>Es||Math.abs(P-E)>Es)&&(h.splice(d,0,Ya.push(Uk(l,D,Math.abs(T-i)<Es&&n-P>Es?[i,Math.abs(v-i)<Es?E:n]:Math.abs(P-n)<Es&&t-T>Es?[Math.abs(E-n)<Es?v:t,n]:Math.abs(T-t)<Es&&P-e>Es?[t,Math.abs(v-t)<Es?E:e]:Math.abs(P-e)<Es&&T-i>Es?[Math.abs(E-e)<Es?v:i,e]:null))-1),++m);m&&(F=!1)}if(F){var H,j,Q,Tt=1/0;for(s=0,F=null;s<r;++s)(o=kc[s])&&(Q=(H=(l=o.site)[0]-i)*H+(j=l[1]-e)*j)<Tt&&(Tt=Q,F=o);if(F){var Rt=[i,e],Ct=[i,n],Bt=[t,n],Vt=[t,e];F.halfedges.push(Ya.push(Uk(l=F.site,Rt,Ct))-1,Ya.push(Uk(l,Ct,Bt))-1,Ya.push(Uk(l,Bt,Vt))-1,Ya.push(Uk(l,Vt,Rt))-1)}}for(s=0;s<r;++s)(o=kc[s])&&(o.halfedges.length||delete kc[s])}(o,l,d,h)}this.edges=Ya,this.cells=kc,t1=Gk=Ya=kc=null}function e1(i,e,t){this.k=i,this.x=e,this.y=t}Ent.prototype={constructor:Ent,polygons:function(){var i=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(n){return vnt(e,i[n])});return t.data=e.site.data,t})},triangles:function(){var i=[],e=this.edges;return this.cells.forEach(function(t,n){if(l=(s=t.halfedges).length)for(var s,l,d,r=t.site,o=-1,h=e[s[l-1]],m=h.left===r?h.right:h.left;++o<l;)d=m,m=(h=e[s[o]]).left===r?h.right:h.left,d&&m&&n<d.index&&n<m.index&&ENt(r,d,m)<0&&i.push([r.data,d.data,m.data])}),i},links:function(){return this.edges.filter(function(i){return i.right}).map(function(i){return{source:i.left.data,target:i.right.data}})},find:function(i,e,t){for(var r,l,n=this,s=n._found||0,o=n.cells.length;!(l=n.cells[s]);)if(++s>=o)return null;var d=i-l.site[0],h=e-l.site[1],m=d*d+h*h;do{l=n.cells[r=s],s=null,l.halfedges.forEach(function(b){var v=n.edges[b],E=v.left;if(E!==l.site&&E||(E=v.right)){var D=i-E[0],T=e-E[1],P=D*D+T*T;P<m&&(m=P,s=E.index)}})}while(null!==s);return n._found=r,null==t||m<=t*t?l.site:null}},e1.prototype={constructor:e1,scale:function(i){return 1===i?this:new e1(this.k*i,this.x,this.y)},translate:function(i,e){return 0===i&0===e?this:new e1(this.k,this.x+this.k*i,this.y+this.k*e)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new e1(1,0,0);let HU=n1,Snt=n1,knt=n1,Dnt=Int,Tnt=Ant;function n1(i){for(var e=new Array(i),t=-1;++t<i;)e[t]=0;return e}function Int(i,e){for(var t=i.length;t<e;)i[t++]=0;return i}function Ant(i,e){if(e>32)throw new Error("invalid array width!");return i}function mh(i){this.length=i,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=HU(i)}typeof Uint8Array<"u"&&(HU=function(i){return new Uint8Array(i)},Snt=function(i){return new Uint16Array(i)},knt=function(i){return new Uint32Array(i)},Dnt=function(i,e){if(i.length>=e)return i;var t=new i.constructor(e);return t.set(i),t},Tnt=function(i,e){var t;switch(e){case 16:t=Snt(i.length);break;case 32:t=knt(i.length);break;default:throw new Error("invalid array width!")}return t.set(i),t}),mh.prototype.lengthen=function(i){var e,t;for(e=0,t=this.subarrays;e<t;++e)this[e]=Dnt(this[e],i);this.length=i},mh.prototype.add=function(){var i,e,t,n,r;for(n=0,r=this.subarrays;n<r;++n)if(t=(~(i=this.masks[n])&i+1)>>>0,!((e=this.width-32*n)>=32)||t)return e<32&&t&1<<e&&(this[n]=Tnt(this[n],e<<=1),this.width=32*n+e),this.masks[n]|=t,{offset:n,one:t};return this[this.subarrays]=HU(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},mh.prototype.copy=function(i,e){var t,n;for(t=0,n=this.subarrays;t<n;++t)this[t][i]=this[t][e]},mh.prototype.truncate=function(i){var e,t;for(e=0,t=this.subarrays;e<t;++e)for(var n=this.length-1;n>=i;n--)this[e][n]=0;this.length=i},mh.prototype.zero=function(i){var e,t;for(e=0,t=this.subarrays;e<t;++e)if(this[e][i])return!1;return!0},mh.prototype.zeroExcept=function(i,e,t){var n,r;for(n=0,r=this.subarrays;n<r;++n)if(n===e?this[n][i]&t:this[n][i])return!1;return!0},mh.prototype.zeroExceptMask=function(i,e){var t,n;for(t=0,n=this.subarrays;t<n;++t)if(this[t][i]&e[t])return!1;return!0},mh.prototype.only=function(i,e,t){var n,r;for(n=0,r=this.subarrays;n<r;++n)if(this[n][i]!=(n===e?t:0))return!1;return!0},mh.prototype.onlyExcept=function(i,e,t,n,r){var s,o,l;for(o=0,l=this.subarrays;o<l;++o)if(s=this[o][i],o===e&&(s=(s&t)>>>0),s!=(o===n?r:0))return!1;return!0};const $g={array8:n1,array16:n1,array32:n1,arrayLengthen:Int,arrayWiden:Ant,bitarray:mh},r1_filterAll=i=>[0,i.length],jk=i=>i,ph=()=>null,oN=()=>0;function Ont(i){function e(r,s,o){for(var l=o-s,d=1+(l>>>1);--d>0;)n(r,d,l,s);return r}function n(r,s,o,l){for(var m,d=r[--l+s],h=i(d);(m=s<<1)<=o&&(m<o&&i(r[l+m])>i(r[l+m+1])&&m++,!(h<=i(r[l+m])));)r[l+s]=r[l+m],s=m;r[l+s]=d}return e.sort=function t(r,s,o){for(var d,l=o-s;--l>0;)d=r[s],r[s]=r[s+l],r[s+l]=d,n(r,1,l,s);return r},e}const Rnt=Ont(jk);Rnt.by=Ont;const UU=Rnt;function Pnt(i){var e=UU.by(i);return function t(n,r,s,o){var d,h,m,l=new Array(o=Math.min(s-r,o));for(h=0;h<o;++h)l[h]=n[r++];if(e(l,0,o),r<s){d=i(l[0]);do{i(m=n[r])>d&&(l[0]=m,d=i(e(l,0,o)[0]))}while(++r<s)}return l}}const Lnt=Pnt(jk);Lnt.by=Pnt;const Fnt=Lnt;function Nnt(i){function t(n,r,s,o){for(;s<o;){var l=s+o>>>1;r<i(n[l])?o=l:s=l+1}return s}return t.right=t,t.left=function e(n,r,s,o){for(;s<o;){var l=s+o>>>1;i(n[l])<r?s=l+1:o=l}return s},t}const Bnt=Nnt(jk);Bnt.by=Nnt;const GU=Bnt,aN=(i,e,t)=>{for(var n=0,r=e.length,s=t?JSON.parse(JSON.stringify(i)):new Array(r);n<r;++n)s[n]=i[e[n]];return s},Yg_reduceIncrement=i=>i+1,Yg_reduceDecrement=i=>i-1,Yg_reduceAdd=i=>function(e,t){return e+ +i(t)},Yg_reduceSubtract=i=>function(e,t){return e-i(t)},PNt=(i,e)=>{const t=i[e];return"function"==typeof t?t.call(i):t},LNt=/\[([\w\d]+)\]/g;Wk.heap=UU,Wk.heapselect=Fnt,Wk.bisect=GU,Wk.permute=aN;const NNt=Wk;function Wk(){var n,i={add:d,remove:function h(j){for(var Q=new Array(t),Tt=[],Rt="function"==typeof j,Bt=0,Vt=0;Bt<t;++Bt)kt=Bt,(Rt?j(e[kt],kt):n.zero(kt))?(Tt.push(Bt),Q[Bt]=-1):Q[Bt]=Vt++;var kt;r.forEach(function(kt){kt(-1,-1,[],Tt,!0)}),o.forEach(function(kt){kt(Q)});for(var he=0,re=0;he<t;++he)-1!==Q[he]&&(he!==re&&(n.copy(re,he),e[re]=e[he]),++re);e.length=t=re,n.truncate(re),H("dataRemoved")},dimension:function v(j,Q){if("string"==typeof j){var Tt=j;j=function(_i){return((i,e)=>function RNt(i,e,t,n,r){for(r in n=(t=t.split(".")).splice(-1,1),t)e=e[t[r]]=e[t[r]]||{};return i(e,n)}(PNt,i,e.replace(LNt,".$1")))(_i,Tt)}}var Ct,Bt,Vt,he,re,kt,ie,de,pe,Ht,Je,Ci,ke,Fn,Rt={filter:function Mn(_i){return null==_i?sa():Array.isArray(_i)?Qr(_i):"function"==typeof _i?Ns(_i):ys(_i)},filterExact:ys,filterRange:Qr,filterFunction:Ns,filterAll:sa,currentFilter:function qg(){return Ci},hasCurrentFilter:function $k(){return ke},top:function Za(_i,Ti){var Wi,Ne=[],Ee=gr,Bi=0;for(Ti&&Ti>0&&(Bi=Ti);--Ee>=ji&&_i>0;)n.zero(Wi=kt[Ee])&&(Bi>0?--Bi:(Ne.push(e[Wi]),--_i));if(Q)for(Ee=0;Ee<Kt.length&&_i>0;Ee++)n.zero(Wi=Kt[Ee])&&(Bi>0?--Bi:(Ne.push(e[Wi]),--_i));return Ne},bottom:function Wl(_i,Ti){var Ee,Wi,Ne=[],Bi=0;if(Ti&&Ti>0&&(Bi=Ti),Q)for(Ee=0;Ee<Kt.length&&_i>0;Ee++)n.zero(Wi=Kt[Ee])&&(Bi>0?--Bi:(Ne.push(e[Wi]),--_i));for(Ee=ji;Ee<gr&&_i>0;)n.zero(Wi=kt[Ee])&&(Bi>0?--Bi:(Ne.push(e[Wi]),--_i)),Ee++;return Ne},group:$l,groupAll:function nu(){var _i=$l(ph),Ti=_i.all;return delete _i.all,delete _i.top,delete _i.order,delete _i.orderNatural,delete _i.size,_i.value=function(){return Ti()[0].value},_i},dispose:um,remove:um,accessor:j,id:function(){return he}},Kt=[],oe=function(_i){return jU(_i).sort(function(Ti,Ne){var Ee=ie[Ti],Wi=ie[Ne];return Ee<Wi?-1:Ee>Wi?1:Ti-Ne})},we=r1_filterAll,Zi=[],di=[],ji=0,gr=0,Tn=0;s.unshift(Ji),s.push(an),o.push(Xe);var ri=n.add();function Ji(_i,Ti,Ne){var Ee,Wi;if(Q){Tn=0,Vr=0,Fn=[];for(var Bi=0;Bi<_i.length;Bi++)for(Vr=0,Fn=j(_i[Bi]);Vr<Fn.length;Vr++)Tn++;ie=[],Ee=jU(_i.length),Wi=Ub(Tn,1);for(var Gi=jU(Tn),Jr=0,ao=0;ao<_i.length;ao++)if((Fn=j(_i[ao])).length)for(Ee[ao]=Fn.length,Vr=0;Vr<Fn.length;Vr++)ie.push(Fn[Vr]),Gi[Jr]=ao,Jr++;else Ee[ao]=0,Kt.push(ao+Ti);var lo=oe(Tn);ie=aN(ie,lo),de=aN(Gi,lo)}else ie=_i.map(j),de=oe(Ne),ie=aN(ie,de);var wr,Ss,Do,Ms=we(ie),Da=Ms[0],cs=Ms[1];if(Q)if(Ne=Tn,Je)for(wr=0;wr<Ne;++wr)Je(ie[wr],wr)||(0==--Ee[de[wr]]&&(n[Vt][de[wr]+Ti]|=Ct),Wi[wr]=1);else{for(Ss=0;Ss<Da;++Ss)0==--Ee[de[Ss]]&&(n[Vt][de[Ss]+Ti]|=Ct),Wi[Ss]=1;for(Do=cs;Do<Ne;++Do)0==--Ee[de[Do]]&&(n[Vt][de[Do]+Ti]|=Ct),Wi[Do]=1}else if(Je)for(wr=0;wr<Ne;++wr)Je(ie[wr],wr)||(n[Vt][de[wr]+Ti]|=Ct);else{for(Ss=0;Ss<Da;++Ss)n[Vt][de[Ss]+Ti]|=Ct;for(Do=cs;Do<Ne;++Do)n[Vt][de[Do]+Ti]|=Ct}if(!Ti)return re=ie,kt=de,pe=Ee,Ht=Wi,ji=Da,void(gr=cs);var Dc,ru=re,hm=kt,To=Ht,ds=0;if(Bi=0,Q&&(Dc=Ti,Ti=ru.length,Ne=Tn),re=new Array(Q?Ti+Ne:t),kt=Q?new Array(Ti+Ne):Ub(t,t),Q&&(Ht=Ub(Ti+Ne,1)),Q){var _l=pe.length;pe=$g.arrayLengthen(pe,t);for(var Vr=0;Vr+_l<t;Vr++)pe[Vr+_l]=Ee[Vr]}for(var Bs=0;Bi<Ti&&ds<Ne;++Bs)ru[Bi]<ie[ds]?(re[Bs]=ru[Bi],Q&&(Ht[Bs]=To[Bi]),kt[Bs]=hm[Bi++]):(re[Bs]=ie[ds],Q&&(Ht[Bs]=Wi[ds]),kt[Bs]=de[ds++]+(Q?Dc:Ti));for(;Bi<Ti;++Bi,++Bs)re[Bs]=ru[Bi],Q&&(Ht[Bs]=To[Bi]),kt[Bs]=hm[Bi];for(;ds<Ne;++ds,++Bs)re[Bs]=ie[ds],Q&&(Ht[Bs]=Wi[ds]),kt[Bs]=de[ds]+(Q?Dc:Ti);Ms=we(re),ji=Ms[0],gr=Ms[1]}function an(_i,Ti,Ne){Zi.forEach(function(Ee){Ee(ie,de,Ti,Ne)}),ie=de=null}function Xe(_i){if(Q){for(var Ti=0,Ne=0;Ti<Kt.length;Ti++)-1!==_i[Kt[Ti]]&&(Kt[Ne]=_i[Kt[Ti]],Ne++);for(Kt.length=Ne,Ti=0,Ne=0;Ti<t;Ti++)-1!==_i[Ti]&&(Ne!==Ti&&(pe[Ne]=pe[Ti]),Ne++);pe=pe.slice(0,Ne)}for(var Gi,Ee=re.length,Wi=0,Bi=0;Wi<Ee;++Wi)-1!==_i[Gi=kt[Wi]]&&(Wi!==Bi&&(re[Bi]=re[Wi]),kt[Bi]=_i[Gi],Q&&(Ht[Bi]=Ht[Wi]),++Bi);for(re.length=Bi,Q&&(Ht=Ht.slice(0,Bi));Bi<Ee;)kt[Bi++]=0;var Jr=we(re);ji=Jr[0],gr=Jr[1]}function ls(_i){var Ti=_i[0],Ne=_i[1];if(Je)return Je=null,Gb(function(cs,wr){return Ti<=wr&&wr<Ne},0===_i[0]&&_i[1]===re.length),ji=Ti,gr=Ne,Rt;var Ee,Wi,Bi,Gi=[],Jr=[],ao=[],lo=[];if(Ti<ji)for(Ee=Ti,Wi=Math.min(ji,Ne);Ee<Wi;++Ee)Gi.push(kt[Ee]),ao.push(Ee);else if(Ti>ji)for(Ee=ji,Wi=Math.min(Ti,gr);Ee<Wi;++Ee)Jr.push(kt[Ee]),lo.push(Ee);if(Ne>gr)for(Ee=Math.max(Ti,gr),Wi=Ne;Ee<Wi;++Ee)Gi.push(kt[Ee]),ao.push(Ee);else if(Ne<gr)for(Ee=Math.max(ji,Ne),Wi=gr;Ee<Wi;++Ee)Jr.push(kt[Ee]),lo.push(Ee);if(Q){var Ms=[],Da=[];for(Ee=0;Ee<Gi.length;Ee++)pe[Gi[Ee]]++,Ht[ao[Ee]]=0,1===pe[Gi[Ee]]&&(n[Vt][Gi[Ee]]^=Ct,Ms.push(Gi[Ee]));for(Ee=0;Ee<Jr.length;Ee++)pe[Jr[Ee]]--,Ht[lo[Ee]]=1,0===pe[Jr[Ee]]&&(n[Vt][Jr[Ee]]^=Ct,Da.push(Jr[Ee]));if(Gi=Ms,Jr=Da,we===r1_filterAll)for(Ee=0;Ee<Kt.length;Ee++)n[Vt][Bi=Kt[Ee]]&Ct&&(n[Vt][Bi]^=Ct,Gi.push(Bi));else for(Ee=0;Ee<Kt.length;Ee++)n[Vt][Bi=Kt[Ee]]&Ct||(n[Vt][Bi]^=Ct,Jr.push(Bi))}else{for(Ee=0;Ee<Gi.length;Ee++)n[Vt][Gi[Ee]]^=Ct;for(Ee=0;Ee<Jr.length;Ee++)n[Vt][Jr[Ee]]^=Ct}return ji=Ti,gr=Ne,r.forEach(function(cs){cs(Ct,Vt,Gi,Jr)}),H("filtered"),Rt}function ys(_i){return Ci=_i,ke=!0,ls((we=((i,e)=>function(t){var n=t.length;return[i.left(t,e,0,n),i.right(t,e,0,n)]})(GU,_i))(re))}function Qr(_i){return Ci=_i,ke=!0,ls((we=((i,e)=>{var t=e[0],n=e[1];return function(r){var s=r.length;return[i.left(r,t,0,s),i.left(r,n,0,s)]}})(GU,_i))(re))}function sa(){return Ci=void 0,ke=!1,ls((we=r1_filterAll)(re))}function Ns(_i){Ci=_i,ke=!0,Je=_i,we=r1_filterAll,Gb(_i,!1);var Ti=we(re);return ji=Ti[0],gr=Ti[1],Rt}function Gb(_i,Ti){var Ne,Ee,Wi,Bi=[],Gi=[],Jr=[],ao=[],lo=re.length;if(!Q)for(Ne=0;Ne<lo;++Ne)!(n[Vt][Ee=kt[Ne]]&Ct)^!!(Wi=_i(re[Ne],Ne))&&(Wi?Bi.push(Ee):Gi.push(Ee));if(Q)for(Ne=0;Ne<lo;++Ne)_i(re[Ne],Ne)?(Bi.push(kt[Ne]),Jr.push(Ne)):(Gi.push(kt[Ne]),ao.push(Ne));if(Q){var Ms=[],Da=[];for(Ne=0;Ne<Bi.length;Ne++)1===Ht[Jr[Ne]]&&(pe[Bi[Ne]]++,Ht[Jr[Ne]]=0,1===pe[Bi[Ne]]&&(n[Vt][Bi[Ne]]^=Ct,Ms.push(Bi[Ne])));for(Ne=0;Ne<Gi.length;Ne++)0===Ht[ao[Ne]]&&(pe[Gi[Ne]]--,Ht[ao[Ne]]=1,0===pe[Gi[Ne]]&&(n[Vt][Gi[Ne]]^=Ct,Da.push(Gi[Ne])));if(Bi=Ms,Gi=Da,Ti)for(Ne=0;Ne<Kt.length;Ne++)n[Vt][Ee=Kt[Ne]]&Ct&&(n[Vt][Ee]^=Ct,Bi.push(Ee));else for(Ne=0;Ne<Kt.length;Ne++)n[Vt][Ee=Kt[Ne]]&Ct||(n[Vt][Ee]^=Ct,Gi.push(Ee))}else{for(Ne=0;Ne<Bi.length;Ne++)n[Vt][Bi[Ne]]&Ct&&(n[Vt][Bi[Ne]]&=Bt);for(Ne=0;Ne<Gi.length;Ne++)n[Vt][Gi[Ne]]&Ct||(n[Vt][Gi[Ne]]|=Ct)}r.forEach(function(cs){cs(Ct,Vt,Bi,Gi)}),H("filtered")}function $l(_i){var Ti={top:function s1(Di){var qn=Jr(Bs(),0,Ne.length,Di);return ao.sort(qn,0,qn.length)},all:Bs,reduce:oa,reduceCount:bl,reduceSum:function su(Di){return oa(Yg_reduceAdd(Di),Yg_reduceSubtract(Di),oN)},order:lN,orderNatural:function i4t(){return lN(jk)},size:function n4t(){return Gi},dispose:Vnt,remove:Vnt};di.push(Ti);var Ne,Ee,Jr,ao,lo,Ms,Da,ru,Wi=8,Bi=znt(Wi),Gi=0,cs=ph,wr=ph,Ss=!0,Do=_i===ph;function hm(Di,qn,Ir,Io){Q&&(ru=Ir,Ir=re.length-Di.length,Io=Di.length);var gh,o1,cN,Wb,$b,WU,er=Ne,Nn=Q?[]:Ub(Gi,Bi),Lr=lo,us=Ms,aa=Da,Ta=Gi,Ia=0,jb=0;for(Ss&&(Lr=aa=ph),Ss&&(us=aa=ph),Ne=new Array(Gi),Gi=0,Ee=Q?Ta?Ee:[]:Ta>1?$g.arrayLengthen(Ee,t):Ub(t,Bi),Ta&&(cN=(o1=er[0]).key);jb<Io&&!((Wb=_i(Di[jb]))>=Wb);)++jb;for(;jb<Io;){for(o1&&cN<=Wb?($b=o1,WU=cN,Nn[Ia]=Gi,(o1=er[++Ia])&&(cN=o1.key)):($b={key:Wb,value:aa()},WU=Wb),Ne[Gi]=$b;Wb<=WU&&(gh=qn[jb]+(Q?ru:Ir),Q?Ee[gh]?Ee[gh].push(Gi):Ee[gh]=[Gi]:Ee[gh]=Gi,$b.value=Lr($b.value,e[gh],!0),n.zeroExcept(gh,Vt,Bt)||($b.value=us($b.value,e[gh],!1)),!(++jb>=Io));)Wb=_i(Di[jb]);Hnt()}for(;Ia<Ta;)Ne[Nn[Ia]=Gi]=er[Ia++],Hnt();if(Q)for(var fm=0;fm<t;fm++)Ee[fm]||(Ee[fm]=[]);if(Gi>Ia)if(Q)for(Ia=0;Ia<ru;++Ia)for(fm=0;fm<Ee[Ia].length;fm++)Ee[Ia][fm]=Nn[Ee[Ia][fm]];else for(Ia=0;Ia<Ir;++Ia)Ee[Ia]=Nn[Ee[Ia]];function Hnt(){Q?Gi++:++Gi===Bi&&(Nn=$g.arrayWiden(Nn,Wi<<=1),Ee=$g.arrayWiden(Ee,Wi),Bi=znt(Wi))}gh=r.indexOf(cs),Gi>1||Q?(cs=Dc,wr=_l):(!Gi&&Do&&(Gi=1,Ne=[{key:null,value:aa()}]),1===Gi?(cs=ds,wr=Vr):(cs=ph,wr=ph),Ee=null),r[gh]=cs}function To(Di){if(Gi>1||Q){var er,Nn,Lr,qn=Gi,Ir=Ne,Io=Ub(qn,qn);if(Q){for(er=0,Lr=0;er<t;++er)if(-1!==Di[er]){for(Ee[Lr]=Ee[er],Nn=0;Nn<Ee[Lr].length;Nn++)Io[Ee[Lr][Nn]]=1;++Lr}Ee=Ee.slice(0,Lr)}else for(er=0,Lr=0;er<t;++er)-1!==Di[er]&&(Io[Ee[Lr]=Ee[er]]=1,++Lr);for(Ne=[],Gi=0,er=0;er<qn;++er)Io[er]&&(Io[er]=Gi++,Ne.push(Ir[er]));if(Gi>1||Q)if(Q)for(er=0;er<Lr;++er)for(Nn=0;Nn<Ee[er].length;++Nn)Ee[er][Nn]=Io[Ee[er][Nn]];else for(er=0;er<Lr;++er)Ee[er]=Io[Ee[er]];else Ee=null;r[r.indexOf(cs)]=Gi>1||Q?(wr=_l,cs=Dc):1===Gi?(wr=Vr,cs=ds):wr=cs=ph}else if(1===Gi){if(Do)return;for(var us=0;us<t;++us)if(-1!==Di[us])return;Ne=[],Gi=0,r[r.indexOf(cs)]=cs=wr=ph}}function Dc(Di,qn,Ir,Io,er){if(!(Di===Ct&&qn===Vt||Ss)){var Nn,Lr,us,aa,Ta;if(Q){for(Nn=0,aa=Ir.length;Nn<aa;++Nn)if(n.zeroExcept(us=Ir[Nn],Vt,Bt))for(Lr=0;Lr<Ee[us].length;Lr++)(Ta=Ne[Ee[us][Lr]]).value=lo(Ta.value,e[us],!1,Lr);for(Nn=0,aa=Io.length;Nn<aa;++Nn)if(n.onlyExcept(us=Io[Nn],Vt,Bt,qn,Di))for(Lr=0;Lr<Ee[us].length;Lr++)(Ta=Ne[Ee[us][Lr]]).value=Ms(Ta.value,e[us],er,Lr);return}for(Nn=0,aa=Ir.length;Nn<aa;++Nn)n.zeroExcept(us=Ir[Nn],Vt,Bt)&&((Ta=Ne[Ee[us]]).value=lo(Ta.value,e[us],!1));for(Nn=0,aa=Io.length;Nn<aa;++Nn)n.onlyExcept(us=Io[Nn],Vt,Bt,qn,Di)&&((Ta=Ne[Ee[us]]).value=Ms(Ta.value,e[us],er))}}function ds(Di,qn,Ir,Io,er){if(!(Di===Ct&&qn===Vt||Ss)){var Nn,Lr,us,aa=Ne[0];for(Nn=0,us=Ir.length;Nn<us;++Nn)n.zeroExcept(Lr=Ir[Nn],Vt,Bt)&&(aa.value=lo(aa.value,e[Lr],!1));for(Nn=0,us=Io.length;Nn<us;++Nn)n.onlyExcept(Lr=Io[Nn],Vt,Bt,qn,Di)&&(aa.value=Ms(aa.value,e[Lr],er))}}function _l(){var Di,qn,Ir;for(Di=0;Di<Gi;++Di)Ne[Di].value=Da();if(Q){for(Di=0;Di<t;++Di)for(qn=0;qn<Ee[Di].length;qn++)(Ir=Ne[Ee[Di][qn]]).value=lo(Ir.value,e[Di],!0,qn);for(Di=0;Di<t;++Di)if(!n.zeroExcept(Di,Vt,Bt))for(qn=0;qn<Ee[Di].length;qn++)(Ir=Ne[Ee[Di][qn]]).value=Ms(Ir.value,e[Di],!1,qn)}else{for(Di=0;Di<t;++Di)(Ir=Ne[Ee[Di]]).value=lo(Ir.value,e[Di],!0);for(Di=0;Di<t;++Di)n.zeroExcept(Di,Vt,Bt)||((Ir=Ne[Ee[Di]]).value=Ms(Ir.value,e[Di],!1))}}function Vr(){var Di,qn=Ne[0];for(qn.value=Da(),Di=0;Di<t;++Di)qn.value=lo(qn.value,e[Di],!0);for(Di=0;Di<t;++Di)n.zeroExcept(Di,Vt,Bt)||(qn.value=Ms(qn.value,e[Di],!1))}function Bs(){return Ss&&(wr(),Ss=!1),Ne}function oa(Di,qn,Ir){return lo=Di,Ms=qn,Da=Ir,Ss=!0,Ti}function bl(){return oa(Yg_reduceIncrement,Yg_reduceDecrement,oN)}function lN(Di){function qn(Ir){return Di(Ir.value)}return Jr=Fnt.by(qn),ao=UU.by(qn),Ti}function Vnt(){var Di=r.indexOf(cs);return Di>=0&&r.splice(Di,1),(Di=Zi.indexOf(hm))>=0&&Zi.splice(Di,1),(Di=o.indexOf(To))>=0&&o.splice(Di,1),(Di=di.indexOf(Ti))>=0&&di.splice(Di,1),Ti}return arguments.length<1&&(_i=jk),r.push(cs),Zi.push(hm),o.push(To),hm(re,kt,0,t),bl().orderNatural()}function um(){di.forEach(function(Ti){Ti.dispose()});var _i=s.indexOf(Ji);return _i>=0&&s.splice(_i,1),(_i=s.indexOf(an))>=0&&s.splice(_i,1),(_i=o.indexOf(Xe))>=0&&o.splice(_i,1),n.masks[Vt]&=Bt,sa()}return Bt=~(Ct=ri.one),he=(Vt=ri.offset)<<7|Math.log(Ct)/Math.log(2),Ji(e,0,t),an(0,0,t),Rt},groupAll:function E(){var Q,Tt,Rt,Ct,j={reduce:kt,reduceCount:ie,reduceSum:function de(Kt){return kt(Yg_reduceAdd(Kt),Yg_reduceSubtract(Kt),oN)},value:function pe(){return Bt&&(function re(){var Kt;for(Q=Ct(),Kt=0;Kt<t;++Kt)Q=Tt(Q,e[Kt],!0),n.zero(Kt)||(Q=Rt(Q,e[Kt],!1))}(),Bt=!1),Q},dispose:Ht,remove:Ht},Bt=!0;function Vt(Kt,oe){var we;if(!Bt)for(we=oe;we<t;++we)Q=Tt(Q,e[we],!0),n.zero(we)||(Q=Rt(Q,e[we],!1))}function he(Kt,oe,we,Je,Ci){var ke,Zi,di;if(!Bt){for(ke=0,di=we.length;ke<di;++ke)n.zero(Zi=we[ke])&&(Q=Tt(Q,e[Zi],Ci));for(ke=0,di=Je.length;ke<di;++ke)n.only(Zi=Je[ke],oe,Kt)&&(Q=Rt(Q,e[Zi],Ci))}}function kt(Kt,oe,we){return Tt=Kt,Rt=oe,Ct=we,Bt=!0,j}function ie(){return kt(Yg_reduceIncrement,Yg_reduceDecrement,oN)}function Ht(){var Kt=r.indexOf(he);return Kt>=0&&r.splice(Kt,1),(Kt=s.indexOf(Vt))>=0&&s.splice(Kt,1),j}return r.push(he),s.push(Vt),Vt(0,0),ie()},size:function D(){return t},all:function T(){return e},allFiltered:function P(j){var Q=[],Tt=0,Rt=m(j||[]);for(Tt=0;Tt<t;Tt++)n.zeroExceptMask(Tt,Rt)&&Q.push(e[Tt]);return Q},onChange:function F(j){if("function"==typeof j)return l.push(j),function(){l.splice(l.indexOf(j),1)};console.warn("onChange callback parameter must be a function!")},isElementFiltered:function b(j,Q){var Tt=m(Q||[]);return n.zeroExceptMask(j,Tt)}},e=[],t=0,r=[],s=[],o=[],l=[];function d(j){var Q=t,Tt=j.length;return Tt&&(e=e.concat(j),n.lengthen(t+=Tt),s.forEach(function(Rt){Rt(j,Q,Tt)}),H("dataAdded")),i}function m(j){var Q,Tt,Rt,Ct,Bt=Array(n.subarrays);for(Q=0;Q<n.subarrays;Q++)Bt[Q]=-1;for(Tt=0,Rt=j.length;Tt<Rt;Tt++)Bt[(Ct=j[Tt].id())>>7]&=~(1<<(63&Ct));return Bt}function H(j){for(var Q=0;Q<l.length;Q++)l[Q](j)}return n=new $g.bitarray(0),arguments.length?d(arguments[0]):i}function Ub(i,e){return(e<257?$g.array8:e<65537?$g.array16:$g.array32)(i)}function jU(i){for(var e=Ub(i,i),t=-1;++t<i;)e[t]=t;return e}function znt(i){return 8===i?256:16===i?65536:4294967296}const BNt=["monthChartDiv"],zNt=["yearChartDiv"],VNt=["monthFilters"],HNt=["yearFilters"],UNt=["uncertaintyFilters"];function GNt(i,e){if(1&i&&(O(0,"mat-option",22)(1,"div",23),tt(2),L(),O(3,"i",24),tt(4),L()()),2&i){const t=e.$implicit;Y("value",t.metric),z(2),Mi(t.metric),z(2),mi("",t.total," movement records")}}function jNt(i,e){if(1&i){const t=Ai();O(0,"div")(1,"span",25),tt(2,"1m"),L(),O(3,"mat-slider",26)(4,"input",27),fe("ngModelChange",function(r){return Te(t),Ie(Mt().selectedUncertainty=r)})("input",function(r){return Te(t),Ie(Mt().setUncertainty(r))}),L()(),O(5,"span",25),tt(6,"150km"),L(),te(7,"br"),O(8,"span")(9,"i"),tt(10),Yi(11,"number"),L()()()}if(2&i){const t=Mt();z(3),Y("displayWith",t.formatUncertaintySliderLabel),z(1),Y("value",t.selectedUncertainty)("ngModel",t.selectedUncertainty),z(6),mi("Current: < ",bn(11,4,t.selectedUncertainty)," m")}}const WNt=function(i){return{"hover-value":!0,on:i}};let $Nt=(()=>{class i{constructor(t){this.speciesService=t,this.scientificname="",this.selectedDatasetIds=[],this.speciesPointFilters=new qe,this.individualSelect=new qe,this.speciesPointUncertainty=new qe,this.individualCounts=[],this.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.typesToFilter=["points","movement"],this.currentScientificName=void 0,this.showUncertainty=!1,this.anyUncertainty=!0,this.selectedUncertainty=25e3,this.hasFilters=!1,this.total=0,this.totalNoDateFilter=0,this.allRecords=!0,this.loadEnd=!1,this.datasetCounts={},this.noPointDatasetsSelected=!0,this.noMovementSelected=!0,this.hoverValue="",this.hoverFade=!1,this.isMobile=!1,this.selectedIndividual="",this.isMobile=window.innerWidth<=480}ngOnInit(){}ngAfterViewInit(){}ngOnChanges(t){this.totalNoDateFilter=0,this.scientificname&&this.scientificname!==this.currentScientificName&&(this.currentScientificName=this.scientificname,this.speciesService.getPointFilters(this.scientificname).subscribe(n=>{this.setupChart(n),this.loadEnd=!0,this.refreshDatasetCounts(),this.datasetsChanged()})),this.selectedDatasetIds&&this.selectedDatasetIds.length>0&&this.datasetDim&&t.selectedDatasetIds&&!t.selectedDatasetIds?.firstChange?this.datasetsChanged():0===this.selectedDatasetIds.length&&this.refreshSelectedCount(),this.monthChart&&this.updateTemporalFilters()}datasetsChanged(){this.datasetDim.filterAll(),this.refreshSelectedCount(),this.datasetDim.filterFunction(t=>{for(let n=0;n<this.selectedDatasetIds.length;n++){const r=this.selectedDatasetIds[n];if(r.isFiltered){if(r.isFiltered(t))return!0}else if(r<=t&&r>=t)return!0}return!1}),Ow.redrawAll()}refreshDatasetCounts(){this.speciesService.getDatasets(this.scientificname).subscribe(t=>{t.forEach(n=>{this.datasetCounts[n.dataset_id]=this.typesToFilter.indexOf(n.product_type)>-1?n.no_rows:0}),this.refreshSelectedCount()})}refreshSelectedCount(){this.totalNoDateFilter=0;let t={};this.noMovementSelected=!0,this.individualCounts.forEach(n=>{t[n.dataset_id]=t[n.dataset_id]?t[n.dataset_id]+n.total:n.total}),this.selectedDatasetIds.forEach(n=>{this.totalNoDateFilter+=this.datasetCounts[n],t[n]&&(this.noMovementSelected=!1)}),this.noPointDatasetsSelected=0===this.totalNoDateFilter}setupChart(t){const n=this.isMobile?350:400;Ow.config.defaultColors(K3t);const s=this;this.monthChart=Ow.barChart(this.monthChartDiv.nativeElement),this.yearChart=Ow.lineChart(this.yearChartDiv.nativeElement);const o="%Y-%m-%d",d=(pnt(o),gnt(o));this.individualCounts=t.filter(F=>"aids"===F.metric_type||"individual"===F.metric_type).sort((F,H)=>H.total-F.total),(t=t.filter(F=>"date"===F.metric_type)).forEach(function(F){F.eventDate=d(F.metric.replace(/ .*/,"")),F.month=Q3t(F.eventDate).getMonth(),F.year=Zw(F.eventDate).getFullYear()});const h=parseInt(function DAt(i,e){var r,s,t=i.length,n=-1;if(null==e){for(;++n<t;)if(null!=(r=i[n])&&r>=r)for(s=r;++n<t;)null!=(r=i[n])&&s>r&&(s=r)}else for(;++n<t;)if(null!=(r=e(i[n],n,i))&&r>=r)for(s=r;++n<t;)null!=(r=e(i[n],n,i))&&s>r&&(s=r);return s}(t,function(F){return F.year}),10),m=parseInt(function SAt(i,e){var r,s,t=i.length,n=-1;if(null==e){for(;++n<t;)if(null!=(r=i[n])&&r>=r)for(s=r;++n<t;)null!=(r=i[n])&&r>s&&(s=r)}else for(;++n<t;)if(null!=(r=e(i[n],n,i))&&r>=r)for(s=r;++n<t;)null!=(r=e(i[n],n,i))&&r>s&&(s=r);return s}(t,function(F){return F.year}),10),b=NNt(t);b.groupAll(),this.datasetDim=b.dimension(F=>F.dataset_id);const E=b.dimension(F=>F.year),D=E.group().reduceSum(F=>F.total),T=b.dimension(F=>F.month),P=T.group().reduceSum(F=>F.total);this.monthChart.width(n).height(200).elasticY(!0).renderHorizontalGridLines(!0).x(DU()).colors(["#8dd3c7","66c2a5","#fec44f"]).xUnits(Ow.units.ordinal).dimension(T).group(P).title(F=>`Total records for ${this.monthNames[F.key]}: ${Fb(",")(F.value)}`).brushOn(!1).on("pretransition",function(F){F.selectAll("g rect.bar").style("fill","#8dd3c7"),F.selectAll("g rect.bar.selected").style("fill","#fec44f")}).on("renderlet",function(F){F.selectAll("g rect.bar").on("mouseover.foo",function(H){s.hoverFade=!1,s.hoverValue=H.target.textContent.replace("Total records for ","")}).on("mouseout.foo",function(H){s.hoverFade=!0})}).on("filtered",function(F,H){s.updateTemporalFilters()}),this.yearChart.width(n).height(200).elasticY(!0).renderHorizontalGridLines(!0).x(Rit().domain([h,m])).colors(["#8dd3c7","66c2a5","#fec44f"]).dimension(E).group(D).round(Math.floor).renderDataPoints(!0).on("pretransition",function(F){F.selectAll("g path.line").style("fill","none").style("stroke-width","2")}).title(F=>`Total records for ${F.key}: ${Fb(",")(F.value)}`).brushOn(!0).on("filtered",function(F,H){s.updateTemporalFilters()}),this.monthChart.xAxis().tickFormat(F=>this.monthNames[F]),this.yearChart.xAxis().ticks(8).tickFormat(Fb("d")),this.monthChart.yAxis().ticks(6).tickFormat(Fb("~s")),this.yearChart.yAxis().ticks(6).tickFormat(Fb("~s")),this.monthChart.render(),this.yearChart.render(),this.updateTemporalFilters()}individualSelected(t){this.selectedIndividual=t.value,this.applyFilters()}updateTemporalFilters(){const t=this.monthChart.filters(),n=this.yearChart.filters()&&this.yearChart.filters().length>0?this.yearChart.filters()[0]:[],r=this.monthChart.data()[0].domainValues.map(s=>s.data);if(this.total=0,this.hasFilters=!1,null!==t&&t.length>0){const s=t.map(o=>{const l=r.find(d=>d.key===o);return l&&(this.total+=l.value),this.monthNames[o]});this.monthFilters.nativeElement.innerHTML=`${s.join(", ")}`,this.hasFilters=!0}else this.monthFilters.nativeElement.innerHTML="All Records",r.forEach(s=>{this.total+=s.value});null!==n&&n.length>0?(this.yearFilters.nativeElement.innerHTML=`${n[0]} - ${n[1]}`,this.hasFilters=!0):this.yearFilters.nativeElement.innerHTML="All Records"}formatUncertaintySliderLabel(t){return t>=1e3?`${Math.round(t/1e3)}k`:`${t}`}toggleUncertaintyDisplay(t){this.speciesPointUncertainty.emit(this.showUncertainty)}toggleUncertaintyFilter(t){this.selectedUncertainty=25e3,this.setUncertainty(void 0)}setUncertainty(t){this.anyUncertainty?this.uncertaintyFilters.nativeElement.innerHTML="All uncertainty":(this.uncertaintyFilters.nativeElement.innerHTML=`< ${(new Intl.NumberFormat).format(this.selectedUncertainty)} m`,this.hasFilters=!0)}applyFilters(){const t=this.monthChart.filters(),n=this.yearChart.filters()&&this.yearChart.filters().length>0?this.yearChart.filters()[0]:[],r=t.map(d=>d+1);this.speciesPointFilters.emit({months:r,years:n&&n.length>0?[n[0],n[1]]:[],uncertainty:this.anyUncertainty?null:this.selectedUncertainty,individual:""===this.selectedIndividual?void 0:this.selectedIndividual})}resetChart(){this.monthChart.filterAll(),this.yearChart.filterAll(),Ow.redrawAll(),this.anyUncertainty=!0,this.setUncertainty(void 0),this.applyFilters(),this.hasFilters=!1}static#t=this.\u0275fac=function(n){return new(n||i)(U(ul))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-point-filters"]],viewQuery:function(n,r){if(1&n&&(Pi(BNt,5),Pi(zNt,5),Pi(VNt,5),Pi(HNt,5),Pi(UNt,5)),2&n){let s;Ze(s=We())&&(r.monthChartDiv=s.first),Ze(s=We())&&(r.yearChartDiv=s.first),Ze(s=We())&&(r.monthFilters=s.first),Ze(s=We())&&(r.yearFilters=s.first),Ze(s=We())&&(r.uncertaintyFilters=s.first)}},inputs:{scientificname:"scientificname",selectedDatasetIds:"selectedDatasetIds"},outputs:{speciesPointFilters:"speciesPointFilters",individualSelect:"individualSelect",speciesPointUncertainty:"speciesPointUncertainty"},features:[zn],decls:106,vars:29,consts:[[3,"hidden"],[1,"card-divider"],[1,"species-card",3,"hidden"],[1,"card-divider",3,"hidden"],[1,"species-card"],[3,"selectionChange"],["select",""],["value",""],["class","count-option",3,"value",4,"ngFor","ngForOf"],[1,"chart-container"],["monthChartDiv",""],["yearChartDiv",""],[1,"please-zoom",3,"hidden"],[3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"selectedFilters"],["monthFilters",""],["yearFilters",""],["uncertaintyFilters",""],[1,"selectedFiltersButtons"],["mat-stroked-button","",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"count-option",3,"value"],[1,"aid"],[1,"count"],[1,"text-small"],["thumbLabel","","tickInterval","10000","min","1","max","150000",3,"displayWith"],["matSliderThumb","",3,"value","ngModel","ngModelChange","input"]],template:function(n,r){if(1&n&&(O(0,"div",0),te(1,"div",1),O(2,"mat-card",2)(3,"mat-card-content"),tt(4," Select a point observation dataset to show filter options. "),L()()(),te(5,"div",3),O(6,"div",0)(7,"mat-card",4)(8,"mat-card-header")(9,"mat-card-title"),tt(10,"Movement Filters"),L(),O(11,"mat-card-subtitle")(12,"i"),tt(13," Select individual animals with tracking data: "),te(14,"br"),L()()(),O(15,"mat-card-content")(16,"mat-form-field")(17,"mat-label"),tt(18,"All Individuals"),L(),O(19,"mat-select",5,6),fe("selectionChange",function(o){return r.individualSelected(o)}),O(21,"mat-select-trigger"),tt(22),L(),O(23,"mat-option",7),tt(24,"All"),L(),It(25,GNt,5,3,"mat-option",8),L()()()()(),te(26,"div",1),O(27,"div",0)(28,"mat-card",4)(29,"mat-card-header")(30,"mat-card-title"),tt(31,"Temporal Filters"),L(),O(32,"mat-card-subtitle")(33,"i"),tt(34," Filters apply to selected point observations and movement layers. "),te(35,"br"),tt(36," Filter months by selecting bars. "),te(37,"br"),tt(38," Filter years by clicking and dragging. "),L()()(),O(39,"mat-card-content")(40,"div")(41,"i"),tt(42,"Total records by Month"),L(),O(43,"div"),tt(44),L()(),te(45,"div",9,10),O(47,"div")(48,"i"),tt(49,"Total records by Year"),L()(),te(50,"div",9,11),L()(),te(52,"div",1),O(53,"mat-card",4)(54,"mat-card-header")(55,"mat-card-title"),tt(56,"Spatial uncertainty"),L()(),O(57,"mat-card-content")(58,"div")(59,"div",12)(60,"b"),tt(61,"Please zoom in to display uncertainty circles."),L()(),O(62,"mat-slide-toggle",13),fe("ngModelChange",function(o){return r.showUncertainty=o})("change",function(o){return r.toggleUncertaintyDisplay(o)}),tt(63,"Display uncertainty circles (at high zoom levels)"),L(),O(64,"mat-slide-toggle",13),fe("ngModelChange",function(o){return r.anyUncertainty=o})("change",function(o){return r.toggleUncertaintyFilter(o)}),tt(65,"All Records"),L()(),It(66,jNt,12,6,"div",14),L()(),te(67,"div",1),O(68,"mat-card",4)(69,"mat-card-header")(70,"mat-card-title"),tt(71,"Selected filters"),L()(),O(72,"mat-card-content")(73,"div")(74,"div"),tt(75," Months: "),O(76,"span",15,16),tt(78,"All Records"),L()(),O(79,"div"),tt(80," Years: "),O(81,"span",15,17),tt(83,"All Records"),L()(),O(84,"div",0),tt(85," Records within the temporal filters: "),O(86,"span",15),tt(87),Yi(88,"number"),Yi(89,"number"),L()(),O(90,"div",0),tt(91," Total Records: "),O(92,"span",15),tt(93),Yi(94,"number"),L()(),te(95,"br"),O(96,"div"),tt(97," Spatial Uncertainty: "),O(98,"span",15,18),tt(100,"All Uncertainty"),L()(),O(101,"div",19)(102,"button",20),fe("click",function(){return r.resetChart()}),tt(103," Reset "),L(),O(104,"button",21),fe("click",function(){return r.applyFilters()}),tt(105," Update Map "),L()()()()()()),2&n){const s=Yo(20);Y("hidden",!r.noPointDatasetsSelected),z(2),Y("hidden",!r.loadEnd),z(3),Y("hidden",0===r.individualCounts.length||r.noMovementSelected),z(1),Y("hidden",0===r.individualCounts.length||r.noMovementSelected),z(16),mi(" ",s.value," "),z(3),Y("ngForOf",r.individualCounts),z(2),Y("hidden",r.noPointDatasetsSelected),z(16),Yn($r(27,WNt,r.hoverFade)),z(1),mi(" ",r.hoverValue," "),z(15),Y("hidden",!r.showUncertainty),z(3),Y("ngModel",r.showUncertainty),z(2),Y("ngModel",r.anyUncertainty),z(2),Y("ngIf",!r.anyUncertainty),z(18),Y("hidden",!r.allRecords),z(3),Ko("",bn(88,21,r.total)," / ",bn(89,23,r.totalNoDateFilter),""),z(3),Y("hidden",r.allRecords),z(3),Mi(bn(94,25,r.totalNoDateFilter)),z(9),Y("disabled",!r.hasFilters),z(2),Y("disabled",!r.hasFilters)}},dependencies:[Ps,on,DS,Yu,Lf,pc,dl,Ku,Vx,TP,DP,kP,Qu,fg,Ju,hZ,jP,axt,w7,W0],styles:[".species-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;font-size:12px;line-height:24px}.please-zoom[_ngcontent-%COMP%]{padding-left:18px}.hover-value[_ngcontent-%COMP%]{font-weight:500;display:inline;padding-left:10px;transition:opacity .1s linear;opacity:1}.hover-value.on[_ngcontent-%COMP%]{opacity:0}mat-slide-toggle[_ngcontent-%COMP%]{margin:8px 0;display:block}mat-slider[_ngcontent-%COMP%]{width:300px}.selectedFilters[_ngcontent-%COMP%]{font-weight:700}.count-option[_ngcontent-%COMP%]{height:60px;display:flex;line-height:15px}.count-option[_ngcontent-%COMP%]   .aid[_ngcontent-%COMP%]{height:20px}.count-option[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:gray;height:15px}.selectedFiltersButtons[_ngcontent-%COMP%]{margin:15px 0 0}.card-divider[_ngcontent-%COMP%]{border:3px solid rgba(221,221,221,.6666666667)}"]})}return i})();function YNt(i,e){1&i&&(O(0,"div",10)(1,"b"),tt(2,"Can't find your dataset?"),L(),te(3,"br"),tt(4," Please check "),O(5,"a",11),tt(6,"species classic"),L(),tt(7,", the previous iteration of the map of life species pages. We are working to make user uploaded datasets available in the new interface. "),L())}function ZNt(i,e){1&i&&(O(0,"div",10),tt(1," Download data related to selected species and datasets. "),te(2,"br"),O(3,"em"),tt(4,"Note:"),L(),tt(5," Only data that conforms to licensing agreements are generated. For others, a link where available to the source data is provided. "),L())}const qNt=function(i){return{active:i}};function XNt(i,e){if(1&i){const t=Ai();O(0,"button",16),fe("click",function(){const s=Te(t).$implicit;return Ie(Mt(2).updateThreshold(s))}),tt(1),L()}if(2&i){const t=e.$implicit;Yn($r(4,qNt,t.visible)),Y("disabled",t.visible),z(1),mi(" ",t.threshold," ")}}function KNt(i,e){if(1&i&&(O(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title"),tt(3,"SDM Display"),L(),O(4,"mat-card-subtitle",13),tt(5,"Available thresholds for selected distribution models:"),L()(),O(6,"mat-card-content")(7,"div",14),It(8,XNt,2,6,"button",15),L()()()),2&i){const t=Mt();z(8),Y("ngForOf",t.thresholds)}}const QNt=[{path:"",component:OJ,children:[{path:"",component:N2t},{path:"2",component:j2t},{path:"projection/landuse",component:KJ},{path:"projection/climate",component:pTt},{path:"projection/urban",component:_Tt},{path:"projection",component:KJ},{path:"niche",component:Ikt}]},{path:"",component:Ekt,children:[{path:"niche/:scientificname",component:mTt,pathMatch:"full"}]},{path:"",component:lAt,children:[{path:"map/:scientificname",component:(()=>{class i{constructor(t,n,r,s,o){this.state=t,this.auth=n,this.mapService=r,this.config=s,this.dialog=o,this.scientificname="",this.defaultIds=[],this.defaultDatasetType="",this.showInfo=!1,this.selectedDatasets=[],this.selectedDatasetsObj=[],this.selectedOccurrenceDatasets=[],this.selectedModelDatasets=[],this.selectedFilters={},this.showDownloads=!1,this.loggedIn=!1}ngOnInit(){this.config.state.subscribe(t=>{this.defaultIds=t.dsid,this.defaultDatasetType=t.type}),this.state.scientificname.subscribe(t=>{this.scientificname=t,this.thresholds=[]}),this.auth.loggedIn.subscribe(t=>{this.loggedIn=t})}ngOnDestroy(){this.mapService.updateTileUrl("OFF"),this.mapService.updateSecondaryTileUrl("OFF"),this.mapService.updateModel(this.scientificname,null)}selectedDatasetsHandler(t){this.selectedDatasetsObj=t}selectedOccurrenceIds(t){this.selectedOccurrenceDatasets=t}updateLayers(t){this.selectedDatasets=t,!this.showDownloads&&this.selectedDatasets.length>0&&(this.showDownloads=!0),this.mapService.updateSelectedLayers(t),this.updateTileUrl()}updateTileUrl(){this.mapService.updateDetailedMap(this.scientificname,this.selectedDatasets,this.selectedOccurrenceDatasets,this.selectedFilters,this.selectedModelDatasets,this.selectedDatasetsObj)}addWebGLFeatures(){("Anser albifrons"===this.scientificname||"Larus fuscus"===this.scientificname)&&this.mapService.loadWebGLFeatures(this.scientificname)}openDownloadModal(){this.dialog.open(dwt,{data:{scientificname:this.scientificname},width:"800px",maxWidth:"80%",maxHeight:"80%"})}selectedModelsChanged(t){if(t&&t.thresholds?.length&&t.thresholds?.length>0){this.selectedModelDatasets=[t.dataset_id],this.thresholds=t.thresholds;const n=this.thresholds.find(r=>r.visible);this.mapService.updateModel(this.scientificname,n.threshold)}else this.thresholds=[],this.mapService.updateModel(this.scientificname,null)}updateThreshold(t){this.thresholds.forEach(n=>{n.visible=!1}),t.visible=!0,this.mapService.updateModel(this.scientificname,t.threshold)}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds)}zoomToDatasetExtent(t){this.mapService.zoomToDatasetExtent(t)}speciesPointFilters(t){this.selectedFilters=t,this.mapService.setSpeciesFilters(t),this.updateTileUrl()}speciesPointUncertainty(t){this.mapService.displayUncertaintyBuffers(t)}static#t=this.\u0275fac=function(n){return new(n||i)(U(Kd),U(_b),U($f),U(vg),U(id))};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-species-detailed"]],decls:12,vars:12,consts:[[3,"scientificname","wiki","column","speciesInfoUpdated"],[3,"scientificname","defaultSelected","defaultDatasetType","selectedDatasetIdsChanged","selectedDatasets","selectedOccurrenceDatasetIdsChanged","selectedModelDatasets","zoomToDatasetExtent"],[1,"controls"],["class","infoBlock",4,"ngIf"],[1,"section",3,"hidden"],["mat-flat-button","","color","accent",1,"mol-button",3,"click"],[1,"showInfo",3,"click"],["class","species-card","class","section",4,"ngIf"],[1,"controls-filters"],[3,"scientificname","selectedDatasetIds","speciesPointFilters","speciesPointUncertainty"],[1,"infoBlock"],["target","_blank","href","https://mol.org/species-classic"],[1,"section"],[1,"threshold-title"],[1,"threshold-buttons"],["mat-flat-button","",3,"disabled","class","click",4,"ngFor","ngForOf"],["mat-flat-button","",3,"disabled","click"]],template:function(n,r){1&n&&(O(0,"mol-species-info",0),fe("speciesInfoUpdated",function(o){return r.speciesInfoUpdated(o)}),L(),O(1,"mol-species-dataset-menu",1),fe("selectedDatasetIdsChanged",function(o){return r.updateLayers(o)})("selectedDatasets",function(o){return r.selectedDatasetsHandler(o)})("selectedOccurrenceDatasetIdsChanged",function(o){return r.selectedOccurrenceIds(o)})("selectedModelDatasets",function(o){return r.selectedModelsChanged(o)})("zoomToDatasetExtent",function(o){return r.zoomToDatasetExtent(o)}),L(),O(2,"div",2),It(3,YNt,8,0,"div",3),O(4,"div",4)(5,"button",5),fe("click",function(){return r.openDownloadModal()}),tt(6," Download species data "),L(),O(7,"mol-help-tooltip",6),fe("click",function(){return r.showInfo=!r.showInfo}),L()(),It(8,ZNt,6,0,"div",3),It(9,KNt,9,1,"mat-card",7),L(),O(10,"div",8)(11,"mol-point-filters",9),fe("speciesPointFilters",function(o){return r.speciesPointFilters(o)})("speciesPointUncertainty",function(o){return r.speciesPointUncertainty(o)}),L()()),2&n&&(Y("scientificname",r.scientificname)("wiki",!0)("column",!0),z(1),Y("scientificname",r.scientificname)("defaultSelected",r.defaultIds)("defaultDatasetType",r.defaultDatasetType),z(2),Y("ngIf",r.loggedIn),z(1),Y("hidden",!r.showDownloads),z(4),Y("ngIf",r.showInfo),z(1),Y("ngIf",r.thresholds.length>0),z(2),Y("scientificname",r.scientificname)("selectedDatasetIds",r.selectedDatasets))},dependencies:[Ps,on,QJ,vAt,Mw,$Nt,dl,Ku,Vx,TP,DP,kP],styles:["[_nghost-%COMP%]{overflow-y:scroll;overflow-x:hidden}.controls[_ngcontent-%COMP%]{padding-top:15px;margin-left:15px}.controls[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:15px 0}.controls[_ngcontent-%COMP%]   .mol-button[_ngcontent-%COMP%]{font-size:12px;line-height:24px}.controls[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%]{cursor:pointer;font-size:22px}.controls[_ngcontent-%COMP%]   .infoBlock[_ngcontent-%COMP%]{width:300px}.threshold-buttons[_ngcontent-%COMP%]{padding-left:15px}.threshold-buttons[_ngcontent-%COMP%]   .threshold-title[_ngcontent-%COMP%]{font-size:16px}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:unset;color:#000;height:25px;line-height:25px;background-color:#fff;border:1px solid #ccc}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:5px 0 0 5px}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 5px 5px 0}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #e0e0e0}.threshold-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{cursor:not-allowed;border:1px solid #b8b8b8;background-color:#b8b8b8;color:#000;text-decoration:underline}mol-help-tooltip[_ngcontent-%COMP%]{vertical-align:middle;padding-left:10px}.controls-filters[_ngcontent-%COMP%]{padding-bottom:100px}"]})}return i})(),pathMatch:"full"},{path:"projection/landuse/:scientificname",component:HTt,pathMatch:"full"},{path:"projection/urban/:scientificname",component:CTt,pathMatch:"full"},{path:"habitat-trend/:scientificname",component:m2t,pathMatch:"full"},{path:"range/:scientificname",component:DJ,pathMatch:"full",data:{reserves:!1}},{path:"protect/:scientificname",component:DJ,pathMatch:"full",data:{reserves:!0}},{path:":scientificname",redirectTo:"map/:scientificname"}]},{path:"**",component:OJ,children:[{path:"",component:Hxt}]}];let JNt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i});static#i=this.\u0275inj=Oi({providers:[{provide:ei,useFactory:Bbt}],imports:[_s,RL.forRoot(QNt),RL]})}return i})(),t4t=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=He({type:i,selectors:[["mol-root"]],decls:1,vars:0,template:function(n,r){1&n&&te(0,"router-outlet")},dependencies:[tw]})}return i})(),e4t=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=zi({type:i,bootstrap:[t4t]});static#i=this.\u0275inj=Oi({providers:[{provide:w$,useClass:Ybt,multi:!0}],imports:[JNt,a_t,yj,qbt,uvt,FW,oyt,Vxt,ayt,zxt,O2,Oj,dg,CY,ob,s2,Imt,Gut,vZ,MZ,_Z,sct,dpt,zP,LW,ow.forRoot({loader:{provide:D2,useFactory:Vbt,deps:[Nd]}})]})}return i})();jst().bootstrapModule(e4t).catch(i=>console.error(i))},701:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{B8:()=>_e,Il:()=>st,J5:()=>ut,SU:()=>Xt,Ss:()=>Oe,ZP:()=>Yt,xV:()=>pt});var ht=Et(224);function st(){}var pt=.7,ut=1/pt,ot="\\s*([+-]?\\d+)\\s*",At="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rt=/^#([0-9a-f]{3,8})$/,J=new RegExp("^rgb\\("+[ot,ot,ot]+"\\)$"),B=new RegExp("^rgb\\("+[ft,ft,ft]+"\\)$"),q=new RegExp("^rgba\\("+[ot,ot,ot,At]+"\\)$"),Z=new RegExp("^rgba\\("+[ft,ft,ft,At]+"\\)$"),it=new RegExp("^hsl\\("+[At,ft,ft]+"\\)$"),et=new RegExp("^hsla\\("+[At,ft,ft,At]+"\\)$"),$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lt(){return this.rgb().formatHex()}function Dt(){return this.rgb().formatRgb()}function Yt(jt){var Lt,Wt;return jt=(jt+"").trim().toLowerCase(),(Lt=rt.exec(jt))?(Wt=Lt[1].length,Lt=parseInt(Lt[1],16),6===Wt?Ut(Lt):3===Wt?new Oe(Lt>>8&15|Lt>>4&240,Lt>>4&15|240&Lt,(15&Lt)<<4|15&Lt,1):8===Wt?ue(Lt>>24&255,Lt>>16&255,Lt>>8&255,(255&Lt)/255):4===Wt?ue(Lt>>12&15|Lt>>8&240,Lt>>8&15|Lt>>4&240,Lt>>4&15|240&Lt,((15&Lt)<<4|15&Lt)/255):null):(Lt=J.exec(jt))?new Oe(Lt[1],Lt[2],Lt[3],1):(Lt=B.exec(jt))?new Oe(255*Lt[1]/100,255*Lt[2]/100,255*Lt[3]/100,1):(Lt=q.exec(jt))?ue(Lt[1],Lt[2],Lt[3],Lt[4]):(Lt=Z.exec(jt))?ue(255*Lt[1]/100,255*Lt[2]/100,255*Lt[3]/100,Lt[4]):(Lt=it.exec(jt))?Nt(Lt[1],Lt[2]/100,Lt[3]/100,1):(Lt=et.exec(jt))?Nt(Lt[1],Lt[2]/100,Lt[3]/100,Lt[4]):$.hasOwnProperty(jt)?Ut($[jt]):"transparent"===jt?new Oe(NaN,NaN,NaN,0):null}function Ut(jt){return new Oe(jt>>16&255,jt>>8&255,255&jt,1)}function ue(jt,Lt,Wt,si){return si<=0&&(jt=Lt=Wt=NaN),new Oe(jt,Lt,Wt,si)}function Xt(jt){return jt instanceof st||(jt=Yt(jt)),jt?new Oe((jt=jt.rgb()).r,jt.g,jt.b,jt.opacity):new Oe}function _e(jt,Lt,Wt,si){return 1===arguments.length?Xt(jt):new Oe(jt,Lt,Wt,si??1)}function Oe(jt,Lt,Wt,si){this.r=+jt,this.g=+Lt,this.b=+Wt,this.opacity=+si}function Ft(){return"#"+ct(this.r)+ct(this.g)+ct(this.b)}function ge(){var jt=this.opacity;return(1===(jt=isNaN(jt)?1:Math.max(0,Math.min(1,jt)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===jt?")":", "+jt+")")}function ct(jt){return((jt=Math.max(0,Math.min(255,Math.round(jt)||0)))<16?"0":"")+jt.toString(16)}function Nt(jt,Lt,Wt,si){return si<=0?jt=Lt=Wt=NaN:Wt<=0||Wt>=1?jt=Lt=NaN:Lt<=0&&(jt=NaN),new ee(jt,Lt,Wt,si)}function gt(jt){if(jt instanceof ee)return new ee(jt.h,jt.s,jt.l,jt.opacity);if(jt instanceof st||(jt=Yt(jt)),!jt)return new ee;if(jt instanceof ee)return jt;var Lt=(jt=jt.rgb()).r/255,Wt=jt.g/255,si=jt.b/255,Qe=Math.min(Lt,Wt,si),ze=Math.max(Lt,Wt,si),ui=NaN,$n=ze-Qe,rn=(ze+Qe)/2;return $n?(ui=Lt===ze?(Wt-si)/$n+6*(Wt<si):Wt===ze?(si-Lt)/$n+2:(Lt-Wt)/$n+4,$n/=rn<.5?ze+Qe:2-ze-Qe,ui*=60):$n=rn>0&&rn<1?0:ui,new ee(ui,$n,rn,jt.opacity)}function ee(jt,Lt,Wt,si){this.h=+jt,this.s=+Lt,this.l=+Wt,this.opacity=+si}function ve(jt,Lt,Wt){return 255*(jt<60?Lt+(Wt-Lt)*jt/60:jt<180?Wt:jt<240?Lt+(Wt-Lt)*(240-jt)/60:Lt)}(0,ht.Z)(st,Yt,{copy:function(jt){return Object.assign(new this.constructor,this,jt)},displayable:function(){return this.rgb().displayable()},hex:lt,formatHex:lt,formatHsl:function _t(){return gt(this).formatHsl()},formatRgb:Dt,toString:Dt}),(0,ht.Z)(Oe,_e,(0,ht.l)(st,{brighter:function(jt){return jt=null==jt?ut:Math.pow(ut,jt),new Oe(this.r*jt,this.g*jt,this.b*jt,this.opacity)},darker:function(jt){return jt=null==jt?pt:Math.pow(pt,jt),new Oe(this.r*jt,this.g*jt,this.b*jt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ft,formatHex:Ft,formatRgb:ge,toString:ge})),(0,ht.Z)(ee,function St(jt,Lt,Wt,si){return 1===arguments.length?gt(jt):new ee(jt,Lt,Wt,si??1)},(0,ht.l)(st,{brighter:function(jt){return jt=null==jt?ut:Math.pow(ut,jt),new ee(this.h,this.s,this.l*jt,this.opacity)},darker:function(jt){return jt=null==jt?pt:Math.pow(pt,jt),new ee(this.h,this.s,this.l*jt,this.opacity)},rgb:function(){var jt=this.h%360+360*(this.h<0),Lt=isNaN(jt)||isNaN(this.s)?0:this.s,Wt=this.l,si=Wt+(Wt<.5?Wt:1-Wt)*Lt,Qe=2*Wt-si;return new Oe(ve(jt>=240?jt-240:jt+120,Qe,si),ve(jt,Qe,si),ve(jt<120?jt+240:jt-120,Qe,si),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var jt=this.opacity;return(1===(jt=isNaN(jt)?1:Math.max(0,Math.min(1,jt)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===jt?")":", "+jt+")")}}))},224:(nn,Ot,Et)=>{"use strict";function ht(pt,ut,ot){pt.prototype=ut.prototype=ot,ot.constructor=pt}function st(pt,ut){var ot=Object.create(pt.prototype);for(var At in ut)ot[At]=ut[At];return ot}Et.d(Ot,{Z:()=>ht,l:()=>st})},41:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{ZP:()=>At,wx:()=>ut,yi:()=>ot});var ht=Et(39);function st(ft,rt){return function(J){return ft+J*rt}}function ut(ft,rt){var J=rt-ft;return J?st(ft,J>180||J<-180?J-360*Math.round(J/360):J):(0,ht.Z)(isNaN(ft)?rt:ft)}function ot(ft){return 1==(ft=+ft)?At:function(rt,J){return J-rt?function pt(ft,rt,J){return ft=Math.pow(ft,J),rt=Math.pow(rt,J)-ft,J=1/J,function(B){return Math.pow(ft+B*rt,J)}}(rt,J,ft):(0,ht.Z)(isNaN(rt)?J:rt)}}function At(ft,rt){var J=rt-ft;return J?st(ft,J):(0,ht.Z)(isNaN(ft)?rt:ft)}},39:(nn,Ot,Et)=>{"use strict";function ht(st){return function(){return st}}Et.d(Ot,{Z:()=>ht})},451:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{ZP:()=>At,hD:()=>rt});var ht=Et(701);function st(B,q,Z,it,et){var $=B*B,lt=$*B;return((1-3*B+3*$-lt)*q+(4-6*$+3*lt)*Z+(1+3*B+3*$-3*lt)*it+lt*et)/6}var ot=Et(41);const At=function B(q){var Z=(0,ot.yi)(q);function it(et,$){var lt=Z((et=(0,ht.B8)(et)).r,($=(0,ht.B8)($)).r),_t=Z(et.g,$.g),Dt=Z(et.b,$.b),Yt=(0,ot.ZP)(et.opacity,$.opacity);return function(Ut){return et.r=lt(Ut),et.g=_t(Ut),et.b=Dt(Ut),et.opacity=Yt(Ut),et+""}}return it.gamma=B,it}(1);function ft(B){return function(q){var lt,_t,Z=q.length,it=new Array(Z),et=new Array(Z),$=new Array(Z);for(lt=0;lt<Z;++lt)_t=(0,ht.B8)(q[lt]),it[lt]=_t.r||0,et[lt]=_t.g||0,$[lt]=_t.b||0;return it=B(it),et=B(et),$=B($),_t.opacity=1,function(Dt){return _t.r=it(Dt),_t.g=et(Dt),_t.b=$(Dt),_t+""}}}var rt=ft(function pt(B){var q=B.length-1;return function(Z){var it=Z<=0?Z=0:Z>=1?(Z=1,q-1):Math.floor(Z*q),et=B[it],$=B[it+1];return st((Z-it/q)*q,it>0?B[it-1]:2*et-$,et,$,it<q-1?B[it+2]:2*$-et)}});ft(function ut(B){var q=B.length;return function(Z){var it=Math.floor(((Z%=1)<0?++Z:Z)*q);return st((Z-it/q)*q,B[(it+q-1)%q],B[it%q],B[(it+1)%q],B[(it+2)%q])}})},63:(nn,Ot,Et)=>{"use strict";function ht(st){for(var pt=st.length/6|0,ut=new Array(pt),ot=0;ot<pt;)ut[ot]="#"+st.slice(6*ot,6*++ot);return ut}Et.d(Ot,{Z:()=>ht})},248:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ut,r:()=>pt});var ht=Et(63),st=Et(814),pt=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ht.Z);const ut=(0,st.Z)(pt)},814:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>st});var ht=Et(451);const st=pt=>(0,ht.hD)(pt[pt.length-1])},70:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ut,r:()=>pt});var ht=Et(63),st=Et(814),pt=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ht.Z);const ut=(0,st.Z)(pt)},208:function(nn,Ot,Et){!function(ht,st,pt,ut,ot,At,ft,rt,J,B,q,Z,it,et,$,lt,_t,Dt,Yt,Ut){"use strict";class Xt extends Error{}const _e={CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10};class Oe{constructor(){this.enableDebugLog=!1,this._alreadyWarned={}}warn(p){return console&&(console.warn?console.warn(p):console.log&&console.log(p)),this}warnOnce(p){return this._alreadyWarned[p]||(this._alreadyWarned[p]=!0,Ft.warn(p)),this}debug(p){return this.enableDebugLog&&console&&(console.debug?console.debug(p):console.log&&console.log(p)),this}}const Ft=new Oe;let ge=(()=>{class xt{constructor(){this._defaultColors=xt._schemeCategory20c,this.dateFormat=st.timeFormat("%m/%d/%Y"),this._renderlet=null,this.disableTransitions=!1}defaultColors(M){return arguments.length?(this._defaultColors=M,this):(this._defaultColors===xt._schemeCategory20c&&Ft.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),this._defaultColors)}}return xt._schemeCategory20c=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],xt})();const ct=new ge,Nt={eventHandler:xt=>function(M,A){console.warn("No d3.js compatbility event handler registered, defaulting to v6 behavior."),xt.call(this,A,M)},nester:({})=>{throw new Error("No d3.js compatbility nester registered, load v5 or v6 compability layer.")},pointer:()=>{throw new Error("No d3.js compatbility pointer registered, load v5 or v6 compability layer.")}};const St=new class gt{constructor(){this._chartMap={}}_initializeChartGroup(p){return p||(p=_e.DEFAULT_CHART_GROUP),this._chartMap[p]||(this._chartMap[p]=[]),p}has(p){for(const M in this._chartMap)if(this._chartMap[M].indexOf(p)>=0)return!0;return!1}register(p,M){this._chartMap[M=this._initializeChartGroup(M)].push(p)}deregister(p,M){M=this._initializeChartGroup(M);for(let A=0;A<this._chartMap[M].length;A++)if(this._chartMap[M][A].anchorName()===p.anchorName()){this._chartMap[M].splice(A,1);break}}clear(p){p?delete this._chartMap[p]:this._chartMap={}}list(p){return p=this._initializeChartGroup(p),this._chartMap[p]}},ee=function(xt,p){St.register(xt,p)},ve=function(xt,p){St.deregister(xt,p)},Qe=function(xt){const p=St.list(xt);for(let M=0;M<p.length;++M)p[M].render();null!==ct._renderlet&&ct._renderlet(xt)},ze=function(xt){const p=St.list(xt);for(let M=0;M<p.length;++M)p[M].redraw();null!==ct._renderlet&&ct._renderlet(xt)},ui=function(xt,p,M,A){if(ct.disableTransitions||p<=0)return xt;let V=xt.transition(A);return(p>=0||void 0!==p)&&(V=V.duration(p)),(M>=0||void 0!==M)&&(V=V.delay(M)),V},$n=function(xt,p,M,A){return xt?function(V){return ui(V,p,M,A)}:function(V){return V}},Xn=function(xt){return xt instanceof Object&&xt.__dcFlag__&&!0},Ae={current:null,trigger:function(xt,p){p?(Ae.current=xt,setTimeout(()=>{xt===Ae.current&&xt()},p)):xt()}},_r={RangedFilter:function(xt,p){const M=new Array(xt,p);return M.isFiltered=function(A){return A>=this[0]&&A<this[1]},M.filterType="RangedFilter",M},TwoDimensionalFilter:function(xt){if(null===xt)return null;const p=xt;return p.isFiltered=function(M){return M.length&&M.length===p.length&&M[0]===p[0]&&M[1]===p[1]},p.filterType="TwoDimensionalFilter",p},RangedTwoDimensionalFilter:function(xt){if(null===xt)return null;const p=xt;let M;return M=p[0]instanceof Array?[[Math.min(xt[0][0],xt[1][0]),Math.min(xt[0][1],xt[1][1])],[Math.max(xt[0][0],xt[1][0]),Math.max(xt[0][1],xt[1][1])]]:[[xt[0],-1/0],[xt[1],1/0]],p.isFiltered=function(A){let V,Pt;return A instanceof Array?(V=A[0],Pt=A[1]):(V=A,Pt=M[0][1]),V>=M[0][0]&&V<M[1][0]&&Pt>=M[0][1]&&Pt<M[1][1]},p.filterType="RangedTwoDimensionalFilter",p},HierarchyFilter:function(xt){if(null===xt)return null;const p=xt.slice(0);return p.isFiltered=function(M){if(!(p.length&&M&&M.length&&M.length>=p.length))return!1;for(let A=0;A<p.length;A++)if(M[A]!==p[A])return!1;return!0},p}};class co extends Error{}const K=function(xt,p){return p?function(M,A){return p.call(M,M[xt],A)}:function(M){return M[xt]}},Jt={printSingleValue:function(xt){let p=`${xt}`;return xt instanceof Date?p=ct.dateFormat(xt):"string"==typeof xt?p=xt:Jt.isFloat(xt)?p=Jt.printSingleValue.fformat(xt):Jt.isInteger(xt)&&(p=Math.round(xt)),p}};Jt.printSingleValue.fformat=ut.format(".2f"),Jt._toTimeFunc=function(xt){return{second:pt.timeSecond,minute:pt.timeMinute,hour:pt.timeHour,day:pt.timeDay,week:pt.timeWeek,month:pt.timeMonth,year:pt.timeYear}[xt]},Jt.add=function(xt,p,M){if("string"==typeof p&&(p=p.replace("%","")),xt instanceof Date)return"string"==typeof p&&(p=+p),"millis"===M?new Date(xt.getTime()+p):("function"!=typeof(M=M||pt.timeDay)&&(M=Jt._toTimeFunc(M)),M.offset(xt,p));if("string"==typeof p){const A=+p/100;return xt>0?xt*(1+A):xt*(1-A)}return xt+p},Jt.subtract=function(xt,p,M){if("string"==typeof p&&(p=p.replace("%","")),xt instanceof Date)return"string"==typeof p&&(p=+p),"millis"===M?new Date(xt.getTime()-p):("function"!=typeof(M=M||pt.timeDay)&&(M=Jt._toTimeFunc(M)),M.offset(xt,-p));if("string"==typeof p){const A=+p/100;return xt<0?xt*(1+A):xt*(1-A)}return xt-p},Jt.isNumber=function(xt){return xt===+xt},Jt.isFloat=function(xt){return xt===+xt&&xt!==(0|xt)},Jt.isInteger=function(xt){return xt===+xt&&xt===(0|xt)},Jt.isNegligible=function(xt){return!Jt.isNumber(xt)||xt<_e.NEGLIGIBLE_NUMBER&&xt>-_e.NEGLIGIBLE_NUMBER},Jt.clamp=function(xt,p,M){return xt<p?p:xt>M?M:xt},Jt.constant=function(xt){return function(){return xt}};let Me=0;function zt(xt,p){for(let M=0;M<xt.length;M++)if(xt[M].key===p)return xt[M]}Jt.uniqueId=function(){return++Me},Jt.nameToId=function(xt){return xt.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},Jt.appendOrSelect=function(xt,p,M){M=M||p;let A=xt.select(p);return A.empty()&&(A=xt.append(M)),A},Jt.safeNumber=function(xt){return Jt.isNumber(+xt)?+xt:0},Jt.arraysEqual=function(xt,p){return!xt&&!p||!(!xt||!p)&&xt.length===p.length&&xt.every((M,A)=>M.valueOf()===p[A].valueOf())},Jt.allChildren=function(xt){let p=[];if(p.push(xt.path),console.log("currentNode",xt),xt.children)for(let M=0;M<xt.children.length;M++)p=p.concat(Jt.allChildren(xt.children[M]));return p},Jt.toHierarchy=function(xt,p){const M={key:"root",children:[]};for(let A=0;A<xt.length;A++){const V=xt[A],Pt=V.key,wt=p(V);let Ye=M;for(let bi=0;bi<Pt.length;bi++){const Kn=Pt.slice(0,bi+1),Ar=Ye.children,Vs=Pt[bi];let _n;bi+1<Pt.length?(_n=zt(Ar,Vs),void 0===_n&&(_n={key:Vs,children:[],path:Kn},Ar.push(_n)),Ye=_n):(_n={key:Vs,value:wt,data:V,path:Kn},Ar.push(_n))}}return M},Jt.getAncestors=function(xt){const p=[];let M=xt;for(;M.parent;)p.unshift(M.name),M=M.parent;return p},Jt.arraysIdentical=function(xt,p){let M=xt.length;if(M!==p.length)return!1;for(;M--;)if(xt[M]!==p[M])return!1;return!0};const W={filters:function(xt){let p="";for(let M=0;M<xt.length;++M)M>0&&(p+=", "),p+=W.filter(xt[M]);return p},filter:function(xt){let p="";return typeof xt<"u"&&null!==xt&&(xt instanceof Array?xt.length>=2?p=`[${xt.map(M=>Jt.printSingleValue(M)).join(" -> ")}]`:xt.length>=1&&(p=Jt.printSingleValue(xt[0])):p=Jt.printSingleValue(xt)),p}},vt={integers:function(xt,p){return Math.abs(p-xt)},ordinal:function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},fp:{}};vt.fp.precision=function(xt){const p=function(M,A){const V=Math.abs((A-M)/p.resolution);return Jt.isNegligible(V-Math.floor(V))?Math.floor(V):Math.ceil(V)};return p.resolution=xt,p};const Zt=(xt,p)=>(0===p.length?xt.filter(null):1!==p.length||p[0].isFiltered?1===p.length&&"RangedFilter"===p[0].filterType?xt.filterRange(p[0]):xt.filterFunction(M=>{for(let A=0;A<p.length;A++){const V=p[A];if(V.isFiltered){if(V.isFiltered(M))return!0}else if(V<=M&&V>=M)return!0}return!1}):xt.filterExact(p[0]),p),ne=(xt,p)=>null===p||typeof p>"u"?xt.length>0:xt.some(M=>p<=M&&p>=M),qt=(xt,p)=>{for(let M=0;M<xt.length;M++)if(xt[M]<=p&&xt[M]>=p){xt.splice(M,1);break}return xt},Ve=(xt,p)=>(xt.push(p),xt),ni=xt=>[];class Re{constructor(){this.__dcFlag__=Jt.uniqueId(),this._svgDescription=null,this._keyboardAccessible=!1,this._dimension=void 0,this._group=void 0,this._anchor=void 0,this._root=void 0,this._svg=void 0,this._isChild=void 0,this._minWidth=200,this._defaultWidthCalc=p=>{const M=p&&p.getBoundingClientRect&&p.getBoundingClientRect().width;return M&&M>this._minWidth?M:this._minWidth},this._widthCalc=this._defaultWidthCalc,this._minHeight=200,this._defaultHeightCalc=p=>{const M=p&&p.getBoundingClientRect&&p.getBoundingClientRect().height;return M&&M>this._minHeight?M:this._minHeight},this._heightCalc=this._defaultHeightCalc,this._width=void 0,this._height=void 0,this._useViewBoxResizing=!1,this._keyAccessor=K("key"),this._valueAccessor=K("value"),this._label=K("key"),this._ordering=K("key"),this._renderLabel=!1,this._title=p=>`${this.keyAccessor()(p)}: ${this.valueAccessor()(p)}`,this._renderTitle=!0,this._controlsUseVisibility=!1,this._transitionDuration=750,this._transitionDelay=0,this._filterPrinter=W.filters,this._mandatoryAttributesList=["dimension","group"],this._chartGroup=_e.DEFAULT_CHART_GROUP,this._listeners=At.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),this._legend=void 0,this._commitHandler=void 0,this._defaultData=p=>p.all(),this._data=this._defaultData,this._filters=[],this._filterHandler=Zt,this._hasFilterHandler=ne,this._removeFilterHandler=qt,this._addFilterHandler=Ve,this._resetFilterHandler=ni}height(p){return arguments.length?(this._heightCalc=p?"function"==typeof p?p:Jt.constant(p):this._defaultHeightCalc,this._height=void 0,this):(Jt.isNumber(this._height)||(this._height=this._heightCalc(this._root.node())),this._height)}width(p){return arguments.length?(this._widthCalc=p?"function"==typeof p?p:Jt.constant(p):this._defaultWidthCalc,this._width=void 0,this):(Jt.isNumber(this._width)||(this._width=this._widthCalc(this._root.node())),this._width)}minWidth(p){return arguments.length?(this._minWidth=p,this):this._minWidth}minHeight(p){return arguments.length?(this._minHeight=p,this):this._minHeight}useViewBoxResizing(p){return arguments.length?(this._useViewBoxResizing=p,this):this._useViewBoxResizing}dimension(p){return arguments.length?(this._dimension=p,this.expireCache(),this):this._dimension}data(p){return arguments.length?(this._data="function"==typeof p?p:Jt.constant(p),this.expireCache(),this):this._data(this._group)}group(p,M){return arguments.length?(this._group=p,this._groupName=M,this.expireCache(),this):this._group}ordering(p){return arguments.length?(this._ordering=p,this.expireCache(),this):this._ordering}_computeOrderedGroups(p){return Array.from(p).sort((M,A)=>ft.ascending(this._ordering(M),this._ordering(A)))}filterAll(){return this.filter(null)}select(p){return this._root.select(p)}selectAll(p){return this._root?this._root.selectAll(p):null}anchor(p,M){if(!arguments.length)return this._anchor;if(Xn(p))this._anchor=p.anchor(),this._anchor.children&&(this._anchor=`#${p.anchorName()}`),this._root=p.root(),this._isChild=!0;else{if(!p)throw new Xt("parent must be defined");this._anchor=p.select&&p.classed?p.node():p,this._root=ot.select(this._anchor),this._root.classed(_e.CHART_CLASS,!0),ee(this,M),this._isChild=!1}return this._chartGroup=M,this}anchorName(){const p=this.anchor();return p&&p.id?p.id:p&&p.replace?p.replace("#",""):`dc-chart${this.chartID()}`}root(p){return arguments.length?(this._root=p,this):this._root}svg(p){return arguments.length?(this._svg=p,this):this._svg}resetSvg(){return this.select("svg").remove(),this.generateSvg()}sizeSvg(){this._svg&&(this._useViewBoxResizing?this._svg.attr("viewBox")||this._svg.attr("viewBox",`0 0 ${this.width()} ${this.height()}`):this._svg.attr("width",this.width()).attr("height",this.height()))}generateSvg(){return this._svg=this.root().append("svg"),(this._svgDescription||this._keyboardAccessible)&&(this._svg.append("desc").attr("id",`desc-id-${this.__dcFlag__}`).html(`${this.svgDescription()}`),this._svg.attr("tabindex","0").attr("role","img").attr("aria-labelledby",`desc-id-${this.__dcFlag__}`)),this.sizeSvg(),this._svg}svgDescription(p){return arguments.length?(this._svgDescription=p,this):this._svgDescription||this.constructor.name}keyboardAccessible(p){return arguments.length?(this._keyboardAccessible=p,this):this._keyboardAccessible}filterPrinter(p){return arguments.length?(this._filterPrinter=p,this):this._filterPrinter}controlsUseVisibility(p){return arguments.length?(this._controlsUseVisibility=p,this):this._controlsUseVisibility}turnOnControls(){if(this._root){const p=this.controlsUseVisibility()?"visibility":"display";this.selectAll(".reset").style(p,null),this.selectAll(".filter").text(this._filterPrinter(this.filters())).style(p,null)}return this}turnOffControls(){if(this._root){const p=this.controlsUseVisibility()?"visibility":"display",M=this.controlsUseVisibility()?"hidden":"none";this.selectAll(".reset").style(p,M),this.selectAll(".filter").style(p,M).text(this.filter())}return this}transitionDuration(p){return arguments.length?(this._transitionDuration=p,this):this._transitionDuration}transitionDelay(p){return arguments.length?(this._transitionDelay=p,this):this._transitionDelay}_mandatoryAttributes(p){return arguments.length?(this._mandatoryAttributesList=p,this):this._mandatoryAttributesList}checkForMandatoryAttributes(p){if(!this[p]||!this[p]())throw new co(`Mandatory attribute chart.${p} is missing on chart[#${this.anchorName()}]`)}render(){this._height=this._width=void 0,this._listeners.call("preRender",this,this),this._mandatoryAttributesList&&this._mandatoryAttributesList.forEach(M=>this.checkForMandatoryAttributes(M));const p=this._doRender();return this._legend&&this._legend.render(),this._activateRenderlets("postRender"),p}_makeKeyboardAccessible(p,...M){const A=this._svg.selectAll(".dc-tabbable").attr("tabindex",0);p&&A.on("keydown",Nt.eventHandler((V,Pt)=>{13===Pt.keyCode&&"object"==typeof V&&p.call(this,V,...M),32===Pt.keyCode&&"object"==typeof V&&(p.call(this,V,...M),Pt.preventDefault())}))}_activateRenderlets(p){this._listeners.call("pretransition",this,this),this.transitionDuration()>0&&this._svg?this._svg.transition().duration(this.transitionDuration()).delay(this.transitionDelay()).on("end",()=>{this._listeners.call("renderlet",this,this),p&&this._listeners.call(p,this,this)}):(this._listeners.call("renderlet",this,this),p&&this._listeners.call(p,this,this))}redraw(){this.sizeSvg(),this._listeners.call("preRedraw",this,this);const p=this._doRedraw();return this._legend&&this._legend.render(),this._activateRenderlets("postRedraw"),p}commitHandler(p){return arguments.length?(this._commitHandler=p,this):this._commitHandler}redrawGroup(){return this._commitHandler?this._commitHandler(!1,(p,M)=>{p?console.log(p):ze(this.chartGroup())}):ze(this.chartGroup()),this}renderGroup(){return this._commitHandler?this._commitHandler(!1,(p,M)=>{p?console.log(p):Qe(this.chartGroup())}):Qe(this.chartGroup()),this}_invokeFilteredListener(p){void 0!==p&&this._listeners.call("filtered",this,this,p)}_invokeZoomedListener(){this._listeners.call("zoomed",this,this)}hasFilterHandler(p){return arguments.length?(this._hasFilterHandler=p,this):this._hasFilterHandler}hasFilter(p){return this._hasFilterHandler(this._filters,p)}removeFilterHandler(p){return arguments.length?(this._removeFilterHandler=p,this):this._removeFilterHandler}addFilterHandler(p){return arguments.length?(this._addFilterHandler=p,this):this._addFilterHandler}resetFilterHandler(p){return arguments.length?(this._resetFilterHandler=p,this):this._resetFilterHandler}applyFilters(p){if(this.dimension()&&this.dimension().filter){const M=this._filterHandler(this.dimension(),p);M&&(p=M)}return p}replaceFilter(p){return this._filters=this._resetFilterHandler(this._filters),this.filter(p),this}filter(p){if(!arguments.length)return this._filters.length>0?this._filters[0]:null;let M=this._filters;return p instanceof Array&&p[0]instanceof Array&&!p.isFiltered?p[0].forEach(A=>{M=this._hasFilterHandler(M,A)?this._removeFilterHandler(M,A):this._addFilterHandler(M,A)}):M=null===p?this._resetFilterHandler(M):this._hasFilterHandler(M,p)?this._removeFilterHandler(M,p):this._addFilterHandler(M,p),this._filters=this.applyFilters(M),this._invokeFilteredListener(p),null!==this._root&&this.hasFilter()?this.turnOnControls():this.turnOffControls(),this}filters(){return this._filters}highlightSelected(p){ot.select(p).classed(_e.SELECTED_CLASS,!0),ot.select(p).classed(_e.DESELECTED_CLASS,!1)}fadeDeselected(p){ot.select(p).classed(_e.SELECTED_CLASS,!1),ot.select(p).classed(_e.DESELECTED_CLASS,!0)}resetHighlight(p){ot.select(p).classed(_e.SELECTED_CLASS,!1),ot.select(p).classed(_e.DESELECTED_CLASS,!1)}onClick(p){const M=this.keyAccessor()(p);Ae.trigger(()=>{this.filter(M),this.redrawGroup()})}filterHandler(p){return arguments.length?(this._filterHandler=p,this):this._filterHandler}_doRender(){return this}_doRedraw(){return this}legendables(){return[]}legendHighlight(){}legendReset(){}legendToggle(){}isLegendableHidden(){return!1}keyAccessor(p){return arguments.length?(this._keyAccessor=p,this):this._keyAccessor}valueAccessor(p){return arguments.length?(this._valueAccessor=p,this):this._valueAccessor}label(p,M){return arguments.length?(this._label=p,(void 0===M||M)&&(this._renderLabel=!0),this):this._label}renderLabel(p){return arguments.length?(this._renderLabel=p,this):this._renderLabel}title(p){return arguments.length?(this._title=p,this):this._title}renderTitle(p){return arguments.length?(this._renderTitle=p,this):this._renderTitle}chartGroup(p){return arguments.length?(this._isChild||ve(this,this._chartGroup),this._chartGroup=p,this._isChild||ee(this,this._chartGroup),this):this._chartGroup}expireCache(){return this}legend(p){return arguments.length?(this._legend=p,this._legend.parent(this),this):this._legend}chartID(){return this.__dcFlag__}options(p){const M=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(const A in p)"function"==typeof this[A]?p[A]instanceof Array&&-1!==M.indexOf(A)?this[A].apply(this,p[A]):this[A].call(this,p[A]):Ft.debug(`Not a valid option setter name: ${A}`);return this}on(p,M){return this._listeners.on(p,M),this}renderlet(p){return Ft.warnOnce('chart.renderlet has been deprecated. Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),this.on(`renderlet.${Jt.uniqueId()}`,p),this}}const yi=xt=>class extends xt{constructor(){super(),this._colors=rt.scaleOrdinal(ct.defaultColors()),this._colorAccessor=p=>this.keyAccessor()(p),this._colorCalculator=void 0;{const p=this;p.getColor=function(M,A){return p._colorCalculator?p._colorCalculator.call(this,M,A):p._colors(p._colorAccessor.call(this,M,A))}}}calculateColorDomain(){const p=[ft.min(this.data(),this.colorAccessor()),ft.max(this.data(),this.colorAccessor())];return this._colors.domain(p),this}colors(p){return arguments.length?(this._colors=p instanceof Array?rt.scaleQuantize().range(p):"function"==typeof p?p:Jt.constant(p),this):this._colors}ordinalColors(p){return this.colors(rt.scaleOrdinal().range(p))}linearColors(p){return this.colors(rt.scaleLinear().range(p).interpolate(J.interpolateHcl))}colorAccessor(p){return arguments.length?(this._colorAccessor=p,this):this._colorAccessor}colorDomain(p){return arguments.length?(this._colors.domain(p),this):this._colors.domain()}colorCalculator(p){return arguments.length?(this._colorCalculator=p,this):this._colorCalculator||this.getColor}},ti=xt=>class extends(yi(xt)){constructor(){super(),this._maxBubbleRelativeSize=.3,this._minRadiusWithLabel=10,this._sortBubbleSize=!1,this._elasticRadius=!1,this._excludeElasticZero=!0,this.BUBBLE_NODE_CLASS="node",this.BUBBLE_CLASS="bubble",this.MIN_RADIUS=10,this.renderLabel(!0),this.data(p=>{const M=p.all();if(this._keyboardAccessible&&M.sort((A,V)=>ft.ascending(this.keyAccessor()(A),this.keyAccessor()(V))),this._sortBubbleSize){const A=this.radiusValueAccessor();M.sort((V,Pt)=>ft.descending(A(V),A(Pt)))}return M}),this._r=rt.scaleLinear().domain([0,100])}_rValueAccessor(p){return p.r}r(p){return arguments.length?(this._r=p,this):this._r}elasticRadius(p){return arguments.length?(this._elasticRadius=p,this):this._elasticRadius}calculateRadiusDomain(){this._elasticRadius&&this.r().domain([this.rMin(),this.rMax()])}radiusValueAccessor(p){return arguments.length?(this._rValueAccessor=p,this):this._rValueAccessor}rMin(){let p=this.data().map(this.radiusValueAccessor());return this._excludeElasticZero&&(p=p.filter(M=>M>0)),ft.min(p)}rMax(){return ft.max(this.data(),p=>this.radiusValueAccessor()(p))}bubbleR(p){const M=this.radiusValueAccessor()(p);let A=this.r()(M);return(isNaN(A)||M<=0)&&(A=0),A}_labelFunction(p){return this.label()(p)}_shouldLabel(p){return this.bubbleR(p)>this._minRadiusWithLabel}_labelOpacity(p){return this._shouldLabel(p)?1:0}_labelPointerEvent(p){return this._shouldLabel(p)?"all":"none"}_doRenderLabel(p){if(this.renderLabel()){let M=p.select("text");M.empty()&&(M=p.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",Nt.eventHandler(A=>this.onClick(A)))),M.attr("opacity",0).attr("pointer-events",A=>this._labelPointerEvent(A)).text(A=>this._labelFunction(A)),ui(M,this.transitionDuration(),this.transitionDelay()).attr("opacity",A=>this._labelOpacity(A))}}doUpdateLabels(p){if(this.renderLabel()){const M=p.select("text").attr("pointer-events",A=>this._labelPointerEvent(A)).text(A=>this._labelFunction(A));ui(M,this.transitionDuration(),this.transitionDelay()).attr("opacity",A=>this._labelOpacity(A))}}_titleFunction(p){return this.title()(p)}_doRenderTitles(p){this.renderTitle()&&p.select("title").empty()&&p.append("title").text(A=>this._titleFunction(A))}doUpdateTitles(p){this.renderTitle()&&p.select("title").text(M=>this._titleFunction(M))}sortBubbleSize(p){return arguments.length?(this._sortBubbleSize=p,this):this._sortBubbleSize}minRadius(p){return arguments.length?(this.MIN_RADIUS=p,this):this.MIN_RADIUS}minRadiusWithLabel(p){return arguments.length?(this._minRadiusWithLabel=p,this):this._minRadiusWithLabel}maxBubbleRelativeSize(p){return arguments.length?(this._maxBubbleRelativeSize=p,this):this._maxBubbleRelativeSize}excludeElasticZero(p){return arguments.length?(this._excludeElasticZero=p,this):this._excludeElasticZero}fadeDeselectedArea(p){if(this.hasFilter()){const M=this;this.selectAll(`g.${M.BUBBLE_NODE_CLASS}`).each(function(A){M.isSelectedNode(A)?M.highlightSelected(this):M.fadeDeselected(this)})}else{const M=this;this.selectAll(`g.${M.BUBBLE_NODE_CLASS}`).each(function(){M.resetHighlight(this)})}}isSelectedNode(p){return this.hasFilter(p.key)}onClick(p){const M=p.key;Ae.trigger(()=>{this.filter(M),this.redrawGroup()})}},je=xt=>class extends xt{constructor(){super(),this._cap=1/0,this._takeFront=!0,this._othersLabel="Others",this._othersGrouper=(p,M)=>{const A=ft.sum(M,this.valueAccessor()),V=M.map(this.keyAccessor());return A>0?p.concat([{others:V,key:this.othersLabel(),value:A}]):p},this.ordering(p=>-p.value),this.data(p=>{if(this._cap===1/0)return this._computeOrderedGroups(p.all());{let A,M=p.all();if(M=this._computeOrderedGroups(M),this._cap)if(this._takeFront)A=M.slice(this._cap),M=M.slice(0,this._cap);else{const V=Math.max(0,M.length-this._cap);A=M.slice(0,V),M=M.slice(V)}return this._othersGrouper?this._othersGrouper(M,A):M}})}cappedKeyAccessor(p,M){return p.others?p.key:this.keyAccessor()(p,M)}cappedValueAccessor(p,M){return p.others?p.value:this.valueAccessor()(p,M)}cap(p){return arguments.length?(this._cap=p,this):this._cap}takeFront(p){return arguments.length?(this._takeFront=p,this):this._takeFront}othersLabel(p){return arguments.length?(this._othersLabel=p,this):this._othersLabel}othersGrouper(p){return arguments.length?(this._othersGrouper=p,this):this._othersGrouper}onClick(p){p.others&&this.filter([p.others]),super.onClick(p)}};class or extends Re{constructor(){super(),this._margin={top:10,right:50,bottom:30,left:30}}margins(p){return arguments.length?(this._margin=p,this):this._margin}effectiveWidth(){return this.width()-this.margins().left-this.margins().right}effectiveHeight(){return this.height()-this.margins().top-this.margins().bottom}}const Cr="grid-line",go="horizontal",In="vertical",zs="y-axis-label",qa="x-axis-label",Ao="custom-brush-handle";class Yl extends(yi(or)){constructor(){super(),this.colors(rt.scaleOrdinal(B.schemeCategory10)),this._mandatoryAttributes().push("x"),this._parent=void 0,this._g=void 0,this._chartBodyG=void 0,this._x=void 0,this._origX=void 0,this._xOriginalDomain=void 0,this._xAxis=null,this._xUnits=vt.integers,this._xAxisPadding=0,this._xAxisPaddingUnit=pt.timeDay,this._xElasticity=!1,this._xAxisLabel=void 0,this._xAxisLabelPadding=0,this._lastXDomain=void 0,this._y=void 0,this._yAxis=null,this._yAxisPadding=0,this._yElasticity=!1,this._yAxisLabel=void 0,this._yAxisLabelPadding=0,this._brush=it.brushX(),this._gBrush=void 0,this._brushOn=!0,this._parentBrushOn=!1,this._round=void 0,this._ignoreBrushEvents=!1,this._renderHorizontalGridLine=!1,this._renderVerticalGridLine=!1,this._resizing=!1,this._unitCount=void 0,this._zoomScale=[1,1/0],this._zoomOutRestrict=!0,this._zoom=Z.zoom().on("zoom",Nt.eventHandler((p,M)=>this._onZoom(M))),this._nullZoom=Z.zoom().on("zoom",null),this._hasBeenMouseZoomable=!1,this._ignoreZoomEvents=!1,this._rangeChart=void 0,this._focusChart=void 0,this._mouseZoomable=!1,this._clipPadding=0,this._fOuterRangeBandPadding=.5,this._fRangeBandPadding=0,this._useRightYAxis=!1,this._useTopXAxis=!1}rescale(){return this._unitCount=void 0,this._resizing=!0,this}resizing(p){return arguments.length?(this._resizing=p,this):this._resizing}rangeChart(p){return arguments.length?(this._rangeChart=p,this._rangeChart.focusChart(this),this):this._rangeChart}zoomScale(p){return arguments.length?(this._zoomScale=p,this):this._zoomScale}zoomOutRestrict(p){return arguments.length?(this._zoomOutRestrict=p,this):this._zoomOutRestrict}_generateG(p){this._parent=void 0===p?this.svg():p;const M=window.location.href.split("#")[0];return this._g=this._parent.append("g"),this._chartBodyG=this._g.append("g").attr("class","chart-body").attr("transform",`translate(${this.margins().left}, ${this.margins().top})`).attr("clip-path",`url(${M}#${this._getClipPathId()})`),this._g}g(p){return arguments.length?(this._g=p,this):this._g}mouseZoomable(p){return arguments.length?(this._mouseZoomable=p,this):this._mouseZoomable}chartBodyG(p){return arguments.length?(this._chartBodyG=p,this):this._chartBodyG}x(p){return arguments.length?(this._x=p,this._xOriginalDomain=this._x.domain(),this.rescale(),this):this._x}xOriginalDomain(){return this._xOriginalDomain}xUnits(p){return arguments.length?(this._xUnits=p,this):this._xUnits}xAxis(p){return arguments.length?(this._xAxis=p,this):(this._xAxis||(this._xAxis=this._createXAxis()),this._xAxis)}elasticX(p){return arguments.length?(this._xElasticity=p,this):this._xElasticity}xAxisPadding(p){return arguments.length?(this._xAxisPadding=p,this):this._xAxisPadding}xAxisPaddingUnit(p){return arguments.length?(this._xAxisPaddingUnit=p,this):this._xAxisPaddingUnit}xUnitCount(){return void 0===this._unitCount&&(this.isOrdinal()?this._unitCount=this.x().domain().length:(this._unitCount=this.xUnits()(this.x().domain()[0],this.x().domain()[1]),this._unitCount instanceof Array&&(this._unitCount=this._unitCount.length))),this._unitCount}useRightYAxis(p){return arguments.length?(this._useRightYAxis!==p&&this._yAxis&&Ft.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),this._useRightYAxis=p,this):this._useRightYAxis}useTopXAxis(p){return arguments.length?(this._useTopXAxis!==p&&this._xAxis&&Ft.warn("Value of useTopXAxis has been altered, after xAxis was created. You might get unexpected yAxis behavior. Make calls to useTopXAxis sooner in your chart creation process."),this._useTopXAxis=p,this):this._useTopXAxis}isOrdinal(){return this.xUnits()===vt.ordinal}_useOuterPadding(){return!0}_ordinalXDomain(){return this._computeOrderedGroups(this.data()).map(this.keyAccessor())}_createXAxis(){return this._useTopXAxis?q.axisTop():q.axisBottom()}_prepareXAxis(p,M){this.isOrdinal()?(this._x.bandwidth||(Ft.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),this._x=rt.scaleBand().domain(this._x.domain())),(this.elasticX()||0===this._x.domain().length)&&this._x.domain(this._ordinalXDomain())):this.elasticX()&&this._x.domain([this.xAxisMin(),this.xAxisMax()]);const A=this._x.domain();(M||!Jt.arraysEqual(this._lastXDomain,A))&&this.rescale(),this._lastXDomain=A,this.isOrdinal()?this._x.range([0,this.xAxisLength()]).paddingInner(this._fRangeBandPadding).paddingOuter(this._useOuterPadding()?this._fOuterRangeBandPadding:0):this._x.range([0,this.xAxisLength()]),this._xAxis||(this._xAxis=this._createXAxis()),this._xAxis=this._xAxis.scale(this.x()),this._renderVerticalGridLines(p)}renderXAxis(p){let M=p.select("g.x");M.empty()&&(M=p.append("g").attr("class","axis x").attr("transform",`translate(${this.margins().left},${this._xAxisY()})`));let A=p.select(`text.${qa}`);const V=this._useTopXAxis?this._xAxisLabelPadding:this.height()-this._xAxisLabelPadding;A.empty()&&this.xAxisLabel()&&(A=p.append("text").attr("class",qa).attr("transform",`translate(${this.margins().left+this.xAxisLength()/2},${V})`).attr("text-anchor","middle")),this.xAxisLabel()&&A.text()!==this.xAxisLabel()&&A.text(this.xAxisLabel()),ui(M,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.margins().left},${this._xAxisY()})`).call(this._xAxis),ui(A,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.margins().left+this.xAxisLength()/2},${V})`)}_renderVerticalGridLines(p){let M=p.select(`g.${In}`);if(this._renderVerticalGridLine){M.empty()&&(M=p.insert("g",":first-child").attr("class",`${Cr} ${In}`).attr("transform",`translate(${this.margins().left},${this.margins().top})`));const A=this._xAxis.tickValues()?this._xAxis.tickValues():"function"==typeof this._x.ticks?this._x.ticks.apply(this._x,this._xAxis.tickArguments()):this._x.domain(),V=M.selectAll("line").data(A),Pt=V.enter().append("line").attr("x1",wt=>this._x(wt)).attr("y1",this._xAxisY()-this.margins().top).attr("x2",wt=>this._x(wt)).attr("y2",0).attr("opacity",0);ui(Pt,this.transitionDuration(),this.transitionDelay()).attr("opacity",.5),ui(V,this.transitionDuration(),this.transitionDelay()).attr("x1",wt=>this._x(wt)).attr("y1",this._xAxisY()-this.margins().top).attr("x2",wt=>this._x(wt)).attr("y2",0),V.exit().remove()}else M.selectAll("line").remove()}_xAxisY(){return this._useTopXAxis?this.margins().top:this.height()-this.margins().bottom}xAxisLength(){return this.effectiveWidth()}xAxisLabel(p,M){return arguments.length?(this._xAxisLabel=p,this.margins().bottom-=this._xAxisLabelPadding,this._xAxisLabelPadding=void 0===M?12:M,this.margins().bottom+=this._xAxisLabelPadding,this):this._xAxisLabel}_createYAxis(){return this._useRightYAxis?q.axisRight():q.axisLeft()}_prepareYAxis(p){if(void 0===this._y||this.elasticY()){void 0===this._y&&(this._y=rt.scaleLinear());const M=this.yAxisMin()||0,A=this.yAxisMax()||0;this._y.domain([M,A]).rangeRound([this.yAxisHeight(),0])}this._y.range([this.yAxisHeight(),0]),this._yAxis||(this._yAxis=this._createYAxis()),this._yAxis.scale(this._y),this._renderHorizontalGridLinesForAxis(p,this._y,this._yAxis)}renderYAxisLabel(p,M,A,V){V=V||this._yAxisLabelPadding;let Pt=this.g().select(`text.${zs}.${p}-label`);const wt=this.margins().top+this.yAxisHeight()/2;Pt.empty()&&M&&(Pt=this.g().append("text").attr("transform",`translate(${V},${wt}),rotate(${A})`).attr("class",`${zs} ${p}-label`).attr("text-anchor","middle").text(M)),M&&Pt.text()!==M&&Pt.text(M),ui(Pt,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${V},${wt}),rotate(${A})`)}renderYAxisAt(p,M,A){let V=this.g().select(`g.${p}`);V.empty()&&(V=this.g().append("g").attr("class",`axis ${p}`).attr("transform",`translate(${A},${this.margins().top})`)),ui(V,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${A},${this.margins().top})`).call(M)}renderYAxis(){const p=this._useRightYAxis?this.width()-this.margins().right:this._yAxisX();this.renderYAxisAt("y",this._yAxis,p);const M=this._useRightYAxis?this.width()-this._yAxisLabelPadding:this._yAxisLabelPadding,A=this._useRightYAxis?90:-90;this.renderYAxisLabel("y",this.yAxisLabel(),A,M)}_renderHorizontalGridLinesForAxis(p,M,A){let V=p.select(`g.${go}`);if(this._renderHorizontalGridLine){const Pt=A.tickValues()?A.tickValues():M.ticks?M.ticks.apply(M,A.tickArguments()):M.domain();V.empty()&&(V=p.insert("g",":first-child").attr("class",`${Cr} ${go}`).attr("transform",`translate(${this.margins().left},${this.margins().top})`));const wt=V.selectAll("line").data(Pt),Ye=wt.enter().append("line").attr("x1",1).attr("y1",bi=>M(bi)).attr("x2",this.xAxisLength()).attr("y2",bi=>M(bi)).attr("opacity",0);ui(Ye,this.transitionDuration(),this.transitionDelay()).attr("opacity",.5),ui(wt,this.transitionDuration(),this.transitionDelay()).attr("x1",1).attr("y1",bi=>M(bi)).attr("x2",this.xAxisLength()).attr("y2",bi=>M(bi)),wt.exit().remove()}else V.selectAll("line").remove()}_yAxisX(){return this.useRightYAxis()?this.width()-this.margins().right:this.margins().left}yAxisLabel(p,M){return arguments.length?(this._yAxisLabel=p,this.margins().left-=this._yAxisLabelPadding,this._yAxisLabelPadding=void 0===M?12:M,this.margins().left+=this._yAxisLabelPadding,this):this._yAxisLabel}y(p){return arguments.length?(this._y=p,this.rescale(),this):this._y}yAxis(p){return arguments.length?(this._yAxis=p,this):(this._yAxis||(this._yAxis=this._createYAxis()),this._yAxis)}elasticY(p){return arguments.length?(this._yElasticity=p,this):this._yElasticity}renderHorizontalGridLines(p){return arguments.length?(this._renderHorizontalGridLine=p,this):this._renderHorizontalGridLine}renderVerticalGridLines(p){return arguments.length?(this._renderVerticalGridLine=p,this):this._renderVerticalGridLine}xAxisMin(){const p=ft.min(this.data(),M=>this.keyAccessor()(M));return Jt.subtract(p,this._xAxisPadding,this._xAxisPaddingUnit)}xAxisMax(){const p=ft.max(this.data(),M=>this.keyAccessor()(M));return Jt.add(p,this._xAxisPadding,this._xAxisPaddingUnit)}yAxisMin(){const p=ft.min(this.data(),M=>this.valueAccessor()(M));return Jt.subtract(p,this._yAxisPadding)}yAxisMax(){const p=ft.max(this.data(),M=>this.valueAccessor()(M));return Jt.add(p,this._yAxisPadding)}yAxisPadding(p){return arguments.length?(this._yAxisPadding=p,this):this._yAxisPadding}yAxisHeight(){return this.effectiveHeight()}round(p){return arguments.length?(this._round=p,this):this._round}_rangeBandPadding(p){return arguments.length?(this._fRangeBandPadding=p,this):this._fRangeBandPadding}_outerRangeBandPadding(p){return arguments.length?(this._fOuterRangeBandPadding=p,this):this._fOuterRangeBandPadding}filter(p){return arguments.length?(super.filter(p),this.redrawBrush(p,!1),this):super.filter()}brush(p){return arguments.length?(this._brush=p,this):this._brush}renderBrush(p,M){this._brushOn&&(this._brush.on("start brush end",Nt.eventHandler((A,V)=>this._brushing(V))),this._gBrush=p.append("g").attr("class","brush").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this.setBrushExtents(),this.createBrushHandlePaths(this._gBrush,M),this.redrawBrush(this.filter(),M))}createBrushHandlePaths(p){let M=p.selectAll(`path.${Ao}`).data([{type:"w"},{type:"e"}]);M=M.enter().append("path").attr("class",Ao).merge(M),M.attr("d",A=>this.resizeHandlePath(A))}extendBrush(p){return p&&this.round()&&(p[0]=this.round()(p[0]),p[1]=this.round()(p[1])),p}brushIsEmpty(p){return!p||p[1]<=p[0]}_brushing(p){if(this._ignoreBrushEvents)return;let M=p.selection;M&&(M=M.map(this.x().invert)),M=this.extendBrush(M),this.redrawBrush(M,!1);const A=this.brushIsEmpty(M)?null:_r.RangedFilter(M[0],M[1]);Ae.trigger(()=>{this.applyBrushSelection(A)},_e.EVENT_DELAY)}applyBrushSelection(p){this.replaceFilter(p),this.redrawGroup()}_withoutBrushEvents(p){const M=this._ignoreBrushEvents;this._ignoreBrushEvents=!0;try{p()}finally{this._ignoreBrushEvents=M}}setBrushExtents(p){this._withoutBrushEvents(()=>{this._brush.extent([[0,0],[this.effectiveWidth(),this.effectiveHeight()]])}),this._gBrush.call(this._brush)}redrawBrush(p,M){if(this._brushOn&&this._gBrush)if(this._resizing&&this.setBrushExtents(M),p){const A=[this._x(p[0]),this._x(p[1])],V=$n(M,this.transitionDuration(),this.transitionDelay())(this._gBrush);this._withoutBrushEvents(()=>{V.call(this._brush.move,A)}),V.selectAll(`path.${Ao}`).attr("display",null).attr("transform",(Pt,wt)=>`translate(${this._x(p[wt])}, 0)`).attr("d",Pt=>this.resizeHandlePath(Pt))}else this._withoutBrushEvents(()=>{this._gBrush.call(this._brush.move,null)}),this._gBrush.selectAll(`path.${Ao}`).attr("display","none");this.fadeDeselectedArea(p)}fadeDeselectedArea(p){}resizeHandlePath(p){const M=+("e"===(p=p.type)),A=M?1:-1,V=this.effectiveHeight()/3;return`M${.5*A},${V}A6,6 0 0 ${M} ${6.5*A},${V+6}V${2*V-6}A6,6 0 0 ${M} ${.5*A},${2*V}ZM${2.5*A},${V+8}V${2*V-8}M${4.5*A},${V+8}V${2*V-8}`}_getClipPathId(){return`${this.anchorName().replace(/[ .#=\[\]"]/g,"-")}-clip`}clipPadding(p){return arguments.length?(this._clipPadding=p,this):this._clipPadding}_generateClipPath(){const p=Jt.appendOrSelect(this._parent,"defs"),M=this._getClipPathId(),A=Jt.appendOrSelect(p,`#${M}`,"clipPath").attr("id",M),V=2*this._clipPadding;Jt.appendOrSelect(A,"rect").attr("width",this.xAxisLength()+V).attr("height",this.yAxisHeight()+V).attr("transform",`translate(-${this._clipPadding}, -${this._clipPadding})`)}_preprocessData(){}_doRender(){return this.resetSvg(),this._preprocessData(),this._generateG(),this._generateClipPath(),this._drawChart(!0),this._configureMouseZoom(),this}_doRedraw(){return this._preprocessData(),this._drawChart(!1),this._generateClipPath(),this}_drawChart(p){this.isOrdinal()&&(this._brushOn=!1),this._prepareXAxis(this.g(),p),this._prepareYAxis(this.g()),this.plotData(),(this.elasticX()||this._resizing||p)&&this.renderXAxis(this.g()),(this.elasticY()||this._resizing||p)&&this.renderYAxis(this.g()),p?this.renderBrush(this.g(),!1):this.redrawBrush(this.filter(),this._resizing),this.fadeDeselectedArea(this.filter()),this.resizing(!1)}_configureMouseZoom(){this._origX=this._x.copy(),this._mouseZoomable?this._enableMouseZoom():this._hasBeenMouseZoomable&&this._disableMouseZoom()}_enableMouseZoom(){this._hasBeenMouseZoomable=!0;const p=[[0,0],[this.effectiveWidth(),this.effectiveHeight()]];if(this._zoom.scaleExtent(this._zoomScale).extent(p).duration(this.transitionDuration()),this._zoomOutRestrict){const M=Math.max(this._zoomScale[0],1);this._zoom.translateExtent(p).scaleExtent([M,this._zoomScale[1]])}this.root().call(this._zoom),this._updateD3zoomTransform()}_disableMouseZoom(){this.root().call(this._nullZoom)}_zoomHandler(p,M){let A;this._hasRangeSelected(p)?(this.x().domain(p),A=_r.RangedFilter(p[0],p[1])):(this.x().domain(this._xOriginalDomain),A=null),this.replaceFilter(A),this.rescale(),this.redraw(),M||(this._rangeChart&&!Jt.arraysEqual(this.filter(),this._rangeChart.filter())&&Ae.trigger(()=>{this._rangeChart.replaceFilter(A),this._rangeChart.redraw()}),this._invokeZoomedListener(),Ae.trigger(()=>{this.redrawGroup()},_e.EVENT_DELAY))}_domainToZoomTransform(p,M,A){const V=(M[1]-M[0])/(p[1]-p[0]),Pt=-1*A(p[0]);return Z.zoomIdentity.scale(V).translate(Pt,0)}_updateD3zoomTransform(){this._zoom&&this._withoutZoomEvents(()=>{this._zoom.transform(this.root(),this._domainToZoomTransform(this.x().domain(),this._xOriginalDomain,this._origX))})}_withoutZoomEvents(p){const M=this._ignoreZoomEvents;this._ignoreZoomEvents=!0;try{p()}finally{this._ignoreZoomEvents=M}}_onZoom(p){if(this._ignoreZoomEvents)return;const M=p.transform.rescaleX(this._origX).domain();this.focus(M,!1)}_checkExtents(p,M){return p&&2===p.length&&M&&2===M.length?((p[0]>M[1]||p[1]<M[0])&&console.warn("Could not intersect extents, will reset"),[p[0]>M[0]?p[0]:M[0],p[1]<M[1]?p[1]:M[1]]):p}focus(p,M){this._zoomOutRestrict&&(p=this._checkExtents(p,this._xOriginalDomain),this._rangeChart&&(p=this._checkExtents(p,this._rangeChart.x().domain()))),this._zoomHandler(p,M),this._updateD3zoomTransform()}refocused(){return!Jt.arraysEqual(this.x().domain(),this._xOriginalDomain)}focusChart(p){return arguments.length?(this._focusChart=p,this.on("filtered.dcjs-range-chart",M=>{M.filter()?Jt.arraysEqual(M.filter(),this._focusChart.filter())||Ae.trigger(()=>{this._focusChart.focus(M.filter(),!0)}):Ae.trigger(()=>{this._focusChart.x().domain(this._focusChart.xOriginalDomain(),!0)})}),this):this._focusChart}brushOn(p){return arguments.length?(this._brushOn=p,this):this._brushOn}parentBrushOn(p){return arguments.length?(this._parentBrushOn=p,this):this._parentBrushOn}gBrush(){return this._gBrush}_hasRangeSelected(p){return p instanceof Array&&p.length>1}}const ad=function(){let xt=1,p=1,M=0;let V=null,Pt=Number,wt=ou,Ye=Tc,bi=null,Kn=!1;let Vs=.3,_n=.8,Hs=!1,Qn=!0,fr=!1;function On(Ri){Ri.each(function(Hr,uu){Hr=Hr.map(Pt).sort(ft.ascending);const Aa=ot.select(this),Xl=Hr.length;let Ka,cd;if(0===Xl)return;const xm=Hr.quartiles=Ye(Hr),vl=wt&&wt.call(this,Hr,uu),hu=vl&&vl.map(ln=>Hr[ln]),sv=vl?ft.range(0,vl[0]).concat(ft.range(vl[1]+1,Xl)):ft.range(Xl);Qn?(Ka=Hr[0],cd=Hr[Xl-1]):(Ka=Hr[vl[0]],cd=Hr[vl[1]]);const ov=ft.range(vl[0],vl[1]+1),Cn=rt.scaleLinear().domain(V&&V.call(this,Hr,uu)||[Ka,cd]).range([p,0]),Po=this.__chart__||rt.scaleLinear().domain([0,1/0]).range(Cn.range());this.__chart__=Cn;const wm=Aa.selectAll("line.center").data(hu?[hu]:[]);wm.enter().insert("line","rect").attr("class","center").attr("x1",xt/2).attr("y1",ln=>Po(ln[0])).attr("x2",xt/2).attr("y2",ln=>Po(ln[1])).style("opacity",1e-6).transition().duration(M).delay(0).style("opacity",1).attr("y1",ln=>Cn(ln[0])).attr("y2",ln=>Cn(ln[1])),wm.transition().duration(M).delay(0).style("opacity",1).attr("x1",xt/2).attr("x2",xt/2).attr("y1",ln=>Cn(ln[0])).attr("y2",ln=>Cn(ln[1])),wm.exit().transition().duration(M).delay(0).style("opacity",1e-6).attr("y1",ln=>Cn(ln[0])).attr("y2",ln=>Cn(ln[1])).remove();const av=Aa.selectAll("rect.box").data([xm]);av.enter().append("rect").attr("class","box").attr("x",0).attr("y",ln=>Po(ln[2])).attr("width",xt).attr("height",ln=>Po(ln[0])-Po(ln[2])).style("fill-opacity",Kn?.1:1).transition().duration(M).delay(0).attr("y",ln=>Cn(ln[2])).attr("height",ln=>Cn(ln[0])-Cn(ln[2])),av.transition().duration(M).delay(0).attr("width",xt).attr("y",ln=>Cn(ln[2])).attr("height",ln=>Cn(ln[0])-Cn(ln[2]));const r_=Aa.selectAll("line.median").data([xm[1]]);r_.enter().append("line").attr("class","median").attr("x1",0).attr("y1",Po).attr("x2",xt).attr("y2",Po).transition().duration(M).delay(0).attr("y1",Cn).attr("y2",Cn),r_.transition().duration(M).delay(0).attr("x1",0).attr("x2",xt).attr("y1",Cn).attr("y2",Cn);const Kl=Aa.selectAll("line.whisker").data(hu||[]);if(Kl.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",Po).attr("x2",xt).attr("y2",Po).style("opacity",1e-6).transition().duration(M).delay(0).attr("y1",Cn).attr("y2",Cn).style("opacity",1),Kl.transition().duration(M).delay(0).attr("x1",0).attr("x2",xt).attr("y1",Cn).attr("y2",Cn).style("opacity",1),Kl.exit().transition().duration(M).delay(0).attr("y1",Cn).attr("y2",Cn).style("opacity",1e-6).remove(),Qn){const ln=fr?"outlierBold":"outlier",Us=fr?3:5,Em=fr?function(){return Math.floor(Math.random()*(xt*_n)+1+(xt-xt*_n)/2)}:function(){return xt/2},fu=Aa.selectAll(`circle.${ln}`).data(sv,Number);fu.enter().insert("circle","text").attr("class",ln).attr("r",Us).attr("cx",Em).attr("cy",Ic=>Po(Hr[Ic])).style("opacity",1e-6).transition().duration(M).delay(0).attr("cy",Ic=>Cn(Hr[Ic])).style("opacity",.6),Hs&&(fu.selectAll("title").remove(),fu.append("title").text(Ic=>Hr[Ic])),fu.transition().duration(M).delay(0).attr("cx",Em).attr("cy",Ic=>Cn(Hr[Ic])).style("opacity",.6),fu.exit().transition().duration(M).delay(0).attr("cy",0).style("opacity",1e-6).remove()}if(Kn){const ln=Aa.selectAll("circle.data").data(ov);ln.enter().insert("circle","text").attr("class","data").attr("r",3).attr("cx",()=>Math.floor(Math.random()*(xt*_n)+1+(xt-xt*_n)/2)).attr("cy",Us=>Po(Hr[Us])).style("opacity",1e-6).transition().duration(M).delay(0).attr("cy",Us=>Cn(Hr[Us])).style("opacity",Vs),Hs&&(ln.selectAll("title").remove(),ln.append("title").text(Us=>Hr[Us])),ln.transition().duration(M).delay(0).attr("cx",()=>Math.floor(Math.random()*(xt*_n)+1+(xt-xt*_n)/2)).attr("cy",Us=>Cn(Hr[Us])).style("opacity",Vs),ln.exit().transition().duration(M).delay(0).attr("cy",0).style("opacity",1e-6).remove()}const Cm=bi||Cn.tickFormat(8),Oa=Aa.selectAll("text.box").data(xm);Oa.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",(ln,Us)=>1&Us?6:-6).attr("x",(ln,Us)=>1&Us?xt:0).attr("y",Po).attr("text-anchor",(ln,Us)=>1&Us?"start":"end").text(Cm).transition().duration(M).delay(0).attr("y",Cn),Oa.transition().duration(M).delay(0).text(Cm).attr("x",(ln,Us)=>1&Us?xt:0).attr("y",Cn);const s_=Aa.selectAll("text.whisker").data(hu||[]);s_.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",xt).attr("y",Po).text(Cm).style("opacity",1e-6).transition().duration(M).delay(0).attr("y",Cn).style("opacity",1),s_.transition().duration(M).delay(0).text(Cm).attr("x",xt).attr("y",Cn).style("opacity",1),s_.exit().transition().duration(M).delay(0).attr("y",Cn).style("opacity",1e-6).remove(),delete Hr.quartiles}),et.timerFlush()}return On.width=function(Ri){return arguments.length?(xt=Ri,On):xt},On.height=function(Ri){return arguments.length?(p=Ri,On):p},On.tickFormat=function(Ri){return arguments.length?(bi=Ri,On):bi},On.showOutliers=function(Ri){return arguments.length?(Qn=Ri,On):Qn},On.boldOutlier=function(Ri){return arguments.length?(fr=Ri,On):fr},On.renderDataPoints=function(Ri){return arguments.length?(Kn=Ri,On):Kn},On.renderTitle=function(Ri){return arguments.length?(Hs=Ri,On):Hs},On.dataOpacity=function(Ri){return arguments.length?(Vs=Ri,On):Vs},On.dataWidthPortion=function(Ri){return arguments.length?(_n=Ri,On):_n},On.duration=function(Ri){return arguments.length?(M=Ri,On):M},On.domain=function(Ri){return arguments.length?(V=null===Ri||"function"==typeof Ri?Ri:Jt.constant(Ri),On):V},On.value=function(Ri){return arguments.length?(Pt=Ri,On):Pt},On.whiskers=function(Ri){return arguments.length?(wt=Ri,On):wt},On.quartiles=function(Ri){return arguments.length?(Ye=Ri,On):Ye},On};function ou(xt){return[0,xt.length-1]}function Tc(xt){return[ft.quantile(xt,.25),ft.quantile(xt,.5),ft.quantile(xt,.75)]}class Hn extends Yl{constructor(){super(),this._stackLayout=$.stack(),this._stack=[],this._titles={},this._hidableStacks=!1,this._evadeDomainFilter=!1,this.data(()=>{const p=this._stack.filter(this._visibility);if(!p.length)return[];p.forEach((Pt,wt)=>this._prepareValues(Pt,wt));const M=p[0].values.map((Pt,wt)=>{const Ye={x:Pt.x};return p.forEach(bi=>{Ye[bi.name]=bi.values[wt].y}),Ye}),A=p.map(Pt=>Pt.name);return this.stackLayout().keys(A)(M).forEach((Pt,wt)=>{Pt.forEach((Ye,bi)=>{p[wt].values[bi].y0=Ye[0],p[wt].values[bi].y1=Ye[1]})}),p}),this.colorAccessor(function(p){return this.layer||this.name||p.name||p.layer})}_prepareValues(p,M){const A=p.accessor||this.valueAccessor();p.name=String(p.name||M);const V=p.group.all().map((Pt,wt)=>({x:this.keyAccessor()(Pt,wt),y:p.hidden?null:A(Pt,wt),data:Pt,layer:p.name,hidden:p.hidden}));p.domainValues=V.filter(Pt=>this._domainFilter()(Pt)),p.values=this.evadeDomainFilter()?V:p.domainValues}_domainFilter(){if(!this.x())return Jt.constant(!0);const p=this.x().domain();return this.isOrdinal()||this.elasticX()?()=>!0:M=>M.x>=p[0]&&M.x<=p[p.length-1]}stack(p,M,A){if(!arguments.length)return this._stack;arguments.length<=2&&(A=M);const V={group:p};return"string"==typeof M&&(V.name=M),"function"==typeof A&&(V.accessor=A),this._stack.push(V),this}group(p,M,A){return arguments.length?(this._stack=[],this._titles={},this.stack(p,M),A&&this.valueAccessor(A),super.group(p,M)):super.group()}hidableStacks(p){return arguments.length?(this._hidableStacks=p,this):this._hidableStacks}_findLayerByName(p){const M=this._stack.map(K("name")).indexOf(p);return this._stack[M]}hideStack(p){const M=this._findLayerByName(p);return M&&(M.hidden=!0),this}showStack(p){const M=this._findLayerByName(p);return M&&(M.hidden=!1),this}getValueAccessorByIndex(p){return this._stack[p].accessor||this.valueAccessor()}yAxisMin(){const p=ft.min(this._flattenStack(),M=>M.y<0?M.y+M.y0:M.y0);return Jt.subtract(p,this.yAxisPadding())}yAxisMax(){const p=ft.max(this._flattenStack(),M=>M.y>0?M.y+M.y0:M.y0);return Jt.add(p,this.yAxisPadding())}_flattenStack(){const p=this.data().map(M=>M.domainValues);return[].concat(...p)}xAxisMin(){const p=ft.min(this._flattenStack(),K("x"));return Jt.subtract(p,this.xAxisPadding(),this.xAxisPaddingUnit())}xAxisMax(){const p=ft.max(this._flattenStack(),K("x"));return Jt.add(p,this.xAxisPadding(),this.xAxisPaddingUnit())}title(p,M){return p?"function"==typeof p?super.title(p):p===this._groupName&&"function"==typeof M?super.title(M):"function"!=typeof M?this._titles[p]||super.title():(this._titles[p]=M,this):super.title()}stackLayout(p){return arguments.length?(this._stackLayout=p,this):this._stackLayout}evadeDomainFilter(p){return arguments.length?(this._evadeDomainFilter=p,this):this._evadeDomainFilter}_visibility(p){return!p.hidden}_ordinalXDomain(){const p=this._flattenStack().map(K("data"));return this._computeOrderedGroups(p).map(this.keyAccessor())}legendables(){return this._stack.map((p,M)=>({chart:this,name:p.name,hidden:p.hidden||!1,color:this.getColor.call(p,p.values,M)}))}isLegendableHidden(p){const M=this._findLayerByName(p.name);return!!M&&M.hidden}legendToggle(p){this._hidableStacks&&(this.isLegendableHidden(p)?this.showStack(p.name):this.hideStack(p.name),this.renderGroup())}}class Zb extends Hn{constructor(p,M){super(),this._gap=2,this._centerBar=!1,this._alwaysUseRounding=!1,this._barWidth=void 0,this.label(A=>Jt.printSingleValue(A.y0+A.y),!1),this.anchor(p,M)}outerPadding(p){return arguments.length?this._outerRangeBandPadding(p):this._outerRangeBandPadding()}rescale(){return super.rescale(),this._barWidth=void 0,this}render(){return this.round()&&this._centerBar&&!this._alwaysUseRounding&&Ft.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),super.render()}plotData(){let p=this.chartBodyG().selectAll("g.stack").data(this.data());this._calculateBarWidth(),p=p.enter().append("g").attr("class",(A,V)=>`stack _${V}`).merge(p);const M=p.size()-1;{const A=this;p.each(function(V,Pt){const wt=ot.select(this);A._renderBars(wt,Pt,V),A.renderLabel()&&M===Pt&&A._renderLabels(wt,Pt,V)})}}_barHeight(p){return Jt.safeNumber(Math.abs(this.y()(p.y+p.y0)-this.y()(p.y0)))}_labelXPos(p){let M=this.x()(p.x);return this._centerBar||(M+=this._barWidth/2),this.isOrdinal()&&void 0!==this._gap&&(M+=this._gap/2),Jt.safeNumber(M)}_labelYPos(p){let M=this.y()(p.y+p.y0);return p.y<0&&(M-=this._barHeight(p)),Jt.safeNumber(M-3)}_renderLabels(p,M,A){const V=p.selectAll("text.barLabel").data(A.values,K("x")),Pt=V.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",wt=>this._labelXPos(wt)).attr("y",wt=>this._labelYPos(wt)).merge(V);this.isOrdinal()&&(Pt.on("click",Nt.eventHandler(wt=>this.onClick(wt))),Pt.attr("cursor","pointer")),ui(Pt,this.transitionDuration(),this.transitionDelay()).attr("x",wt=>this._labelXPos(wt)).attr("y",wt=>this._labelYPos(wt)).text(wt=>this.label()(wt)),ui(V.exit(),this.transitionDuration(),this.transitionDelay()).attr("height",0).remove()}_barXPos(p){let M=this.x()(p.x);return this._centerBar&&(M-=this._barWidth/2),this.isOrdinal()&&void 0!==this._gap&&(M+=this._gap/2),Jt.safeNumber(M)}_renderBars(p,M,A){const V=p.selectAll("rect.bar").data(A.values,K("x")),Pt=V.enter().append("rect").attr("class","bar").classed("dc-tabbable",this._keyboardAccessible).attr("fill",K("data",this.getColor)).attr("x",Ye=>this._barXPos(Ye)).attr("y",this.yAxisHeight()).attr("height",0),wt=Pt.merge(V);this.renderTitle()&&Pt.append("title").text(K("data",this.title(A.name))),this.isOrdinal()&&wt.on("click",Nt.eventHandler(Ye=>this.onClick(Ye))),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),ui(wt,this.transitionDuration(),this.transitionDelay()).attr("x",Ye=>this._barXPos(Ye)).attr("y",Ye=>{let bi=this.y()(Ye.y+Ye.y0);return Ye.y<0&&(bi-=this._barHeight(Ye)),Jt.safeNumber(bi)}).attr("width",this._barWidth).attr("height",Ye=>this._barHeight(Ye)).attr("fill",K("data",this.getColor)).select("title").text(K("data",this.title(A.name))),ui(V.exit(),this.transitionDuration(),this.transitionDelay()).attr("x",Ye=>this.x()(Ye.x)).attr("width",.9*this._barWidth).remove()}_calculateBarWidth(){if(void 0===this._barWidth){const p=this.xUnitCount();this._barWidth=this.isOrdinal()&&void 0===this._gap?Math.floor(this.x().bandwidth()):this._gap?Math.floor((this.xAxisLength()-(p-1)*this._gap)/p):Math.floor(this.xAxisLength()/(1+this.barPadding())/p),(this._barWidth===1/0||isNaN(this._barWidth)||this._barWidth<1)&&(this._barWidth=1)}}fadeDeselectedArea(p){const M=this.chartBodyG().selectAll("rect.bar");if(this.isOrdinal())this.hasFilter()?(M.classed(_e.SELECTED_CLASS,A=>this.hasFilter(A.x)),M.classed(_e.DESELECTED_CLASS,A=>!this.hasFilter(A.x))):(M.classed(_e.SELECTED_CLASS,!1),M.classed(_e.DESELECTED_CLASS,!1));else if(this.brushOn()||this.parentBrushOn())if(this.brushIsEmpty(p))M.classed(_e.DESELECTED_CLASS,!1);else{const A=p[0],V=p[1];M.classed(_e.DESELECTED_CLASS,Pt=>Pt.x<A||Pt.x>=V)}}centerBar(p){return arguments.length?(this._centerBar=p,this):this._centerBar}onClick(p){super.onClick(p.data)}barPadding(p){return arguments.length?(this._rangeBandPadding(p),this._gap=void 0,this):this._rangeBandPadding()}_useOuterPadding(){return void 0===this._gap}gap(p){return arguments.length?(this._gap=p,this):this._gap}extendBrush(p){return p&&this.round()&&(!this._centerBar||this._alwaysUseRounding)&&(p[0]=this.round()(p[0]),p[1]=this.round()(p[1])),p}alwaysUseRounding(p){return arguments.length?(this._alwaysUseRounding=p,this):this._alwaysUseRounding}legendHighlight(p){const M=(A,V)=>function(){const wt=ot.select(this).attr("fill")===A;return V?!wt:wt};this.isLegendableHidden(p)||this.g().selectAll("rect.bar").classed("highlight",M(p.color)).classed("fadeout",M(p.color,!0))}legendReset(){this.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)}xAxisMax(){let p=super.xAxisMax();return"resolution"in this.xUnits()&&(p+=this.xUnits().resolution),p}}function hr(xt){return p=>{const M=p.quartiles[0],A=p.quartiles[2],V=(A-M)*xt;let Pt=-1,wt=p.length;do{++Pt}while(p[Pt]<M-V);do{--wt}while(p[wt]>A+V);return[Pt,wt]}}class bh extends Yl{constructor(p,M){super(),this._whiskerIqrFactor=1.5,this._whiskersIqr=hr,this._whiskers=this._whiskersIqr(this._whiskerIqrFactor),this._box=ad(),this._tickFormat=null,this._renderDataPoints=!1,this._dataOpacity=.3,this._dataWidthPortion=.8,this._showOutliers=!0,this._boldOutlier=!1,this._yRangePadding=8,this._boxWidth=(A,V)=>this.isOrdinal()?this.x().bandwidth():A/(1+this.boxPadding())/V,this.x(rt.scaleBand()),this.xUnits(vt.ordinal),this.data(A=>A.all().map(V=>(V.map=Pt=>Pt.call(V,V),V)).filter(V=>0!==this.valueAccessor()(V).length)),this.boxPadding(.8),this.outerPadding(.5),this.anchor(p,M)}boxPadding(p){return arguments.length?this._rangeBandPadding(p):this._rangeBandPadding()}outerPadding(p){return arguments.length?this._outerRangeBandPadding(p):this._outerRangeBandPadding()}boxWidth(p){return arguments.length?(this._boxWidth="function"==typeof p?p:Jt.constant(p),this):this._boxWidth}_boxTransform(p,M){return`translate(${this.x()(this.keyAccessor()(p,M))}, 0)`}_preprocessData(){this.elasticX()&&this.x().domain([])}plotData(){this._calculatedBoxWidth=this._boxWidth(this.effectiveWidth(),this.xUnitCount()),this._box.whiskers(this._whiskers).width(this._calculatedBoxWidth).height(this.effectiveHeight()).value(this.valueAccessor()).domain(this.y().domain()).duration(this.transitionDuration()).tickFormat(this._tickFormat).renderDataPoints(this._renderDataPoints).dataOpacity(this._dataOpacity).dataWidthPortion(this._dataWidthPortion).renderTitle(this.renderTitle()).showOutliers(this._showOutliers).boldOutlier(this._boldOutlier);const p=this.chartBodyG().selectAll("g.box").data(this.data(),this.keyAccessor()),M=this._renderBoxes(p);this._updateBoxes(M),this._removeBoxes(p),this.fadeDeselectedArea(this.filter())}_renderBoxes(p){const M=p.enter().append("g");return M.attr("class","box").classed("dc-tabbable",this._keyboardAccessible).attr("transform",(A,V)=>this._boxTransform(A,V)).call(this._box).on("click",Nt.eventHandler(A=>{this.filter(this.keyAccessor()(A)),this.redrawGroup()})).selectAll("circle").classed("dc-tabbable",this._keyboardAccessible),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),M.merge(p)}_updateBoxes(p){const M=this;ui(p,this.transitionDuration(),this.transitionDelay()).attr("transform",(A,V)=>this._boxTransform(A,V)).call(this._box).each(function(A){const V=M.getColor(A,0);ot.select(this).select("rect.box").attr("fill",V),ot.select(this).selectAll("circle.data").attr("fill",V)})}_removeBoxes(p){p.exit().remove().call(this._box)}_minDataValue(){return ft.min(this.data(),p=>ft.min(this.valueAccessor()(p)))}_maxDataValue(){return ft.max(this.data(),p=>ft.max(this.valueAccessor()(p)))}_yAxisRangeRatio(){return(this._maxDataValue()-this._minDataValue())/this.effectiveHeight()}onClick(p){this.filter(this.keyAccessor()(p)),this.redrawGroup()}fadeDeselectedArea(p){const M=this;if(this.hasFilter())if(this.isOrdinal())this.g().selectAll("g.box").each(function(A){M.isSelectedNode(A)?M.highlightSelected(this):M.fadeDeselected(this)});else{if(!this.brushOn()&&!this.parentBrushOn())return;const A=p[0],V=p[1];this.g().selectAll("g.box").each(function(Pt){const wt=M.keyAccessor()(Pt);wt<A||wt>=V?M.fadeDeselected(this):M.highlightSelected(this)})}else this.g().selectAll("g.box").each(function(){M.resetHighlight(this)})}isSelectedNode(p){return this.hasFilter(this.keyAccessor()(p))}yAxisMin(){const p=this._yRangePadding*this._yAxisRangeRatio();return Jt.subtract(this._minDataValue()-p,this.yAxisPadding())}yAxisMax(){const p=this._yRangePadding*this._yAxisRangeRatio();return Jt.add(this._maxDataValue()+p,this.yAxisPadding())}tickFormat(p){return arguments.length?(this._tickFormat=p,this):this._tickFormat}yRangePadding(p){return arguments.length?(this._yRangePadding=p,this):this._yRangePadding}renderDataPoints(p){return arguments.length?(this._renderDataPoints=p,this):this._renderDataPoints}dataOpacity(p){return arguments.length?(this._dataOpacity=p,this):this._dataOpacity}dataWidthPortion(p){return arguments.length?(this._dataWidthPortion=p,this):this._dataWidthPortion}showOutliers(p){return arguments.length?(this._showOutliers=p,this):this._showOutliers}boldOutlier(p){return arguments.length?(this._boldOutlier=p,this):this._boldOutlier}}class au extends(ti(Yl)){constructor(p,M){super(),this.transitionDuration(750),this.transitionDelay(0),this.anchor(p,M)}_bubbleLocator(p){return`translate(${this._bubbleX(p)},${this._bubbleY(p)})`}plotData(){this.calculateRadiusDomain(),this.r().range([this.MIN_RADIUS,this.xAxisLength()*this.maxBubbleRelativeSize()]);const p=this.data();let M=this.chartBodyG().selectAll(`g.${this.BUBBLE_NODE_CLASS}`).data(p,A=>A.key);(this.sortBubbleSize()||this.keyboardAccessible())&&M.order(),this._removeNodes(M),M=this._renderNodes(M),this._updateNodes(M),this.fadeDeselectedArea(this.filter())}_renderNodes(p){const M=p.enter().append("g");return M.attr("class",this.BUBBLE_NODE_CLASS).attr("transform",A=>this._bubbleLocator(A)).append("circle").attr("class",(A,V)=>`${this.BUBBLE_CLASS} _${V}`).on("click",Nt.eventHandler(A=>this.onClick(A))).classed("dc-tabbable",this._keyboardAccessible).attr("fill",this.getColor).attr("r",0),p=M.merge(p),ui(p,this.transitionDuration(),this.transitionDelay()).select(`circle.${this.BUBBLE_CLASS}`).attr("r",A=>this.bubbleR(A)).attr("opacity",A=>this.bubbleR(A)>0?1:0),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),this._doRenderLabel(M),this._doRenderTitles(M),p}_updateNodes(p){ui(p,this.transitionDuration(),this.transitionDelay()).attr("transform",M=>this._bubbleLocator(M)).select(`circle.${this.BUBBLE_CLASS}`).attr("fill",this.getColor).attr("r",M=>this.bubbleR(M)).attr("opacity",M=>this.bubbleR(M)>0?1:0),this.doUpdateLabels(p),this.doUpdateTitles(p)}_removeNodes(p){p.exit().remove()}_bubbleX(p){let M=this.x()(this.keyAccessor()(p));return(isNaN(M)||!isFinite(M))&&(M=0),M}_bubbleY(p){let M=this.y()(this.valueAccessor()(p));return(isNaN(M)||!isFinite(M))&&(M=0),M}renderBrush(){}redrawBrush(p,M){this.fadeDeselectedArea(p)}}const An="bubble-overlay",Oo="bubble";class mm extends(ti(Re)){constructor(p,M){super(),this._g=void 0,this._points=[],this._keyboardAccessible=!1,this.transitionDuration(750),this.transitionDelay(0),this.radiusValueAccessor(A=>A.value),this.anchor(p,M)}point(p,M,A){return this._points.push({name:p,x:M,y:A}),this}_doRender(){return this._g=this._initOverlayG(),this.r().range([this.MIN_RADIUS,this.width()*this.maxBubbleRelativeSize()]),this._initializeBubbles(),this.fadeDeselectedArea(this.filter()),this}_initOverlayG(){return this._g=this.select(`g.${An}`),this._g.empty()&&(this._g=this.svg().append("g").attr("class",An)),this._g}_initializeBubbles(){const p=this._mapData();this.calculateRadiusDomain(),this._points.forEach(M=>{const A=this._getNodeG(M,p);let V=A.select(`circle.${Oo}`);V.empty()&&(V=A.append("circle").attr("class",Oo).classed("dc-tabbable",this._keyboardAccessible).attr("r",0).attr("fill",this.getColor).on("click",Nt.eventHandler(Pt=>this.onClick(Pt)))),this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick),ui(V,this.transitionDuration(),this.transitionDelay()).attr("r",Pt=>this.bubbleR(Pt)),this._doRenderLabel(A),this._doRenderTitles(A)})}_mapData(){const p={};return this.data().forEach(M=>{p[this.keyAccessor()(M)]=M}),p}_getNodeG(p,M){const A=`node ${Jt.nameToId(p.name)}`;let V=this._g.select(`g.${Jt.nameToId(p.name)}`);return V.empty()&&(V=this._g.append("g").attr("class",A).attr("transform",`translate(${p.x},${p.y})`)),V.datum(M[p.name]),V}_doRedraw(){return this._updateBubbles(),this.fadeDeselectedArea(this.filter()),this}_updateBubbles(){const p=this._mapData();this.calculateRadiusDomain(),this._points.forEach(M=>{const A=this._getNodeG(M,p),V=A.select(`circle.${Oo}`);ui(V,this.transitionDuration(),this.transitionDelay()).attr("r",Pt=>this.bubbleR(Pt)).attr("fill",this.getColor),this.doUpdateLabels(A),this.doUpdateTitles(A)})}debug(p){if(p){let M=this.select(`g.${_e.DEBUG_GROUP_CLASS}`);M.empty()&&(M=this.svg().append("g").attr("class",_e.DEBUG_GROUP_CLASS));const A=M.append("text").attr("x",10).attr("y",20);M.append("rect").attr("width",this.width()).attr("height",this.height()).on("mousemove",Nt.eventHandler((V,Pt)=>{const wt=Nt.pointer(Pt,M.node());A.text(`${wt[0]}, ${wt[1]}`)}))}else this.selectAll(".debug").remove();return this}}const Se="dc-cbox-item";class vh extends Re{constructor(p,M){super(),this._cbox=void 0,this._promptText="Select all",this._multiple=!1,this._inputType="radio",this._promptValue=null,this._uniqueId=Jt.uniqueId(),this.data(A=>A.all().filter(this._filterDisplayed)),this._filterDisplayed=A=>this.valueAccessor()(A)>0,this._order=(A,V)=>this.keyAccessor()(A)>this.keyAccessor()(V)?1:this.keyAccessor()(A)<this.keyAccessor()(V)?-1:0,this.anchor(p,M)}_doRender(){return this._doRedraw()}_doRedraw(){return this.select("ul").remove(),this._cbox=this.root().append("ul").classed("dc-cbox-group",!0),this._renderOptions(),this.hasFilter()&&this._multiple?this._cbox.selectAll("input").property("checked",p=>p&&this.filters().indexOf(String(this.keyAccessor()(p)))>=0||!1):this.hasFilter()&&this._cbox.selectAll("input").property("checked",p=>!!p&&this.keyAccessor()(p)===this.filter()),this}_renderOptions(){let p=this._cbox.selectAll(`li.${Se}`).data(this.data(),A=>this.keyAccessor()(A));p.exit().remove(),p=p.enter().append("li").classed(Se,!0).merge(p),p.append("input").attr("type",this._inputType).attr("value",A=>this.keyAccessor()(A)).attr("name",`domain_${this._uniqueId}`).attr("id",(A,V)=>`input_${this._uniqueId}_${V}`),p.append("label").attr("for",(A,V)=>`input_${this._uniqueId}_${V}`).text(this.title());const M=this;if(this._multiple)this._cbox.append("li").append("input").attr("type","reset").text(this._promptText).on("click",Nt.eventHandler(function(A,V){return M._onChange(A,V,this)}));else{const A=this._cbox.append("li");A.append("input").attr("type",this._inputType).attr("value",this._promptValue).attr("name",`domain_${this._uniqueId}`).attr("id",(V,Pt)=>`input_${this._uniqueId}_all`).property("checked",!0),A.append("label").attr("for",(V,Pt)=>`input_${this._uniqueId}_all`).text(this._promptText)}return this._cbox.selectAll(`li.${Se}`).sort(this._order),this._cbox.on("change",Nt.eventHandler(function(A,V){return M._onChange(A,V,this)})),p}_onChange(p,M,A){let V,wt;ot.select(M.target).datum()?(wt=ot.select(A).selectAll("input").filter(function(Ye){if(Ye)return this.checked}),V=wt.nodes().map(Ye=>Ye.value),!this._multiple&&1===V.length&&(V=V[0])):V=this._promptValue||null,this.onChange(V)}onChange(p){p&&this._multiple?this.replaceFilter([p]):p?this.replaceFilter(p):this.filterAll(),Ae.trigger(()=>{this.redrawGroup()})}order(p){return arguments.length?(this._order=p,this):this._order}promptText(p){return arguments.length?(this._promptText=p,this):this._promptText}filterDisplayed(p){return arguments.length?(this._filterDisplayed=p,this):this._filterDisplayed}multiple(p){return arguments.length?(this._multiple=p,this._inputType=this._multiple?"checkbox":"radio",this):this._multiple}promptValue(p){return arguments.length?(this._promptValue=p,this):this._promptValue}}class Xg extends Yl{constructor(p,M){super(),this._children=[],this._childOptions={},this._shareColors=!1,this._shareTitle=!0,this._alignYAxes=!1,this._rightYAxis=q.axisRight(),this._rightYAxisLabel=0,this._rightYAxisLabelPadding=12,this._rightY=void 0,this._rightAxisGridLines=!1,this._mandatoryAttributes([]),this.transitionDuration(500),this.transitionDelay(0),this.on("filtered.dcjs-composite-chart",A=>{for(let V=0;V<this._children.length;++V)this._children[V].replaceFilter(this.filter())}),this.anchor(p,M)}_generateG(){const p=super._generateG();for(let M=0;M<this._children.length;++M){const A=this._children[M];this._generateChildG(A,M),A.dimension()||A.dimension(this.dimension()),A.group()||A.group(this.group()),A.chartGroup(this.chartGroup()),A.svg(this.svg()),A.xUnits(this.xUnits()),A.transitionDuration(this.transitionDuration(),this.transitionDelay()),A.parentBrushOn(this.brushOn()),A.brushOn(!1),A.renderTitle(this.renderTitle()),A.elasticX(this.elasticX())}return p}rescale(){return super.rescale(),this._children.forEach(p=>{p.rescale()}),this}resizing(p){return arguments.length?(super.resizing(p),this._children.forEach(M=>{M.resizing(p)}),this):super.resizing()}_prepareYAxis(){const p=0!==this._leftYAxisChildren().length,M=0!==this._rightYAxisChildren().length,A=this._calculateYAxisRanges(p,M);p&&this._prepareLeftYAxis(A),M&&this._prepareRightYAxis(A),this._leftYAxisChildren().length>0&&!this._rightAxisGridLines?this._renderHorizontalGridLinesForAxis(this.g(),this.y(),this.yAxis()):this._rightYAxisChildren().length>0&&this._renderHorizontalGridLinesForAxis(this.g(),this._rightY,this._rightYAxis)}renderYAxis(){0!==this._leftYAxisChildren().length&&(this.renderYAxisAt("y",this.yAxis(),this.margins().left),this.renderYAxisLabel("y",this.yAxisLabel(),-90)),0!==this._rightYAxisChildren().length&&(this.renderYAxisAt("yr",this.rightYAxis(),this.width()-this.margins().right),this.renderYAxisLabel("yr",this.rightYAxisLabel(),90,this.width()-this._rightYAxisLabelPadding))}_calculateYAxisRanges(p,M){let A,V,Pt,wt,Ye;return p&&(A=this._yAxisMin(),V=this._yAxisMax()),M&&(Pt=this._rightYAxisMin(),wt=this._rightYAxisMax()),this.alignYAxes()&&p&&M&&(Ye=this._alignYAxisRanges(A,V,Pt,wt)),Ye||{lyAxisMin:A,lyAxisMax:V,ryAxisMin:Pt,ryAxisMax:wt}}_alignYAxisRanges(p,M,A,V){const Pt=(V-A)/(M-p);return{lyAxisMin:Math.min(p,A/Pt),lyAxisMax:Math.max(M,V/Pt),ryAxisMin:Math.min(A,p*Pt),ryAxisMax:Math.max(V,M*Pt)}}_prepareRightYAxis(p){const M=void 0===this.rightY()||this.elasticY(),A=M||this.resizing();void 0===this.rightY()&&this.rightY(rt.scaleLinear()),M&&this.rightY().domain([p.ryAxisMin,p.ryAxisMax]),A&&this.rightY().rangeRound([this.yAxisHeight(),0]),this.rightY().range([this.yAxisHeight(),0]),this.rightYAxis(this.rightYAxis().scale(this.rightY()))}_prepareLeftYAxis(p){const M=void 0===this.y()||this.elasticY(),A=M||this.resizing();void 0===this.y()&&this.y(rt.scaleLinear()),M&&this.y().domain([p.lyAxisMin,p.lyAxisMax]),A&&this.y().rangeRound([this.yAxisHeight(),0]),this.y().range([this.yAxisHeight(),0]),this.yAxis(this.yAxis().scale(this.y()))}_generateChildG(p,M){p._generateG(this.g()),p.g().attr("class",`sub _${M}`)}plotData(){for(let p=0;p<this._children.length;++p){const M=this._children[p];M.g()||this._generateChildG(M,p),this._shareColors&&M.colors(this.colors()),M.x(this.x()),M.xAxis(this.xAxis()),M.useRightYAxis()?(M.y(this.rightY()),M.yAxis(this.rightYAxis())):(M.y(this.y()),M.yAxis(this.yAxis())),M.plotData(),M._activateRenderlets()}}useRightAxisGridLines(p){return arguments?(this._rightAxisGridLines=p,this):this._rightAxisGridLines}childOptions(p){return arguments.length?(this._childOptions=p,this._children.forEach(M=>{M.options(this._childOptions)}),this):this._childOptions}fadeDeselectedArea(p){if(this.brushOn())for(let M=0;M<this._children.length;++M)this._children[M].fadeDeselectedArea(p)}rightYAxisLabel(p,M){return arguments.length?(this._rightYAxisLabel=p,this.margins().right-=this._rightYAxisLabelPadding,this._rightYAxisLabelPadding=void 0===M?12:M,this.margins().right+=this._rightYAxisLabelPadding,this):this._rightYAxisLabel}compose(p){return this._children=p,this._children.forEach(M=>{M.height(this.height()),M.width(this.width()),M.margins(this.margins()),this._shareTitle&&M.title(this.title()),M.options(this._childOptions)}),this.rescale(),this}_setChildrenProperty(p,M){this._children.forEach(A=>{A[p](M)})}height(p){return arguments.length?(super.height(p),this._setChildrenProperty("height",p),this):super.height()}width(p){return arguments.length?(super.width(p),this._setChildrenProperty("width",p),this):super.width()}margins(p){return arguments.length?(super.margins(p),this._setChildrenProperty("margins",p),this):super.margins()}children(){return this._children}shareColors(p){return arguments.length?(this._shareColors=p,this):this._shareColors}shareTitle(p){return arguments.length?(this._shareTitle=p,this):this._shareTitle}rightY(p){return arguments.length?(this._rightY=p,this.rescale(),this):this._rightY}alignYAxes(p){return arguments.length?(this._alignYAxes=p,this.rescale(),this):this._alignYAxes}_leftYAxisChildren(){return this._children.filter(p=>!p.useRightYAxis())}_rightYAxisChildren(){return this._children.filter(p=>p.useRightYAxis())}_getYAxisMin(p){return p.map(M=>M.yAxisMin())}_yAxisMin(){return ft.min(this._getYAxisMin(this._leftYAxisChildren()))}_rightYAxisMin(){return ft.min(this._getYAxisMin(this._rightYAxisChildren()))}_getYAxisMax(p){return p.map(M=>M.yAxisMax())}_yAxisMax(){return Jt.add(ft.max(this._getYAxisMax(this._leftYAxisChildren())),this.yAxisPadding())}_rightYAxisMax(){return Jt.add(ft.max(this._getYAxisMax(this._rightYAxisChildren())),this.yAxisPadding())}_getAllXAxisMinFromChildCharts(){return this._children.map(p=>p.xAxisMin())}xAxisMin(){return Jt.subtract(ft.min(this._getAllXAxisMinFromChildCharts()),this.xAxisPadding(),this.xAxisPaddingUnit())}_getAllXAxisMaxFromChildCharts(){return this._children.map(p=>p.xAxisMax())}xAxisMax(){return Jt.add(ft.max(this._getAllXAxisMaxFromChildCharts()),this.xAxisPadding(),this.xAxisPaddingUnit())}legendables(){return this._children.reduce((p,M)=>(this._shareColors&&M.colors(this.colors()),p.push.apply(p,M.legendables()),p),[])}legendHighlight(p){for(let M=0;M<this._children.length;++M)this._children[M].legendHighlight(p)}legendReset(p){for(let M=0;M<this._children.length;++M)this._children[M].legendReset(p)}legendToggle(){console.log("composite should not be getting legendToggle itself")}rightYAxis(p){return arguments.length?(this._rightYAxis=p,this):this._rightYAxis}yAxisMin(){throw new Error("Not supported for this chart type")}yAxisMax(){throw new Error("Not supported for this chart type")}}class pm extends Re{constructor(p,M){super(),this._formatNumber=ut.format(",d"),this._crossfilter=null,this._groupAll=null,this._html={some:"",all:""},this._mandatoryAttributes(["crossfilter","groupAll"]),this.anchor(p,M)}html(p){return arguments.length?(p.all&&(this._html.all=p.all),p.some&&(this._html.some=p.some),this):this._html}formatNumber(p){return arguments.length?(this._formatNumber=p,this):this._formatNumber}_doRender(){const p=this.crossfilter().size(),M=this.groupAll().value(),A=this._formatNumber(p),V=this._formatNumber(M);return p===M&&""!==this._html.all?this.root().html(this._html.all.replace("%total-count",A).replace("%filter-count",V)):""!==this._html.some?this.root().html(this._html.some.replace("%total-count",A).replace("%filter-count",V)):(this.selectAll(".total-count").text(A),this.selectAll(".filter-count").text(V)),this}_doRedraw(){return this._doRender()}crossfilter(p){return arguments.length?(this._crossfilter=p,this):this._crossfilter}dimension(p){return Ft.warnOnce("consider using dataCount.crossfilter instead of dataCount.dimension for clarity"),arguments.length?this.crossfilter(p):this.crossfilter()}groupAll(p){return arguments.length?(this._groupAll=p,this):this._groupAll}group(p){return Ft.warnOnce("consider using dataCount.groupAll instead of dataCount.group for clarity"),arguments.length?this.groupAll(p):this.groupAll()}}const Jb="dc-grid-item",Zl="dc-grid-top";class c1 extends Re{constructor(p,M){super(),this._section=null,this._size=999,this._html=function(A){return`you need to provide an html() handling param:  ${JSON.stringify(A)}`},this._sortBy=function(A){return A},this._order=ft.ascending,this._beginSlice=0,this._endSlice=void 0,this._htmlSection=A=>`<div class='dc-grid-section dc-grid-group'><h1 class='dc-grid-label'>${this.keyAccessor()(A)}</h1></div>`,this._mandatoryAttributes(["dimension","section"]),this.anchor(p,M)}_doRender(){return this.selectAll(`div.${Zl}`).remove(),this._renderItems(this._renderSections()),this}_renderSections(){const p=this.root().selectAll(`div.${Zl}`).data(this._nestEntries(),A=>this.keyAccessor()(A)),M=p.enter().append("div").attr("class",Zl);return this._htmlSection&&M.html(A=>this._htmlSection(A)),p.exit().remove(),M}_nestEntries(){let p=this.dimension().top(this._size);return p=p.sort((M,A)=>this._order(this._sortBy(M),this._sortBy(A))).slice(this._beginSlice,this._endSlice),Nt.nester({key:this.section(),sortKeys:this._order,entries:p})}_renderItems(p){let M=p.order().selectAll(`div.${Jb}`).data(A=>A.values);return M.exit().remove(),M=M.enter().append("div").attr("class",Jb).html(A=>this._html(A)).merge(M),M}_doRedraw(){return this._doRender()}section(p){return arguments.length?(this._section=p,this):this._section}group(p){return Ft.warnOnce("consider using dataGrid.section instead of dataGrid.group for clarity"),arguments.length?this.section(p):this.section()}beginSlice(p){return arguments.length?(this._beginSlice=p,this):this._beginSlice}endSlice(p){return arguments.length?(this._endSlice=p,this):this._endSlice}size(p){return arguments.length?(this._size=p,this):this._size}html(p){return arguments.length?(this._html=p,this):this._html}htmlSection(p){return arguments.length?(this._htmlSection=p,this):this._htmlSection}htmlGroup(p){return Ft.warnOnce("consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity"),arguments.length?this.htmlSection(p):this.htmlSection()}sortBy(p){return arguments.length?(this._sortBy=p,this):this._sortBy}order(p){return arguments.length?(this._order=p,this):this._order}}const d1="dc-table-row";class m1 extends Re{constructor(p,M){super(),this._size=25,this._columns=[],this._sortBy=A=>A,this._order=ft.ascending,this._beginSlice=0,this._endSlice=void 0,this._showSections=!0,this._section=()=>"",this._mandatoryAttributes(["dimension"]),this.anchor(p,M)}_doRender(){return this.selectAll("tbody").remove(),this._renderRows(this._renderSections()),this}_doColumnValueFormat(p,M){return"function"==typeof p?p(M):"string"==typeof p?M[p]:p.format(M)}_doColumnHeaderFormat(p){return"function"==typeof p?this._doColumnHeaderFnToString(p):"string"==typeof p?this._doColumnHeaderCapitalize(p):String(p.label)}_doColumnHeaderCapitalize(p){return p.charAt(0).toUpperCase()+p.slice(1)}_doColumnHeaderFnToString(p){let M=String(p);const A=M.indexOf("return ");if(A>=0){const V=M.lastIndexOf(";");V>=0&&(M=M.substring(A+7,V),M.indexOf("numberFormat")>=0&&(M=M.replace("numberFormat","")))}return M}_renderSections(){let p=!0;if(this._columns.forEach(V=>{p&="function"==typeof V}),!p){let V=this.selectAll("thead").data([0]);V.exit().remove(),V=V.enter().append("thead").merge(V);let Pt=V.selectAll("tr").data([0]);Pt.exit().remove(),Pt=Pt.enter().append("tr").merge(Pt);const wt=Pt.selectAll("th").data(this._columns);wt.exit().remove(),wt.enter().append("th").merge(wt).attr("class","dc-table-head").html(Ye=>this._doColumnHeaderFormat(Ye))}const M=this.root().selectAll("tbody").data(this._nestEntries(),V=>this.keyAccessor()(V)),A=M.enter().append("tbody");return!0===this._showSections&&A.append("tr").attr("class","dc-table-section dc-table-group").append("td").attr("class","dc-table-label").attr("colspan",this._columns.length).html(V=>this.keyAccessor()(V)),M.exit().remove(),A}_nestEntries(){let p;return p=this._order===ft.ascending?this.dimension().bottom(this._size):this.dimension().top(this._size),p=p.sort((M,A)=>this._order(this._sortBy(M),this._sortBy(A))).slice(this._beginSlice,this._endSlice),Nt.nester({key:this.section(),sortKeys:this._order,entries:p})}_renderRows(p){const M=p.order().selectAll(`tr.${d1}`).data(V=>V.values),A=M.enter().append("tr").attr("class",d1);return this._columns.forEach((V,Pt)=>{A.append("td").attr("class",`dc-table-column _${Pt}`).html(wt=>this._doColumnValueFormat(V,wt))}),M.exit().remove(),M}_doRedraw(){return this._doRender()}section(p){return arguments.length?(this._section=p,this):this._section}group(p){return Ft.warnOnce("consider using dataTable.section instead of dataTable.group for clarity"),arguments.length?this.section(p):this.section()}size(p){return arguments.length?(this._size=p,this):this._size}beginSlice(p){return arguments.length?(this._beginSlice=p,this):this._beginSlice}endSlice(p){return arguments.length?(this._endSlice=p,this):this._endSlice}columns(p){return arguments.length?(this._columns=p,this):this._columns}sortBy(p){return arguments.length?(this._sortBy=p,this):this._sortBy}order(p){return arguments.length?(this._order=p,this):this._order}showSections(p){return arguments.length?(this._showSections=p,this):this._showSections}showGroups(p){return Ft.warnOnce("consider using dataTable.showSections instead of dataTable.showGroups for clarity"),arguments.length?this.showSections(p):this.showSections()}}class en extends(yi(Re)){constructor(p,M){super(),this.colorAccessor(A=>A||0),this._geoPath=lt.geoPath(),this._projectionFlag=void 0,this._projection=void 0,this._geoJsons=[],this.anchor(p,M)}_doRender(){this.resetSvg();for(let p=0;p<this._geoJsons.length;++p){let A=this.svg().append("g").attr("class",`layer${p}`).selectAll(`g.${this._geoJson(p).name}`).data(this._geoJson(p).data);A=A.enter().append("g").attr("class",this._geoJson(p).name).merge(A),A.append("path").classed("dc-tabbable",this._keyboardAccessible).attr("fill","white").attr("d",this._getGeoPath()),A.append("title"),this._plotData(p)}this._projectionFlag=!1}_plotData(p){const M=this._generateLayeredData();if(this._isDataLayer(p)){const A=this._renderRegionG(p);this._renderPaths(A,p,M),this._renderTitles(A,p,M)}}_generateLayeredData(){const p={},M=this.data();for(let A=0;A<M.length;++A)p[this.keyAccessor()(M[A])]=this.valueAccessor()(M[A]);return p}_isDataLayer(p){return this._geoJson(p).keyAccessor}_renderRegionG(p){return this.svg().selectAll(this._layerSelector(p)).classed("selected",A=>this._isSelected(p,A)).classed("deselected",A=>this._isDeselected(p,A)).attr("class",A=>{let wt=`${this._geoJson(p).name} ${Jt.nameToId(this._geoJson(p).keyAccessor(A))}`;return this._isSelected(p,A)&&(wt+=" selected"),this._isDeselected(p,A)&&(wt+=" deselected"),wt})}_layerSelector(p){return`g.layer${p} g.${this._geoJson(p).name}`}_isSelected(p,M){return this.hasFilter()&&this.hasFilter(this._getKey(p,M))}_isDeselected(p,M){return this.hasFilter()&&!this.hasFilter(this._getKey(p,M))}_getKey(p,M){return this._geoJson(p).keyAccessor(M)}_geoJson(p){return this._geoJsons[p]}_renderPaths(p,M,A){const V=p.select("path").attr("fill",function(){return ot.select(this).attr("fill")||"none"}).on("click",Nt.eventHandler(Pt=>this.onClick(Pt,M)));this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick,M),ui(V,this.transitionDuration(),this.transitionDelay()).attr("fill",(Pt,wt)=>this.getColor(A[this._geoJson(M).keyAccessor(Pt)],wt))}onClick(p,M){const A=this._geoJson(M).keyAccessor(p);Ae.trigger(()=>{this.filter(A),this.redrawGroup()})}_renderTitles(p,M,A){this.renderTitle()&&p.selectAll("title").text(V=>{const Pt=this._getKey(M,V),wt=A[Pt];return this.title()({key:Pt,value:wt})})}_doRedraw(){for(let p=0;p<this._geoJsons.length;++p)this._plotData(p),this._projectionFlag&&this.svg().selectAll(`g.${this._geoJson(p).name} path`).attr("d",this._getGeoPath());this._projectionFlag=!1}overlayGeoJson(p,M,A){for(let V=0;V<this._geoJsons.length;++V)if(this._geoJsons[V].name===M)return this._geoJsons[V].data=p,this._geoJsons[V].keyAccessor=A,this;return this._geoJsons.push({name:M,data:p,keyAccessor:A}),this}projection(p){return arguments.length?(this._projection=p,this._projectionFlag=!0,this):this._projection}_getGeoPath(){return void 0===this._projection?(Ft.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),this._geoPath.projection(lt.geoAlbersUsa())):this._geoPath.projection(this._projection)}geoJsons(){return this._geoJsons}geoPath(){return this._geoPath}removeGeoJson(p){const M=[];for(let A=0;A<this._geoJsons.length;++A){const V=this._geoJsons[A];V.name!==p&&M.push(V)}return this._geoJsons=M,this}}class Qg extends(yi(or)){constructor(p,M){super(),this._chartBody=void 0,this._cols=void 0,this._rows=void 0,this._colOrdering=ft.ascending,this._rowOrdering=ft.ascending,this._colScale=rt.scaleBand(),this._rowScale=rt.scaleBand(),this._xBorderRadius=6.75,this._yBorderRadius=6.75,this._mandatoryAttributes(["group"]),this.title(this.colorAccessor()),this._colsLabel=A=>A,this._rowsLabel=A=>A,this._xAxisOnClick=A=>{this._filterAxis(0,A)},this._yAxisOnClick=A=>{this._filterAxis(1,A)},this._boxOnClick=A=>{const V=A.key;Ae.trigger(()=>{this.filter(_r.TwoDimensionalFilter(V)),this.redrawGroup()})},this.anchor(p,M)}colsLabel(p){return arguments.length?(this._colsLabel=p,this):this._colsLabel}rowsLabel(p){return arguments.length?(this._rowsLabel=p,this):this._rowsLabel}_filterAxis(p,M){const A=this.selectAll(".box-group").filter(Pt=>Pt.key[p]===M),V=A.filter(Pt=>!this.hasFilter(Pt.key));Ae.trigger(()=>{const wt=(V.empty()?A:V).data().map(Ye=>_r.TwoDimensionalFilter(Ye.key));this.filter([wt]),this.redrawGroup()})}filter(p){return arguments.length?null===p||"TwoDimensionalFilter"===p.filterType||Array.isArray(p)&&Array.isArray(p[0])&&"TwoDimensionalFilter"===p[0][0].filterType?super.filter(p):(A=>(Ft.warnOnce("heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead"),this._filter(_r.TwoDimensionalFilter(A))))(p):super.filter()}rows(p){return arguments.length?(this._rows=p,this):this._rows}rowOrdering(p){return arguments.length?(this._rowOrdering=p,this):this._rowOrdering}cols(p){return arguments.length?(this._cols=p,this):this._cols}colOrdering(p){return arguments.length?(this._colOrdering=p,this):this._colOrdering}_doRender(){return this.resetSvg(),this._chartBody=this.svg().append("g").attr("class","heatmap").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this._doRedraw()}_doRedraw(){const p=this.data();let M=this.rows()||p.map(this.valueAccessor()),A=this.cols()||p.map(this.keyAccessor());this._rowOrdering&&(M=M.sort(this._rowOrdering)),this._colOrdering&&(A=A.sort(this._colOrdering)),M=this._rowScale.domain(M),A=this._colScale.domain(A);const V=M.domain().length,Pt=A.domain().length,wt=Math.floor(this.effectiveWidth()/Pt),Ye=Math.floor(this.effectiveHeight()/V);A.rangeRound([0,this.effectiveWidth()]),M.rangeRound([this.effectiveHeight(),0]);let bi=this._chartBody.selectAll("g.box-group").data(this.data(),(Qn,fr)=>`${this.keyAccessor()(Qn,fr)}\0${this.valueAccessor()(Qn,fr)}`);bi.exit().remove();const Kn=bi.enter().append("g").attr("class","box-group");Kn.append("rect").attr("class","heat-box").classed("dc-tabbable",this._keyboardAccessible).attr("fill","white").attr("x",(Qn,fr)=>A(this.keyAccessor()(Qn,fr))).attr("y",(Qn,fr)=>M(this.valueAccessor()(Qn,fr))).on("click",Nt.eventHandler(this.boxOnClick())),this._keyboardAccessible&&this._makeKeyboardAccessible(this.boxOnClick),bi=Kn.merge(bi),this.renderTitle()&&(Kn.append("title"),bi.select("title").text(this.title())),ui(bi.select("rect"),this.transitionDuration(),this.transitionDelay()).attr("x",(Qn,fr)=>A(this.keyAccessor()(Qn,fr))).attr("y",(Qn,fr)=>M(this.valueAccessor()(Qn,fr))).attr("rx",this._xBorderRadius).attr("ry",this._yBorderRadius).attr("fill",this.getColor).attr("width",wt).attr("height",Ye);let Ar=this._chartBody.select("g.cols");Ar.empty()&&(Ar=this._chartBody.append("g").attr("class","cols axis"));let Vs=Ar.selectAll("text").data(A.domain());Vs.exit().remove(),Vs=Vs.enter().append("text").attr("x",Qn=>A(Qn)+wt/2).style("text-anchor","middle").attr("y",this.effectiveHeight()).attr("dy",12).on("click",Nt.eventHandler(this.xAxisOnClick())).text(this.colsLabel()).merge(Vs),ui(Vs,this.transitionDuration(),this.transitionDelay()).text(this.colsLabel()).attr("x",Qn=>A(Qn)+wt/2).attr("y",this.effectiveHeight());let _n=this._chartBody.select("g.rows");_n.empty()&&(_n=this._chartBody.append("g").attr("class","rows axis"));let Hs=_n.selectAll("text").data(M.domain());if(Hs.exit().remove(),Hs=Hs.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",Qn=>M(Qn)+Ye/2).attr("dy",6).on("click",Nt.eventHandler(this.yAxisOnClick())).text(this.rowsLabel()).merge(Hs),ui(Hs,this.transitionDuration(),this.transitionDelay()).text(this.rowsLabel()).attr("y",Qn=>M(Qn)+Ye/2),this.hasFilter()){const Qn=this;this.selectAll("g.box-group").each(function(fr){Qn.isSelectedNode(fr)?Qn.highlightSelected(this):Qn.fadeDeselected(this)})}else{const Qn=this;this.selectAll("g.box-group").each(function(){Qn.resetHighlight(this)})}return this}boxOnClick(p){return arguments.length?(this._boxOnClick=p,this):this._boxOnClick}xAxisOnClick(p){return arguments.length?(this._xAxisOnClick=p,this):this._xAxisOnClick}yAxisOnClick(p){return arguments.length?(this._yAxisOnClick=p,this):this._yAxisOnClick}xBorderRadius(p){return arguments.length?(this._xBorderRadius=p,this):this._xBorderRadius}yBorderRadius(p){return arguments.length?(this._yBorderRadius=p,this):this._yBorderRadius}isSelectedNode(p){return this.hasFilter(p.key)}}class tv{constructor(){this._htmlLegendDivCssClass="dc-html-legend",this._legendItemCssClassHorizontal="dc-legend-item-horizontal",this._legendItemCssClassVertical="dc-legend-item-vertical",this._parent=void 0,this._container=void 0,this._legendText=K("name"),this._maxItems=void 0,this._horizontal=!1,this._legendItemClass=void 0,this._highlightSelected=!1,this._keyboardAccessible=!1}parent(p){return arguments.length?(this._parent=p,this):this._parent}render(){this._defaultLegendItemCssClass=this._horizontal?this._legendItemCssClassHorizontal:this._legendItemCssClassVertical,this._container.select(`div.${this._htmlLegendDivCssClass}`).remove();const p=this._container.append("div").attr("class",this._htmlLegendDivCssClass);p.attr("style",`max-width:${this._container.nodes()[0].style.width}`);let M=this._parent.legendables();const A=this._parent.filters();void 0!==this._maxItems&&(M=M.slice(0,this._maxItems));const V=this._legendItemClass?this._legendItemClass:this._defaultLegendItemCssClass,Pt=p.selectAll(`div.${V}`).data(M).enter().append("div").classed(V,!0).on("mouseover",Nt.eventHandler(wt=>this._parent.legendHighlight(wt))).on("mouseout",Nt.eventHandler(wt=>this._parent.legendReset(wt))).on("click",Nt.eventHandler(wt=>this._parent.legendToggle(wt)));this._highlightSelected&&Pt.classed(_e.SELECTED_CLASS,wt=>-1!==A.indexOf(wt.name)),Pt.append("span").attr("class","dc-legend-item-color").style("background-color",K("color")),Pt.append("span").attr("class","dc-legend-item-label").classed("dc-tabbable",this._keyboardAccessible).attr("title",this._legendText).text(this._legendText),this._keyboardAccessible&&this._makeLegendKeyboardAccessible()}container(p){return arguments.length?(this._container=ot.select(p),this):this._container}legendItemClass(p){return arguments.length?(this._legendItemClass=p,this):this._legendItemClass}highlightSelected(p){return arguments.length?(this._highlightSelected=p,this):this._highlightSelected}horizontal(p){return arguments.length?(this._horizontal=p,this):this._horizontal}legendText(p){return arguments.length?(this._legendText=p,this):this._legendText}maxItems(p){return arguments.length?(this._maxItems=Jt.isNumber(p)?p:void 0,this):this._maxItems}keyboardAccessible(p){return arguments.length?(this._keyboardAccessible=p,this):this._keyboardAccessible}_makeLegendKeyboardAccessible(){this._parent._svgDescription||(this._parent.svg().append("desc").attr("id",`desc-id-${this._parent.__dcFlag__}`).html(`${this._parent.svgDescription()}`),this._parent.svg().attr("tabindex","0").attr("role","img").attr("aria-labelledby",`desc-id-${this._parent.__dcFlag__}`)),this.container().selectAll(".dc-legend-item-label.dc-tabbable").attr("tabindex",0).on("keydown",Nt.eventHandler((M,A)=>{13===A.keyCode&&"object"==typeof M&&M.chart.legendToggle(M),32===A.keyCode&&"object"==typeof M&&(M.chart.legendToggle(M),A.preventDefault())})).on("focus",Nt.eventHandler(M=>{this._parent.legendHighlight(M)})).on("blur",Nt.eventHandler(M=>{this._parent.legendReset(M)}))}}class ev{constructor(){this._parent=void 0,this._x=0,this._y=0,this._itemHeight=12,this._gap=5,this._horizontal=!1,this._legendWidth=560,this._itemWidth=70,this._autoItemWidth=!1,this._legendText=K("name"),this._maxItems=void 0,this._highlightSelected=!1,this._keyboardAccessible=!1,this._g=void 0}parent(p){return arguments.length?(this._parent=p,this):this._parent}x(p){return arguments.length?(this._x=p,this):this._x}y(p){return arguments.length?(this._y=p,this):this._y}gap(p){return arguments.length?(this._gap=p,this):this._gap}highlightSelected(p){return arguments.length?(this._highlightSelected=p,this):this._highlightSelected}itemHeight(p){return arguments.length?(this._itemHeight=p,this):this._itemHeight}horizontal(p){return arguments.length?(this._horizontal=p,this):this._horizontal}legendWidth(p){return arguments.length?(this._legendWidth=p,this):this._legendWidth}itemWidth(p){return arguments.length?(this._itemWidth=p,this):this._itemWidth}autoItemWidth(p){return arguments.length?(this._autoItemWidth=p,this):this._autoItemWidth}legendText(p){return arguments.length?(this._legendText=p,this):this._legendText}maxItems(p){return arguments.length?(this._maxItems=Jt.isNumber(p)?p:void 0,this):this._maxItems}keyboardAccessible(p){return arguments.length?(this._keyboardAccessible=p,this):this._keyboardAccessible}_legendItemHeight(){return this._gap+this._itemHeight}_makeLegendKeyboardAccessible(){this._parent._svgDescription||(this._parent.svg().append("desc").attr("id",`desc-id-${this._parent.__dcFlag__}`).html(`${this._parent.svgDescription()}`),this._parent.svg().attr("tabindex","0").attr("role","img").attr("aria-labelledby",`desc-id-${this._parent.__dcFlag__}`)),this._parent.svg().selectAll(".dc-legend .dc-tabbable").attr("tabindex",0).on("keydown",Nt.eventHandler((M,A)=>{13===A.keyCode&&"object"==typeof M&&M.chart.legendToggle(M),32===A.keyCode&&"object"==typeof M&&(M.chart.legendToggle(M),A.preventDefault())})).on("focus",Nt.eventHandler(M=>{this._parent.legendHighlight(M)})).on("blur",Nt.eventHandler(M=>{this._parent.legendReset(M)}))}render(){this._parent.svg().select("g.dc-legend").remove(),this._g=this._parent.svg().append("g").attr("class","dc-legend").attr("transform",`translate(${this._x},${this._y})`);let p=this._parent.legendables();const M=this._parent.filters();void 0!==this._maxItems&&(p=p.slice(0,this._maxItems));const A=this._g.selectAll("g.dc-legend-item").data(p).enter().append("g").attr("class","dc-legend-item").on("mouseover",Nt.eventHandler(wt=>{this._parent.legendHighlight(wt)})).on("mouseout",Nt.eventHandler(wt=>{this._parent.legendReset(wt)})).on("click",Nt.eventHandler(wt=>{wt.chart.legendToggle(wt)}));this._highlightSelected&&A.classed(_e.SELECTED_CLASS,wt=>-1!==M.indexOf(wt.name)),this._g.selectAll("g.dc-legend-item").classed("fadeout",wt=>wt.chart.isLegendableHidden(wt)),p.some(K("dashstyle"))?A.append("line").attr("x1",0).attr("y1",this._itemHeight/2).attr("x2",this._itemHeight).attr("y2",this._itemHeight/2).attr("stroke-width",2).attr("stroke-dasharray",K("dashstyle")).attr("stroke",K("color")):A.append("rect").attr("width",this._itemHeight).attr("height",this._itemHeight).attr("fill",wt=>wt?wt.color:"blue");{const wt=this;A.append("text").text(wt._legendText).classed("dc-tabbable",this._keyboardAccessible).attr("x",wt._itemHeight+2).attr("y",function(){return wt._itemHeight/2+(this.clientHeight?this.clientHeight:13)/2-2}),this._keyboardAccessible&&this._makeLegendKeyboardAccessible()}let V=0,Pt=0;{const wt=this;A.attr("transform",function(Ye,bi){if(wt._horizontal){const Kn=!0===wt._autoItemWidth?this.getBBox().width+wt._gap:wt._itemWidth;V+Kn>wt._legendWidth&&V>0&&(++Pt,V=0);const Ar=`translate(${V},${Pt*wt._legendItemHeight()})`;return V+=Kn,Ar}return`translate(0,${bi*wt._legendItemHeight()})`})}}}const ql="dc-tooltip",ld="yRef",lu="xRef",bm=1e-6;class xh extends Hn{constructor(p,M){super(),this._renderArea=!1,this._dotRadius=5,this._dataPointRadius=null,this._dataPointFillOpacity=bm,this._dataPointStrokeOpacity=bm,this._curve=null,this._interpolate=null,this._tension=null,this._defined=void 0,this._dashStyle=void 0,this._xyTipsOn=!0,this.transitionDuration(500),this.transitionDelay(0),this._rangeBandPadding(1),this.label(A=>Jt.printSingleValue(A.y0+A.y),!1),this.anchor(p,M)}plotData(){const p=this.chartBodyG();let M=p.select("g.stack-list");M.empty()&&(M=p.append("g").attr("class","stack-list"));let A=M.selectAll("g.stack").data(this.data());const V=A.enter().append("g").attr("class",(Pt,wt)=>`stack _${wt}`);A=V.merge(A),this._drawLine(V,A),this._drawArea(V,A),this._drawDots(p,A),this.renderLabel()&&this._drawLabels(A)}curve(p){return arguments.length?(this._curve=p,this):this._curve}interpolate(p){return Ft.warnOnce("dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),arguments.length?(this._interpolate=p,this):this._interpolate}tension(p){return Ft.warnOnce("dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),arguments.length?(this._tension=p,this):this._tension}defined(p){return arguments.length?(this._defined=p,this):this._defined}dashStyle(p){return arguments.length?(this._dashStyle=p,this):this._dashStyle}renderArea(p){return arguments.length?(this._renderArea=p,this):this._renderArea}_getColor(p,M){return this.getColor.call(p,p.values,M)}_getCurveFactory(){let p=null;return this._curve?this._curve:(p="function"==typeof this._interpolate?this._interpolate:{linear:$.curveLinear,"linear-closed":$.curveLinearClosed,step:$.curveStep,"step-before":$.curveStepBefore,"step-after":$.curveStepAfter,basis:$.curveBasis,"basis-open":$.curveBasisOpen,"basis-closed":$.curveBasisClosed,bundle:$.curveBundle,cardinal:$.curveCardinal,"cardinal-open":$.curveCardinalOpen,"cardinal-closed":$.curveCardinalClosed,monotone:$.curveMonotoneX}[this._interpolate],p||(p=$.curveLinear),null!==this._tension&&("function"!=typeof p.tension?Ft.warn("tension was specified but the curve/interpolate does not support it."):p=p.tension(this._tension)),p)}_drawLine(p,M){const A=$.line().x(Pt=>this.x()(Pt.x)).y(Pt=>this.y()(Pt.y+Pt.y0)).curve(this._getCurveFactory());this._defined&&A.defined(this._defined);const V=p.append("path").attr("class","line").attr("stroke",(Pt,wt)=>this._getColor(Pt,wt));this._dashStyle&&V.attr("stroke-dasharray",this._dashStyle),ui(M.select("path.line"),this.transitionDuration(),this.transitionDelay()).attr("stroke",(Pt,wt)=>this._getColor(Pt,wt)).attr("d",Pt=>this._safeD(A(Pt.values)))}_drawArea(p,M){if(this._renderArea){const A=$.area().x(V=>this.x()(V.x)).y1(V=>this.y()(V.y+V.y0)).y0(V=>this.y()(V.y0)).curve(this._getCurveFactory());this._defined&&A.defined(this._defined),p.append("path").attr("class","area").attr("fill",(V,Pt)=>this._getColor(V,Pt)).attr("d",V=>this._safeD(A(V.values))),ui(M.select("path.area"),this.transitionDuration(),this.transitionDelay()).attr("fill",(V,Pt)=>this._getColor(V,Pt)).attr("d",V=>this._safeD(A(V.values)))}}_safeD(p){return!p||p.indexOf("NaN")>=0?"M0,0":p}_drawDots(p,M){if("always"===this.xyTipsOn()||!this.brushOn()&&!this.parentBrushOn()&&this.xyTipsOn()){const A=`${ql}-list`;let V=p.select(`g.${A}`);V.empty()&&(V=p.append("g").attr("class",A)),M.each((Pt,wt)=>{let Ye=Pt.values;this._defined&&(Ye=Ye.filter(this._defined));let bi=V.select(`g.${ql}._${wt}`);bi.empty()&&(bi=V.append("g").attr("class",`${ql} _${wt}`)),this._createRefLines(bi);const Kn=bi.selectAll("circle.dot").data(Ye,K("x")),Ar=this,Vs=Kn.enter().append("circle").attr("class","dot").classed("dc-tabbable",this._keyboardAccessible).attr("cx",_n=>Jt.safeNumber(this.x()(_n.x))).attr("cy",_n=>Jt.safeNumber(this.y()(_n.y+_n.y0))).attr("r",this._getDotRadius()).style("fill-opacity",this._dataPointFillOpacity).style("stroke-opacity",this._dataPointStrokeOpacity).attr("fill",this.getColor).attr("stroke",this.getColor).on("mousemove",function(){const _n=ot.select(this);Ar._showDot(_n),Ar._showRefLines(_n,bi)}).on("mouseout",function(){const _n=ot.select(this);Ar._hideDot(_n),Ar._hideRefLines(bi)}).merge(Kn);this._keyboardAccessible&&this._svg.selectAll(".dc-tabbable").attr("tabindex",0).on("focus",function(){const _n=ot.select(this);Ar._showDot(_n),Ar._showRefLines(_n,bi)}).on("blur",function(){const _n=ot.select(this);Ar._hideDot(_n),Ar._hideRefLines(bi)}),Vs.call(_n=>this._doRenderTitle(_n,Pt)),ui(Vs,this.transitionDuration()).attr("cx",_n=>Jt.safeNumber(this.x()(_n.x))).attr("cy",_n=>Jt.safeNumber(this.y()(_n.y+_n.y0))).attr("fill",this.getColor),Kn.exit().remove()})}}_drawLabels(p){const M=this;p.each(function(A,V){const wt=ot.select(this).selectAll("text.lineLabel").data(A.values,K("x")),Ye=wt.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(wt);ui(Ye,M.transitionDuration()).attr("x",bi=>Jt.safeNumber(M.x()(bi.x))).attr("y",bi=>{const Kn=M.y()(bi.y+bi.y0)-3;return Jt.safeNumber(Kn)}).text(bi=>M.label()(bi)),ui(wt.exit(),M.transitionDuration()).attr("height",0).remove()})}_createRefLines(p){(p.select(`path.${ld}`).empty()?p.append("path").attr("class",ld):p.select(`path.${ld}`)).style("display","none").attr("stroke-dasharray","5,5"),(p.select(`path.${lu}`).empty()?p.append("path").attr("class",lu):p.select(`path.${lu}`)).style("display","none").attr("stroke-dasharray","5,5")}_showDot(p){return p.style("fill-opacity",.8),p.style("stroke-opacity",.8),p.attr("r",this._dotRadius),p}_showRefLines(p,M){const A=p.attr("cx"),V=p.attr("cy"),wt=`M${this._yAxisX()-this.margins().left} ${V}L${A} ${V}`,Ye=`M${A} ${this.yAxisHeight()}L${A} ${V}`;M.select(`path.${ld}`).style("display","").attr("d",wt),M.select(`path.${lu}`).style("display","").attr("d",Ye)}_getDotRadius(){return this._dataPointRadius||this._dotRadius}_hideDot(p){p.style("fill-opacity",this._dataPointFillOpacity).style("stroke-opacity",this._dataPointStrokeOpacity).attr("r",this._getDotRadius())}_hideRefLines(p){p.select(`path.${ld}`).style("display","none"),p.select(`path.${lu}`).style("display","none")}_doRenderTitle(p,M){this.renderTitle()&&(p.select("title").remove(),p.append("title").text(K("data",this.title(M.name))))}xyTipsOn(p){return arguments.length?(this._xyTipsOn=p,this):this._xyTipsOn}dotRadius(p){return arguments.length?(this._dotRadius=p,this):this._dotRadius}renderDataPoints(p){return arguments.length?(p?(this._dataPointFillOpacity=p.fillOpacity||.8,this._dataPointStrokeOpacity=p.strokeOpacity||0,this._dataPointRadius=p.radius||2):(this._dataPointFillOpacity=bm,this._dataPointStrokeOpacity=bm,this._dataPointRadius=null),this):{fillOpacity:this._dataPointFillOpacity,strokeOpacity:this._dataPointStrokeOpacity,radius:this._dataPointRadius}}_colorFilter(p,M,A){return function(){const V=ot.select(this),Pt=V.attr("stroke")===p&&V.attr("stroke-dasharray")===(M instanceof Array?M.join(","):null)||V.attr("fill")===p;return A?!Pt:Pt}}legendHighlight(p){this.isLegendableHidden(p)||this.g().selectAll("path.line, path.area").classed("highlight",this._colorFilter(p.color,p.dashstyle)).classed("fadeout",this._colorFilter(p.color,p.dashstyle,!0))}legendReset(){this.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)}legendables(){const p=super.legendables();return this._dashStyle?p.map(M=>(M.dashstyle=this._dashStyle,M)):p}}const cu=(xt,p)=>new xh(xt,p),_o="number-display";class Jg extends Re{constructor(p,M){super(),this._formatNumber=ut.format(".2s"),this._html={one:"",some:"",none:""},this._lastValue=void 0,this._ariaLiveRegion=!1,this._mandatoryAttributes(["group"]),this.ordering(A=>A.value),this.data(A=>{const V=A.value?A.value():this._maxBin(A.all());return this.valueAccessor()(V)}),this.transitionDuration(250),this.transitionDelay(0),this.anchor(p,M)}html(p){return arguments.length?(p.none?this._html.none=p.none:p.one?this._html.none=p.one:p.some&&(this._html.none=p.some),p.one?this._html.one=p.one:p.some&&(this._html.one=p.some),p.some?this._html.some=p.some:p.one&&(this._html.some=p.one),this):this._html}value(){return this.data()}_maxBin(p){if(!p.length)return null;const M=this._computeOrderedGroups(p);return M[M.length-1]}_doRender(){const p=this.value();let M=this.selectAll(`.${_o}`);M.empty()&&(M=M.data([0]).enter().append("span").attr("class",_o).classed("dc-tabbable",this._keyboardAccessible).merge(M),this._keyboardAccessible&&M.attr("tabindex","0"),this._ariaLiveRegion&&(this.transitionDuration(0),M.attr("aria-live","polite")));{const A=this;M.transition().duration(A.transitionDuration()).delay(A.transitionDelay()).ease(_t.easeQuad).tween("text",function(){const V=isFinite(A._lastValue)?A._lastValue:0,Pt=J.interpolateNumber(V||0,p);A._lastValue=p;const wt=this;return Ye=>{let bi=null;const Kn=A.formatNumber()(Pt(Ye));0===p&&""!==A._html.none?bi=A._html.none:1===p&&""!==A._html.one?bi=A._html.one:""!==A._html.some&&(bi=A._html.some),wt.innerHTML=bi?bi.replace("%number",Kn):Kn}})}}_doRedraw(){return this._doRender()}formatNumber(p){return arguments.length?(this._formatNumber=p,this):this._formatNumber}ariaLiveRegion(p){return arguments.length?(this._ariaLiveRegion=p,this):this._ariaLiveRegion}}class _1 extends(je(yi(Re))){constructor(p,M){super(),this._sliceCssClass="pie-slice",this._labelCssClass="pie-label",this._sliceGroupCssClass="pie-slice-group",this._labelGroupCssClass="pie-label-group",this._emptyCssClass="empty-chart",this._emptyTitle="empty",this._radius=void 0,this._givenRadius=void 0,this._innerRadius=0,this._externalRadiusPadding=0,this._g=void 0,this._cx=void 0,this._cy=void 0,this._minAngleForLabel=.5,this._externalLabelRadius=void 0,this._drawPaths=!1,this.colorAccessor(A=>this.cappedKeyAccessor(A)),this.title(A=>`${this.cappedKeyAccessor(A)}: ${this.cappedValueAccessor(A)}`),this.label(A=>this.cappedKeyAccessor(A)),this.renderLabel(!0),this.transitionDuration(350),this.transitionDelay(0),this.anchor(p,M)}slicesCap(p){return this.cap(p)}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.cx()},${this.cy()})`),this._g.append("g").attr("class",this._sliceGroupCssClass),this._g.append("g").attr("class",this._labelGroupCssClass),this._drawChart(),this}_drawChart(){const p=ft.min([this.width(),this.height()])/2;this._radius=this._givenRadius&&this._givenRadius<p?this._givenRadius:p;const M=this._buildArcs(),A=this._pieLayout();let V;if(ft.sum(this.data(),Pt=>this.cappedValueAccessor(Pt))?(V=A(this.data()),this._g.classed(this._emptyCssClass,!1)):(V=A([{key:this._emptyTitle,value:1,others:[this._emptyTitle]}]),this._g.classed(this._emptyCssClass,!0)),this._g){const Pt=this._g.select(`g.${this._sliceGroupCssClass}`).selectAll(`g.${this._sliceCssClass}`).data(V),wt=this._g.select(`g.${this._labelGroupCssClass}`).selectAll(`text.${this._labelCssClass}`).data(V);this._removeElements(Pt,wt),this._createElements(Pt,wt,M,V),this._updateElements(V,M),this._highlightFilter(),ui(this._g,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.cx()},${this.cy()})`)}}_createElements(p,M,A,V){const Pt=this._createSliceNodes(p);this._createSlicePath(Pt,A),this._createTitles(Pt),this._createLabels(M,V,A)}_createSliceNodes(p){return p.enter().append("g").attr("class",(M,A)=>`${this._sliceCssClass} _${A}`).classed("dc-tabbable",this._keyboardAccessible)}_createSlicePath(p,M){const A=p.append("path").attr("fill",(Pt,wt)=>this._fill(Pt,wt)).on("click",Nt.eventHandler(Pt=>this._onClick(Pt))).attr("d",(Pt,wt)=>this._safeArc(Pt,wt,M));this._keyboardAccessible&&this._makeKeyboardAccessible(this._onClick);const V=ui(A,this.transitionDuration(),this.transitionDelay());if(V.attrTween){const Pt=this;V.attrTween("d",function(wt){return Pt._tweenPie(wt,this)})}}_createTitles(p){this.renderTitle()&&p.append("title").text(M=>this.title()(M.data))}_applyLabelText(p){p.text(M=>!this._sliceHasNoData(M.data)&&!this._sliceTooSmall(M)||this._isSelectedSlice(M)?this.label()(M.data):"")}_positionLabels(p,M){this._applyLabelText(p),ui(p,this.transitionDuration(),this.transitionDelay()).attr("transform",A=>this._labelPosition(A,M)).attr("text-anchor","middle")}_highlightSlice(p,M){this.select(`g.pie-slice._${p}`).classed("highlight",M)}_createLabels(p,M,A){if(this.renderLabel()){const V=p.enter().append("text").attr("class",(Pt,wt)=>{let Ye=`${this._sliceCssClass} ${this._labelCssClass} _${wt}`;return this._externalLabelRadius&&(Ye+=" external"),Ye}).on("click",Nt.eventHandler(Pt=>this._onClick(Pt))).on("mouseover",Nt.eventHandler(Pt=>{this._highlightSlice(Pt.index,!0)})).on("mouseout",Nt.eventHandler(Pt=>{this._highlightSlice(Pt.index,!1)}));this._positionLabels(V,A),this._externalLabelRadius&&this._drawPaths&&this._updateLabelPaths(M,A)}}_updateLabelPaths(p,M){let A=this._g.selectAll(`polyline.${this._sliceCssClass}`).data(p);A.exit().remove(),A=A.enter().append("polyline").attr("class",(wt,Ye)=>`pie-path _${Ye} ${this._sliceCssClass}`).on("click",Nt.eventHandler(wt=>this._onClick(wt))).on("mouseover",Nt.eventHandler(wt=>{this._highlightSlice(wt.index,!0)})).on("mouseout",Nt.eventHandler(wt=>{this._highlightSlice(wt.index,!1)})).merge(A);const V=$.arc().outerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).innerRadius(this._radius-this._externalRadiusPadding),Pt=ui(A,this.transitionDuration(),this.transitionDelay());Pt.attrTween?Pt.attrTween("points",function(wt){let Ye=this._current||wt;Ye={startAngle:Ye.startAngle,endAngle:Ye.endAngle};const bi=J.interpolate(Ye,wt);return this._current=bi(0),Kn=>{const Ar=bi(Kn);return[M.centroid(Ar),V.centroid(Ar)]}}):Pt.attr("points",wt=>[M.centroid(wt),V.centroid(wt)]),Pt.style("visibility",wt=>wt.endAngle-wt.startAngle<1e-4?"hidden":"visible")}_updateElements(p,M){this._updateSlicePaths(p,M),this._updateLabels(p,M),this._updateTitles(p)}_updateSlicePaths(p,M){const A=this._g.selectAll(`g.${this._sliceCssClass}`).data(p).select("path").attr("d",(Pt,wt)=>this._safeArc(Pt,wt,M)),V=ui(A,this.transitionDuration(),this.transitionDelay());if(V.attrTween){const Pt=this;V.attrTween("d",function(wt){return Pt._tweenPie(wt,this)})}V.attr("fill",(Pt,wt)=>this._fill(Pt,wt))}_updateLabels(p,M){if(this.renderLabel()){const A=this._g.selectAll(`text.${this._labelCssClass}`).data(p);this._positionLabels(A,M),this._externalLabelRadius&&this._drawPaths&&this._updateLabelPaths(p,M)}}_updateTitles(p){this.renderTitle()&&this._g.selectAll(`g.${this._sliceCssClass}`).data(p).select("title").text(M=>this.title()(M.data))}_removeElements(p,M){p.exit().remove(),M.exit().remove()}_highlightFilter(){const p=this;this.hasFilter()?this.selectAll(`g.${this._sliceCssClass}`).each(function(M){p._isSelectedSlice(M)?p.highlightSelected(this):p.fadeDeselected(this)}):this.selectAll(`g.${this._sliceCssClass}`).each(function(){p.resetHighlight(this)})}externalRadiusPadding(p){return arguments.length?(this._externalRadiusPadding=p,this):this._externalRadiusPadding}innerRadius(p){return arguments.length?(this._innerRadius=p,this):this._innerRadius}radius(p){return arguments.length?(this._givenRadius=p,this):this._givenRadius}cx(p){return arguments.length?(this._cx=p,this):this._cx||this.width()/2}cy(p){return arguments.length?(this._cy=p,this):this._cy||this.height()/2}_buildArcs(){return $.arc().outerRadius(this._radius-this._externalRadiusPadding).innerRadius(this._innerRadius)}_isSelectedSlice(p){return this.hasFilter(this.cappedKeyAccessor(p.data))}_doRedraw(){return this._drawChart(),this}minAngleForLabel(p){return arguments.length?(this._minAngleForLabel=p,this):this._minAngleForLabel}_pieLayout(){return $.pie().sort(null).value(p=>this.cappedValueAccessor(p))}_sliceTooSmall(p){const M=p.endAngle-p.startAngle;return isNaN(M)||M<this._minAngleForLabel}_sliceHasNoData(p){return 0===this.cappedValueAccessor(p)}_isOffCanvas(p){return!p||isNaN(p.startAngle)||isNaN(p.endAngle)}_fill(p,M){return this.getColor(p.data,M)}_onClick(p){this._g.attr("class")!==this._emptyCssClass&&this.onClick(p.data)}_safeArc(p,M,A){let V=A(p,M);return V.indexOf("NaN")>=0&&(V="M0,0"),V}emptyTitle(p){return 0===arguments.length?this._emptyTitle:(this._emptyTitle=p,this)}externalLabels(p){return 0===arguments.length?this._externalLabelRadius:(this._externalLabelRadius=p||void 0,this)}drawPaths(p){return 0===arguments.length?this._drawPaths:(this._drawPaths=p,this)}_labelPosition(p,M){let A;return A=this._externalLabelRadius?$.arc().outerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).innerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).centroid(p):M.centroid(p),isNaN(A[0])||isNaN(A[1])?"translate(0,0)":`translate(${A})`}legendables(){return this.data().map((p,M)=>{const A={name:p.key,data:p.value,others:p.others,chart:this};return A.color=this.getColor(p,M),A})}legendHighlight(p){this._highlightSliceFromLegendable(p,!0)}legendReset(p){this._highlightSliceFromLegendable(p,!1)}legendToggle(p){this.onClick({key:p.name,others:p.others})}_highlightSliceFromLegendable(p,M){this.selectAll("g.pie-slice").each(function(A){p.name===A.data.key&&ot.select(this).classed("highlight",M)})}_tweenPie(p,M){p.innerRadius=this._innerRadius;let A=M._current;A=this._isOffCanvas(A)?{startAngle:0,endAngle:0}:{startAngle:A.startAngle,endAngle:A.endAngle};const V=J.interpolate(A,p);return M._current=V(0),Pt=>this._safeArc(V(Pt),0,this._buildArcs())}}class vm extends(je(yi(or))){constructor(p,M){super(),this._g=void 0,this._labelOffsetX=10,this._labelOffsetY=15,this._hasLabelOffsetY=!1,this._dyOffset="0.35em",this._titleLabelOffsetX=2,this._gap=5,this._fixedBarHeight=!1,this._rowCssClass="row",this._titleRowCssClass="titlerow",this._renderTitleLabel=!1,this._x=void 0,this._elasticX=void 0,this._xAxis=q.axisBottom(),this._rowData=void 0,this.rowsCap=this.cap,this.title(A=>`${this.cappedKeyAccessor(A)}: ${this.cappedValueAccessor(A)}`),this.label(A=>this.cappedKeyAccessor(A)),this.anchor(p,M)}_calculateAxisScale(){if(!this._x||this._elasticX){const p=ft.extent(this._rowData,M=>this.cappedValueAccessor(M));p[0]>0&&(p[0]=0),p[1]<0&&(p[1]=0),this._x=rt.scaleLinear().domain(p).range([0,this.effectiveWidth()])}this._xAxis.scale(this._x)}_drawAxis(){let p=this._g.select("g.axis");this._calculateAxisScale(),p.empty()&&(p=this._g.append("g").attr("class","axis")),p.attr("transform",`translate(0, ${this.effectiveHeight()})`),ui(p,this.transitionDuration(),this.transitionDelay()).call(this._xAxis)}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this._drawChart(),this}x(p){return arguments.length?(this._x=p,this):this._x}_drawGridLines(){this._g.selectAll("g.tick").select("line.grid-line").remove(),this._g.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",()=>-this.effectiveHeight())}_drawChart(){this._rowData=this.data(),this._drawAxis(),this._drawGridLines();let p=this._g.selectAll(`g.${this._rowCssClass}`).data(this._rowData);this._removeElements(p),p=this._createElements(p).merge(p),this._updateElements(p)}_createElements(p){const M=p.enter().append("g").attr("class",(A,V)=>`${this._rowCssClass} _${V}`);return M.append("rect").attr("width",0),this._createLabels(M),M}_removeElements(p){p.exit().remove()}_rootValue(){const p=this._x(0);return p===-1/0||p!=p?this._x(1):p}_updateElements(p){const M=this._rowData.length;let A;A=this._fixedBarHeight?this._fixedBarHeight:(this.effectiveHeight()-(M+1)*this._gap)/M,this._hasLabelOffsetY||(this._labelOffsetY=A/2);const V=p.attr("transform",(Pt,wt)=>`translate(0,${(wt+1)*this._gap+wt*A})`).select("rect").attr("height",A).attr("fill",this.getColor).on("click",Nt.eventHandler(Pt=>this._onClick(Pt))).classed("dc-tabbable",this._keyboardAccessible).classed("deselected",Pt=>!!this.hasFilter()&&!this._isSelectedRow(Pt)).classed("selected",Pt=>!!this.hasFilter()&&this._isSelectedRow(Pt));this._keyboardAccessible&&this._makeKeyboardAccessible(Pt=>this._onClick(Pt)),ui(V,this.transitionDuration(),this.transitionDelay()).attr("width",Pt=>Math.abs(this._rootValue()-this._x(this.cappedValueAccessor(Pt)))).attr("transform",Pt=>this._translateX(Pt)),this._createTitles(p),this._updateLabels(p)}_createTitles(p){this.renderTitle()&&(p.select("title").remove(),p.append("title").text(this.title()))}_createLabels(p){this.renderLabel()&&p.append("text").on("click",Nt.eventHandler(M=>this._onClick(M))),this.renderTitleLabel()&&p.append("text").attr("class",this._titleRowCssClass).on("click",Nt.eventHandler(M=>this._onClick(M)))}_updateLabels(p){if(this.renderLabel()){const M=p.select("text").attr("x",this._labelOffsetX).attr("y",this._labelOffsetY).attr("dy",this._dyOffset).on("click",Nt.eventHandler(A=>this._onClick(A))).attr("class",(A,V)=>`${this._rowCssClass} _${V}`).text(A=>this.label()(A));ui(M,this.transitionDuration(),this.transitionDelay()).attr("transform",A=>this._translateX(A))}if(this.renderTitleLabel()){const M=p.select(`.${this._titleRowCssClass}`).attr("x",this.effectiveWidth()-this._titleLabelOffsetX).attr("y",this._labelOffsetY).attr("dy",this._dyOffset).attr("text-anchor","end").on("click",Nt.eventHandler(A=>this._onClick(A))).attr("class",(A,V)=>`${this._titleRowCssClass} _${V}`).text(A=>this.title()(A));ui(M,this.transitionDuration(),this.transitionDelay()).attr("transform",A=>this._translateX(A))}}renderTitleLabel(p){return arguments.length?(this._renderTitleLabel=p,this):this._renderTitleLabel}_onClick(p){this.onClick(p)}_translateX(p){const M=this._x(this.cappedValueAccessor(p)),A=this._rootValue();return`translate(${M>A?A:M},0)`}_doRedraw(){return this._drawChart(),this}xAxis(p){return arguments.length?(this._xAxis=p,this):this._xAxis}fixedBarHeight(p){return arguments.length?(this._fixedBarHeight=p,this):this._fixedBarHeight}gap(p){return arguments.length?(this._gap=p,this):this._gap}elasticX(p){return arguments.length?(this._elasticX=p,this):this._elasticX}labelOffsetX(p){return arguments.length?(this._labelOffsetX=p,this):this._labelOffsetX}labelOffsetY(p){return arguments.length?(this._labelOffsetY=p,this._hasLabelOffsetY=!0,this):this._labelOffsetY}titleLabelOffsetX(p){return arguments.length?(this._titleLabelOffsetX=p,this):this._titleLabelOffsetX}_isSelectedRow(p){return this.hasFilter(this.cappedKeyAccessor(p))}}class e_ extends Yl{constructor(p,M){super(),this._symbol=$.symbol(),this._existenceAccessor=V=>V.value;const A=this.keyAccessor();this.keyAccessor(V=>A(V)[0]),this.valueAccessor(V=>A(V)[1]),this.colorAccessor(()=>this._groupName),this.title(V=>`${this.keyAccessor()(V)},${this.valueAccessor()(V)}: ${this.existenceAccessor()(V)}`),this._highlightedSize=7,this._symbolSize=5,this._excludedSize=3,this._excludedColor=null,this._excludedOpacity=1,this._emptySize=0,this._emptyOpacity=0,this._nonemptyOpacity=1,this._emptyColor=null,this._filtered=[],this._canvas=null,this._context=null,this._useCanvas=!1,this.brush(it.brush()),this._symbol.size((V,Pt)=>this._elementSize(V,Pt)),this.anchor(p,M)}_canvasElementSize(p,M){return this._existenceAccessor(p)?M?this._symbolSize/Math.sqrt(Math.PI):this._excludedSize/Math.sqrt(Math.PI):this._emptySize/Math.sqrt(Math.PI)}_elementSize(p,M){return this._existenceAccessor(p)?this._filtered[M]?Math.pow(this._symbolSize,2):Math.pow(this._excludedSize,2):Math.pow(this._emptySize,2)}_locator(p){return`translate(${this.x()(this.keyAccessor()(p))},${this.y()(this.valueAccessor()(p))})`}filter(p){return arguments.length?super.filter(_r.RangedTwoDimensionalFilter(p)):super.filter()}resetSvg(){if(this._useCanvas){super.resetSvg(),this.select("canvas").remove();const p=this.svg();this.root().style("position","relative"),p.style("position","relative");const A=isNaN(parseInt(p.style("left"),10))?0:parseInt(p.style("left"),10),V=isNaN(parseInt(p.style("top"),10))?0:parseInt(p.style("top"),10),Pt=this.effectiveWidth(),wt=this.effectiveHeight(),Ye=this.margins(),bi=window.devicePixelRatio||1;return this._canvas=this.root().append("canvas").attr("x",0).attr("y",0).attr("width",Pt*bi).attr("height",wt*bi).style("width",`${Pt}px`).style("height",`${wt}px`).style("position","absolute").style("top",`${Ye.top+V}px`).style("left",`${Ye.left+A}px`).style("z-index",-1).style("pointer-events","none"),this._context=this._canvas.node().getContext("2d"),this._context.scale(bi,bi),this._context.rect(0,0,Pt,wt),this._context.clip(),this._context.imageSmoothingQuality="high",this.svg()}return super.resetSvg()}_resizeCanvas(){const p=this.effectiveWidth(),M=this.effectiveHeight(),A=window.devicePixelRatio||1;this._canvas.attr("width",p*A).attr("height",M*A).style("width",`${p}px`).style("height",`${M}px`),this._context.scale(A,A)}useCanvas(p){return arguments.length?(this._useCanvas=p,this):this._useCanvas}canvas(p){return arguments.length?(this._canvas=p,this):this._canvas}context(){return this._context}_plotOnCanvas(p){this._resizeCanvas();const M=this.context();M.clearRect(0,0,1*(M.canvas.width+2),1*(M.canvas.height+2)),this.data().forEach((V,Pt)=>{const wt=!this.filter()||this.filter().isFiltered([V.key[0],V.key[1]]);let Ye=1;Ye=this._existenceAccessor(V)?wt?this._nonemptyOpacity:this.excludedOpacity():this._emptyOpacity;let bi=null;bi=this._emptyColor&&!this._existenceAccessor(V)?this._emptyColor:this.excludedColor()&&!wt?this.excludedColor():this.getColor(V);let Kn=this._canvasElementSize(V,wt);if(p){const Ar=bi===p.color;Ar||(Ye=.1),Ar&&(Kn=this._highlightedSize/Math.sqrt(Math.PI))}M.save(),M.globalAlpha=Ye,M.beginPath(),M.arc(this.x()(this.keyAccessor()(V)),this.y()(this.valueAccessor()(V)),Kn,0,2*Math.PI,!0),M.fillStyle=bi,M.fill(),M.restore()})}_plotOnSVG(){const p=this.data();this._keyboardAccessible&&p.sort((A,V)=>ft.ascending(this.keyAccessor()(A),this.keyAccessor()(V)));let M=this.chartBodyG().selectAll("path.symbol").data(p);ui(M.exit(),this.transitionDuration(),this.transitionDelay()).attr("opacity",0).remove(),M=M.enter().append("path").attr("class","symbol").classed("dc-tabbable",this._keyboardAccessible).attr("opacity",0).attr("fill",this.getColor).attr("transform",A=>this._locator(A)).merge(M),this._keyboardAccessible&&(this._makeKeyboardAccessible(),M.order()),M.call(A=>this._renderTitles(A,p)),M.each((A,V)=>{this._filtered[V]=!this.filter()||this.filter().isFiltered([this.keyAccessor()(A),this.valueAccessor()(A)])}),ui(M,this.transitionDuration(),this.transitionDelay()).attr("opacity",(A,V)=>this._existenceAccessor(A)?this._filtered[V]?this._nonemptyOpacity:this.excludedOpacity():this._emptyOpacity).attr("fill",(A,V)=>this._emptyColor&&!this._existenceAccessor(A)?this._emptyColor:this.excludedColor()&&!this._filtered[V]?this.excludedColor():this.getColor(A)).attr("transform",A=>this._locator(A)).attr("d",this._symbol)}plotData(){this._useCanvas?this._plotOnCanvas():this._plotOnSVG()}_renderTitles(p,M){this.renderTitle()&&(p.selectAll("title").remove(),p.append("title").text(A=>this.title()(A)))}existenceAccessor(p){return arguments.length?(this._existenceAccessor=p,this):this._existenceAccessor}symbol(p){return arguments.length?(this._symbol.type(p),this):this._symbol.type()}customSymbol(p){return arguments.length?(this._symbol=p,this._symbol.size((M,A)=>this._elementSize(M,A)),this):this._symbol}symbolSize(p){return arguments.length?(this._symbolSize=p,this):this._symbolSize}highlightedSize(p){return arguments.length?(this._highlightedSize=p,this):this._highlightedSize}excludedSize(p){return arguments.length?(this._excludedSize=p,this):this._excludedSize}excludedColor(p){return arguments.length?(this._excludedColor=p,this):this._excludedColor}excludedOpacity(p){return arguments.length?(this._excludedOpacity=p,this):this._excludedOpacity}emptySize(p){return arguments.length?(this._emptySize=p,this):this._emptySize}hiddenSize(p){return arguments.length?this.emptySize(p):this.emptySize()}emptyColor(p){return arguments.length?(this._emptyColor=p,this):this._emptyColor}emptyOpacity(p){return arguments.length?(this._emptyOpacity=p,this):this._emptyOpacity}nonemptyOpacity(p){return arguments.length?(this._nonemptyOpacity=p,this):this._emptyOpacity}legendables(){return[{chart:this,name:this._groupName,color:this.getColor()}]}legendHighlight(p){this._useCanvas?this._plotOnCanvas(p):(this._resizeSymbolsWhere(M=>M.attr("fill")===p.color,this._highlightedSize),this.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return ot.select(this).attr("fill")!==p.color}).classed("fadeout",!0))}legendReset(p){this._useCanvas?this._plotOnCanvas(p):(this._resizeSymbolsWhere(M=>M.attr("fill")===p.color,this._symbolSize),this.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return ot.select(this).attr("fill")!==p.color}).classed("fadeout",!1))}_resizeSymbolsWhere(p,M){const A=this.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return p(ot.select(this))}),V=this._symbol.size();this._symbol.size(Math.pow(M,2)),ui(A,this.transitionDuration(),this.transitionDelay()).attr("d",this._symbol),this._symbol.size(V)}createBrushHandlePaths(){}extendBrush(p){return this.round()&&(p[0]=p[0].map(this.round()),p[1]=p[1].map(this.round())),p}brushIsEmpty(p){return!p||p[0][0]>=p[1][0]||p[0][1]>=p[1][1]}_brushing(p){if(this._ignoreBrushEvents)return;let M=p.selection,A=this.brushIsEmpty(M);M&&(M=M.map(Pt=>Pt.map((wt,Ye)=>(0===Ye?this.x():this.y()).invert(wt))),M=this.extendBrush(M),A=A&&this.brushIsEmpty(M)),this.redrawBrush(M,!1);const V=A?null:_r.RangedTwoDimensionalFilter(M);Ae.trigger(()=>{this.replaceFilter(V),this.redrawGroup()},_e.EVENT_DELAY)}redrawBrush(p,M){if(this._gBrush=this.gBrush(),this.brushOn()&&this._gBrush)if(this.resizing()&&this.setBrushExtents(M),p){p=p.map(V=>V.map((Pt,wt)=>(0===wt?this.x():this.y())(Pt)));const A=$n(M,this.transitionDuration(),this.transitionDelay())(this._gBrush);this._withoutBrushEvents(()=>{A.call(this.brush().move,p)})}else this._withoutBrushEvents(()=>{this._gBrush.call(this.brush().move,p)});this.fadeDeselectedArea(p)}}const Eh="dc-select-option";class i_ extends Re{constructor(p,M){super(),this._select=void 0,this._promptText="Select all",this._multiple=!1,this._promptValue=null,this._numberVisible=null,this.data(A=>A.all().filter(this._filterDisplayed)),this._filterDisplayed=A=>this.valueAccessor()(A)>0,this._order=(A,V)=>this.keyAccessor()(A)>this.keyAccessor()(V)?1:this.keyAccessor()(A)<this.keyAccessor()(V)?-1:0,this.anchor(p,M)}_doRender(){return this.select("select").remove(),this._select=this.root().append("select").classed("dc-select-menu",!0),this._select.append("option").text(this._promptText).attr("value",""),this._doRedraw(),this}_doRedraw(){return this._setAttributes(),this._renderOptions(),this.hasFilter()&&this._multiple?this._select.selectAll("option").property("selected",p=>typeof p<"u"&&this.filters().indexOf(String(this.keyAccessor()(p)))>=0):this.hasFilter()?this._select.property("value",this.filter()):this._select.property("value",""),this}_renderOptions(){const p=this._select.selectAll(`option.${Eh}`).data(this.data(),M=>this.keyAccessor()(M));p.exit().remove(),p.enter().append("option").classed(Eh,!0).attr("value",M=>this.keyAccessor()(M)).merge(p).text(this.title()),this._select.selectAll(`option.${Eh}`).sort(this._order),this._select.on("change",Nt.eventHandler((M,A)=>this._onChange(M,A)))}_onChange(p,M){let A;const V=M.target;A=V.selectedOptions?Array.prototype.slice.call(V.selectedOptions).map(wt=>wt.value):[].slice.call(M.target.options).filter(wt=>wt.selected).map(wt=>wt.value),1===A.length&&""===A[0]?A=this._promptValue||null:!this._multiple&&1===A.length&&(A=A[0]),this.onChange(A)}onChange(p){p&&this._multiple?this.replaceFilter([p]):p?this.replaceFilter(p):this.filterAll(),Ae.trigger(()=>{this.redrawGroup()})}_setAttributes(){this._select.attr("multiple",!!this._multiple||null),this._select.attr("size",null!==this._numberVisible?this._numberVisible:null)}order(p){return arguments.length?(this._order=p,this):this._order}promptText(p){return arguments.length?(this._promptText=p,this):this._promptText}filterDisplayed(p){return arguments.length?(this._filterDisplayed=p,this):this._filterDisplayed}multiple(p){return arguments.length?(this._multiple=p,this):this._multiple}promptValue(p){return arguments.length?(this._promptValue=p,this):this._promptValue}numberVisible(p){return arguments.length?(this._numberVisible=p,this):this._numberVisible}size(p){return Ft.warnOnce("selectMenu.size is ambiguous - use selectMenu.numberVisible instead"),arguments.length?this.numberVisible(p):this.numberVisible()}}class y1 extends Xg{constructor(p,M){super(p,M),this._keySort=(A,V)=>ft.ascending(this.keyAccessor()(A),this.keyAccessor()(V)),this._charts={},this._chartFunction=cu,this._chartGroup=M,this._seriesAccessor=void 0,this._seriesSort=ft.ascending,this._valueSort=this._keySort,this._mandatoryAttributes().push("seriesAccessor","chart"),this.shareColors(!0)}_compose(p){super.compose(p)}compose(p){throw new Error("Not supported for this chart type")}_preprocessData(){const p=[];let M;const V=Nt.nester({key:this._seriesAccessor,sortKeys:this._seriesSort,sortValues:this._valueSort,entries:this.data()}).map((Pt,wt)=>{const Ye=this._charts[Pt.key]||this._chartFunction(this,this._chartGroup,Pt.key,wt);return this._charts[Pt.key]||(M=!0),this._charts[Pt.key]=Ye,p.push(Pt.key),Ye.dimension(this.dimension()).group({all:"function"==typeof Pt.values?Pt.values:Jt.constant(Pt.values)},Pt.key).keyAccessor(this.keyAccessor()).valueAccessor(this.valueAccessor()).brushOn(!1)});Object.keys(this._charts).filter(Pt=>-1===p.indexOf(Pt)).forEach(Pt=>{this._clearChart(Pt),M=!0}),this._compose(V),M&&this.legend()&&this.legend().render()}_clearChart(p){this._charts[p].g()&&this._charts[p].g().remove(),delete this._charts[p]}_resetChildren(){Object.keys(this._charts).map(this._clearChart.bind(this)),this._charts={}}chart(p){return arguments.length?(this._chartFunction=p,this._resetChildren(),this):this._chartFunction}seriesAccessor(p){return arguments.length?(this._seriesAccessor=p,this._resetChildren(),this):this._seriesAccessor}seriesSort(p){return arguments.length?(this._seriesSort=p,this._resetChildren(),this):this._seriesSort}valueSort(p){return arguments.length?(this._valueSort=p,this._resetChildren(),this):this._valueSort}}class du extends(yi(Re)){constructor(p,M){super(),this._sliceCssClass="pie-slice",this._emptyCssClass="empty-chart",this._emptyTitle="empty",this._radius=void 0,this._givenRadius=void 0,this._innerRadius=0,this._ringSizes=null,this._g=void 0,this._cx=void 0,this._cy=void 0,this._minAngleForLabel=.5,this._externalLabelRadius=void 0,this.colorAccessor(A=>this.keyAccessor()(A)),this.ordering(K("key")),this.title(A=>`${this.keyAccessor()(A)}: ${this._extendedValueAccessor(A)}`),this.label(A=>this.keyAccessor()(A)),this.renderLabel(!0),this.transitionDuration(350),this.anchor(p,M)}_extendedValueAccessor(p){return p.path?p.value:this.valueAccessor()(p)}_scaleRadius(p,M){if(0===p)return this._innerRadius;{const A=ft.sum(this.ringSizes().relativeRingSizes.slice(0,p)),V=p*(1/this.ringSizes().relativeRingSizes.length)/A,Pt=(M-this.ringSizes().rootOffset)/(1-this.ringSizes().rootOffset)*(this._radius-this._innerRadius);return this._innerRadius+Pt/V}}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.cx()},${this.cy()})`),this._drawChart(),this}_drawChart(){const p=ft.min([this.width(),this.height()])/2;this._radius=this._givenRadius&&this._givenRadius<p?this._givenRadius:p;const M=this._buildArcs();let A,V;if(ft.sum(this.data(),this.valueAccessor())?(V=Jt.toHierarchy(this.data(),this.valueAccessor()),A=this._partitionNodes(V),A.nodes.shift(),this._g.classed(this._emptyCssClass,!1)):(V=Jt.toHierarchy([],Pt=>Pt.value),A=this._partitionNodes(V),this._g.classed(this._emptyCssClass,!0)),this.ringSizes().rootOffset=A.rootOffset,this.ringSizes().relativeRingSizes=A.relativeRingSizes,this._g){const Pt=this._g.selectAll(`g.${this._sliceCssClass}`).data(A.nodes);this._createElements(Pt,M,A.nodes),this._updateElements(A.nodes,M),this._removeElements(Pt),this._highlightFilter(),ui(this._g,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.cx()},${this.cy()})`)}}_createElements(p,M,A){const V=this._createSliceNodes(p);this._createSlicePath(V,M),this._createTitles(V),this._createLabels(A,M)}_createSliceNodes(p){return p.enter().append("g").attr("class",(M,A)=>`${this._sliceCssClass} _${A} ${this._sliceCssClass}-level-${M.depth}`)}_createSlicePath(p,M){const A=p.append("path").attr("fill",(Pt,wt)=>this._fill(Pt,wt)).on("click",Nt.eventHandler(Pt=>this.onClick(Pt))).classed("dc-tabbable",this._keyboardAccessible).attr("d",Pt=>this._safeArc(M,Pt));this._keyboardAccessible&&this._makeKeyboardAccessible(this.onClick);const V=ui(A,this.transitionDuration());if(V.attrTween){const Pt=this;V.attrTween("d",function(wt){return Pt._tweenSlice(wt,this)})}}_createTitles(p){this.renderTitle()&&p.append("title").text(M=>this.title()(M))}_positionLabels(p,M){ui(p,this.transitionDuration()).attr("transform",A=>this._labelPosition(A,M)).attr("text-anchor","middle").text(A=>this._sliceHasNoData(A)||this._sliceTooSmall(A)?"":this.label()(A))}_createLabels(p,M){if(this.renderLabel()){const A=this._g.selectAll(`text.${this._sliceCssClass}`).data(p);A.exit().remove();const V=A.enter().append("text").attr("class",(Pt,wt)=>{let Ye=`${this._sliceCssClass} _${wt}`;return this._externalLabelRadius&&(Ye+=" external"),Ye}).on("click",Nt.eventHandler(Pt=>this.onClick(Pt)));this._positionLabels(V,M)}}_updateElements(p,M){this._updateSlicePaths(p,M),this._updateLabels(p,M),this._updateTitles(p)}_updateSlicePaths(p,M){const A=this._g.selectAll(`g.${this._sliceCssClass}`).data(p).select("path").attr("d",(Pt,wt)=>this._safeArc(M,Pt)),V=ui(A,this.transitionDuration());if(V.attrTween){const Pt=this;V.attrTween("d",function(wt){return Pt._tweenSlice(wt,this)})}V.attr("fill",(Pt,wt)=>this._fill(Pt,wt))}_updateLabels(p,M){if(this.renderLabel()){const A=this._g.selectAll(`text.${this._sliceCssClass}`).data(p);this._positionLabels(A,M)}}_updateTitles(p){this.renderTitle()&&this._g.selectAll(`g.${this._sliceCssClass}`).data(p).select("title").text(M=>this.title()(M))}_removeElements(p){p.exit().remove()}_highlightFilter(){const p=this;p.hasFilter()?p.selectAll(`g.${p._sliceCssClass}`).each(function(M){p._isSelectedSlice(M)?p.highlightSelected(this):p.fadeDeselected(this)}):p.selectAll(`g.${p._sliceCssClass}`).each(function(M){p.resetHighlight(this)})}innerRadius(p){return arguments.length?(this._innerRadius=p,this):this._innerRadius}radius(p){return arguments.length?(this._givenRadius=p,this):this._givenRadius}cx(p){return arguments.length?(this._cx=p,this):this._cx||this.width()/2}cy(p){return arguments.length?(this._cy=p,this):this._cy||this.height()/2}minAngleForLabel(p){return arguments.length?(this._minAngleForLabel=p,this):this._minAngleForLabel}emptyTitle(p){return 0===arguments.length?this._emptyTitle:(this._emptyTitle=p,this)}externalLabels(p){return 0===arguments.length?this._externalLabelRadius:(this._externalLabelRadius=p||void 0,this)}defaultRingSizes(){return{partitionDy:()=>this._radius*this._radius,scaleInnerRadius:p=>p.data.path&&1===p.data.path.length?this._innerRadius:Math.sqrt(p.y0),scaleOuterRadius:p=>Math.sqrt(p.y1),relativeRingSizesFunction:()=>[]}}equalRingSizes(){return this.relativeRingSizes(p=>{const M=[];for(let A=0;A<p;A++)M.push(1/p);return M})}relativeRingSizes(p){return{partitionDy:()=>1,scaleInnerRadius:A=>this._scaleRadius(A.data.path.length-1,A.y0),scaleOuterRadius:A=>this._scaleRadius(A.data.path.length,A.y1),relativeRingSizesFunction:A=>{const V=p(A);return function M(A,V){if(!Array.isArray(A))throw new Xt("relativeRingSizes function must return an array");const Pt=ft.sum(A);if(Math.abs(Pt-1)>_e.NEGLIGIBLE_NUMBER)throw new Xt(`relativeRingSizes : portions must add up to 1, but sum was ${Pt}`);if(A.length!==V)throw new Xt(`relativeRingSizes : number of values must match number of rings (${V}) but was ${A.length}`)}(V,A),V}}}ringSizes(p){return arguments.length?(this._ringSizes=p,this):(this._ringSizes||(this._ringSizes=this.defaultRingSizes()),this._ringSizes)}_buildArcs(){return $.arc().startAngle(p=>p.x0).endAngle(p=>p.x1).innerRadius(p=>this.ringSizes().scaleInnerRadius(p)).outerRadius(p=>this.ringSizes().scaleOuterRadius(p))}_isSelectedSlice(p){return this._isPathFiltered(p.path)}_isPathFiltered(p){for(let M=0;M<this.filters().length;M++)if(this.filters()[M].isFiltered(p))return!0;return!1}_filtersForPath(p){const M=_r.HierarchyFilter(p),A=[];for(let V=0;V<this.filters().length;V++){const Pt=this.filters()[V];(Pt.isFiltered(p)||M.isFiltered(Pt))&&A.push(Pt)}return A}_doRedraw(){return this._drawChart(),this}_partitionNodes(p){const M=function(Ye){return{key:Ye.data.key,value:Ye.value}},A=Dt.hierarchy(p).sum(Ye=>Ye.children?0:this._extendedValueAccessor(Ye)).sort((Ye,bi)=>ft.ascending(this.ordering()(M(Ye)),this.ordering()(M(bi))));Dt.partition().size([2*Math.PI,this.ringSizes().partitionDy()])(A);const Pt=A.descendants().map(Ye=>(Ye.key=Ye.data.key,Ye.path=Ye.data.path,Ye)),wt=this.ringSizes().relativeRingSizesFunction(A.height);return{nodes:Pt,rootOffset:A.y1,relativeRingSizes:wt}}_sliceTooSmall(p){const M=p.x1-p.x0;return isNaN(M)||M<this._minAngleForLabel}_sliceHasNoData(p){return 0===this._extendedValueAccessor(p)}_isOffCanvas(p){return!p||isNaN(p.x0)||isNaN(p.y0)}_fill(p,M){return this.getColor(p.data,M)}onClick(p){if(this._g.attr("class")===this._emptyCssClass)return;const M=p.path||p.key,A=_r.HierarchyFilter(M),V=this._filtersForPath(M);let Pt=!1;for(let wt=V.length-1;wt>=0;wt--)Jt.arraysIdentical(V[wt],M)&&(Pt=!0),this.filter(V[wt]);Ae.trigger(()=>{Pt||this.filter(A),this.redrawGroup()})}_safeArc(p,M){let A=p(M);return A.indexOf("NaN")>=0&&(A="M0,0"),A}_labelPosition(p,M){let A;return A=this._externalLabelRadius?$.arc().outerRadius(this._radius+this._externalLabelRadius).innerRadius(this._radius+this._externalLabelRadius).centroid(p):M.centroid(p),isNaN(A[0])||isNaN(A[1])?"translate(0,0)":`translate(${A})`}legendables(){return this.data().map((p,M)=>{const A={name:p.key,data:p.value,others:p.others,chart:this};return A.color=this.getColor(p,M),A})}legendHighlight(p){this._highlightSliceFromLegendable(p,!0)}legendReset(p){this._highlightSliceFromLegendable(p,!1)}legendToggle(p){this.onClick({key:p.name,others:p.others})}_highlightSliceFromLegendable(p,M){this.selectAll("g.pie-slice").each(function(A){p.name===A.key&&ot.select(this).classed("highlight",M)})}_tweenSlice(p,M){let A=M._current;this._isOffCanvas(A)&&(A={x0:0,x1:0,y0:0,y1:0});const Pt=J.interpolate(A,{x0:p.x0,x1:p.x1,y0:p.y0,y1:p.y1});return M._current=Pt(0),wt=>this._safeArc(this._buildArcs(),Object.assign({},p,Pt(wt)))}}class nv extends Re{constructor(p,M){super(),this._normalize=A=>A.toLowerCase(),this._filterFunctionFactory=A=>(A=this._normalize(A),V=>-1!==this._normalize(V).indexOf(A)),this._placeHolder="search",this.group(()=>{throw"the group function on textFilterWidget should never be called, please report the issue"}),this.anchor(p,M)}_doRender(){this.select("input").remove(),this._input=this.root().append("input").classed("dc-text-filter-input",!0);const p=this;return this._input.on("input",function(){p.dimension().filterFunction(p._filterFunctionFactory(this.value)),Ae.trigger(()=>{p.redrawGroup()},_e.EVENT_DELAY)}),this._doRedraw(),this}_doRedraw(){return this.root().selectAll("input").attr("placeholder",this._placeHolder),this}normalize(p){return arguments.length?(this._normalize=p,this):this._normalize}placeHolder(p){return arguments.length?(this._placeHolder=p,this):this._placeHolder}filterFunctionFactory(p){return arguments.length?(this._filterFunctionFactory=p,this):this._filterFunctionFactory}}+Yt.version[0]<6&&Object.assign(Nt,{eventHandler:xt=>function(M,A){xt.call(this,M,ot.event)},callHandler:function(p,M,A,V){p.call(M,V)},nester:({key:xt,sortKeys:p,sortValues:M,entries:A})=>{const V=Ut.nest().key(xt);return p&&V.sortKeys(p),M&&V.sortValues(M),V.entries(A)},pointer:(xt,p)=>ot.mouse(p)}),+Yt.version[0]>5&&Object.assign(Nt,{eventHandler:xt=>function(M,A){xt.call(this,A,M)},callHandler:function(p,M,A,V){p.call(M,A,V)},nester:({key:xt,sortKeys:p,sortValues:M,entries:A})=>{M&&(A=[...A].sort(M));let V=ft.groups(A,xt);return p&&(V=V.sort(p)),V.map(Pt=>({key:`${Pt[0]}`,values:Pt[1]}))},pointer:ot.pointer}),ht.BadArgumentException=Xt,ht.BarChart=Zb,ht.BaseMixin=Re,ht.BoxPlot=bh,ht.BubbleChart=au,ht.BubbleMixin=ti,ht.BubbleOverlay=mm,ht.CapMixin=je,ht.CboxMenu=vh,ht.ColorMixin=yi,ht.CompositeChart=Xg,ht.Config=ge,ht.CoordinateGridMixin=Yl,ht.DataCount=pm,ht.DataGrid=c1,ht.DataTable=m1,ht.GeoChoroplethChart=en,ht.HeatMap=Qg,ht.HtmlLegend=tv,ht.InvalidStateException=co,ht.Legend=ev,ht.LineChart=xh,ht.Logger=Oe,ht.MarginMixin=or,ht.NumberDisplay=Jg,ht.PieChart=_1,ht.RowChart=vm,ht.ScatterPlot=e_,ht.SelectMenu=i_,ht.SeriesChart=y1,ht.StackMixin=Hn,ht.SunburstChart=du,ht.TextFilterWidget=nv,ht.afterTransition=function(xt,p){if(xt.empty()||!xt.duration)p.call(xt);else{let M=0;xt.each(()=>{++M}).on("end",()=>{--M||p.call(xt)})}},ht.barChart=(xt,p)=>new Zb(xt,p),ht.baseMixin=()=>new Re,ht.boxPlot=(xt,p)=>new bh(xt,p),ht.bubbleChart=(xt,p)=>new au(xt,p),ht.bubbleOverlay=(xt,p)=>new mm(xt,p),ht.cboxMenu=(xt,p)=>new vh(xt,p),ht.chartRegistry=St,ht.compositeChart=(xt,p)=>new Xg(xt,p),ht.config=ct,ht.constants=_e,ht.d3Box=ad,ht.d3compat=Nt,ht.dataCount=(xt,p)=>new pm(xt,p),ht.dataGrid=(xt,p)=>new c1(xt,p),ht.dataTable=(xt,p)=>new m1(xt,p),ht.deregisterAllCharts=function(xt){St.clear(xt)},ht.deregisterChart=ve,ht.events=Ae,ht.filterAll=function(xt){const p=St.list(xt);for(let M=0;M<p.length;++M)p[M].filterAll()},ht.filters=_r,ht.geoChoroplethChart=(xt,p)=>new en(xt,p),ht.hasChart=function(xt){return St.has(xt)},ht.heatMap=(xt,p)=>new Qg(xt,p),ht.htmlLegend=()=>new tv,ht.instanceOfChart=Xn,ht.legend=()=>new ev,ht.lineChart=cu,ht.logger=Ft,ht.numberDisplay=(xt,p)=>new Jg(xt,p),ht.optionalTransition=$n,ht.pieChart=(xt,p)=>new _1(xt,p),ht.pluck=K,ht.printers=W,ht.redrawAll=ze,ht.refocusAll=function(xt){const p=St.list(xt);for(let M=0;M<p.length;++M)p[M].focus&&p[M].focus()},ht.registerChart=ee,ht.renderAll=Qe,ht.renderlet=function(xt){return arguments.length?(ct._renderlet=xt,null):ct._renderlet},ht.rowChart=(xt,p)=>new vm(xt,p),ht.scatterPlot=(xt,p)=>new e_(xt,p),ht.selectMenu=(xt,p)=>new i_(xt,p),ht.seriesChart=(xt,p)=>new y1(xt,p),ht.sunburstChart=(xt,p)=>new du(xt,p),ht.textFilterWidget=(xt,p)=>new nv(xt,p),ht.transition=ui,ht.units=vt,ht.utils=Jt,ht.version="4.2.7",Object.defineProperty(ht,"__esModule",{value:!0})}(Ot,Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27),Et(27))},27:(nn,Ot,Et)=>{"use strict";Et.r(Ot),Et.d(Ot,{Adder:()=>ze,Delaunay:()=>Mu,FormatSpecifier:()=>cy,InternMap:()=>rn,InternSet:()=>dn,Voronoi:()=>b4,active:()=>ZN,arc:()=>JM,area:()=>N0,areaRadial:()=>QO,ascending:()=>_t,autoType:()=>I4,axisBottom:()=>lu,axisLeft:()=>bm,axisRight:()=>ld,axisTop:()=>yh,bin:()=>Yl,bisect:()=>ge,bisectCenter:()=>Ft,bisectLeft:()=>Oe,bisectRight:()=>_e,bisector:()=>Dt,blob:()=>B4,brush:()=>q1,brushSelection:()=>Rc,brushX:()=>KN,brushY:()=>Fv,buffer:()=>CT,chord:()=>QN,chordDirected:()=>BD,chordTranspose:()=>ND,cluster:()=>Dp,color:()=>gu,contourDensity:()=>m4,contours:()=>u4,count:()=>ct,create:()=>HO,creator:()=>o_,cross:()=>ve,csv:()=>V4,csvFormat:()=>E4,csvFormatBody:()=>sT,csvFormatRow:()=>oT,csvFormatRows:()=>M4,csvFormatValue:()=>S4,csvParse:()=>gC,csvParseRows:()=>rT,cubehelix:()=>Hv,cumsum:()=>jt,curveBasis:()=>OG,curveBasisClosed:()=>V6,curveBasisOpen:()=>H6,curveBumpX:()=>sR,curveBumpY:()=>RG,curveBundle:()=>U6,curveCardinal:()=>uS,curveCardinalClosed:()=>aR,curveCardinalOpen:()=>lR,curveCatmullRom:()=>Cx,curveCatmullRomClosed:()=>cR,curveCatmullRomOpen:()=>G6,curveLinear:()=>bx,curveLinearClosed:()=>uR,curveMonotoneX:()=>Y6,curveMonotoneY:()=>Z6,curveNatural:()=>PG,curveStep:()=>LG,curveStepAfter:()=>Ex,curveStepBefore:()=>K6,descending:()=>Lt,deviation:()=>si,difference:()=>qk,disjoint:()=>Xk,dispatch:()=>nr,drag:()=>eT,dragDisable:()=>pu,dragEnable:()=>Rn,dsv:()=>ep,dsvFormat:()=>to,easeBack:()=>ny,easeBackIn:()=>O_,easeBackInOut:()=>ny,easeBackOut:()=>yT,easeBounce:()=>Gh,easeBounceIn:()=>bT,easeBounceInOut:()=>vT,easeBounceOut:()=>Gh,easeCircle:()=>ty,easeCircleIn:()=>R4,easeCircleInOut:()=>ty,easeCircleOut:()=>P4,easeCubic:()=>Y1,easeCubicIn:()=>YN,easeCubicInOut:()=>Y1,easeCubicOut:()=>Rh,easeElastic:()=>xT,easeElasticIn:()=>P_,easeElasticInOut:()=>wT,easeElasticOut:()=>xT,easeExp:()=>Jv,easeExpIn:()=>Qv,easeExpInOut:()=>Jv,easeExpOut:()=>yC,easeLinear:()=>cT,easePoly:()=>uT,easePolyIn:()=>vC,easePolyInOut:()=>uT,easePolyOut:()=>Kv,easeQuad:()=>I_,easeQuadIn:()=>dT,easeQuadInOut:()=>I_,easeQuadOut:()=>Jm,easeSin:()=>mT,easeSinIn:()=>A4,easeSinInOut:()=>mT,easeSinOut:()=>O4,every:()=>la,extent:()=>Qe,fcumsum:()=>$n,filter:()=>Jb,forceCenter:()=>MT,forceCollide:()=>AT,forceLink:()=>aG,forceManyBody:()=>RT,forceRadial:()=>ly,forceSimulation:()=>o5,forceX:()=>PT,forceY:()=>DC,format:()=>sp,formatDefaultLocale:()=>BT,formatLocale:()=>TC,formatPrefix:()=>N_,formatSpecifier:()=>L_,fsum:()=>ui,geoAlbers:()=>_I,geoAlbersUsa:()=>P5,geoArea:()=>BC,geoAzimuthalEqualArea:()=>L5,geoAzimuthalEqualAreaRaw:()=>TE,geoAzimuthalEquidistant:()=>F5,geoAzimuthalEquidistantRaw:()=>IE,geoBounds:()=>dp,geoCentroid:()=>jC,geoCircle:()=>YC,geoClipAntimeridian:()=>vy,geoClipCircle:()=>Kh,geoClipExtent:()=>tE,geoClipRectangle:()=>e0,geoConicConformal:()=>N5,geoConicConformalRaw:()=>f0,geoConicEqualArea:()=>Oy,geoConicEqualAreaRaw:()=>DE,geoConicEquidistant:()=>z5,geoConicEquidistantRaw:()=>yI,geoContains:()=>sI,geoDistance:()=>iE,geoEqualEarth:()=>xI,geoEqualEarthRaw:()=>Ly,geoEquirectangular:()=>B5,geoEquirectangularRaw:()=>m0,geoGnomonic:()=>Fy,geoGnomonicRaw:()=>wI,geoGraticule:()=>z,geoGraticule10:()=>oI,geoIdentity:()=>V5,geoInterpolate:()=>U,geoLength:()=>x5,geoMercator:()=>vI,geoMercatorRaw:()=>h0,geoNaturalEarth1:()=>OE,geoNaturalEarth1Raw:()=>AE,geoOrthographic:()=>jc,geoOrthographicRaw:()=>RE,geoPath:()=>Cd,geoProjection:()=>lc,geoProjectionMutator:()=>af,geoRotation:()=>p5,geoStereographic:()=>$o,geoStereographicRaw:()=>lf,geoStream:()=>oc,geoTransform:()=>T5,geoTransverseMercator:()=>Ny,geoTransverseMercatorRaw:()=>Ed,gray:()=>Zm,greatest:()=>Kb,greatestIndex:()=>Se,group:()=>Jt,groupSort:()=>Re,groups:()=>Me,hcl:()=>qm,hierarchy:()=>OI,histogram:()=>Yl,hsl:()=>M1,html:()=>oy,image:()=>sG,index:()=>vt,indexes:()=>Zt,interpolate:()=>Ja,interpolateArray:()=>lD,interpolateBasis:()=>k1,interpolateBasisClosed:()=>MN,interpolateBlues:()=>En,interpolateBrBG:()=>ss,interpolateBuGn:()=>d6,interpolateBuPu:()=>wO,interpolateCividis:()=>g6,interpolateCool:()=>BO,interpolateCubehelix:()=>YI,interpolateCubehelixDefault:()=>XM,interpolateCubehelixLong:()=>ZI,interpolateDate:()=>I1,interpolateDiscrete:()=>HI,interpolateGnBu:()=>CO,interpolateGreens:()=>m6,interpolateGreys:()=>AO,interpolateHcl:()=>WI,interpolateHclLong:()=>$I,interpolateHsl:()=>jn,interpolateHslLong:()=>Ei,interpolateHue:()=>fe,interpolateInferno:()=>w6,interpolateLab:()=>Or,interpolateMagma:()=>x6,interpolateNumber:()=>ha,interpolateNumberArray:()=>fv,interpolateObject:()=>h_,interpolateOrRd:()=>MO,interpolateOranges:()=>p6,interpolatePRGn:()=>o6,interpolatePiYG:()=>sx,interpolatePlasma:()=>C6,interpolatePuBu:()=>WM,interpolatePuBuGn:()=>u6,interpolatePuOr:()=>a6,interpolatePuRd:()=>kO,interpolatePurples:()=>RO,interpolateRainbow:()=>zO,interpolateRdBu:()=>ox,interpolateRdGy:()=>l6,interpolateRdPu:()=>cx.Z,interpolateRdYlBu:()=>c6,interpolateRdYlGn:()=>yO,interpolateReds:()=>xa,interpolateRgb:()=>As,interpolateRgbBasis:()=>yl,interpolateRgbBasisClosed:()=>hv,interpolateRound:()=>df,interpolateSinebow:()=>KM,interpolateSpectral:()=>Zr.Z,interpolateString:()=>Ih,interpolateTransformCss:()=>bD,interpolateTransformSvg:()=>vD,interpolateTurbo:()=>CG,interpolateViridis:()=>EG,interpolateWarm:()=>wG,interpolateYlGn:()=>f6,interpolateYlGnBu:()=>h6,interpolateYlOrBr:()=>IO,interpolateYlOrRd:()=>Ze,interpolateZoom:()=>Mt,interrupt:()=>ar,intersection:()=>u1,interval:()=>sB,isoFormat:()=>bR,isoParse:()=>rB,json:()=>xC,lab:()=>w_,lch:()=>il,least:()=>mm,leastIndex:()=>a1,line:()=>tS,lineRadial:()=>KO,linkHorizontal:()=>R6,linkRadial:()=>L6,linkVertical:()=>P6,local:()=>GO,map:()=>Zk,matcher:()=>i_,max:()=>ad,maxIndex:()=>qb,mean:()=>hr,median:()=>bh,merge:()=>au,min:()=>ou,minIndex:()=>Xb,namespace:()=>Xl,namespaces:()=>Aa,nice:()=>Ao,now:()=>f_,pack:()=>Z5,packEnclose:()=>By,packSiblings:()=>Uy,pairs:()=>An,partition:()=>BI,path:()=>Eu,permute:()=>Ve,pie:()=>k6,piecewise:()=>jE,pointRadial:()=>B0,pointer:()=>xl,pointers:()=>jO,polygonArea:()=>XI,polygonCentroid:()=>Wy,polygonContains:()=>uf,polygonHull:()=>WE,polygonLength:()=>$E,precisionFixed:()=>IC,precisionPrefix:()=>AC,precisionRound:()=>B_,quadtree:()=>ay,quantile:()=>Xa,quantileSorted:()=>Yb,quantize:()=>qI,quickselect:()=>Tc,radialArea:()=>QO,radialLine:()=>KO,randomBates:()=>tA,randomBernoulli:()=>eA,randomBeta:()=>qE,randomBinomial:()=>nA,randomCauchy:()=>sA,randomExponential:()=>r8,randomGamma:()=>ZE,randomGeometric:()=>iA,randomInt:()=>pG,randomIrwinHall:()=>JI,randomLcg:()=>lA,randomLogNormal:()=>n8,randomLogistic:()=>Np,randomNormal:()=>QI,randomPareto:()=>eo,randomPoisson:()=>s8,randomUniform:()=>YE,randomWeibull:()=>rA,range:()=>Oo,reduce:()=>Zl,reverse:()=>c1,rgb:()=>uv,ribbon:()=>tG,ribbonArrow:()=>eG,rollup:()=>zt,rollups:()=>W,scaleBand:()=>XE,scaleDiverging:()=>NM,scaleDivergingLog:()=>BM,scaleDivergingPow:()=>zM,scaleDivergingSqrt:()=>vG,scaleDivergingSymlog:()=>Yi,scaleIdentity:()=>eM,scaleImplicit:()=>Vi,scaleLinear:()=>cA,scaleLog:()=>Ko,scaleOrdinal:()=>ol,scalePoint:()=>Wc,scalePow:()=>oM,scaleQuantile:()=>_A,scaleQuantize:()=>bA,scaleRadial:()=>gA,scaleSequential:()=>hO,scaleSequentialLog:()=>fO,scaleSequentialPow:()=>yf,scaleSequentialQuantile:()=>FM,scaleSequentialSqrt:()=>pO,scaleSequentialSymlog:()=>mO,scaleSqrt:()=>h8,scaleSymlog:()=>rM,scaleThreshold:()=>vA,scaleTime:()=>nx,scaleUtc:()=>uO,scan:()=>vh,schemeAccent:()=>Al,schemeBlues:()=>Pi,schemeBrBG:()=>s6,schemeBuGn:()=>xO,schemeBuPu:()=>GM,schemeCategory10:()=>bn,schemeDark2:()=>J8,schemeGnBu:()=>ax,schemeGreens:()=>We,schemeGreys:()=>$M,schemeOrRd:()=>EO,schemeOranges:()=>wf,schemePRGn:()=>gO,schemePaired:()=>t6,schemePastel1:()=>e6,schemePastel2:()=>P0,schemePiYG:()=>_O,schemePuBu:()=>SO,schemePuBuGn:()=>jM,schemePuOr:()=>VM,schemePuRd:()=>lx,schemePurples:()=>OO,schemeRdBu:()=>HM,schemeRdGy:()=>bO,schemeRdPu:()=>cx.r,schemeRdYlBu:()=>UM,schemeRdYlGn:()=>vO,schemeReds:()=>xf,schemeSet1:()=>n6,schemeSet2:()=>zu,schemeSet3:()=>r6,schemeSpectral:()=>Zr.r,schemeTableau10:()=>yG,schemeYlGn:()=>DO,schemeYlGnBu:()=>dx,schemeYlOrBr:()=>TO,schemeYlOrRd:()=>ux,select:()=>hs,selectAll:()=>E6,selection:()=>Sh,selector:()=>t_,selectorAll:()=>Ch,shuffle:()=>un,shuffler:()=>ir,some:()=>Yk,sort:()=>ni,stack:()=>pR,stackOffsetDiverging:()=>bS,stackOffsetExpand:()=>_S,stackOffsetNone:()=>Zp,stackOffsetSilhouette:()=>Q6,stackOffsetWiggle:()=>vS,stackOrderAppearance:()=>Mx,stackOrderAscending:()=>J6,stackOrderDescending:()=>FG,stackOrderInsideOut:()=>gR,stackOrderNone:()=>qp,stackOrderReverse:()=>eB,stratify:()=>Y,style:()=>Kl,subset:()=>f1,sum:()=>Qb,superset:()=>h1,svg:()=>CC,symbol:()=>nR,symbolCircle:()=>nS,symbolCross:()=>JO,symbolDiamond:()=>rS,symbolSquare:()=>B6,symbolStar:()=>oS,symbolTriangle:()=>aS,symbolWye:()=>vx,symbols:()=>ju,text:()=>jh,thresholdFreedmanDiaconis:()=>_h,thresholdScott:()=>Zb,thresholdSturges:()=>od,tickFormat:()=>tM,tickIncrement:()=>zs,tickStep:()=>qa,ticks:()=>In,timeDay:()=>Yc,timeDays:()=>gG,timeFormat:()=>RM,timeFormatDefaultLocale:()=>dO,timeFormatLocale:()=>UA,timeFriday:()=>wA,timeFridays:()=>Ha,timeHour:()=>Dd,timeHours:()=>m8,timeInterval:()=>Ws,timeMillisecond:()=>Zy,timeMilliseconds:()=>uM,timeMinute:()=>qy,timeMinutes:()=>$c,timeMonday:()=>Bp,timeMondays:()=>zp,timeMonth:()=>Qy,timeMonths:()=>_8,timeParse:()=>cO,timeSaturday:()=>CA,timeSaturdays:()=>_G,timeSecond:()=>kd,timeSeconds:()=>fM,timeSunday:()=>S0,timeSundays:()=>EA,timeThursday:()=>lr,timeThursdays:()=>Ky,timeTickInterval:()=>Up,timeTicks:()=>vM,timeTuesday:()=>pM,timeTuesdays:()=>g8,timeWednesday:()=>p8,timeWednesdays:()=>Xy,timeWeek:()=>S0,timeWeeks:()=>EA,timeYear:()=>Td,timeYears:()=>MA,timeout:()=>R1,timer:()=>vv,timerFlush:()=>hD,transition:()=>yu,transpose:()=>Xg,tree:()=>Q5,treemap:()=>J5,treemapBinary:()=>t8,treemapDice:()=>Fp,treemapResquarify:()=>x0,treemapSlice:()=>Zo,treemapSliceDice:()=>Ai,treemapSquarify:()=>HE,tsv:()=>H4,tsvFormat:()=>_C,tsvFormatBody:()=>bC,tsvFormatRow:()=>T_,tsvFormatRows:()=>D4,tsvFormatValue:()=>T4,tsvParse:()=>aT,tsvParseRows:()=>k4,union:()=>m1,utcDay:()=>k0,utcDays:()=>tx,utcFormat:()=>PM,utcFriday:()=>TA,utcFridays:()=>LA,utcHour:()=>pf,utcHours:()=>v8,utcMillisecond:()=>Zy,utcMilliseconds:()=>uM,utcMinute:()=>bM,utcMinutes:()=>b8,utcMonday:()=>Vp,utcMondays:()=>OA,utcMonth:()=>NA,utcMonths:()=>bG,utcParse:()=>LM,utcSaturday:()=>IA,utcSaturdays:()=>x8,utcSecond:()=>kd,utcSeconds:()=>fM,utcSunday:()=>gf,utcSundays:()=>AA,utcThursday:()=>uc,utcThursdays:()=>y8,utcTickInterval:()=>HA,utcTicks:()=>VA,utcTuesday:()=>DA,utcTuesdays:()=>RA,utcWednesday:()=>Hp,utcWednesdays:()=>PA,utcWeek:()=>gf,utcWeeks:()=>AA,utcYear:()=>_f,utcYears:()=>zA,variance:()=>Wt,version:()=>st,window:()=>Cn,xml:()=>ip,zip:()=>pm,zoom:()=>wR,zoomIdentity:()=>U0,zoomTransform:()=>Xp});var st="6.7.0";function _t(a,c){return a<c?-1:a>c?1:a>=c?0:NaN}function Dt(a){let c=a,u=a;function f(w,C,S,k){for(null==S&&(S=0),null==k&&(k=w.length);S<k;){const I=S+k>>>1;u(w[I],C)<0?S=I+1:k=I}return S}return 1===a.length&&(c=(w,C)=>a(w)-C,u=function Yt(a){return(c,u)=>_t(a(c),u)}(a)),{left:f,center:function _(w,C,S,k){null==S&&(S=0),null==k&&(k=w.length);const I=f(w,C,S,k-1);return I>S&&c(w[I-1],C)>-c(w[I],C)?I-1:I},right:function g(w,C,S,k){for(null==S&&(S=0),null==k&&(k=w.length);S<k;){const I=S+k>>>1;u(w[I],C)>0?k=I:S=I+1}return S}}}function Ut(a){return null===a?NaN:+a}const Xt=Dt(_t),_e=Xt.right,Oe=Xt.left,Ft=Dt(Ut).center,ge=_e;function ct(a,c){let u=0;if(void 0===c)for(let f of a)null!=f&&(f=+f)>=f&&++u;else{let f=-1;for(let g of a)null!=(g=c(g,++f,a))&&(g=+g)>=g&&++u}return u}function Nt(a){return 0|a.length}function gt(a){return!(a>0)}function St(a){return"object"!=typeof a||"length"in a?a:Array.from(a)}function ve(...a){const c="function"==typeof a[a.length-1]&&function ee(a){return c=>a(...c)}(a.pop()),u=(a=a.map(St)).map(Nt),f=a.length-1,g=new Array(f+1).fill(0),_=[];if(f<0||u.some(gt))return _;for(;;){_.push(g.map((C,S)=>a[S][C]));let w=f;for(;++g[w]===u[w];){if(0===w)return c?_.map(c):_;g[w--]=0}}}function jt(a,c){var u=0,f=0;return Float64Array.from(a,void 0===c?g=>u+=+g||0:g=>u+=+c(g,f++,a)||0)}function Lt(a,c){return c<a?-1:c>a?1:c>=a?0:NaN}function Wt(a,c){let f,u=0,g=0,_=0;if(void 0===c)for(let w of a)null!=w&&(w=+w)>=w&&(f=w-g,g+=f/++u,_+=f*(w-g));else{let w=-1;for(let C of a)null!=(C=c(C,++w,a))&&(C=+C)>=C&&(f=C-g,g+=f/++u,_+=f*(C-g))}if(u>1)return _/(u-1)}function si(a,c){const u=Wt(a,c);return u&&Math.sqrt(u)}function Qe(a,c){let u,f;if(void 0===c)for(const g of a)null!=g&&(void 0===u?g>=g&&(u=f=g):(u>g&&(u=g),f<g&&(f=g)));else{let g=-1;for(let _ of a)null!=(_=c(_,++g,a))&&(void 0===u?_>=_&&(u=f=_):(u>_&&(u=_),f<_&&(f=_)))}return[u,f]}class ze{constructor(){this._partials=new Float64Array(32),this._n=0}add(c){const u=this._partials;let f=0;for(let g=0;g<this._n&&g<32;g++){const _=u[g],w=c+_,C=Math.abs(c)<Math.abs(_)?c-(w-_):_-(w-c);C&&(u[f++]=C),c=w}return u[f]=c,this._n=f+1,this}valueOf(){const c=this._partials;let f,g,_,u=this._n,w=0;if(u>0){for(w=c[--u];u>0&&(f=w,g=c[--u],w=f+g,_=g-(w-f),!_););u>0&&(_<0&&c[u-1]<0||_>0&&c[u-1]>0)&&(g=2*_,f=w+g,g==f-w&&(w=f))}return w}}function ui(a,c){const u=new ze;if(void 0===c)for(let f of a)(f=+f)&&u.add(f);else{let f=-1;for(let g of a)(g=+c(g,++f,a))&&u.add(g)}return+u}function $n(a,c){const u=new ze;let f=-1;return Float64Array.from(a,void 0===c?g=>u.add(+g||0):g=>u.add(+c(g,++f,a)||0))}class rn extends Map{constructor(c,u=co){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:u}}),null!=c)for(const[f,g]of c)this.set(f,g)}get(c){return super.get(Xn(this,c))}has(c){return super.has(Xn(this,c))}set(c,u){return super.set(Ae(this,c),u)}delete(c){return super.delete(_r(this,c))}}class dn extends Set{constructor(c,u=co){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:u}}),null!=c)for(const f of c)this.add(f)}has(c){return super.has(Xn(this,c))}add(c){return super.add(Ae(this,c))}delete(c){return super.delete(_r(this,c))}}function Xn({_intern:a,_key:c},u){const f=c(u);return a.has(f)?a.get(f):u}function Ae({_intern:a,_key:c},u){const f=c(u);return a.has(f)?a.get(f):(a.set(f,u),u)}function _r({_intern:a,_key:c},u){const f=c(u);return a.has(f)&&(u=a.get(u),a.delete(f)),u}function co(a){return null!==a&&"object"==typeof a?a.valueOf():a}function K(a){return a}function Jt(a,...c){return qt(a,K,K,c)}function Me(a,...c){return qt(a,Array.from,K,c)}function zt(a,c,...u){return qt(a,K,c,u)}function W(a,c,...u){return qt(a,Array.from,c,u)}function vt(a,...c){return qt(a,K,ne,c)}function Zt(a,...c){return qt(a,Array.from,ne,c)}function ne(a){if(1!==a.length)throw new Error("duplicate key");return a[0]}function qt(a,c,u,f){return function g(_,w){if(w>=f.length)return u(_);const C=new rn,S=f[w++];let k=-1;for(const I of _){const N=S(I,++k,_),R=C.get(N);R?R.push(I):C.set(N,[I])}for(const[I,N]of C)C.set(I,g(N,w));return c(C)}(a,0)}function Ve(a,c){return Array.from(c,u=>a[u])}function ni(a,...c){if("function"!=typeof a[Symbol.iterator])throw new TypeError("values is not iterable");a=Array.from(a);let[u=_t]=c;if(1===u.length||c.length>1){const f=Uint32Array.from(a,(g,_)=>_);return c.length>1?(c=c.map(g=>a.map(g)),f.sort((g,_)=>{for(const w of c){const C=_t(w[g],w[_]);if(C)return C}})):(u=a.map(u),f.sort((g,_)=>_t(u[g],u[_]))),Ve(a,f)}return a.sort(u)}function Re(a,c,u){return(1===c.length?ni(zt(a,c,u),([f,g],[_,w])=>_t(g,w)||_t(f,_)):ni(Jt(a,u),([f,g],[_,w])=>c(g,w)||_t(f,_))).map(([f])=>f)}var yi=Array.prototype.slice;function je(a){return function(){return a}}var or=Math.sqrt(50),Cr=Math.sqrt(10),go=Math.sqrt(2);function In(a,c,u){var f,_,w,C,g=-1;if(u=+u,(a=+a)==(c=+c)&&u>0)return[a];if((f=c<a)&&(_=a,a=c,c=_),0===(C=zs(a,c,u))||!isFinite(C))return[];if(C>0){let S=Math.round(a/C),k=Math.round(c/C);for(S*C<a&&++S,k*C>c&&--k,w=new Array(_=k-S+1);++g<_;)w[g]=(S+g)*C}else{C=-C;let S=Math.round(a*C),k=Math.round(c*C);for(S/C<a&&++S,k/C>c&&--k,w=new Array(_=k-S+1);++g<_;)w[g]=(S+g)/C}return f&&w.reverse(),w}function zs(a,c,u){var f=(c-a)/Math.max(0,u),g=Math.floor(Math.log(f)/Math.LN10),_=f/Math.pow(10,g);return g>=0?(_>=or?10:_>=Cr?5:_>=go?2:1)*Math.pow(10,g):-Math.pow(10,-g)/(_>=or?10:_>=Cr?5:_>=go?2:1)}function qa(a,c,u){var f=Math.abs(c-a)/Math.max(0,u),g=Math.pow(10,Math.floor(Math.log(f)/Math.LN10)),_=f/g;return _>=or?g*=10:_>=Cr?g*=5:_>=go&&(g*=2),c<a?-g:g}function Ao(a,c,u){let f;for(;;){const g=zs(a,c,u);if(g===f||0===g||!isFinite(g))return[a,c];g>0?(a=Math.floor(a/g)*g,c=Math.ceil(c/g)*g):g<0&&(a=Math.ceil(a*g)/g,c=Math.floor(c*g)/g),f=g}}function od(a){return Math.ceil(Math.log(ct(a))/Math.LN2)+1}function Yl(){var a=K,c=Qe,u=od;function f(g){Array.isArray(g)||(g=Array.from(g));var _,C,w=g.length,S=new Array(w);for(_=0;_<w;++_)S[_]=a(g[_],_,g);var k=c(S),I=k[0],N=k[1],R=u(S,I,N);if(!Array.isArray(R)){const X=N,nt=+R;if(c===Qe&&([I,N]=Ao(I,N,nt)),(R=In(I,N,nt))[R.length-1]>=N)if(X>=N&&c===Qe){const yt=zs(I,N,nt);isFinite(yt)&&(yt>0?N=(Math.floor(N/yt)+1)*yt:yt<0&&(N=(Math.ceil(N*-yt)+1)/-yt))}else R.pop()}for(var G=R.length;R[0]<=I;)R.shift(),--G;for(;R[G-1]>N;)R.pop(),--G;var dt,at=new Array(G+1);for(_=0;_<=G;++_)(dt=at[_]=[]).x0=_>0?R[_-1]:I,dt.x1=_<G?R[_]:N;for(_=0;_<w;++_)I<=(C=S[_])&&C<=N&&at[ge(R,C,0,G)].push(g[_]);return at}return f.value=function(g){return arguments.length?(a="function"==typeof g?g:je(g),f):a},f.domain=function(g){return arguments.length?(c="function"==typeof g?g:je([g[0],g[1]]),f):c},f.thresholds=function(g){return arguments.length?(u="function"==typeof g?g:Array.isArray(g)?je(yi.call(g)):je(g),f):u},f}function ad(a,c){let u;if(void 0===c)for(const f of a)null!=f&&(u<f||void 0===u&&f>=f)&&(u=f);else{let f=-1;for(let g of a)null!=(g=c(g,++f,a))&&(u<g||void 0===u&&g>=g)&&(u=g)}return u}function ou(a,c){let u;if(void 0===c)for(const f of a)null!=f&&(u>f||void 0===u&&f>=f)&&(u=f);else{let f=-1;for(let g of a)null!=(g=c(g,++f,a))&&(u>g||void 0===u&&g>=g)&&(u=g)}return u}function Tc(a,c,u=0,f=a.length-1,g=_t){for(;f>u;){if(f-u>600){const S=f-u+1,k=c-u+1,I=Math.log(S),N=.5*Math.exp(2*I/3),R=.5*Math.sqrt(I*N*(S-N)/S)*(k-S/2<0?-1:1);Tc(a,c,Math.max(u,Math.floor(c-k*N/S+R)),Math.min(f,Math.floor(c+(S-k)*N/S+R)),g)}const _=a[c];let w=u,C=f;for(Hn(a,u,c),g(a[f],_)>0&&Hn(a,u,f);w<C;){for(Hn(a,w,C),++w,--C;g(a[w],_)<0;)++w;for(;g(a[C],_)>0;)--C}0===g(a[u],_)?Hn(a,u,C):(++C,Hn(a,C,f)),C<=c&&(u=C+1),c<=C&&(f=C-1)}return a}function Hn(a,c,u){const f=a[c];a[c]=a[u],a[u]=f}function Xa(a,c,u){if(a=Float64Array.from(function*ue(a,c){if(void 0===c)for(let u of a)null!=u&&(u=+u)>=u&&(yield u);else{let u=-1;for(let f of a)null!=(f=c(f,++u,a))&&(f=+f)>=f&&(yield f)}}(a,u)),f=a.length){if((c=+c)<=0||f<2)return ou(a);if(c>=1)return ad(a);var f,g=(f-1)*c,_=Math.floor(g),w=ad(Tc(a,_).subarray(0,_+1));return w+(ou(a.subarray(_+1))-w)*(g-_)}}function Yb(a,c,u=Ut){if(f=a.length){if((c=+c)<=0||f<2)return+u(a[0],0,a);if(c>=1)return+u(a[f-1],f-1,a);var f,g=(f-1)*c,_=Math.floor(g),w=+u(a[_],_,a);return w+(+u(a[_+1],_+1,a)-w)*(g-_)}}function _h(a,c,u){return Math.ceil((u-c)/(2*(Xa(a,.75)-Xa(a,.25))*Math.pow(ct(a),-1/3)))}function Zb(a,c,u){return Math.ceil((u-c)/(3.5*si(a)*Math.pow(ct(a),-1/3)))}function qb(a,c){let u,f=-1,g=-1;if(void 0===c)for(const _ of a)++g,null!=_&&(u<_||void 0===u&&_>=_)&&(u=_,f=g);else for(let _ of a)null!=(_=c(_,++g,a))&&(u<_||void 0===u&&_>=_)&&(u=_,f=g);return f}function hr(a,c){let u=0,f=0;if(void 0===c)for(let g of a)null!=g&&(g=+g)>=g&&(++u,f+=g);else{let g=-1;for(let _ of a)null!=(_=c(_,++g,a))&&(_=+_)>=_&&(++u,f+=_)}if(u)return f/u}function bh(a,c){return Xa(a,.5,c)}function au(a){return Array.from(function*ks(a){for(const c of a)yield*c}(a))}function Xb(a,c){let u,f=-1,g=-1;if(void 0===c)for(const _ of a)++g,null!=_&&(u>_||void 0===u&&_>=_)&&(u=_,f=g);else for(let _ of a)null!=(_=c(_,++g,a))&&(u>_||void 0===u&&_>=_)&&(u=_,f=g);return f}function An(a,c=sn){const u=[];let f,g=!1;for(const _ of a)g&&u.push(c(f,_)),f=_,g=!0;return u}function sn(a,c){return[a,c]}function Oo(a,c,u){a=+a,c=+c,u=(g=arguments.length)<2?(c=a,a=0,1):g<3?1:+u;for(var f=-1,g=0|Math.max(0,Math.ceil((c-a)/u)),_=new Array(g);++f<g;)_[f]=a+f*u;return _}function mm(a,c=_t){let u,f=!1;if(1===c.length){let g;for(const _ of a){const w=c(_);(f?_t(w,g)<0:0===_t(w,w))&&(u=_,g=w,f=!0)}}else for(const g of a)(f?c(g,u)<0:0===c(g,g))&&(u=g,f=!0);return u}function a1(a,c=_t){if(1===c.length)return Xb(a,c);let u,f=-1,g=-1;for(const _ of a)++g,(f<0?0===c(_,_):c(_,u)<0)&&(u=_,f=g);return f}function Kb(a,c=_t){let u,f=!1;if(1===c.length){let g;for(const _ of a){const w=c(_);(f?_t(w,g)>0:0===_t(w,w))&&(u=_,g=w,f=!0)}}else for(const g of a)(f?c(g,u)>0:0===c(g,g))&&(u=g,f=!0);return u}function Se(a,c=_t){if(1===c.length)return qb(a,c);let u,f=-1,g=-1;for(const _ of a)++g,(f<0?0===c(_,_):c(_,u)>0)&&(u=_,f=g);return f}function vh(a,c){const u=a1(a,c);return u<0?void 0:u}const un=ir(Math.random);function ir(a){return function(u,f=0,g=u.length){let _=g-(f=+f);for(;_;){const w=a()*_--|0,C=u[_+f];u[_+f]=u[w+f],u[w+f]=C}return u}}function Qb(a,c){let u=0;if(void 0===c)for(let f of a)(f=+f)&&(u+=f);else{let f=-1;for(let g of a)(g=+c(g,++f,a))&&(u+=g)}return u}function Xg(a){if(!(_=a.length))return[];for(var c=-1,u=ou(a,l1),f=new Array(u);++c<u;)for(var _,g=-1,w=f[c]=new Array(_);++g<_;)w[g]=a[g][c];return f}function l1(a){return a.length}function pm(){return Xg(arguments)}function la(a,c){if("function"!=typeof c)throw new TypeError("test is not a function");let u=-1;for(const f of a)if(!c(f,++u,a))return!1;return!0}function Yk(a,c){if("function"!=typeof c)throw new TypeError("test is not a function");let u=-1;for(const f of a)if(c(f,++u,a))return!0;return!1}function Jb(a,c){if("function"!=typeof c)throw new TypeError("test is not a function");const u=[];let f=-1;for(const g of a)c(g,++f,a)&&u.push(g);return u}function Zk(a,c){if("function"!=typeof a[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof c)throw new TypeError("mapper is not a function");return Array.from(a,(u,f)=>c(u,f,a))}function Zl(a,c,u){if("function"!=typeof c)throw new TypeError("reducer is not a function");const f=a[Symbol.iterator]();let g,_,w=-1;if(arguments.length<3){if(({done:g,value:u}=f.next()),g)return;++w}for(;({done:g,value:_}=f.next()),!g;)u=c(u,_,++w,a);return u}function c1(a){if("function"!=typeof a[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(a).reverse()}function qk(a,...c){a=new Set(a);for(const u of c)for(const f of u)a.delete(f);return a}function Xk(a,c){const u=c[Symbol.iterator](),f=new Set;for(const g of a){if(f.has(g))return!1;let _,w;for(;({value:_,done:w}=u.next())&&!w;){if(Object.is(g,_))return!1;f.add(_)}}return!0}function d1(a){return a instanceof Set?a:new Set(a)}function u1(a,...c){a=new Set(a),c=c.map(d1);t:for(const u of a)for(const f of c)if(!f.has(u)){a.delete(u);continue t}return a}function h1(a,c){const u=a[Symbol.iterator](),f=new Set;for(const g of c){if(f.has(g))continue;let _,w;for(;({value:_,done:w}=u.next());){if(w)return!1;if(f.add(_),Object.is(g,_))break}}return!0}function f1(a,c){return h1(c,a)}function m1(...a){const c=new Set;for(const u of a)for(const f of u)c.add(f);return c}var Ro=Array.prototype.slice;function en(a){return a}var Kg=1,gm=2,Qg=3,Fe=4,tv=1e-6;function Oi(a){return"translate("+a+",0)"}function _m(a){return"translate(0,"+a+")"}function ev(a){return c=>+a(c)}function iv(a,c){return c=Math.max(0,a.bandwidth()-2*c)/2,a.round()&&(c=Math.round(c)),u=>+a(u)+c}function p1(){return!this.__axis}function ql(a,c){var u=[],f=null,g=null,_=6,w=6,C=3,S=typeof window<"u"&&window.devicePixelRatio>1?0:.5,k=a===Kg||a===Fe?-1:1,I=a===Fe||a===gm?"x":"y",N=a===Kg||a===Qg?Oi:_m;function R(G){var at=f??(c.ticks?c.ticks.apply(c,u):c.domain()),dt=g??(c.tickFormat?c.tickFormat.apply(c,u):en),X=Math.max(_,0)+C,nt=c.range(),yt=+nt[0]+S,bt=+nt[nt.length-1]+S,mt=(c.bandwidth?iv:ev)(c.copy(),S),Gt=G.selection?G.selection():G,$t=Gt.selectAll(".domain").data([null]),ye=Gt.selectAll(".tick").data(at,c).order(),Ce=ye.exit(),Be=ye.enter().append("g").attr("class","tick"),ae=ye.select("line"),se=ye.select("text");$t=$t.merge($t.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ye=ye.merge(Be),ae=ae.merge(Be.append("line").attr("stroke","currentColor").attr(I+"2",k*_)),se=se.merge(Be.append("text").attr("fill","currentColor").attr(I,k*X).attr("dy",a===Kg?"0em":a===Qg?"0.71em":"0.32em")),G!==Gt&&($t=$t.transition(G),ye=ye.transition(G),ae=ae.transition(G),se=se.transition(G),Ce=Ce.transition(G).attr("opacity",tv).attr("transform",function(Le){return isFinite(Le=mt(Le))?N(Le+S):this.getAttribute("transform")}),Be.attr("opacity",tv).attr("transform",function(Le){var De=this.parentNode.__axis;return N((De&&isFinite(De=De(Le))?De:mt(Le))+S)})),Ce.remove(),$t.attr("d",a===Fe||a===gm?w?"M"+k*w+","+yt+"H"+S+"V"+bt+"H"+k*w:"M"+S+","+yt+"V"+bt:w?"M"+yt+","+k*w+"V"+S+"H"+bt+"V"+k*w:"M"+yt+","+S+"H"+bt),ye.attr("opacity",1).attr("transform",function(Le){return N(mt(Le)+S)}),ae.attr(I+"2",k*_),se.attr(I,k*X).text(dt),Gt.filter(p1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===gm?"start":a===Fe?"end":"middle"),Gt.each(function(){this.__axis=mt})}return R.scale=function(G){return arguments.length?(c=G,R):c},R.ticks=function(){return u=Ro.call(arguments),R},R.tickArguments=function(G){return arguments.length?(u=null==G?[]:Ro.call(G),R):u.slice()},R.tickValues=function(G){return arguments.length?(f=null==G?null:Ro.call(G),R):f&&f.slice()},R.tickFormat=function(G){return arguments.length?(g=G,R):g},R.tickSize=function(G){return arguments.length?(_=w=+G,R):_},R.tickSizeInner=function(G){return arguments.length?(_=+G,R):_},R.tickSizeOuter=function(G){return arguments.length?(w=+G,R):w},R.tickPadding=function(G){return arguments.length?(C=+G,R):C},R.offset=function(G){return arguments.length?(S=+G,R):S},R}function yh(a){return ql(Kg,a)}function ld(a){return ql(gm,a)}function lu(a){return ql(Qg,a)}function bm(a){return ql(Fe,a)}var wn={value:()=>{}};function xh(){for(var f,a=0,c=arguments.length,u={};a<c;++a){if(!(f=arguments[a]+"")||f in u||/[\s.]/.test(f))throw new Error("illegal type: "+f);u[f]=[]}return new cu(u)}function cu(a){this._=a}function Jg(a,c){for(var g,u=0,f=a.length;u<f;++u)if((g=a[u]).name===c)return g.value}function g1(a,c,u){for(var f=0,g=a.length;f<g;++f)if(a[f].name===c){a[f]=wn,a=a.slice(0,f).concat(a.slice(f+1));break}return null!=u&&a.push({name:c,value:u}),a}cu.prototype=xh.prototype={constructor:cu,on:function(a,c){var g,u=this._,f=function _o(a,c){return a.trim().split(/^|\s+/).map(function(u){var f="",g=u.indexOf(".");if(g>=0&&(f=u.slice(g+1),u=u.slice(0,g)),u&&!c.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:f}})}(a+"",u),_=-1,w=f.length;if(!(arguments.length<2)){if(null!=c&&"function"!=typeof c)throw new Error("invalid callback: "+c);for(;++_<w;)if(g=(a=f[_]).type)u[g]=g1(u[g],a.name,c);else if(null==c)for(g in u)u[g]=g1(u[g],a.name,null);return this}for(;++_<w;)if((g=(a=f[_]).type)&&(g=Jg(u[g],a.name)))return g},copy:function(){var a={},c=this._;for(var u in c)a[u]=c[u].slice();return new cu(a)},call:function(a,c){if((g=arguments.length-2)>0)for(var g,_,u=new Array(g),f=0;f<g;++f)u[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(f=0,g=(_=this._[a]).length;f<g;++f)_[f].value.apply(c,u)},apply:function(a,c,u){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var f=this._[a],g=0,_=f.length;g<_;++g)f[g].value.apply(c,u)}};const nr=xh;function _1(){}function t_(a){return null==a?_1:function(){return this.querySelector(a)}}function wh(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function e_(){return[]}function Ch(a){return null==a?e_:function(){return this.querySelectorAll(a)}}function i_(a){return function(){return this.matches(a)}}function v1(a){return function(c){return c.matches(a)}}var y1=Array.prototype.find;function Qk(){return this.firstElementChild}var n_=Array.prototype.filter;function ym(){return this.children}function rv(a){return new Array(a.length)}function p(a,c){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=c}function A(a,c,u,f,g,_){for(var C,w=0,S=c.length,k=_.length;w<k;++w)(C=c[w])?(C.__data__=_[w],f[w]=C):u[w]=new p(a,_[w]);for(;w<S;++w)(C=c[w])&&(g[w]=C)}function V(a,c,u,f,g,_,w){var C,S,G,k=new Map,I=c.length,N=_.length,R=new Array(I);for(C=0;C<I;++C)(S=c[C])&&(R[C]=G=w.call(S,S.__data__,C,c)+"",k.has(G)?g[C]=S:k.set(G,S));for(C=0;C<N;++C)G=w.call(a,_[C],C,_)+"",(S=k.get(G))?(f[C]=S,S.__data__=_[C],k.delete(G)):u[C]=new p(a,_[C]);for(C=0;C<I;++C)(S=c[C])&&k.get(R[C])===S&&(g[C]=S)}function Pt(a){return a.__data__}function _n(a,c){return a<c?-1:a>c?1:a>=c?0:NaN}p.prototype={constructor:p,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,c){return this._parent.insertBefore(a,c)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var uu="http://www.w3.org/1999/xhtml";const Aa={svg:"http://www.w3.org/2000/svg",xhtml:uu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xl(a){var c=a+="",u=c.indexOf(":");return u>=0&&"xmlns"!==(c=a.slice(0,u))&&(a=a.slice(u+1)),Aa.hasOwnProperty(c)?{space:Aa[c],local:a}:a}function Ka(a){return function(){this.removeAttribute(a)}}function cd(a){return function(){this.removeAttributeNS(a.space,a.local)}}function xm(a,c){return function(){this.setAttribute(a,c)}}function vl(a,c){return function(){this.setAttributeNS(a.space,a.local,c)}}function hu(a,c){return function(){var u=c.apply(this,arguments);null==u?this.removeAttribute(a):this.setAttribute(a,u)}}function sv(a,c){return function(){var u=c.apply(this,arguments);null==u?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,u)}}function Cn(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function Po(a){return function(){this.style.removeProperty(a)}}function wm(a,c,u){return function(){this.style.setProperty(a,c,u)}}function av(a,c,u){return function(){var f=c.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,u)}}function Kl(a,c){return a.style.getPropertyValue(c)||Cn(a).getComputedStyle(a,null).getPropertyValue(c)}function Cm(a){return function(){delete this[a]}}function Oa(a,c){return function(){this[a]=c}}function s_(a,c){return function(){var u=c.apply(this,arguments);null==u?delete this[a]:this[a]=u}}function Us(a){return a.trim().split(/^|\s+/)}function Em(a){return a.classList||new fu(a)}function fu(a){this._node=a,this._names=Us(a.getAttribute("class")||"")}function Ic(a,c){for(var u=Em(a),f=-1,g=c.length;++f<g;)u.add(c[f])}function w1(a,c){for(var u=Em(a),f=-1,g=c.length;++f<g;)u.remove(c[f])}function dN(a){return function(){Ic(this,a)}}function uN(a){return function(){w1(this,a)}}function hN(a,c){return function(){(c.apply(this,arguments)?Ic:w1)(this,a)}}function fN(){this.textContent=""}function mN(a){return function(){this.textContent=a}}function pN(a){return function(){var c=a.apply(this,arguments);this.textContent=c??""}}function gN(){this.innerHTML=""}function tD(a){return function(){this.innerHTML=a}}function be(a){return function(){var c=a.apply(this,arguments);this.innerHTML=c??""}}function Jn(){this.nextSibling&&this.parentNode.appendChild(this)}function da(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qa(a){return function(){var c=this.ownerDocument,u=this.namespaceURI;return u===uu&&c.documentElement.namespaceURI===uu?c.createElement(a):c.createElementNS(u,a)}}function eD(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function o_(a){var c=Xl(a);return(c.local?eD:Qa)(c)}function _N(){return null}function xs(){var a=this.parentNode;a&&a.removeChild(this)}function yn(){var a=this.cloneNode(!1),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function ts(){var a=this.cloneNode(!0),c=this.parentNode;return c?c.insertBefore(a,this.nextSibling):a}function Ds(a){return function(){var c=this.__on;if(c){for(var _,u=0,f=-1,g=c.length;u<g;++u)_=c[u],a.type&&_.type!==a.type||_.name!==a.name?c[++f]=_:this.removeEventListener(_.type,_.listener,_.options);++f?c.length=f:delete this.__on}}}function mu(a,c,u){return function(){var g,f=this.__on,_=function Lo(a){return function(c){a.call(this,c,this.__data__)}}(c);if(f)for(var w=0,C=f.length;w<C;++w)if((g=f[w]).type===a.type&&g.name===a.name)return this.removeEventListener(g.type,g.listener,g.options),this.addEventListener(g.type,g.listener=_,g.options=u),void(g.value=c);this.addEventListener(a.type,_,u),g={type:a.type,name:a.name,value:c,listener:_,options:u},f?f.push(g):this.__on=[g]}}function fn(a,c,u){var f=Cn(a),g=f.CustomEvent;"function"==typeof g?g=new g(c,u):(g=f.document.createEvent("Event"),u?(g.initEvent(c,u.bubbles,u.cancelable),g.detail=u.detail):g.initEvent(c,!1,!1)),a.dispatchEvent(g)}function l_(a,c){return function(){return fn(this,a,c)}}function iD(a,c){return function(){return fn(this,a,c.apply(this,arguments))}}fu.prototype={add:function(a){this._names.indexOf(a)<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var c=this._names.indexOf(a);c>=0&&(this._names.splice(c,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var Mh=[null];function Is(a,c){this._groups=a,this._parents=c}function Jl(){return new Is([[document.documentElement]],Mh)}Is.prototype=Jl.prototype={constructor:Is,select:function vm(a){"function"!=typeof a&&(a=t_(a));for(var c=this._groups,u=c.length,f=new Array(u),g=0;g<u;++g)for(var S,k,_=c[g],w=_.length,C=f[g]=new Array(w),I=0;I<w;++I)(S=_[I])&&(k=a.call(S,S.__data__,I,_))&&("__data__"in S&&(k.__data__=S.__data__),C[I]=k);return new Is(f,this._parents)},selectAll:function Eh(a){a="function"==typeof a?function b1(a){return function(){var c=a.apply(this,arguments);return null==c?[]:wh(c)}}(a):Ch(a);for(var c=this._groups,u=c.length,f=[],g=[],_=0;_<u;++_)for(var S,w=c[_],C=w.length,k=0;k<C;++k)(S=w[k])&&(f.push(a.call(S,S.__data__,k,w)),g.push(S));return new Is(f,g)},selectChild:function du(a){return this.select(null==a?Qk:function Kk(a){return function(){return y1.call(this.children,a)}}("function"==typeof a?a:v1(a)))},selectChildren:function x1(a){return this.selectAll(null==a?ym:function nv(a){return function(){return n_.call(this.children,a)}}("function"==typeof a?a:v1(a)))},filter:function Jk(a){"function"!=typeof a&&(a=i_(a));for(var c=this._groups,u=c.length,f=new Array(u),g=0;g<u;++g)for(var S,_=c[g],w=_.length,C=f[g]=[],k=0;k<w;++k)(S=_[k])&&a.call(S,S.__data__,k,_)&&C.push(S);return new Is(f,this._parents)},data:function wt(a,c){if(!arguments.length)return Array.from(this,Pt);var u=c?V:A,f=this._parents,g=this._groups;"function"!=typeof a&&(a=function M(a){return function(){return a}}(a));for(var _=g.length,w=new Array(_),C=new Array(_),S=new Array(_),k=0;k<_;++k){var I=f[k],N=g[k],R=N.length,G=wh(a.call(I,I&&I.__data__,k,f)),at=G.length,dt=C[k]=new Array(at),X=w[k]=new Array(at);u(I,N,dt,X,S[k]=new Array(R),G,c);for(var mt,Gt,yt=0,bt=0;yt<at;++yt)if(mt=dt[yt]){for(yt>=bt&&(bt=yt+1);!(Gt=X[bt])&&++bt<at;);mt._next=Gt||null}}return(w=new Is(w,f))._enter=C,w._exit=S,w},enter:function xt(){return new Is(this._enter||this._groups.map(rv),this._parents)},exit:function Ye(){return new Is(this._exit||this._groups.map(rv),this._parents)},join:function bi(a,c,u){var f=this.enter(),g=this,_=this.exit();return f="function"==typeof a?a(f):f.append(a+""),null!=c&&(g=c(g)),null==u?_.remove():u(_),f&&g?f.merge(g).order():g},merge:function Kn(a){if(!(a instanceof Is))throw new Error("invalid merge");for(var c=this._groups,u=a._groups,f=c.length,_=Math.min(f,u.length),w=new Array(f),C=0;C<_;++C)for(var R,S=c[C],k=u[C],I=S.length,N=w[C]=new Array(I),G=0;G<I;++G)(R=S[G]||k[G])&&(N[G]=R);for(;C<f;++C)w[C]=c[C];return new Is(w,this._parents)},selection:function c_(){return this},order:function Ar(){for(var a=this._groups,c=-1,u=a.length;++c<u;)for(var w,f=a[c],g=f.length-1,_=f[g];--g>=0;)(w=f[g])&&(_&&4^w.compareDocumentPosition(_)&&_.parentNode.insertBefore(w,_),_=w);return this},sort:function Vs(a){function c(N,R){return N&&R?a(N.__data__,R.__data__):!N-!R}a||(a=_n);for(var u=this._groups,f=u.length,g=new Array(f),_=0;_<f;++_){for(var k,w=u[_],C=w.length,S=g[_]=new Array(C),I=0;I<C;++I)(k=w[I])&&(S[I]=k);S.sort(c)}return new Is(g,this._parents).order()},call:function Hs(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function Qn(){return Array.from(this)},node:function fr(){for(var a=this._groups,c=0,u=a.length;c<u;++c)for(var f=a[c],g=0,_=f.length;g<_;++g){var w=f[g];if(w)return w}return null},size:function On(){let a=0;for(const c of this)++a;return a},empty:function Ri(){return!this.node()},each:function Hr(a){for(var c=this._groups,u=0,f=c.length;u<f;++u)for(var C,g=c[u],_=0,w=g.length;_<w;++_)(C=g[_])&&a.call(C,C.__data__,_,g);return this},attr:function ov(a,c){var u=Xl(a);if(arguments.length<2){var f=this.node();return u.local?f.getAttributeNS(u.space,u.local):f.getAttribute(u)}return this.each((null==c?u.local?cd:Ka:"function"==typeof c?u.local?sv:hu:u.local?vl:xm)(u,c))},style:function r_(a,c,u){return arguments.length>1?this.each((null==c?Po:"function"==typeof c?av:wm)(a,c,u??"")):Kl(this.node(),a)},property:function ln(a,c){return arguments.length>1?this.each((null==c?Cm:"function"==typeof c?s_:Oa)(a,c)):this.node()[a]},classed:function He(a,c){var u=Us(a+"");if(arguments.length<2){for(var f=Em(this.node()),g=-1,_=u.length;++g<_;)if(!f.contains(u[g]))return!1;return!0}return this.each(("function"==typeof c?hN:c?dN:uN)(u,c))},text:function zi(a){return arguments.length?this.each(null==a?fN:("function"==typeof a?pN:mN)(a)):this.node().textContent},html:function ca(a){return arguments.length?this.each(null==a?gN:("function"==typeof a?be:tD)(a)):this.node().innerHTML},raise:function bo(){return this.each(Jn)},lower:function Mm(){return this.each(da)},append:function lv(a){var c="function"==typeof a?a:o_(a);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function bN(a,c){var u="function"==typeof a?a:o_(a),f=null==c?_N:"function"==typeof c?c:t_(c);return this.select(function(){return this.insertBefore(u.apply(this,arguments),f.apply(this,arguments)||null)})},remove:function ki(){return this.each(xs)},clone:function Ql(a){return this.select(a?ts:yn)},datum:function a_(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function km(a,c,u){var g,w,f=function Sm(a){return a.trim().split(/^|\s+/).map(function(c){var u="",f=c.indexOf(".");return f>=0&&(u=c.slice(f+1),c=c.slice(0,f)),{type:c,name:u}})}(a+""),_=f.length;if(!(arguments.length<2)){for(C=c?mu:Ds,g=0;g<_;++g)this.each(C(f[g],c,u));return this}var C=this.node().__on;if(C)for(var I,S=0,k=C.length;S<k;++S)for(g=0,I=C[S];g<_;++g)if((w=f[g]).type===I.type&&w.name===I.name)return I.value},dispatch:function Dm(a,c){return this.each(("function"==typeof c?iD:l_)(a,c))},[Symbol.iterator]:function*Ts(){for(var a=this._groups,c=0,u=a.length;c<u;++c)for(var w,f=a[c],g=0,_=f.length;g<_;++g)(w=f[g])&&(yield w)}};const Sh=Jl;function hs(a){return"string"==typeof a?new Is([[document.querySelector(a)]],[document.documentElement]):new Is([[a]],Mh)}function tc(a){a.stopImmediatePropagation()}function Ac(a){a.preventDefault(),a.stopImmediatePropagation()}function pu(a){var c=a.document.documentElement,u=hs(a).on("dragstart.drag",Ac,!0);"onselectstart"in c?u.on("selectstart.drag",Ac,!0):(c.__noselect=c.style.MozUserSelect,c.style.MozUserSelect="none")}function Rn(a,c){var u=a.document.documentElement,f=hs(a).on("dragstart.drag",null);c&&(f.on("click.drag",Ac,!0),setTimeout(function(){f.on("click.drag",null)},0)),"onselectstart"in u?f.on("selectstart.drag",null):(u.style.MozUserSelect=u.__noselect,delete u.__noselect)}function d_(a,c,u){a.prototype=c.prototype=u,u.constructor=a}function kh(a,c){var u=Object.create(a.prototype);for(var f in c)u[f]=c[f];return u}function dd(){}var ud=1/.7,ec="\\s*([+-]?\\d+)\\s*",hd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$U=/^#([0-9a-f]{3,8})$/,Ra=new RegExp("^rgb\\("+[ec,ec,ec]+"\\)$"),ua=new RegExp("^rgb\\("+[Ur,Ur,Ur]+"\\)$"),C1=new RegExp("^rgba\\("+[ec,ec,ec,hd]+"\\)$"),Dh=new RegExp("^rgba\\("+[Ur,Ur,Ur,hd]+"\\)$"),cv=new RegExp("^hsl\\("+[hd,Ur,Ur]+"\\)$"),ic=new RegExp("^hsla\\("+[hd,Ur,Ur,hd]+"\\)$"),dv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nD(){return this.rgb().formatHex()}function yN(){return this.rgb().formatRgb()}function gu(a){var c,u;return a=(a+"").trim().toLowerCase(),(c=$U.exec(a))?(u=c[1].length,c=parseInt(c[1],16),6===u?rD(c):3===u?new No(c>>8&15|c>>4&240,c>>4&15|240&c,(15&c)<<4|15&c,1):8===u?E1(c>>24&255,c>>16&255,c>>8&255,(255&c)/255):4===u?E1(c>>12&15|c>>8&240,c>>8&15|c>>4&240,c>>4&15|240&c,((15&c)<<4|15&c)/255):null):(c=Ra.exec(a))?new No(c[1],c[2],c[3],1):(c=ua.exec(a))?new No(255*c[1]/100,255*c[2]/100,255*c[3]/100,1):(c=C1.exec(a))?E1(c[1],c[2],c[3],c[4]):(c=Dh.exec(a))?E1(255*c[1]/100,255*c[2]/100,255*c[3]/100,c[4]):(c=cv.exec(a))?CN(c[1],c[2]/100,c[3]/100,1):(c=ic.exec(a))?CN(c[1],c[2]/100,c[3]/100,c[4]):dv.hasOwnProperty(a)?rD(dv[a]):"transparent"===a?new No(NaN,NaN,NaN,0):null}function rD(a){return new No(a>>16&255,a>>8&255,255&a,1)}function E1(a,c,u,f){return f<=0&&(a=c=u=NaN),new No(a,c,u,f)}function sD(a){return a instanceof dd||(a=gu(a)),a?new No((a=a.rgb()).r,a.g,a.b,a.opacity):new No}function uv(a,c,u,f){return 1===arguments.length?sD(a):new No(a,c,u,f??1)}function No(a,c,u,f){this.r=+a,this.g=+c,this.b=+u,this.opacity=+f}function xN(){return"#"+oD(this.r)+oD(this.g)+oD(this.b)}function wN(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function oD(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function CN(a,c,u,f){return f<=0?a=c=u=NaN:u<=0||u>=1?a=c=NaN:c<=0&&(a=NaN),new fd(a,c,u,f)}function EN(a){if(a instanceof fd)return new fd(a.h,a.s,a.l,a.opacity);if(a instanceof dd||(a=gu(a)),!a)return new fd;if(a instanceof fd)return a;var c=(a=a.rgb()).r/255,u=a.g/255,f=a.b/255,g=Math.min(c,u,f),_=Math.max(c,u,f),w=NaN,C=_-g,S=(_+g)/2;return C?(w=c===_?(u-f)/C+6*(u<f):u===_?(f-c)/C+2:(c-u)/C+4,C/=S<.5?_+g:2-_-g,w*=60):C=S>0&&S<1?0:w,new fd(w,C,S,a.opacity)}function M1(a,c,u,f){return 1===arguments.length?EN(a):new fd(a,c,u,f??1)}function fd(a,c,u,f){this.h=+a,this.s=+c,this.l=+u,this.opacity=+f}function aD(a,c,u){return 255*(a<60?c+(u-c)*a/60:a<180?u:a<240?c+(u-c)*(240-a)/60:c)}function S1(a,c,u,f,g){var _=a*a,w=_*a;return((1-3*a+3*_-w)*c+(4-6*_+3*w)*u+(1+3*a+3*_-3*w)*f+w*g)/6}function k1(a){var c=a.length-1;return function(u){var f=u<=0?u=0:u>=1?(u=1,c-1):Math.floor(u*c),g=a[f],_=a[f+1];return S1((u-f/c)*c,f>0?a[f-1]:2*g-_,g,_,f<c-1?a[f+2]:2*_-g)}}function MN(a){var c=a.length;return function(u){var f=Math.floor(((u%=1)<0?++u:u)*c);return S1((u-f/c)*c,a[(f+c-1)%c],a[f%c],a[(f+1)%c],a[(f+2)%c])}}d_(dd,gu,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:nD,formatHex:nD,formatHsl:function vN(){return EN(this).formatHsl()},formatRgb:yN,toString:yN}),d_(No,uv,kh(dd,{brighter:function(a){return a=null==a?ud:Math.pow(ud,a),new No(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new No(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xN,formatHex:xN,formatRgb:wN,toString:wN})),d_(fd,M1,kh(dd,{brighter:function(a){return a=null==a?ud:Math.pow(ud,a),new fd(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new fd(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),c=isNaN(a)||isNaN(this.s)?0:this.s,u=this.l,f=u+(u<.5?u:1-u)*c,g=2*u-f;return new No(aD(a>=240?a-240:a+120,g,f),aD(a,g,f),aD(a<120?a+240:a-120,g,f),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));const D1=a=>()=>a;function SN(a,c){return function(u){return a+u*c}}function nc(a,c){var u=c-a;return u?SN(a,u>180||u<-180?u-360*Math.round(u/360):u):D1(isNaN(a)?c:a)}function Qs(a,c){var u=c-a;return u?SN(a,u):D1(isNaN(a)?c:a)}const As=function a(c){var u=function YU(a){return 1==(a=+a)?Qs:function(c,u){return u-c?function Th(a,c,u){return a=Math.pow(a,u),c=Math.pow(c,u)-a,u=1/u,function(f){return Math.pow(a+f*c,u)}}(c,u,a):D1(isNaN(c)?u:c)}}(c);function f(g,_){var w=u((g=uv(g)).r,(_=uv(_)).r),C=u(g.g,_.g),S=u(g.b,_.b),k=Qs(g.opacity,_.opacity);return function(I){return g.r=w(I),g.g=C(I),g.b=S(I),g.opacity=k(I),g+""}}return f.gamma=a,f}(1);function u_(a){return function(c){var w,C,u=c.length,f=new Array(u),g=new Array(u),_=new Array(u);for(w=0;w<u;++w)C=uv(c[w]),f[w]=C.r||0,g[w]=C.g||0,_[w]=C.b||0;return f=a(f),g=a(g),_=a(_),C.opacity=1,function(S){return C.r=f(S),C.g=g(S),C.b=_(S),C+""}}}var yl=u_(k1),hv=u_(MN);function fv(a,c){c||(c=[]);var g,u=a?Math.min(c.length,a.length):0,f=c.slice();return function(_){for(g=0;g<u;++g)f[g]=a[g]*(1-_)+c[g]*_;return f}}function T1(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function lD(a,c){return(T1(c)?fv:mv)(a,c)}function mv(a,c){var w,u=c?c.length:0,f=a?Math.min(u,a.length):0,g=new Array(f),_=new Array(u);for(w=0;w<f;++w)g[w]=Ja(a[w],c[w]);for(;w<u;++w)_[w]=c[w];return function(C){for(w=0;w<f;++w)_[w]=g[w](C);return _}}function I1(a,c){var u=new Date;return a=+a,c=+c,function(f){return u.setTime(a*(1-f)+c*f),u}}function ha(a,c){return a=+a,c=+c,function(u){return a*(1-u)+c*u}}function h_(a,c){var g,u={},f={};for(g in(null===a||"object"!=typeof a)&&(a={}),(null===c||"object"!=typeof c)&&(c={}),c)g in a?u[g]=Ja(a[g],c[g]):f[g]=c[g];return function(_){for(g in u)f[g]=u[g](_);return f}}var pv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gv=new RegExp(pv.source,"g");function Ih(a,c){var f,g,_,u=pv.lastIndex=gv.lastIndex=0,w=-1,C=[],S=[];for(a+="",c+="";(f=pv.exec(a))&&(g=gv.exec(c));)(_=g.index)>u&&(_=c.slice(u,_),C[w]?C[w]+=_:C[++w]=_),(f=f[0])===(g=g[0])?C[w]?C[w]+=g:C[++w]=g:(C[++w]=null,S.push({i:w,x:ha(f,g)})),u=gv.lastIndex;return u<c.length&&(_=c.slice(u),C[w]?C[w]+=_:C[++w]=_),C.length<2?S[0]?function _v(a){return function(c){return a(c)+""}}(S[0].x):function cD(a){return function(){return a}}(c):(c=S.length,function(k){for(var N,I=0;I<c;++I)C[(N=S[I]).i]=N.x(k);return C.join("")})}function Ja(a,c){var f,u=typeof c;return null==c||"boolean"===u?D1(c):("number"===u?ha:"string"===u?(f=gu(c))?(c=f,As):Ih:c instanceof gu?As:c instanceof Date?I1:T1(c)?fv:Array.isArray(c)?mv:"function"!=typeof c.valueOf&&"function"!=typeof c.toString||isNaN(c)?h_:ha)(a,c)}function A1(a){let c;for(;c=a.sourceEvent;)a=c;return a}function xl(a,c){if(a=A1(a),void 0===c&&(c=a.currentTarget),c){var u=c.ownerSVGElement||c;if(u.createSVGPoint){var f=u.createSVGPoint();return f.x=a.clientX,f.y=a.clientY,[(f=f.matrixTransform(c.getScreenCTM().inverse())).x,f.y]}if(c.getBoundingClientRect){var g=c.getBoundingClientRect();return[a.clientX-g.left-c.clientLeft,a.clientY-g.top-c.clientTop]}}return[a.pageX,a.pageY]}var O1,Tm,_u=0,Ah=0,bu=0,dD=1e3,Im=0,Oh=0,Am=0,bv="object"==typeof performance&&performance.now?performance:Date,kN="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function f_(){return Oh||(kN(uD),Oh=bv.now()+Am)}function uD(){Oh=0}function Om(){this._call=this._time=this._next=null}function vv(a,c,u){var f=new Om;return f.restart(a,c,u),f}function hD(){f_(),++_u;for(var c,a=O1;a;)(c=Oh-a._time)>=0&&a._call.call(null,c),a=a._next;--_u}function fD(){Oh=(Im=bv.now())+Am,_u=Ah=0;try{hD()}finally{_u=0,function DN(){for(var a,u,c=O1,f=1/0;c;)c._call?(f>c._time&&(f=c._time),a=c,c=c._next):(u=c._next,c._next=null,c=a?a._next=u:O1=u);Tm=a,yv(f)}(),Oh=0}}function mD(){var a=bv.now(),c=a-Im;c>dD&&(Am-=c,Im=a)}function yv(a){_u||(Ah&&(Ah=clearTimeout(Ah)),a-Oh>24?(a<1/0&&(Ah=setTimeout(fD,a-bv.now()-Am)),bu&&(bu=clearInterval(bu))):(bu||(Im=bv.now(),bu=setInterval(mD,dD)),_u=1,kN(fD)))}function R1(a,c,u){var f=new Om;return f.restart(g=>{f.stop(),a(g+c)},c=null==c?0:+c,u),f}Om.prototype=vv.prototype={constructor:Om,restart:function(a,c,u){if("function"!=typeof a)throw new TypeError("callback is not a function");u=(null==u?f_():+u)+(null==c?0:+c),!this._next&&Tm!==this&&(Tm?Tm._next=this:O1=this,Tm=this),this._call=a,this._time=u,yv()},stop:function(){this._call&&(this._call=null,this._time=1/0,yv())}};var ZU=nr("start","end","cancel","interrupt"),TN=[],zn=0,xv=1,P1=2,wv=3,Cv=5,Ev=6;function Rm(a,c,u,f,g,_){var w=a.__transition;if(w){if(u in w)return}else a.__transition={};!function pD(a,c,u){var g,f=a.__transition;function w(k){var I,N,R,G;if(u.state!==xv)return S();for(I in f)if((G=f[I]).name===u.name){if(G.state===wv)return R1(w);4===G.state?(G.state=Ev,G.timer.stop(),G.on.call("interrupt",a,a.__data__,G.index,G.group),delete f[I]):+I<c&&(G.state=Ev,G.timer.stop(),G.on.call("cancel",a,a.__data__,G.index,G.group),delete f[I])}if(R1(function(){u.state===wv&&(u.state=4,u.timer.restart(C,u.delay,u.time),C(k))}),u.state=P1,u.on.call("start",a,a.__data__,u.index,u.group),u.state===P1){for(u.state=wv,g=new Array(R=u.tween.length),I=0,N=-1;I<R;++I)(G=u.tween[I].value.call(a,a.__data__,u.index,u.group))&&(g[++N]=G);g.length=N+1}}function C(k){for(var I=k<u.duration?u.ease.call(null,k/u.duration):(u.timer.restart(S),u.state=Cv,1),N=-1,R=g.length;++N<R;)g[N].call(a,I);u.state===Cv&&(u.on.call("end",a,a.__data__,u.index,u.group),S())}function S(){for(var k in u.state=Ev,u.timer.stop(),delete f[c],f)return;delete a.__transition}f[c]=u,u.timer=vv(function _(k){u.state=xv,u.timer.restart(w,u.delay,u.time),u.delay<=k&&w(k-u.delay)},0,u.time)}(a,u,{name:c,index:f,group:g,on:ZU,tween:TN,time:_.time,delay:_.delay,duration:_.duration,ease:_.ease,timer:null,state:zn})}function F1(a,c){var u=wl(a,c);if(u.state>zn)throw new Error("too late; already scheduled");return u}function Js(a,c){var u=wl(a,c);if(u.state>wv)throw new Error("too late; already running");return u}function wl(a,c){var u=a.__transition;if(!u||!(u=u[c]))throw new Error("transition not found");return u}function ar(a,c){var f,g,w,u=a.__transition,_=!0;if(u){for(w in c=null==c?null:c+"",u)(f=u[w]).name===c?(g=f.state>P1&&f.state<Cv,f.state=Ev,f.timer.stop(),f.on.call(g?"interrupt":"cancel",a,a.__data__,f.index,f.group),delete u[w]):_=!1;_&&delete a.__transition}}var p_,m_=180/Math.PI,Bo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gD(a,c,u,f,g,_){var w,C,S;return(w=Math.sqrt(a*a+c*c))&&(a/=w,c/=w),(S=a*u+c*f)&&(u-=a*S,f-=c*S),(C=Math.sqrt(u*u+f*f))&&(u/=C,f/=C,S/=C),a*f<c*u&&(a=-a,c=-c,S=-S,w=-w),{translateX:g,translateY:_,rotate:Math.atan2(c,a)*m_,skewX:Math.atan(S)*m_,scaleX:w,scaleY:C}}function _D(a,c,u,f){function g(k){return k.length?k.pop()+" ":""}return function(k,I){var N=[],R=[];return k=a(k),I=a(I),function _(k,I,N,R,G,at){if(k!==N||I!==R){var dt=G.push("translate(",null,c,null,u);at.push({i:dt-4,x:ha(k,N)},{i:dt-2,x:ha(I,R)})}else(N||R)&&G.push("translate("+N+c+R+u)}(k.translateX,k.translateY,I.translateX,I.translateY,N,R),function w(k,I,N,R){k!==I?(k-I>180?I+=360:I-k>180&&(k+=360),R.push({i:N.push(g(N)+"rotate(",null,f)-2,x:ha(k,I)})):I&&N.push(g(N)+"rotate("+I+f)}(k.rotate,I.rotate,N,R),function C(k,I,N,R){k!==I?R.push({i:N.push(g(N)+"skewX(",null,f)-2,x:ha(k,I)}):I&&N.push(g(N)+"skewX("+I+f)}(k.skewX,I.skewX,N,R),function S(k,I,N,R,G,at){if(k!==N||I!==R){var dt=G.push(g(G)+"scale(",null,",",null,")");at.push({i:dt-4,x:ha(k,N)},{i:dt-2,x:ha(I,R)})}else(1!==N||1!==R)&&G.push(g(G)+"scale("+N+","+R+")")}(k.scaleX,k.scaleY,I.scaleX,I.scaleY,N,R),k=I=null,function(G){for(var X,at=-1,dt=R.length;++at<dt;)N[(X=R[at]).i]=X.x(G);return N.join("")}}}var bD=_D(function Pm(a){const c=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(a+"");return c.isIdentity?Bo:gD(c.a,c.b,c.c,c.d,c.e,c.f)},"px, ","px)","deg)"),vD=_D(function tl(a){return null!=a&&(p_||(p_=document.createElementNS("http://www.w3.org/2000/svg","g")),p_.setAttribute("transform",a),a=p_.transform.baseVal.consolidate())?gD((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):Bo},", ",")",")");function vu(a,c){var u,f;return function(){var g=Js(this,a),_=g.tween;if(_!==u)for(var w=0,C=(f=u=_).length;w<C;++w)if(f[w].name===c){(f=f.slice()).splice(w,1);break}g.tween=f}}function yD(a,c,u){var f,g;if("function"!=typeof u)throw new Error;return function(){var _=Js(this,a),w=_.tween;if(w!==f){g=(f=w).slice();for(var C={name:c,value:u},S=0,k=g.length;S<k;++S)if(g[S].name===c){g[S]=C;break}S===k&&g.push(C)}_.tween=g}}function Mv(a,c,u){var f=a._id;return a.each(function(){var g=Js(this,f);(g.value||(g.value={}))[c]=u.apply(this,arguments)}),function(g){return wl(g,f).value[c]}}function B1(a,c){var u;return("number"==typeof c?ha:c instanceof gu?As:(u=gu(c))?(c=u,As):Ih)(a,c)}function xD(a){return function(){this.removeAttribute(a)}}function AN(a){return function(){this.removeAttributeNS(a.space,a.local)}}function cn(a,c,u){var f,_,g=u+"";return function(){var w=this.getAttribute(a);return w===g?null:w===f?_:_=c(f=w,u)}}function wD(a,c,u){var f,_,g=u+"";return function(){var w=this.getAttributeNS(a.space,a.local);return w===g?null:w===f?_:_=c(f=w,u)}}function qU(a,c,u){var f,g,_;return function(){var w,S,C=u(this);return null==C?void this.removeAttribute(a):(w=this.getAttribute(a))===(S=C+"")?null:w===f&&S===g?_:(g=S,_=c(f=w,C))}}function ON(a,c,u){var f,g,_;return function(){var w,S,C=u(this);return null==C?void this.removeAttributeNS(a.space,a.local):(w=this.getAttributeNS(a.space,a.local))===(S=C+"")?null:w===f&&S===g?_:(g=S,_=c(f=w,C))}}function Lm(a,c){var u,f;function g(){var _=c.apply(this,arguments);return _!==f&&(u=(f=_)&&function CD(a,c){return function(u){this.setAttributeNS(a.space,a.local,c.call(this,u))}}(a,_)),u}return g._value=c,g}function LN(a,c){var u,f;function g(){var _=c.apply(this,arguments);return _!==f&&(u=(f=_)&&function PN(a,c){return function(u){this.setAttribute(a,c.call(this,u))}}(a,_)),u}return g._value=c,g}function NN(a,c){return function(){F1(this,a).delay=+c.apply(this,arguments)}}function BN(a,c){return c=+c,function(){F1(this,a).delay=c}}function Ge(a,c){return function(){Js(this,a).duration=+c.apply(this,arguments)}}function tr(a,c){return c=+c,function(){Js(this,a).duration=c}}var Fm=Sh.prototype.constructor;function H1(a){return function(){this.style.removeProperty(a)}}var $N=0;function es(a,c,u,f){this._groups=a,this._parents=c,this._name=u,this._id=f}function yu(a){return Sh().transition(a)}function is(){return++$N}var Os=Sh.prototype;function YN(a){return a*a*a}function Rh(a){return--a*a*a+1}function Y1(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}es.prototype=yu.prototype={constructor:es,select:function md(a){var c=this._name,u=this._id;"function"!=typeof a&&(a=t_(a));for(var f=this._groups,g=f.length,_=new Array(g),w=0;w<g;++w)for(var I,N,C=f[w],S=C.length,k=_[w]=new Array(S),R=0;R<S;++R)(I=C[R])&&(N=a.call(I,I.__data__,R,C))&&("__data__"in I&&(N.__data__=I.__data__),k[R]=N,Rm(k[R],c,u,R,k,wl(I,u)));return new es(_,this._parents,c,u)},selectAll:function SD(a){var c=this._name,u=this._id;"function"!=typeof a&&(a=Ch(a));for(var f=this._groups,g=f.length,_=[],w=[],C=0;C<g;++C)for(var I,S=f[C],k=S.length,N=0;N<k;++N)if(I=S[N]){for(var G,R=a.call(I,I.__data__,N,S),at=wl(I,u),dt=0,X=R.length;dt<X;++dt)(G=R[dt])&&Rm(G,c,u,dt,R,at);_.push(R),w.push(I)}return new es(_,w,c,u)},filter:function Oc(a){"function"!=typeof a&&(a=i_(a));for(var c=this._groups,u=c.length,f=new Array(u),g=0;g<u;++g)for(var S,_=c[g],w=_.length,C=f[g]=[],k=0;k<w;++k)(S=_[k])&&a.call(S,S.__data__,k,_)&&C.push(S);return new es(f,this._parents,this._name,this._id)},merge:function z1(a){if(a._id!==this._id)throw new Error;for(var c=this._groups,u=a._groups,f=c.length,_=Math.min(f,u.length),w=new Array(f),C=0;C<_;++C)for(var R,S=c[C],k=u[C],I=S.length,N=w[C]=new Array(I),G=0;G<I;++G)(R=S[G]||k[G])&&(N[G]=R);for(;C<f;++C)w[C]=c[C];return new es(w,this._parents,this._name,this._id)},selection:function pd(){return new Fm(this._groups,this._parents)},transition:function $1(){for(var a=this._name,c=this._id,u=is(),f=this._groups,g=f.length,_=0;_<g;++_)for(var S,w=f[_],C=w.length,k=0;k<C;++k)if(S=w[k]){var I=wl(S,c);Rm(S,a,u,k,w,{time:I.time+I.delay+I.duration,delay:0,duration:I.duration,ease:I.ease})}return new es(f,this._parents,a,u)},call:Os.call,nodes:Os.nodes,node:Os.node,size:Os.size,empty:Os.empty,each:Os.each,on:function XU(a,c){var u=this._id;return arguments.length<2?wl(this.node(),u).on.on(a):this.each(function VN(a,c,u){var f,g,_=function V1(a){return(a+"").trim().split(/^|\s+/).every(function(c){var u=c.indexOf(".");return u>=0&&(c=c.slice(0,u)),!c||"start"===c})}(c)?F1:Js;return function(){var w=_(this,a),C=w.on;C!==f&&(g=(f=C).copy()).on(c,u),w.on=g}}(u,a,c))},attr:function RN(a,c){var u=Xl(a),f="transform"===u?vD:B1;return this.attrTween(a,"function"==typeof c?(u.local?ON:qU)(u,f,Mv(this,"attr."+a,c)):null==c?(u.local?AN:xD)(u):(u.local?wD:cn)(u,f,c))},attrTween:function FN(a,c){var u="attr."+a;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==c)return this.tween(u,null);if("function"!=typeof c)throw new Error;var f=Xl(a);return this.tween(u,(f.local?Lm:LN)(f,c))},style:function G1(a,c,u){var f="transform"==(a+="")?bD:B1;return null==c?this.styleTween(a,function HN(a,c){var u,f,g;return function(){var _=Kl(this,a),w=(this.style.removeProperty(a),Kl(this,a));return _===w?null:_===u&&w===f?g:g=c(u=_,f=w)}}(a,f)).on("end.style."+a,H1(a)):"function"==typeof c?this.styleTween(a,function GN(a,c,u){var f,g,_;return function(){var w=Kl(this,a),C=u(this),S=C+"";return null==C&&(this.style.removeProperty(a),S=C=Kl(this,a)),w===S?null:w===f&&S===g?_:(g=S,_=c(f=w,C))}}(a,f,Mv(this,"style."+a,c))).each(function U1(a,c){var u,f,g,C,_="style."+c,w="end."+_;return function(){var S=Js(this,a),k=S.on,I=null==S.value[_]?C||(C=H1(c)):void 0;(k!==u||g!==I)&&(f=(u=k).copy()).on(w,g=I),S.on=f}}(this._id,a)):this.styleTween(a,function UN(a,c,u){var f,_,g=u+"";return function(){var w=Kl(this,a);return w===g?null:w===f?_:_=c(f=w,u)}}(a,f,c),u).on("end.style."+a,null)},styleTween:function jN(a,c,u){var f="style."+(a+="");if(arguments.length<2)return(f=this.tween(f))&&f._value;if(null==c)return this.tween(f,null);if("function"!=typeof c)throw new Error;return this.tween(f,function j1(a,c,u){var f,g;function _(){var w=c.apply(this,arguments);return w!==g&&(f=(g=w)&&function kD(a,c,u){return function(f){this.style.setProperty(a,c.call(this,f),u)}}(a,w,u)),f}return _._value=c,_}(a,c,u??""))},text:function TD(a){return this.tween("text","function"==typeof a?function W1(a){return function(){var c=a(this);this.textContent=c??""}}(Mv(this,"text",a)):function DD(a){return function(){this.textContent=a}}(null==a?"":a+""))},textTween:function OD(a){var c="text";if(arguments.length<1)return(c=this.tween(c))&&c._value;if(null==a)return this.tween(c,null);if("function"!=typeof a)throw new Error;return this.tween(c,function AD(a){var c,u;function f(){var g=a.apply(this,arguments);return g!==u&&(c=(u=g)&&function ID(a){return function(c){this.textContent=a.call(this,c)}}(g)),c}return f._value=a,f}(a))},remove:function fa(){return this.on("end.remove",function MD(a){return function(){var c=this.parentNode;for(var u in this.__transition)if(+u!==a)return;c&&c.removeChild(this)}}(this._id))},tween:function IN(a,c){var u=this._id;if(a+="",arguments.length<2){for(var w,f=wl(this.node(),u).tween,g=0,_=f.length;g<_;++g)if((w=f[g]).name===a)return w.value;return null}return this.each((null==c?vu:yD)(u,a,c))},delay:function zN(a){var c=this._id;return arguments.length?this.each(("function"==typeof a?NN:BN)(c,a)):wl(this.node(),c).delay},duration:function Te(a){var c=this._id;return arguments.length?this.each(("function"==typeof a?Ge:tr)(c,a)):wl(this.node(),c).duration},ease:function vo(a){var c=this._id;return arguments.length?this.each(function Ie(a,c){if("function"!=typeof c)throw new Error;return function(){Js(this,a).ease=c}}(c,a)):wl(this.node(),c).ease},easeVarying:function g_(a){if("function"!=typeof a)throw new Error;return this.each(function ED(a,c){return function(){var u=c.apply(this,arguments);if("function"!=typeof u)throw new Error;Js(this,a).ease=u}}(this._id,a))},end:function WN(){var a,c,u=this,f=u._id,g=u.size();return new Promise(function(_,w){var C={value:w},S={value:function(){0==--g&&_()}};u.each(function(){var k=Js(this,f),I=k.on;I!==a&&((c=(a=I).copy())._.cancel.push(C),c._.interrupt.push(C),c._.end.push(S)),k.on=c}),0===g&&_()})},[Symbol.iterator]:Os[Symbol.iterator]};var RD={time:null,delay:0,duration:250,ease:Y1};function PD(a,c){for(var u;!(u=a.__transition)||!(u=u[c]);)if(!(a=a.parentNode))throw new Error(`transition ${c} not found`);return u}Sh.prototype.interrupt=function N1(a){return this.each(function(){ar(this,a)})},Sh.prototype.transition=function Sv(a){var c,u;a instanceof es?(c=a._id,a=a._name):(c=is(),(u=RD).time=f_(),a=null==a?null:a+"");for(var f=this._groups,g=f.length,_=0;_<g;++_)for(var S,w=f[_],C=w.length,k=0;k<C;++k)(S=w[k])&&Rm(S,a,c,k,w,u||PD(S,c));return new es(f,this._parents,a,c)};var xu=[null];function ZN(a,c){var f,g,u=a.__transition;if(u)for(g in c=null==c?null:c+"",u)if((f=u[g]).state>xv&&f.name===c)return new es([[a]],xu,c,+g);return null}const Nm=a=>()=>a;function kv(a,{sourceEvent:c,target:u,selection:f,mode:g,dispatch:_}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:c,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},selection:{value:f,enumerable:!0,configurable:!0},mode:{value:g,enumerable:!0,configurable:!0},_:{value:_}})}function __(a){a.preventDefault(),a.stopImmediatePropagation()}var Z1={name:"drag"},Tv={name:"space"},Bm={name:"handle"},rc={name:"center"};const{abs:zm,max:zo,min:ma}=Math;function Iv(a){return[+a[0],+a[1]]}function LD(a){return[Iv(a[0]),Iv(a[1])]}var Av={name:"x",handles:["w","e"].map(Ph),input:function(a,c){return null==a?null:[[+a[0],c[0][1]],[+a[1],c[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},Ov={name:"y",handles:["n","s"].map(Ph),input:function(a,c){return null==a?null:[[c[0][0],+a[0]],[c[1][0],+a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},KU={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ph),input:function(a){return null==a?null:LD(a)},output:function(a){return a}},wu={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rv={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Vm={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},qN={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},b_={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ph(a){return{type:a}}function Pv(a){return!a.ctrlKey&&!a.button}function QU(){var a=this.ownerSVGElement||this;return a.hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function FD(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lv(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function Rc(a){var c=a.__brush;return c?c.dim.output(c.selection):null}function KN(){return Nv(Av)}function Fv(){return Nv(Ov)}function q1(){return Nv(KU)}function Nv(a){var C,c=QU,u=Pv,f=FD,g=!0,_=nr("start","brush","end"),w=6;function S(X){var nt=X.property("__brush",dt).selectAll(".overlay").data([Ph("overlay")]);nt.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wu.overlay).merge(nt).each(function(){var bt=Lv(this).extent;hs(this).attr("x",bt[0][0]).attr("y",bt[0][1]).attr("width",bt[1][0]-bt[0][0]).attr("height",bt[1][1]-bt[0][1])}),X.selectAll(".selection").data([Ph("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wu.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var yt=X.selectAll(".handle").data(a.handles,function(bt){return bt.type});yt.exit().remove(),yt.enter().append("rect").attr("class",function(bt){return"handle handle--"+bt.type}).attr("cursor",function(bt){return wu[bt.type]}),X.each(k).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",R).filter(f).on("touchstart.brush",R).on("touchmove.brush",G).on("touchend.brush touchcancel.brush",at).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(){var X=hs(this),nt=Lv(this).selection;nt?(X.selectAll(".selection").style("display",null).attr("x",nt[0][0]).attr("y",nt[0][1]).attr("width",nt[1][0]-nt[0][0]).attr("height",nt[1][1]-nt[0][1]),X.selectAll(".handle").style("display",null).attr("x",function(yt){return"e"===yt.type[yt.type.length-1]?nt[1][0]-w/2:nt[0][0]-w/2}).attr("y",function(yt){return"s"===yt.type[0]?nt[1][1]-w/2:nt[0][1]-w/2}).attr("width",function(yt){return"n"===yt.type||"s"===yt.type?nt[1][0]-nt[0][0]+w:w}).attr("height",function(yt){return"e"===yt.type||"w"===yt.type?nt[1][1]-nt[0][1]+w:w})):X.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function I(X,nt,yt){var bt=X.__brush.emitter;return!bt||yt&&bt.clean?new N(X,nt,yt):bt}function N(X,nt,yt){this.that=X,this.args=nt,this.state=X.__brush,this.active=0,this.clean=yt}function R(X){if((!C||X.touches)&&u.apply(this,arguments)){var ae,se,De,Qt,ce,Pe,ii,hi,br,mr,$s,nt=this,yt=X.target.__data__.type,bt="selection"===(g&&X.metaKey?yt="overlay":yt)?Z1:g&&X.altKey?rc:Bm,mt=a===Ov?null:qN[yt],Gt=a===Av?null:b_[yt],$t=Lv(nt),ye=$t.extent,Ce=$t.selection,Be=ye[0][0],Le=ye[0][1],le=ye[1][0],Ke=ye[1][1],Si=0,$i=0,li=mt&&Gt&&g&&X.shiftKey,dr=Array.from(X.touches||[X],vn=>{const gs=vn.identifier;return(vn=xl(vn,nt)).point0=vn.slice(),vn.identifier=gs,vn});if("overlay"===yt){Ce&&(br=!0);const vn=[dr[0],dr[1]||dr[0]];$t.selection=Ce=[[ae=a===Ov?Be:ma(vn[0][0],vn[1][0]),De=a===Av?Le:ma(vn[0][1],vn[1][1])],[ce=a===Ov?le:zo(vn[0][0],vn[1][0]),ii=a===Av?Ke:zo(vn[0][1],vn[1][1])]],dr.length>1&&ps()}else ae=Ce[0][0],De=Ce[0][1],ce=Ce[1][0],ii=Ce[1][1];se=ae,Qt=De,Pe=ce,hi=ii;var Ys=hs(nt).attr("pointer-events","none"),xi=Ys.selectAll(".overlay").attr("cursor",wu[yt]);ar(nt);var Qi=I(nt,arguments,!0).beforestart();if(X.touches)Qi.moved=ei,Qi.ended=Er;else{var kn=hs(X.view).on("mousemove.brush",ei,!0).on("mouseup.brush",Er,!0);g&&kn.on("keydown.brush",function ws(vn){switch(vn.keyCode){case 16:li=mt&&Gt;break;case 18:bt===Bm&&(mt&&(ce=Pe-Si*mt,ae=se+Si*mt),Gt&&(ii=hi-$i*Gt,De=Qt+$i*Gt),bt=rc,ps());break;case 32:(bt===Bm||bt===rc)&&(mt<0?ce=Pe-Si:mt>0&&(ae=se-Si),Gt<0?ii=hi-$i:Gt>0&&(De=Qt-$i),bt=Tv,xi.attr("cursor",wu.selection),ps());break;default:return}__(vn)},!0).on("keyup.brush",function Ca(vn){switch(vn.keyCode){case 16:li&&(mr=$s=li=!1,ps());break;case 18:bt===rc&&(mt<0?ce=Pe:mt>0&&(ae=se),Gt<0?ii=hi:Gt>0&&(De=Qt),bt=Bm,ps());break;case 32:bt===Tv&&(vn.altKey?(mt&&(ce=Pe-Si*mt,ae=se+Si*mt),Gt&&(ii=hi-$i*Gt,De=Qt+$i*Gt),bt=rc):(mt<0?ce=Pe:mt>0&&(ae=se),Gt<0?ii=hi:Gt>0&&(De=Qt),bt=Bm),xi.attr("cursor",wu[yt]),ps());break;default:return}__(vn)},!0),pu(X.view)}k.call(nt),Qi.start(X,bt.name)}function ei(vn){for(const gs of vn.changedTouches||[vn])for(const j0 of dr)j0.identifier===gs.identifier&&(j0.cur=xl(gs,nt));if(li&&!mr&&!$s&&1===dr.length){const gs=dr[0];zm(gs.cur[0]-gs[0])>zm(gs.cur[1]-gs[1])?$s=!0:mr=!0}for(const gs of dr)gs.cur&&(gs[0]=gs.cur[0],gs[1]=gs.cur[1]);br=!0,__(vn),ps(vn)}function ps(vn){const gs=dr[0],j0=gs.point0;var Rd;switch(Si=gs[0]-j0[0],$i=gs[1]-j0[1],bt){case Tv:case Z1:mt&&(Si=zo(Be-ae,ma(le-ce,Si)),se=ae+Si,Pe=ce+Si),Gt&&($i=zo(Le-De,ma(Ke-ii,$i)),Qt=De+$i,hi=ii+$i);break;case Bm:dr[1]?(mt&&(se=zo(Be,ma(le,dr[0][0])),Pe=zo(Be,ma(le,dr[1][0])),mt=1),Gt&&(Qt=zo(Le,ma(Ke,dr[0][1])),hi=zo(Le,ma(Ke,dr[1][1])),Gt=1)):(mt<0?(Si=zo(Be-ae,ma(le-ae,Si)),se=ae+Si,Pe=ce):mt>0&&(Si=zo(Be-ce,ma(le-ce,Si)),se=ae,Pe=ce+Si),Gt<0?($i=zo(Le-De,ma(Ke-De,$i)),Qt=De+$i,hi=ii):Gt>0&&($i=zo(Le-ii,ma(Ke-ii,$i)),Qt=De,hi=ii+$i));break;case rc:mt&&(se=zo(Be,ma(le,ae-Si*mt)),Pe=zo(Be,ma(le,ce+Si*mt))),Gt&&(Qt=zo(Le,ma(Ke,De-$i*Gt)),hi=zo(Le,ma(Ke,ii+$i*Gt)))}Pe<se&&(mt*=-1,Rd=ae,ae=ce,ce=Rd,Rd=se,se=Pe,Pe=Rd,yt in Rv&&xi.attr("cursor",wu[yt=Rv[yt]])),hi<Qt&&(Gt*=-1,Rd=De,De=ii,ii=Rd,Rd=Qt,Qt=hi,hi=Rd,yt in Vm&&xi.attr("cursor",wu[yt=Vm[yt]])),$t.selection&&(Ce=$t.selection),mr&&(se=Ce[0][0],Pe=Ce[1][0]),$s&&(Qt=Ce[0][1],hi=Ce[1][1]),(Ce[0][0]!==se||Ce[0][1]!==Qt||Ce[1][0]!==Pe||Ce[1][1]!==hi)&&($t.selection=[[se,Qt],[Pe,hi]],k.call(nt),Qi.brush(vn,bt.name))}function Er(vn){if(function Dv(a){a.stopImmediatePropagation()}(vn),vn.touches){if(vn.touches.length)return;C&&clearTimeout(C),C=setTimeout(function(){C=null},500)}else Rn(vn.view,br),kn.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ys.attr("pointer-events","all"),xi.attr("cursor",wu.overlay),$t.selection&&(Ce=$t.selection),function XN(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}(Ce)&&($t.selection=null,k.call(nt)),Qi.end(vn,bt.name)}}function G(X){I(this,arguments).moved(X)}function at(X){I(this,arguments).ended(X)}function dt(){var X=this.__brush||{selection:null};return X.extent=LD(c.apply(this,arguments)),X.dim=a,X}return S.move=function(X,nt){X.tween?X.on("start.brush",function(yt){I(this,arguments).beforestart().start(yt)}).on("interrupt.brush end.brush",function(yt){I(this,arguments).end(yt)}).tween("brush",function(){var yt=this,bt=yt.__brush,mt=I(yt,arguments),Gt=bt.selection,$t=a.input("function"==typeof nt?nt.apply(this,arguments):nt,bt.extent),ye=Ja(Gt,$t);function Ce(Be){bt.selection=1===Be&&null===$t?null:ye(Be),k.call(yt),mt.brush()}return null!==Gt&&null!==$t?Ce:Ce(1)}):X.each(function(){var yt=this,bt=arguments,mt=yt.__brush,Gt=a.input("function"==typeof nt?nt.apply(yt,bt):nt,mt.extent),$t=I(yt,bt).beforestart();ar(yt),mt.selection=null===Gt?null:Gt,k.call(yt),$t.start().brush().end()})},S.clear=function(X){S.move(X,null)},N.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(X,nt){return this.starting?(this.starting=!1,this.emit("start",X,nt)):this.emit("brush",X),this},brush:function(X,nt){return this.emit("brush",X,nt),this},end:function(X,nt){return 0==--this.active&&(delete this.state.emitter,this.emit("end",X,nt)),this},emit:function(X,nt,yt){var bt=hs(this.that).datum();_.call(X,this.that,new kv(X,{sourceEvent:nt,target:S,selection:a.output(this.state.selection),mode:yt,dispatch:_}),bt)}},S.extent=function(X){return arguments.length?(c="function"==typeof X?X:Nm(LD(X)),S):c},S.filter=function(X){return arguments.length?(u="function"==typeof X?X:Nm(!!X),S):u},S.touchable=function(X){return arguments.length?(f="function"==typeof X?X:Nm(!!X),S):f},S.handleSize=function(X){return arguments.length?(w=+X,S):w},S.keyModifiers=function(X){return arguments.length?(g=!!X,S):g},S.on=function(){var X=_.on.apply(_,arguments);return X===_?S:X},S}var v_=Math.abs,Cu=Math.cos,Hm=Math.sin,X1=Math.PI,y_=X1/2,K1=2*X1,Q1=Math.max,J1=1e-12;function Um(a,c){return Array.from({length:c-a},(u,f)=>a+f)}function QN(){return Fh(!1,!1)}function ND(){return Fh(!1,!0)}function BD(){return Fh(!0,!1)}function Fh(a,c){var u=0,f=null,g=null,_=null;function w(C){var at,S=C.length,k=new Array(S),I=Um(0,S),N=new Array(S*S),R=new Array(S),G=0;C=Float64Array.from({length:S*S},c?(dt,X)=>C[X%S][X/S|0]:(dt,X)=>C[X/S|0][X%S]);for(let dt=0;dt<S;++dt){let X=0;for(let nt=0;nt<S;++nt)X+=C[dt*S+nt]+a*C[nt*S+dt];G+=k[dt]=X}at=(G=Q1(0,K1-u*S)/G)?u:K1/S;{let dt=0;f&&I.sort((X,nt)=>f(k[X],k[nt]));for(const X of I){const nt=dt;if(a){const yt=Um(1+~S,S).filter(bt=>bt<0?C[~bt*S+X]:C[X*S+bt]);g&&yt.sort((bt,mt)=>g(bt<0?-C[~bt*S+X]:C[X*S+bt],mt<0?-C[~mt*S+X]:C[X*S+mt]));for(const bt of yt)bt<0?(N[~bt*S+X]||(N[~bt*S+X]={source:null,target:null})).target={index:X,startAngle:dt,endAngle:dt+=C[~bt*S+X]*G,value:C[~bt*S+X]}:(N[X*S+bt]||(N[X*S+bt]={source:null,target:null})).source={index:X,startAngle:dt,endAngle:dt+=C[X*S+bt]*G,value:C[X*S+bt]};R[X]={index:X,startAngle:nt,endAngle:dt,value:k[X]}}else{const yt=Um(0,S).filter(bt=>C[X*S+bt]||C[bt*S+X]);g&&yt.sort((bt,mt)=>g(C[X*S+bt],C[X*S+mt]));for(const bt of yt){let mt;if(X<bt?(mt=N[X*S+bt]||(N[X*S+bt]={source:null,target:null}),mt.source={index:X,startAngle:dt,endAngle:dt+=C[X*S+bt]*G,value:C[X*S+bt]}):(mt=N[bt*S+X]||(N[bt*S+X]={source:null,target:null}),mt.target={index:X,startAngle:dt,endAngle:dt+=C[X*S+bt]*G,value:C[X*S+bt]},X===bt&&(mt.source=mt.target)),mt.source&&mt.target&&mt.source.value<mt.target.value){const Gt=mt.source;mt.source=mt.target,mt.target=Gt}}R[X]={index:X,startAngle:nt,endAngle:dt,value:k[X]}}dt+=at}}return(N=Object.values(N)).groups=R,_?N.sort(_):N}return w.padAngle=function(C){return arguments.length?(u=Q1(0,C),w):u},w.sortGroups=function(C){return arguments.length?(f=C,w):f},w.sortSubgroups=function(C){return arguments.length?(g=C,w):g},w.sortChords=function(C){return arguments.length?(null==C?_=null:(_=function Lh(a){return function(c,u){return a(c.source.value+c.target.value,u.source.value+u.target.value)}}(C))._=C,w):_&&_._},w}const tC=Math.PI,yo=2*tC,Nh=1e-6,qi=yo-Nh;function x_(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zD(){return new x_}x_.prototype=zD.prototype={constructor:x_,moveTo:function(a,c){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+c)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,c){this._+="L"+(this._x1=+a)+","+(this._y1=+c)},quadraticCurveTo:function(a,c,u,f){this._+="Q"+ +a+","+ +c+","+(this._x1=+u)+","+(this._y1=+f)},bezierCurveTo:function(a,c,u,f,g,_){this._+="C"+ +a+","+ +c+","+ +u+","+ +f+","+(this._x1=+g)+","+(this._y1=+_)},arcTo:function(a,c,u,f,g){var _=this._x1,w=this._y1,C=(u=+u)-(a=+a),S=(f=+f)-(c=+c),k=_-a,I=w-c,N=k*k+I*I;if((g=+g)<0)throw new Error("negative radius: "+g);if(null===this._x1)this._+="M"+(this._x1=a)+","+(this._y1=c);else if(N>Nh)if(Math.abs(I*C-S*k)>Nh&&g){var R=u-_,G=f-w,at=C*C+S*S,dt=R*R+G*G,X=Math.sqrt(at),nt=Math.sqrt(N),yt=g*Math.tan((tC-Math.acos((at+N-dt)/(2*X*nt)))/2),bt=yt/nt,mt=yt/X;Math.abs(bt-1)>Nh&&(this._+="L"+(a+bt*k)+","+(c+bt*I)),this._+="A"+g+","+g+",0,0,"+ +(I*R>k*G)+","+(this._x1=a+mt*C)+","+(this._y1=c+mt*S)}else this._+="L"+(this._x1=a)+","+(this._y1=c)},arc:function(a,c,u,f,g,_){a=+a,c=+c,_=!!_;var w=(u=+u)*Math.cos(f),C=u*Math.sin(f),S=a+w,k=c+C,I=1^_,N=_?f-g:g-f;if(u<0)throw new Error("negative radius: "+u);null===this._x1?this._+="M"+S+","+k:(Math.abs(this._x1-S)>Nh||Math.abs(this._y1-k)>Nh)&&(this._+="L"+S+","+k),u&&(N<0&&(N=N%yo+yo),N>qi?this._+="A"+u+","+u+",0,1,"+I+","+(a-w)+","+(c-C)+"A"+u+","+u+",0,1,"+I+","+(this._x1=S)+","+(this._y1=k):N>Nh&&(this._+="A"+u+","+u+",0,"+ +(N>=tC)+","+I+","+(this._x1=a+u*Math.cos(g))+","+(this._y1=c+u*Math.sin(g))))},rect:function(a,c,u,f){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+c)+"h"+ +u+"v"+ +f+"h"+-u+"Z"},toString:function(){return this._}};const Eu=zD;var Cl=Array.prototype.slice;function El(a){return function(){return a}}function Gm(a){return a.source}function jm(a){return a.target}function eC(a){return a.radius}function iC(a){return a.startAngle}function Wm(a){return a.endAngle}function JU(){return 0}function JN(){return 10}function t4(a){var c=Gm,u=jm,f=eC,g=eC,_=iC,w=Wm,C=JU,S=null;function k(){var I,N=c.apply(this,arguments),R=u.apply(this,arguments),G=C.apply(this,arguments)/2,at=Cl.call(arguments),dt=+f.apply(this,(at[0]=N,at)),X=_.apply(this,at)-y_,nt=w.apply(this,at)-y_,yt=+g.apply(this,(at[0]=R,at)),bt=_.apply(this,at)-y_,mt=w.apply(this,at)-y_;if(S||(S=I=Eu()),G>J1&&(v_(nt-X)>2*G+J1?nt>X?(X+=G,nt-=G):(X-=G,nt+=G):X=nt=(X+nt)/2,v_(mt-bt)>2*G+J1?mt>bt?(bt+=G,mt-=G):(bt-=G,mt+=G):bt=mt=(bt+mt)/2),S.moveTo(dt*Cu(X),dt*Hm(X)),S.arc(0,0,dt,X,nt),X!==bt||nt!==mt)if(a){var $t=yt-+a.apply(this,arguments),ye=(bt+mt)/2;S.quadraticCurveTo(0,0,$t*Cu(bt),$t*Hm(bt)),S.lineTo(yt*Cu(ye),yt*Hm(ye)),S.lineTo($t*Cu(mt),$t*Hm(mt))}else S.quadraticCurveTo(0,0,yt*Cu(bt),yt*Hm(bt)),S.arc(0,0,yt,bt,mt);if(S.quadraticCurveTo(0,0,dt*Cu(X),dt*Hm(X)),S.closePath(),I)return S=null,I+""||null}return a&&(k.headRadius=function(I){return arguments.length?(a="function"==typeof I?I:El(+I),k):a}),k.radius=function(I){return arguments.length?(f=g="function"==typeof I?I:El(+I),k):f},k.sourceRadius=function(I){return arguments.length?(f="function"==typeof I?I:El(+I),k):f},k.targetRadius=function(I){return arguments.length?(g="function"==typeof I?I:El(+I),k):g},k.startAngle=function(I){return arguments.length?(_="function"==typeof I?I:El(+I),k):_},k.endAngle=function(I){return arguments.length?(w="function"==typeof I?I:El(+I),k):w},k.padAngle=function(I){return arguments.length?(C="function"==typeof I?I:El(+I),k):C},k.source=function(I){return arguments.length?(c=I,k):c},k.target=function(I){return arguments.length?(u=I,k):u},k.context=function(I){return arguments.length?(S=I??null,k):S},k}function tG(){return t4()}function eG(){return t4(JN)}const e4=Math.PI/180,n4=180/Math.PI,Bh=.96422,VD=1,HD=.82521,Gs=4/29,$m=6/29,Ym=3*$m*$m,r4=$m*$m*$m;function el(a){if(a instanceof Pa)return new Pa(a.l,a.a,a.b,a.opacity);if(a instanceof pa)return o4(a);a instanceof No||(a=sD(a));var _,w,c=sC(a.r),u=sC(a.g),f=sC(a.b),g=zh((.2225045*c+.7168786*u+.0606169*f)/VD);return c===u&&u===f?_=w=g:(_=zh((.4360747*c+.3850649*u+.1430804*f)/Bh),w=zh((.0139322*c+.0971045*u+.7141733*f)/HD)),new Pa(116*g-16,500*(_-g),200*(g-w),a.opacity)}function Zm(a,c){return new Pa(a,0,0,c??1)}function w_(a,c,u,f){return 1===arguments.length?el(a):new Pa(a,c,u,f??1)}function Pa(a,c,u,f){this.l=+a,this.a=+c,this.b=+u,this.opacity=+f}function zh(a){return a>r4?Math.pow(a,1/3):a/Ym+Gs}function rC(a){return a>$m?a*a*a:Ym*(a-Gs)}function UD(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function sC(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function s4(a){if(a instanceof pa)return new pa(a.h,a.c,a.l,a.opacity);if(a instanceof Pa||(a=el(a)),0===a.a&&0===a.b)return new pa(NaN,0<a.l&&a.l<100?0:NaN,a.l,a.opacity);var c=Math.atan2(a.b,a.a)*n4;return new pa(c<0?c+360:c,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function il(a,c,u,f){return 1===arguments.length?s4(a):new pa(u,c,a,f??1)}function qm(a,c,u,f){return 1===arguments.length?s4(a):new pa(a,c,u,f??1)}function pa(a,c,u,f){this.h=+a,this.c=+c,this.l=+u,this.opacity=+f}function o4(a){if(isNaN(a.h))return new Pa(a.l,0,0,a.opacity);var c=a.h*e4;return new Pa(a.l,Math.cos(c)*a.c,Math.sin(c)*a.c,a.opacity)}d_(Pa,w_,kh(dd,{brighter:function(a){return new Pa(this.l+18*(a??1),this.a,this.b,this.opacity)},darker:function(a){return new Pa(this.l-18*(a??1),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,c=isNaN(this.a)?a:a+this.a/500,u=isNaN(this.b)?a:a-this.b/200;return new No(UD(3.1338561*(c=Bh*rC(c))-1.6168667*(a=VD*rC(a))-.4906146*(u=HD*rC(u))),UD(-.9787684*c+1.9161415*a+.033454*u),UD(.0719453*c-.2289914*a+1.4052427*u),this.opacity)}})),d_(pa,qm,kh(dd,{brighter:function(a){return new pa(this.h,this.c,this.l+18*(a??1),this.opacity)},darker:function(a){return new pa(this.h,this.c,this.l-18*(a??1),this.opacity)},rgb:function(){return o4(this).rgb()}}));var aC=1.78277,lC=-.29227,Bv=-.90649,C_=1.97294,GD=C_*Bv,jD=C_*aC,zv=aC*lC- -.14861*Bv;function Hv(a,c,u,f){return 1===arguments.length?function Vv(a){if(a instanceof La)return new La(a.h,a.s,a.l,a.opacity);a instanceof No||(a=sD(a));var u=a.g/255,f=a.b/255,g=(zv*f+GD*(a.r/255)-jD*u)/(zv+GD-jD),_=f-g,w=(C_*(u-g)-lC*_)/Bv,C=Math.sqrt(w*w+_*_)/(C_*g*(1-g)),S=C?Math.atan2(w,_)*n4-120:NaN;return new La(S<0?S+360:S,C,g,a.opacity)}(a):new La(a,c,u,f??1)}function La(a,c,u,f){this.h=+a,this.s=+c,this.l=+u,this.opacity=+f}d_(La,Hv,kh(dd,{brighter:function(a){return a=null==a?ud:Math.pow(ud,a),new La(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new La(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*e4,c=+this.l,u=isNaN(this.s)?0:this.s*c*(1-c),f=Math.cos(a),g=Math.sin(a);return new No(255*(c+u*(-.14861*f+aC*g)),255*(c+u*(lC*f+Bv*g)),255*(c+u*(C_*f)),this.opacity)}}));var Vh=Array.prototype.slice;function l4(a,c){return a-c}const Pc=a=>()=>a;function Uv(a,c){for(var g,u=-1,f=c.length;++u<f;)if(g=$D(a,c[u]))return g;return 0}function $D(a,c){for(var u=c[0],f=c[1],g=-1,_=0,w=a.length,C=w-1;_<w;C=_++){var S=a[_],k=S[0],I=S[1],N=a[C],R=N[0],G=N[1];if(c4(S,N,c))return 0;I>f!=G>f&&u<(R-k)*(f-I)/(G-I)+k&&(g=-g)}return g}function c4(a,c,u){var f;return function d4(a,c,u){return(c[0]-a[0])*(u[1]-a[1])==(u[0]-a[0])*(c[1]-a[1])}(a,c,u)&&function Xm(a,c,u){return a<=c&&c<=u||u<=c&&c<=a}(a[f=+(a[0]===c[0])],u[f],c[f])}function E_(){}var gd=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function u4(){var a=1,c=1,u=od,f=S;function g(k){var I=u(k);if(Array.isArray(I))I=I.slice().sort(l4);else{var N=Qe(k),R=N[0],G=N[1];I=qa(R,G,I),I=Oo(Math.floor(R/I)*I,Math.floor(G/I)*I,I)}return I.map(function(at){return _(k,at)})}function _(k,I){var N=[],R=[];return function w(k,I,N){var at,dt,nt,yt,bt,R=new Array,G=new Array;for(at=dt=-1,gd[(nt=k[0]>=I)<<1].forEach(mt);++at<a-1;)gd[nt|(nt=k[at+1]>=I)<<1].forEach(mt);for(gd[nt<<0].forEach(mt);++dt<c-1;){for(at=-1,gd[(nt=k[dt*a+a]>=I)<<1|(yt=k[dt*a]>=I)<<2].forEach(mt);++at<a-1;)bt=yt,gd[nt|(nt=k[dt*a+a+at+1]>=I)<<1|(yt=k[dt*a+at+1]>=I)<<2|bt<<3].forEach(mt);gd[nt|yt<<3].forEach(mt)}for(at=-1,gd[(yt=k[dt*a]>=I)<<2].forEach(mt);++at<a-1;)bt=yt,gd[(yt=k[dt*a+at+1]>=I)<<2|bt<<3].forEach(mt);function mt(Gt){var ae,se,$t=[Gt[0][0]+at,Gt[0][1]+dt],ye=[Gt[1][0]+at,Gt[1][1]+dt],Ce=C($t),Be=C(ye);(ae=G[Ce])?(se=R[Be])?(delete G[ae.end],delete R[se.start],ae===se?(ae.ring.push(ye),N(ae.ring)):R[ae.start]=G[se.end]={start:ae.start,end:se.end,ring:ae.ring.concat(se.ring)}):(delete G[ae.end],ae.ring.push(ye),G[ae.end=Be]=ae):(ae=R[Be])?(se=G[Ce])?(delete R[ae.start],delete G[se.end],ae===se?(ae.ring.push(ye),N(ae.ring)):R[se.start]=G[ae.end]={start:se.start,end:ae.end,ring:se.ring.concat(ae.ring)}):(delete R[ae.start],ae.ring.unshift($t),R[ae.start=Ce]=ae):R[Ce]=G[Be]={start:Ce,end:Be,ring:[$t,ye]}}gd[yt<<3].forEach(mt)}(k,I,function(G){f(G,k,I),function WD(a){for(var c=0,u=a.length,f=a[u-1][1]*a[0][0]-a[u-1][0]*a[0][1];++c<u;)f+=a[c-1][1]*a[c][0]-a[c-1][0]*a[c][1];return f}(G)>0?N.push([G]):R.push(G)}),R.forEach(function(G){for(var X,at=0,dt=N.length;at<dt;++at)if(-1!==Uv((X=N[at])[0],G))return void X.push(G)}),{type:"MultiPolygon",value:I,coordinates:N}}function C(k){return 2*k[0]+k[1]*(a+1)*4}function S(k,I,N){k.forEach(function(R){var nt,G=R[0],at=R[1],dt=0|G,X=0|at,yt=I[X*a+dt];G>0&&G<a&&dt===G&&(R[0]=G+(N-(nt=I[X*a+dt-1]))/(yt-nt)-.5),at>0&&at<c&&X===at&&(R[1]=at+(N-(nt=I[(X-1)*a+dt]))/(yt-nt)-.5)})}return g.contour=_,g.size=function(k){if(!arguments.length)return[a,c];var I=Math.floor(k[0]),N=Math.floor(k[1]);if(!(I>=0&&N>=0))throw new Error("invalid size");return a=I,c=N,g},g.thresholds=function(k){return arguments.length?(u="function"==typeof k?k:Array.isArray(k)?Pc(Vh.call(k)):Pc(k),g):u},g.smooth=function(k){return arguments.length?(f=k?S:E_,g):f===S},g}function Gv(a,c,u){for(var f=a.width,g=a.height,_=1+(u<<1),w=0;w<g;++w)for(var C=0,S=0;C<f+u;++C)C<f&&(S+=a.data[C+w*f]),C>=u&&(C>=_&&(S-=a.data[C-_+w*f]),c.data[C-u+w*f]=S/Math.min(C+1,f-1+_-C,_))}function cC(a,c,u){for(var f=a.width,g=a.height,_=1+(u<<1),w=0;w<f;++w)for(var C=0,S=0;C<g+u;++C)C<g&&(S+=a.data[w+C*f]),C>=u&&(C>=_&&(S-=a.data[w+(C-_)*f]),c.data[w+(C-u)*f]=S/Math.min(C+1,g-1+_-C,_))}function iG(a){return a[0]}function h4(a){return a[1]}function f4(){return 1}function m4(){var a=iG,c=h4,u=f4,f=960,g=500,_=20,w=2,C=3*_,S=f+2*C>>w,k=g+2*C>>w,I=Pc(20);function N(nt){var yt=new Float32Array(S*k),bt=new Float32Array(S*k);nt.forEach(function($t,ye,Ce){var Be=+a($t,ye,Ce)+C>>w,ae=+c($t,ye,Ce)+C>>w,se=+u($t,ye,Ce);Be>=0&&Be<S&&ae>=0&&ae<k&&(yt[Be+ae*S]+=se)}),Gv({width:S,height:k,data:yt},{width:S,height:k,data:bt},_>>w),cC({width:S,height:k,data:bt},{width:S,height:k,data:yt},_>>w),Gv({width:S,height:k,data:yt},{width:S,height:k,data:bt},_>>w),cC({width:S,height:k,data:bt},{width:S,height:k,data:yt},_>>w),Gv({width:S,height:k,data:yt},{width:S,height:k,data:bt},_>>w),cC({width:S,height:k,data:bt},{width:S,height:k,data:yt},_>>w);var mt=I(yt);if(!Array.isArray(mt)){var Gt=ad(yt);mt=qa(0,Gt,mt),(mt=Oo(0,Math.floor(Gt/mt)*mt,mt)).shift()}return u4().thresholds(mt).size([S,k])(yt).map(R)}function R(nt){return nt.value*=Math.pow(2,-2*w),nt.coordinates.forEach(G),nt}function G(nt){nt.forEach(at)}function at(nt){nt.forEach(dt)}function dt(nt){nt[0]=nt[0]*Math.pow(2,w)-C,nt[1]=nt[1]*Math.pow(2,w)-C}function X(){return S=f+2*(C=3*_)>>w,k=g+2*C>>w,N}return N.x=function(nt){return arguments.length?(a="function"==typeof nt?nt:Pc(+nt),N):a},N.y=function(nt){return arguments.length?(c="function"==typeof nt?nt:Pc(+nt),N):c},N.weight=function(nt){return arguments.length?(u="function"==typeof nt?nt:Pc(+nt),N):u},N.size=function(nt){if(!arguments.length)return[f,g];var yt=+nt[0],bt=+nt[1];if(!(yt>=0&&bt>=0))throw new Error("invalid size");return f=yt,g=bt,X()},N.cellSize=function(nt){if(!arguments.length)return 1<<w;if(!((nt=+nt)>=1))throw new Error("invalid cell size");return w=Math.floor(Math.log(nt)/Math.LN2),X()},N.thresholds=function(nt){return arguments.length?(I="function"==typeof nt?nt:Array.isArray(nt)?Pc(Vh.call(nt)):Pc(nt),N):I},N.bandwidth=function(nt){if(!arguments.length)return Math.sqrt(_*(_+1));if(!((nt=+nt)>=0))throw new Error("invalid bandwidth");return _=Math.round((Math.sqrt(4*nt*nt+1)-1)/2),X()},N}const M_=Math.pow(2,-52),S_=new Uint32Array(512);class jv{static from(c,u=hC,f=nG){const g=c.length,_=new Float64Array(2*g);for(let w=0;w<g;w++){const C=c[w];_[2*w]=u(C),_[2*w+1]=f(C)}return new jv(_)}constructor(c){const u=c.length>>1;if(u>0&&"number"!=typeof c[0])throw new Error("Expected coords to contain numbers.");this.coords=c;const f=Math.max(2*u-5,0);this._triangles=new Uint32Array(3*f),this._halfedges=new Int32Array(3*f),this._hashSize=Math.ceil(Math.sqrt(u)),this._hullPrev=new Uint32Array(u),this._hullNext=new Uint32Array(u),this._hullTri=new Uint32Array(u),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(u),this._dists=new Float64Array(u),this.update()}update(){const{coords:c,_hullPrev:u,_hullNext:f,_hullTri:g,_hullHash:_}=this,w=c.length>>1;let C=1/0,S=1/0,k=-1/0,I=-1/0;for(let ae=0;ae<w;ae++){const se=c[2*ae],Le=c[2*ae+1];se<C&&(C=se),Le<S&&(S=Le),se>k&&(k=se),Le>I&&(I=Le),this._ids[ae]=ae}const N=(C+k)/2,R=(S+I)/2;let at,dt,X,G=1/0;for(let ae=0;ae<w;ae++){const se=ZD(N,R,c[2*ae],c[2*ae+1]);se<G&&(at=ae,G=se)}const nt=c[2*at],yt=c[2*at+1];G=1/0;for(let ae=0;ae<w;ae++){if(ae===at)continue;const se=ZD(nt,yt,c[2*ae],c[2*ae+1]);se<G&&se>0&&(dt=ae,G=se)}let bt=c[2*dt],mt=c[2*dt+1],Gt=1/0;for(let ae=0;ae<w;ae++){if(ae===at||ae===dt)continue;const se=g4(nt,yt,bt,mt,c[2*ae],c[2*ae+1]);se<Gt&&(X=ae,Gt=se)}let $t=c[2*X],ye=c[2*X+1];if(Gt===1/0){for(let Le=0;Le<w;Le++)this._dists[Le]=c[2*Le]-c[0]||c[2*Le+1]-c[1];k_(this._ids,this._dists,0,w-1);const ae=new Uint32Array(w);let se=0;for(let Le=0,De=-1/0;Le<w;Le++){const Qt=this._ids[Le];this._dists[Qt]>De&&(ae[se++]=Qt,De=this._dists[Qt])}return this.hull=ae.subarray(0,se),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(dC(nt,yt,bt,mt,$t,ye)){const ae=dt,se=bt,Le=mt;dt=X,bt=$t,mt=ye,X=ae,$t=se,ye=Le}const Ce=function uC(a,c,u,f,g,_){const w=u-a,C=f-c,S=g-a,k=_-c,I=w*w+C*C,N=S*S+k*k,R=.5/(w*k-C*S);return{x:a+(k*I-C*N)*R,y:c+(w*N-S*I)*R}}(nt,yt,bt,mt,$t,ye);this._cx=Ce.x,this._cy=Ce.y;for(let ae=0;ae<w;ae++)this._dists[ae]=ZD(c[2*ae],c[2*ae+1],Ce.x,Ce.y);k_(this._ids,this._dists,0,w-1),this._hullStart=at;let Be=3;f[at]=u[X]=dt,f[dt]=u[at]=X,f[X]=u[dt]=at,g[at]=0,g[dt]=1,g[X]=2,_.fill(-1),_[this._hashKey(nt,yt)]=at,_[this._hashKey(bt,mt)]=dt,_[this._hashKey($t,ye)]=X,this.trianglesLen=0,this._addTriangle(at,dt,X,-1,-1,-1);for(let se,Le,ae=0;ae<this._ids.length;ae++){const De=this._ids[ae],Qt=c[2*De],le=c[2*De+1];if(ae>0&&Math.abs(Qt-se)<=M_&&Math.abs(le-Le)<=M_||(se=Qt,Le=le,De===at||De===dt||De===X))continue;let ce=0;for(let Si=0,$i=this._hashKey(Qt,le);Si<this._hashSize&&(ce=_[($i+Si)%this._hashSize],-1===ce||ce===f[ce]);Si++);ce=u[ce];let Ke,Pe=ce;for(;Ke=f[Pe],!dC(Qt,le,c[2*Pe],c[2*Pe+1],c[2*Ke],c[2*Ke+1]);)if(Pe=Ke,Pe===ce){Pe=-1;break}if(-1===Pe)continue;let ii=this._addTriangle(Pe,De,f[Pe],-1,-1,g[Pe]);g[De]=this._legalize(ii+2),g[Pe]=ii,Be++;let hi=f[Pe];for(;Ke=f[hi],dC(Qt,le,c[2*hi],c[2*hi+1],c[2*Ke],c[2*Ke+1]);)ii=this._addTriangle(hi,De,Ke,g[De],-1,g[hi]),g[De]=this._legalize(ii+2),f[hi]=hi,Be--,hi=Ke;if(Pe===ce)for(;Ke=u[Pe],dC(Qt,le,c[2*Ke],c[2*Ke+1],c[2*Pe],c[2*Pe+1]);)ii=this._addTriangle(Ke,De,Pe,-1,g[Pe],g[Ke]),this._legalize(ii+2),g[Ke]=ii,f[Pe]=Pe,Be--,Pe=Ke;this._hullStart=u[De]=Pe,f[Pe]=u[hi]=De,f[De]=hi,_[this._hashKey(Qt,le)]=De,_[this._hashKey(c[2*Pe],c[2*Pe+1])]=Pe}this.hull=new Uint32Array(Be);for(let ae=0,se=this._hullStart;ae<Be;ae++)this.hull[ae]=se,se=f[se];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(c,u){return Math.floor(function YD(a,c){const u=a/(Math.abs(a)+Math.abs(c));return(c>0?3-u:1+u)/4}(c-this._cx,u-this._cy)*this._hashSize)%this._hashSize}_legalize(c){const{_triangles:u,_halfedges:f,coords:g}=this;let _=0,w=0;for(;;){const C=f[c],S=c-c%3;if(w=S+(c+2)%3,-1===C){if(0===_)break;c=S_[--_];continue}const k=C-C%3,N=k+(C+2)%3,R=u[w],G=u[c],at=u[S+(c+1)%3],dt=u[N];if(p4(g[2*R],g[2*R+1],g[2*G],g[2*G+1],g[2*at],g[2*at+1],g[2*dt],g[2*dt+1])){u[c]=dt,u[C]=R;const nt=f[N];if(-1===nt){let bt=this._hullStart;do{if(this._hullTri[bt]===N){this._hullTri[bt]=c;break}bt=this._hullPrev[bt]}while(bt!==this._hullStart)}this._link(c,nt),this._link(C,f[w]),this._link(w,N),_<S_.length&&(S_[_++]=k+(C+1)%3)}else{if(0===_)break;c=S_[--_]}}return w}_link(c,u){this._halfedges[c]=u,-1!==u&&(this._halfedges[u]=c)}_addTriangle(c,u,f,g,_,w){const C=this.trianglesLen;return this._triangles[C]=c,this._triangles[C+1]=u,this._triangles[C+2]=f,this._link(C,g),this._link(C+1,_),this._link(C+2,w),this.trianglesLen+=3,C}}function ZD(a,c,u,f){const g=a-u,_=c-f;return g*g+_*_}function Wv(a,c,u,f,g,_){const w=(f-c)*(g-a),C=(u-a)*(_-c);return Math.abs(w-C)>=33306690738754716e-32*Math.abs(w+C)?w-C:0}function dC(a,c,u,f,g,_){return(Wv(g,_,a,c,u,f)||Wv(a,c,u,f,g,_)||Wv(u,f,g,_,a,c))<0}function p4(a,c,u,f,g,_,w,C){const S=a-w,k=c-C,I=u-w,N=f-C,R=g-w,G=_-C,dt=I*I+N*N,X=R*R+G*G;return S*(N*X-dt*G)-k*(I*X-dt*R)+(S*S+k*k)*(I*G-N*R)<0}function g4(a,c,u,f,g,_){const w=u-a,C=f-c,S=g-a,k=_-c,I=w*w+C*C,N=S*S+k*k,R=.5/(w*k-C*S),G=(k*I-C*N)*R,at=(w*N-S*I)*R;return G*G+at*at}function k_(a,c,u,f){if(f-u<=20)for(let g=u+1;g<=f;g++){const _=a[g],w=c[_];let C=g-1;for(;C>=u&&c[a[C]]>w;)a[C+1]=a[C--];a[C+1]=_}else{let _=u+1,w=f;$v(a,u+f>>1,_),c[a[u]]>c[a[f]]&&$v(a,u,f),c[a[_]]>c[a[f]]&&$v(a,_,f),c[a[u]]>c[a[_]]&&$v(a,u,_);const C=a[_],S=c[C];for(;;){do{_++}while(c[a[_]]<S);do{w--}while(c[a[w]]>S);if(w<_)break;$v(a,_,w)}a[u+1]=a[w],a[w]=C,f-_+1>=w-u?(k_(a,c,_,f),k_(a,c,u,w-1)):(k_(a,c,u,w-1),k_(a,c,_,f))}}function $v(a,c,u){const f=a[c];a[c]=a[u],a[u]=f}function hC(a){return a[0]}function nG(a){return a[1]}class Km{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(c,u){this._+=`M${this._x0=this._x1=+c},${this._y0=this._y1=+u}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(c,u){this._+=`L${this._x1=+c},${this._y1=+u}`}arc(c,u,f){const g=(c=+c)+(f=+f),_=u=+u;if(f<0)throw new Error("negative radius");null===this._x1?this._+=`M${g},${_}`:(Math.abs(this._x1-g)>1e-6||Math.abs(this._y1-_)>1e-6)&&(this._+="L"+g+","+_),f&&(this._+=`A${f},${f},0,1,1,${c-f},${u}A${f},${f},0,1,1,${this._x1=g},${this._y1=_}`)}rect(c,u,f,g){this._+=`M${this._x0=this._x1=+c},${this._y0=this._y1=+u}h${+f}v${+g}h${-f}Z`}value(){return this._||null}}class qD{constructor(){this._=[]}moveTo(c,u){this._.push([c,u])}closePath(){this._.push(this._[0].slice())}lineTo(c,u){this._.push([c,u])}value(){return this._.length?this._:null}}class b4{constructor(c,[u,f,g,_]=[0,0,960,500]){if(!((g=+g)>=(u=+u)&&(_=+_)>=(f=+f)))throw new Error("invalid bounds");this.delaunay=c,this._circumcenters=new Float64Array(2*c.points.length),this.vectors=new Float64Array(2*c.points.length),this.xmax=g,this.xmin=u,this.ymax=_,this.ymin=f,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:c,hull:u,triangles:f},vectors:g}=this,_=this.circumcenters=this._circumcenters.subarray(0,f.length/3*2);for(let X,nt,G=0,at=0,dt=f.length;G<dt;G+=3,at+=2){const yt=2*f[G],bt=2*f[G+1],mt=2*f[G+2],Gt=c[yt],$t=c[yt+1],Be=c[mt],ae=c[mt+1],se=c[bt]-Gt,Le=c[bt+1]-$t,De=Be-Gt,Qt=ae-$t,le=se*se+Le*Le,ce=De*De+Qt*Qt,Pe=2*(se*Qt-Le*De);if(Pe)if(Math.abs(Pe)<1e-8)X=(Gt+Be)/2,nt=($t+ae)/2;else{const Ke=1/Pe;X=Gt+(Qt*le-Le*ce)*Ke,nt=$t+(se*ce-De*le)*Ke}else X=(Gt+Be)/2-1e8*Qt,nt=($t+ae)/2+1e8*De;_[at]=X,_[at+1]=nt}let C,k,N,w=u[u.length-1],S=4*w,I=c[2*w],R=c[2*w+1];g.fill(0);for(let G=0;G<u.length;++G)w=u[G],C=S,k=I,N=R,S=4*w,I=c[2*w],R=c[2*w+1],g[C+2]=g[S]=N-R,g[C+3]=g[S+1]=I-k}render(c){const u=null==c?c=new Km:void 0,{delaunay:{halfedges:f,inedges:g,hull:_},circumcenters:w,vectors:C}=this;if(_.length<=1)return null;for(let I=0,N=f.length;I<N;++I){const R=f[I];if(R<I)continue;const G=2*Math.floor(I/3),at=2*Math.floor(R/3);this._renderSegment(w[G],w[G+1],w[at],w[at+1],c)}let S,k=_[_.length-1];for(let I=0;I<_.length;++I){S=k,k=_[I];const N=2*Math.floor(g[k]/3),R=w[N],G=w[N+1],at=4*S,dt=this._project(R,G,C[at+2],C[at+3]);dt&&this._renderSegment(R,G,dt[0],dt[1],c)}return u&&u.value()}renderBounds(c){const u=null==c?c=new Km:void 0;return c.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),u&&u.value()}renderCell(c,u){const f=null==u?u=new Km:void 0,g=this._clip(c);if(null===g||!g.length)return;u.moveTo(g[0],g[1]);let _=g.length;for(;g[0]===g[_-2]&&g[1]===g[_-1]&&_>1;)_-=2;for(let w=2;w<_;w+=2)(g[w]!==g[w-2]||g[w+1]!==g[w-1])&&u.lineTo(g[w],g[w+1]);return u.closePath(),f&&f.value()}*cellPolygons(){const{delaunay:{points:c}}=this;for(let u=0,f=c.length/2;u<f;++u){const g=this.cellPolygon(u);g&&(g.index=u,yield g)}}cellPolygon(c){const u=new qD;return this.renderCell(c,u),u.value()}_renderSegment(c,u,f,g,_){let w;const C=this._regioncode(c,u),S=this._regioncode(f,g);0===C&&0===S?(_.moveTo(c,u),_.lineTo(f,g)):(w=this._clipSegment(c,u,f,g,C,S))&&(_.moveTo(w[0],w[1]),_.lineTo(w[2],w[3]))}contains(c,u,f){return(u=+u)==u&&(f=+f)==f&&this.delaunay._step(c,u,f)===c}*neighbors(c){const u=this._clip(c);if(u)for(const f of this.delaunay.neighbors(c)){const g=this._clip(f);if(g)t:for(let _=0,w=u.length;_<w;_+=2)for(let C=0,S=g.length;C<S;C+=2)if(u[_]==g[C]&&u[_+1]==g[C+1]&&u[(_+2)%w]==g[(C+S-2)%S]&&u[(_+3)%w]==g[(C+S-1)%S]){yield f;break t}}}_cell(c){const{circumcenters:u,delaunay:{inedges:f,halfedges:g,triangles:_}}=this,w=f[c];if(-1===w)return null;const C=[];let S=w;do{const k=Math.floor(S/3);if(C.push(u[2*k],u[2*k+1]),S=S%3==2?S-2:S+1,_[S]!==c)break;S=g[S]}while(S!==w&&-1!==S);return C}_clip(c){if(0===c&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const u=this._cell(c);if(null===u)return null;const{vectors:f}=this,g=4*c;return f[g]||f[g+1]?this._clipInfinite(c,u,f[g],f[g+1],f[g+2],f[g+3]):this._clipFinite(c,u)}_clipFinite(c,u){const f=u.length;let _,w,k,N,R,g=null,C=u[f-2],S=u[f-1],I=this._regioncode(C,S);for(let G=0;G<f;G+=2)if(_=C,w=S,C=u[G],S=u[G+1],k=I,I=this._regioncode(C,S),0===k&&0===I)N=R,R=0,g?g.push(C,S):g=[C,S];else{let at,dt,X,nt,yt;if(0===k){if(null===(at=this._clipSegment(_,w,C,S,k,I)))continue;[dt,X,nt,yt]=at}else{if(null===(at=this._clipSegment(C,S,_,w,I,k)))continue;[nt,yt,dt,X]=at,N=R,R=this._edgecode(dt,X),N&&R&&this._edge(c,N,R,g,g.length),g?g.push(dt,X):g=[dt,X]}N=R,R=this._edgecode(nt,yt),N&&R&&this._edge(c,N,R,g,g.length),g?g.push(nt,yt):g=[nt,yt]}if(g)N=R,R=this._edgecode(g[0],g[1]),N&&R&&this._edge(c,N,R,g,g.length);else if(this.contains(c,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return g}_clipSegment(c,u,f,g,_,w){for(;;){if(0===_&&0===w)return[c,u,f,g];if(_&w)return null;let C,S,k=_||w;8&k?(C=c+(f-c)*(this.ymax-u)/(g-u),S=this.ymax):4&k?(C=c+(f-c)*(this.ymin-u)/(g-u),S=this.ymin):2&k?(S=u+(g-u)*(this.xmax-c)/(f-c),C=this.xmax):(S=u+(g-u)*(this.xmin-c)/(f-c),C=this.xmin),_?_=this._regioncode(c=C,u=S):w=this._regioncode(f=C,g=S)}}_clipInfinite(c,u,f,g,_,w){let S,C=Array.from(u);if((S=this._project(C[0],C[1],f,g))&&C.unshift(S[0],S[1]),(S=this._project(C[C.length-2],C[C.length-1],_,w))&&C.push(S[0],S[1]),C=this._clipFinite(c,C))for(let N,k=0,I=C.length,R=this._edgecode(C[I-2],C[I-1]);k<I;k+=2)N=R,R=this._edgecode(C[k],C[k+1]),N&&R&&(k=this._edge(c,N,R,C,k),I=C.length);else this.contains(c,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(C=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return C}_edge(c,u,f,g,_){for(;u!==f;){let w,C;switch(u){case 5:u=4;continue;case 4:u=6,w=this.xmax,C=this.ymin;break;case 6:u=2;continue;case 2:u=10,w=this.xmax,C=this.ymax;break;case 10:u=8;continue;case 8:u=9,w=this.xmin,C=this.ymax;break;case 9:u=1;continue;case 1:u=5,w=this.xmin,C=this.ymin}(g[_]!==w||g[_+1]!==C)&&this.contains(c,w,C)&&(g.splice(_,0,w,C),_+=2)}if(g.length>4)for(let w=0;w<g.length;w+=2){const C=(w+2)%g.length,S=(w+4)%g.length;(g[w]===g[C]&&g[C]===g[S]||g[w+1]===g[C+1]&&g[C+1]===g[S+1])&&(g.splice(C,2),w-=2)}return _}_project(c,u,f,g){let w,C,S,_=1/0;if(g<0){if(u<=this.ymin)return null;(w=(this.ymin-u)/g)<_&&(S=this.ymin,C=c+(_=w)*f)}else if(g>0){if(u>=this.ymax)return null;(w=(this.ymax-u)/g)<_&&(S=this.ymax,C=c+(_=w)*f)}if(f>0){if(c>=this.xmax)return null;(w=(this.xmax-c)/f)<_&&(C=this.xmax,S=u+(_=w)*g)}else if(f<0){if(c<=this.xmin)return null;(w=(this.xmin-c)/f)<_&&(C=this.xmin,S=u+(_=w)*g)}return[C,S]}_edgecode(c,u){return(c===this.xmin?1:c===this.xmax?2:0)|(u===this.ymin?4:u===this.ymax?8:0)}_regioncode(c,u){return(c<this.xmin?1:c>this.xmax?2:0)|(u<this.ymin?4:u>this.ymax?8:0)}}const v4=2*Math.PI,_d=Math.pow;function Yv(a){return a[0]}function XD(a){return a[1]}function QD(a,c,u){return[a+Math.sin(a+c)*u,c+Math.cos(a-c)*u]}class Mu{static from(c,u=Yv,f=XD,g){return new Mu("length"in c?function JD(a,c,u,f){const g=a.length,_=new Float64Array(2*g);for(let w=0;w<g;++w){const C=a[w];_[2*w]=c.call(f,C,w,a),_[2*w+1]=u.call(f,C,w,a)}return _}(c,u,f,g):Float64Array.from(function*tT(a,c,u,f){let g=0;for(const _ of a)yield c.call(f,_,g,a),yield u.call(f,_,g,a),++g}(c,u,f,g)))}constructor(c){this._delaunator=new jv(c),this.inedges=new Int32Array(c.length/2),this._hullIndex=new Int32Array(c.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const c=this._delaunator,u=this.points;if(c.hull&&c.hull.length>2&&function KD(a){const{triangles:c,coords:u}=a;for(let f=0;f<c.length;f+=3){const g=2*c[f],_=2*c[f+1],w=2*c[f+2];if((u[w]-u[g])*(u[_+1]-u[g+1])-(u[_]-u[g])*(u[w+1]-u[g+1])>1e-10)return!1}return!0}(c)){this.collinear=Int32Array.from({length:u.length/2},(R,G)=>G).sort((R,G)=>u[2*R]-u[2*G]||u[2*R+1]-u[2*G+1]);const S=this.collinear[0],k=this.collinear[this.collinear.length-1],I=[u[2*S],u[2*S+1],u[2*k],u[2*k+1]],N=1e-8*Math.hypot(I[3]-I[1],I[2]-I[0]);for(let R=0,G=u.length/2;R<G;++R){const at=QD(u[2*R],u[2*R+1],N);u[2*R]=at[0],u[2*R+1]=at[1]}this._delaunator=new jv(u)}else delete this.collinear;const f=this.halfedges=this._delaunator.halfedges,g=this.hull=this._delaunator.hull,_=this.triangles=this._delaunator.triangles,w=this.inedges.fill(-1),C=this._hullIndex.fill(-1);for(let S=0,k=f.length;S<k;++S){const I=_[S%3==2?S-2:S+1];(-1===f[S]||-1===w[I])&&(w[I]=S)}for(let S=0,k=g.length;S<k;++S)C[g[S]]=S;g.length<=2&&g.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=g[0],this.triangles[1]=g[1],this.triangles[2]=g[1],w[g[0]]=1,2===g.length&&(w[g[1]]=0))}voronoi(c){return new b4(this,c)}*neighbors(c){const{inedges:u,hull:f,_hullIndex:g,halfedges:_,triangles:w,collinear:C}=this;if(C){const N=C.indexOf(c);return N>0&&(yield C[N-1]),void(N<C.length-1&&(yield C[N+1]))}const S=u[c];if(-1===S)return;let k=S,I=-1;do{if(yield I=w[k],k=k%3==2?k-2:k+1,w[k]!==c)return;if(k=_[k],-1===k){const N=f[(g[c]+1)%f.length];return void(N!==I&&(yield N))}}while(k!==S)}find(c,u,f=0){if((c=+c)!=c||(u=+u)!=u)return-1;const g=f;let _;for(;(_=this._step(f,c,u))>=0&&_!==f&&_!==g;)f=_;return _}_step(c,u,f){const{inedges:g,hull:_,_hullIndex:w,halfedges:C,triangles:S,points:k}=this;if(-1===g[c]||!k.length)return(c+1)%(k.length>>1);let I=c,N=_d(u-k[2*c],2)+_d(f-k[2*c+1],2);const R=g[c];let G=R;do{let at=S[G];const dt=_d(u-k[2*at],2)+_d(f-k[2*at+1],2);if(dt<N&&(N=dt,I=at),G=G%3==2?G-2:G+1,S[G]!==c)break;if(G=C[G],-1===G){if(G=_[(w[c]+1)%_.length],G!==at&&_d(u-k[2*G],2)+_d(f-k[2*G+1],2)<N)return G;break}}while(G!==R);return I}render(c){const u=null==c?c=new Km:void 0,{points:f,halfedges:g,triangles:_}=this;for(let w=0,C=g.length;w<C;++w){const S=g[w];if(S<w)continue;const k=2*_[w],I=2*_[S];c.moveTo(f[k],f[k+1]),c.lineTo(f[I],f[I+1])}return this.renderHull(c),u&&u.value()}renderPoints(c,u=2){const f=null==c?c=new Km:void 0,{points:g}=this;for(let _=0,w=g.length;_<w;_+=2){const C=g[_],S=g[_+1];c.moveTo(C+u,S),c.arc(C,S,u,0,v4)}return f&&f.value()}renderHull(c){const u=null==c?c=new Km:void 0,{hull:f,points:g}=this,_=2*f[0],w=f.length;c.moveTo(g[_],g[_+1]);for(let C=1;C<w;++C){const S=2*f[C];c.lineTo(g[S],g[S+1])}return c.closePath(),u&&u.value()}hullPolygon(){const c=new qD;return this.renderHull(c),c.value()}renderTriangle(c,u){const f=null==u?u=new Km:void 0,{points:g,triangles:_}=this,w=2*_[c*=3],C=2*_[c+1],S=2*_[c+2];return u.moveTo(g[w],g[w+1]),u.lineTo(g[C],g[C+1]),u.lineTo(g[S],g[S+1]),u.closePath(),f&&f.value()}*trianglePolygons(){const{triangles:c}=this;for(let u=0,f=c.length/3;u<f;++u)yield this.trianglePolygon(u)}trianglePolygon(c){const u=new qD;return this.renderTriangle(c,u),u.value()}}const Hh=a=>()=>a;function Qm(a,{sourceEvent:c,subject:u,target:f,identifier:g,active:_,x:w,y:C,dx:S,dy:k,dispatch:I}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:c,enumerable:!0,configurable:!0},subject:{value:u,enumerable:!0,configurable:!0},target:{value:f,enumerable:!0,configurable:!0},identifier:{value:g,enumerable:!0,configurable:!0},active:{value:_,enumerable:!0,configurable:!0},x:{value:w,enumerable:!0,configurable:!0},y:{value:C,enumerable:!0,configurable:!0},dx:{value:S,enumerable:!0,configurable:!0},dy:{value:k,enumerable:!0,configurable:!0},_:{value:I}})}function Su(a){return!a.ctrlKey&&!a.button}function y4(){return this.parentNode}function x4(a,c){return c??{x:a.x,y:a.y}}function w4(){return navigator.maxTouchPoints||"ontouchstart"in this}function eT(){var C,S,k,I,a=Su,c=y4,u=x4,f=w4,g={},_=nr("start","drag","end"),w=0,N=0;function R(mt){mt.on("mousedown.drag",G).filter(f).on("touchstart.drag",X).on("touchmove.drag",nt).on("touchend.drag touchcancel.drag",yt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function G(mt,Gt){if(!I&&a.call(this,mt,Gt)){var $t=bt(this,c.call(this,mt,Gt),mt,Gt,"mouse");$t&&(hs(mt.view).on("mousemove.drag",at,!0).on("mouseup.drag",dt,!0),pu(mt.view),tc(mt),k=!1,C=mt.clientX,S=mt.clientY,$t("start",mt))}}function at(mt){if(Ac(mt),!k){var Gt=mt.clientX-C,$t=mt.clientY-S;k=Gt*Gt+$t*$t>N}g.mouse("drag",mt)}function dt(mt){hs(mt.view).on("mousemove.drag mouseup.drag",null),Rn(mt.view,k),Ac(mt),g.mouse("end",mt)}function X(mt,Gt){if(a.call(this,mt,Gt)){var Be,ae,$t=mt.changedTouches,ye=c.call(this,mt,Gt),Ce=$t.length;for(Be=0;Be<Ce;++Be)(ae=bt(this,ye,mt,Gt,$t[Be].identifier,$t[Be]))&&(tc(mt),ae("start",mt,$t[Be]))}}function nt(mt){var ye,Ce,Gt=mt.changedTouches,$t=Gt.length;for(ye=0;ye<$t;++ye)(Ce=g[Gt[ye].identifier])&&(Ac(mt),Ce("drag",mt,Gt[ye]))}function yt(mt){var ye,Ce,Gt=mt.changedTouches,$t=Gt.length;for(I&&clearTimeout(I),I=setTimeout(function(){I=null},500),ye=0;ye<$t;++ye)(Ce=g[Gt[ye].identifier])&&(tc(mt),Ce("end",mt,Gt[ye]))}function bt(mt,Gt,$t,ye,Ce,Be){var Le,De,Qt,ae=_.copy(),se=xl(Be||$t,Gt);if(null!=(Qt=u.call(mt,new Qm("beforestart",{sourceEvent:$t,target:R,identifier:Ce,active:w,x:se[0],y:se[1],dx:0,dy:0,dispatch:ae}),ye)))return Le=Qt.x-se[0]||0,De=Qt.y-se[1]||0,function le(ce,Pe,Ke){var hi,ii=se;switch(ce){case"start":g[Ce]=le,hi=w++;break;case"end":delete g[Ce],--w;case"drag":se=xl(Ke||Pe,Gt),hi=w}ae.call(ce,mt,new Qm(ce,{sourceEvent:Pe,subject:Qt,target:R,identifier:Ce,active:hi,x:se[0]+Le,y:se[1]+De,dx:se[0]-ii[0],dy:se[1]-ii[1],dispatch:ae}),ye)}}return R.filter=function(mt){return arguments.length?(a="function"==typeof mt?mt:Hh(!!mt),R):a},R.container=function(mt){return arguments.length?(c="function"==typeof mt?mt:Hh(mt),R):c},R.subject=function(mt){return arguments.length?(u="function"==typeof mt?mt:Hh(mt),R):u},R.touchable=function(mt){return arguments.length?(f="function"==typeof mt?mt:Hh(!!mt),R):f},R.on=function(){var mt=_.on.apply(_,arguments);return mt===_?R:mt},R.clickDistance=function(mt){return arguments.length?(N=(mt=+mt)*mt,R):Math.sqrt(N)},R}Qm.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var Zv={},fC={},mC=34,D_=10,qv=13;function iT(a){return new Function("d","return {"+a.map(function(c,u){return JSON.stringify(c)+": d["+u+'] || ""'}).join(",")+"}")}function ga(a){var c=Object.create(null),u=[];return a.forEach(function(f){for(var g in f)g in c||u.push(c[g]=g)}),u}function Vo(a,c){var u=a+"",f=u.length;return f<c?new Array(c-f+1).join(0)+u:u}function to(a){var c=new RegExp('["'+a+"\n\r]"),u=a.charCodeAt(0);function g(N,R){var nt,G=[],at=N.length,dt=0,X=0,yt=at<=0,bt=!1;function mt(){if(yt)return fC;if(bt)return bt=!1,Zv;var $t,Ce,ye=dt;if(N.charCodeAt(ye)===mC){for(;dt++<at&&N.charCodeAt(dt)!==mC||N.charCodeAt(++dt)===mC;);return($t=dt)>=at?yt=!0:(Ce=N.charCodeAt(dt++))===D_?bt=!0:Ce===qv&&(bt=!0,N.charCodeAt(dt)===D_&&++dt),N.slice(ye+1,$t-1).replace(/""/g,'"')}for(;dt<at;){if((Ce=N.charCodeAt($t=dt++))===D_)bt=!0;else if(Ce===qv)bt=!0,N.charCodeAt(dt)===D_&&++dt;else if(Ce!==u)continue;return N.slice(ye,$t)}return yt=!0,N.slice(ye,at)}for(N.charCodeAt(at-1)===D_&&--at,N.charCodeAt(at-1)===qv&&--at;(nt=mt())!==fC;){for(var Gt=[];nt!==Zv&&nt!==fC;)Gt.push(nt),nt=mt();R&&null==(Gt=R(Gt,X++))||G.push(Gt)}return G}function _(N,R){return N.map(function(G){return R.map(function(at){return I(G[at])}).join(a)})}function k(N){return N.map(I).join(a)}function I(N){return null==N?"":N instanceof Date?function pC(a){var c=a.getUTCHours(),u=a.getUTCMinutes(),f=a.getUTCSeconds(),g=a.getUTCMilliseconds();return isNaN(a)?"Invalid Date":function nT(a){return a<0?"-"+Vo(-a,6):a>9999?"+"+Vo(a,6):Vo(a,4)}(a.getUTCFullYear())+"-"+Vo(a.getUTCMonth()+1,2)+"-"+Vo(a.getUTCDate(),2)+(g?"T"+Vo(c,2)+":"+Vo(u,2)+":"+Vo(f,2)+"."+Vo(g,3)+"Z":f?"T"+Vo(c,2)+":"+Vo(u,2)+":"+Vo(f,2)+"Z":u||c?"T"+Vo(c,2)+":"+Vo(u,2)+"Z":"")}(N):c.test(N+="")?'"'+N.replace(/"/g,'""')+'"':N}return{parse:function f(N,R){var G,at,dt=g(N,function(X,nt){if(G)return G(X,nt-1);at=X,G=R?function C4(a,c){var u=iT(a);return function(f,g){return c(u(f),g,a)}}(X,R):iT(X)});return dt.columns=at||[],dt},parseRows:g,format:function w(N,R){return null==R&&(R=ga(N)),[R.map(I).join(a)].concat(_(N,R)).join("\n")},formatBody:function C(N,R){return null==R&&(R=ga(N)),_(N,R).join("\n")},formatRows:function S(N){return N.map(k).join("\n")},formatRow:k,formatValue:I}}var sc=to(","),gC=sc.parse,rT=sc.parseRows,E4=sc.format,sT=sc.formatBody,M4=sc.formatRows,oT=sc.formatRow,S4=sc.formatValue,ku=to("\t"),aT=ku.parse,k4=ku.parseRows,_C=ku.format,bC=ku.formatBody,D4=ku.formatRows,T_=ku.formatRow,T4=ku.formatValue;function I4(a){for(var c in a){var f,g,u=a[c].trim();if(u)if("true"===u)u=!0;else if("false"===u)u=!1;else if("NaN"===u)u=NaN;else if(isNaN(f=+u)){if(!(g=u.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;lT&&g[4]&&!g[7]&&(u=u.replace(/-/g,"/").replace(/T/," ")),u=new Date(u)}else u=f;else u=null;a[c]=u}return a}const lT=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),cT=a=>+a;function dT(a){return a*a}function Jm(a){return a*(2-a)}function I_(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}var vC=function a(c){function u(f){return Math.pow(f,c)}return c=+c,u.exponent=a,u}(3),Kv=function a(c){function u(f){return 1-Math.pow(1-f,c)}return c=+c,u.exponent=a,u}(3),uT=function a(c){function u(f){return((f*=2)<=1?Math.pow(f,c):2-Math.pow(2-f,c))/2}return c=+c,u.exponent=a,u}(3),hT=Math.PI,fT=hT/2;function A4(a){return 1==+a?1:1-Math.cos(a*fT)}function O4(a){return Math.sin(a*fT)}function mT(a){return(1-Math.cos(hT*a))/2}function bd(a){return 1.0009775171065494*(Math.pow(2,-10*a)-.0009765625)}function Qv(a){return bd(1-+a)}function yC(a){return 1-bd(a)}function Jv(a){return((a*=2)<=1?bd(1-a):2-bd(a-1))/2}function R4(a){return 1-Math.sqrt(1-a*a)}function P4(a){return Math.sqrt(1- --a*a)}function ty(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}var ey=4/11,Uh=6/11,pT=8/11,gT=3/4,L4=9/11,rG=10/11,iy=15/16,F4=21/22,_T=63/64,A_=1/ey/ey;function bT(a){return 1-Gh(1-a)}function Gh(a){return(a=+a)<ey?A_*a*a:a<pT?A_*(a-=Uh)*a+gT:a<rG?A_*(a-=L4)*a+iy:A_*(a-=F4)*a+_T}function vT(a){return((a*=2)<=1?1-Gh(1-a):Gh(a-1)+1)/2}var tp=1.70158,O_=function a(c){function u(f){return(f=+f)*f*(c*(f-1)+f)}return c=+c,u.overshoot=a,u}(tp),yT=function a(c){function u(f){return--f*f*((f+1)*c+f)+1}return c=+c,u.overshoot=a,u}(tp),ny=function a(c){function u(f){return((f*=2)<1?f*f*((c+1)*f-c):(f-=2)*f*((c+1)*f+c)+2)/2}return c=+c,u.overshoot=a,u}(tp),vd=2*Math.PI,P_=function a(c,u){var f=Math.asin(1/(c=Math.max(1,c)))*(u/=vd);function g(_){return c*bd(- --_)*Math.sin((f-_)/u)}return g.amplitude=function(_){return a(_,u*vd)},g.period=function(_){return a(c,_)},g}(1,.3),xT=function a(c,u){var f=Math.asin(1/(c=Math.max(1,c)))*(u/=vd);function g(_){return 1-c*bd(_=+_)*Math.sin((_+f)/u)}return g.amplitude=function(_){return a(_,u*vd)},g.period=function(_){return a(c,_)},g}(1,.3),wT=function a(c,u){var f=Math.asin(1/(c=Math.max(1,c)))*(u/=vd);function g(_){return((_=2*_-1)<0?c*bd(-_)*Math.sin((f-_)/u):2-c*bd(_)*Math.sin((f+_)/u))/2}return g.amplitude=function(_){return a(_,u*vd)},g.period=function(_){return a(c,_)},g}(1,.3);function N4(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.blob()}function B4(a,c){return fetch(a,c).then(N4)}function z4(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.arrayBuffer()}function CT(a,c){return fetch(a,c).then(z4)}function ET(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.text()}function jh(a,c){return fetch(a,c).then(ET)}function sy(a){return function(c,u,f){return 2===arguments.length&&"function"==typeof u&&(f=u,u=void 0),jh(c,u).then(function(g){return a(g,f)})}}function ep(a,c,u,f){3===arguments.length&&"function"==typeof u&&(f=u,u=void 0);var g=to(a);return jh(c,u).then(function(_){return g.parse(_,f)})}var V4=sy(gC),H4=sy(aT);function sG(a,c){return new Promise(function(u,f){var g=new Image;for(var _ in c)g[_]=c[_];g.onerror=f,g.onload=function(){u(g)},g.src=a})}function U4(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);if(204!==a.status&&205!==a.status)return a.json()}function xC(a,c){return fetch(a,c).then(U4)}function wC(a){return(c,u)=>jh(c,u).then(f=>(new DOMParser).parseFromString(f,a))}const ip=wC("application/xml");var oy=wC("text/html"),CC=wC("image/svg+xml");function MT(a,c){var u,f=1;function g(){var _,C,w=u.length,S=0,k=0;for(_=0;_<w;++_)S+=(C=u[_]).x,k+=C.y;for(S=(S/w-a)*f,k=(k/w-c)*f,_=0;_<w;++_)(C=u[_]).x-=S,C.y-=k}return null==a&&(a=0),null==c&&(c=0),g.initialize=function(_){u=_},g.x=function(_){return arguments.length?(a=+_,g):a},g.y=function(_){return arguments.length?(c=+_,g):c},g.strength=function(_){return arguments.length?(f=+_,g):f},g}function EC(a,c,u,f){if(isNaN(c)||isNaN(u))return a;var g,N,R,G,at,dt,X,nt,yt,_=a._root,w={data:f},C=a._x0,S=a._y0,k=a._x1,I=a._y1;if(!_)return a._root=w,a;for(;_.length;)if((dt=c>=(N=(C+k)/2))?C=N:k=N,(X=u>=(R=(S+I)/2))?S=R:I=R,g=_,!(_=_[nt=X<<1|dt]))return g[nt]=w,a;if(G=+a._x.call(null,_.data),at=+a._y.call(null,_.data),c===G&&u===at)return w.next=_,g?g[nt]=w:a._root=w,a;do{g=g?g[nt]=new Array(4):a._root=new Array(4),(dt=c>=(N=(C+k)/2))?C=N:k=N,(X=u>=(R=(S+I)/2))?S=R:I=R}while((nt=X<<1|dt)==(yt=(at>=R)<<1|G>=N));return g[yt]=_,g[nt]=w,a}function _a(a,c,u,f,g){this.node=a,this.x0=c,this.y0=u,this.x1=f,this.y1=g}function K4(a){return a[0]}function kT(a){return a[1]}function ay(a,c,u){var f=new MC(c??K4,u??kT,NaN,NaN,NaN,NaN);return null==a?f:f.addAll(a)}function MC(a,c,u,f,g,_){this._x=a,this._y=c,this._x0=u,this._y0=f,this._x1=g,this._y1=_,this._root=void 0}function DT(a){for(var c={data:a.data},u=c;a=a.next;)u=u.next={data:a.data};return c}var uo=ay.prototype=MC.prototype;function Fr(a){return function(){return a}}function Ml(a){return 1e-6*(a()-.5)}function TT(a){return a.x+a.vx}function IT(a){return a.y+a.vy}function AT(a){var c,u,f,g=1,_=1;function w(){for(var k,N,R,G,at,dt,X,I=c.length,nt=0;nt<_;++nt)for(N=ay(c,TT,IT).visitAfter(C),k=0;k<I;++k)X=(dt=u[(R=c[k]).index])*dt,G=R.x+R.vx,at=R.y+R.vy,N.visit(yt);function yt(bt,mt,Gt,$t,ye){var Ce=bt.data,Be=bt.r,ae=dt+Be;if(!Ce)return mt>G+ae||$t<G-ae||Gt>at+ae||ye<at-ae;if(Ce.index>R.index){var se=G-Ce.x-Ce.vx,Le=at-Ce.y-Ce.vy,De=se*se+Le*Le;De<ae*ae&&(0===se&&(De+=(se=Ml(f))*se),0===Le&&(De+=(Le=Ml(f))*Le),De=(ae-(De=Math.sqrt(De)))/De*g,R.vx+=(se*=De)*(ae=(Be*=Be)/(X+Be)),R.vy+=(Le*=De)*ae,Ce.vx-=se*(ae=1-ae),Ce.vy-=Le*ae)}}}function C(k){if(k.data)return k.r=u[k.data.index];for(var I=k.r=0;I<4;++I)k[I]&&k[I].r>k.r&&(k.r=k[I].r)}function S(){if(c){var k,N,I=c.length;for(u=new Array(I),k=0;k<I;++k)u[(N=c[k]).index]=+a(N,k,c)}}return"function"!=typeof a&&(a=Fr(null==a?1:+a)),w.initialize=function(k,I){c=k,f=I,S()},w.iterations=function(k){return arguments.length?(_=+k,w):_},w.strength=function(k){return arguments.length?(g=+k,w):g},w.radius=function(k){return arguments.length?(a="function"==typeof k?k:Fr(+k),S(),w):a},w}function oG(a){return a.index}function t5(a,c){var u=a.get(c);if(!u)throw new Error("node not found: "+c);return u}function aG(a){var f,_,w,C,S,k,c=oG,u=function N(X){return 1/Math.min(C[X.source.index],C[X.target.index])},g=Fr(30),I=1;function R(X){for(var nt=0,yt=a.length;nt<I;++nt)for(var mt,Gt,$t,ye,Ce,Be,ae,bt=0;bt<yt;++bt)ye=($t=(mt=a[bt]).target).x+$t.vx-(Gt=mt.source).x-Gt.vx||Ml(k),Ce=$t.y+$t.vy-Gt.y-Gt.vy||Ml(k),Ce*=Be=((Be=Math.sqrt(ye*ye+Ce*Ce))-_[bt])/Be*X*f[bt],$t.vx-=(ye*=Be)*(ae=S[bt]),$t.vy-=Ce*ae,Gt.vx+=ye*(ae=1-ae),Gt.vy+=Ce*ae}function G(){if(w){var X,mt,nt=w.length,yt=a.length,bt=new Map(w.map((Gt,$t)=>[c(Gt,$t,w),Gt]));for(X=0,C=new Array(nt);X<yt;++X)(mt=a[X]).index=X,"object"!=typeof mt.source&&(mt.source=t5(bt,mt.source)),"object"!=typeof mt.target&&(mt.target=t5(bt,mt.target)),C[mt.source.index]=(C[mt.source.index]||0)+1,C[mt.target.index]=(C[mt.target.index]||0)+1;for(X=0,S=new Array(yt);X<yt;++X)S[X]=C[(mt=a[X]).source.index]/(C[mt.source.index]+C[mt.target.index]);f=new Array(yt),at(),_=new Array(yt),dt()}}function at(){if(w)for(var X=0,nt=a.length;X<nt;++X)f[X]=+u(a[X],X,a)}function dt(){if(w)for(var X=0,nt=a.length;X<nt;++X)_[X]=+g(a[X],X,a)}return null==a&&(a=[]),R.initialize=function(X,nt){w=X,k=nt,G()},R.links=function(X){return arguments.length?(a=X,G(),R):a},R.id=function(X){return arguments.length?(c=X,R):c},R.iterations=function(X){return arguments.length?(I=+X,R):I},R.strength=function(X){return arguments.length?(u="function"==typeof X?X:Fr(+X),at(),R):u},R.distance=function(X){return arguments.length?(g="function"==typeof X?X:Fr(+X),dt(),R):g},R}uo.copy=function(){var u,f,a=new MC(this._x,this._y,this._x0,this._y0,this._x1,this._y1),c=this._root;if(!c)return a;if(!c.length)return a._root=DT(c),a;for(u=[{source:c,target:a._root=new Array(4)}];c=u.pop();)for(var g=0;g<4;++g)(f=c.source[g])&&(f.length?u.push({source:f,target:c.target[g]=new Array(4)}):c.target[g]=DT(f));return a},uo.add=function ST(a){const c=+this._x.call(null,a),u=+this._y.call(null,a);return EC(this.cover(c,u),c,u,a)},uo.addAll=function Wh(a){var c,u,g,_,f=a.length,w=new Array(f),C=new Array(f),S=1/0,k=1/0,I=-1/0,N=-1/0;for(u=0;u<f;++u)isNaN(g=+this._x.call(null,c=a[u]))||isNaN(_=+this._y.call(null,c))||(w[u]=g,C[u]=_,g<S&&(S=g),g>I&&(I=g),_<k&&(k=_),_>N&&(N=_));if(S>I||k>N)return this;for(this.cover(S,k).cover(I,N),u=0;u<f;++u)EC(this,w[u],C[u],a[u]);return this},uo.cover=function G4(a,c){if(isNaN(a=+a)||isNaN(c=+c))return this;var u=this._x0,f=this._y0,g=this._x1,_=this._y1;if(isNaN(u))g=(u=Math.floor(a))+1,_=(f=Math.floor(c))+1;else{for(var S,k,w=g-u||1,C=this._root;u>a||a>=g||f>c||c>=_;)switch(k=(c<f)<<1|a<u,S=new Array(4),S[k]=C,C=S,w*=2,k){case 0:g=u+w,_=f+w;break;case 1:u=g-w,_=f+w;break;case 2:g=u+w,f=_-w;break;case 3:u=g-w,f=_-w}this._root&&this._root.length&&(this._root=C)}return this._x0=u,this._y0=f,this._x1=g,this._y1=_,this},uo.data=function j4(){var a=[];return this.visit(function(c){if(!c.length)do{a.push(c.data)}while(c=c.next)}),a},uo.extent=function W4(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},uo.find=function $4(a,c,u){var f,w,C,S,k,at,dt,g=this._x0,_=this._y0,I=this._x1,N=this._y1,R=[],G=this._root;for(G&&R.push(new _a(G,g,_,I,N)),null==u?u=1/0:(g=a-u,_=c-u,I=a+u,N=c+u,u*=u);at=R.pop();)if(!(!(G=at.node)||(w=at.x0)>I||(C=at.y0)>N||(S=at.x1)<g||(k=at.y1)<_))if(G.length){var X=(w+S)/2,nt=(C+k)/2;R.push(new _a(G[3],X,nt,S,k),new _a(G[2],w,nt,X,k),new _a(G[1],X,C,S,nt),new _a(G[0],w,C,X,nt)),(dt=(c>=nt)<<1|a>=X)&&(at=R[R.length-1],R[R.length-1]=R[R.length-1-dt],R[R.length-1-dt]=at)}else{var yt=a-+this._x.call(null,G.data),bt=c-+this._y.call(null,G.data),mt=yt*yt+bt*bt;if(mt<u){var Gt=Math.sqrt(u=mt);g=a-Gt,_=c-Gt,I=a+Gt,N=c+Gt,f=G.data}}return f},uo.remove=function nl(a){if(isNaN(I=+this._x.call(null,a))||isNaN(N=+this._y.call(null,a)))return this;var c,f,g,_,I,N,R,G,at,dt,X,nt,u=this._root,w=this._x0,C=this._y0,S=this._x1,k=this._y1;if(!u)return this;if(u.length)for(;;){if((at=I>=(R=(w+S)/2))?w=R:S=R,(dt=N>=(G=(C+k)/2))?C=G:k=G,c=u,!(u=u[X=dt<<1|at]))return this;if(!u.length)break;(c[X+1&3]||c[X+2&3]||c[X+3&3])&&(f=c,nt=X)}for(;u.data!==a;)if(g=u,!(u=u.next))return this;return(_=u.next)&&delete u.next,g?(_?g.next=_:delete g.next,this):c?(_?c[X]=_:delete c[X],(u=c[0]||c[1]||c[2]||c[3])&&u===(c[3]||c[2]||c[1]||c[0])&&!u.length&&(f?f[nt]=u:this._root=u),this):(this._root=_,this)},uo.removeAll=function Lc(a){for(var c=0,u=a.length;c<u;++c)this.remove(a[c]);return this},uo.root=function Y4(){return this._root},uo.size=function Z4(){var a=0;return this.visit(function(c){if(!c.length)do{++a}while(c=c.next)}),a},uo.visit=function q4(a){var u,g,_,w,C,S,c=[],f=this._root;for(f&&c.push(new _a(f,this._x0,this._y0,this._x1,this._y1));u=c.pop();)if(!a(f=u.node,_=u.x0,w=u.y0,C=u.x1,S=u.y1)&&f.length){var k=(_+C)/2,I=(w+S)/2;(g=f[3])&&c.push(new _a(g,k,I,C,S)),(g=f[2])&&c.push(new _a(g,_,I,k,S)),(g=f[1])&&c.push(new _a(g,k,w,C,I)),(g=f[0])&&c.push(new _a(g,_,w,k,I))}return this},uo.visitAfter=function X4(a){var f,c=[],u=[];for(this._root&&c.push(new _a(this._root,this._x0,this._y0,this._x1,this._y1));f=c.pop();){var g=f.node;if(g.length){var _,w=f.x0,C=f.y0,S=f.x1,k=f.y1,I=(w+S)/2,N=(C+k)/2;(_=g[0])&&c.push(new _a(_,w,C,I,N)),(_=g[1])&&c.push(new _a(_,I,C,S,N)),(_=g[2])&&c.push(new _a(_,w,N,I,k)),(_=g[3])&&c.push(new _a(_,I,N,S,k))}u.push(f)}for(;f=u.pop();)a(f.node,f.x0,f.y0,f.x1,f.y1);return this},uo.x=function Q4(a){return arguments.length?(this._x=a,this):this._x},uo.y=function J4(a){return arguments.length?(this._y=a,this):this._y};const SC=1664525,kC=1013904223,e5=4294967296;function OT(a){return a.x}function n5(a){return a.y}var r5=10,s5=Math.PI*(3-Math.sqrt(5));function o5(a){var c,u=1,f=.001,g=1-Math.pow(f,1/300),_=0,w=.6,C=new Map,S=vv(N),k=nr("tick","end"),I=function lG(){let a=1;return()=>(a=(SC*a+kC)%e5)/e5}();function N(){R(),k.call("tick",c),u<f&&(S.stop(),k.call("end",c))}function R(dt){var X,yt,nt=a.length;void 0===dt&&(dt=1);for(var bt=0;bt<dt;++bt)for(u+=(_-u)*g,C.forEach(function(mt){mt(u)}),X=0;X<nt;++X)null==(yt=a[X]).fx?yt.x+=yt.vx*=w:(yt.x=yt.fx,yt.vx=0),null==yt.fy?yt.y+=yt.vy*=w:(yt.y=yt.fy,yt.vy=0);return c}function G(){for(var nt,dt=0,X=a.length;dt<X;++dt){if((nt=a[dt]).index=dt,null!=nt.fx&&(nt.x=nt.fx),null!=nt.fy&&(nt.y=nt.fy),isNaN(nt.x)||isNaN(nt.y)){var yt=r5*Math.sqrt(.5+dt),bt=dt*s5;nt.x=yt*Math.cos(bt),nt.y=yt*Math.sin(bt)}(isNaN(nt.vx)||isNaN(nt.vy))&&(nt.vx=nt.vy=0)}}function at(dt){return dt.initialize&&dt.initialize(a,I),dt}return null==a&&(a=[]),G(),c={tick:R,restart:function(){return S.restart(N),c},stop:function(){return S.stop(),c},nodes:function(dt){return arguments.length?(a=dt,G(),C.forEach(at),c):a},alpha:function(dt){return arguments.length?(u=+dt,c):u},alphaMin:function(dt){return arguments.length?(f=+dt,c):f},alphaDecay:function(dt){return arguments.length?(g=+dt,c):+g},alphaTarget:function(dt){return arguments.length?(_=+dt,c):_},velocityDecay:function(dt){return arguments.length?(w=1-dt,c):1-w},randomSource:function(dt){return arguments.length?(I=dt,C.forEach(at),c):I},force:function(dt,X){return arguments.length>1?(null==X?C.delete(dt):C.set(dt,at(X)),c):C.get(dt)},find:function(dt,X,nt){var mt,Gt,$t,ye,Ce,yt=0,bt=a.length;for(null==nt?nt=1/0:nt*=nt,yt=0;yt<bt;++yt)($t=(mt=dt-(ye=a[yt]).x)*mt+(Gt=X-ye.y)*Gt)<nt&&(Ce=ye,nt=$t);return Ce},on:function(dt,X){return arguments.length>1?(k.on(dt,X),c):k.on(dt)}}}function RT(){var a,c,u,f,_,g=Fr(-30),w=1,C=1/0,S=.81;function k(G){var at,dt=a.length,X=ay(a,OT,n5).visitAfter(N);for(f=G,at=0;at<dt;++at)c=a[at],X.visit(R)}function I(){if(a){var G,dt,at=a.length;for(_=new Array(at),G=0;G<at;++G)_[(dt=a[G]).index]=+g(dt,G,a)}}function N(G){var dt,X,yt,bt,mt,at=0,nt=0;if(G.length){for(yt=bt=mt=0;mt<4;++mt)(dt=G[mt])&&(X=Math.abs(dt.value))&&(at+=dt.value,nt+=X,yt+=X*dt.x,bt+=X*dt.y);G.x=yt/nt,G.y=bt/nt}else{(dt=G).x=dt.data.x,dt.y=dt.data.y;do{at+=_[dt.data.index]}while(dt=dt.next)}G.value=at}function R(G,at,dt,X){if(!G.value)return!0;var nt=G.x-c.x,yt=G.y-c.y,bt=X-at,mt=nt*nt+yt*yt;if(bt*bt/S<mt)return mt<C&&(0===nt&&(mt+=(nt=Ml(u))*nt),0===yt&&(mt+=(yt=Ml(u))*yt),mt<w&&(mt=Math.sqrt(w*mt)),c.vx+=nt*G.value*f/mt,c.vy+=yt*G.value*f/mt),!0;if(!(G.length||mt>=C)){(G.data!==c||G.next)&&(0===nt&&(mt+=(nt=Ml(u))*nt),0===yt&&(mt+=(yt=Ml(u))*yt),mt<w&&(mt=Math.sqrt(w*mt)));do{G.data!==c&&(c.vx+=nt*(bt=_[G.data.index]*f/mt),c.vy+=yt*bt)}while(G=G.next)}}return k.initialize=function(G,at){a=G,u=at,I()},k.strength=function(G){return arguments.length?(g="function"==typeof G?G:Fr(+G),I(),k):g},k.distanceMin=function(G){return arguments.length?(w=G*G,k):Math.sqrt(w)},k.distanceMax=function(G){return arguments.length?(C=G*G,k):Math.sqrt(C)},k.theta=function(G){return arguments.length?(S=G*G,k):Math.sqrt(S)},k}function ly(a,c,u){var f,_,w,g=Fr(.1);function C(k){for(var I=0,N=f.length;I<N;++I){var R=f[I],G=R.x-c||1e-6,at=R.y-u||1e-6,dt=Math.sqrt(G*G+at*at),X=(w[I]-dt)*_[I]*k/dt;R.vx+=G*X,R.vy+=at*X}}function S(){if(f){var k,I=f.length;for(_=new Array(I),w=new Array(I),k=0;k<I;++k)w[k]=+a(f[k],k,f),_[k]=isNaN(w[k])?0:+g(f[k],k,f)}}return"function"!=typeof a&&(a=Fr(+a)),null==c&&(c=0),null==u&&(u=0),C.initialize=function(k){f=k,S()},C.strength=function(k){return arguments.length?(g="function"==typeof k?k:Fr(+k),S(),C):g},C.radius=function(k){return arguments.length?(a="function"==typeof k?k:Fr(+k),S(),C):a},C.x=function(k){return arguments.length?(c=+k,C):c},C.y=function(k){return arguments.length?(u=+k,C):u},C}function PT(a){var u,f,g,c=Fr(.1);function _(C){for(var I,S=0,k=u.length;S<k;++S)(I=u[S]).vx+=(g[S]-I.x)*f[S]*C}function w(){if(u){var C,S=u.length;for(f=new Array(S),g=new Array(S),C=0;C<S;++C)f[C]=isNaN(g[C]=+a(u[C],C,u))?0:+c(u[C],C,u)}}return"function"!=typeof a&&(a=Fr(null==a?0:+a)),_.initialize=function(C){u=C,w()},_.strength=function(C){return arguments.length?(c="function"==typeof C?C:Fr(+C),w(),_):c},_.x=function(C){return arguments.length?(a="function"==typeof C?C:Fr(+C),w(),_):a},_}function DC(a){var u,f,g,c=Fr(.1);function _(C){for(var I,S=0,k=u.length;S<k;++S)(I=u[S]).vy+=(g[S]-I.y)*f[S]*C}function w(){if(u){var C,S=u.length;for(f=new Array(S),g=new Array(S),C=0;C<S;++C)f[C]=isNaN(g[C]=+a(u[C],C,u))?0:+c(u[C],C,u)}}return"function"!=typeof a&&(a=Fr(null==a?0:+a)),_.initialize=function(C){u=C,w()},_.strength=function(C){return arguments.length?(c="function"==typeof C?C:Fr(+C),w(),_):c},_.y=function(C){return arguments.length?(a="function"==typeof C?C:Fr(+C),w(),_):a},_}function js(a,c){if((u=(a=c?a.toExponential(c-1):a.toExponential()).indexOf("e"))<0)return null;var u,f=a.slice(0,u);return[f.length>1?f[0]+f.slice(2):f,+a.slice(u+1)]}function Du(a){return(a=js(Math.abs(a)))?a[1]:NaN}var FT,LT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function L_(a){if(!(c=LT.exec(a)))throw new Error("invalid format: "+a);var c;return new cy({fill:c[1],align:c[2],sign:c[3],symbol:c[4],zero:c[5],width:c[6],comma:c[7],precision:c[8]&&c[8].slice(1),trim:c[9],type:c[10]})}function cy(a){this.fill=void 0===a.fill?" ":a.fill+"",this.align=void 0===a.align?">":a.align+"",this.sign=void 0===a.sign?"-":a.sign+"",this.symbol=void 0===a.symbol?"":a.symbol+"",this.zero=!!a.zero,this.width=void 0===a.width?void 0:+a.width,this.comma=!!a.comma,this.precision=void 0===a.precision?void 0:+a.precision,this.trim=!!a.trim,this.type=void 0===a.type?"":a.type+""}function d5(a,c){var u=js(a,c);if(!u)return a+"";var f=u[0],g=u[1];return g<0?"0."+new Array(-g).join("0")+f:f.length>g+1?f.slice(0,g+1)+"."+f.slice(g+1):f+new Array(g-f.length+2).join("0")}L_.prototype=cy.prototype,cy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const u5={"%":(a,c)=>(100*a).toFixed(c),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function a5(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,c)=>a.toExponential(c),f:(a,c)=>a.toFixed(c),g:(a,c)=>a.toPrecision(c),o:a=>Math.round(a).toString(8),p:(a,c)=>d5(100*a,c),r:d5,s:function NT(a,c){var u=js(a,c);if(!u)return a+"";var f=u[0],g=u[1],_=g-(FT=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,w=f.length;return _===w?f:_>w?f+new Array(_-w+1).join("0"):_>0?f.slice(0,_)+"."+f.slice(_):"0."+new Array(1-_).join("0")+js(a,Math.max(0,c+_-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function np(a){return a}var F_,sp,N_,xe=Array.prototype.map,rp=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function TC(a){var c=void 0===a.grouping||void 0===a.thousands?np:function l5(a,c){return function(u,f){for(var g=u.length,_=[],w=0,C=a[0],S=0;g>0&&C>0&&(S+C+1>f&&(C=Math.max(1,f-S)),_.push(u.substring(g-=C,g+C)),!((S+=C+1)>f));)C=a[w=(w+1)%a.length];return _.reverse().join(c)}}(xe.call(a.grouping,Number),a.thousands+""),u=void 0===a.currency?"":a.currency[0]+"",f=void 0===a.currency?"":a.currency[1]+"",g=void 0===a.decimal?".":a.decimal+"",_=void 0===a.numerals?np:function rr(a){return function(c){return c.replace(/[0-9]/g,function(u){return a[+u]})}}(xe.call(a.numerals,String)),w=void 0===a.percent?"%":a.percent+"",C=void 0===a.minus?"\u2212":a.minus+"",S=void 0===a.nan?"NaN":a.nan+"";function k(N){var R=(N=L_(N)).fill,G=N.align,at=N.sign,dt=N.symbol,X=N.zero,nt=N.width,yt=N.comma,bt=N.precision,mt=N.trim,Gt=N.type;"n"===Gt?(yt=!0,Gt="g"):u5[Gt]||(void 0===bt&&(bt=12),mt=!0,Gt="g"),(X||"0"===R&&"="===G)&&(X=!0,R="0",G="=");var $t="$"===dt?u:"#"===dt&&/[boxX]/.test(Gt)?"0"+Gt.toLowerCase():"",ye="$"===dt?f:/[%p]/.test(Gt)?w:"",Ce=u5[Gt],Be=/[defgprs%]/.test(Gt);function ae(se){var Qt,le,ce,Le=$t,De=ye;if("c"===Gt)De=Ce(se)+De,se="";else{var Pe=(se=+se)<0||1/se<0;if(se=isNaN(se)?S:Ce(Math.abs(se),bt),mt&&(se=function c5(a){t:for(var g,c=a.length,u=1,f=-1;u<c;++u)switch(a[u]){case".":f=g=u;break;case"0":0===f&&(f=u),g=u;break;default:if(!+a[u])break t;f>0&&(f=0)}return f>0?a.slice(0,f)+a.slice(g+1):a}(se)),Pe&&0==+se&&"+"!==at&&(Pe=!1),Le=(Pe?"("===at?at:C:"-"===at||"("===at?"":at)+Le,De=("s"===Gt?rp[8+FT/3]:"")+De+(Pe&&"("===at?")":""),Be)for(Qt=-1,le=se.length;++Qt<le;)if(48>(ce=se.charCodeAt(Qt))||ce>57){De=(46===ce?g+se.slice(Qt+1):se.slice(Qt))+De,se=se.slice(0,Qt);break}}yt&&!X&&(se=c(se,1/0));var Ke=Le.length+se.length+De.length,ii=Ke<nt?new Array(nt-Ke+1).join(R):"";switch(yt&&X&&(se=c(ii+se,ii.length?nt-De.length:1/0),ii=""),G){case"<":se=Le+se+De+ii;break;case"=":se=Le+ii+se+De;break;case"^":se=ii.slice(0,Ke=ii.length>>1)+Le+se+De+ii.slice(Ke);break;default:se=ii+Le+se+De}return _(se)}return bt=void 0===bt?6:/[gprs]/.test(Gt)?Math.max(1,Math.min(21,bt)):Math.max(0,Math.min(20,bt)),ae.toString=function(){return N+""},ae}return{format:k,formatPrefix:function I(N,R){var G=k(((N=L_(N)).type="f",N)),at=3*Math.max(-8,Math.min(8,Math.floor(Du(R)/3))),dt=Math.pow(10,-at),X=rp[8+at/3];return function(nt){return G(dt*nt)+X}}}}function BT(a){return F_=TC(a),sp=F_.format,N_=F_.formatPrefix,F_}function IC(a){return Math.max(0,-Du(Math.abs(a)))}function AC(a,c){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Du(c)/3)))-Du(Math.abs(a)))}function B_(a,c){return a=Math.abs(a),c=Math.abs(c)-a,Math.max(0,Du(c)-Du(a))+1}BT({thousands:",",grouping:[3],currency:["$",""]});var Xi=1e-6,$h=1e-12,Bn=Math.PI,ns=Bn/2,z_=Bn/4,Ho=2*Bn,sr=180/Bn,Ki=Bn/180,Un=Math.abs,yd=Math.atan,ba=Math.atan2,Ui=Math.cos,Yh=Math.ceil,Fa=Math.exp,V_=(Math,Math.hypot),dy=Math.log,RC=Math.pow,Ii=Math.sin,xo=Math.sign||function(a){return a>0?1:a<0?-1:0},ho=Math.sqrt,PC=Math.tan;function zT(a){return a>1?0:a<-1?Bn:Math.acos(a)}function wo(a){return a>1?ns:a<-1?-ns:Math.asin(a)}function op(a){return(a=Ii(a/2))*a}function fs(){}function H_(a,c){a&&h5.hasOwnProperty(a.type)&&h5[a.type](a,c)}var Fc={Feature:function(a,c){H_(a.geometry,c)},FeatureCollection:function(a,c){for(var u=a.features,f=-1,g=u.length;++f<g;)H_(u[f].geometry,c)}},h5={Sphere:function(a,c){c.sphere()},Point:function(a,c){c.point((a=a.coordinates)[0],a[1],a[2])},MultiPoint:function(a,c){for(var u=a.coordinates,f=-1,g=u.length;++f<g;)c.point((a=u[f])[0],a[1],a[2])},LineString:function(a,c){Gr(a.coordinates,c,0)},MultiLineString:function(a,c){for(var u=a.coordinates,f=-1,g=u.length;++f<g;)Gr(u[f],c,0)},Polygon:function(a,c){uy(a.coordinates,c)},MultiPolygon:function(a,c){for(var u=a.coordinates,f=-1,g=u.length;++f<g;)uy(u[f],c)},GeometryCollection:function(a,c){for(var u=a.geometries,f=-1,g=u.length;++f<g;)H_(u[f],c)}};function Gr(a,c,u){var _,f=-1,g=a.length-u;for(c.lineStart();++f<g;)c.point((_=a[f])[0],_[1],_[2]);c.lineEnd()}function uy(a,c){var u=-1,f=a.length;for(c.polygonStart();++u<f;)Gr(a[u],c,1);c.polygonEnd()}function oc(a,c){a&&Fc.hasOwnProperty(a.type)?Fc[a.type](a,c):H_(a,c)}var U_,VT,G_,j_,Tu,LC=new ze,FC=new ze,Sl={point:fs,lineStart:fs,lineEnd:fs,polygonStart:function(){LC=new ze,Sl.lineStart=NC,Sl.lineEnd=W_},polygonEnd:function(){var a=+LC;FC.add(a<0?Ho+a:a),this.lineStart=this.lineEnd=this.point=fs},sphere:function(){FC.add(Ho)}};function NC(){Sl.point=hy}function W_(){Zh(U_,VT)}function hy(a,c){Sl.point=Zh,U_=a,VT=c,G_=a*=Ki,j_=Ui(c=(c*=Ki)/2+z_),Tu=Ii(c)}function Zh(a,c){var u=(a*=Ki)-G_,f=u>=0?1:-1,g=f*u,_=Ui(c=(c*=Ki)/2+z_),w=Ii(c),C=Tu*w,S=j_*_+C*Ui(g),k=C*f*Ii(g);LC.add(ba(k,S)),G_=a,j_=_,Tu=w}function BC(a){return FC=new ze,oc(a,Sl),2*FC}function ap(a){return[ba(a[1],a[0]),wo(a[2])]}function Nc(a){var c=a[0],u=a[1],f=Ui(u);return[f*Ui(c),f*Ii(c),Ii(u)]}function zC(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}function Iu(a,c){return[a[1]*c[2]-a[2]*c[1],a[2]*c[0]-a[0]*c[2],a[0]*c[1]-a[1]*c[0]]}function qh(a,c){a[0]+=c[0],a[1]+=c[1],a[2]+=c[2]}function fy(a,c){return[a[0]*c,a[1]*c,a[2]*c]}function $_(a){var c=ho(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=c,a[1]/=c,a[2]/=c}var ms,Na,rs,Ba,Xh,HT,f5,lp,Au,Bc,xd,zc={point:Y_,lineStart:UT,lineEnd:VC,polygonStart:function(){zc.point=GT,zc.lineStart=jT,zc.lineEnd=cG,Au=new ze,Sl.polygonStart()},polygonEnd:function(){Sl.polygonEnd(),zc.point=Y_,zc.lineStart=UT,zc.lineEnd=VC,LC<0?(ms=-(rs=180),Na=-(Ba=90)):Au>Xi?Ba=90:Au<-Xi&&(Na=-90),xd[0]=ms,xd[1]=rs},sphere:function(){ms=-(rs=180),Na=-(Ba=90)}};function Y_(a,c){Bc.push(xd=[ms=a,rs=a]),c<Na&&(Na=c),c>Ba&&(Ba=c)}function Z_(a,c){var u=Nc([a*Ki,c*Ki]);if(lp){var f=Iu(lp,u),_=Iu([f[1],-f[0],0],f);$_(_),_=ap(_);var k,w=a-Xh,C=w>0?1:-1,S=_[0]*sr*C,I=Un(w)>180;I^(C*Xh<S&&S<C*a)?(k=_[1]*sr)>Ba&&(Ba=k):I^(C*Xh<(S=(S+360)%360-180)&&S<C*a)?(k=-_[1]*sr)<Na&&(Na=k):(c<Na&&(Na=c),c>Ba&&(Ba=c)),I?a<Xh?rl(ms,a)>rl(ms,rs)&&(rs=a):rl(a,rs)>rl(ms,rs)&&(ms=a):rs>=ms?(a<ms&&(ms=a),a>rs&&(rs=a)):a>Xh?rl(ms,a)>rl(ms,rs)&&(rs=a):rl(a,rs)>rl(ms,rs)&&(ms=a)}else Bc.push(xd=[ms=a,rs=a]);c<Na&&(Na=c),c>Ba&&(Ba=c),lp=u,Xh=a}function UT(){zc.point=Z_}function VC(){xd[0]=ms,xd[1]=rs,zc.point=Y_,lp=null}function GT(a,c){if(lp){var u=a-Xh;Au.add(Un(u)>180?u+(u>0?360:-360):u)}else HT=a,f5=c;Sl.point(a,c),Z_(a,c)}function jT(){Sl.lineStart()}function cG(){GT(HT,f5),Sl.lineEnd(),Un(Au)>Xi&&(ms=-(rs=180)),xd[0]=ms,xd[1]=rs,lp=null}function rl(a,c){return(c-=a)<0?c+360:c}function cp(a,c){return a[0]-c[0]}function WT(a,c){return a[0]<=a[1]?a[0]<=c&&c<=a[1]:c<a[0]||a[1]<c}function dp(a){var c,u,f,g,_,w,C;if(Ba=rs=-(ms=Na=1/0),Bc=[],oc(a,zc),u=Bc.length){for(Bc.sort(cp),c=1,_=[f=Bc[0]];c<u;++c)WT(f,(g=Bc[c])[0])||WT(f,g[1])?(rl(f[0],g[1])>rl(f[0],f[1])&&(f[1]=g[1]),rl(g[0],f[1])>rl(f[0],f[1])&&(f[0]=g[0])):_.push(f=g);for(w=-1/0,c=0,f=_[u=_.length-1];c<=u;f=g,++c)(C=rl(f[1],(g=_[c])[0]))>w&&(w=C,ms=g[0],rs=f[1])}return Bc=xd=null,ms===1/0||Na===1/0?[[NaN,NaN],[NaN,NaN]]:[[ms,Na],[rs,Ba]]}var ai,my,Ou,Uo,py,gy,Vc,_y,q_,$T,X_,HC,YT,va,Go,ya,kl={sphere:fs,point:UC,lineStart:m5,lineEnd:jr,polygonStart:function(){kl.lineStart=XT,kl.lineEnd=dG},polygonEnd:function(){kl.lineStart=m5,kl.lineEnd=jr}};function UC(a,c){a*=Ki;var u=Ui(c*=Ki);K_(u*Ui(a),u*Ii(a),Ii(c))}function K_(a,c,u){++ai,Ou+=(a-Ou)/ai,Uo+=(c-Uo)/ai,py+=(u-py)/ai}function m5(){kl.point=ZT}function ZT(a,c){a*=Ki;var u=Ui(c*=Ki);va=u*Ui(a),Go=u*Ii(a),ya=Ii(c),kl.point=qT,K_(va,Go,ya)}function qT(a,c){a*=Ki;var u=Ui(c*=Ki),f=u*Ui(a),g=u*Ii(a),_=Ii(c),w=ba(ho((w=Go*_-ya*g)*w+(w=ya*f-va*_)*w+(w=va*g-Go*f)*w),va*f+Go*g+ya*_);my+=w,gy+=w*(va+(va=f)),Vc+=w*(Go+(Go=g)),_y+=w*(ya+(ya=_)),K_(va,Go,ya)}function jr(){kl.point=UC}function XT(){kl.point=GC}function dG(){sl(HC,YT),kl.point=UC}function GC(a,c){HC=a,YT=c,a*=Ki,c*=Ki,kl.point=sl;var u=Ui(c);va=u*Ui(a),Go=u*Ii(a),ya=Ii(c),K_(va,Go,ya)}function sl(a,c){a*=Ki;var u=Ui(c*=Ki),f=u*Ui(a),g=u*Ii(a),_=Ii(c),w=Go*_-ya*g,C=ya*f-va*_,S=va*g-Go*f,k=V_(w,C,S),I=wo(k),N=k&&-I/k;q_.add(N*w),$T.add(N*C),X_.add(N*S),my+=I,gy+=I*(va+(va=f)),Vc+=I*(Go+(Go=g)),_y+=I*(ya+(ya=_)),K_(va,Go,ya)}function jC(a){ai=my=Ou=Uo=py=gy=Vc=_y=0,q_=new ze,$T=new ze,X_=new ze,oc(a,kl);var c=+q_,u=+$T,f=+X_,g=V_(c,u,f);return g<$h&&(c=gy,u=Vc,f=_y,my<Xi&&(c=Ou,u=Uo,f=py),(g=V_(c,u,f))<$h)?[NaN,NaN]:[ba(u,c)*sr,wo(f/g)*sr]}function up(a){return function(){return a}}function KT(a,c){function u(f,g){return f=a(f,g),c(f[0],f[1])}return a.invert&&c.invert&&(u.invert=function(f,g){return(f=c.invert(f,g))&&a.invert(f[0],f[1])}),u}function WC(a,c){return[Un(a)>Bn?a+Math.round(-a/Ho)*Ho:a,c]}function Q_(a,c,u){return(a%=Ho)?c||u?KT($C(a),QT(c,u)):$C(a):c||u?QT(c,u):WC}function qe(a){return function(c,u){return[(c+=a)>Bn?c-Ho:c<-Bn?c+Ho:c,u]}}function $C(a){var c=qe(a);return c.invert=qe(-a),c}function QT(a,c){var u=Ui(a),f=Ii(a),g=Ui(c),_=Ii(c);function w(C,S){var k=Ui(S),I=Ui(C)*k,N=Ii(C)*k,R=Ii(S),G=R*u+I*f;return[ba(N*g-G*_,I*u-R*f),wo(G*g+N*_)]}return w.invert=function(C,S){var k=Ui(S),I=Ui(C)*k,N=Ii(C)*k,R=Ii(S),G=R*g-N*_;return[ba(N*g+R*_,I*u+G*f),wo(G*u-I*f)]},w}function p5(a){function c(u){return(u=a(u[0]*Ki,u[1]*Ki))[0]*=sr,u[1]*=sr,u}return a=Q_(a[0]*Ki,a[1]*Ki,a.length>2?a[2]*Ki:0),c.invert=function(u){return(u=a.invert(u[0]*Ki,u[1]*Ki))[0]*=sr,u[1]*=sr,u},c}function fi(a,c,u,f,g,_){if(u){var w=Ui(c),C=Ii(c),S=f*u;null==g?(g=c+f*Ho,_=c-S/2):(g=JT(w,g),_=JT(w,_),(f>0?g<_:g>_)&&(g+=f*Ho));for(var k,I=g;f>0?I>_:I<_;I-=S)k=ap([w,-C*Ui(I),-C*Ii(I)]),a.point(k[0],k[1])}}function JT(a,c){(c=Nc(c))[0]-=a,$_(c);var u=zT(-c[1]);return((-c[2]<0?-u:u)+Ho-Xi)%Ho}function YC(){var f,g,a=up([0,0]),c=up(90),u=up(6),_={point:function w(S,k){f.push(S=g(S,k)),S[0]*=sr,S[1]*=sr}};function C(){var S=a.apply(this,arguments),k=c.apply(this,arguments)*Ki,I=u.apply(this,arguments)*Ki;return f=[],g=Q_(-S[0]*Ki,-S[1]*Ki,0).invert,fi(_,k,I,1),S={type:"Polygon",coordinates:[f]},f=g=null,S}return C.center=function(S){return arguments.length?(a="function"==typeof S?S:up([+S[0],+S[1]]),C):a},C.radius=function(S){return arguments.length?(c="function"==typeof S?S:up(+S),C):c},C.precision=function(S){return arguments.length?(u="function"==typeof S?S:up(+S),C):u},C}function tI(){var c,a=[];return{point:function(u,f,g){c.push([u,f,g])},lineStart:function(){a.push(c=[])},lineEnd:fs,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var u=a;return a=[],c=null,u}}}function by(a,c){return Un(a[0]-c[0])<Xi&&Un(a[1]-c[1])<Xi}function hp(a,c,u,f){this.x=a,this.z=c,this.o=u,this.e=f,this.v=!1,this.n=this.p=null}function ZC(a,c,u,f,g){var C,S,_=[],w=[];if(a.forEach(function(at){if(!((dt=at.length-1)<=0)){var dt,yt,X=at[0],nt=at[dt];if(by(X,nt)){if(!X[2]&&!nt[2]){for(g.lineStart(),C=0;C<dt;++C)g.point((X=at[C])[0],X[1]);return void g.lineEnd()}nt[0]+=2*Xi}_.push(yt=new hp(X,at,null,!0)),w.push(yt.o=new hp(X,null,yt,!1)),_.push(yt=new hp(nt,at,null,!1)),w.push(yt.o=new hp(nt,null,yt,!0))}}),_.length){for(w.sort(c),qC(_),qC(w),C=0,S=w.length;C<S;++C)w[C].e=u=!u;for(var I,N,k=_[0];;){for(var R=k,G=!0;R.v;)if((R=R.n)===k)return;I=R.z,g.lineStart();do{if(R.v=R.o.v=!0,R.e){if(G)for(C=0,S=I.length;C<S;++C)g.point((N=I[C])[0],N[1]);else f(R.x,R.n.x,1,g);R=R.n}else{if(G)for(C=(I=R.p.z).length-1;C>=0;--C)g.point((N=I[C])[0],N[1]);else f(R.x,R.p.x,-1,g);R=R.p}I=(R=R.o).z,G=!G}while(!R.v);g.lineEnd()}}}function qC(a){if(c=a.length){for(var c,g,u=0,f=a[0];++u<c;)f.n=g=a[u],g.p=f,f=g;f.n=g=a[0],g.p=f}}function XC(a){return Un(a[0])<=Bn?a[0]:xo(a[0])*((Un(a[0])+Bn)%Ho-Bn)}function KC(a,c){var u=XC(c),f=c[1],g=Ii(f),_=[Ii(u),-Ui(u),0],w=0,C=0,S=new ze;1===g?f=ns+Xi:-1===g&&(f=-ns-Xi);for(var k=0,I=a.length;k<I;++k)if(R=(N=a[k]).length)for(var N,R,G=N[R-1],at=XC(G),dt=G[1]/2+z_,X=Ii(dt),nt=Ui(dt),yt=0;yt<R;++yt,at=mt,X=$t,nt=ye,G=bt){var bt=N[yt],mt=XC(bt),Gt=bt[1]/2+z_,$t=Ii(Gt),ye=Ui(Gt),Ce=mt-at,Be=Ce>=0?1:-1,ae=Be*Ce,se=ae>Bn,Le=X*$t;if(S.add(ba(Le*Be*Ii(ae),nt*ye+Le*Ui(ae))),w+=se?Ce+Be*Ho:Ce,se^at>=u^mt>=u){var De=Iu(Nc(G),Nc(bt));$_(De);var Qt=Iu(_,De);$_(Qt);var le=(se^Ce>=0?-1:1)*wo(Qt[2]);(f>le||f===le&&(De[0]||De[1]))&&(C+=se^Ce>=0?1:-1)}}return(w<-Xi||w<Xi&&S<-$h)^1&C}function QC(a,c,u,f){return function(g){var k,I,N,_=c(g),w=tI(),C=c(w),S=!1,R={point:G,lineStart:dt,lineEnd:X,polygonStart:function(){R.point=nt,R.lineStart=yt,R.lineEnd=bt,I=[],k=[]},polygonEnd:function(){R.point=G,R.lineStart=dt,R.lineEnd=X,I=au(I);var mt=KC(k,f);I.length?(S||(g.polygonStart(),S=!0),ZC(I,JC,mt,u,g)):mt&&(S||(g.polygonStart(),S=!0),g.lineStart(),u(null,null,1,g),g.lineEnd()),S&&(g.polygonEnd(),S=!1),I=k=null},sphere:function(){g.polygonStart(),g.lineStart(),u(null,null,1,g),g.lineEnd(),g.polygonEnd()}};function G(mt,Gt){a(mt,Gt)&&g.point(mt,Gt)}function at(mt,Gt){_.point(mt,Gt)}function dt(){R.point=at,_.lineStart()}function X(){R.point=G,_.lineEnd()}function nt(mt,Gt){N.push([mt,Gt]),C.point(mt,Gt)}function yt(){C.lineStart(),N=[]}function bt(){nt(N[0][0],N[0][1]),C.lineEnd();var $t,Ce,Be,ae,mt=C.clean(),Gt=w.result(),ye=Gt.length;if(N.pop(),k.push(N),N=null,ye){if(1&mt){if((Ce=(Be=Gt[0]).length-1)>0){for(S||(g.polygonStart(),S=!0),g.lineStart(),$t=0;$t<Ce;++$t)g.point((ae=Be[$t])[0],ae[1]);g.lineEnd()}return}ye>1&&2&mt&&Gt.push(Gt.pop().concat(Gt.shift())),I.push(Gt.filter(g5))}}return R}}function g5(a){return a.length>1}function JC(a,c){return((a=a.x)[0]<0?a[1]-ns-Xi:ns-a[1])-((c=c.x)[0]<0?c[1]-ns-Xi:ns-c[1])}WC.invert=WC;const vy=QC(function(){return!0},function eI(a){var g,c=NaN,u=NaN,f=NaN;return{lineStart:function(){a.lineStart(),g=1},point:function(_,w){var C=_>0?Bn:-Bn,S=Un(_-c);Un(S-Bn)<Xi?(a.point(c,u=(u+w)/2>0?ns:-ns),a.point(f,u),a.lineEnd(),a.lineStart(),a.point(C,u),a.point(_,u),g=0):f!==C&&S>=Bn&&(Un(c-f)<Xi&&(c-=f*Xi),Un(_-C)<Xi&&(_-=C*Xi),u=function fp(a,c,u,f){var g,_,w=Ii(a-u);return Un(w)>Xi?yd((Ii(c)*(_=Ui(f))*Ii(u)-Ii(f)*(g=Ui(c))*Ii(a))/(g*_*w)):(c+f)/2}(c,u,_,w),a.point(f,u),a.lineEnd(),a.lineStart(),a.point(C,u),g=0),a.point(c=_,u=w),f=C},lineEnd:function(){a.lineEnd(),c=u=NaN},clean:function(){return 2-g}}},function wd(a,c,u,f){var g;if(null==a)f.point(-Bn,g=u*ns),f.point(0,g),f.point(Bn,g),f.point(Bn,0),f.point(Bn,-g),f.point(0,-g),f.point(-Bn,-g),f.point(-Bn,0),f.point(-Bn,g);else if(Un(a[0]-c[0])>Xi){var _=a[0]<c[0]?Bn:-Bn;f.point(-_,g=u*_/2),f.point(0,g),f.point(_,g)}else f.point(c[0],c[1])},[-Bn,-ns]);function Kh(a){var c=Ui(a),u=6*Ki,f=c>0,g=Un(c)>Xi;function w(I,N){return Ui(I)*Ui(N)>c}function S(I,N,R){var dt=[1,0,0],X=Iu(Nc(I),Nc(N)),nt=zC(X,X),yt=X[0],bt=nt-yt*yt;if(!bt)return!R&&I;var mt=c*nt/bt,Gt=-c*yt/bt,$t=Iu(dt,X),ye=fy(dt,mt);qh(ye,fy(X,Gt));var Be=$t,ae=zC(ye,Be),se=zC(Be,Be),Le=ae*ae-se*(zC(ye,ye)-1);if(!(Le<0)){var De=ho(Le),Qt=fy(Be,(-ae-De)/se);if(qh(Qt,ye),Qt=ap(Qt),!R)return Qt;var ii,le=I[0],ce=N[0],Pe=I[1],Ke=N[1];ce<le&&(ii=le,le=ce,ce=ii);var hi=ce-le,Si=Un(hi-Bn)<Xi;if(!Si&&Ke<Pe&&(ii=Pe,Pe=Ke,Ke=ii),Si||hi<Xi?Si?Pe+Ke>0^Qt[1]<(Un(Qt[0]-le)<Xi?Pe:Ke):Pe<=Qt[1]&&Qt[1]<=Ke:hi>Bn^(le<=Qt[0]&&Qt[0]<=ce)){var br=fy(Be,(-ae+De)/se);return qh(br,ye),[Qt,ap(br)]}}}function k(I,N){var R=f?a:Bn-a,G=0;return I<-R?G|=1:I>R&&(G|=2),N<-R?G|=4:N>R&&(G|=8),G}return QC(w,function C(I){var N,R,G,at,dt;return{lineStart:function(){at=G=!1,dt=1},point:function(X,nt){var bt,yt=[X,nt],mt=w(X,nt),Gt=f?mt?0:k(X,nt):mt?k(X+(X<0?Bn:-Bn),nt):0;if(!N&&(at=G=mt)&&I.lineStart(),mt!==G&&(!(bt=S(N,yt))||by(N,bt)||by(yt,bt))&&(yt[2]=1),mt!==G)dt=0,mt?(I.lineStart(),bt=S(yt,N),I.point(bt[0],bt[1])):(bt=S(N,yt),I.point(bt[0],bt[1],2),I.lineEnd()),N=bt;else if(g&&N&&f^mt){var $t;!(Gt&R)&&($t=S(yt,N,!0))&&(dt=0,f?(I.lineStart(),I.point($t[0][0],$t[0][1]),I.point($t[1][0],$t[1][1]),I.lineEnd()):(I.point($t[1][0],$t[1][1]),I.lineEnd(),I.lineStart(),I.point($t[0][0],$t[0][1],3)))}mt&&(!N||!by(N,yt))&&I.point(yt[0],yt[1]),N=yt,G=mt,R=Gt},lineEnd:function(){G&&I.lineEnd(),N=null},clean:function(){return dt|(at&&G)<<1}}},function _(I,N,R,G){fi(G,a,u,R,I,N)},f?[0,-a]:[-Bn,a-Bn])}var J_=1e9,t0=-J_;function e0(a,c,u,f){function g(k,I){return a<=k&&k<=u&&c<=I&&I<=f}function _(k,I,N,R){var G=0,at=0;if(null==k||(G=w(k,N))!==(at=w(I,N))||S(k,I)<0^N>0)do{R.point(0===G||3===G?a:u,G>1?f:c)}while((G=(G+N+4)%4)!==at);else R.point(I[0],I[1])}function w(k,I){return Un(k[0]-a)<Xi?I>0?0:3:Un(k[0]-u)<Xi?I>0?2:1:Un(k[1]-c)<Xi?I>0?1:0:I>0?3:2}function C(k,I){return S(k.x,I.x)}function S(k,I){var N=w(k,1),R=w(I,1);return N!==R?N-R:0===N?I[1]-k[1]:1===N?k[0]-I[0]:2===N?k[1]-I[1]:I[0]-k[0]}return function(k){var R,G,at,dt,X,nt,yt,bt,mt,Gt,$t,I=k,N=tI(),ye={point:Ce,lineStart:function Le(){ye.point=Qt,G&&G.push(at=[]),Gt=!0,mt=!1,yt=bt=NaN},lineEnd:function De(){R&&(Qt(dt,X),nt&&mt&&N.rejoin(),R.push(N.result())),ye.point=Ce,mt&&I.lineEnd()},polygonStart:function ae(){I=N,R=[],G=[],$t=!0},polygonEnd:function se(){var le=function Be(){for(var le=0,ce=0,Pe=G.length;ce<Pe;++ce)for(var $i,br,Ke=G[ce],ii=1,hi=Ke.length,Si=Ke[0],li=Si[0],mr=Si[1];ii<hi;++ii)$i=li,br=mr,li=(Si=Ke[ii])[0],mr=Si[1],br<=f?mr>f&&(li-$i)*(f-br)>(mr-br)*(a-$i)&&++le:mr<=f&&(li-$i)*(f-br)<(mr-br)*(a-$i)&&--le;return le}(),ce=$t&&le,Pe=(R=au(R)).length;(ce||Pe)&&(k.polygonStart(),ce&&(k.lineStart(),_(null,null,1,k),k.lineEnd()),Pe&&ZC(R,C,le,_,k),k.polygonEnd()),I=k,R=G=at=null}};function Ce(le,ce){g(le,ce)&&I.point(le,ce)}function Qt(le,ce){var Pe=g(le,ce);if(G&&at.push([le,ce]),Gt)dt=le,X=ce,nt=Pe,Gt=!1,Pe&&(I.lineStart(),I.point(le,ce));else if(Pe&&mt)I.point(le,ce);else{var Ke=[yt=Math.max(t0,Math.min(J_,yt)),bt=Math.max(t0,Math.min(J_,bt))],ii=[le=Math.max(t0,Math.min(J_,le)),ce=Math.max(t0,Math.min(J_,ce))];!function _5(a,c,u,f,g,_){var at,w=a[0],C=a[1],I=0,N=1,R=c[0]-w,G=c[1]-C;if(at=u-w,R||!(at>0)){if(at/=R,R<0){if(at<I)return;at<N&&(N=at)}else if(R>0){if(at>N)return;at>I&&(I=at)}if(at=g-w,R||!(at<0)){if(at/=R,R<0){if(at>N)return;at>I&&(I=at)}else if(R>0){if(at<I)return;at<N&&(N=at)}if(at=f-C,G||!(at>0)){if(at/=G,G<0){if(at<I)return;at<N&&(N=at)}else if(G>0){if(at>N)return;at>I&&(I=at)}if(at=_-C,G||!(at<0)){if(at/=G,G<0){if(at>N)return;at>I&&(I=at)}else if(G>0){if(at<I)return;at<N&&(N=at)}return I>0&&(a[0]=w+I*R,a[1]=C+I*G),N<1&&(c[0]=w+N*R,c[1]=C+N*G),!0}}}}}(Ke,ii,a,c,u,f)?Pe&&(I.lineStart(),I.point(le,ce),$t=!1):(mt||(I.lineStart(),I.point(Ke[0],Ke[1])),I.point(ii[0],ii[1]),Pe||I.lineEnd(),$t=!1)}yt=le,bt=ce,mt=Pe}return ye}}function tE(){var g,_,w,a=0,c=0,u=960,f=500;return w={stream:function(C){return g&&_===C?g:g=e0(a,c,u,f)(_=C)},extent:function(C){return arguments.length?(a=+C[0][0],c=+C[0][1],u=+C[1][0],f=+C[1][1],g=_=null,w):[[a,c],[u,f]]}}}var Qh,mp,n0,r0,pp={sphere:fs,point:fs,lineStart:function b5(){pp.point=y5,pp.lineEnd=v5},lineEnd:fs,polygonStart:fs,polygonEnd:fs};function v5(){pp.point=pp.lineEnd=fs}function y5(a,c){mp=a*=Ki,n0=Ii(c*=Ki),r0=Ui(c),pp.point=iI}function iI(a,c){a*=Ki;var u=Ii(c*=Ki),f=Ui(c),g=Un(a-mp),_=Ui(g),C=f*Ii(g),S=r0*u-n0*f*_,k=n0*u+r0*f*_;Qh.add(ba(ho(C*C+S*S),k)),mp=a,n0=u,r0=f}function x5(a){return Qh=new ze,oc(a,pp),+Qh}var eE=[null,null],uG={type:"LineString",coordinates:eE};function iE(a,c){return eE[0]=a,eE[1]=c,x5(uG)}var nE={Feature:function(a,c){return sE(a.geometry,c)},FeatureCollection:function(a,c){for(var u=a.features,f=-1,g=u.length;++f<g;)if(sE(u[f].geometry,c))return!0;return!1}},rE={Sphere:function(){return!0},Point:function(a,c){return s0(a.coordinates,c)},MultiPoint:function(a,c){for(var u=a.coordinates,f=-1,g=u.length;++f<g;)if(s0(u[f],c))return!0;return!1},LineString:function(a,c){return w5(a.coordinates,c)},MultiLineString:function(a,c){for(var u=a.coordinates,f=-1,g=u.length;++f<g;)if(w5(u[f],c))return!0;return!1},Polygon:function(a,c){return oE(a.coordinates,c)},MultiPolygon:function(a,c){for(var u=a.coordinates,f=-1,g=u.length;++f<g;)if(oE(u[f],c))return!0;return!1},GeometryCollection:function(a,c){for(var u=a.geometries,f=-1,g=u.length;++f<g;)if(sE(u[f],c))return!0;return!1}};function sE(a,c){return!(!a||!rE.hasOwnProperty(a.type))&&rE[a.type](a,c)}function s0(a,c){return 0===iE(a,c)}function w5(a,c){for(var u,f,g,_=0,w=a.length;_<w;_++){if(0===(f=iE(a[_],c))||_>0&&(g=iE(a[_],a[_-1]))>0&&u<=g&&f<=g&&(u+f-g)*(1-Math.pow((u-f)/g,2))<$h*g)return!0;u=f}return!1}function oE(a,c){return!!KC(a.map(nI),rI(c))}function nI(a){return(a=a.map(rI)).pop(),a}function rI(a){return[a[0]*Ki,a[1]*Ki]}function sI(a,c){return(a&&nE.hasOwnProperty(a.type)?nE[a.type]:sE)(a,c)}function aE(a,c,u){var f=Oo(a,c-Xi,u).concat(c);return function(g){return f.map(function(_){return[g,_]})}}function pn(a,c,u){var f=Oo(a,c-Xi,u).concat(c);return function(g){return f.map(function(_){return[_,g]})}}function z(){var a,c,u,f,g,_,w,C,R,G,at,dt,S=10,k=S,I=90,N=360,X=2.5;function nt(){return{type:"MultiLineString",coordinates:yt()}}function yt(){return Oo(Yh(f/I)*I,u,I).map(at).concat(Oo(Yh(C/N)*N,w,N).map(dt)).concat(Oo(Yh(c/S)*S,a,S).filter(function(bt){return Un(bt%I)>Xi}).map(R)).concat(Oo(Yh(_/k)*k,g,k).filter(function(bt){return Un(bt%N)>Xi}).map(G))}return nt.lines=function(){return yt().map(function(bt){return{type:"LineString",coordinates:bt}})},nt.outline=function(){return{type:"Polygon",coordinates:[at(f).concat(dt(w).slice(1),at(u).reverse().slice(1),dt(C).reverse().slice(1))]}},nt.extent=function(bt){return arguments.length?nt.extentMajor(bt).extentMinor(bt):nt.extentMinor()},nt.extentMajor=function(bt){return arguments.length?(C=+bt[0][1],w=+bt[1][1],(f=+bt[0][0])>(u=+bt[1][0])&&(bt=f,f=u,u=bt),C>w&&(bt=C,C=w,w=bt),nt.precision(X)):[[f,C],[u,w]]},nt.extentMinor=function(bt){return arguments.length?(_=+bt[0][1],g=+bt[1][1],(c=+bt[0][0])>(a=+bt[1][0])&&(bt=c,c=a,a=bt),_>g&&(bt=_,_=g,g=bt),nt.precision(X)):[[c,_],[a,g]]},nt.step=function(bt){return arguments.length?nt.stepMajor(bt).stepMinor(bt):nt.stepMinor()},nt.stepMajor=function(bt){return arguments.length?(I=+bt[0],N=+bt[1],nt):[I,N]},nt.stepMinor=function(bt){return arguments.length?(S=+bt[0],k=+bt[1],nt):[S,k]},nt.precision=function(bt){return arguments.length?(X=+bt,R=aE(_,g,90),G=pn(c,a,X),at=aE(C,w,90),dt=pn(f,u,X),nt):X},nt.extentMajor([[-180,-90+Xi],[180,90-Xi]]).extentMinor([[-180,-80-Xi],[180,80+Xi]])}function oI(){return z()()}function U(a,c){var u=a[0]*Ki,f=a[1]*Ki,g=c[0]*Ki,_=c[1]*Ki,w=Ui(f),C=Ii(f),S=Ui(_),k=Ii(_),I=w*Ui(u),N=w*Ii(u),R=S*Ui(g),G=S*Ii(g),at=2*wo(ho(op(_-f)+w*S*op(g-u))),dt=Ii(at),X=at?function(nt){var yt=Ii(nt*=at)/dt,bt=Ii(at-nt)/dt,mt=bt*I+yt*R,Gt=bt*N+yt*G,$t=bt*C+yt*k;return[ba(Gt,mt)*sr,ba($t,ho(mt*mt+Gt*Gt))*sr]}:function(){return[u*sr,f*sr]};return X.distance=at,X}const jo=a=>a;var Jh,yy,tf,xy,lE=new ze,gp=new ze,Hc={point:fs,lineStart:fs,lineEnd:fs,polygonStart:function(){Hc.lineStart=cE,Hc.lineEnd=hE},polygonEnd:function(){Hc.lineStart=Hc.lineEnd=Hc.point=fs,lE.add(Un(gp)),gp=new ze},result:function(){var a=lE/2;return lE=new ze,a}};function cE(){Hc.point=dE}function dE(a,c){Hc.point=uE,Jh=tf=a,yy=xy=c}function uE(a,c){gp.add(xy*a-tf*c),tf=a,xy=c}function hE(){uE(Jh,yy)}const aI=Hc;var _p=1/0,wy=_p,bp=-_p,Cy=bp;const Ey={point:function E5(a,c){a<_p&&(_p=a),a>bp&&(bp=a),c<wy&&(wy=c),c>Cy&&(Cy=c)},lineStart:fs,lineEnd:fs,polygonStart:fs,polygonEnd:fs,result:function(){var a=[[_p,wy],[bp,Cy]];return bp=Cy=-(wy=_p=1/0),a}};var mE,cI,Uc,Gc,My=0,Sy=0,o0=0,ky=0,Wo=0,vp=0,fE=0,lI=0,ef=0,Dl={point:nf,lineStart:dI,lineEnd:uI,polygonStart:function(){Dl.lineStart=S5,Dl.lineEnd=k5},polygonEnd:function(){Dl.point=nf,Dl.lineStart=dI,Dl.lineEnd=uI},result:function(){var a=ef?[fE/ef,lI/ef]:vp?[ky/vp,Wo/vp]:o0?[My/o0,Sy/o0]:[NaN,NaN];return My=Sy=o0=ky=Wo=vp=fE=lI=ef=0,a}};function nf(a,c){My+=a,Sy+=c,++o0}function dI(){Dl.point=pE}function pE(a,c){Dl.point=M5,nf(Uc=a,Gc=c)}function M5(a,c){var u=a-Uc,f=c-Gc,g=ho(u*u+f*f);ky+=g*(Uc+a)/2,Wo+=g*(Gc+c)/2,vp+=g,nf(Uc=a,Gc=c)}function uI(){Dl.point=nf}function S5(){Dl.point=D5}function k5(){ac(mE,cI)}function D5(a,c){Dl.point=ac,nf(mE=Uc=a,cI=Gc=c)}function ac(a,c){var u=a-Uc,f=c-Gc,g=ho(u*u+f*f);ky+=g*(Uc+a)/2,Wo+=g*(Gc+c)/2,vp+=g,fE+=(g=Gc*a-Uc*c)*(Uc+a),lI+=g*(Gc+c),ef+=3*g,nf(Uc=a,Gc=c)}const Dy=Dl;function hI(a){this._context=a}hI.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(a,c){switch(this._point){case 0:this._context.moveTo(a,c),this._point=1;break;case 1:this._context.lineTo(a,c);break;default:this._context.moveTo(a+this._radius,c),this._context.arc(a,c,this._radius,0,Ho)}},result:fs};var gE,_E,bE,Ru,rf,Ty=new ze,vE={point:fs,lineStart:function(){vE.point=fI},lineEnd:function(){gE&&yE(_E,bE),vE.point=fs},polygonStart:function(){gE=!0},polygonEnd:function(){gE=null},result:function(){var a=+Ty;return Ty=new ze,a}};function fI(a,c){vE.point=yE,_E=Ru=a,bE=rf=c}function yE(a,c){Ty.add(ho((Ru-=a)*Ru+(rf-=c)*rf)),Ru=a,rf=c}const xE=vE;function wE(){this._string=[]}function Iy(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Cd(a,c){var f,g,u=4.5;function _(w){return w&&("function"==typeof u&&g.pointRadius(+u.apply(this,arguments)),oc(w,f(g))),g.result()}return _.area=function(w){return oc(w,f(aI)),aI.result()},_.measure=function(w){return oc(w,f(xE)),xE.result()},_.bounds=function(w){return oc(w,f(Ey)),Ey.result()},_.centroid=function(w){return oc(w,f(Dy)),Dy.result()},_.projection=function(w){return arguments.length?(f=null==w?(a=null,jo):(a=w).stream,_):a},_.context=function(w){return arguments.length?(g=null==w?(c=null,new wE):new hI(c=w),"function"!=typeof u&&g.pointRadius(u),_):c},_.pointRadius=function(w){return arguments.length?(u="function"==typeof w?w:(g.pointRadius(+w),+w),_):u},_.projection(a).context(c)}function T5(a){return{stream:a0(a)}}function a0(a){return function(c){var u=new l0;for(var f in a)u[f]=a[f];return u.stream=c,u}}function l0(){}function CE(a,c,u){var f=a.clipExtent&&a.clipExtent();return a.scale(150).translate([0,0]),null!=f&&a.clipExtent(null),oc(u,a.stream(Ey)),c(Ey.result()),null!=f&&a.clipExtent(f),a}function c0(a,c,u){return CE(a,function(f){var g=c[1][0]-c[0][0],_=c[1][1]-c[0][1],w=Math.min(g/(f[1][0]-f[0][0]),_/(f[1][1]-f[0][1])),C=+c[0][0]+(g-w*(f[1][0]+f[0][0]))/2,S=+c[0][1]+(_-w*(f[1][1]+f[0][1]))/2;a.scale(150*w).translate([C,S])},u)}function EE(a,c,u){return c0(a,[[0,0],c],u)}function yp(a,c,u){return CE(a,function(f){var g=+c,_=g/(f[1][0]-f[0][0]),w=(g-_*(f[1][0]+f[0][0]))/2,C=-_*f[0][1];a.scale(150*_).translate([w,C])},u)}function sf(a,c,u){return CE(a,function(f){var g=+c,_=g/(f[1][1]-f[0][1]),w=-_*f[0][0],C=(g-_*(f[1][1]+f[0][1]))/2;a.scale(150*_).translate([w,C])},u)}wE.prototype={_radius:4.5,_circle:Iy(4.5),pointRadius:function(a){return(a=+a)!==this._radius&&(this._radius=a,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(a,c){switch(this._point){case 0:this._string.push("M",a,",",c),this._point=1;break;case 1:this._string.push("L",a,",",c);break;default:null==this._circle&&(this._circle=Iy(this._radius)),this._string.push("M",a,",",c,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");return this._string=[],a}return null}},l0.prototype={constructor:l0,point:function(a,c){this.stream.point(a,c)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ME=16,Ay=Ui(30*Ki);function I5(a,c){return+c?function mI(a,c){function u(f,g,_,w,C,S,k,I,N,R,G,at,dt,X){var nt=k-f,yt=I-g,bt=nt*nt+yt*yt;if(bt>4*c&&dt--){var mt=w+R,Gt=C+G,$t=S+at,ye=ho(mt*mt+Gt*Gt+$t*$t),Ce=wo($t/=ye),Be=Un(Un($t)-1)<Xi||Un(_-N)<Xi?(_+N)/2:ba(Gt,mt),ae=a(Be,Ce),se=ae[0],Le=ae[1],De=se-f,Qt=Le-g,le=yt*De-nt*Qt;(le*le/bt>c||Un((nt*De+yt*Qt)/bt-.5)>.3||w*R+C*G+S*at<Ay)&&(u(f,g,_,w,C,S,se,Le,Be,mt/=ye,Gt/=ye,$t,dt,X),X.point(se,Le),u(se,Le,Be,mt,Gt,$t,k,I,N,R,G,at,dt,X))}}return function(f){var g,_,w,C,S,k,I,N,R,G,at,dt,X={point:nt,lineStart:yt,lineEnd:mt,polygonStart:function(){f.polygonStart(),X.lineStart=Gt},polygonEnd:function(){f.polygonEnd(),X.lineStart=yt}};function nt(Ce,Be){Ce=a(Ce,Be),f.point(Ce[0],Ce[1])}function yt(){N=NaN,X.point=bt,f.lineStart()}function bt(Ce,Be){var ae=Nc([Ce,Be]),se=a(Ce,Be);u(N,R,I,G,at,dt,N=se[0],R=se[1],I=Ce,G=ae[0],at=ae[1],dt=ae[2],ME,f),f.point(N,R)}function mt(){X.point=nt,f.lineEnd()}function Gt(){yt(),X.point=$t,X.lineEnd=ye}function $t(Ce,Be){bt(g=Ce,Be),_=N,w=R,C=G,S=at,k=dt,X.point=bt}function ye(){u(N,R,I,G,at,dt,_,w,g,C,S,k,ME,f),X.lineEnd=mt,mt()}return X}}(a,c):function A5(a){return a0({point:function(c,u){c=a(c,u),this.stream.point(c[0],c[1])}})}(a)}var pI=a0({point:function(a,c){this.stream.point(a*Ki,c*Ki)}});function SE(a,c,u,f,g,_){if(!_)return function R5(a,c,u,f,g){function _(w,C){return[c+a*(w*=f),u-a*(C*=g)]}return _.invert=function(w,C){return[(w-c)/a*f,(u-C)/a*g]},_}(a,c,u,f,g);var w=Ui(_),C=Ii(_),S=w*a,k=C*a,I=w/a,N=C/a,R=(C*u-w*c)/a,G=(C*c+w*u)/a;function at(dt,X){return[S*(dt*=f)-k*(X*=g)+c,u-k*dt-S*X]}return at.invert=function(dt,X){return[f*(I*dt-N*X+R),g*(G-N*dt-I*X)]},at}function lc(a){return af(function(){return a})()}function af(a){var c,I,nt,yt,bt,$t,ye,Ce,Be,ae,u=150,f=480,g=250,_=0,w=0,C=0,S=0,k=0,N=0,R=1,G=1,at=null,dt=vy,X=null,mt=jo,Gt=.5;function se(le){return Ce(le[0]*Ki,le[1]*Ki)}function Le(le){return(le=Ce.invert(le[0],le[1]))&&[le[0]*sr,le[1]*sr]}function De(){var le=SE(u,0,0,R,G,N).apply(null,c(_,w)),ce=SE(u,f-le[0],g-le[1],R,G,N);return I=Q_(C,S,k),ye=KT(c,ce),Ce=KT(I,ye),$t=I5(ye,Gt),Qt()}function Qt(){return Be=ae=null,se}return se.stream=function(le){return Be&&ae===le?Be:Be=pI(function O5(a){return a0({point:function(c,u){var f=a(c,u);return this.stream.point(f[0],f[1])}})}(I)(dt($t(mt(ae=le)))))},se.preclip=function(le){return arguments.length?(dt=le,at=void 0,Qt()):dt},se.postclip=function(le){return arguments.length?(mt=le,X=nt=yt=bt=null,Qt()):mt},se.clipAngle=function(le){return arguments.length?(dt=+le?Kh(at=le*Ki):(at=null,vy),Qt()):at*sr},se.clipExtent=function(le){return arguments.length?(mt=null==le?(X=nt=yt=bt=null,jo):e0(X=+le[0][0],nt=+le[0][1],yt=+le[1][0],bt=+le[1][1]),Qt()):null==X?null:[[X,nt],[yt,bt]]},se.scale=function(le){return arguments.length?(u=+le,De()):u},se.translate=function(le){return arguments.length?(f=+le[0],g=+le[1],De()):[f,g]},se.center=function(le){return arguments.length?(_=le[0]%360*Ki,w=le[1]%360*Ki,De()):[_*sr,w*sr]},se.rotate=function(le){return arguments.length?(C=le[0]%360*Ki,S=le[1]%360*Ki,k=le.length>2?le[2]%360*Ki:0,De()):[C*sr,S*sr,k*sr]},se.angle=function(le){return arguments.length?(N=le%360*Ki,De()):N*sr},se.reflectX=function(le){return arguments.length?(R=le?-1:1,De()):R<0},se.reflectY=function(le){return arguments.length?(G=le?-1:1,De()):G<0},se.precision=function(le){return arguments.length?($t=I5(ye,Gt=le*le),Qt()):ho(Gt)},se.fitExtent=function(le,ce){return c0(se,le,ce)},se.fitSize=function(le,ce){return EE(se,le,ce)},se.fitWidth=function(le,ce){return yp(se,le,ce)},se.fitHeight=function(le,ce){return sf(se,le,ce)},function(){return c=a.apply(this,arguments),se.invert=c.invert&&Le,De()}}function kE(a){var c=0,u=Bn/3,f=af(a),g=f(c,u);return g.parallels=function(_){return arguments.length?f(c=_[0]*Ki,u=_[1]*Ki):[c*sr,u*sr]},g}function DE(a,c){var u=Ii(a),f=(u+Ii(c))/2;if(Un(f)<Xi)return function gI(a){var c=Ui(a);function u(f,g){return[f*c,Ii(g)/c]}return u.invert=function(f,g){return[f/c,wo(g*c)]},u}(a);var g=1+u*(2*f-u),_=ho(g)/f;function w(C,S){var k=ho(g-2*f*Ii(S))/f;return[k*Ii(C*=f),_-k*Ui(C)]}return w.invert=function(C,S){var k=_-S,I=ba(C,Un(k))*xo(k);return k*f<0&&(I-=Bn*xo(C)*xo(k)),[I/f,wo((g-(C*C+k*k)*f*f)/(2*f))]},w}function Oy(){return kE(DE).scale(155.424).center([0,33.6442])}function _I(){return Oy().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function P5(){var a,c,f,_,C,S,u=_I(),g=Oy().rotate([154,0]).center([-2,58.5]).parallels([55,65]),w=Oy().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(R,G){S=[R,G]}};function I(R){var G=R[0],at=R[1];return S=null,f.point(G,at),S||(_.point(G,at),S)||(C.point(G,at),S)}function N(){return a=c=null,I}return I.invert=function(R){var G=u.scale(),at=u.translate(),dt=(R[0]-at[0])/G,X=(R[1]-at[1])/G;return(X>=.12&&X<.234&&dt>=-.425&&dt<-.214?g:X>=.166&&X<.234&&dt>=-.214&&dt<-.115?w:u).invert(R)},I.stream=function(R){return a&&c===R?a:a=function d0(a){var c=a.length;return{point:function(u,f){for(var g=-1;++g<c;)a[g].point(u,f)},sphere:function(){for(var u=-1;++u<c;)a[u].sphere()},lineStart:function(){for(var u=-1;++u<c;)a[u].lineStart()},lineEnd:function(){for(var u=-1;++u<c;)a[u].lineEnd()},polygonStart:function(){for(var u=-1;++u<c;)a[u].polygonStart()},polygonEnd:function(){for(var u=-1;++u<c;)a[u].polygonEnd()}}}([u.stream(c=R),g.stream(R),w.stream(R)])},I.precision=function(R){return arguments.length?(u.precision(R),g.precision(R),w.precision(R),N()):u.precision()},I.scale=function(R){return arguments.length?(u.scale(R),g.scale(.35*R),w.scale(R),I.translate(u.translate())):u.scale()},I.translate=function(R){if(!arguments.length)return u.translate();var G=u.scale(),at=+R[0],dt=+R[1];return f=u.translate(R).clipExtent([[at-.455*G,dt-.238*G],[at+.455*G,dt+.238*G]]).stream(k),_=g.translate([at-.307*G,dt+.201*G]).clipExtent([[at-.425*G+Xi,dt+.12*G+Xi],[at-.214*G-Xi,dt+.234*G-Xi]]).stream(k),C=w.translate([at-.205*G,dt+.212*G]).clipExtent([[at-.214*G+Xi,dt+.166*G+Xi],[at-.115*G-Xi,dt+.234*G-Xi]]).stream(k),N()},I.fitExtent=function(R,G){return c0(I,R,G)},I.fitSize=function(R,G){return EE(I,R,G)},I.fitWidth=function(R,G){return yp(I,R,G)},I.fitHeight=function(R,G){return sf(I,R,G)},I.scale(1070)}function bI(a){return function(c,u){var f=Ui(c),g=Ui(u),_=a(f*g);return _===1/0?[2,0]:[_*g*Ii(c),_*Ii(u)]}}function u0(a){return function(c,u){var f=ho(c*c+u*u),g=a(f),_=Ii(g),w=Ui(g);return[ba(c*_,f*w),wo(f&&u*_/f)]}}var TE=bI(function(a){return ho(2/(1+a))});function L5(){return lc(TE).scale(124.75).clipAngle(179.999)}TE.invert=u0(function(a){return 2*wo(a/2)});var IE=bI(function(a){return(a=zT(a))&&a/Ii(a)});function F5(){return lc(IE).scale(79.4188).clipAngle(179.999)}function h0(a,c){return[a,dy(PC((ns+c)/2))]}function vI(){return Ue(h0).scale(961/Ho)}function Ue(a){var C,S,k,c=lc(a),u=c.center,f=c.scale,g=c.translate,_=c.clipExtent,w=null;function I(){var N=Bn*f(),R=c(p5(c.rotate()).invert([0,0]));return _(null==w?[[R[0]-N,R[1]-N],[R[0]+N,R[1]+N]]:a===h0?[[Math.max(R[0]-N,w),C],[Math.min(R[0]+N,S),k]]:[[w,Math.max(R[1]-N,C)],[S,Math.min(R[1]+N,k)]])}return c.scale=function(N){return arguments.length?(f(N),I()):f()},c.translate=function(N){return arguments.length?(g(N),I()):g()},c.center=function(N){return arguments.length?(u(N),I()):u()},c.clipExtent=function(N){return arguments.length?(null==N?w=C=S=k=null:(w=+N[0][0],C=+N[0][1],S=+N[1][0],k=+N[1][1]),I()):null==w?null:[[w,C],[S,k]]},I()}function Ry(a){return PC((ns+a)/2)}function f0(a,c){var u=Ui(a),f=a===c?Ii(a):dy(u/Ui(c))/dy(Ry(c)/Ry(a)),g=u*RC(Ry(a),f)/f;if(!f)return h0;function _(w,C){g>0?C<-ns+Xi&&(C=-ns+Xi):C>ns-Xi&&(C=ns-Xi);var S=g/RC(Ry(C),f);return[S*Ii(f*w),g-S*Ui(f*w)]}return _.invert=function(w,C){var S=g-C,k=xo(f)*ho(w*w+S*S),I=ba(w,Un(S))*xo(S);return S*f<0&&(I-=Bn*xo(w)*xo(S)),[I/f,2*yd(RC(g/k,1/f))-ns]},_}function N5(){return kE(f0).scale(109.5).parallels([30,30])}function m0(a,c){return[a,c]}function B5(){return lc(m0).scale(152.63)}function yI(a,c){var u=Ui(a),f=a===c?Ii(a):(u-Ui(c))/(c-a),g=u/f+a;if(Un(f)<Xi)return m0;function _(w,C){var S=g-C,k=f*w;return[S*Ii(k),g-S*Ui(k)]}return _.invert=function(w,C){var S=g-C,k=ba(w,Un(S))*xo(S);return S*f<0&&(k-=Bn*xo(w)*xo(S)),[k/f,g-xo(f)*ho(w*w+S*S)]},_}function z5(){return kE(yI).scale(131.154).center([0,13.9389])}IE.invert=u0(function(a){return a}),h0.invert=function(a,c){return[a,2*yd(Fa(c))-ns]},m0.invert=m0;var p0=1.340264,g0=-.081106,xp=893e-6,wp=.003796,Py=ho(3)/2;function Ly(a,c){var u=wo(Py*Ii(c)),f=u*u,g=f*f*f;return[a*Ui(u)/(Py*(p0+3*g0*f+g*(7*xp+9*wp*f))),u*(p0+g0*f+g*(xp+wp*f))]}function xI(){return lc(Ly).scale(177.158)}function wI(a,c){var u=Ui(c),f=Ui(a)*u;return[u*Ii(a)/f,Ii(c)/f]}function Fy(){return lc(wI).scale(144.049).clipAngle(60)}function V5(){var w,C,k,I,N,X,nt,a=1,c=0,u=0,f=1,g=1,_=0,S=null,R=1,G=1,at=a0({point:function(mt,Gt){var $t=bt([mt,Gt]);this.stream.point($t[0],$t[1])}}),dt=jo;function yt(){return R=a*f,G=a*g,X=nt=null,bt}function bt(mt){var Gt=mt[0]*R,$t=mt[1]*G;if(_){var ye=$t*w-Gt*C;Gt=Gt*w+$t*C,$t=ye}return[Gt+c,$t+u]}return bt.invert=function(mt){var Gt=mt[0]-c,$t=mt[1]-u;if(_){var ye=$t*w+Gt*C;Gt=Gt*w-$t*C,$t=ye}return[Gt/R,$t/G]},bt.stream=function(mt){return X&&nt===mt?X:X=at(dt(nt=mt))},bt.postclip=function(mt){return arguments.length?(dt=mt,S=k=I=N=null,yt()):dt},bt.clipExtent=function(mt){return arguments.length?(dt=null==mt?(S=k=I=N=null,jo):e0(S=+mt[0][0],k=+mt[0][1],I=+mt[1][0],N=+mt[1][1]),yt()):null==S?null:[[S,k],[I,N]]},bt.scale=function(mt){return arguments.length?(a=+mt,yt()):a},bt.translate=function(mt){return arguments.length?(c=+mt[0],u=+mt[1],yt()):[c,u]},bt.angle=function(mt){return arguments.length?(C=Ii(_=mt%360*Ki),w=Ui(_),yt()):_*sr},bt.reflectX=function(mt){return arguments.length?(f=mt?-1:1,yt()):f<0},bt.reflectY=function(mt){return arguments.length?(g=mt?-1:1,yt()):g<0},bt.fitExtent=function(mt,Gt){return c0(bt,mt,Gt)},bt.fitSize=function(mt,Gt){return EE(bt,mt,Gt)},bt.fitWidth=function(mt,Gt){return yp(bt,mt,Gt)},bt.fitHeight=function(mt,Gt){return sf(bt,mt,Gt)},bt}function AE(a,c){var u=c*c,f=u*u;return[a*(.8707-.131979*u+f*(f*(.003971*u-.001529*f)-.013791)),c*(1.007226+u*(.015085+f*(.028874*u-.044475-.005916*f)))]}function OE(){return lc(AE).scale(175.295)}function RE(a,c){return[Ui(c)*Ii(a),Ii(c)]}function jc(){return lc(RE).scale(249.5).clipAngle(90+Xi)}function lf(a,c){var u=Ui(c),f=1+Ui(a)*u;return[u*Ii(a)/f,Ii(c)/f]}function $o(){return lc(lf).scale(250).clipAngle(142)}function Ed(a,c){return[dy(PC((ns+c)/2)),-a]}function Ny(){var a=Ue(Ed),c=a.center,u=a.rotate;return a.center=function(f){return arguments.length?c([-f[1],f[0]]):[(f=c())[1],-f[0]]},a.rotate=function(f){return arguments.length?u([f[0],f[1],f.length>2?f[2]+90:90]):[(f=u())[0],f[1],f[2]-90]},u([0,0,90]).scale(159.155)}function Tl(a,c){return a.parent===c.parent?1:2}function Cp(a,c){return a+c.x}function Mp(a,c){return Math.max(a,c.y)}function Dp(){var a=Tl,c=1,u=1,f=!1;function g(_){var w,C=0;_.eachAfter(function(R){var G=R.children;G?(R.x=function Ni(a){return a.reduce(Cp,0)/a.length}(G),R.y=function Ep(a){return 1+a.reduce(Mp,0)}(G)):(R.x=w?C+=a(R,w):0,R.y=0,w=R)});var S=function Sp(a){for(var c;c=a.children;)a=c[0];return a}(_),k=function kp(a){for(var c;c=a.children;)a=c[c.length-1];return a}(_),I=S.x-a(S,k)/2,N=k.x+a(k,S)/2;return _.eachAfter(f?function(R){R.x=(R.x-_.x)*c,R.y=(_.y-R.y)*u}:function(R){R.x=(R.x-I)/(N-I)*c,R.y=(1-(_.y?R.y/_.y:1))*u})}return g.separation=function(_){return arguments.length?(a=_,g):a},g.size=function(_){return arguments.length?(f=!1,c=+_[0],u=+_[1],g):f?null:[c,u]},g.nodeSize=function(_){return arguments.length?(f=!0,c=+_[0],u=+_[1],g):f?[c,u]:null},g}function Tp(a){var c=0,u=a.children,f=u&&u.length;if(f)for(;--f>=0;)c+=u[f].value;else c=1;a.value=c}function OI(a,c){a instanceof Map?(a=[void 0,a],void 0===c&&(c=mG)):void 0===c&&(c=G5);for(var f,_,w,C,S,u=new Op(a),g=[u];f=g.pop();)if((w=c(f.data))&&(S=(w=Array.from(w)).length))for(f.children=w,C=S-1;C>=0;--C)g.push(_=w[C]=new Op(w[C])),_.parent=f,_.depth=f.depth+1;return u.eachBefore(W5)}function G5(a){return a.children}function mG(a){return Array.isArray(a)?a[1]:null}function j5(a){void 0!==a.data.value&&(a.value=a.data.value),a.data=a.data.data}function W5(a){var c=0;do{a.height=c}while((a=a.parent)&&a.height<++c)}function Op(a){this.data=a,this.depth=this.height=0,this.parent=null}function By(a){for(var g,_,c=0,u=(a=function Y5(a){for(var u,f,c=a.length;c;)f=Math.random()*c--|0,u=a[c],a[c]=a[f],a[f]=u;return a}(Array.from(a))).length,f=[];c<u;)g=a[c],_&&b0(_,g)?++c:(_=v0(f=_0(f,g)),c=0);return _}function _0(a,c){var u,f;if(zy(c,a))return[c];for(u=0;u<a.length;++u)if(Rp(c,a[u])&&zy(y0(a[u],c),a))return[a[u],c];for(u=0;u<a.length-1;++u)for(f=u+1;f<a.length;++f)if(Rp(y0(a[u],a[f]),c)&&Rp(y0(a[u],c),a[f])&&Rp(y0(a[f],c),a[u])&&zy(Pp(a[u],a[f],c),a))return[a[u],a[f],c];throw new Error}function Rp(a,c){var u=a.r-c.r,f=c.x-a.x,g=c.y-a.y;return u<0||u*u<f*f+g*g}function b0(a,c){var u=a.r-c.r+1e-9*Math.max(a.r,c.r,1),f=c.x-a.x,g=c.y-a.y;return u>0&&u*u>f*f+g*g}function zy(a,c){for(var u=0;u<c.length;++u)if(!b0(a,c[u]))return!1;return!0}function v0(a){switch(a.length){case 1:return function RI(a){return{x:a.x,y:a.y,r:a.r}}(a[0]);case 2:return y0(a[0],a[1]);case 3:return Pp(a[0],a[1],a[2])}}function y0(a,c){var u=a.x,f=a.y,g=a.r,_=c.x,w=c.y,C=c.r,S=_-u,k=w-f,I=C-g,N=Math.sqrt(S*S+k*k);return{x:(u+_+S/N*I)/2,y:(f+w+k/N*I)/2,r:(N+g+C)/2}}function Pp(a,c,u){var f=a.x,g=a.y,_=a.r,w=c.x,C=c.y,S=c.r,k=u.x,I=u.y,N=u.r,R=f-w,G=f-k,at=g-C,dt=g-I,X=S-_,nt=N-_,yt=f*f+g*g-_*_,bt=yt-w*w-C*C+S*S,mt=yt-k*k-I*I+N*N,Gt=G*at-R*dt,$t=(at*mt-dt*bt)/(2*Gt)-f,ye=(dt*X-at*nt)/Gt,Ce=(G*bt-R*mt)/(2*Gt)-g,Be=(R*nt-G*X)/Gt,ae=ye*ye+Be*Be-1,se=2*(_+$t*ye+Ce*Be),Le=$t*$t+Ce*Ce-_*_,De=-(ae?(se+Math.sqrt(se*se-4*ae*Le))/(2*ae):Le/se);return{x:f+$t+ye*De,y:g+Ce+Be*De,r:De}}function PI(a,c,u){var g,_,C,S,f=a.x-c.x,w=a.y-c.y,k=f*f+w*w;k?(_=c.r+u.r,S=a.r+u.r,(_*=_)>(S*=S)?(g=(k+S-_)/(2*k),C=Math.sqrt(Math.max(0,S/k-g*g)),u.x=a.x-g*f-C*w,u.y=a.y-g*w+C*f):(g=(k+_-S)/(2*k),C=Math.sqrt(Math.max(0,_/k-g*g)),u.x=c.x+g*f-C*w,u.y=c.y+g*w+C*f)):(u.x=c.x+u.r,u.y=c.y)}function LI(a,c){var u=a.r+c.r-1e-6,f=c.x-a.x,g=c.y-a.y;return u>0&&u*u>f*f+g*g}function FI(a){var c=a._,u=a.next._,f=c.r+u.r,g=(c.x*u.r+u.x*c.r)/f,_=(c.y*u.r+u.y*c.r)/f;return g*g+_*_}function Vy(a){this._=a,this.next=null,this.previous=null}function Hy(a){if(!(g=(a=function $5(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}(a)).length))return 0;var c,u,f,g,_,w,C,S,k,I,N;if((c=a[0]).x=0,c.y=0,!(g>1))return c.r;if(c.x=-(u=a[1]).r,u.x=c.r,u.y=0,!(g>2))return c.r+u.r;PI(u,c,f=a[2]),c=new Vy(c),u=new Vy(u),f=new Vy(f),c.next=f.previous=u,u.next=c.previous=f,f.next=u.previous=c;t:for(C=3;C<g;++C){PI(c._,u._,f=a[C]),f=new Vy(f),S=u.next,k=c.previous,I=u._.r,N=c._.r;do{if(I<=N){if(LI(S._,f._)){c.next=u=S,u.previous=c,--C;continue t}I+=S._.r,S=S.next}else{if(LI(k._,f._)){(c=k).next=u,u.previous=c,--C;continue t}N+=k._.r,k=k.previous}}while(S!==k.next);for(f.previous=c,f.next=u,c.next=u.previous=u=f,_=FI(c);(f=f.next)!==u;)(w=FI(f))<_&&(c=f,_=w);u=c.next}for(c=[u._],f=u;(f=f.next)!==u;)c.push(f._);for(f=By(c),C=0;C<g;++C)(c=a[C]).x-=f.x,c.y-=f.y;return f.r}function Uy(a){return Hy(a),a}function LE(a){if("function"!=typeof a)throw new Error;return a}function cf(){return 0}function Lp(a){return function(){return a}}function FE(a){return Math.sqrt(a.value)}function Z5(){var a=null,c=1,u=1,f=cf;function g(_){return _.x=c/2,_.y=u/2,a?_.eachBefore(NE(a)).eachAfter(BE(f,.5)).eachBefore(NI(1)):_.eachBefore(NE(FE)).eachAfter(BE(cf,1)).eachAfter(BE(f,_.r/Math.min(c,u))).eachBefore(NI(Math.min(c,u)/(2*_.r))),_}return g.radius=function(_){return arguments.length?(a=function Gy(a){return null==a?null:LE(a)}(_),g):a},g.size=function(_){return arguments.length?(c=+_[0],u=+_[1],g):[c,u]},g.padding=function(_){return arguments.length?(f="function"==typeof _?_:Lp(+_),g):f},g}function NE(a){return function(c){c.children||(c.r=Math.max(0,+a(c)||0))}}function BE(a,c){return function(u){if(f=u.children){var f,g,C,_=f.length,w=a(u)*c||0;if(w)for(g=0;g<_;++g)f[g].r+=w;if(C=Hy(f),w)for(g=0;g<_;++g)f[g].r-=w;u.r=C+w}}}function NI(a){return function(c){var u=c.parent;c.r*=a,u&&(c.x=u.x+a*c.x,c.y=u.y+a*c.y)}}function It(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)}function Fp(a,c,u,f,g){for(var w,_=a.children,C=-1,S=_.length,k=a.value&&(f-c)/a.value;++C<S;)(w=_[C]).y0=u,w.y1=g,w.x0=c,w.x1=c+=w.value*k}function BI(){var a=1,c=1,u=0,f=!1;function g(w){var C=w.height+1;return w.x0=w.y0=u,w.x1=a,w.y1=c/C,w.eachBefore(function _(w,C){return function(S){S.children&&Fp(S,S.x0,w*(S.depth+1)/C,S.x1,w*(S.depth+2)/C);var k=S.x0,I=S.y0,N=S.x1-u,R=S.y1-u;N<k&&(k=N=(k+N)/2),R<I&&(I=R=(I+R)/2),S.x0=k,S.y0=I,S.x1=N,S.y1=R}}(c,C)),f&&w.eachBefore(It),w}return g.round=function(w){return arguments.length?(f=!!w,g):f},g.size=function(w){return arguments.length?(a=+w[0],c=+w[1],g):[a,c]},g.padding=function(w){return arguments.length?(u=+w,g):u},g}Ly.invert=function(a,c){for(var w,u=c,f=u*u,g=f*f*f,_=0;_<12&&(g=(f=(u-=w=(u*(p0+g0*f+g*(xp+wp*f))-c)/(p0+3*g0*f+g*(7*xp+9*wp*f)))*u)*f*f,!(Un(w)<$h));++_);return[Py*a*(p0+3*g0*f+g*(7*xp+9*wp*f))/Ui(u),wo(Ii(u)/Py)]},wI.invert=u0(yd),AE.invert=function(a,c){var g,u=c,f=25;do{var _=u*u,w=_*_;u-=g=(u*(1.007226+_*(.015085+w*(.028874*_-.044475-.005916*w)))-c)/(1.007226+_*(.045255+w*(.259866*_-.311325-.005916*11*w)))}while(Un(g)>Xi&&--f>0);return[a/(.8707+(_=u*u)*(_*(_*_*_*(.003971-.001529*_)-.013791)-.131979)),u]},RE.invert=u0(wo),lf.invert=u0(function(a){return 2*yd(a)}),Ed.invert=function(a,c){return[-c,2*yd(Fa(a))-ns]},Op.prototype=OI.prototype={constructor:Op,count:function Ip(){return this.eachAfter(Tp)},each:function Ap(a,c){let u=-1;for(const f of this)a.call(c,f,++u,this);return this},eachAfter:function EI(a,c){for(var _,w,C,u=this,f=[u],g=[],S=-1;u=f.pop();)if(g.push(u),_=u.children)for(w=0,C=_.length;w<C;++w)f.push(_[w]);for(;u=g.pop();)a.call(c,u,++S,this);return this},eachBefore:function CI(a,c){for(var g,_,u=this,f=[u],w=-1;u=f.pop();)if(a.call(c,u,++w,this),g=u.children)for(_=g.length-1;_>=0;--_)f.push(g[_]);return this},find:function MI(a,c){let u=-1;for(const f of this)if(a.call(c,f,++u,this))return f},sum:function SI(a){return this.eachAfter(function(c){for(var u=+a(c.data)||0,f=c.children,g=f&&f.length;--g>=0;)u+=f[g].value;c.value=u})},sort:function kI(a){return this.eachBefore(function(c){c.children&&c.children.sort(a)})},path:function DI(a){for(var c=this,u=function TI(a,c){if(a===c)return a;var u=a.ancestors(),f=c.ancestors(),g=null;for(a=u.pop(),c=f.pop();a===c;)g=a,a=u.pop(),c=f.pop();return g}(c,a),f=[c];c!==u;)f.push(c=c.parent);for(var g=f.length;a!==u;)f.splice(g,0,a),a=a.parent;return f},ancestors:function II(){for(var a=this,c=[a];a=a.parent;)c.push(a);return c},descendants:function AI(){return Array.from(this)},leaves:function PE(){var a=[];return this.eachBefore(function(c){c.children||a.push(c)}),a},links:function H5(){var a=this,c=[];return a.each(function(u){u!==a&&c.push({source:u.parent,target:u})}),c},copy:function U5(){return OI(this).eachBefore(j5)},[Symbol.iterator]:function*fG(){var c,f,g,_,a=this,u=[a];do{for(c=u.reverse(),u=[];a=c.pop();)if(yield a,f=a.children)for(g=0,_=f.length;g<_;++g)u.push(f[g])}while(u.length)}};var q5={depth:-1},zI={};function X5(a){return a.id}function Yo(a){return a.parentId}function Y(){var a=X5,c=Yo;function u(f){var w,C,S,k,I,N,R,g=Array.from(f),_=g.length,G=new Map;for(C=0;C<_;++C)I=g[C]=new Op(w=g[C]),null!=(N=a(w,C,f))&&(N+="")&&(R=I.id=N,G.set(R,G.has(R)?zI:I)),null!=(N=c(w,C,f))&&(N+="")&&(I.parent=N);for(C=0;C<_;++C)if(N=(I=g[C]).parent){if(!(k=G.get(N)))throw new Error("missing: "+N);if(k===zI)throw new Error("ambiguous: "+N);k.children?k.children.push(I):k.children=[I],I.parent=k}else{if(S)throw new Error("multiple roots");S=I}if(!S)throw new Error("no root");if(S.parent=q5,S.eachBefore(function(at){at.depth=at.parent.depth+1,--_}).eachBefore(W5),S.parent=null,_>0)throw new Error("cycle");return S}return u.id=function(f){return arguments.length?(a=LE(f),u):a},u.parentId=function(f){return arguments.length?(c=LE(f),u):c},u}function zE(a,c){return a.parent===c.parent?1:2}function VE(a){var c=a.children;return c?c[0]:a.t}function O(a){var c=a.children;return c?c[c.length-1]:a.t}function L(a,c,u){var f=u/(c.i-a.i);c.c-=f,c.s+=u,a.c+=f,c.z+=u,c.m+=u}function VI(a,c,u){return a.a.parent===c.parent?a.a:u}function jy(a,c){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=c}function Q5(){var a=zE,c=1,u=1,f=null;function g(k){var I=function K5(a){for(var u,g,_,w,C,c=new jy(a,0),f=[c];u=f.pop();)if(_=u._.children)for(u.children=new Array(C=_.length),w=C-1;w>=0;--w)f.push(g=u.children[w]=new jy(_[w],w)),g.parent=u;return(c.parent=new jy(null,0)).children=[c],c}(k);if(I.eachAfter(_),I.parent.m=-I.z,I.eachBefore(w),f)k.eachBefore(S);else{var N=k,R=k,G=k;k.eachBefore(function(yt){yt.x<N.x&&(N=yt),yt.x>R.x&&(R=yt),yt.depth>G.depth&&(G=yt)});var at=N===R?1:a(N,R)/2,dt=at-N.x,X=c/(R.x+at+dt),nt=u/(G.depth||1);k.eachBefore(function(yt){yt.x=(yt.x+dt)*X,yt.y=yt.depth*nt})}return k}function _(k){var I=k.children,N=k.parent.children,R=k.i?N[k.i-1]:null;if(I){!function te(a){for(var _,c=0,u=0,f=a.children,g=f.length;--g>=0;)(_=f[g]).z+=c,_.m+=c,c+=_.s+(u+=_.c)}(k);var G=(I[0].z+I[I.length-1].z)/2;R?(k.z=R.z+a(k._,R._),k.m=k.z-G):k.z=G}else R&&(k.z=R.z+a(k._,R._));k.parent.A=function C(k,I,N){if(I){for(var mt,R=k,G=k,at=I,dt=R.parent.children[0],X=R.m,nt=G.m,yt=at.m,bt=dt.m;at=O(at),R=VE(R),at&&R;)dt=VE(dt),(G=O(G)).a=k,(mt=at.z+yt-R.z-X+a(at._,R._))>0&&(L(VI(at,k,N),k,mt),X+=mt,nt+=mt),yt+=at.m,X+=R.m,bt+=dt.m,nt+=G.m;at&&!O(G)&&(G.t=at,G.m+=yt-nt),R&&!VE(dt)&&(dt.t=R,dt.m+=X-bt,N=k)}return N}(k,R,k.parent.A||N[0])}function w(k){k._.x=k.z+k.parent.m,k.m+=k.parent.m}function S(k){k.x*=c,k.y=k.depth*u}return g.separation=function(k){return arguments.length?(a=k,g):a},g.size=function(k){return arguments.length?(f=!1,c=+k[0],u=+k[1],g):f?null:[c,u]},g.nodeSize=function(k){return arguments.length?(f=!0,c=+k[0],u=+k[1],g):f?[c,u]:null},g}function Zo(a,c,u,f,g){for(var w,_=a.children,C=-1,S=_.length,k=a.value&&(g-u)/a.value;++C<S;)(w=_[C]).x0=c,w.x1=f,w.y0=u,w.y1=u+=w.value*k}jy.prototype=Object.create(Op.prototype);var za=(1+Math.sqrt(5))/2;function qo(a,c,u,f,g,_){for(var S,k,G,at,X,nt,yt,bt,mt,Gt,$t,w=[],C=c.children,I=0,N=0,R=C.length,dt=c.value;I<R;){G=g-u,at=_-f;do{X=C[N++].value}while(!X&&N<R);for(nt=yt=X,$t=X*X*(Gt=Math.max(at/G,G/at)/(dt*a)),mt=Math.max(yt/$t,$t/nt);N<R;++N){if(X+=k=C[N].value,k<nt&&(nt=k),k>yt&&(yt=k),$t=X*X*Gt,(bt=Math.max(yt/$t,$t/nt))>mt){X-=k;break}mt=bt}w.push(S={value:X,dice:G<at,children:C.slice(I,N)}),S.dice?Fp(S,u,f,g,dt?f+=at*X/dt:_):Zo(S,u,f,dt?u+=G*X/dt:g,_),dt-=X,I=N}return w}const HE=function a(c){function u(f,g,_,w,C){qo(c,f,g,_,w,C)}return u.ratio=function(f){return a((f=+f)>1?f:1)},u}(za);function J5(){var a=HE,c=!1,u=1,f=1,g=[0],_=cf,w=cf,C=cf,S=cf,k=cf;function I(R){return R.x0=R.y0=0,R.x1=u,R.y1=f,R.eachBefore(N),g=[0],c&&R.eachBefore(It),R}function N(R){var G=g[R.depth],at=R.x0+G,dt=R.y0+G,X=R.x1-G,nt=R.y1-G;X<at&&(at=X=(at+X)/2),nt<dt&&(dt=nt=(dt+nt)/2),R.x0=at,R.y0=dt,R.x1=X,R.y1=nt,R.children&&(G=g[R.depth+1]=_(R)/2,at+=k(R)-G,dt+=w(R)-G,(X-=C(R)-G)<at&&(at=X=(at+X)/2),(nt-=S(R)-G)<dt&&(dt=nt=(dt+nt)/2),a(R,at,dt,X,nt))}return I.round=function(R){return arguments.length?(c=!!R,I):c},I.size=function(R){return arguments.length?(u=+R[0],f=+R[1],I):[u,f]},I.tile=function(R){return arguments.length?(a=LE(R),I):a},I.padding=function(R){return arguments.length?I.paddingInner(R).paddingOuter(R):I.paddingInner()},I.paddingInner=function(R){return arguments.length?(_="function"==typeof R?R:Lp(+R),I):_},I.paddingOuter=function(R){return arguments.length?I.paddingTop(R).paddingRight(R).paddingBottom(R).paddingLeft(R):I.paddingTop()},I.paddingTop=function(R){return arguments.length?(w="function"==typeof R?R:Lp(+R),I):w},I.paddingRight=function(R){return arguments.length?(C="function"==typeof R?R:Lp(+R),I):C},I.paddingBottom=function(R){return arguments.length?(S="function"==typeof R?R:Lp(+R),I):S},I.paddingLeft=function(R){return arguments.length?(k="function"==typeof R?R:Lp(+R),I):k},I}function t8(a,c,u,f,g){var w,S,_=a.children,C=_.length,k=new Array(C+1);for(k[0]=S=w=0;w<C;++w)k[w+1]=S+=_[w].value;!function I(N,R,G,at,dt,X,nt){if(N>=R-1){var yt=_[N];return yt.x0=at,yt.y0=dt,yt.x1=X,void(yt.y1=nt)}for(var bt=k[N],mt=G/2+bt,Gt=N+1,$t=R-1;Gt<$t;){var ye=Gt+$t>>>1;k[ye]<mt?Gt=ye+1:$t=ye}mt-k[Gt-1]<k[Gt]-mt&&N+1<Gt&&--Gt;var Ce=k[Gt]-bt,Be=G-Ce;if(X-at>nt-dt){var ae=G?(at*Be+X*Ce)/G:X;I(N,Gt,Ce,at,dt,ae,nt),I(Gt,R,Be,ae,dt,X,nt)}else{var se=G?(dt*Be+nt*Ce)/G:nt;I(N,Gt,Ce,at,dt,X,se),I(Gt,R,Be,at,se,X,nt)}}(0,C,a.value,c,u,f,g)}function Ai(a,c,u,f,g){(1&a.depth?Zo:Fp)(a,c,u,f,g)}const x0=function a(c){function u(f,g,_,w,C){if((S=f._squarify)&&S.ratio===c)for(var S,k,I,N,G,R=-1,at=S.length,dt=f.value;++R<at;){for(I=(k=S[R]).children,N=k.value=0,G=I.length;N<G;++N)k.value+=I[N].value;k.dice?Fp(k,g,_,w,dt?_+=(C-_)*k.value/dt:C):Zo(k,g,_,dt?g+=(w-g)*k.value/dt:w,C),dt-=k.value}else f._squarify=S=qo(c,f,g,_,w,C),S.ratio=c}return u.ratio=function(f){return a((f=+f)>1?f:1)},u}(za);function HI(a){var c=a.length;return function(u){return a[Math.max(0,Math.min(c-1,Math.floor(u*c)))]}}function fe(a,c){var u=nc(+a,+c);return function(f){var g=u(f);return g-360*Math.floor(g/360)}}function df(a,c){return a=+a,c=+c,function(u){return Math.round(a*(1-u)+c*u)}}function UE(a){return((a=Math.exp(a))+1/a)/2}const Mt=function a(c,u,f){function g(_,w){var X,nt,C=_[0],S=_[1],k=_[2],R=w[2],G=w[0]-C,at=w[1]-S,dt=G*G+at*at;if(dt<1e-12)nt=Math.log(R/k)/c,X=function(ye){return[C+ye*G,S+ye*at,k*Math.exp(c*ye*nt)]};else{var yt=Math.sqrt(dt),bt=(R*R-k*k+f*dt)/(2*k*u*yt),mt=(R*R-k*k-f*dt)/(2*R*u*yt),Gt=Math.log(Math.sqrt(bt*bt+1)-bt),$t=Math.log(Math.sqrt(mt*mt+1)-mt);nt=($t-Gt)/c,X=function(ye){var Ce=ye*nt,Be=UE(Gt),ae=k/(u*yt)*(Be*function GI(a){return((a=Math.exp(2*a))-1)/(a+1)}(c*Ce+Gt)-function UI(a){return((a=Math.exp(a))-1/a)/2}(Gt));return[C+ae*G,S+ae*at,k*Be/UE(c*Ce+Gt)]}}return X.duration=1e3*nt*c/Math.SQRT2,X}return g.rho=function(_){var w=Math.max(.001,+_),C=w*w;return a(w,C,C*C)},g}(Math.SQRT2,2,4);function jI(a){return function(c,u){var f=a((c=M1(c)).h,(u=M1(u)).h),g=Qs(c.s,u.s),_=Qs(c.l,u.l),w=Qs(c.opacity,u.opacity);return function(C){return c.h=f(C),c.s=g(C),c.l=_(C),c.opacity=w(C),c+""}}}const jn=jI(nc);var Ei=jI(Qs);function Or(a,c){var u=Qs((a=w_(a)).l,(c=w_(c)).l),f=Qs(a.a,c.a),g=Qs(a.b,c.b),_=Qs(a.opacity,c.opacity);return function(w){return a.l=u(w),a.a=f(w),a.b=g(w),a.opacity=_(w),a+""}}function w0(a){return function(c,u){var f=a((c=qm(c)).h,(u=qm(u)).h),g=Qs(c.c,u.c),_=Qs(c.l,u.l),w=Qs(c.opacity,u.opacity);return function(C){return c.h=f(C),c.c=g(C),c.l=_(C),c.opacity=w(C),c+""}}}const WI=w0(nc);var $I=w0(Qs);function GE(a){return function c(u){function f(g,_){var w=a((g=Hv(g)).h,(_=Hv(_)).h),C=Qs(g.s,_.s),S=Qs(g.l,_.l),k=Qs(g.opacity,_.opacity);return function(I){return g.h=w(I),g.s=C(I),g.l=S(Math.pow(I,u)),g.opacity=k(I),g+""}}return u=+u,f.gamma=c,f}(1)}const YI=GE(nc);var ZI=GE(Qs);function jE(a,c){void 0===c&&(c=a,a=Ja);for(var u=0,f=c.length-1,g=c[0],_=new Array(f<0?0:f);u<f;)_[u]=a(g,g=c[++u]);return function(w){var C=Math.max(0,Math.min(f-1,Math.floor(w*=f)));return _[C](w-C)}}function qI(a,c){for(var u=new Array(c),f=0;f<c;++f)u[f]=a(f/(c-1));return u}function XI(a){for(var f,c=-1,u=a.length,g=a[u-1],_=0;++c<u;)_+=(f=g)[1]*(g=a[c])[0]-f[0]*g[1];return _/2}function Wy(a){for(var _,C,c=-1,u=a.length,f=0,g=0,w=a[u-1],S=0;++c<u;)S+=C=(_=w)[0]*(w=a[c])[1]-w[0]*_[1],f+=(_[0]+w[0])*C,g+=(_[1]+w[1])*C;return[f/(S*=3),g/S]}function Pu(a,c,u){return(c[0]-a[0])*(u[1]-a[1])-(c[1]-a[1])*(u[0]-a[0])}function i8(a,c){return a[0]-c[0]||a[1]-c[1]}function KI(a){const c=a.length,u=[0,1];let g,f=2;for(g=2;g<c;++g){for(;f>1&&Pu(a[u[f-2]],a[u[f-1]],a[g])<=0;)--f;u[f++]=g}return u.slice(0,f)}function WE(a){if((u=a.length)<3)return null;var c,u,f=new Array(u),g=new Array(u);for(c=0;c<u;++c)f[c]=[+a[c][0],+a[c][1],c];for(f.sort(i8),c=0;c<u;++c)g[c]=[f[c][0],-f[c][1]];var _=KI(f),w=KI(g),C=w[0]===_[0],S=w[w.length-1]===_[_.length-1],k=[];for(c=_.length-1;c>=0;--c)k.push(a[f[_[c]][2]]);for(c=+C;c<w.length-S;++c)k.push(a[f[w[c]][2]]);return k}function uf(a,c){for(var S,k,u=a.length,f=a[u-1],g=c[0],_=c[1],w=f[0],C=f[1],I=!1,N=0;N<u;++N)S=(f=a[N])[0],(k=f[1])>_!=C>_&&g<(w-S)*(_-k)/(C-k)+S&&(I=!I),w=S,C=k;return I}function $E(a){for(var g,_,c=-1,u=a.length,f=a[u-1],w=f[0],C=f[1],S=0;++c<u;)g=w,_=C,g-=w=(f=a[c])[0],_-=C=f[1],S+=Math.hypot(g,_);return S}const Co=Math.random,YE=function a(c){function u(f,g){return f=null==f?0:+f,g=null==g?1:+g,1===arguments.length?(g=f,f=0):g-=f,function(){return c()*g+f}}return u.source=a,u}(Co),pG=function a(c){function u(f,g){return arguments.length<2&&(g=f,f=0),f=Math.floor(f),g=Math.floor(g)-f,function(){return Math.floor(c()*g+f)}}return u.source=a,u}(Co),QI=function a(c){function u(f,g){var _,w;return f=null==f?0:+f,g=null==g?1:+g,function(){var C;if(null!=_)C=_,_=null;else do{_=2*c()-1,C=2*c()-1,w=_*_+C*C}while(!w||w>1);return f+g*C*Math.sqrt(-2*Math.log(w)/w)}}return u.source=a,u}(Co),n8=function a(c){var u=QI.source(c);function f(){var g=u.apply(this,arguments);return function(){return Math.exp(g())}}return f.source=a,f}(Co),JI=function a(c){function u(f){return(f=+f)<=0?()=>0:function(){for(var g=0,_=f;_>1;--_)g+=c();return g+_*c()}}return u.source=a,u}(Co),tA=function a(c){var u=JI.source(c);function f(g){if(0==(g=+g))return c;var _=u(g);return function(){return _()/g}}return f.source=a,f}(Co),r8=function a(c){function u(f){return function(){return-Math.log1p(-c())/f}}return u.source=a,u}(Co),eo=function a(c){function u(f){if((f=+f)<0)throw new RangeError("invalid alpha");return f=1/-f,function(){return Math.pow(1-c(),f)}}return u.source=a,u}(Co),eA=function a(c){function u(f){if((f=+f)<0||f>1)throw new RangeError("invalid p");return function(){return Math.floor(c()+f)}}return u.source=a,u}(Co),iA=function a(c){function u(f){if((f=+f)<0||f>1)throw new RangeError("invalid p");return 0===f?()=>1/0:1===f?()=>1:(f=Math.log1p(-f),function(){return 1+Math.floor(Math.log1p(-c())/f)})}return u.source=a,u}(Co),ZE=function a(c){var u=QI.source(c)();function f(g,_){if((g=+g)<0)throw new RangeError("invalid k");if(0===g)return()=>0;if(_=null==_?1:+_,1===g)return()=>-Math.log1p(-c())*_;var w=(g<1?g+1:g)-1/3,C=1/(3*Math.sqrt(w)),S=g<1?()=>Math.pow(c(),1/g):()=>1;return function(){do{do{var k=u(),I=1+C*k}while(I<=0);I*=I*I;var N=1-c()}while(N>=1-.0331*k*k*k*k&&Math.log(N)>=.5*k*k+w*(1-I+Math.log(I)));return w*I*S()*_}}return f.source=a,f}(Co),qE=function a(c){var u=ZE.source(c);function f(g,_){var w=u(g),C=u(_);return function(){var S=w();return 0===S?0:S/(S+C())}}return f.source=a,f}(Co),nA=function a(c){var u=iA.source(c),f=qE.source(c);function g(_,w){return _=+_,(w=+w)>=1?()=>_:w<=0?()=>0:function(){for(var C=0,S=_,k=w;S*k>16&&S*(1-k)>16;){var I=Math.floor((S+1)*k),N=f(I,S-I+1)();N<=k?(C+=I,S-=I,k=(k-N)/(1-N)):(S=I-1,k/=N)}for(var R=k<.5,at=u(R?k:1-k),dt=at(),X=0;dt<=S;++X)dt+=at();return C+(R?X:S-X)}}return g.source=a,g}(Co),rA=function a(c){function u(f,g,_){var w;return 0==(f=+f)?w=C=>-Math.log(C):(f=1/f,w=C=>Math.pow(C,f)),g=null==g?0:+g,_=null==_?1:+_,function(){return g+_*w(-Math.log1p(-c()))}}return u.source=a,u}(Co),sA=function a(c){function u(f,g){return f=null==f?0:+f,g=null==g?1:+g,function(){return f+g*Math.tan(Math.PI*c())}}return u.source=a,u}(Co),Np=function a(c){function u(f,g){return f=null==f?0:+f,g=null==g?1:+g,function(){var _=c();return f+g*Math.log(_/(1-_))}}return u.source=a,u}(Co),s8=function a(c){var u=ZE.source(c),f=nA.source(c);function g(_){return function(){for(var w=0,C=_;C>16;){var S=Math.floor(.875*C),k=u(S)();if(k>C)return w+f(S-1,C/k)();w+=S,C-=k}for(var I=-Math.log1p(-c()),N=0;I<=C;++N)I-=Math.log1p(-c());return w+N}}return g.source=a,g}(Co),o8=1664525,oA=1013904223,aA=1/4294967296;function lA(a=Math.random()){let c=0|(0<=a&&a<1?a/aA:Math.abs(a));return()=>(c=o8*c+oA|0,aA*(c>>>0))}function cc(a,c){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(c).domain(a)}return this}function Wr(a,c){switch(arguments.length){case 0:break;case 1:"function"==typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"==typeof c?this.interpolator(c):this.range(c)}return this}const Vi=Symbol("implicit");function ol(){var a=new Map,c=[],u=[],f=Vi;function g(_){var w=_+"",C=a.get(w);if(!C){if(f!==Vi)return f;a.set(w,C=c.push(_))}return u[(C-1)%u.length]}return g.domain=function(_){if(!arguments.length)return c.slice();c=[],a=new Map;for(const w of _){const C=w+"";a.has(C)||a.set(C,c.push(w))}return g},g.range=function(_){return arguments.length?(u=Array.from(_),g):u.slice()},g.unknown=function(_){return arguments.length?(f=_,g):f},g.copy=function(){return ol(c,u).unknown(f)},cc.apply(g,arguments),g}function XE(){var _,w,a=ol().unknown(void 0),c=a.domain,u=a.range,f=0,g=1,C=!1,S=0,k=0,I=.5;function N(){var R=c().length,G=g<f,at=G?g:f,dt=G?f:g;_=(dt-at)/Math.max(1,R-S+2*k),C&&(_=Math.floor(_)),at+=(dt-at-_*(R-S))*I,w=_*(1-S),C&&(at=Math.round(at),w=Math.round(w));var X=Oo(R).map(function(nt){return at+_*nt});return u(G?X.reverse():X)}return delete a.unknown,a.domain=function(R){return arguments.length?(c(R),N()):c()},a.range=function(R){return arguments.length?([f,g]=R,f=+f,g=+g,N()):[f,g]},a.rangeRound=function(R){return[f,g]=R,f=+f,g=+g,C=!0,N()},a.bandwidth=function(){return w},a.step=function(){return _},a.round=function(R){return arguments.length?(C=!!R,N()):C},a.padding=function(R){return arguments.length?(S=Math.min(1,k=+R),N()):S},a.paddingInner=function(R){return arguments.length?(S=Math.min(1,R),N()):S},a.paddingOuter=function(R){return arguments.length?(k=+R,N()):k},a.align=function(R){return arguments.length?(I=Math.max(0,Math.min(1,R)),N()):I},a.copy=function(){return XE(c(),[f,g]).round(C).paddingInner(S).paddingOuter(k).align(I)},cc.apply(N(),arguments)}function Yn(a){var c=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return Yn(c())},a}function Wc(){return Yn(XE.apply(null,arguments).paddingInner(1))}function Va(a){return+a}var KE=[0,1];function Xo(a){return a}function QE(a,c){return(c-=a=+a)?function(u){return(u-a)/c}:function dc(a){return function(){return a}}(isNaN(c)?NaN:.5)}function l8(a,c,u){var f=a[0],g=a[1],_=c[0],w=c[1];return g<f?(f=QE(g,f),_=u(w,_)):(f=QE(f,g),_=u(_,w)),function(C){return _(f(C))}}function c8(a,c,u){var f=Math.min(a.length,c.length)-1,g=new Array(f),_=new Array(f),w=-1;for(a[f]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());++w<f;)g[w]=QE(a[w],a[w+1]),_[w]=u(c[w],c[w+1]);return function(C){var S=ge(a,C,1,f)-1;return _[S](g[S](C))}}function hf(a,c){return c.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Lu(){var f,g,_,C,S,k,a=KE,c=KE,u=Ja,w=Xo;function I(){var R=Math.min(a.length,c.length);return w!==Xo&&(w=function a8(a,c){var u;return a>c&&(u=a,a=c,c=u),function(f){return Math.max(a,Math.min(c,f))}}(a[0],a[R-1])),C=R>2?c8:l8,S=k=null,N}function N(R){return null==R||isNaN(R=+R)?_:(S||(S=C(a.map(f),c,u)))(f(w(R)))}return N.invert=function(R){return w(g((k||(k=C(c,a.map(f),ha)))(R)))},N.domain=function(R){return arguments.length?(a=Array.from(R,Va),I()):a.slice()},N.range=function(R){return arguments.length?(c=Array.from(R),I()):c.slice()},N.rangeRound=function(R){return c=Array.from(R),u=df,I()},N.clamp=function(R){return arguments.length?(w=!!R||Xo,I()):w!==Xo},N.interpolate=function(R){return arguments.length?(u=R,I()):u},N.unknown=function(R){return arguments.length?(_=R,N):_},function(R,G){return f=R,g=G,I()}}function JE(){return Lu()(Xo,Xo)}function tM(a,c,u,f){var _,g=qa(a,c,u);switch((f=L_(f??",f")).type){case"s":var w=Math.max(Math.abs(a),Math.abs(c));return null==f.precision&&!isNaN(_=AC(g,w))&&(f.precision=_),N_(f,w);case"":case"e":case"g":case"p":case"r":null==f.precision&&!isNaN(_=B_(g,Math.max(Math.abs(a),Math.abs(c))))&&(f.precision=_-("e"===f.type));break;case"f":case"%":null==f.precision&&!isNaN(_=IC(g))&&(f.precision=_-2*("%"===f.type))}return sp(f)}function Fu(a){var c=a.domain;return a.ticks=function(u){var f=c();return In(f[0],f[f.length-1],u??10)},a.tickFormat=function(u,f){var g=c();return tM(g[0],g[g.length-1],u??10,f)},a.nice=function(u){null==u&&(u=10);var S,k,f=c(),g=0,_=f.length-1,w=f[g],C=f[_],I=10;for(C<w&&(k=w,w=C,C=k,k=g,g=_,_=k);I-- >0;){if((k=zs(w,C,u))===S)return f[g]=w,f[_]=C,c(f);if(k>0)w=Math.floor(w/k)*k,C=Math.ceil(C/k)*k;else{if(!(k<0))break;w=Math.ceil(w*k)/k,C=Math.floor(C*k)/k}S=k}return a},a}function cA(){var a=JE();return a.copy=function(){return hf(a,cA())},cc.apply(a,arguments),Fu(a)}function eM(a){var c;function u(f){return null==f||isNaN(f=+f)?c:f}return u.invert=u,u.domain=u.range=function(f){return arguments.length?(a=Array.from(f,Va),u):a.slice()},u.unknown=function(f){return arguments.length?(c=f,u):c},u.copy=function(){return eM(a).unknown(c)},a=arguments.length?Array.from(a,Va):[0,1],Fu(u)}function iM(a,c){var w,u=0,f=(a=a.slice()).length-1,g=a[u],_=a[f];return _<g&&(w=u,u=f,f=w,w=g,g=_,_=w),a[u]=c.floor(g),a[f]=c.ceil(_),a}function C0(a){return Math.log(a)}function dA(a){return Math.exp(a)}function uA(a){return-Math.log(-a)}function tt(a){return-Math.exp(-a)}function hA(a){return isFinite(a)?+("1e"+a):a<0?0:a}function Mi(a){return function(c){return-a(-c)}}function mi(a){var g,_,c=a(C0,dA),u=c.domain,f=10;function w(){return g=function u8(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(c){return Math.log(c)/a})}(f),_=function d8(a){return 10===a?hA:a===Math.E?Math.exp:function(c){return Math.pow(a,c)}}(f),u()[0]<0?(g=Mi(g),_=Mi(_),a(uA,tt)):a(C0,dA),c}return c.base=function(C){return arguments.length?(f=+C,w()):f},c.domain=function(C){return arguments.length?(u(C),w()):u()},c.ticks=function(C){var N,S=u(),k=S[0],I=S[S.length-1];(N=I<k)&&(R=k,k=I,I=R);var at,dt,X,R=g(k),G=g(I),nt=null==C?10:+C,yt=[];if(!(f%1)&&G-R<nt){if(R=Math.floor(R),G=Math.ceil(G),k>0){for(;R<=G;++R)for(dt=1,at=_(R);dt<f;++dt)if(!((X=at*dt)<k)){if(X>I)break;yt.push(X)}}else for(;R<=G;++R)for(dt=f-1,at=_(R);dt>=1;--dt)if(!((X=at*dt)<k)){if(X>I)break;yt.push(X)}2*yt.length<nt&&(yt=In(k,I,nt))}else yt=In(R,G,Math.min(G-R,nt)).map(_);return N?yt.reverse():yt},c.tickFormat=function(C,S){if(null==S&&(S=10===f?".0e":","),"function"!=typeof S&&(S=sp(S)),C===1/0)return S;null==C&&(C=10);var k=Math.max(1,f*C/c.ticks().length);return function(I){var N=I/_(Math.round(g(I)));return N*f<f-.5&&(N*=f),N<=k?S(I):""}},c.nice=function(){return u(iM(u(),{floor:function(C){return _(Math.floor(g(C)))},ceil:function(C){return _(Math.ceil(g(C)))}}))},c}function Ko(){var a=mi(Lu()).domain([1,10]);return a.copy=function(){return hf(a,Ko()).base(a.base())},cc.apply(a,arguments),a}function ff(a){return function(c){return Math.sign(c)*Math.log1p(Math.abs(c/a))}}function nM(a){return function(c){return Math.sign(c)*Math.expm1(Math.abs(c))*a}}function $y(a){var c=1,u=a(ff(c),nM(c));return u.constant=function(f){return arguments.length?a(ff(c=+f),nM(c)):c},Fu(u)}function rM(){var a=$y(Lu());return a.copy=function(){return hf(a,rM()).constant(a.constant())},cc.apply(a,arguments)}function sM(a){return function(c){return c<0?-Math.pow(-c,a):Math.pow(c,a)}}function fA(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function mA(a){return a<0?-a*a:a*a}function Yy(a){var c=a(Xo,Xo),u=1;return c.exponent=function(g){return arguments.length?(u=+g,function f(){return 1===u?a(Xo,Xo):.5===u?a(fA,mA):a(sM(u),sM(1/u))}()):u},Fu(c)}function oM(){var a=Yy(Lu());return a.copy=function(){return hf(a,oM()).exponent(a.exponent())},cc.apply(a,arguments),a}function h8(){return oM.apply(null,arguments).exponent(.5)}function pA(a){return Math.sign(a)*a*a}function gA(){var f,a=JE(),c=[0,1],u=!1;function g(_){var w=function f8(a){return Math.sign(a)*Math.sqrt(Math.abs(a))}(a(_));return isNaN(w)?f:u?Math.round(w):w}return g.invert=function(_){return a.invert(pA(_))},g.domain=function(_){return arguments.length?(a.domain(_),g):a.domain()},g.range=function(_){return arguments.length?(a.range((c=Array.from(_,Va)).map(pA)),g):c.slice()},g.rangeRound=function(_){return g.range(_).round(!0)},g.round=function(_){return arguments.length?(u=!!_,g):u},g.clamp=function(_){return arguments.length?(a.clamp(_),g):a.clamp()},g.unknown=function(_){return arguments.length?(f=_,g):f},g.copy=function(){return gA(a.domain(),c).round(u).clamp(a.clamp()).unknown(f)},cc.apply(g,arguments),Fu(g)}function _A(){var f,a=[],c=[],u=[];function g(){var w=0,C=Math.max(1,c.length);for(u=new Array(C-1);++w<C;)u[w-1]=Yb(a,w/C);return _}function _(w){return null==w||isNaN(w=+w)?f:c[ge(u,w)]}return _.invertExtent=function(w){var C=c.indexOf(w);return C<0?[NaN,NaN]:[C>0?u[C-1]:a[0],C<u.length?u[C]:a[a.length-1]]},_.domain=function(w){if(!arguments.length)return a.slice();a=[];for(let C of w)null!=C&&!isNaN(C=+C)&&a.push(C);return a.sort(_t),g()},_.range=function(w){return arguments.length?(c=Array.from(w),g()):c.slice()},_.unknown=function(w){return arguments.length?(f=w,_):f},_.quantiles=function(){return u.slice()},_.copy=function(){return _A().domain(a).range(c).unknown(f)},cc.apply(_,arguments)}function bA(){var _,a=0,c=1,u=1,f=[.5],g=[0,1];function w(S){return null!=S&&S<=S?g[ge(f,S,0,u)]:_}function C(){var S=-1;for(f=new Array(u);++S<u;)f[S]=((S+1)*c-(S-u)*a)/(u+1);return w}return w.domain=function(S){return arguments.length?([a,c]=S,a=+a,c=+c,C()):[a,c]},w.range=function(S){return arguments.length?(u=(g=Array.from(S)).length-1,C()):g.slice()},w.invertExtent=function(S){var k=g.indexOf(S);return k<0?[NaN,NaN]:k<1?[a,f[0]]:k>=u?[f[u-1],c]:[f[k-1],f[k]]},w.unknown=function(S){return arguments.length&&(_=S),w},w.thresholds=function(){return f.slice()},w.copy=function(){return bA().domain([a,c]).range(g).unknown(_)},cc.apply(Fu(w),arguments)}function vA(){var u,a=[.5],c=[0,1],f=1;function g(_){return null!=_&&_<=_?c[ge(a,_,0,f)]:u}return g.domain=function(_){return arguments.length?(a=Array.from(_),f=Math.min(a.length,c.length-1),g):a.slice()},g.range=function(_){return arguments.length?(c=Array.from(_),f=Math.min(a.length,c.length-1),g):c.slice()},g.invertExtent=function(_){var w=c.indexOf(_);return[a[w-1],a[w]]},g.unknown=function(_){return arguments.length?(u=_,g):u},g.copy=function(){return vA().domain(a).range(c).unknown(u)},cc.apply(g,arguments)}const Md=1e3,Il=6e4,Sd=60*Il,mf=24*Sd,aM=7*mf,yA=30*mf,lM=365*mf;var cM=new Date,dM=new Date;function Ws(a,c,u,f){function g(_){return a(_=0===arguments.length?new Date:new Date(+_)),_}return g.floor=function(_){return a(_=new Date(+_)),_},g.ceil=function(_){return a(_=new Date(_-1)),c(_,1),a(_),_},g.round=function(_){var w=g(_),C=g.ceil(_);return _-w<C-_?w:C},g.offset=function(_,w){return c(_=new Date(+_),null==w?1:Math.floor(w)),_},g.range=function(_,w,C){var k,S=[];if(_=g.ceil(_),C=null==C?1:Math.floor(C),!(_<w&&C>0))return S;do{S.push(k=new Date(+_)),c(_,C),a(_)}while(k<_&&_<w);return S},g.filter=function(_){return Ws(function(w){if(w>=w)for(;a(w),!_(w);)w.setTime(w-1)},function(w,C){if(w>=w)if(C<0)for(;++C<=0;)for(;c(w,-1),!_(w););else for(;--C>=0;)for(;c(w,1),!_(w););})},u&&(g.count=function(_,w){return cM.setTime(+_),dM.setTime(+w),a(cM),a(dM),Math.floor(u(cM,dM))},g.every=function(_){return _=Math.floor(_),isFinite(_)&&_>0?_>1?g.filter(f?function(w){return f(w)%_==0}:function(w){return g.count(0,w)%_==0}):g:null}),g}var E0=Ws(function(){},function(a,c){a.setTime(+a+c)},function(a,c){return c-a});E0.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?Ws(function(c){c.setTime(Math.floor(c/a)*a)},function(c,u){c.setTime(+c+u*a)},function(c,u){return(u-c)/a}):E0:null};const Zy=E0;var uM=E0.range,hM=Ws(function(a){a.setTime(a-a.getMilliseconds())},function(a,c){a.setTime(+a+c*Md)},function(a,c){return(c-a)/Md},function(a){return a.getUTCSeconds()});const kd=hM;var fM=hM.range,mM=Ws(function(a){a.setTime(a-a.getMilliseconds()-a.getSeconds()*Md)},function(a,c){a.setTime(+a+c*Il)},function(a,c){return(c-a)/Il},function(a){return a.getMinutes()});const qy=mM;var $c=mM.range,M0=Ws(function(a){a.setTime(a-a.getMilliseconds()-a.getSeconds()*Md-a.getMinutes()*Il)},function(a,c){a.setTime(+a+c*Sd)},function(a,c){return(c-a)/Sd},function(a){return a.getHours()});const Dd=M0;var m8=M0.range,xA=Ws(a=>a.setHours(0,0,0,0),(a,c)=>a.setDate(a.getDate()+c),(a,c)=>(c-a-(c.getTimezoneOffset()-a.getTimezoneOffset())*Il)/mf,a=>a.getDate()-1);const Yc=xA;var gG=xA.range;function Rs(a){return Ws(function(c){c.setDate(c.getDate()-(c.getDay()+7-a)%7),c.setHours(0,0,0,0)},function(c,u){c.setDate(c.getDate()+7*u)},function(c,u){return(u-c-(u.getTimezoneOffset()-c.getTimezoneOffset())*Il)/aM})}var S0=Rs(0),Bp=Rs(1),pM=Rs(2),p8=Rs(3),lr=Rs(4),wA=Rs(5),CA=Rs(6),EA=S0.range,zp=Bp.range,g8=pM.range,Xy=p8.range,Ky=lr.range,Ha=wA.range,_G=CA.range,gM=Ws(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,c){a.setMonth(a.getMonth()+c)},function(a,c){return c.getMonth()-a.getMonth()+12*(c.getFullYear()-a.getFullYear())},function(a){return a.getMonth()});const Qy=gM;var _8=gM.range,Jy=Ws(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,c){a.setFullYear(a.getFullYear()+c)},function(a,c){return c.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});Jy.every=function(a){return isFinite(a=Math.floor(a))&&a>0?Ws(function(c){c.setFullYear(Math.floor(c.getFullYear()/a)*a),c.setMonth(0,1),c.setHours(0,0,0,0)},function(c,u){c.setFullYear(c.getFullYear()+u*a)}):null};const Td=Jy;var MA=Jy.range,_M=Ws(function(a){a.setUTCSeconds(0,0)},function(a,c){a.setTime(+a+c*Il)},function(a,c){return(c-a)/Il},function(a){return a.getUTCMinutes()});const bM=_M;var b8=_M.range,SA=Ws(function(a){a.setUTCMinutes(0,0,0)},function(a,c){a.setTime(+a+c*Sd)},function(a,c){return(c-a)/Sd},function(a){return a.getUTCHours()});const pf=SA;var v8=SA.range,kA=Ws(function(a){a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCDate(a.getUTCDate()+c)},function(a,c){return(c-a)/mf},function(a){return a.getUTCDate()-1});const k0=kA;var tx=kA.range;function Nu(a){return Ws(function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+7-a)%7),c.setUTCHours(0,0,0,0)},function(c,u){c.setUTCDate(c.getUTCDate()+7*u)},function(c,u){return(u-c)/aM})}var gf=Nu(0),Vp=Nu(1),DA=Nu(2),Hp=Nu(3),uc=Nu(4),TA=Nu(5),IA=Nu(6),AA=gf.range,OA=Vp.range,RA=DA.range,PA=Hp.range,y8=uc.range,LA=TA.range,x8=IA.range,FA=Ws(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCMonth(a.getUTCMonth()+c)},function(a,c){return c.getUTCMonth()-a.getUTCMonth()+12*(c.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()});const NA=FA;var bG=FA.range,BA=Ws(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,c){a.setUTCFullYear(a.getUTCFullYear()+c)},function(a,c){return c.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});BA.every=function(a){return isFinite(a=Math.floor(a))&&a>0?Ws(function(c){c.setUTCFullYear(Math.floor(c.getUTCFullYear()/a)*a),c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0)},function(c,u){c.setUTCFullYear(c.getUTCFullYear()+u*a)}):null};const _f=BA;var zA=BA.range;function D0(a,c,u,f,g,_){const w=[[kd,1,Md],[kd,5,5e3],[kd,15,15e3],[kd,30,3e4],[_,1,Il],[_,5,5*Il],[_,15,15*Il],[_,30,30*Il],[g,1,Sd],[g,3,3*Sd],[g,6,6*Sd],[g,12,12*Sd],[f,1,mf],[f,2,2*mf],[u,1,aM],[c,1,yA],[c,3,3*yA],[a,1,lM]];function S(k,I,N){const R=Math.abs(I-k)/N,G=Dt(([,,X])=>X).right(w,R);if(G===w.length)return a.every(qa(k/lM,I/lM,N));if(0===G)return Zy.every(Math.max(qa(k,I,N),1));const[at,dt]=w[R/w[G-1][2]<w[G][2]/R?G-1:G];return at.every(dt)}return[function C(k,I,N){const R=I<k;R&&([k,I]=[I,k]);const G=N&&"function"==typeof N.range?N:S(k,I,N),at=G?G.range(k,+I+1):[];return R?at.reverse():at},S]}const[VA,HA]=D0(_f,NA,gf,k0,pf,bM),[vM,Up]=D0(Td,Qy,S0,Yc,Dd,qy);function yM(a){if(0<=a.y&&a.y<100){var c=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return c.setFullYear(a.y),c}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function xM(a){if(0<=a.y&&a.y<100){var c=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return c.setUTCFullYear(a.y),c}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function T0(a,c,u){return{y:a,m:c,d:u,H:0,M:0,S:0,L:0}}function UA(a){var c=a.dateTime,u=a.date,f=a.time,g=a.periods,_=a.days,w=a.shortDays,C=a.months,S=a.shortMonths,k=A0(g),I=Gp(g),N=A0(_),R=Gp(_),G=A0(w),at=Gp(w),dt=A0(C),X=Gp(C),nt=A0(S),yt=Gp(S),bt={a:function Pe(xi){return w[xi.getDay()]},A:function Ke(xi){return _[xi.getDay()]},b:function ii(xi){return S[xi.getMonth()]},B:function hi(xi){return C[xi.getMonth()]},c:null,d:KA,e:KA,f:N8,g:U8,G:SM,H:L8,I:F8,j:QA,L:wM,m:B8,M:JA,p:function Si(xi){return g[+(xi.getHours()>=12)]},q:function $i(xi){return 1+~~(xi.getMonth()/3)},Q:OM,s:Q8,S:z8,u:V8,U:H8,V:CM,w:EM,W:eO,x:null,X:null,y:MM,Y:G8,Z:j8,"%":lO},mt={a:function br(xi){return w[xi.getUTCDay()]},A:function li(xi){return _[xi.getUTCDay()]},b:function mr(xi){return S[xi.getUTCMonth()]},B:function $s(xi){return C[xi.getUTCMonth()]},c:null,d:vi,e:vi,f:kM,g:aO,G:X8,H:bf,I:iO,j:W8,L:$8,m:DM,M:Y8,p:function dr(xi){return g[+(xi.getUTCHours()>=12)]},q:function Ys(xi){return 1+~~(xi.getUTCMonth()/3)},Q:OM,s:Q8,S:nO,u:TM,U:Z8,V:AM,w:rO,W:sO,x:null,X:null,y:oO,Y:q8,Z:K8,"%":lO},Gt={a:function ae(xi,Qi,kn){var ei=G.exec(Qi.slice(kn));return ei?(xi.w=at.get(ei[0].toLowerCase()),kn+ei[0].length):-1},A:function se(xi,Qi,kn){var ei=N.exec(Qi.slice(kn));return ei?(xi.w=R.get(ei[0].toLowerCase()),kn+ei[0].length):-1},b:function Le(xi,Qi,kn){var ei=nt.exec(Qi.slice(kn));return ei?(xi.m=yt.get(ei[0].toLowerCase()),kn+ei[0].length):-1},B:function De(xi,Qi,kn){var ei=dt.exec(Qi.slice(kn));return ei?(xi.m=X.get(ei[0].toLowerCase()),kn+ei[0].length):-1},c:function Qt(xi,Qi,kn){return Ce(xi,c,Qi,kn)},d:qA,e:qA,f:A8,g:$A,G:ex,H:ix,I:ix,j:D8,L:I8,m:k8,M:T8,p:function Be(xi,Qi,kn){var ei=k.exec(Qi.slice(kn));return ei?(xi.p=I.get(ei[0].toLowerCase()),kn+ei[0].length):-1},q:ZA,Q:R8,s:P8,S:XA,u:jA,U:M8,V:WA,w:E8,W:S8,x:function le(xi,Qi,kn){return Ce(xi,u,Qi,kn)},X:function ce(xi,Qi,kn){return Ce(xi,f,Qi,kn)},y:$A,Y:ex,Z:YA,"%":O8};function $t(xi,Qi){return function(kn){var Ca,vn,gs,ei=[],ps=-1,Er=0,ws=xi.length;for(kn instanceof Date||(kn=new Date(+kn));++ps<ws;)37===xi.charCodeAt(ps)&&(ei.push(xi.slice(Er,ps)),null!=(vn=w8[Ca=xi.charAt(++ps)])?Ca=xi.charAt(++ps):vn="e"===Ca?" ":"0",(gs=Qi[Ca])&&(Ca=gs(kn,vn)),ei.push(Ca),Er=ps+1);return ei.push(xi.slice(Er,ps)),ei.join("")}}function ye(xi,Qi){return function(kn){var Er,ws,ei=T0(1900,void 0,1);if(Ce(ei,xi,kn+="",0)!=kn.length)return null;if("Q"in ei)return new Date(ei.Q);if("s"in ei)return new Date(1e3*ei.s+("L"in ei?ei.L:0));if(Qi&&!("Z"in ei)&&(ei.Z=0),"p"in ei&&(ei.H=ei.H%12+12*ei.p),void 0===ei.m&&(ei.m="q"in ei?ei.q:0),"V"in ei){if(ei.V<1||ei.V>53)return null;"w"in ei||(ei.w=1),"Z"in ei?(ws=(Er=xM(T0(ei.y,0,1))).getUTCDay(),Er=ws>4||0===ws?Vp.ceil(Er):Vp(Er),Er=k0.offset(Er,7*(ei.V-1)),ei.y=Er.getUTCFullYear(),ei.m=Er.getUTCMonth(),ei.d=Er.getUTCDate()+(ei.w+6)%7):(ws=(Er=yM(T0(ei.y,0,1))).getDay(),Er=ws>4||0===ws?Bp.ceil(Er):Bp(Er),Er=Yc.offset(Er,7*(ei.V-1)),ei.y=Er.getFullYear(),ei.m=Er.getMonth(),ei.d=Er.getDate()+(ei.w+6)%7)}else("W"in ei||"U"in ei)&&("w"in ei||(ei.w="u"in ei?ei.u%7:"W"in ei?1:0),ws="Z"in ei?xM(T0(ei.y,0,1)).getUTCDay():yM(T0(ei.y,0,1)).getDay(),ei.m=0,ei.d="W"in ei?(ei.w+6)%7+7*ei.W-(ws+5)%7:ei.w+7*ei.U-(ws+6)%7);return"Z"in ei?(ei.H+=ei.Z/100|0,ei.M+=ei.Z%100,xM(ei)):yM(ei)}}function Ce(xi,Qi,kn,ei){for(var Ca,vn,ps=0,Er=Qi.length,ws=kn.length;ps<Er;){if(ei>=ws)return-1;if(37===(Ca=Qi.charCodeAt(ps++))){if(Ca=Qi.charAt(ps++),!(vn=Gt[Ca in w8?Qi.charAt(ps++):Ca])||(ei=vn(xi,kn,ei))<0)return-1}else if(Ca!=kn.charCodeAt(ei++))return-1}return ei}return bt.x=$t(u,bt),bt.X=$t(f,bt),bt.c=$t(c,bt),mt.x=$t(u,mt),mt.X=$t(f,mt),mt.c=$t(c,mt),{format:function(xi){var Qi=$t(xi+="",bt);return Qi.toString=function(){return xi},Qi},parse:function(xi){var Qi=ye(xi+="",!1);return Qi.toString=function(){return xi},Qi},utcFormat:function(xi){var Qi=$t(xi+="",mt);return Qi.toString=function(){return xi},Qi},utcParse:function(xi){var Qi=ye(xi+="",!0);return Qi.toString=function(){return xi},Qi}}}var vf,RM,cO,PM,LM,w8={"-":"",_:" ",0:"0"},fo=/^\s*\d+/,GA=/^%/,C8=/[\\^$*+?|[\]().{}]/g;function cr(a,c,u){var f=a<0?"-":"",g=(f?-a:a)+"",_=g.length;return f+(_<u?new Array(u-_+1).join(c)+g:g)}function I0(a){return a.replace(C8,"\\$&")}function A0(a){return new RegExp("^(?:"+a.map(I0).join("|")+")","i")}function Gp(a){return new Map(a.map((c,u)=>[c.toLowerCase(),u]))}function E8(a,c,u){var f=fo.exec(c.slice(u,u+1));return f?(a.w=+f[0],u+f[0].length):-1}function jA(a,c,u){var f=fo.exec(c.slice(u,u+1));return f?(a.u=+f[0],u+f[0].length):-1}function M8(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.U=+f[0],u+f[0].length):-1}function WA(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.V=+f[0],u+f[0].length):-1}function S8(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.W=+f[0],u+f[0].length):-1}function ex(a,c,u){var f=fo.exec(c.slice(u,u+4));return f?(a.y=+f[0],u+f[0].length):-1}function $A(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.y=+f[0]+(+f[0]>68?1900:2e3),u+f[0].length):-1}function YA(a,c,u){var f=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(c.slice(u,u+6));return f?(a.Z=f[1]?0:-(f[2]+(f[3]||"00")),u+f[0].length):-1}function ZA(a,c,u){var f=fo.exec(c.slice(u,u+1));return f?(a.q=3*f[0]-3,u+f[0].length):-1}function k8(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.m=f[0]-1,u+f[0].length):-1}function qA(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.d=+f[0],u+f[0].length):-1}function D8(a,c,u){var f=fo.exec(c.slice(u,u+3));return f?(a.m=0,a.d=+f[0],u+f[0].length):-1}function ix(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.H=+f[0],u+f[0].length):-1}function T8(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.M=+f[0],u+f[0].length):-1}function XA(a,c,u){var f=fo.exec(c.slice(u,u+2));return f?(a.S=+f[0],u+f[0].length):-1}function I8(a,c,u){var f=fo.exec(c.slice(u,u+3));return f?(a.L=+f[0],u+f[0].length):-1}function A8(a,c,u){var f=fo.exec(c.slice(u,u+6));return f?(a.L=Math.floor(f[0]/1e3),u+f[0].length):-1}function O8(a,c,u){var f=GA.exec(c.slice(u,u+1));return f?u+f[0].length:-1}function R8(a,c,u){var f=fo.exec(c.slice(u));return f?(a.Q=+f[0],u+f[0].length):-1}function P8(a,c,u){var f=fo.exec(c.slice(u));return f?(a.s=+f[0],u+f[0].length):-1}function KA(a,c){return cr(a.getDate(),c,2)}function L8(a,c){return cr(a.getHours(),c,2)}function F8(a,c){return cr(a.getHours()%12||12,c,2)}function QA(a,c){return cr(1+Yc.count(Td(a),a),c,3)}function wM(a,c){return cr(a.getMilliseconds(),c,3)}function N8(a,c){return wM(a,c)+"000"}function B8(a,c){return cr(a.getMonth()+1,c,2)}function JA(a,c){return cr(a.getMinutes(),c,2)}function z8(a,c){return cr(a.getSeconds(),c,2)}function V8(a){var c=a.getDay();return 0===c?7:c}function H8(a,c){return cr(S0.count(Td(a)-1,a),c,2)}function tO(a){var c=a.getDay();return c>=4||0===c?lr(a):lr.ceil(a)}function CM(a,c){return a=tO(a),cr(lr.count(Td(a),a)+(4===Td(a).getDay()),c,2)}function EM(a){return a.getDay()}function eO(a,c){return cr(Bp.count(Td(a)-1,a),c,2)}function MM(a,c){return cr(a.getFullYear()%100,c,2)}function U8(a,c){return cr((a=tO(a)).getFullYear()%100,c,2)}function G8(a,c){return cr(a.getFullYear()%1e4,c,4)}function SM(a,c){var u=a.getDay();return cr((a=u>=4||0===u?lr(a):lr.ceil(a)).getFullYear()%1e4,c,4)}function j8(a){var c=a.getTimezoneOffset();return(c>0?"-":(c*=-1,"+"))+cr(c/60|0,"0",2)+cr(c%60,"0",2)}function vi(a,c){return cr(a.getUTCDate(),c,2)}function bf(a,c){return cr(a.getUTCHours(),c,2)}function iO(a,c){return cr(a.getUTCHours()%12||12,c,2)}function W8(a,c){return cr(1+k0.count(_f(a),a),c,3)}function $8(a,c){return cr(a.getUTCMilliseconds(),c,3)}function kM(a,c){return $8(a,c)+"000"}function DM(a,c){return cr(a.getUTCMonth()+1,c,2)}function Y8(a,c){return cr(a.getUTCMinutes(),c,2)}function nO(a,c){return cr(a.getUTCSeconds(),c,2)}function TM(a){var c=a.getUTCDay();return 0===c?7:c}function Z8(a,c){return cr(gf.count(_f(a)-1,a),c,2)}function IM(a){var c=a.getUTCDay();return c>=4||0===c?uc(a):uc.ceil(a)}function AM(a,c){return a=IM(a),cr(uc.count(_f(a),a)+(4===_f(a).getUTCDay()),c,2)}function rO(a){return a.getUTCDay()}function sO(a,c){return cr(Vp.count(_f(a)-1,a),c,2)}function oO(a,c){return cr(a.getUTCFullYear()%100,c,2)}function aO(a,c){return cr((a=IM(a)).getUTCFullYear()%100,c,2)}function q8(a,c){return cr(a.getUTCFullYear()%1e4,c,4)}function X8(a,c){var u=a.getUTCDay();return cr((a=u>=4||0===u?uc(a):uc.ceil(a)).getUTCFullYear()%1e4,c,4)}function K8(){return"+0000"}function lO(){return"%"}function OM(a){return+a}function Q8(a){return Math.floor(+a/1e3)}function dO(a){return vf=UA(a),RM=vf.format,cO=vf.parse,PM=vf.utcFormat,LM=vf.utcParse,vf}function Id(a){return new Date(a)}function $r(a){return a instanceof Date?+a:+new Date(+a)}function O0(a,c,u,f,g,_,w,C,S,k){var I=JE(),N=I.invert,R=I.domain,G=k(".%L"),at=k(":%S"),dt=k("%I:%M"),X=k("%I %p"),nt=k("%a %d"),yt=k("%b %d"),bt=k("%B"),mt=k("%Y");function Gt($t){return(S($t)<$t?G:C($t)<$t?at:w($t)<$t?dt:_($t)<$t?X:f($t)<$t?g($t)<$t?nt:yt:u($t)<$t?bt:mt)($t)}return I.invert=function($t){return new Date(N($t))},I.domain=function($t){return arguments.length?R(Array.from($t,$r)):R().map(Id)},I.ticks=function($t){var ye=R();return a(ye[0],ye[ye.length-1],$t??10)},I.tickFormat=function($t,ye){return null==ye?Gt:k(ye)},I.nice=function($t){var ye=R();return(!$t||"function"!=typeof $t.range)&&($t=c(ye[0],ye[ye.length-1],$t??10)),$t?R(iM(ye,$t)):I},I.copy=function(){return hf(I,O0(a,c,u,f,g,_,w,C,S,k))},I}function nx(){return cc.apply(O0(vM,Up,Td,Qy,S0,Yc,Dd,qy,kd,RM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uO(){return cc.apply(O0(VA,HA,_f,NA,gf,k0,pf,bM,kd,PM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rx(){var u,f,g,_,S,a=0,c=1,w=Xo,C=!1;function k(N){return null==N||isNaN(N=+N)?S:w(0===g?.5:(N=(_(N)-u)*g,C?Math.max(0,Math.min(1,N)):N))}function I(N){return function(R){var G,at;return arguments.length?([G,at]=R,w=N(G,at),k):[w(0),w(1)]}}return k.domain=function(N){return arguments.length?([a,c]=N,u=_(a=+a),f=_(c=+c),g=u===f?0:1/(f-u),k):[a,c]},k.clamp=function(N){return arguments.length?(C=!!N,k):C},k.interpolator=function(N){return arguments.length?(w=N,k):w},k.range=I(Ja),k.rangeRound=I(df),k.unknown=function(N){return arguments.length?(S=N,k):S},function(N){return _=N,u=N(a),f=N(c),g=u===f?0:1/(f-u),k}}function Bu(a,c){return c.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function hO(){var a=Fu(rx()(Xo));return a.copy=function(){return Bu(a,hO())},Wr.apply(a,arguments)}function fO(){var a=mi(rx()).domain([1,10]);return a.copy=function(){return Bu(a,fO()).base(a.base())},Wr.apply(a,arguments)}function mO(){var a=$y(rx());return a.copy=function(){return Bu(a,mO()).constant(a.constant())},Wr.apply(a,arguments)}function yf(){var a=Yy(rx());return a.copy=function(){return Bu(a,yf()).exponent(a.exponent())},Wr.apply(a,arguments)}function pO(){return yf.apply(null,arguments).exponent(.5)}function FM(){var a=[],c=Xo;function u(f){if(null!=f&&!isNaN(f=+f))return c((ge(a,f,1)-1)/(a.length-1))}return u.domain=function(f){if(!arguments.length)return a.slice();a=[];for(let g of f)null!=g&&!isNaN(g=+g)&&a.push(g);return a.sort(_t),u},u.interpolator=function(f){return arguments.length?(c=f,u):c},u.range=function(){return a.map((f,g)=>c(g/(a.length-1)))},u.quantiles=function(f){return Array.from({length:f+1},(g,_)=>Xa(a,_/f))},u.copy=function(){return FM(c).domain(a)},Wr.apply(u,arguments)}function R0(){var g,_,w,C,S,I,R,a=0,c=.5,u=1,f=1,k=Xo,N=!1;function G(dt){return isNaN(dt=+dt)?R:(dt=.5+((dt=+I(dt))-_)*(f*dt<f*_?C:S),k(N?Math.max(0,Math.min(1,dt)):dt))}function at(dt){return function(X){var nt,yt,bt;return arguments.length?([nt,yt,bt]=X,k=jE(dt,[nt,yt,bt]),G):[k(0),k(.5),k(1)]}}return G.domain=function(dt){return arguments.length?([a,c,u]=dt,g=I(a=+a),_=I(c=+c),w=I(u=+u),C=g===_?0:.5/(_-g),S=_===w?0:.5/(w-_),f=_<g?-1:1,G):[a,c,u]},G.clamp=function(dt){return arguments.length?(N=!!dt,G):N},G.interpolator=function(dt){return arguments.length?(k=dt,G):k},G.range=at(Ja),G.rangeRound=at(df),G.unknown=function(dt){return arguments.length?(R=dt,G):R},function(dt){return I=dt,g=dt(a),_=dt(c),w=dt(u),C=g===_?0:.5/(_-g),S=_===w?0:.5/(w-_),f=_<g?-1:1,G}}function NM(){var a=Fu(R0()(Xo));return a.copy=function(){return Bu(a,NM())},Wr.apply(a,arguments)}function BM(){var a=mi(R0()).domain([.1,1,10]);return a.copy=function(){return Bu(a,BM()).base(a.base())},Wr.apply(a,arguments)}function Yi(){var a=$y(R0());return a.copy=function(){return Bu(a,Yi()).constant(a.constant())},Wr.apply(a,arguments)}function zM(){var a=Yy(R0());return a.copy=function(){return Bu(a,zM()).exponent(a.exponent())},Wr.apply(a,arguments)}function vG(){return zM.apply(null,arguments).exponent(.5)}dO({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vn=Et(63);const bn=(0,Vn.Z)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Al=(0,Vn.Z)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),J8=(0,Vn.Z)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),t6=(0,Vn.Z)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),e6=(0,Vn.Z)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),P0=(0,Vn.Z)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),n6=(0,Vn.Z)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),zu=(0,Vn.Z)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),r6=(0,Vn.Z)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),yG=(0,Vn.Z)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Yr=Et(814),s6=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Vn.Z);const ss=(0,Yr.Z)(s6);var gO=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Vn.Z);const o6=(0,Yr.Z)(gO);var _O=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Vn.Z);const sx=(0,Yr.Z)(_O);var VM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Vn.Z);const a6=(0,Yr.Z)(VM);var HM=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Vn.Z);const ox=(0,Yr.Z)(HM);var bO=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Vn.Z);const l6=(0,Yr.Z)(bO);var UM=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Vn.Z);const c6=(0,Yr.Z)(UM);var vO=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Vn.Z);const yO=(0,Yr.Z)(vO);var Zr=Et(248),xO=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Vn.Z);const d6=(0,Yr.Z)(xO);var GM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Vn.Z);const wO=(0,Yr.Z)(GM);var ax=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Vn.Z);const CO=(0,Yr.Z)(ax);var EO=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Vn.Z);const MO=(0,Yr.Z)(EO);var jM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Vn.Z);const u6=(0,Yr.Z)(jM);var SO=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Vn.Z);const WM=(0,Yr.Z)(SO);var lx=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Vn.Z);const kO=(0,Yr.Z)(lx);var cx=Et(70),dx=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Vn.Z);const h6=(0,Yr.Z)(dx);var DO=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Vn.Z);const f6=(0,Yr.Z)(DO);var TO=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Vn.Z);const IO=(0,Yr.Z)(TO);var ux=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Vn.Z);const Ze=(0,Yr.Z)(ux);var Pi=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Vn.Z);const En=(0,Yr.Z)(Pi);var We=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Vn.Z);const m6=(0,Yr.Z)(We);var $M=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Vn.Z);const AO=(0,Yr.Z)($M);var OO=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Vn.Z);const RO=(0,Yr.Z)(OO);var xf=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Vn.Z);const xa=(0,Yr.Z)(xf);var wf=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Vn.Z);const p6=(0,Yr.Z)(wf);function g6(a){return a=Math.max(0,Math.min(1,a)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-a*(35.34-a*(2381.73-a*(6402.7-a*(7024.72-2710.57*a)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+a*(170.73+a*(52.82-a*(131.46-a*(176.58-67.37*a)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+a*(442.36-a*(2482.43-a*(6167.24-a*(6614.94-2475.67*a)))))))+")"}var _6=Et(224),Vu=Et(701),PO=Math.PI/180,YM=180/Math.PI,LO=1.78277,FO=-.29227,Hu=-.90649,L0=1.97294,hx=L0*Hu,NO=L0*LO,ZM=LO*FO- -.14861*Hu;function Zc(a,c,u,f){return 1===arguments.length?function v6(a){if(a instanceof Cf)return new Cf(a.h,a.s,a.l,a.opacity);a instanceof Vu.Ss||(a=(0,Vu.SU)(a));var u=a.g/255,f=a.b/255,g=(ZM*f+hx*(a.r/255)-NO*u)/(ZM+hx-NO),_=f-g,w=(L0*(u-g)-FO*_)/Hu,C=Math.sqrt(w*w+_*_)/(L0*g*(1-g)),S=C?Math.atan2(w,_)*YM-120:NaN;return new Cf(S<0?S+360:S,C,g,a.opacity)}(a):new Cf(a,c,u,f??1)}function Cf(a,c,u,f){this.h=+a,this.s=+c,this.l=+u,this.opacity=+f}(0,_6.Z)(Cf,Zc,(0,_6.l)(Vu.Il,{brighter:function(a){return a=null==a?Vu.J5:Math.pow(Vu.J5,a),new Cf(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?Vu.xV:Math.pow(Vu.xV,a),new Cf(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*PO,c=+this.l,u=isNaN(this.s)?0:this.s*c*(1-c),f=Math.cos(a),g=Math.sin(a);return new Vu.Ss(255*(c+u*(-.14861*f+LO*g)),255*(c+u*(FO*f+Hu*g)),255*(c+u*(L0*f)),this.opacity)}}));var Ef=Et(41);function qM(a){return function c(u){function f(g,_){var w=a((g=Zc(g)).h,(_=Zc(_)).h),C=(0,Ef.ZP)(g.s,_.s),S=(0,Ef.ZP)(g.l,_.l),k=(0,Ef.ZP)(g.opacity,_.opacity);return function(I){return g.h=w(I),g.s=C(I),g.l=S(Math.pow(I,u)),g.opacity=k(I),g+""}}return u=+u,f.gamma=c,f}(1)}qM(Ef.wx);var jp=qM(Ef.ZP);const XM=jp(Zc(300,.5,0),Zc(-240,.5,1));var wG=jp(Zc(-100,.75,.35),Zc(80,1.5,.8)),BO=jp(Zc(260,.75,.35),Zc(80,1.5,.8)),fx=Zc();function zO(a){(a<0||a>1)&&(a-=Math.floor(a));var c=Math.abs(a-.5);return fx.h=360*a-100,fx.s=1.5-1.5*c,fx.l=.8-.9*c,fx+""}var Ad=(0,Vu.B8)(),y6=Math.PI/3,VO=2*Math.PI/3;function KM(a){var c;return a=(.5-a)*Math.PI,Ad.r=255*(c=Math.sin(a))*c,Ad.g=255*(c=Math.sin(a+y6))*c,Ad.b=255*(c=Math.sin(a+VO))*c,Ad+""}function CG(a){return a=Math.max(0,Math.min(1,a)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+a*(1172.33-a*(10793.56-a*(33300.12-a*(38394.49-14825.05*a)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+a*(557.33+a*(1225.33-a*(3574.96-a*(1073.77+707.56*a)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+a*(3211.1-a*(15327.97-a*(27814-a*(22569.18-6838.66*a)))))))+")"}function mx(a){var c=a.length;return function(u){return a[Math.max(0,Math.min(c-1,Math.floor(u*c)))]}}const EG=mx((0,Vn.Z)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var x6=mx((0,Vn.Z)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),w6=mx((0,Vn.Z)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),C6=mx((0,Vn.Z)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function HO(a){return hs(o_(a).call(document.documentElement))}var UO=0;function GO(){return new px}function px(){this._="@"+(++UO).toString(36)}function jO(a,c){return a.target&&(a=A1(a),void 0===c&&(c=a.currentTarget),a=a.touches||[a]),Array.from(a,u=>xl(u,c))}function E6(a){return"string"==typeof a?new Is([document.querySelectorAll(a)],[document.documentElement]):new Is([null==a?[]:wh(a)],Mh)}function xn(a){return function(){return a}}px.prototype=GO.prototype={constructor:px,get:function(a){for(var c=this._;!(c in a);)if(!(a=a.parentNode))return;return a[c]},set:function(a,c){return a[this._]=c},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var QM=Math.abs,Qo=Math.atan2,Uu=Math.cos,WO=Math.max,gx=Math.min,hc=Math.sin,Wp=Math.sqrt,Jo=1e-12,Mf=Math.PI,F0=Mf/2,Sf=2*Mf;function M6(a){return a>=1?F0:a<=-1?-F0:Math.asin(a)}function SG(a){return a.innerRadius}function kG(a){return a.outerRadius}function DG(a){return a.startAngle}function TG(a){return a.endAngle}function IG(a){return a&&a.padAngle}function $p(a,c,u,f,g,_,w){var C=a-u,S=c-f,k=(w?_:-_)/Wp(C*C+S*S),I=k*S,N=-k*C,R=a+I,G=c+N,at=u+I,dt=f+N,X=(R+at)/2,nt=(G+dt)/2,yt=at-R,bt=dt-G,mt=yt*yt+bt*bt,Gt=g-_,$t=R*dt-at*G,ye=(bt<0?-1:1)*Wp(WO(0,Gt*Gt*mt-$t*$t)),Ce=($t*bt-yt*ye)/mt,Be=(-$t*yt-bt*ye)/mt,ae=($t*bt+yt*ye)/mt,se=(-$t*yt+bt*ye)/mt,Le=Ce-X,De=Be-nt,Qt=ae-X,le=se-nt;return Le*Le+De*De>Qt*Qt+le*le&&(Ce=ae,Be=se),{cx:Ce,cy:Be,x01:-I,y01:-N,x11:Ce*(g/Gt-1),y11:Be*(g/Gt-1)}}function JM(){var a=SG,c=kG,u=xn(0),f=null,g=DG,_=TG,w=IG,C=null;function S(){var k,I,N=+a.apply(this,arguments),R=+c.apply(this,arguments),G=g.apply(this,arguments)-F0,at=_.apply(this,arguments)-F0,dt=QM(at-G),X=at>G;if(C||(C=k=Eu()),R<N&&(I=R,R=N,N=I),R>Jo)if(dt>Sf-Jo)C.moveTo(R*Uu(G),R*hc(G)),C.arc(0,0,R,G,at,!X),N>Jo&&(C.moveTo(N*Uu(at),N*hc(at)),C.arc(0,0,N,at,G,X));else{var Le,De,nt=G,yt=at,bt=G,mt=at,Gt=dt,$t=dt,ye=w.apply(this,arguments)/2,Ce=ye>Jo&&(f?+f.apply(this,arguments):Wp(N*N+R*R)),Be=gx(QM(R-N)/2,+u.apply(this,arguments)),ae=Be,se=Be;if(Ce>Jo){var Qt=M6(Ce/N*hc(ye)),le=M6(Ce/R*hc(ye));(Gt-=2*Qt)>Jo?(bt+=Qt*=X?1:-1,mt-=Qt):(Gt=0,bt=mt=(G+at)/2),($t-=2*le)>Jo?(nt+=le*=X?1:-1,yt-=le):($t=0,nt=yt=(G+at)/2)}var ce=R*Uu(nt),Pe=R*hc(nt),Ke=N*Uu(mt),ii=N*hc(mt);if(Be>Jo){var li,hi=R*Uu(yt),Si=R*hc(yt),$i=N*Uu(bt),br=N*hc(bt);if(dt<Mf&&(li=function AG(a,c,u,f,g,_,w,C){var S=u-a,k=f-c,I=w-g,N=C-_,R=N*S-I*k;if(!(R*R<Jo))return[a+(R=(I*(c-_)-N*(a-g))/R)*S,c+R*k]}(ce,Pe,$i,br,hi,Si,Ke,ii))){var mr=ce-li[0],$s=Pe-li[1],dr=hi-li[0],Ys=Si-li[1],xi=1/hc(function MG(a){return a>1?0:a<-1?Mf:Math.acos(a)}((mr*dr+$s*Ys)/(Wp(mr*mr+$s*$s)*Wp(dr*dr+Ys*Ys)))/2),Qi=Wp(li[0]*li[0]+li[1]*li[1]);ae=gx(Be,(N-Qi)/(xi-1)),se=gx(Be,(R-Qi)/(xi+1))}}$t>Jo?se>Jo?(Le=$p($i,br,ce,Pe,R,se,X),De=$p(hi,Si,Ke,ii,R,se,X),C.moveTo(Le.cx+Le.x01,Le.cy+Le.y01),se<Be?C.arc(Le.cx,Le.cy,se,Qo(Le.y01,Le.x01),Qo(De.y01,De.x01),!X):(C.arc(Le.cx,Le.cy,se,Qo(Le.y01,Le.x01),Qo(Le.y11,Le.x11),!X),C.arc(0,0,R,Qo(Le.cy+Le.y11,Le.cx+Le.x11),Qo(De.cy+De.y11,De.cx+De.x11),!X),C.arc(De.cx,De.cy,se,Qo(De.y11,De.x11),Qo(De.y01,De.x01),!X))):(C.moveTo(ce,Pe),C.arc(0,0,R,nt,yt,!X)):C.moveTo(ce,Pe),N>Jo&&Gt>Jo?ae>Jo?(Le=$p(Ke,ii,hi,Si,N,-ae,X),De=$p(ce,Pe,$i,br,N,-ae,X),C.lineTo(Le.cx+Le.x01,Le.cy+Le.y01),ae<Be?C.arc(Le.cx,Le.cy,ae,Qo(Le.y01,Le.x01),Qo(De.y01,De.x01),!X):(C.arc(Le.cx,Le.cy,ae,Qo(Le.y01,Le.x01),Qo(Le.y11,Le.x11),!X),C.arc(0,0,N,Qo(Le.cy+Le.y11,Le.cx+Le.x11),Qo(De.cy+De.y11,De.cx+De.x11),X),C.arc(De.cx,De.cy,ae,Qo(De.y11,De.x11),Qo(De.y01,De.x01),!X))):C.arc(0,0,N,mt,bt,X):C.lineTo(Ke,ii)}else C.moveTo(0,0);if(C.closePath(),k)return C=null,k+""||null}return S.centroid=function(){var k=(+a.apply(this,arguments)+ +c.apply(this,arguments))/2,I=(+g.apply(this,arguments)+ +_.apply(this,arguments))/2-Mf/2;return[Uu(I)*k,hc(I)*k]},S.innerRadius=function(k){return arguments.length?(a="function"==typeof k?k:xn(+k),S):a},S.outerRadius=function(k){return arguments.length?(c="function"==typeof k?k:xn(+k),S):c},S.cornerRadius=function(k){return arguments.length?(u="function"==typeof k?k:xn(+k),S):u},S.padRadius=function(k){return arguments.length?(f=null==k?null:"function"==typeof k?k:xn(+k),S):f},S.startAngle=function(k){return arguments.length?(g="function"==typeof k?k:xn(+k),S):g},S.endAngle=function(k){return arguments.length?(_="function"==typeof k?k:xn(+k),S):_},S.padAngle=function(k){return arguments.length?(w="function"==typeof k?k:xn(+k),S):w},S.context=function(k){return arguments.length?(C=k??null,S):C},S}var $O=Array.prototype.slice;function _x(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function Ol(a){this._context=a}function bx(a){return new Ol(a)}function YO(a){return a[0]}function ZO(a){return a[1]}function tS(a,c){var u=xn(!0),f=null,g=bx,_=null;function w(C){var S,I,R,k=(C=_x(C)).length,N=!1;for(null==f&&(_=g(R=Eu())),S=0;S<=k;++S)!(S<k&&u(I=C[S],S,C))===N&&((N=!N)?_.lineStart():_.lineEnd()),N&&_.point(+a(I,S,C),+c(I,S,C));if(R)return _=null,R+""||null}return a="function"==typeof a?a:void 0===a?YO:xn(a),c="function"==typeof c?c:void 0===c?ZO:xn(c),w.x=function(C){return arguments.length?(a="function"==typeof C?C:xn(+C),w):a},w.y=function(C){return arguments.length?(c="function"==typeof C?C:xn(+C),w):c},w.defined=function(C){return arguments.length?(u="function"==typeof C?C:xn(!!C),w):u},w.curve=function(C){return arguments.length?(g=C,null!=f&&(_=g(f)),w):g},w.context=function(C){return arguments.length?(null==C?f=_=null:_=g(f=C),w):f},w}function N0(a,c,u){var f=null,g=xn(!0),_=null,w=bx,C=null;function S(I){var N,R,G,dt,nt,at=(I=_x(I)).length,X=!1,yt=new Array(at),bt=new Array(at);for(null==_&&(C=w(nt=Eu())),N=0;N<=at;++N){if(!(N<at&&g(dt=I[N],N,I))===X)if(X=!X)R=N,C.areaStart(),C.lineStart();else{for(C.lineEnd(),C.lineStart(),G=N-1;G>=R;--G)C.point(yt[G],bt[G]);C.lineEnd(),C.areaEnd()}X&&(yt[N]=+a(dt,N,I),bt[N]=+c(dt,N,I),C.point(f?+f(dt,N,I):yt[N],u?+u(dt,N,I):bt[N]))}if(nt)return C=null,nt+""||null}function k(){return tS().defined(g).curve(w).context(_)}return a="function"==typeof a?a:void 0===a?YO:xn(+a),c="function"==typeof c?c:xn(void 0===c?0:+c),u="function"==typeof u?u:void 0===u?ZO:xn(+u),S.x=function(I){return arguments.length?(a="function"==typeof I?I:xn(+I),f=null,S):a},S.x0=function(I){return arguments.length?(a="function"==typeof I?I:xn(+I),S):a},S.x1=function(I){return arguments.length?(f=null==I?null:"function"==typeof I?I:xn(+I),S):f},S.y=function(I){return arguments.length?(c="function"==typeof I?I:xn(+I),u=null,S):c},S.y0=function(I){return arguments.length?(c="function"==typeof I?I:xn(+I),S):c},S.y1=function(I){return arguments.length?(u=null==I?null:"function"==typeof I?I:xn(+I),S):u},S.lineX0=S.lineY0=function(){return k().x(a).y(c)},S.lineY1=function(){return k().x(a).y(u)},S.lineX1=function(){return k().x(f).y(c)},S.defined=function(I){return arguments.length?(g="function"==typeof I?I:xn(!!I),S):g},S.curve=function(I){return arguments.length?(w=I,null!=_&&(C=w(_)),S):w},S.context=function(I){return arguments.length?(null==I?_=C=null:C=w(_=I),S):_},S}function S6(a,c){return c<a?-1:c>a?1:c>=a?0:NaN}function qO(a){return a}function k6(){var a=qO,c=S6,u=null,f=xn(0),g=xn(Sf),_=xn(0);function w(C){var S,I,N,nt,mt,k=(C=_x(C)).length,R=0,G=new Array(k),at=new Array(k),dt=+f.apply(this,arguments),X=Math.min(Sf,Math.max(-Sf,g.apply(this,arguments)-dt)),yt=Math.min(Math.abs(X)/k,_.apply(this,arguments)),bt=yt*(X<0?-1:1);for(S=0;S<k;++S)(mt=at[G[S]=S]=+a(C[S],S,C))>0&&(R+=mt);for(null!=c?G.sort(function(Gt,$t){return c(at[Gt],at[$t])}):null!=u&&G.sort(function(Gt,$t){return u(C[Gt],C[$t])}),S=0,N=R?(X-k*bt)/R:0;S<k;++S,dt=nt)at[I=G[S]]={data:C[I],index:S,value:mt=at[I],startAngle:dt,endAngle:nt=dt+(mt>0?mt*N:0)+bt,padAngle:yt};return at}return w.value=function(C){return arguments.length?(a="function"==typeof C?C:xn(+C),w):a},w.sortValues=function(C){return arguments.length?(c=C,u=null,w):c},w.sort=function(C){return arguments.length?(u=C,c=null,w):u},w.startAngle=function(C){return arguments.length?(f="function"==typeof C?C:xn(+C),w):f},w.endAngle=function(C){return arguments.length?(g="function"==typeof C?C:xn(+C),w):g},w.padAngle=function(C){return arguments.length?(_="function"==typeof C?C:xn(+C),w):_},w}Ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;default:this._context.lineTo(a,c)}}};var D6=kf(bx);function XO(a){this._curve=a}function kf(a){function c(u){return new XO(a(u))}return c._curve=a,c}function Gu(a){var c=a.curve;return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a.curve=function(u){return arguments.length?c(kf(u)):c()._curve},a}function KO(){return Gu(tS().curve(D6))}function QO(){var a=N0().curve(D6),c=a.curve,u=a.lineX0,f=a.lineX1,g=a.lineY0,_=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return Gu(u())},delete a.lineX0,a.lineEndAngle=function(){return Gu(f())},delete a.lineX1,a.lineInnerRadius=function(){return Gu(g())},delete a.lineY0,a.lineOuterRadius=function(){return Gu(_())},delete a.lineY1,a.curve=function(w){return arguments.length?c(kf(w)):c()._curve},a}function B0(a,c){return[(c=+c)*Math.cos(a-=Math.PI/2),c*Math.sin(a)]}function T6(a){return a.source}function I6(a){return a.target}function eS(a){var c=T6,u=I6,f=YO,g=ZO,_=null;function w(){var C,S=$O.call(arguments),k=c.apply(this,S),I=u.apply(this,S);if(_||(_=C=Eu()),a(_,+f.apply(this,(S[0]=k,S)),+g.apply(this,S),+f.apply(this,(S[0]=I,S)),+g.apply(this,S)),C)return _=null,C+""||null}return w.source=function(C){return arguments.length?(c=C,w):c},w.target=function(C){return arguments.length?(u=C,w):u},w.x=function(C){return arguments.length?(f="function"==typeof C?C:xn(+C),w):f},w.y=function(C){return arguments.length?(g="function"==typeof C?C:xn(+C),w):g},w.context=function(C){return arguments.length?(_=C??null,w):_},w}function iS(a,c,u,f,g){a.moveTo(c,u),a.bezierCurveTo(c=(c+f)/2,u,c,g,f,g)}function A6(a,c,u,f,g){a.moveTo(c,u),a.bezierCurveTo(c,u=(u+g)/2,f,u,f,g)}function O6(a,c,u,f,g){var _=B0(c,u),w=B0(c,u=(u+g)/2),C=B0(f,u),S=B0(f,g);a.moveTo(_[0],_[1]),a.bezierCurveTo(w[0],w[1],C[0],C[1],S[0],S[1])}function R6(){return eS(iS)}function P6(){return eS(A6)}function L6(){var a=eS(O6);return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a}XO.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,c){this._curve.point(c*Math.sin(a),c*-Math.cos(a))}};const nS={draw:function(a,c){var u=Math.sqrt(c/Mf);a.moveTo(u,0),a.arc(0,0,u,0,Sf)}},JO={draw:function(a,c){var u=Math.sqrt(c/5)/2;a.moveTo(-3*u,-u),a.lineTo(-u,-u),a.lineTo(-u,-3*u),a.lineTo(u,-3*u),a.lineTo(u,-u),a.lineTo(3*u,-u),a.lineTo(3*u,u),a.lineTo(u,u),a.lineTo(u,3*u),a.lineTo(-u,3*u),a.lineTo(-u,u),a.lineTo(-3*u,u),a.closePath()}};var tR=Math.sqrt(1/3),F6=2*tR;const rS={draw:function(a,c){var u=Math.sqrt(c/F6),f=u*tR;a.moveTo(0,-u),a.lineTo(f,0),a.lineTo(0,u),a.lineTo(-f,0),a.closePath()}};var eR=Math.sin(Mf/10)/Math.sin(7*Mf/10),N6=Math.sin(Sf/10)*eR,iR=-Math.cos(Sf/10)*eR;const oS={draw:function(a,c){var u=Math.sqrt(.8908130915292852*c),f=N6*u,g=iR*u;a.moveTo(0,-u),a.lineTo(f,g);for(var _=1;_<5;++_){var w=Sf*_/5,C=Math.cos(w),S=Math.sin(w);a.lineTo(S*u,-C*u),a.lineTo(C*f-S*g,S*f+C*g)}a.closePath()}},B6={draw:function(a,c){var u=Math.sqrt(c),f=-u/2;a.rect(f,f,u,u)}};var ta=Math.sqrt(3);const aS={draw:function(a,c){var u=-Math.sqrt(c/(3*ta));a.moveTo(0,2*u),a.lineTo(-ta*u,-u),a.lineTo(ta*u,-u),a.closePath()}};var wa=-.5,Ua=Math.sqrt(3)/2,z0=1/Math.sqrt(12),z6=3*(z0/2+1);const vx={draw:function(a,c){var u=Math.sqrt(c/z6),f=u/2,g=u*z0,_=f,w=u*z0+u,C=-_,S=w;a.moveTo(f,g),a.lineTo(_,w),a.lineTo(C,S),a.lineTo(wa*f-Ua*g,Ua*f+wa*g),a.lineTo(wa*_-Ua*w,Ua*_+wa*w),a.lineTo(wa*C-Ua*S,Ua*C+wa*S),a.lineTo(wa*f+Ua*g,wa*g-Ua*f),a.lineTo(wa*_+Ua*w,wa*w-Ua*_),a.lineTo(wa*C+Ua*S,wa*S-Ua*C),a.closePath()}};var ju=[nS,JO,rS,B6,oS,aS,vx];function nR(a,c){var u=null;function f(){var g;if(u||(u=g=Eu()),a.apply(this,arguments).draw(u,+c.apply(this,arguments)),g)return u=null,g+""||null}return a="function"==typeof a?a:xn(a||nS),c="function"==typeof c?c:xn(void 0===c?64:+c),f.type=function(g){return arguments.length?(a="function"==typeof g?g:xn(g),f):a},f.size=function(g){return arguments.length?(c="function"==typeof g?g:xn(+g),f):c},f.context=function(g){return arguments.length?(u=g??null,f):u},f}function qc(){}function Yp(a,c,u){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+c)/6,(a._y0+4*a._y1+u)/6)}function yx(a){this._context=a}function OG(a){return new yx(a)}function lS(a){this._context=a}function V6(a){return new lS(a)}function cS(a){this._context=a}function H6(a){return new cS(a)}yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yp(this,a,c)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c}},lS.prototype={areaStart:qc,areaEnd:qc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._x2=a,this._y2=c;break;case 1:this._point=2,this._x3=a,this._y3=c;break;case 2:this._point=3,this._x4=a,this._y4=c,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+c)/6);break;default:Yp(this,a,c)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c}},cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var u=(this._x0+4*this._x1+a)/6,f=(this._y0+4*this._y1+c)/6;this._line?this._context.lineTo(u,f):this._context.moveTo(u,f);break;case 3:this._point=4;default:Yp(this,a,c)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c}};class rR{constructor(c,u){this._context=c,this._x=u}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(c,u){switch(c=+c,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(c,u):this._context.moveTo(c,u);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+c)/2,this._y0,this._x0,u,c,u):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+u)/2,c,this._y0,c,u)}this._x0=c,this._y0=u}}function sR(a){return new rR(a,!0)}function RG(a){return new rR(a,!1)}function dS(a,c){this._basis=new yx(a),this._beta=c}dS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var a=this._x,c=this._y,u=a.length-1;if(u>0)for(var S,f=a[0],g=c[0],_=a[u]-f,w=c[u]-g,C=-1;++C<=u;)this._basis.point(this._beta*a[C]+(1-this._beta)*(f+(S=C/u)*_),this._beta*c[C]+(1-this._beta)*(g+S*w));this._x=this._y=null,this._basis.lineEnd()},point:function(a,c){this._x.push(+a),this._y.push(+c)}};const U6=function a(c){function u(f){return 1===c?new yx(f):new dS(f,c)}return u.beta=function(f){return a(+f)},u}(.85);function V0(a,c,u){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-c),a._y2+a._k*(a._y1-u),a._x2,a._y2)}function oR(a,c){this._context=a,this._k=(1-c)/6}oR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:V0(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2,this._x1=a,this._y1=c;break;case 2:this._point=3;default:V0(this,a,c)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=c}};const uS=function a(c){function u(f){return new oR(f,c)}return u.tension=function(f){return a(+f)},u}(0);function xx(a,c){this._context=a,this._k=(1-c)/6}xx.prototype={areaStart:qc,areaEnd:qc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._x3=a,this._y3=c;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=c);break;case 2:this._point=3,this._x5=a,this._y5=c;break;default:V0(this,a,c)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=c}};const aR=function a(c){function u(f){return new xx(f,c)}return u.tension=function(f){return a(+f)},u}(0);function hS(a,c){this._context=a,this._k=(1-c)/6}hS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V0(this,a,c)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=c}};const lR=function a(c){function u(f){return new hS(f,c)}return u.tension=function(f){return a(+f)},u}(0);function wx(a,c,u){var f=a._x1,g=a._y1,_=a._x2,w=a._y2;if(a._l01_a>Jo){var C=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,S=3*a._l01_a*(a._l01_a+a._l12_a);f=(f*C-a._x0*a._l12_2a+a._x2*a._l01_2a)/S,g=(g*C-a._y0*a._l12_2a+a._y2*a._l01_2a)/S}if(a._l23_a>Jo){var k=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,I=3*a._l23_a*(a._l23_a+a._l12_a);_=(_*k+a._x1*a._l23_2a-c*a._l12_2a)/I,w=(w*k+a._y1*a._l23_2a-u*a._l12_2a)/I}a._context.bezierCurveTo(f,g,_,w,a._x2,a._y2)}function Od(a,c){this._context=a,this._alpha=c}Od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){if(a=+a,c=+c,this._point){var u=this._x2-a,f=this._y2-c;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+f*f,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;break;case 2:this._point=3;default:wx(this,a,c)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=c}};const Cx=function a(c){function u(f){return c?new Od(f,c):new oR(f,0)}return u.alpha=function(f){return a(+f)},u}(.5);function fS(a,c){this._context=a,this._alpha=c}fS.prototype={areaStart:qc,areaEnd:qc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,c){if(a=+a,c=+c,this._point){var u=this._x2-a,f=this._y2-c;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+f*f,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=c;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=c);break;case 2:this._point=3,this._x5=a,this._y5=c;break;default:wx(this,a,c)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=c}};const cR=function a(c){function u(f){return c?new fS(f,c):new xx(f,0)}return u.alpha=function(f){return a(+f)},u}(.5);function dR(a,c){this._context=a,this._alpha=c}dR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){if(a=+a,c=+c,this._point){var u=this._x2-a,f=this._y2-c;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+f*f,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wx(this,a,c)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=c}};const G6=function a(c){function u(f){return c?new dR(f,c):new hS(f,0)}return u.alpha=function(f){return a(+f)},u}(.5);function j6(a){this._context=a}function uR(a){return new j6(a)}function hR(a){return a<0?-1:1}function W6(a,c,u){var f=a._x1-a._x0,g=c-a._x1,_=(a._y1-a._y0)/(f||g<0&&-0),w=(u-a._y1)/(g||f<0&&-0),C=(_*g+w*f)/(f+g);return(hR(_)+hR(w))*Math.min(Math.abs(_),Math.abs(w),.5*Math.abs(C))||0}function $6(a,c){var u=a._x1-a._x0;return u?(3*(a._y1-a._y0)/u-c)/2:c}function fR(a,c,u){var f=a._x0,_=a._x1,w=a._y1,C=(_-f)/3;a._context.bezierCurveTo(f+C,a._y0+C*c,_-C,w-C*u,_,w)}function mS(a){this._context=a}function pS(a){this._context=new Sn(a)}function Sn(a){this._context=a}function Y6(a){return new mS(a)}function Z6(a){return new pS(a)}function q6(a){this._context=a}function X6(a){var c,f,u=a.length-1,g=new Array(u),_=new Array(u),w=new Array(u);for(g[0]=0,_[0]=2,w[0]=a[0]+2*a[1],c=1;c<u-1;++c)g[c]=1,_[c]=4,w[c]=4*a[c]+2*a[c+1];for(g[u-1]=2,_[u-1]=7,w[u-1]=8*a[u-1]+a[u],c=1;c<u;++c)_[c]-=f=g[c]/_[c-1],w[c]-=f*w[c-1];for(g[u-1]=w[u-1]/_[u-1],c=u-2;c>=0;--c)g[c]=(w[c]-g[c+1])/_[c];for(_[u-1]=(a[u]+g[u-1])/2,c=0;c<u-1;++c)_[c]=2*a[c+1]-g[c+1];return[g,_]}function PG(a){return new q6(a)}function gS(a,c){this._context=a,this._t=c}function LG(a){return new gS(a,.5)}function K6(a){return new gS(a,0)}function Ex(a){return new gS(a,1)}function Zp(a,c){if((w=a.length)>1)for(var f,g,w,u=1,_=a[c[0]],C=_.length;u<w;++u)for(g=_,_=a[c[u]],f=0;f<C;++f)_[f][1]+=_[f][0]=isNaN(g[f][1])?g[f][0]:g[f][1]}function qp(a){for(var c=a.length,u=new Array(c);--c>=0;)u[c]=c;return u}function mR(a,c){return a[c]}function Df(a){const c=[];return c.key=a,c}function pR(){var a=xn([]),c=qp,u=Zp,f=mR;function g(_){var C,I,w=Array.from(a.apply(this,arguments),Df),S=w.length,k=-1;for(const N of _)for(C=0,++k;C<S;++C)(w[C][k]=[0,+f(N,w[C].key,k,_)]).data=N;for(C=0,I=_x(c(w));C<S;++C)w[I[C]].index=C;return u(w,I),w}return g.keys=function(_){return arguments.length?(a="function"==typeof _?_:xn(Array.from(_)),g):a},g.value=function(_){return arguments.length?(f="function"==typeof _?_:xn(+_),g):f},g.order=function(_){return arguments.length?(c=null==_?qp:"function"==typeof _?_:xn(Array.from(_)),g):c},g.offset=function(_){return arguments.length?(u=_??Zp,g):u},g}function _S(a,c){if((f=a.length)>0){for(var u,f,w,g=0,_=a[0].length;g<_;++g){for(w=u=0;u<f;++u)w+=a[u][g][1]||0;if(w)for(u=0;u<f;++u)a[u][g][1]/=w}Zp(a,c)}}function bS(a,c){if((S=a.length)>0)for(var u,g,_,w,C,S,f=0,k=a[c[0]].length;f<k;++f)for(w=C=0,u=0;u<S;++u)(_=(g=a[c[u]][f])[1]-g[0])>0?(g[0]=w,g[1]=w+=_):_<0?(g[1]=C,g[0]=C+=_):(g[0]=0,g[1]=_)}function Q6(a,c){if((g=a.length)>0){for(var g,u=0,f=a[c[0]],_=f.length;u<_;++u){for(var w=0,C=0;w<g;++w)C+=a[w][u][1]||0;f[u][1]+=f[u][0]=-C/2}Zp(a,c)}}function vS(a,c){if((w=a.length)>0&&(_=(g=a[c[0]]).length)>0){for(var g,_,w,u=0,f=1;f<_;++f){for(var C=0,S=0,k=0;C<w;++C){for(var I=a[c[C]],N=I[f][1]||0,G=(N-(I[f-1][1]||0))/2,at=0;at<C;++at){var dt=a[c[at]];G+=(dt[f][1]||0)-(dt[f-1][1]||0)}S+=N,k+=G*N}g[f-1][1]+=g[f-1][0]=u,S&&(u-=k/S)}g[f-1][1]+=g[f-1][0]=u,Zp(a,c)}}function Mx(a){var c=a.map(Sx);return qp(a).sort(function(u,f){return c[u]-c[f]})}function Sx(a){for(var g,c=-1,u=0,f=a.length,_=-1/0;++c<f;)(g=+a[c][1])>_&&(_=g,u=c);return u}function J6(a){var c=a.map(tB);return qp(a).sort(function(u,f){return c[u]-c[f]})}function tB(a){for(var g,c=0,u=-1,f=a.length;++u<f;)(g=+a[u][1])&&(c+=g);return c}function FG(a){return J6(a).reverse()}function gR(a){var u,f,c=a.length,g=a.map(tB),_=Mx(a),w=0,C=0,S=[],k=[];for(u=0;u<c;++u)f=_[u],w<C?(w+=g[f],S.push(f)):(C+=g[f],k.push(f));return k.reverse().concat(S)}function eB(a){return qp(a).reverse()}j6.prototype={areaStart:qc,areaEnd:qc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,c){a=+a,c=+c,this._point?this._context.lineTo(a,c):(this._point=1,this._context.moveTo(a,c))}},mS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fR(this,this._t0,$6(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,c){var u=NaN;if(c=+c,(a=+a)!==this._x1||c!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;break;case 2:this._point=3,fR(this,$6(this,u=W6(this,a,c)),u);break;default:fR(this,this._t0,u=W6(this,a,c))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=c,this._t0=u}}},(pS.prototype=Object.create(mS.prototype)).point=function(a,c){mS.prototype.point.call(this,c,a)},Sn.prototype={moveTo:function(a,c){this._context.moveTo(c,a)},closePath:function(){this._context.closePath()},lineTo:function(a,c){this._context.lineTo(c,a)},bezierCurveTo:function(a,c,u,f,g,_){this._context.bezierCurveTo(c,a,f,u,_,g)}},q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,c=this._y,u=a.length;if(u)if(this._line?this._context.lineTo(a[0],c[0]):this._context.moveTo(a[0],c[0]),2===u)this._context.lineTo(a[1],c[1]);else for(var f=X6(a),g=X6(c),_=0,w=1;w<u;++_,++w)this._context.bezierCurveTo(f[0][_],g[0][_],f[1][_],g[1][_],a[w],c[w]);(this._line||0!==this._line&&1===u)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,c){this._x.push(+a),this._y.push(+c)}},gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,c){switch(a=+a,c=+c,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,c),this._context.lineTo(a,c);else{var u=this._x*(1-this._t)+a*this._t;this._context.lineTo(u,this._y),this._context.lineTo(u,c)}}this._x=a,this._y=c}};var _R="%Y-%m-%dT%H:%M:%S.%LZ";const bR=Date.prototype.toISOString?function iB(a){return a.toISOString()}:PM(_R),rB=+new Date("2000-01-01T00:00:00.000Z")?function vR(a){var c=new Date(a);return isNaN(c)?null:c}:LM(_R);function sB(a,c,u){var f=new Om,g=c;return null==c?(f.restart(a,c,u),f):(f._restart=f.restart,f.restart=function(_,w,C){w=+w,C=null==C?f_():+C,f._restart(function S(k){k+=g,f._restart(S,g+=w,C),_(k)},w,C)},f.restart(a,c,u),f)}const H0=a=>()=>a;function Rl(a,{sourceEvent:c,target:u,transform:f,dispatch:g}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:c,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},transform:{value:f,enumerable:!0,configurable:!0},_:{value:g}})}function Wu(a,c,u){this.k=a,this.x=c,this.y=u}Wu.prototype={constructor:Wu,scale:function(a){return 1===a?this:new Wu(this.k*a,this.x,this.y)},translate:function(a,c){return 0===a&0===c?this:new Wu(this.k,this.x+this.k*a,this.y+this.k*c)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var U0=new Wu(1,0,0);function Xp(a){for(;!a.__zoom;)if(!(a=a.parentNode))return U0;return a.__zoom}function yS(a){a.stopImmediatePropagation()}function G0(a){a.preventDefault(),a.stopImmediatePropagation()}function NG(a){return!(a.ctrlKey&&"wheel"!==a.type||a.button)}function BG(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a).hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]:[[0,0],[a.clientWidth,a.clientHeight]]}function xR(){return this.__zoom||U0}function oB(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function aB(){return navigator.maxTouchPoints||"ontouchstart"in this}function lB(a,c,u){var f=a.invertX(c[0][0])-u[0][0],g=a.invertX(c[1][0])-u[1][0],_=a.invertY(c[0][1])-u[0][1],w=a.invertY(c[1][1])-u[1][1];return a.translate(g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g),w>_?(_+w)/2:Math.min(0,_)||Math.max(0,w))}function wR(){var I,N,R,a=NG,c=BG,u=lB,f=oB,g=aB,_=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],C=250,S=Mt,k=nr("start","zoom","end"),G=500,at=150,dt=0,X=10;function nt(Qt){Qt.property("__zoom",xR).on("wheel.zoom",Ce).on("mousedown.zoom",Be).on("dblclick.zoom",ae).filter(g).on("touchstart.zoom",se).on("touchmove.zoom",Le).on("touchend.zoom touchcancel.zoom",De).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function yt(Qt,le){return(le=Math.max(_[0],Math.min(_[1],le)))===Qt.k?Qt:new Wu(le,Qt.x,Qt.y)}function bt(Qt,le,ce){var Pe=le[0]-ce[0]*Qt.k,Ke=le[1]-ce[1]*Qt.k;return Pe===Qt.x&&Ke===Qt.y?Qt:new Wu(Qt.k,Pe,Ke)}function mt(Qt){return[(+Qt[0][0]+ +Qt[1][0])/2,(+Qt[0][1]+ +Qt[1][1])/2]}function Gt(Qt,le,ce,Pe){Qt.on("start.zoom",function(){$t(this,arguments).event(Pe).start()}).on("interrupt.zoom end.zoom",function(){$t(this,arguments).event(Pe).end()}).tween("zoom",function(){var Ke=this,ii=arguments,hi=$t(Ke,ii).event(Pe),Si=c.apply(Ke,ii),$i=null==ce?mt(Si):"function"==typeof ce?ce.apply(Ke,ii):ce,br=Math.max(Si[1][0]-Si[0][0],Si[1][1]-Si[0][1]),li=Ke.__zoom,mr="function"==typeof le?le.apply(Ke,ii):le,$s=S(li.invert($i).concat(br/li.k),mr.invert($i).concat(br/mr.k));return function(dr){if(1===dr)dr=mr;else{var Ys=$s(dr),xi=br/Ys[2];dr=new Wu(xi,$i[0]-Ys[0]*xi,$i[1]-Ys[1]*xi)}hi.zoom(null,dr)}})}function $t(Qt,le,ce){return!ce&&Qt.__zooming||new ye(Qt,le)}function ye(Qt,le){this.that=Qt,this.args=le,this.active=0,this.sourceEvent=null,this.extent=c.apply(Qt,le),this.taps=0}function Ce(Qt,...le){if(a.apply(this,arguments)){var ce=$t(this,le).event(Qt),Pe=this.__zoom,Ke=Math.max(_[0],Math.min(_[1],Pe.k*Math.pow(2,f.apply(this,arguments)))),ii=xl(Qt);if(ce.wheel)(ce.mouse[0][0]!==ii[0]||ce.mouse[0][1]!==ii[1])&&(ce.mouse[1]=Pe.invert(ce.mouse[0]=ii)),clearTimeout(ce.wheel);else{if(Pe.k===Ke)return;ce.mouse=[ii,Pe.invert(ii)],ar(this),ce.start()}G0(Qt),ce.wheel=setTimeout(function hi(){ce.wheel=null,ce.end()},at),ce.zoom("mouse",u(bt(yt(Pe,Ke),ce.mouse[0],ce.mouse[1]),ce.extent,w))}}function Be(Qt,...le){if(!R&&a.apply(this,arguments)){var ce=$t(this,le,!0).event(Qt),Pe=hs(Qt.view).on("mousemove.zoom",function $i(li){if(G0(li),!ce.moved){var mr=li.clientX-hi,$s=li.clientY-Si;ce.moved=mr*mr+$s*$s>dt}ce.event(li).zoom("mouse",u(bt(ce.that.__zoom,ce.mouse[0]=xl(li,ii),ce.mouse[1]),ce.extent,w))},!0).on("mouseup.zoom",function br(li){Pe.on("mousemove.zoom mouseup.zoom",null),Rn(li.view,ce.moved),G0(li),ce.event(li).end()},!0),Ke=xl(Qt,ii),ii=Qt.currentTarget,hi=Qt.clientX,Si=Qt.clientY;pu(Qt.view),yS(Qt),ce.mouse=[Ke,this.__zoom.invert(Ke)],ar(this),ce.start()}}function ae(Qt,...le){if(a.apply(this,arguments)){var ce=this.__zoom,Pe=xl(Qt.changedTouches?Qt.changedTouches[0]:Qt,this),Ke=ce.invert(Pe),hi=u(bt(yt(ce,ce.k*(Qt.shiftKey?.5:2)),Pe,Ke),c.apply(this,le),w);G0(Qt),C>0?hs(this).transition().duration(C).call(Gt,hi,Pe,Qt):hs(this).call(nt.transform,hi,Pe,Qt)}}function se(Qt,...le){if(a.apply(this,arguments)){var ii,hi,Si,$i,ce=Qt.touches,Pe=ce.length,Ke=$t(this,le,Qt.changedTouches.length===Pe).event(Qt);for(yS(Qt),hi=0;hi<Pe;++hi)$i=[$i=xl(Si=ce[hi],this),this.__zoom.invert($i),Si.identifier],Ke.touch0?!Ke.touch1&&Ke.touch0[2]!==$i[2]&&(Ke.touch1=$i,Ke.taps=0):(Ke.touch0=$i,ii=!0,Ke.taps=1+!!I);I&&(I=clearTimeout(I)),ii&&(Ke.taps<2&&(N=$i[0],I=setTimeout(function(){I=null},G)),ar(this),Ke.start())}}function Le(Qt,...le){if(this.__zooming){var ii,hi,Si,$i,ce=$t(this,le).event(Qt),Pe=Qt.changedTouches,Ke=Pe.length;for(G0(Qt),ii=0;ii<Ke;++ii)Si=xl(hi=Pe[ii],this),ce.touch0&&ce.touch0[2]===hi.identifier?ce.touch0[0]=Si:ce.touch1&&ce.touch1[2]===hi.identifier&&(ce.touch1[0]=Si);if(hi=ce.that.__zoom,ce.touch1){var br=ce.touch0[0],li=ce.touch0[1],mr=ce.touch1[0],$s=ce.touch1[1],dr=(dr=mr[0]-br[0])*dr+(dr=mr[1]-br[1])*dr,Ys=(Ys=$s[0]-li[0])*Ys+(Ys=$s[1]-li[1])*Ys;hi=yt(hi,Math.sqrt(dr/Ys)),Si=[(br[0]+mr[0])/2,(br[1]+mr[1])/2],$i=[(li[0]+$s[0])/2,(li[1]+$s[1])/2]}else{if(!ce.touch0)return;Si=ce.touch0[0],$i=ce.touch0[1]}ce.zoom("touch",u(bt(hi,Si,$i),ce.extent,w))}}function De(Qt,...le){if(this.__zooming){var ii,hi,ce=$t(this,le).event(Qt),Pe=Qt.changedTouches,Ke=Pe.length;for(yS(Qt),R&&clearTimeout(R),R=setTimeout(function(){R=null},G),ii=0;ii<Ke;++ii)hi=Pe[ii],ce.touch0&&ce.touch0[2]===hi.identifier?delete ce.touch0:ce.touch1&&ce.touch1[2]===hi.identifier&&delete ce.touch1;if(ce.touch1&&!ce.touch0&&(ce.touch0=ce.touch1,delete ce.touch1),ce.touch0)ce.touch0[1]=this.__zoom.invert(ce.touch0[0]);else if(ce.end(),2===ce.taps&&(hi=xl(hi,this),Math.hypot(N[0]-hi[0],N[1]-hi[1])<X)){var Si=hs(this).on("dblclick.zoom");Si&&Si.apply(this,arguments)}}}return nt.transform=function(Qt,le,ce,Pe){var Ke=Qt.selection?Qt.selection():Qt;Ke.property("__zoom",xR),Qt!==Ke?Gt(Qt,le,ce,Pe):Ke.interrupt().each(function(){$t(this,arguments).event(Pe).start().zoom(null,"function"==typeof le?le.apply(this,arguments):le).end()})},nt.scaleBy=function(Qt,le,ce,Pe){nt.scaleTo(Qt,function(){return this.__zoom.k*("function"==typeof le?le.apply(this,arguments):le)},ce,Pe)},nt.scaleTo=function(Qt,le,ce,Pe){nt.transform(Qt,function(){var Ke=c.apply(this,arguments),ii=this.__zoom,hi=null==ce?mt(Ke):"function"==typeof ce?ce.apply(this,arguments):ce,Si=ii.invert(hi),$i="function"==typeof le?le.apply(this,arguments):le;return u(bt(yt(ii,$i),hi,Si),Ke,w)},ce,Pe)},nt.translateBy=function(Qt,le,ce,Pe){nt.transform(Qt,function(){return u(this.__zoom.translate("function"==typeof le?le.apply(this,arguments):le,"function"==typeof ce?ce.apply(this,arguments):ce),c.apply(this,arguments),w)},null,Pe)},nt.translateTo=function(Qt,le,ce,Pe,Ke){nt.transform(Qt,function(){var ii=c.apply(this,arguments),hi=this.__zoom,Si=null==Pe?mt(ii):"function"==typeof Pe?Pe.apply(this,arguments):Pe;return u(U0.translate(Si[0],Si[1]).scale(hi.k).translate("function"==typeof le?-le.apply(this,arguments):-le,"function"==typeof ce?-ce.apply(this,arguments):-ce),ii,w)},Pe,Ke)},ye.prototype={event:function(Qt){return Qt&&(this.sourceEvent=Qt),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Qt,le){return this.mouse&&"mouse"!==Qt&&(this.mouse[1]=le.invert(this.mouse[0])),this.touch0&&"touch"!==Qt&&(this.touch0[1]=le.invert(this.touch0[0])),this.touch1&&"touch"!==Qt&&(this.touch1[1]=le.invert(this.touch1[0])),this.that.__zoom=le,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Qt){var le=hs(this.that).datum();k.call(Qt,this.that,new Rl(Qt,{sourceEvent:this.sourceEvent,target:nt,type:Qt,transform:this.that.__zoom,dispatch:k}),le)}},nt.wheelDelta=function(Qt){return arguments.length?(f="function"==typeof Qt?Qt:H0(+Qt),nt):f},nt.filter=function(Qt){return arguments.length?(a="function"==typeof Qt?Qt:H0(!!Qt),nt):a},nt.touchable=function(Qt){return arguments.length?(g="function"==typeof Qt?Qt:H0(!!Qt),nt):g},nt.extent=function(Qt){return arguments.length?(c="function"==typeof Qt?Qt:H0([[+Qt[0][0],+Qt[0][1]],[+Qt[1][0],+Qt[1][1]]]),nt):c},nt.scaleExtent=function(Qt){return arguments.length?(_[0]=+Qt[0],_[1]=+Qt[1],nt):[_[0],_[1]]},nt.translateExtent=function(Qt){return arguments.length?(w[0][0]=+Qt[0][0],w[1][0]=+Qt[1][0],w[0][1]=+Qt[0][1],w[1][1]=+Qt[1][1],nt):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},nt.constrain=function(Qt){return arguments.length?(u=Qt,nt):u},nt.duration=function(Qt){return arguments.length?(C=+Qt,nt):C},nt.interpolate=function(Qt){return arguments.length?(S=Qt,nt):S},nt.on=function(){var Qt=k.on.apply(k,arguments);return Qt===k?nt:Qt},nt.clickDistance=function(Qt){return arguments.length?(dt=(Qt=+Qt)*Qt,nt):Math.sqrt(dt)},nt.tapDistance=function(Qt){return arguments.length?(X=+Qt,nt):X},nt}Xp.prototype=Wu.prototype},217:function(nn,Ot){var Et,st;void 0!==(st="function"==typeof(Et=function(){"use strict";function ut(B,q,Z){var it=new XMLHttpRequest;it.open("GET",B),it.responseType="blob",it.onload=function(){J(it.response,q,Z)},it.onerror=function(){console.error("could not download file")},it.send()}function ot(B){var q=new XMLHttpRequest;q.open("HEAD",B,!1);try{q.send()}catch{}return 200<=q.status&&299>=q.status}function At(B){try{B.dispatchEvent(new MouseEvent("click"))}catch{var q=document.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),B.dispatchEvent(q)}}var ft="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,rt=ft.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),J=ft.saveAs||("object"!=typeof window||window!==ft?function(){}:"download"in HTMLAnchorElement.prototype&&!rt?function(B,q,Z){var it=ft.URL||ft.webkitURL,et=document.createElement("a");et.download=q=q||B.name||"download",et.rel="noopener","string"==typeof B?(et.href=B,et.origin===location.origin?At(et):ot(et.href)?ut(B,q,Z):At(et,et.target="_blank")):(et.href=it.createObjectURL(B),setTimeout(function(){it.revokeObjectURL(et.href)},4e4),setTimeout(function(){At(et)},0))}:"msSaveOrOpenBlob"in navigator?function(B,q,Z){if(q=q||B.name||"download","string"!=typeof B)navigator.msSaveOrOpenBlob(function pt(B,q){return typeof q>"u"?q={autoBom:!1}:"object"!=typeof q&&(console.warn("Deprecated: Expected third argument to be a object"),q={autoBom:!q}),q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(B.type)?new Blob(["\ufeff",B],{type:B.type}):B}(B,Z),q);else if(ot(B))ut(B,q,Z);else{var it=document.createElement("a");it.href=B,it.target="_blank",setTimeout(function(){At(it)})}}:function(B,q,Z,it){if((it=it||open("","_blank"))&&(it.document.title=it.document.body.innerText="downloading..."),"string"==typeof B)return ut(B,q,Z);var et="application/octet-stream"===B.type,$=/constructor/i.test(ft.HTMLElement)||ft.safari,lt=/CriOS\/[\d]+/.test(navigator.userAgent);if((lt||et&&$||rt)&&typeof FileReader<"u"){var _t=new FileReader;_t.onloadend=function(){var Ut=_t.result;Ut=lt?Ut:Ut.replace(/^data:[^;]*;/,"data:attachment/file;"),it?it.location.href=Ut:location=Ut,it=null},_t.readAsDataURL(B)}else{var Dt=ft.URL||ft.webkitURL,Yt=Dt.createObjectURL(B);it?it.location=Yt:location.href=Yt,it=null,setTimeout(function(){Dt.revokeObjectURL(Yt)},4e4)}});ft.saveAs=J.saveAs=J,nn.exports=J})?Et.apply(Ot,[]):Et)&&(nn.exports=st)},601:(nn,Ot)=>{Ot.read=function(Et,ht,st,pt,ut){var ot,At,ft=8*ut-pt-1,rt=(1<<ft)-1,J=rt>>1,B=-7,q=st?ut-1:0,Z=st?-1:1,it=Et[ht+q];for(q+=Z,ot=it&(1<<-B)-1,it>>=-B,B+=ft;B>0;ot=256*ot+Et[ht+q],q+=Z,B-=8);for(At=ot&(1<<-B)-1,ot>>=-B,B+=pt;B>0;At=256*At+Et[ht+q],q+=Z,B-=8);if(0===ot)ot=1-J;else{if(ot===rt)return At?NaN:1/0*(it?-1:1);At+=Math.pow(2,pt),ot-=J}return(it?-1:1)*At*Math.pow(2,ot-pt)},Ot.write=function(Et,ht,st,pt,ut,ot){var At,ft,rt,J=8*ot-ut-1,B=(1<<J)-1,q=B>>1,Z=23===ut?Math.pow(2,-24)-Math.pow(2,-77):0,it=pt?0:ot-1,et=pt?1:-1,$=ht<0||0===ht&&1/ht<0?1:0;for(ht=Math.abs(ht),isNaN(ht)||ht===1/0?(ft=isNaN(ht)?1:0,At=B):(At=Math.floor(Math.log(ht)/Math.LN2),ht*(rt=Math.pow(2,-At))<1&&(At--,rt*=2),(ht+=At+q>=1?Z/rt:Z*Math.pow(2,1-q))*rt>=2&&(At++,rt/=2),At+q>=B?(ft=0,At=B):At+q>=1?(ft=(ht*rt-1)*Math.pow(2,ut),At+=q):(ft=ht*Math.pow(2,q-1)*Math.pow(2,ut),At=0));ut>=8;Et[st+it]=255&ft,it+=et,ft/=256,ut-=8);for(At=At<<ut|ft,J+=ut;J>0;Et[st+it]=255&At,it+=et,At/=256,J-=8);Et[st+it-et]|=128*$}},965:nn=>{nn.exports=function Ot(Et,ht,st){function pt(At,ft){if(!ht[At]){if(!Et[At]){if(ut)return ut(At,!0);var J=new Error("Cannot find module '"+At+"'");throw J.code="MODULE_NOT_FOUND",J}var B=ht[At]={exports:{}};Et[At][0].call(B.exports,function(q){return pt(Et[At][1][q]||q)},B,B.exports,Ot,Et,ht,st)}return ht[At].exports}for(var ut=void 0,ot=0;ot<st.length;ot++)pt(st[ot]);return pt}({1:[function(Ot,Et,ht){"use strict";var st=Ot("./utils"),pt=Ot("./support"),ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ht.encode=function(ot){for(var At,ft,rt,B,q,Z,it=[],et=0,$=ot.length,lt=$,_t="string"!==st.getTypeOf(ot);et<ot.length;)lt=$-et,rt=_t?(At=ot[et++],ft=et<$?ot[et++]:0,et<$?ot[et++]:0):(At=ot.charCodeAt(et++),ft=et<$?ot.charCodeAt(et++):0,et<$?ot.charCodeAt(et++):0),B=(3&At)<<4|ft>>4,q=1<lt?(15&ft)<<2|rt>>6:64,Z=2<lt?63&rt:64,it.push(ut.charAt(At>>2)+ut.charAt(B)+ut.charAt(q)+ut.charAt(Z));return it.join("")},ht.decode=function(ot){var At,ft,rt,J,B,q,Z=0,it=0;if("data:"===ot.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var $,lt=3*(ot=ot.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(ot.charAt(ot.length-1)===ut.charAt(64)&&lt--,ot.charAt(ot.length-2)===ut.charAt(64)&&lt--,lt%1!=0)throw new Error("Invalid base64 input, bad content length.");for($=pt.uint8array?new Uint8Array(0|lt):new Array(0|lt);Z<ot.length;)At=ut.indexOf(ot.charAt(Z++))<<2|(J=ut.indexOf(ot.charAt(Z++)))>>4,ft=(15&J)<<4|(B=ut.indexOf(ot.charAt(Z++)))>>2,rt=(3&B)<<6|(q=ut.indexOf(ot.charAt(Z++))),$[it++]=At,64!==B&&($[it++]=ft),64!==q&&($[it++]=rt);return $}},{"./support":30,"./utils":32}],2:[function(Ot,Et,ht){"use strict";var st=Ot("./external"),pt=Ot("./stream/DataWorker"),ut=Ot("./stream/Crc32Probe"),ot=Ot("./stream/DataLengthProbe");function At(ft,rt,J,B,q){this.compressedSize=ft,this.uncompressedSize=rt,this.crc32=J,this.compression=B,this.compressedContent=q}At.prototype={getContentWorker:function(){var ft=new pt(st.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ot("data_length")),rt=this;return ft.on("end",function(){if(this.streamInfo.data_length!==rt.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ft},getCompressedWorker:function(){return new pt(st.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},At.createWorkerFrom=function(ft,rt,J){return ft.pipe(new ut).pipe(new ot("uncompressedSize")).pipe(rt.compressWorker(J)).pipe(new ot("compressedSize")).withStreamInfo("compression",rt)},Et.exports=At},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Ot,Et,ht){"use strict";var st=Ot("./stream/GenericWorker");ht.STORE={magic:"\0\0",compressWorker:function(){return new st("STORE compression")},uncompressWorker:function(){return new st("STORE decompression")}},ht.DEFLATE=Ot("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Ot,Et,ht){"use strict";var st=Ot("./utils"),pt=function(){for(var ut,ot=[],At=0;At<256;At++){ut=At;for(var ft=0;ft<8;ft++)ut=1&ut?3988292384^ut>>>1:ut>>>1;ot[At]=ut}return ot}();Et.exports=function(ut,ot){return void 0!==ut&&ut.length?"string"!==st.getTypeOf(ut)?function(At,ft,rt,J){var B=pt,q=0+rt;At^=-1;for(var Z=0;Z<q;Z++)At=At>>>8^B[255&(At^ft[Z])];return-1^At}(0|ot,ut,ut.length):function(At,ft,rt,J){var B=pt,q=0+rt;At^=-1;for(var Z=0;Z<q;Z++)At=At>>>8^B[255&(At^ft.charCodeAt(Z))];return-1^At}(0|ot,ut,ut.length):0}},{"./utils":32}],5:[function(Ot,Et,ht){"use strict";ht.base64=!1,ht.binary=!1,ht.dir=!1,ht.createFolders=!0,ht.date=null,ht.compression=null,ht.compressionOptions=null,ht.comment=null,ht.unixPermissions=null,ht.dosPermissions=null},{}],6:[function(Ot,Et,ht){"use strict";var st;st=typeof Promise<"u"?Promise:Ot("lie"),Et.exports={Promise:st}},{lie:37}],7:[function(Ot,Et,ht){"use strict";var st=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",pt=Ot("pako"),ut=Ot("./utils"),ot=Ot("./stream/GenericWorker"),At=st?"uint8array":"array";function ft(rt,J){ot.call(this,"FlateWorker/"+rt),this._pako=null,this._pakoAction=rt,this._pakoOptions=J,this.meta={}}ht.magic="\b\0",ut.inherits(ft,ot),ft.prototype.processChunk=function(rt){this.meta=rt.meta,null===this._pako&&this._createPako(),this._pako.push(ut.transformTo(At,rt.data),!1)},ft.prototype.flush=function(){ot.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},ft.prototype.cleanUp=function(){ot.prototype.cleanUp.call(this),this._pako=null},ft.prototype._createPako=function(){this._pako=new pt[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var rt=this;this._pako.onData=function(J){rt.push({data:J,meta:rt.meta})}},ht.compressWorker=function(rt){return new ft("Deflate",rt)},ht.uncompressWorker=function(){return new ft("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Ot,Et,ht){"use strict";function st(B,q){var Z,it="";for(Z=0;Z<q;Z++)it+=String.fromCharCode(255&B),B>>>=8;return it}function pt(B,q,Z,it,et,$){var lt,_t,Dt=B.file,Yt=B.compression,Ut=$!==At.utf8encode,ue=ut.transformTo("string",$(Dt.name)),Xt=ut.transformTo("string",At.utf8encode(Dt.name)),_e=Dt.comment,Oe=ut.transformTo("string",$(_e)),Ft=ut.transformTo("string",At.utf8encode(_e)),ge=Xt.length!==Dt.name.length,ct=Ft.length!==_e.length,Nt="",gt="",St="",ee=Dt.dir,ve=Dt.date,jt={crc32:0,compressedSize:0,uncompressedSize:0};q&&!Z||(jt.crc32=B.crc32,jt.compressedSize=B.compressedSize,jt.uncompressedSize=B.uncompressedSize);var Lt=0;q&&(Lt|=8),Ut||!ge&&!ct||(Lt|=2048);var ze,$n,Wt=0,si=0;ee&&(Wt|=16),"UNIX"===et?(si=798,Wt|=($n=ze=Dt.unixPermissions,ze||($n=ee?16893:33204),(65535&$n)<<16)):(si=20,Wt|=function(ze){return 63&(ze||0)}(Dt.dosPermissions)),lt=ve.getUTCHours(),lt<<=6,lt|=ve.getUTCMinutes(),lt<<=5,lt|=ve.getUTCSeconds()/2,_t=ve.getUTCFullYear()-1980,_t<<=4,_t|=ve.getUTCMonth()+1,_t<<=5,_t|=ve.getUTCDate(),ge&&(gt=st(1,1)+st(ft(ue),4)+Xt,Nt+="up"+st(gt.length,2)+gt),ct&&(St=st(1,1)+st(ft(Oe),4)+Ft,Nt+="uc"+st(St.length,2)+St);var Qe="";return Qe+="\n\0",Qe+=st(Lt,2),Qe+=Yt.magic,Qe+=st(lt,2),Qe+=st(_t,2),Qe+=st(jt.crc32,4),Qe+=st(jt.compressedSize,4),Qe+=st(jt.uncompressedSize,4),Qe+=st(ue.length,2),Qe+=st(Nt.length,2),{fileRecord:rt.LOCAL_FILE_HEADER+Qe+ue+Nt,dirRecord:rt.CENTRAL_FILE_HEADER+st(si,2)+Qe+st(Oe.length,2)+"\0\0\0\0"+st(Wt,4)+st(it,4)+ue+Nt+Oe}}var ut=Ot("../utils"),ot=Ot("../stream/GenericWorker"),At=Ot("../utf8"),ft=Ot("../crc32"),rt=Ot("../signature");function J(B,q,Z,it){ot.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=q,this.zipPlatform=Z,this.encodeFileName=it,this.streamFiles=B,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}ut.inherits(J,ot),J.prototype.push=function(B){var q=B.meta.percent||0,Z=this.entriesCount,it=this._sources.length;this.accumulate?this.contentBuffer.push(B):(this.bytesWritten+=B.data.length,ot.prototype.push.call(this,{data:B.data,meta:{currentFile:this.currentFile,percent:Z?(q+100*(Z-it-1))/Z:100}}))},J.prototype.openedSource=function(B){this.currentSourceOffset=this.bytesWritten,this.currentFile=B.file.name;var q=this.streamFiles&&!B.file.dir;if(q){var Z=pt(B,q,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Z.fileRecord,meta:{percent:0}})}else this.accumulate=!0},J.prototype.closedSource=function(B){this.accumulate=!1;var it,q=this.streamFiles&&!B.file.dir,Z=pt(B,q,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Z.dirRecord),q)this.push({data:(it=B,rt.DATA_DESCRIPTOR+st(it.crc32,4)+st(it.compressedSize,4)+st(it.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:Z.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},J.prototype.flush=function(){for(var B=this.bytesWritten,q=0;q<this.dirRecords.length;q++)this.push({data:this.dirRecords[q],meta:{percent:100}});var et,$,lt,Yt,it=(et=this.dirRecords.length,$=this.bytesWritten-B,lt=B,Yt=ut.transformTo("string",(0,this.encodeFileName)(this.zipComment)),rt.CENTRAL_DIRECTORY_END+"\0\0\0\0"+st(et,2)+st(et,2)+st($,4)+st(lt,4)+st(Yt.length,2)+Yt);this.push({data:it,meta:{percent:100}})},J.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},J.prototype.registerPrevious=function(B){this._sources.push(B);var q=this;return B.on("data",function(Z){q.processChunk(Z)}),B.on("end",function(){q.closedSource(q.previous.streamInfo),q._sources.length?q.prepareNextSource():q.end()}),B.on("error",function(Z){q.error(Z)}),this},J.prototype.resume=function(){return!!ot.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},J.prototype.error=function(B){var q=this._sources;if(!ot.prototype.error.call(this,B))return!1;for(var Z=0;Z<q.length;Z++)try{q[Z].error(B)}catch{}return!0},J.prototype.lock=function(){ot.prototype.lock.call(this);for(var B=this._sources,q=0;q<B.length;q++)B[q].lock()},Et.exports=J},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Ot,Et,ht){"use strict";var st=Ot("../compressions"),pt=Ot("./ZipFileWorker");ht.generateWorker=function(ut,ot,At){var ft=new pt(ot.streamFiles,At,ot.platform,ot.encodeFileName),rt=0;try{ut.forEach(function(J,B){rt++;var q=function($,lt){var _t=$||lt,Dt=st[_t];if(!Dt)throw new Error(_t+" is not a valid compression method !");return Dt}(B.options.compression,ot.compression),it=B.dir,et=B.date;B._compressWorker(q,B.options.compressionOptions||ot.compressionOptions||{}).withStreamInfo("file",{name:J,dir:it,date:et,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(ft)}),ft.entriesCount=rt}catch(J){ft.error(J)}return ft}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Ot,Et,ht){"use strict";function st(){if(!(this instanceof st))return new st;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var pt=new st;for(var ut in this)"function"!=typeof this[ut]&&(pt[ut]=this[ut]);return pt}}(st.prototype=Ot("./object")).loadAsync=Ot("./load"),st.support=Ot("./support"),st.defaults=Ot("./defaults"),st.version="3.10.1",st.loadAsync=function(pt,ut){return(new st).loadAsync(pt,ut)},st.external=Ot("./external"),Et.exports=st},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Ot,Et,ht){"use strict";var st=Ot("./utils"),pt=Ot("./external"),ut=Ot("./utf8"),ot=Ot("./zipEntries"),At=Ot("./stream/Crc32Probe"),ft=Ot("./nodejsUtils");function rt(J){return new pt.Promise(function(B,q){var Z=J.decompressed.getContentWorker().pipe(new At);Z.on("error",function(it){q(it)}).on("end",function(){Z.streamInfo.crc32!==J.decompressed.crc32?q(new Error("Corrupted zip : CRC32 mismatch")):B()}).resume()})}Et.exports=function(J,B){var q=this;return B=st.extend(B||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ut.utf8decode}),ft.isNode&&ft.isStream(J)?pt.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):st.prepareContent("the loaded zip file",J,!0,B.optimizedBinaryString,B.base64).then(function(Z){var it=new ot(B);return it.load(Z),it}).then(function(Z){var it=[pt.Promise.resolve(Z)],et=Z.files;if(B.checkCRC32)for(var $=0;$<et.length;$++)it.push(rt(et[$]));return pt.Promise.all(it)}).then(function(Z){for(var it=Z.shift(),et=it.files,$=0;$<et.length;$++){var lt=et[$],_t=lt.fileNameStr,Dt=st.resolve(lt.fileNameStr);q.file(Dt,lt.decompressed,{binary:!0,optimizedBinaryString:!0,date:lt.date,dir:lt.dir,comment:lt.fileCommentStr.length?lt.fileCommentStr:null,unixPermissions:lt.unixPermissions,dosPermissions:lt.dosPermissions,createFolders:B.createFolders}),lt.dir||(q.file(Dt).unsafeOriginalName=_t)}return it.zipComment.length&&(q.comment=it.zipComment),q})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Ot,Et,ht){"use strict";var st=Ot("../utils"),pt=Ot("../stream/GenericWorker");function ut(ot,At){pt.call(this,"Nodejs stream input adapter for "+ot),this._upstreamEnded=!1,this._bindStream(At)}st.inherits(ut,pt),ut.prototype._bindStream=function(ot){var At=this;(this._stream=ot).pause(),ot.on("data",function(ft){At.push({data:ft,meta:{percent:0}})}).on("error",function(ft){At.isPaused?this.generatedError=ft:At.error(ft)}).on("end",function(){At.isPaused?At._upstreamEnded=!0:At.end()})},ut.prototype.pause=function(){return!!pt.prototype.pause.call(this)&&(this._stream.pause(),!0)},ut.prototype.resume=function(){return!!pt.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Et.exports=ut},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Ot,Et,ht){"use strict";var st=Ot("readable-stream").Readable;function pt(ut,ot,At){st.call(this,ot),this._helper=ut;var ft=this;ut.on("data",function(rt,J){ft.push(rt)||ft._helper.pause(),At&&At(J)}).on("error",function(rt){ft.emit("error",rt)}).on("end",function(){ft.push(null)})}Ot("../utils").inherits(pt,st),pt.prototype._read=function(){this._helper.resume()},Et.exports=pt},{"../utils":32,"readable-stream":16}],14:[function(Ot,Et,ht){"use strict";Et.exports={isNode:typeof Buffer<"u",newBufferFrom:function(st,pt){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(st,pt);if("number"==typeof st)throw new Error('The "data" argument must not be a number');return new Buffer(st,pt)},allocBuffer:function(st){if(Buffer.alloc)return Buffer.alloc(st);var pt=new Buffer(st);return pt.fill(0),pt},isBuffer:function(st){return Buffer.isBuffer(st)},isStream:function(st){return st&&"function"==typeof st.on&&"function"==typeof st.pause&&"function"==typeof st.resume}}},{}],15:[function(Ot,Et,ht){"use strict";function st(Dt,Yt,Ut){var ue,Xt=ut.getTypeOf(Yt),_e=ut.extend(Ut||{},ft);_e.date=_e.date||new Date,null!==_e.compression&&(_e.compression=_e.compression.toUpperCase()),"string"==typeof _e.unixPermissions&&(_e.unixPermissions=parseInt(_e.unixPermissions,8)),_e.unixPermissions&&16384&_e.unixPermissions&&(_e.dir=!0),_e.dosPermissions&&16&_e.dosPermissions&&(_e.dir=!0),_e.dir&&(Dt=et(Dt)),_e.createFolders&&(ue=it(Dt))&&$.call(this,ue,!0),Ut&&void 0!==Ut.binary||(_e.binary=!("string"===Xt&&!1===_e.binary&&!1===_e.base64)),(Yt instanceof rt&&0===Yt.uncompressedSize||_e.dir||!Yt||0===Yt.length)&&(_e.base64=!1,_e.binary=!0,Yt="",_e.compression="STORE",Xt="string");var Ft;Ft=Yt instanceof rt||Yt instanceof ot?Yt:q.isNode&&q.isStream(Yt)?new Z(Dt,Yt):ut.prepareContent(Dt,Yt,_e.binary,_e.optimizedBinaryString,_e.base64);var ge=new J(Dt,Ft,_e);this.files[Dt]=ge}var pt=Ot("./utf8"),ut=Ot("./utils"),ot=Ot("./stream/GenericWorker"),At=Ot("./stream/StreamHelper"),ft=Ot("./defaults"),rt=Ot("./compressedObject"),J=Ot("./zipObject"),B=Ot("./generate"),q=Ot("./nodejsUtils"),Z=Ot("./nodejs/NodejsStreamInputAdapter"),it=function(Dt){"/"===Dt.slice(-1)&&(Dt=Dt.substring(0,Dt.length-1));var Yt=Dt.lastIndexOf("/");return 0<Yt?Dt.substring(0,Yt):""},et=function(Dt){return"/"!==Dt.slice(-1)&&(Dt+="/"),Dt},$=function(Dt,Yt){return Yt=void 0!==Yt?Yt:ft.createFolders,Dt=et(Dt),this.files[Dt]||st.call(this,Dt,null,{dir:!0,createFolders:Yt}),this.files[Dt]};function lt(Dt){return"[object RegExp]"===Object.prototype.toString.call(Dt)}var _t={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Dt){var Yt,Ut,ue;for(Yt in this.files)ue=this.files[Yt],(Ut=Yt.slice(this.root.length,Yt.length))&&Yt.slice(0,this.root.length)===this.root&&Dt(Ut,ue)},filter:function(Dt){var Yt=[];return this.forEach(function(Ut,ue){Dt(Ut,ue)&&Yt.push(ue)}),Yt},file:function(Dt,Yt,Ut){if(1!==arguments.length)return st.call(this,Dt=this.root+Dt,Yt,Ut),this;if(lt(Dt)){var ue=Dt;return this.filter(function(_e,Oe){return!Oe.dir&&ue.test(_e)})}var Xt=this.files[this.root+Dt];return Xt&&!Xt.dir?Xt:null},folder:function(Dt){if(!Dt)return this;if(lt(Dt))return this.filter(function(Xt,_e){return _e.dir&&Dt.test(Xt)});var Ut=$.call(this,this.root+Dt),ue=this.clone();return ue.root=Ut.name,ue},remove:function(Dt){var Yt=this.files[Dt=this.root+Dt];if(Yt||("/"!==Dt.slice(-1)&&(Dt+="/"),Yt=this.files[Dt]),Yt&&!Yt.dir)delete this.files[Dt];else for(var Ut=this.filter(function(Xt,_e){return _e.name.slice(0,Dt.length)===Dt}),ue=0;ue<Ut.length;ue++)delete this.files[Ut[ue].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Dt){var Yt,Ut={};try{if((Ut=ut.extend(Dt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:pt.utf8encode})).type=Ut.type.toLowerCase(),Ut.compression=Ut.compression.toUpperCase(),"binarystring"===Ut.type&&(Ut.type="string"),!Ut.type)throw new Error("No output type specified.");ut.checkSupport(Ut.type),"darwin"!==Ut.platform&&"freebsd"!==Ut.platform&&"linux"!==Ut.platform&&"sunos"!==Ut.platform||(Ut.platform="UNIX"),"win32"===Ut.platform&&(Ut.platform="DOS"),Yt=B.generateWorker(this,Ut,Ut.comment||this.comment||"")}catch(Xt){(Yt=new ot("error")).error(Xt)}return new At(Yt,Ut.type||"string",Ut.mimeType)},generateAsync:function(Dt,Yt){return this.generateInternalStream(Dt).accumulate(Yt)},generateNodeStream:function(Dt,Yt){return(Dt=Dt||{}).type||(Dt.type="nodebuffer"),this.generateInternalStream(Dt).toNodejsStream(Yt)}};Et.exports=_t},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Ot,Et,ht){"use strict";Et.exports=Ot("stream")},{stream:void 0}],17:[function(Ot,Et,ht){"use strict";var st=Ot("./DataReader");function pt(ut){st.call(this,ut);for(var ot=0;ot<this.data.length;ot++)ut[ot]=255&ut[ot]}Ot("../utils").inherits(pt,st),pt.prototype.byteAt=function(ut){return this.data[this.zero+ut]},pt.prototype.lastIndexOfSignature=function(ut){for(var ot=ut.charCodeAt(0),At=ut.charCodeAt(1),ft=ut.charCodeAt(2),rt=ut.charCodeAt(3),J=this.length-4;0<=J;--J)if(this.data[J]===ot&&this.data[J+1]===At&&this.data[J+2]===ft&&this.data[J+3]===rt)return J-this.zero;return-1},pt.prototype.readAndCheckSignature=function(ut){var ot=ut.charCodeAt(0),At=ut.charCodeAt(1),ft=ut.charCodeAt(2),rt=ut.charCodeAt(3),J=this.readData(4);return ot===J[0]&&At===J[1]&&ft===J[2]&&rt===J[3]},pt.prototype.readData=function(ut){if(this.checkOffset(ut),0===ut)return[];var ot=this.data.slice(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,ot},Et.exports=pt},{"../utils":32,"./DataReader":18}],18:[function(Ot,Et,ht){"use strict";var st=Ot("../utils");function pt(ut){this.data=ut,this.length=ut.length,this.index=0,this.zero=0}pt.prototype={checkOffset:function(ut){this.checkIndex(this.index+ut)},checkIndex:function(ut){if(this.length<this.zero+ut||ut<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+ut+"). Corrupted zip ?")},setIndex:function(ut){this.checkIndex(ut),this.index=ut},skip:function(ut){this.setIndex(this.index+ut)},byteAt:function(){},readInt:function(ut){var ot,At=0;for(this.checkOffset(ut),ot=this.index+ut-1;ot>=this.index;ot--)At=(At<<8)+this.byteAt(ot);return this.index+=ut,At},readString:function(ut){return st.transformTo("string",this.readData(ut))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var ut=this.readInt(4);return new Date(Date.UTC(1980+(ut>>25&127),(ut>>21&15)-1,ut>>16&31,ut>>11&31,ut>>5&63,(31&ut)<<1))}},Et.exports=pt},{"../utils":32}],19:[function(Ot,Et,ht){"use strict";var st=Ot("./Uint8ArrayReader");function pt(ut){st.call(this,ut)}Ot("../utils").inherits(pt,st),pt.prototype.readData=function(ut){this.checkOffset(ut);var ot=this.data.slice(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,ot},Et.exports=pt},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Ot,Et,ht){"use strict";var st=Ot("./DataReader");function pt(ut){st.call(this,ut)}Ot("../utils").inherits(pt,st),pt.prototype.byteAt=function(ut){return this.data.charCodeAt(this.zero+ut)},pt.prototype.lastIndexOfSignature=function(ut){return this.data.lastIndexOf(ut)-this.zero},pt.prototype.readAndCheckSignature=function(ut){return ut===this.readData(4)},pt.prototype.readData=function(ut){this.checkOffset(ut);var ot=this.data.slice(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,ot},Et.exports=pt},{"../utils":32,"./DataReader":18}],21:[function(Ot,Et,ht){"use strict";var st=Ot("./ArrayReader");function pt(ut){st.call(this,ut)}Ot("../utils").inherits(pt,st),pt.prototype.readData=function(ut){if(this.checkOffset(ut),0===ut)return new Uint8Array(0);var ot=this.data.subarray(this.zero+this.index,this.zero+this.index+ut);return this.index+=ut,ot},Et.exports=pt},{"../utils":32,"./ArrayReader":17}],22:[function(Ot,Et,ht){"use strict";var st=Ot("../utils"),pt=Ot("../support"),ut=Ot("./ArrayReader"),ot=Ot("./StringReader"),At=Ot("./NodeBufferReader"),ft=Ot("./Uint8ArrayReader");Et.exports=function(rt){var J=st.getTypeOf(rt);return st.checkSupport(J),"string"!==J||pt.uint8array?"nodebuffer"===J?new At(rt):pt.uint8array?new ft(st.transformTo("uint8array",rt)):new ut(st.transformTo("array",rt)):new ot(rt)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Ot,Et,ht){"use strict";ht.LOCAL_FILE_HEADER="PK\x03\x04",ht.CENTRAL_FILE_HEADER="PK\x01\x02",ht.CENTRAL_DIRECTORY_END="PK\x05\x06",ht.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",ht.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",ht.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Ot,Et,ht){"use strict";var st=Ot("./GenericWorker"),pt=Ot("../utils");function ut(ot){st.call(this,"ConvertWorker to "+ot),this.destType=ot}pt.inherits(ut,st),ut.prototype.processChunk=function(ot){this.push({data:pt.transformTo(this.destType,ot.data),meta:ot.meta})},Et.exports=ut},{"../utils":32,"./GenericWorker":28}],25:[function(Ot,Et,ht){"use strict";var st=Ot("./GenericWorker"),pt=Ot("../crc32");function ut(){st.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Ot("../utils").inherits(ut,st),ut.prototype.processChunk=function(ot){this.streamInfo.crc32=pt(ot.data,this.streamInfo.crc32||0),this.push(ot)},Et.exports=ut},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Ot,Et,ht){"use strict";var st=Ot("../utils"),pt=Ot("./GenericWorker");function ut(ot){pt.call(this,"DataLengthProbe for "+ot),this.propName=ot,this.withStreamInfo(ot,0)}st.inherits(ut,pt),ut.prototype.processChunk=function(ot){ot&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+ot.data.length),pt.prototype.processChunk.call(this,ot)},Et.exports=ut},{"../utils":32,"./GenericWorker":28}],27:[function(Ot,Et,ht){"use strict";var st=Ot("../utils"),pt=Ot("./GenericWorker");function ut(ot){pt.call(this,"DataWorker");var At=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,ot.then(function(ft){At.dataIsReady=!0,At.data=ft,At.max=ft&&ft.length||0,At.type=st.getTypeOf(ft),At.isPaused||At._tickAndRepeat()},function(ft){At.error(ft)})}st.inherits(ut,pt),ut.prototype.cleanUp=function(){pt.prototype.cleanUp.call(this),this.data=null},ut.prototype.resume=function(){return!!pt.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,st.delay(this._tickAndRepeat,[],this)),!0)},ut.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(st.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},ut.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var ot=null,At=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":ot=this.data.substring(this.index,At);break;case"uint8array":ot=this.data.subarray(this.index,At);break;case"array":case"nodebuffer":ot=this.data.slice(this.index,At)}return this.index=At,this.push({data:ot,meta:{percent:this.max?this.index/this.max*100:0}})},Et.exports=ut},{"../utils":32,"./GenericWorker":28}],28:[function(Ot,Et,ht){"use strict";function st(pt){this.name=pt||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}st.prototype={push:function(pt){this.emit("data",pt)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(pt){this.emit("error",pt)}return!0},error:function(pt){return!this.isFinished&&(this.isPaused?this.generatedError=pt:(this.isFinished=!0,this.emit("error",pt),this.previous&&this.previous.error(pt),this.cleanUp()),!0)},on:function(pt,ut){return this._listeners[pt].push(ut),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(pt,ut){if(this._listeners[pt])for(var ot=0;ot<this._listeners[pt].length;ot++)this._listeners[pt][ot].call(this,ut)},pipe:function(pt){return pt.registerPrevious(this)},registerPrevious:function(pt){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=pt.streamInfo,this.mergeStreamInfo(),this.previous=pt;var ut=this;return pt.on("data",function(ot){ut.processChunk(ot)}),pt.on("end",function(){ut.end()}),pt.on("error",function(ot){ut.error(ot)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var pt=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),pt=!0),this.previous&&this.previous.resume(),!pt},flush:function(){},processChunk:function(pt){this.push(pt)},withStreamInfo:function(pt,ut){return this.extraStreamInfo[pt]=ut,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var pt in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,pt)&&(this.streamInfo[pt]=this.extraStreamInfo[pt])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var pt="Worker "+this.name;return this.previous?this.previous+" -> "+pt:pt}},Et.exports=st},{}],29:[function(Ot,Et,ht){"use strict";var st=Ot("../utils"),pt=Ot("./ConvertWorker"),ut=Ot("./GenericWorker"),ot=Ot("../base64"),At=Ot("../support"),ft=Ot("../external"),rt=null;if(At.nodestream)try{rt=Ot("../nodejs/NodejsStreamOutputAdapter")}catch{}function B(q,Z,it){var et=Z;switch(Z){case"blob":case"arraybuffer":et="uint8array";break;case"base64":et="string"}try{this._internalType=et,this._outputType=Z,this._mimeType=it,st.checkSupport(et),this._worker=q.pipe(new pt(et)),q.lock()}catch($){this._worker=new ut("error"),this._worker.error($)}}B.prototype={accumulate:function(q){return function J(q,Z){return new ft.Promise(function(it,et){var $=[],lt=q._internalType,_t=q._outputType,Dt=q._mimeType;q.on("data",function(Yt,Ut){$.push(Yt),Z&&Z(Ut)}).on("error",function(Yt){$=[],et(Yt)}).on("end",function(){try{var Yt=function(Ut,ue,Xt){switch(Ut){case"blob":return st.newBlob(st.transformTo("arraybuffer",ue),Xt);case"base64":return ot.encode(ue);default:return st.transformTo(Ut,ue)}}(_t,function(Ut,ue){var Xt,_e=0,Oe=null,Ft=0;for(Xt=0;Xt<ue.length;Xt++)Ft+=ue[Xt].length;switch(Ut){case"string":return ue.join("");case"array":return Array.prototype.concat.apply([],ue);case"uint8array":for(Oe=new Uint8Array(Ft),Xt=0;Xt<ue.length;Xt++)Oe.set(ue[Xt],_e),_e+=ue[Xt].length;return Oe;case"nodebuffer":return Buffer.concat(ue);default:throw new Error("concat : unsupported type '"+Ut+"'")}}(lt,$),Dt);it(Yt)}catch(Ut){et(Ut)}$=[]}).resume()})}(this,q)},on:function(q,Z){var it=this;return this._worker.on(q,"data"===q?function(et){Z.call(it,et.data,et.meta)}:function(){st.delay(Z,arguments,it)}),this},resume:function(){return st.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(q){if(st.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new rt(this,{objectMode:"nodebuffer"!==this._outputType},q)}},Et.exports=B},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Ot,Et,ht){"use strict";if(ht.base64=!0,ht.array=!0,ht.string=!0,ht.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",ht.nodebuffer=typeof Buffer<"u",ht.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")ht.blob=!1;else{var st=new ArrayBuffer(0);try{ht.blob=0===new Blob([st],{type:"application/zip"}).size}catch{try{var pt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);pt.append(st),ht.blob=0===pt.getBlob("application/zip").size}catch{ht.blob=!1}}}try{ht.nodestream=!!Ot("readable-stream").Readable}catch{ht.nodestream=!1}},{"readable-stream":16}],31:[function(Ot,Et,ht){"use strict";for(var st=Ot("./utils"),pt=Ot("./support"),ut=Ot("./nodejsUtils"),ot=Ot("./stream/GenericWorker"),At=new Array(256),ft=0;ft<256;ft++)At[ft]=252<=ft?6:248<=ft?5:240<=ft?4:224<=ft?3:192<=ft?2:1;function rt(){ot.call(this,"utf-8 decode"),this.leftOver=null}function J(){ot.call(this,"utf-8 encode")}At[254]=At[254]=1,ht.utf8encode=function(B){return pt.nodebuffer?ut.newBufferFrom(B,"utf-8"):function(q){var Z,it,et,$,lt,_t=q.length,Dt=0;for($=0;$<_t;$++)55296==(64512&(it=q.charCodeAt($)))&&$+1<_t&&56320==(64512&(et=q.charCodeAt($+1)))&&(it=65536+(it-55296<<10)+(et-56320),$++),Dt+=it<128?1:it<2048?2:it<65536?3:4;for(Z=pt.uint8array?new Uint8Array(Dt):new Array(Dt),$=lt=0;lt<Dt;$++)55296==(64512&(it=q.charCodeAt($)))&&$+1<_t&&56320==(64512&(et=q.charCodeAt($+1)))&&(it=65536+(it-55296<<10)+(et-56320),$++),it<128?Z[lt++]=it:(it<2048?Z[lt++]=192|it>>>6:(it<65536?Z[lt++]=224|it>>>12:(Z[lt++]=240|it>>>18,Z[lt++]=128|it>>>12&63),Z[lt++]=128|it>>>6&63),Z[lt++]=128|63&it);return Z}(B)},ht.utf8decode=function(B){return pt.nodebuffer?st.transformTo("nodebuffer",B).toString("utf-8"):function(q){var Z,it,et,$,lt=q.length,_t=new Array(2*lt);for(Z=it=0;Z<lt;)if((et=q[Z++])<128)_t[it++]=et;else if(4<($=At[et]))_t[it++]=65533,Z+=$-1;else{for(et&=2===$?31:3===$?15:7;1<$&&Z<lt;)et=et<<6|63&q[Z++],$--;1<$?_t[it++]=65533:et<65536?_t[it++]=et:(_t[it++]=55296|(et-=65536)>>10&1023,_t[it++]=56320|1023&et)}return _t.length!==it&&(_t.subarray?_t=_t.subarray(0,it):_t.length=it),st.applyFromCharCode(_t)}(B=st.transformTo(pt.uint8array?"uint8array":"array",B))},st.inherits(rt,ot),rt.prototype.processChunk=function(B){var q=st.transformTo(pt.uint8array?"uint8array":"array",B.data);if(this.leftOver&&this.leftOver.length){if(pt.uint8array){var Z=q;(q=new Uint8Array(Z.length+this.leftOver.length)).set(this.leftOver,0),q.set(Z,this.leftOver.length)}else q=this.leftOver.concat(q);this.leftOver=null}var it=function($,lt){var _t;for((lt=lt||$.length)>$.length&&(lt=$.length),_t=lt-1;0<=_t&&128==(192&$[_t]);)_t--;return _t<0||0===_t?lt:_t+At[$[_t]]>lt?_t:lt}(q),et=q;it!==q.length&&(pt.uint8array?(et=q.subarray(0,it),this.leftOver=q.subarray(it,q.length)):(et=q.slice(0,it),this.leftOver=q.slice(it,q.length))),this.push({data:ht.utf8decode(et),meta:B.meta})},rt.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:ht.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},ht.Utf8DecodeWorker=rt,st.inherits(J,ot),J.prototype.processChunk=function(B){this.push({data:ht.utf8encode(B.data),meta:B.meta})},ht.Utf8EncodeWorker=J},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Ot,Et,ht){"use strict";var st=Ot("./support"),pt=Ot("./base64"),ut=Ot("./nodejsUtils"),ot=Ot("./external");function At(Z){return Z}function ft(Z,it){for(var et=0;et<Z.length;++et)it[et]=255&Z.charCodeAt(et);return it}Ot("setimmediate"),ht.newBlob=function(Z,it){ht.checkSupport("blob");try{return new Blob([Z],{type:it})}catch{try{var et=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return et.append(Z),et.getBlob(it)}catch{throw new Error("Bug : can't construct the Blob.")}}};var rt={stringifyByChunk:function(Z,it,et){var $=[],lt=0,_t=Z.length;if(_t<=et)return String.fromCharCode.apply(null,Z);for(;lt<_t;)$.push(String.fromCharCode.apply(null,"array"===it||"nodebuffer"===it?Z.slice(lt,Math.min(lt+et,_t)):Z.subarray(lt,Math.min(lt+et,_t)))),lt+=et;return $.join("")},stringifyByChar:function(Z){for(var it="",et=0;et<Z.length;et++)it+=String.fromCharCode(Z[et]);return it},applyCanBeUsed:{uint8array:function(){try{return st.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return st.nodebuffer&&1===String.fromCharCode.apply(null,ut.allocBuffer(1)).length}catch{return!1}}()}};function J(Z){var it=65536,et=ht.getTypeOf(Z),$=!0;if("uint8array"===et?$=rt.applyCanBeUsed.uint8array:"nodebuffer"===et&&($=rt.applyCanBeUsed.nodebuffer),$)for(;1<it;)try{return rt.stringifyByChunk(Z,et,it)}catch{it=Math.floor(it/2)}return rt.stringifyByChar(Z)}function B(Z,it){for(var et=0;et<Z.length;et++)it[et]=Z[et];return it}ht.applyFromCharCode=J;var q={};q.string={string:At,array:function(Z){return ft(Z,new Array(Z.length))},arraybuffer:function(Z){return q.string.uint8array(Z).buffer},uint8array:function(Z){return ft(Z,new Uint8Array(Z.length))},nodebuffer:function(Z){return ft(Z,ut.allocBuffer(Z.length))}},q.array={string:J,array:At,arraybuffer:function(Z){return new Uint8Array(Z).buffer},uint8array:function(Z){return new Uint8Array(Z)},nodebuffer:function(Z){return ut.newBufferFrom(Z)}},q.arraybuffer={string:function(Z){return J(new Uint8Array(Z))},array:function(Z){return B(new Uint8Array(Z),new Array(Z.byteLength))},arraybuffer:At,uint8array:function(Z){return new Uint8Array(Z)},nodebuffer:function(Z){return ut.newBufferFrom(new Uint8Array(Z))}},q.uint8array={string:J,array:function(Z){return B(Z,new Array(Z.length))},arraybuffer:function(Z){return Z.buffer},uint8array:At,nodebuffer:function(Z){return ut.newBufferFrom(Z)}},q.nodebuffer={string:J,array:function(Z){return B(Z,new Array(Z.length))},arraybuffer:function(Z){return q.nodebuffer.uint8array(Z).buffer},uint8array:function(Z){return B(Z,new Uint8Array(Z.length))},nodebuffer:At},ht.transformTo=function(Z,it){if(it=it||"",!Z)return it;ht.checkSupport(Z);var et=ht.getTypeOf(it);return q[et][Z](it)},ht.resolve=function(Z){for(var it=Z.split("/"),et=[],$=0;$<it.length;$++){var lt=it[$];"."===lt||""===lt&&0!==$&&$!==it.length-1||(".."===lt?et.pop():et.push(lt))}return et.join("/")},ht.getTypeOf=function(Z){return"string"==typeof Z?"string":"[object Array]"===Object.prototype.toString.call(Z)?"array":st.nodebuffer&&ut.isBuffer(Z)?"nodebuffer":st.uint8array&&Z instanceof Uint8Array?"uint8array":st.arraybuffer&&Z instanceof ArrayBuffer?"arraybuffer":void 0},ht.checkSupport=function(Z){if(!st[Z.toLowerCase()])throw new Error(Z+" is not supported by this platform")},ht.MAX_VALUE_16BITS=65535,ht.MAX_VALUE_32BITS=-1,ht.pretty=function(Z){var it,et,$="";for(et=0;et<(Z||"").length;et++)$+="\\x"+((it=Z.charCodeAt(et))<16?"0":"")+it.toString(16).toUpperCase();return $},ht.delay=function(Z,it,et){setImmediate(function(){Z.apply(et||null,it||[])})},ht.inherits=function(Z,it){function et(){}et.prototype=it.prototype,Z.prototype=new et},ht.extend=function(){var Z,it,et={};for(Z=0;Z<arguments.length;Z++)for(it in arguments[Z])Object.prototype.hasOwnProperty.call(arguments[Z],it)&&void 0===et[it]&&(et[it]=arguments[Z][it]);return et},ht.prepareContent=function(Z,it,et,$,lt){return ot.Promise.resolve(it).then(function(_t){return st.blob&&(_t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_t)))&&typeof FileReader<"u"?new ot.Promise(function(Dt,Yt){var Ut=new FileReader;Ut.onload=function(ue){Dt(ue.target.result)},Ut.onerror=function(ue){Yt(ue.target.error)},Ut.readAsArrayBuffer(_t)}):_t}).then(function(_t){var Yt,Dt=ht.getTypeOf(_t);return Dt?("arraybuffer"===Dt?_t=ht.transformTo("uint8array",_t):"string"===Dt&&(lt?_t=pt.decode(_t):et&&!0!==$&&(_t=ft(Yt=_t,st.uint8array?new Uint8Array(Yt.length):new Array(Yt.length)))),_t):ot.Promise.reject(new Error("Can't read the data of '"+Z+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(Ot,Et,ht){"use strict";var st=Ot("./reader/readerFor"),pt=Ot("./utils"),ut=Ot("./signature"),ot=Ot("./zipEntry"),At=Ot("./support");function ft(rt){this.files=[],this.loadOptions=rt}ft.prototype={checkSignature:function(rt){if(!this.reader.readAndCheckSignature(rt)){this.reader.index-=4;var J=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+pt.pretty(J)+", expected "+pt.pretty(rt)+")")}},isSignature:function(rt,J){var B=this.reader.index;this.reader.setIndex(rt);var q=this.reader.readString(4)===J;return this.reader.setIndex(B),q},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var rt=this.reader.readData(this.zipCommentLength),B=pt.transformTo(At.uint8array?"uint8array":"array",rt);this.zipComment=this.loadOptions.decodeFileName(B)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var rt,J,B,q=this.zip64EndOfCentralSize-44;0<q;)rt=this.reader.readInt(2),J=this.reader.readInt(4),B=this.reader.readData(J),this.zip64ExtensibleData[rt]={id:rt,length:J,value:B}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var rt,J;for(rt=0;rt<this.files.length;rt++)this.reader.setIndex((J=this.files[rt]).localHeaderOffset),this.checkSignature(ut.LOCAL_FILE_HEADER),J.readLocalPart(this.reader),J.handleUTF8(),J.processAttributes()},readCentralDir:function(){var rt;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ut.CENTRAL_FILE_HEADER);)(rt=new ot({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(rt);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var rt=this.reader.lastIndexOfSignature(ut.CENTRAL_DIRECTORY_END);if(rt<0)throw this.isSignature(0,ut.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(rt);var J=rt;if(this.checkSignature(ut.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===pt.MAX_VALUE_16BITS||this.diskWithCentralDirStart===pt.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===pt.MAX_VALUE_16BITS||this.centralDirRecords===pt.MAX_VALUE_16BITS||this.centralDirSize===pt.MAX_VALUE_32BITS||this.centralDirOffset===pt.MAX_VALUE_32BITS){if(this.zip64=!0,(rt=this.reader.lastIndexOfSignature(ut.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(rt),this.checkSignature(ut.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ut.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ut.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ut.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var B=this.centralDirOffset+this.centralDirSize;this.zip64&&(B+=20,B+=12+this.zip64EndOfCentralSize);var q=J-B;if(0<q)this.isSignature(J,ut.CENTRAL_FILE_HEADER)||(this.reader.zero=q);else if(q<0)throw new Error("Corrupted zip: missing "+Math.abs(q)+" bytes.")},prepareReader:function(rt){this.reader=st(rt)},load:function(rt){this.prepareReader(rt),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Et.exports=ft},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(Ot,Et,ht){"use strict";var st=Ot("./reader/readerFor"),pt=Ot("./utils"),ut=Ot("./compressedObject"),ot=Ot("./crc32"),At=Ot("./utf8"),ft=Ot("./compressions"),rt=Ot("./support");function J(B,q){this.options=B,this.loadOptions=q}J.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(B){var q,Z;if(B.skip(22),this.fileNameLength=B.readInt(2),Z=B.readInt(2),this.fileName=B.readData(this.fileNameLength),B.skip(Z),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(q=function(it){for(var et in ft)if(Object.prototype.hasOwnProperty.call(ft,et)&&ft[et].magic===it)return ft[et];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+pt.pretty(this.compressionMethod)+" unknown (inner file : "+pt.transformTo("string",this.fileName)+")");this.decompressed=new ut(this.compressedSize,this.uncompressedSize,this.crc32,q,B.readData(this.compressedSize))},readCentralPart:function(B){this.versionMadeBy=B.readInt(2),B.skip(2),this.bitFlag=B.readInt(2),this.compressionMethod=B.readString(2),this.date=B.readDate(),this.crc32=B.readInt(4),this.compressedSize=B.readInt(4),this.uncompressedSize=B.readInt(4);var q=B.readInt(2);if(this.extraFieldsLength=B.readInt(2),this.fileCommentLength=B.readInt(2),this.diskNumberStart=B.readInt(2),this.internalFileAttributes=B.readInt(2),this.externalFileAttributes=B.readInt(4),this.localHeaderOffset=B.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");B.skip(q),this.readExtraFields(B),this.parseZIP64ExtraField(B),this.fileComment=B.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var B=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==B&&(this.dosPermissions=63&this.externalFileAttributes),3==B&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var B=st(this.extraFields[1].value);this.uncompressedSize===pt.MAX_VALUE_32BITS&&(this.uncompressedSize=B.readInt(8)),this.compressedSize===pt.MAX_VALUE_32BITS&&(this.compressedSize=B.readInt(8)),this.localHeaderOffset===pt.MAX_VALUE_32BITS&&(this.localHeaderOffset=B.readInt(8)),this.diskNumberStart===pt.MAX_VALUE_32BITS&&(this.diskNumberStart=B.readInt(4))}},readExtraFields:function(B){var q,Z,it,et=B.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});B.index+4<et;)q=B.readInt(2),Z=B.readInt(2),it=B.readData(Z),this.extraFields[q]={id:q,length:Z,value:it};B.setIndex(et)},handleUTF8:function(){var B=rt.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=At.utf8decode(this.fileName),this.fileCommentStr=At.utf8decode(this.fileComment);else{var q=this.findExtraFieldUnicodePath();if(null!==q)this.fileNameStr=q;else{var Z=pt.transformTo(B,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Z)}var it=this.findExtraFieldUnicodeComment();if(null!==it)this.fileCommentStr=it;else{var et=pt.transformTo(B,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(et)}}},findExtraFieldUnicodePath:function(){var B=this.extraFields[28789];if(B){var q=st(B.value);return 1!==q.readInt(1)||ot(this.fileName)!==q.readInt(4)?null:At.utf8decode(q.readData(B.length-5))}return null},findExtraFieldUnicodeComment:function(){var B=this.extraFields[25461];if(B){var q=st(B.value);return 1!==q.readInt(1)||ot(this.fileComment)!==q.readInt(4)?null:At.utf8decode(q.readData(B.length-5))}return null}},Et.exports=J},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Ot,Et,ht){"use strict";function st(q,Z,it){this.name=q,this.dir=it.dir,this.date=it.date,this.comment=it.comment,this.unixPermissions=it.unixPermissions,this.dosPermissions=it.dosPermissions,this._data=Z,this._dataBinary=it.binary,this.options={compression:it.compression,compressionOptions:it.compressionOptions}}var pt=Ot("./stream/StreamHelper"),ut=Ot("./stream/DataWorker"),ot=Ot("./utf8"),At=Ot("./compressedObject"),ft=Ot("./stream/GenericWorker");st.prototype={internalStream:function(q){var Z=null,it="string";try{if(!q)throw new Error("No output type specified.");var et="string"===(it=q.toLowerCase())||"text"===it;"binarystring"!==it&&"text"!==it||(it="string"),Z=this._decompressWorker();var $=!this._dataBinary;$&&!et&&(Z=Z.pipe(new ot.Utf8EncodeWorker)),!$&&et&&(Z=Z.pipe(new ot.Utf8DecodeWorker))}catch(lt){(Z=new ft("error")).error(lt)}return new pt(Z,it,"")},async:function(q,Z){return this.internalStream(q).accumulate(Z)},nodeStream:function(q,Z){return this.internalStream(q||"nodebuffer").toNodejsStream(Z)},_compressWorker:function(q,Z){if(this._data instanceof At&&this._data.compression.magic===q.magic)return this._data.getCompressedWorker();var it=this._decompressWorker();return this._dataBinary||(it=it.pipe(new ot.Utf8EncodeWorker)),At.createWorkerFrom(it,q,Z)},_decompressWorker:function(){return this._data instanceof At?this._data.getContentWorker():this._data instanceof ft?this._data:new ut(this._data)}};for(var rt=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],J=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},B=0;B<rt.length;B++)st.prototype[rt[B]]=J;Et.exports=st},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Ot,Et,ht){(function(st){"use strict";var pt,ut,ot=st.MutationObserver||st.WebKitMutationObserver;if(ot){var At=0,ft=new ot(q),rt=st.document.createTextNode("");ft.observe(rt,{characterData:!0}),pt=function(){rt.data=At=++At%2}}else if(st.setImmediate||void 0===st.MessageChannel)pt="document"in st&&"onreadystatechange"in st.document.createElement("script")?function(){var Z=st.document.createElement("script");Z.onreadystatechange=function(){q(),Z.onreadystatechange=null,Z.parentNode.removeChild(Z),Z=null},st.document.documentElement.appendChild(Z)}:function(){setTimeout(q,0)};else{var J=new st.MessageChannel;J.port1.onmessage=q,pt=function(){J.port2.postMessage(0)}}var B=[];function q(){var Z,it;ut=!0;for(var et=B.length;et;){for(it=B,B=[],Z=-1;++Z<et;)it[Z]();et=B.length}ut=!1}Et.exports=function(Z){1!==B.push(Z)||ut||pt()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(Ot,Et,ht){"use strict";var st=Ot("immediate");function pt(){}var ut={},ot=["REJECTED"],At=["FULFILLED"],ft=["PENDING"];function rt(et){if("function"!=typeof et)throw new TypeError("resolver must be a function");this.state=ft,this.queue=[],this.outcome=void 0,et!==pt&&Z(this,et)}function J(et,$,lt){this.promise=et,"function"==typeof $&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),"function"==typeof lt&&(this.onRejected=lt,this.callRejected=this.otherCallRejected)}function B(et,$,lt){st(function(){var _t;try{_t=$(lt)}catch(Dt){return ut.reject(et,Dt)}_t===et?ut.reject(et,new TypeError("Cannot resolve promise with itself")):ut.resolve(et,_t)})}function q(et){var $=et&&et.then;if(et&&("object"==typeof et||"function"==typeof et)&&"function"==typeof $)return function(){$.apply(et,arguments)}}function Z(et,$){var lt=!1;function _t(Ut){lt||(lt=!0,ut.reject(et,Ut))}function Dt(Ut){lt||(lt=!0,ut.resolve(et,Ut))}var Yt=it(function(){$(Dt,_t)});"error"===Yt.status&&_t(Yt.value)}function it(et,$){var lt={};try{lt.value=et($),lt.status="success"}catch(_t){lt.status="error",lt.value=_t}return lt}(Et.exports=rt).prototype.finally=function(et){if("function"!=typeof et)return this;var $=this.constructor;return this.then(function(lt){return $.resolve(et()).then(function(){return lt})},function(lt){return $.resolve(et()).then(function(){throw lt})})},rt.prototype.catch=function(et){return this.then(null,et)},rt.prototype.then=function(et,$){if("function"!=typeof et&&this.state===At||"function"!=typeof $&&this.state===ot)return this;var lt=new this.constructor(pt);return this.state!==ft?B(lt,this.state===At?et:$,this.outcome):this.queue.push(new J(lt,et,$)),lt},J.prototype.callFulfilled=function(et){ut.resolve(this.promise,et)},J.prototype.otherCallFulfilled=function(et){B(this.promise,this.onFulfilled,et)},J.prototype.callRejected=function(et){ut.reject(this.promise,et)},J.prototype.otherCallRejected=function(et){B(this.promise,this.onRejected,et)},ut.resolve=function(et,$){var lt=it(q,$);if("error"===lt.status)return ut.reject(et,lt.value);var _t=lt.value;if(_t)Z(et,_t);else{et.state=At,et.outcome=$;for(var Dt=-1,Yt=et.queue.length;++Dt<Yt;)et.queue[Dt].callFulfilled($)}return et},ut.reject=function(et,$){et.state=ot,et.outcome=$;for(var lt=-1,_t=et.queue.length;++lt<_t;)et.queue[lt].callRejected($);return et},rt.resolve=function(et){return et instanceof this?et:ut.resolve(new this(pt),et)},rt.reject=function(et){var $=new this(pt);return ut.reject($,et)},rt.all=function(et){var $=this;if("[object Array]"!==Object.prototype.toString.call(et))return this.reject(new TypeError("must be an array"));var lt=et.length,_t=!1;if(!lt)return this.resolve([]);for(var Dt=new Array(lt),Yt=0,Ut=-1,ue=new this(pt);++Ut<lt;)Xt(et[Ut],Ut);return ue;function Xt(_e,Oe){$.resolve(_e).then(function(Ft){Dt[Oe]=Ft,++Yt!==lt||_t||(_t=!0,ut.resolve(ue,Dt))},function(Ft){_t||(_t=!0,ut.reject(ue,Ft))})}},rt.race=function(et){if("[object Array]"!==Object.prototype.toString.call(et))return this.reject(new TypeError("must be an array"));var lt=et.length,_t=!1;if(!lt)return this.resolve([]);for(var Dt=-1,Yt=new this(pt);++Dt<lt;)this.resolve(et[Dt]).then(function(ue){_t||(_t=!0,ut.resolve(Yt,ue))},function(ue){_t||(_t=!0,ut.reject(Yt,ue))});return Yt}},{immediate:36}],38:[function(Ot,Et,ht){"use strict";var st={};(0,Ot("./lib/utils/common").assign)(st,Ot("./lib/deflate"),Ot("./lib/inflate"),Ot("./lib/zlib/constants")),Et.exports=st},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Ot,Et,ht){"use strict";var st=Ot("./zlib/deflate"),pt=Ot("./utils/common"),ut=Ot("./utils/strings"),ot=Ot("./zlib/messages"),At=Ot("./zlib/zstream"),ft=Object.prototype.toString,rt=0,J=-1,B=0,q=8;function Z(et){if(!(this instanceof Z))return new Z(et);this.options=pt.assign({level:J,method:q,chunkSize:16384,windowBits:15,memLevel:8,strategy:B,to:""},et||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new At,this.strm.avail_out=0;var lt=st.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(lt!==rt)throw new Error(ot[lt]);if($.header&&st.deflateSetHeader(this.strm,$.header),$.dictionary){var _t;if(_t="string"==typeof $.dictionary?ut.string2buf($.dictionary):"[object ArrayBuffer]"===ft.call($.dictionary)?new Uint8Array($.dictionary):$.dictionary,(lt=st.deflateSetDictionary(this.strm,_t))!==rt)throw new Error(ot[lt]);this._dict_set=!0}}function it(et,$){var lt=new Z($);if(lt.push(et,!0),lt.err)throw lt.msg||ot[lt.err];return lt.result}Z.prototype.push=function(et,$){var lt,_t,Dt=this.strm,Yt=this.options.chunkSize;if(this.ended)return!1;_t=$===~~$?$:!0===$?4:0,Dt.input="string"==typeof et?ut.string2buf(et):"[object ArrayBuffer]"===ft.call(et)?new Uint8Array(et):et,Dt.next_in=0,Dt.avail_in=Dt.input.length;do{if(0===Dt.avail_out&&(Dt.output=new pt.Buf8(Yt),Dt.next_out=0,Dt.avail_out=Yt),1!==(lt=st.deflate(Dt,_t))&&lt!==rt)return this.onEnd(lt),!(this.ended=!0);0!==Dt.avail_out&&(0!==Dt.avail_in||4!==_t&&2!==_t)||this.onData("string"===this.options.to?ut.buf2binstring(pt.shrinkBuf(Dt.output,Dt.next_out)):pt.shrinkBuf(Dt.output,Dt.next_out))}while((0<Dt.avail_in||0===Dt.avail_out)&&1!==lt);return 4===_t?(lt=st.deflateEnd(this.strm),this.onEnd(lt),this.ended=!0,lt===rt):2!==_t||(this.onEnd(rt),!(Dt.avail_out=0))},Z.prototype.onData=function(et){this.chunks.push(et)},Z.prototype.onEnd=function(et){et===rt&&(this.result="string"===this.options.to?this.chunks.join(""):pt.flattenChunks(this.chunks)),this.chunks=[],this.err=et,this.msg=this.strm.msg},ht.Deflate=Z,ht.deflate=it,ht.deflateRaw=function(et,$){return($=$||{}).raw=!0,it(et,$)},ht.gzip=function(et,$){return($=$||{}).gzip=!0,it(et,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Ot,Et,ht){"use strict";var st=Ot("./zlib/inflate"),pt=Ot("./utils/common"),ut=Ot("./utils/strings"),ot=Ot("./zlib/constants"),At=Ot("./zlib/messages"),ft=Ot("./zlib/zstream"),rt=Ot("./zlib/gzheader"),J=Object.prototype.toString;function B(Z){if(!(this instanceof B))return new B(Z);this.options=pt.assign({chunkSize:16384,windowBits:0,to:""},Z||{});var it=this.options;it.raw&&0<=it.windowBits&&it.windowBits<16&&(it.windowBits=-it.windowBits,0===it.windowBits&&(it.windowBits=-15)),!(0<=it.windowBits&&it.windowBits<16)||Z&&Z.windowBits||(it.windowBits+=32),15<it.windowBits&&it.windowBits<48&&!(15&it.windowBits)&&(it.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ft,this.strm.avail_out=0;var et=st.inflateInit2(this.strm,it.windowBits);if(et!==ot.Z_OK)throw new Error(At[et]);this.header=new rt,st.inflateGetHeader(this.strm,this.header)}function q(Z,it){var et=new B(it);if(et.push(Z,!0),et.err)throw et.msg||At[et.err];return et.result}B.prototype.push=function(Z,it){var et,$,lt,_t,Dt,Yt,Ut=this.strm,ue=this.options.chunkSize,Xt=this.options.dictionary,_e=!1;if(this.ended)return!1;$=it===~~it?it:!0===it?ot.Z_FINISH:ot.Z_NO_FLUSH,Ut.input="string"==typeof Z?ut.binstring2buf(Z):"[object ArrayBuffer]"===J.call(Z)?new Uint8Array(Z):Z,Ut.next_in=0,Ut.avail_in=Ut.input.length;do{if(0===Ut.avail_out&&(Ut.output=new pt.Buf8(ue),Ut.next_out=0,Ut.avail_out=ue),(et=st.inflate(Ut,ot.Z_NO_FLUSH))===ot.Z_NEED_DICT&&Xt&&(Yt="string"==typeof Xt?ut.string2buf(Xt):"[object ArrayBuffer]"===J.call(Xt)?new Uint8Array(Xt):Xt,et=st.inflateSetDictionary(this.strm,Yt)),et===ot.Z_BUF_ERROR&&!0===_e&&(et=ot.Z_OK,_e=!1),et!==ot.Z_STREAM_END&&et!==ot.Z_OK)return this.onEnd(et),!(this.ended=!0);Ut.next_out&&(0!==Ut.avail_out&&et!==ot.Z_STREAM_END&&(0!==Ut.avail_in||$!==ot.Z_FINISH&&$!==ot.Z_SYNC_FLUSH)||("string"===this.options.to?(lt=ut.utf8border(Ut.output,Ut.next_out),_t=Ut.next_out-lt,Dt=ut.buf2string(Ut.output,lt),Ut.next_out=_t,Ut.avail_out=ue-_t,_t&&pt.arraySet(Ut.output,Ut.output,lt,_t,0),this.onData(Dt)):this.onData(pt.shrinkBuf(Ut.output,Ut.next_out)))),0===Ut.avail_in&&0===Ut.avail_out&&(_e=!0)}while((0<Ut.avail_in||0===Ut.avail_out)&&et!==ot.Z_STREAM_END);return et===ot.Z_STREAM_END&&($=ot.Z_FINISH),$===ot.Z_FINISH?(et=st.inflateEnd(this.strm),this.onEnd(et),this.ended=!0,et===ot.Z_OK):$!==ot.Z_SYNC_FLUSH||(this.onEnd(ot.Z_OK),!(Ut.avail_out=0))},B.prototype.onData=function(Z){this.chunks.push(Z)},B.prototype.onEnd=function(Z){Z===ot.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):pt.flattenChunks(this.chunks)),this.chunks=[],this.err=Z,this.msg=this.strm.msg},ht.Inflate=B,ht.inflate=q,ht.inflateRaw=function(Z,it){return(it=it||{}).raw=!0,q(Z,it)},ht.ungzip=q},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Ot,Et,ht){"use strict";var st=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";ht.assign=function(ot){for(var At=Array.prototype.slice.call(arguments,1);At.length;){var ft=At.shift();if(ft){if("object"!=typeof ft)throw new TypeError(ft+"must be non-object");for(var rt in ft)ft.hasOwnProperty(rt)&&(ot[rt]=ft[rt])}}return ot},ht.shrinkBuf=function(ot,At){return ot.length===At?ot:ot.subarray?ot.subarray(0,At):(ot.length=At,ot)};var pt={arraySet:function(ot,At,ft,rt,J){if(At.subarray&&ot.subarray)ot.set(At.subarray(ft,ft+rt),J);else for(var B=0;B<rt;B++)ot[J+B]=At[ft+B]},flattenChunks:function(ot){var At,ft,rt,J,B,q;for(At=rt=0,ft=ot.length;At<ft;At++)rt+=ot[At].length;for(q=new Uint8Array(rt),At=J=0,ft=ot.length;At<ft;At++)q.set(B=ot[At],J),J+=B.length;return q}},ut={arraySet:function(ot,At,ft,rt,J){for(var B=0;B<rt;B++)ot[J+B]=At[ft+B]},flattenChunks:function(ot){return[].concat.apply([],ot)}};ht.setTyped=function(ot){ot?(ht.Buf8=Uint8Array,ht.Buf16=Uint16Array,ht.Buf32=Int32Array,ht.assign(ht,pt)):(ht.Buf8=Array,ht.Buf16=Array,ht.Buf32=Array,ht.assign(ht,ut))},ht.setTyped(st)},{}],42:[function(Ot,Et,ht){"use strict";var st=Ot("./common"),pt=!0,ut=!0;try{String.fromCharCode.apply(null,[0])}catch{pt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ut=!1}for(var ot=new st.Buf8(256),At=0;At<256;At++)ot[At]=252<=At?6:248<=At?5:240<=At?4:224<=At?3:192<=At?2:1;function ft(rt,J){if(J<65537&&(rt.subarray&&ut||!rt.subarray&&pt))return String.fromCharCode.apply(null,st.shrinkBuf(rt,J));for(var B="",q=0;q<J;q++)B+=String.fromCharCode(rt[q]);return B}ot[254]=ot[254]=1,ht.string2buf=function(rt){var J,B,q,Z,it,et=rt.length,$=0;for(Z=0;Z<et;Z++)55296==(64512&(B=rt.charCodeAt(Z)))&&Z+1<et&&56320==(64512&(q=rt.charCodeAt(Z+1)))&&(B=65536+(B-55296<<10)+(q-56320),Z++),$+=B<128?1:B<2048?2:B<65536?3:4;for(J=new st.Buf8($),Z=it=0;it<$;Z++)55296==(64512&(B=rt.charCodeAt(Z)))&&Z+1<et&&56320==(64512&(q=rt.charCodeAt(Z+1)))&&(B=65536+(B-55296<<10)+(q-56320),Z++),B<128?J[it++]=B:(B<2048?J[it++]=192|B>>>6:(B<65536?J[it++]=224|B>>>12:(J[it++]=240|B>>>18,J[it++]=128|B>>>12&63),J[it++]=128|B>>>6&63),J[it++]=128|63&B);return J},ht.buf2binstring=function(rt){return ft(rt,rt.length)},ht.binstring2buf=function(rt){for(var J=new st.Buf8(rt.length),B=0,q=J.length;B<q;B++)J[B]=rt.charCodeAt(B);return J},ht.buf2string=function(rt,J){var B,q,Z,it,et=J||rt.length,$=new Array(2*et);for(B=q=0;B<et;)if((Z=rt[B++])<128)$[q++]=Z;else if(4<(it=ot[Z]))$[q++]=65533,B+=it-1;else{for(Z&=2===it?31:3===it?15:7;1<it&&B<et;)Z=Z<<6|63&rt[B++],it--;1<it?$[q++]=65533:Z<65536?$[q++]=Z:($[q++]=55296|(Z-=65536)>>10&1023,$[q++]=56320|1023&Z)}return ft($,q)},ht.utf8border=function(rt,J){var B;for((J=J||rt.length)>rt.length&&(J=rt.length),B=J-1;0<=B&&128==(192&rt[B]);)B--;return B<0||0===B?J:B+ot[rt[B]]>J?B:J}},{"./common":41}],43:[function(Ot,Et,ht){"use strict";Et.exports=function(st,pt,ut,ot){for(var At=65535&st|0,ft=st>>>16&65535|0,rt=0;0!==ut;){for(ut-=rt=2e3<ut?2e3:ut;ft=ft+(At=At+pt[ot++]|0)|0,--rt;);At%=65521,ft%=65521}return At|ft<<16|0}},{}],44:[function(Ot,Et,ht){"use strict";Et.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Ot,Et,ht){"use strict";var st=function(){for(var pt,ut=[],ot=0;ot<256;ot++){pt=ot;for(var At=0;At<8;At++)pt=1&pt?3988292384^pt>>>1:pt>>>1;ut[ot]=pt}return ut}();Et.exports=function(pt,ut,ot,At){var ft=st,rt=At+ot;pt^=-1;for(var J=At;J<rt;J++)pt=pt>>>8^ft[255&(pt^ut[J])];return-1^pt}},{}],46:[function(Ot,Et,ht){"use strict";var st,pt=Ot("../utils/common"),ut=Ot("./trees"),ot=Ot("./adler32"),At=Ot("./crc32"),ft=Ot("./messages"),rt=0,B=0,q=-2,et=2,$=8,_t=286,Dt=30,Yt=19,Ut=2*_t+1,ue=15,Xt=3,_e=258,Oe=_e+Xt+1,Ft=42,ge=113;function ee(K,Jt){return K.msg=ft[Jt],Jt}function ve(K){return(K<<1)-(4<K?9:0)}function jt(K){for(var Jt=K.length;0<=--Jt;)K[Jt]=0}function Lt(K){var Jt=K.state,Me=Jt.pending;Me>K.avail_out&&(Me=K.avail_out),0!==Me&&(pt.arraySet(K.output,Jt.pending_buf,Jt.pending_out,Me,K.next_out),K.next_out+=Me,Jt.pending_out+=Me,K.total_out+=Me,K.avail_out-=Me,Jt.pending-=Me,0===Jt.pending&&(Jt.pending_out=0))}function Wt(K,Jt){ut._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,Jt),K.block_start=K.strstart,Lt(K.strm)}function si(K,Jt){K.pending_buf[K.pending++]=Jt}function Qe(K,Jt){K.pending_buf[K.pending++]=Jt>>>8&255,K.pending_buf[K.pending++]=255&Jt}function ze(K,Jt){var Me,zt,W=K.max_chain_length,vt=K.strstart,Zt=K.prev_length,ne=K.nice_match,qt=K.strstart>K.w_size-Oe?K.strstart-(K.w_size-Oe):0,Ve=K.window,ni=K.w_mask,Re=K.prev,oi=K.strstart+_e,yi=Ve[vt+Zt-1],ti=Ve[vt+Zt];K.prev_length>=K.good_match&&(W>>=2),ne>K.lookahead&&(ne=K.lookahead);do{if(Ve[(Me=Jt)+Zt]===ti&&Ve[Me+Zt-1]===yi&&Ve[Me]===Ve[vt]&&Ve[++Me]===Ve[vt+1]){vt+=2,Me++;do{}while(Ve[++vt]===Ve[++Me]&&Ve[++vt]===Ve[++Me]&&Ve[++vt]===Ve[++Me]&&Ve[++vt]===Ve[++Me]&&Ve[++vt]===Ve[++Me]&&Ve[++vt]===Ve[++Me]&&Ve[++vt]===Ve[++Me]&&Ve[++vt]===Ve[++Me]&&vt<oi);if(zt=_e-(oi-vt),vt=oi-_e,Zt<zt){if(K.match_start=Jt,ne<=(Zt=zt))break;yi=Ve[vt+Zt-1],ti=Ve[vt+Zt]}}}while((Jt=Re[Jt&ni])>qt&&0!=--W);return Zt<=K.lookahead?Zt:K.lookahead}function ui(K){var Jt,Me,zt,W,vt,Zt,ne,qt,Ve,ni,Re=K.w_size;do{if(W=K.window_size-K.lookahead-K.strstart,K.strstart>=Re+(Re-Oe)){for(pt.arraySet(K.window,K.window,Re,Re,0),K.match_start-=Re,K.strstart-=Re,K.block_start-=Re,Jt=Me=K.hash_size;zt=K.head[--Jt],K.head[Jt]=Re<=zt?zt-Re:0,--Me;);for(Jt=Me=Re;zt=K.prev[--Jt],K.prev[Jt]=Re<=zt?zt-Re:0,--Me;);W+=Re}if(0===K.strm.avail_in)break;if(ne=K.window,qt=K.strstart+K.lookahead,ni=void 0,(Ve=W)<(ni=(Zt=K.strm).avail_in)&&(ni=Ve),Me=0===ni?0:(Zt.avail_in-=ni,pt.arraySet(ne,Zt.input,Zt.next_in,ni,qt),1===Zt.state.wrap?Zt.adler=ot(Zt.adler,ne,ni,qt):2===Zt.state.wrap&&(Zt.adler=At(Zt.adler,ne,ni,qt)),Zt.next_in+=ni,Zt.total_in+=ni,ni),K.lookahead+=Me,K.lookahead+K.insert>=Xt)for(K.ins_h=K.window[vt=K.strstart-K.insert],K.ins_h=(K.ins_h<<K.hash_shift^K.window[vt+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[vt+Xt-1])&K.hash_mask,K.prev[vt&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=vt,vt++,K.insert--,!(K.lookahead+K.insert<Xt)););}while(K.lookahead<Oe&&0!==K.strm.avail_in)}function $n(K,Jt){for(var Me,zt;;){if(K.lookahead<Oe){if(ui(K),K.lookahead<Oe&&Jt===rt)return 1;if(0===K.lookahead)break}if(Me=0,K.lookahead>=Xt&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Xt-1])&K.hash_mask,Me=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),0!==Me&&K.strstart-Me<=K.w_size-Oe&&(K.match_length=ze(K,Me)),K.match_length>=Xt)if(zt=ut._tr_tally(K,K.strstart-K.match_start,K.match_length-Xt),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=Xt){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Xt-1])&K.hash_mask,Me=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,0!=--K.match_length;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else zt=ut._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(zt&&(Wt(K,!1),0===K.strm.avail_out))return 1}return K.insert=K.strstart<Xt-1?K.strstart:Xt-1,4===Jt?(Wt(K,!0),0===K.strm.avail_out?3:4):K.last_lit&&(Wt(K,!1),0===K.strm.avail_out)?1:2}function rn(K,Jt){for(var Me,zt,W;;){if(K.lookahead<Oe){if(ui(K),K.lookahead<Oe&&Jt===rt)return 1;if(0===K.lookahead)break}if(Me=0,K.lookahead>=Xt&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Xt-1])&K.hash_mask,Me=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=Xt-1,0!==Me&&K.prev_length<K.max_lazy_match&&K.strstart-Me<=K.w_size-Oe&&(K.match_length=ze(K,Me),K.match_length<=5&&(1===K.strategy||K.match_length===Xt&&4096<K.strstart-K.match_start)&&(K.match_length=Xt-1)),K.prev_length>=Xt&&K.match_length<=K.prev_length){for(W=K.strstart+K.lookahead-Xt,zt=ut._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-Xt),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=W&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+Xt-1])&K.hash_mask,Me=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),0!=--K.prev_length;);if(K.match_available=0,K.match_length=Xt-1,K.strstart++,zt&&(Wt(K,!1),0===K.strm.avail_out))return 1}else if(K.match_available){if((zt=ut._tr_tally(K,0,K.window[K.strstart-1]))&&Wt(K,!1),K.strstart++,K.lookahead--,0===K.strm.avail_out)return 1}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(zt=ut._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<Xt-1?K.strstart:Xt-1,4===Jt?(Wt(K,!0),0===K.strm.avail_out?3:4):K.last_lit&&(Wt(K,!1),0===K.strm.avail_out)?1:2}function dn(K,Jt,Me,zt,W){this.good_length=K,this.max_lazy=Jt,this.nice_length=Me,this.max_chain=zt,this.func=W}function Xn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new pt.Buf16(2*Ut),this.dyn_dtree=new pt.Buf16(2*(2*Dt+1)),this.bl_tree=new pt.Buf16(2*(2*Yt+1)),jt(this.dyn_ltree),jt(this.dyn_dtree),jt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new pt.Buf16(ue+1),this.heap=new pt.Buf16(2*_t+1),jt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new pt.Buf16(2*_t+1),jt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(K){var Jt;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=et,(Jt=K.state).pending=0,Jt.pending_out=0,Jt.wrap<0&&(Jt.wrap=-Jt.wrap),Jt.status=Jt.wrap?Ft:ge,K.adler=2===Jt.wrap?0:1,Jt.last_flush=rt,ut._tr_init(Jt),B):ee(K,q)}function _r(K){var Me,Jt=Ae(K);return Jt===B&&((Me=K.state).window_size=2*Me.w_size,jt(Me.head),Me.max_lazy_match=st[Me.level].max_lazy,Me.good_match=st[Me.level].good_length,Me.nice_match=st[Me.level].nice_length,Me.max_chain_length=st[Me.level].max_chain,Me.strstart=0,Me.block_start=0,Me.lookahead=0,Me.insert=0,Me.match_length=Me.prev_length=Xt-1,Me.match_available=0,Me.ins_h=0),Jt}function co(K,Jt,Me,zt,W,vt){if(!K)return q;var Zt=1;if(-1===Jt&&(Jt=6),zt<0?(Zt=0,zt=-zt):15<zt&&(Zt=2,zt-=16),W<1||9<W||Me!==$||zt<8||15<zt||Jt<0||9<Jt||vt<0||4<vt)return ee(K,q);8===zt&&(zt=9);var ne=new Xn;return(K.state=ne).strm=K,ne.wrap=Zt,ne.gzhead=null,ne.w_bits=zt,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=W+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+Xt-1)/Xt),ne.window=new pt.Buf8(2*ne.w_size),ne.head=new pt.Buf16(ne.hash_size),ne.prev=new pt.Buf16(ne.w_size),ne.lit_bufsize=1<<W+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new pt.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=Jt,ne.strategy=vt,ne.method=Me,_r(K)}st=[new dn(0,0,0,0,function(K,Jt){var Me=65535;for(Me>K.pending_buf_size-5&&(Me=K.pending_buf_size-5);;){if(K.lookahead<=1){if(ui(K),0===K.lookahead&&Jt===rt)return 1;if(0===K.lookahead)break}K.strstart+=K.lookahead,K.lookahead=0;var zt=K.block_start+Me;if((0===K.strstart||K.strstart>=zt)&&(K.lookahead=K.strstart-zt,K.strstart=zt,Wt(K,!1),0===K.strm.avail_out)||K.strstart-K.block_start>=K.w_size-Oe&&(Wt(K,!1),0===K.strm.avail_out))return 1}return K.insert=0,4===Jt?(Wt(K,!0),0===K.strm.avail_out?3:4):(K.strstart>K.block_start&&Wt(K,!1),1)}),new dn(4,4,8,4,$n),new dn(4,5,16,8,$n),new dn(4,6,32,32,$n),new dn(4,4,16,16,rn),new dn(8,16,32,32,rn),new dn(8,16,128,128,rn),new dn(8,32,128,256,rn),new dn(32,128,258,1024,rn),new dn(32,258,258,4096,rn)],ht.deflateInit=function(K,Jt){return co(K,Jt,$,15,8,0)},ht.deflateInit2=co,ht.deflateReset=_r,ht.deflateResetKeep=Ae,ht.deflateSetHeader=function(K,Jt){return K&&K.state?2!==K.state.wrap?q:(K.state.gzhead=Jt,B):q},ht.deflate=function(K,Jt){var Me,zt,W,vt;if(!K||!K.state||5<Jt||Jt<0)return K?ee(K,q):q;if(zt=K.state,!K.output||!K.input&&0!==K.avail_in||666===zt.status&&4!==Jt)return ee(K,0===K.avail_out?-5:q);if(zt.strm=K,Me=zt.last_flush,zt.last_flush=Jt,zt.status===Ft)if(2===zt.wrap)K.adler=0,si(zt,31),si(zt,139),si(zt,8),zt.gzhead?(si(zt,(zt.gzhead.text?1:0)+(zt.gzhead.hcrc?2:0)+(zt.gzhead.extra?4:0)+(zt.gzhead.name?8:0)+(zt.gzhead.comment?16:0)),si(zt,255&zt.gzhead.time),si(zt,zt.gzhead.time>>8&255),si(zt,zt.gzhead.time>>16&255),si(zt,zt.gzhead.time>>24&255),si(zt,9===zt.level?2:2<=zt.strategy||zt.level<2?4:0),si(zt,255&zt.gzhead.os),zt.gzhead.extra&&zt.gzhead.extra.length&&(si(zt,255&zt.gzhead.extra.length),si(zt,zt.gzhead.extra.length>>8&255)),zt.gzhead.hcrc&&(K.adler=At(K.adler,zt.pending_buf,zt.pending,0)),zt.gzindex=0,zt.status=69):(si(zt,0),si(zt,0),si(zt,0),si(zt,0),si(zt,0),si(zt,9===zt.level?2:2<=zt.strategy||zt.level<2?4:0),si(zt,3),zt.status=ge);else{var Zt=$+(zt.w_bits-8<<4)<<8;Zt|=(2<=zt.strategy||zt.level<2?0:zt.level<6?1:6===zt.level?2:3)<<6,0!==zt.strstart&&(Zt|=32),Zt+=31-Zt%31,zt.status=ge,Qe(zt,Zt),0!==zt.strstart&&(Qe(zt,K.adler>>>16),Qe(zt,65535&K.adler)),K.adler=1}if(69===zt.status)if(zt.gzhead.extra){for(W=zt.pending;zt.gzindex<(65535&zt.gzhead.extra.length)&&(zt.pending!==zt.pending_buf_size||(zt.gzhead.hcrc&&zt.pending>W&&(K.adler=At(K.adler,zt.pending_buf,zt.pending-W,W)),Lt(K),W=zt.pending,zt.pending!==zt.pending_buf_size));)si(zt,255&zt.gzhead.extra[zt.gzindex]),zt.gzindex++;zt.gzhead.hcrc&&zt.pending>W&&(K.adler=At(K.adler,zt.pending_buf,zt.pending-W,W)),zt.gzindex===zt.gzhead.extra.length&&(zt.gzindex=0,zt.status=73)}else zt.status=73;if(73===zt.status)if(zt.gzhead.name){W=zt.pending;do{if(zt.pending===zt.pending_buf_size&&(zt.gzhead.hcrc&&zt.pending>W&&(K.adler=At(K.adler,zt.pending_buf,zt.pending-W,W)),Lt(K),W=zt.pending,zt.pending===zt.pending_buf_size)){vt=1;break}vt=zt.gzindex<zt.gzhead.name.length?255&zt.gzhead.name.charCodeAt(zt.gzindex++):0,si(zt,vt)}while(0!==vt);zt.gzhead.hcrc&&zt.pending>W&&(K.adler=At(K.adler,zt.pending_buf,zt.pending-W,W)),0===vt&&(zt.gzindex=0,zt.status=91)}else zt.status=91;if(91===zt.status)if(zt.gzhead.comment){W=zt.pending;do{if(zt.pending===zt.pending_buf_size&&(zt.gzhead.hcrc&&zt.pending>W&&(K.adler=At(K.adler,zt.pending_buf,zt.pending-W,W)),Lt(K),W=zt.pending,zt.pending===zt.pending_buf_size)){vt=1;break}vt=zt.gzindex<zt.gzhead.comment.length?255&zt.gzhead.comment.charCodeAt(zt.gzindex++):0,si(zt,vt)}while(0!==vt);zt.gzhead.hcrc&&zt.pending>W&&(K.adler=At(K.adler,zt.pending_buf,zt.pending-W,W)),0===vt&&(zt.status=103)}else zt.status=103;if(103===zt.status&&(zt.gzhead.hcrc?(zt.pending+2>zt.pending_buf_size&&Lt(K),zt.pending+2<=zt.pending_buf_size&&(si(zt,255&K.adler),si(zt,K.adler>>8&255),K.adler=0,zt.status=ge)):zt.status=ge),0!==zt.pending){if(Lt(K),0===K.avail_out)return zt.last_flush=-1,B}else if(0===K.avail_in&&ve(Jt)<=ve(Me)&&4!==Jt)return ee(K,-5);if(666===zt.status&&0!==K.avail_in)return ee(K,-5);if(0!==K.avail_in||0!==zt.lookahead||Jt!==rt&&666!==zt.status){var ne=2===zt.strategy?function(qt,Ve){for(var ni;;){if(0===qt.lookahead&&(ui(qt),0===qt.lookahead)){if(Ve===rt)return 1;break}if(qt.match_length=0,ni=ut._tr_tally(qt,0,qt.window[qt.strstart]),qt.lookahead--,qt.strstart++,ni&&(Wt(qt,!1),0===qt.strm.avail_out))return 1}return qt.insert=0,4===Ve?(Wt(qt,!0),0===qt.strm.avail_out?3:4):qt.last_lit&&(Wt(qt,!1),0===qt.strm.avail_out)?1:2}(zt,Jt):3===zt.strategy?function(qt,Ve){for(var ni,Re,oi,yi,ti=qt.window;;){if(qt.lookahead<=_e){if(ui(qt),qt.lookahead<=_e&&Ve===rt)return 1;if(0===qt.lookahead)break}if(qt.match_length=0,qt.lookahead>=Xt&&0<qt.strstart&&(Re=ti[oi=qt.strstart-1])===ti[++oi]&&Re===ti[++oi]&&Re===ti[++oi]){yi=qt.strstart+_e;do{}while(Re===ti[++oi]&&Re===ti[++oi]&&Re===ti[++oi]&&Re===ti[++oi]&&Re===ti[++oi]&&Re===ti[++oi]&&Re===ti[++oi]&&Re===ti[++oi]&&oi<yi);qt.match_length=_e-(yi-oi),qt.match_length>qt.lookahead&&(qt.match_length=qt.lookahead)}if(qt.match_length>=Xt?(ni=ut._tr_tally(qt,1,qt.match_length-Xt),qt.lookahead-=qt.match_length,qt.strstart+=qt.match_length,qt.match_length=0):(ni=ut._tr_tally(qt,0,qt.window[qt.strstart]),qt.lookahead--,qt.strstart++),ni&&(Wt(qt,!1),0===qt.strm.avail_out))return 1}return qt.insert=0,4===Ve?(Wt(qt,!0),0===qt.strm.avail_out?3:4):qt.last_lit&&(Wt(qt,!1),0===qt.strm.avail_out)?1:2}(zt,Jt):st[zt.level].func(zt,Jt);if(3!==ne&&4!==ne||(zt.status=666),1===ne||3===ne)return 0===K.avail_out&&(zt.last_flush=-1),B;if(2===ne&&(1===Jt?ut._tr_align(zt):5!==Jt&&(ut._tr_stored_block(zt,0,0,!1),3===Jt&&(jt(zt.head),0===zt.lookahead&&(zt.strstart=0,zt.block_start=0,zt.insert=0))),Lt(K),0===K.avail_out))return zt.last_flush=-1,B}return 4!==Jt?B:zt.wrap<=0?1:(2===zt.wrap?(si(zt,255&K.adler),si(zt,K.adler>>8&255),si(zt,K.adler>>16&255),si(zt,K.adler>>24&255),si(zt,255&K.total_in),si(zt,K.total_in>>8&255),si(zt,K.total_in>>16&255),si(zt,K.total_in>>24&255)):(Qe(zt,K.adler>>>16),Qe(zt,65535&K.adler)),Lt(K),0<zt.wrap&&(zt.wrap=-zt.wrap),0!==zt.pending?B:1)},ht.deflateEnd=function(K){var Jt;return K&&K.state?(Jt=K.state.status)!==Ft&&69!==Jt&&73!==Jt&&91!==Jt&&103!==Jt&&Jt!==ge&&666!==Jt?ee(K,q):(K.state=null,Jt===ge?ee(K,-3):B):q},ht.deflateSetDictionary=function(K,Jt){var Me,zt,W,vt,Zt,ne,qt,Ve,ni=Jt.length;if(!K||!K.state||2===(vt=(Me=K.state).wrap)||1===vt&&Me.status!==Ft||Me.lookahead)return q;for(1===vt&&(K.adler=ot(K.adler,Jt,ni,0)),Me.wrap=0,ni>=Me.w_size&&(0===vt&&(jt(Me.head),Me.strstart=0,Me.block_start=0,Me.insert=0),Ve=new pt.Buf8(Me.w_size),pt.arraySet(Ve,Jt,ni-Me.w_size,Me.w_size,0),Jt=Ve,ni=Me.w_size),Zt=K.avail_in,ne=K.next_in,qt=K.input,K.avail_in=ni,K.next_in=0,K.input=Jt,ui(Me);Me.lookahead>=Xt;){for(zt=Me.strstart,W=Me.lookahead-(Xt-1);Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[zt+Xt-1])&Me.hash_mask,Me.prev[zt&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=zt,zt++,--W;);Me.strstart=zt,Me.lookahead=Xt-1,ui(Me)}return Me.strstart+=Me.lookahead,Me.block_start=Me.strstart,Me.insert=Me.lookahead,Me.lookahead=0,Me.match_length=Me.prev_length=Xt-1,Me.match_available=0,K.next_in=ne,K.input=qt,K.avail_in=Zt,Me.wrap=vt,B},ht.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Ot,Et,ht){"use strict";Et.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(Ot,Et,ht){"use strict";Et.exports=function(st,pt){var ut,ot,At,ft,rt,J,B,q,Z,it,et,$,lt,_t,Dt,Yt,Ut,ue,Xt,_e,Oe,Ft,ge,ct,Nt;ct=st.input,At=(ot=st.next_in)+(st.avail_in-5),Nt=st.output,rt=(ft=st.next_out)-(pt-st.avail_out),J=ft+(st.avail_out-257),B=(ut=st.state).dmax,q=ut.wsize,Z=ut.whave,it=ut.wnext,et=ut.window,$=ut.hold,lt=ut.bits,_t=ut.lencode,Dt=ut.distcode,Yt=(1<<ut.lenbits)-1,Ut=(1<<ut.distbits)-1;t:do{lt<15&&($+=ct[ot++]<<lt,$+=ct[ot++]<<(lt+=8),lt+=8),ue=_t[$&Yt];e:for(;;){if($>>>=Xt=ue>>>24,lt-=Xt,0==(Xt=ue>>>16&255))Nt[ft++]=65535&ue;else{if(!(16&Xt)){if(!(64&Xt)){ue=_t[(65535&ue)+($&(1<<Xt)-1)];continue e}if(32&Xt){ut.mode=12;break t}st.msg="invalid literal/length code",ut.mode=30;break t}_e=65535&ue,(Xt&=15)&&(lt<Xt&&($+=ct[ot++]<<lt,lt+=8),_e+=$&(1<<Xt)-1,$>>>=Xt,lt-=Xt),lt<15&&($+=ct[ot++]<<lt,$+=ct[ot++]<<(lt+=8),lt+=8),ue=Dt[$&Ut];i:for(;;){if($>>>=Xt=ue>>>24,lt-=Xt,!(16&(Xt=ue>>>16&255))){if(!(64&Xt)){ue=Dt[(65535&ue)+($&(1<<Xt)-1)];continue i}st.msg="invalid distance code",ut.mode=30;break t}if(Oe=65535&ue,lt<(Xt&=15)&&($+=ct[ot++]<<lt,(lt+=8)<Xt&&($+=ct[ot++]<<lt,lt+=8)),B<(Oe+=$&(1<<Xt)-1)){st.msg="invalid distance too far back",ut.mode=30;break t}if($>>>=Xt,lt-=Xt,(Xt=ft-rt)<Oe){if(Z<(Xt=Oe-Xt)&&ut.sane){st.msg="invalid distance too far back",ut.mode=30;break t}if(ge=et,(Ft=0)===it){if(Ft+=q-Xt,Xt<_e){for(_e-=Xt;Nt[ft++]=et[Ft++],--Xt;);Ft=ft-Oe,ge=Nt}}else if(it<Xt){if(Ft+=q+it-Xt,(Xt-=it)<_e){for(_e-=Xt;Nt[ft++]=et[Ft++],--Xt;);if(Ft=0,it<_e){for(_e-=Xt=it;Nt[ft++]=et[Ft++],--Xt;);Ft=ft-Oe,ge=Nt}}}else if(Ft+=it-Xt,Xt<_e){for(_e-=Xt;Nt[ft++]=et[Ft++],--Xt;);Ft=ft-Oe,ge=Nt}for(;2<_e;)Nt[ft++]=ge[Ft++],Nt[ft++]=ge[Ft++],Nt[ft++]=ge[Ft++],_e-=3;_e&&(Nt[ft++]=ge[Ft++],1<_e&&(Nt[ft++]=ge[Ft++]))}else{for(Ft=ft-Oe;Nt[ft++]=Nt[Ft++],Nt[ft++]=Nt[Ft++],Nt[ft++]=Nt[Ft++],2<(_e-=3););_e&&(Nt[ft++]=Nt[Ft++],1<_e&&(Nt[ft++]=Nt[Ft++]))}break}}break}}while(ot<At&&ft<J);ot-=_e=lt>>3,$&=(1<<(lt-=_e<<3))-1,st.next_in=ot,st.next_out=ft,st.avail_in=ot<At?At-ot+5:5-(ot-At),st.avail_out=ft<J?J-ft+257:257-(ft-J),ut.hold=$,ut.bits=lt}},{}],49:[function(Ot,Et,ht){"use strict";var st=Ot("../utils/common"),pt=Ot("./adler32"),ut=Ot("./crc32"),ot=Ot("./inffast"),At=Ot("./inftrees"),J=0,B=-2,q=1,Z=852,it=592;function et(Ft){return(Ft>>>24&255)+(Ft>>>8&65280)+((65280&Ft)<<8)+((255&Ft)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new st.Buf16(320),this.work=new st.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function lt(Ft){var ge;return Ft&&Ft.state?(Ft.total_in=Ft.total_out=(ge=Ft.state).total=0,Ft.msg="",ge.wrap&&(Ft.adler=1&ge.wrap),ge.mode=q,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new st.Buf32(Z),ge.distcode=ge.distdyn=new st.Buf32(it),ge.sane=1,ge.back=-1,J):B}function _t(Ft){var ge;return Ft&&Ft.state?((ge=Ft.state).wsize=0,ge.whave=0,ge.wnext=0,lt(Ft)):B}function Dt(Ft,ge){var ct,Nt;return Ft&&Ft.state?(Nt=Ft.state,ge<0?(ct=0,ge=-ge):(ct=1+(ge>>4),ge<48&&(ge&=15)),ge&&(ge<8||15<ge)?B:(null!==Nt.window&&Nt.wbits!==ge&&(Nt.window=null),Nt.wrap=ct,Nt.wbits=ge,_t(Ft))):B}function Yt(Ft,ge){var ct,Nt;return Ft?(Nt=new $,(Ft.state=Nt).window=null,(ct=Dt(Ft,ge))!==J&&(Ft.state=null),ct):B}var Ut,ue,Xt=!0;function _e(Ft){if(Xt){var ge;for(Ut=new st.Buf32(512),ue=new st.Buf32(32),ge=0;ge<144;)Ft.lens[ge++]=8;for(;ge<256;)Ft.lens[ge++]=9;for(;ge<280;)Ft.lens[ge++]=7;for(;ge<288;)Ft.lens[ge++]=8;for(At(1,Ft.lens,0,288,Ut,0,Ft.work,{bits:9}),ge=0;ge<32;)Ft.lens[ge++]=5;At(2,Ft.lens,0,32,ue,0,Ft.work,{bits:5}),Xt=!1}Ft.lencode=Ut,Ft.lenbits=9,Ft.distcode=ue,Ft.distbits=5}function Oe(Ft,ge,ct,Nt){var gt,St=Ft.state;return null===St.window&&(St.wsize=1<<St.wbits,St.wnext=0,St.whave=0,St.window=new st.Buf8(St.wsize)),Nt>=St.wsize?(st.arraySet(St.window,ge,ct-St.wsize,St.wsize,0),St.wnext=0,St.whave=St.wsize):(Nt<(gt=St.wsize-St.wnext)&&(gt=Nt),st.arraySet(St.window,ge,ct-Nt,gt,St.wnext),(Nt-=gt)?(st.arraySet(St.window,ge,ct-Nt,Nt,0),St.wnext=Nt,St.whave=St.wsize):(St.wnext+=gt,St.wnext===St.wsize&&(St.wnext=0),St.whave<St.wsize&&(St.whave+=gt))),0}ht.inflateReset=_t,ht.inflateReset2=Dt,ht.inflateResetKeep=lt,ht.inflateInit=function(Ft){return Yt(Ft,15)},ht.inflateInit2=Yt,ht.inflate=function(Ft,ge){var ct,Nt,gt,St,ee,ve,jt,Lt,Wt,si,Qe,ze,ui,$n,rn,dn,Xn,Ae,_r,co,K,Jt,Me,zt,W=0,vt=new st.Buf8(4),Zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ft||!Ft.state||!Ft.output||!Ft.input&&0!==Ft.avail_in)return B;12===(ct=Ft.state).mode&&(ct.mode=13),ee=Ft.next_out,gt=Ft.output,St=Ft.next_in,Nt=Ft.input,Lt=ct.hold,Wt=ct.bits,si=ve=Ft.avail_in,Qe=jt=Ft.avail_out,Jt=J;t:for(;;)switch(ct.mode){case q:if(0===ct.wrap){ct.mode=13;break}for(;Wt<16;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(2&ct.wrap&&35615===Lt){vt[ct.check=0]=255&Lt,vt[1]=Lt>>>8&255,ct.check=ut(ct.check,vt,2,0),Wt=Lt=0,ct.mode=2;break}if(ct.flags=0,ct.head&&(ct.head.done=!1),!(1&ct.wrap)||(((255&Lt)<<8)+(Lt>>8))%31){Ft.msg="incorrect header check",ct.mode=30;break}if(8!=(15&Lt)){Ft.msg="unknown compression method",ct.mode=30;break}if(Wt-=4,K=8+(15&(Lt>>>=4)),0===ct.wbits)ct.wbits=K;else if(K>ct.wbits){Ft.msg="invalid window size",ct.mode=30;break}ct.dmax=1<<K,Ft.adler=ct.check=1,ct.mode=512&Lt?10:12,Wt=Lt=0;break;case 2:for(;Wt<16;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(ct.flags=Lt,8!=(255&ct.flags)){Ft.msg="unknown compression method",ct.mode=30;break}if(57344&ct.flags){Ft.msg="unknown header flags set",ct.mode=30;break}ct.head&&(ct.head.text=Lt>>8&1),512&ct.flags&&(vt[0]=255&Lt,vt[1]=Lt>>>8&255,ct.check=ut(ct.check,vt,2,0)),Wt=Lt=0,ct.mode=3;case 3:for(;Wt<32;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}ct.head&&(ct.head.time=Lt),512&ct.flags&&(vt[0]=255&Lt,vt[1]=Lt>>>8&255,vt[2]=Lt>>>16&255,vt[3]=Lt>>>24&255,ct.check=ut(ct.check,vt,4,0)),Wt=Lt=0,ct.mode=4;case 4:for(;Wt<16;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}ct.head&&(ct.head.xflags=255&Lt,ct.head.os=Lt>>8),512&ct.flags&&(vt[0]=255&Lt,vt[1]=Lt>>>8&255,ct.check=ut(ct.check,vt,2,0)),Wt=Lt=0,ct.mode=5;case 5:if(1024&ct.flags){for(;Wt<16;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}ct.length=Lt,ct.head&&(ct.head.extra_len=Lt),512&ct.flags&&(vt[0]=255&Lt,vt[1]=Lt>>>8&255,ct.check=ut(ct.check,vt,2,0)),Wt=Lt=0}else ct.head&&(ct.head.extra=null);ct.mode=6;case 6:if(1024&ct.flags&&(ve<(ze=ct.length)&&(ze=ve),ze&&(ct.head&&(K=ct.head.extra_len-ct.length,ct.head.extra||(ct.head.extra=new Array(ct.head.extra_len)),st.arraySet(ct.head.extra,Nt,St,ze,K)),512&ct.flags&&(ct.check=ut(ct.check,Nt,ze,St)),ve-=ze,St+=ze,ct.length-=ze),ct.length))break t;ct.length=0,ct.mode=7;case 7:if(2048&ct.flags){if(0===ve)break t;for(ze=0;K=Nt[St+ze++],ct.head&&K&&ct.length<65536&&(ct.head.name+=String.fromCharCode(K)),K&&ze<ve;);if(512&ct.flags&&(ct.check=ut(ct.check,Nt,ze,St)),ve-=ze,St+=ze,K)break t}else ct.head&&(ct.head.name=null);ct.length=0,ct.mode=8;case 8:if(4096&ct.flags){if(0===ve)break t;for(ze=0;K=Nt[St+ze++],ct.head&&K&&ct.length<65536&&(ct.head.comment+=String.fromCharCode(K)),K&&ze<ve;);if(512&ct.flags&&(ct.check=ut(ct.check,Nt,ze,St)),ve-=ze,St+=ze,K)break t}else ct.head&&(ct.head.comment=null);ct.mode=9;case 9:if(512&ct.flags){for(;Wt<16;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(Lt!==(65535&ct.check)){Ft.msg="header crc mismatch",ct.mode=30;break}Wt=Lt=0}ct.head&&(ct.head.hcrc=ct.flags>>9&1,ct.head.done=!0),Ft.adler=ct.check=0,ct.mode=12;break;case 10:for(;Wt<32;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}Ft.adler=ct.check=et(Lt),Wt=Lt=0,ct.mode=11;case 11:if(0===ct.havedict)return Ft.next_out=ee,Ft.avail_out=jt,Ft.next_in=St,Ft.avail_in=ve,ct.hold=Lt,ct.bits=Wt,2;Ft.adler=ct.check=1,ct.mode=12;case 12:if(5===ge||6===ge)break t;case 13:if(ct.last){Lt>>>=7&Wt,Wt-=7&Wt,ct.mode=27;break}for(;Wt<3;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}switch(ct.last=1&Lt,Wt-=1,3&(Lt>>>=1)){case 0:ct.mode=14;break;case 1:if(_e(ct),ct.mode=20,6!==ge)break;Lt>>>=2,Wt-=2;break t;case 2:ct.mode=17;break;case 3:Ft.msg="invalid block type",ct.mode=30}Lt>>>=2,Wt-=2;break;case 14:for(Lt>>>=7&Wt,Wt-=7&Wt;Wt<32;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if((65535&Lt)!=(Lt>>>16^65535)){Ft.msg="invalid stored block lengths",ct.mode=30;break}if(ct.length=65535&Lt,Wt=Lt=0,ct.mode=15,6===ge)break t;case 15:ct.mode=16;case 16:if(ze=ct.length){if(ve<ze&&(ze=ve),jt<ze&&(ze=jt),0===ze)break t;st.arraySet(gt,Nt,St,ze,ee),ve-=ze,St+=ze,jt-=ze,ee+=ze,ct.length-=ze;break}ct.mode=12;break;case 17:for(;Wt<14;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(ct.nlen=257+(31&Lt),Wt-=5,ct.ndist=1+(31&(Lt>>>=5)),Wt-=5,ct.ncode=4+(15&(Lt>>>=5)),Lt>>>=4,Wt-=4,286<ct.nlen||30<ct.ndist){Ft.msg="too many length or distance symbols",ct.mode=30;break}ct.have=0,ct.mode=18;case 18:for(;ct.have<ct.ncode;){for(;Wt<3;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}ct.lens[Zt[ct.have++]]=7&Lt,Lt>>>=3,Wt-=3}for(;ct.have<19;)ct.lens[Zt[ct.have++]]=0;if(ct.lencode=ct.lendyn,ct.lenbits=7,Jt=At(0,ct.lens,0,19,ct.lencode,0,ct.work,Me={bits:ct.lenbits}),ct.lenbits=Me.bits,Jt){Ft.msg="invalid code lengths set",ct.mode=30;break}ct.have=0,ct.mode=19;case 19:for(;ct.have<ct.nlen+ct.ndist;){for(;dn=(W=ct.lencode[Lt&(1<<ct.lenbits)-1])>>>16&255,Xn=65535&W,!((rn=W>>>24)<=Wt);){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(Xn<16)Lt>>>=rn,Wt-=rn,ct.lens[ct.have++]=Xn;else{if(16===Xn){for(zt=rn+2;Wt<zt;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(Lt>>>=rn,Wt-=rn,0===ct.have){Ft.msg="invalid bit length repeat",ct.mode=30;break}K=ct.lens[ct.have-1],ze=3+(3&Lt),Lt>>>=2,Wt-=2}else if(17===Xn){for(zt=rn+3;Wt<zt;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}Wt-=rn,K=0,ze=3+(7&(Lt>>>=rn)),Lt>>>=3,Wt-=3}else{for(zt=rn+7;Wt<zt;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}Wt-=rn,K=0,ze=11+(127&(Lt>>>=rn)),Lt>>>=7,Wt-=7}if(ct.have+ze>ct.nlen+ct.ndist){Ft.msg="invalid bit length repeat",ct.mode=30;break}for(;ze--;)ct.lens[ct.have++]=K}}if(30===ct.mode)break;if(0===ct.lens[256]){Ft.msg="invalid code -- missing end-of-block",ct.mode=30;break}if(ct.lenbits=9,Jt=At(1,ct.lens,0,ct.nlen,ct.lencode,0,ct.work,Me={bits:ct.lenbits}),ct.lenbits=Me.bits,Jt){Ft.msg="invalid literal/lengths set",ct.mode=30;break}if(ct.distbits=6,ct.distcode=ct.distdyn,Jt=At(2,ct.lens,ct.nlen,ct.ndist,ct.distcode,0,ct.work,Me={bits:ct.distbits}),ct.distbits=Me.bits,Jt){Ft.msg="invalid distances set",ct.mode=30;break}if(ct.mode=20,6===ge)break t;case 20:ct.mode=21;case 21:if(6<=ve&&258<=jt){Ft.next_out=ee,Ft.avail_out=jt,Ft.next_in=St,Ft.avail_in=ve,ct.hold=Lt,ct.bits=Wt,ot(Ft,Qe),ee=Ft.next_out,gt=Ft.output,jt=Ft.avail_out,St=Ft.next_in,Nt=Ft.input,ve=Ft.avail_in,Lt=ct.hold,Wt=ct.bits,12===ct.mode&&(ct.back=-1);break}for(ct.back=0;dn=(W=ct.lencode[Lt&(1<<ct.lenbits)-1])>>>16&255,Xn=65535&W,!((rn=W>>>24)<=Wt);){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(dn&&!(240&dn)){for(Ae=rn,_r=dn,co=Xn;dn=(W=ct.lencode[co+((Lt&(1<<Ae+_r)-1)>>Ae)])>>>16&255,Xn=65535&W,!(Ae+(rn=W>>>24)<=Wt);){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}Lt>>>=Ae,Wt-=Ae,ct.back+=Ae}if(Lt>>>=rn,Wt-=rn,ct.back+=rn,ct.length=Xn,0===dn){ct.mode=26;break}if(32&dn){ct.back=-1,ct.mode=12;break}if(64&dn){Ft.msg="invalid literal/length code",ct.mode=30;break}ct.extra=15&dn,ct.mode=22;case 22:if(ct.extra){for(zt=ct.extra;Wt<zt;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}ct.length+=Lt&(1<<ct.extra)-1,Lt>>>=ct.extra,Wt-=ct.extra,ct.back+=ct.extra}ct.was=ct.length,ct.mode=23;case 23:for(;dn=(W=ct.distcode[Lt&(1<<ct.distbits)-1])>>>16&255,Xn=65535&W,!((rn=W>>>24)<=Wt);){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(!(240&dn)){for(Ae=rn,_r=dn,co=Xn;dn=(W=ct.distcode[co+((Lt&(1<<Ae+_r)-1)>>Ae)])>>>16&255,Xn=65535&W,!(Ae+(rn=W>>>24)<=Wt);){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}Lt>>>=Ae,Wt-=Ae,ct.back+=Ae}if(Lt>>>=rn,Wt-=rn,ct.back+=rn,64&dn){Ft.msg="invalid distance code",ct.mode=30;break}ct.offset=Xn,ct.extra=15&dn,ct.mode=24;case 24:if(ct.extra){for(zt=ct.extra;Wt<zt;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}ct.offset+=Lt&(1<<ct.extra)-1,Lt>>>=ct.extra,Wt-=ct.extra,ct.back+=ct.extra}if(ct.offset>ct.dmax){Ft.msg="invalid distance too far back",ct.mode=30;break}ct.mode=25;case 25:if(0===jt)break t;if(ct.offset>(ze=Qe-jt)){if((ze=ct.offset-ze)>ct.whave&&ct.sane){Ft.msg="invalid distance too far back",ct.mode=30;break}ui=ze>ct.wnext?ct.wsize-(ze-=ct.wnext):ct.wnext-ze,ze>ct.length&&(ze=ct.length),$n=ct.window}else $n=gt,ui=ee-ct.offset,ze=ct.length;for(jt<ze&&(ze=jt),jt-=ze,ct.length-=ze;gt[ee++]=$n[ui++],--ze;);0===ct.length&&(ct.mode=21);break;case 26:if(0===jt)break t;gt[ee++]=ct.length,jt--,ct.mode=21;break;case 27:if(ct.wrap){for(;Wt<32;){if(0===ve)break t;ve--,Lt|=Nt[St++]<<Wt,Wt+=8}if(Ft.total_out+=Qe-=jt,ct.total+=Qe,Qe&&(Ft.adler=ct.check=ct.flags?ut(ct.check,gt,Qe,ee-Qe):pt(ct.check,gt,Qe,ee-Qe)),Qe=jt,(ct.flags?Lt:et(Lt))!==ct.check){Ft.msg="incorrect data check",ct.mode=30;break}Wt=Lt=0}ct.mode=28;case 28:if(ct.wrap&&ct.flags){for(;Wt<32;){if(0===ve)break t;ve--,Lt+=Nt[St++]<<Wt,Wt+=8}if(Lt!==(4294967295&ct.total)){Ft.msg="incorrect length check",ct.mode=30;break}Wt=Lt=0}ct.mode=29;case 29:Jt=1;break t;case 30:Jt=-3;break t;case 31:return-4;default:return B}return Ft.next_out=ee,Ft.avail_out=jt,Ft.next_in=St,Ft.avail_in=ve,ct.hold=Lt,ct.bits=Wt,(ct.wsize||Qe!==Ft.avail_out&&ct.mode<30&&(ct.mode<27||4!==ge))&&Oe(Ft,Ft.output,Ft.next_out,Qe-Ft.avail_out)?(ct.mode=31,-4):(Qe-=Ft.avail_out,Ft.total_in+=si-=Ft.avail_in,Ft.total_out+=Qe,ct.total+=Qe,ct.wrap&&Qe&&(Ft.adler=ct.check=ct.flags?ut(ct.check,gt,Qe,Ft.next_out-Qe):pt(ct.check,gt,Qe,Ft.next_out-Qe)),Ft.data_type=ct.bits+(ct.last?64:0)+(12===ct.mode?128:0)+(20===ct.mode||15===ct.mode?256:0),(0==si&&0===Qe||4===ge)&&Jt===J&&(Jt=-5),Jt)},ht.inflateEnd=function(Ft){if(!Ft||!Ft.state)return B;var ge=Ft.state;return ge.window&&(ge.window=null),Ft.state=null,J},ht.inflateGetHeader=function(Ft,ge){var ct;return Ft&&Ft.state&&2&(ct=Ft.state).wrap?((ct.head=ge).done=!1,J):B},ht.inflateSetDictionary=function(Ft,ge){var ct,Nt=ge.length;return Ft&&Ft.state?0!==(ct=Ft.state).wrap&&11!==ct.mode?B:11===ct.mode&&pt(1,ge,Nt,0)!==ct.check?-3:Oe(Ft,ge,Nt,Nt)?(ct.mode=31,-4):(ct.havedict=1,J):B},ht.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Ot,Et,ht){"use strict";var st=Ot("../utils/common"),pt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ut=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ot=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],At=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Et.exports=function(ft,rt,J,B,q,Z,it,et){var $,lt,_t,Dt,Yt,Ut,ue,Xt,_e,Oe=et.bits,Ft=0,ge=0,ct=0,Nt=0,gt=0,St=0,ee=0,ve=0,jt=0,Lt=0,Wt=null,si=0,Qe=new st.Buf16(16),ze=new st.Buf16(16),ui=null,$n=0;for(Ft=0;Ft<=15;Ft++)Qe[Ft]=0;for(ge=0;ge<B;ge++)Qe[rt[J+ge]]++;for(gt=Oe,Nt=15;1<=Nt&&0===Qe[Nt];Nt--);if(Nt<gt&&(gt=Nt),0===Nt)return q[Z++]=20971520,q[Z++]=20971520,et.bits=1,0;for(ct=1;ct<Nt&&0===Qe[ct];ct++);for(gt<ct&&(gt=ct),Ft=ve=1;Ft<=15;Ft++)if(ve<<=1,(ve-=Qe[Ft])<0)return-1;if(0<ve&&(0===ft||1!==Nt))return-1;for(ze[1]=0,Ft=1;Ft<15;Ft++)ze[Ft+1]=ze[Ft]+Qe[Ft];for(ge=0;ge<B;ge++)0!==rt[J+ge]&&(it[ze[rt[J+ge]]++]=ge);if(Ut=0===ft?(Wt=ui=it,19):1===ft?(Wt=pt,si-=257,ui=ut,$n-=257,256):(Wt=ot,ui=At,-1),Ft=ct,Yt=Z,ee=ge=Lt=0,_t=-1,Dt=(jt=1<<(St=gt))-1,1===ft&&852<jt||2===ft&&592<jt)return 1;for(;;){for(ue=Ft-ee,_e=it[ge]<Ut?(Xt=0,it[ge]):it[ge]>Ut?(Xt=ui[$n+it[ge]],Wt[si+it[ge]]):(Xt=96,0),$=1<<Ft-ee,ct=lt=1<<St;q[Yt+(Lt>>ee)+(lt-=$)]=ue<<24|Xt<<16|_e|0,0!==lt;);for($=1<<Ft-1;Lt&$;)$>>=1;if(0!==$?(Lt&=$-1,Lt+=$):Lt=0,ge++,0==--Qe[Ft]){if(Ft===Nt)break;Ft=rt[J+it[ge]]}if(gt<Ft&&(Lt&Dt)!==_t){for(0===ee&&(ee=gt),Yt+=ct,ve=1<<(St=Ft-ee);St+ee<Nt&&!((ve-=Qe[St+ee])<=0);)St++,ve<<=1;if(jt+=1<<St,1===ft&&852<jt||2===ft&&592<jt)return 1;q[_t=Lt&Dt]=gt<<24|St<<16|Yt-Z|0}}return 0!==Lt&&(q[Yt+Lt]=Ft-ee<<24|64<<16|0),et.bits=gt,0}},{"../utils/common":41}],51:[function(Ot,Et,ht){"use strict";Et.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Ot,Et,ht){"use strict";var st=Ot("../utils/common");function ot(W){for(var vt=W.length;0<=--vt;)W[vt]=0}var J=286,B=30,it=15,et=16,Ut=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Xt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Oe=new Array(576);ot(Oe);var Ft=new Array(60);ot(Ft);var ge=new Array(512);ot(ge);var ct=new Array(256);ot(ct);var Nt=new Array(29);ot(Nt);var gt,St,ee,ve=new Array(B);function jt(W,vt,Zt,ne,qt){this.static_tree=W,this.extra_bits=vt,this.extra_base=Zt,this.elems=ne,this.max_length=qt,this.has_stree=W&&W.length}function Lt(W,vt){this.dyn_tree=W,this.max_code=0,this.stat_desc=vt}function Wt(W){return W<256?ge[W]:ge[256+(W>>>7)]}function si(W,vt){W.pending_buf[W.pending++]=255&vt,W.pending_buf[W.pending++]=vt>>>8&255}function Qe(W,vt,Zt){W.bi_valid>et-Zt?(W.bi_buf|=vt<<W.bi_valid&65535,si(W,W.bi_buf),W.bi_buf=vt>>et-W.bi_valid,W.bi_valid+=Zt-et):(W.bi_buf|=vt<<W.bi_valid&65535,W.bi_valid+=Zt)}function ze(W,vt,Zt){Qe(W,Zt[2*vt],Zt[2*vt+1])}function ui(W,vt){for(var Zt=0;Zt|=1&W,W>>>=1,Zt<<=1,0<--vt;);return Zt>>>1}function $n(W,vt,Zt){var ne,qt,Ve=new Array(it+1),ni=0;for(ne=1;ne<=it;ne++)Ve[ne]=ni=ni+Zt[ne-1]<<1;for(qt=0;qt<=vt;qt++){var Re=W[2*qt+1];0!==Re&&(W[2*qt]=ui(Ve[Re]++,Re))}}function rn(W){var vt;for(vt=0;vt<J;vt++)W.dyn_ltree[2*vt]=0;for(vt=0;vt<B;vt++)W.dyn_dtree[2*vt]=0;for(vt=0;vt<19;vt++)W.bl_tree[2*vt]=0;W.dyn_ltree[512]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function dn(W){8<W.bi_valid?si(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function Xn(W,vt,Zt,ne){var qt=2*vt,Ve=2*Zt;return W[qt]<W[Ve]||W[qt]===W[Ve]&&ne[vt]<=ne[Zt]}function Ae(W,vt,Zt){for(var ne=W.heap[Zt],qt=Zt<<1;qt<=W.heap_len&&(qt<W.heap_len&&Xn(vt,W.heap[qt+1],W.heap[qt],W.depth)&&qt++,!Xn(vt,ne,W.heap[qt],W.depth));)W.heap[Zt]=W.heap[qt],Zt=qt,qt<<=1;W.heap[Zt]=ne}function _r(W,vt,Zt){var ne,qt,Ve,ni,Re=0;if(0!==W.last_lit)for(;ne=W.pending_buf[W.d_buf+2*Re]<<8|W.pending_buf[W.d_buf+2*Re+1],qt=W.pending_buf[W.l_buf+Re],Re++,0===ne?ze(W,qt,vt):(ze(W,(Ve=ct[qt])+256+1,vt),0!==(ni=Ut[Ve])&&Qe(W,qt-=Nt[Ve],ni),ze(W,Ve=Wt(--ne),Zt),0!==(ni=ue[Ve])&&Qe(W,ne-=ve[Ve],ni)),Re<W.last_lit;);ze(W,256,vt)}function co(W,vt){var Zt,ne,qt,Ve=vt.dyn_tree,ni=vt.stat_desc.static_tree,Re=vt.stat_desc.has_stree,oi=vt.stat_desc.elems,yi=-1;for(W.heap_len=0,W.heap_max=573,Zt=0;Zt<oi;Zt++)0!==Ve[2*Zt]?(W.heap[++W.heap_len]=yi=Zt,W.depth[Zt]=0):Ve[2*Zt+1]=0;for(;W.heap_len<2;)Ve[2*(qt=W.heap[++W.heap_len]=yi<2?++yi:0)]=1,W.depth[qt]=0,W.opt_len--,Re&&(W.static_len-=ni[2*qt+1]);for(vt.max_code=yi,Zt=W.heap_len>>1;1<=Zt;Zt--)Ae(W,Ve,Zt);for(qt=oi;Zt=W.heap[1],W.heap[1]=W.heap[W.heap_len--],Ae(W,Ve,1),ne=W.heap[1],W.heap[--W.heap_max]=Zt,W.heap[--W.heap_max]=ne,Ve[2*qt]=Ve[2*Zt]+Ve[2*ne],W.depth[qt]=(W.depth[Zt]>=W.depth[ne]?W.depth[Zt]:W.depth[ne])+1,Ve[2*Zt+1]=Ve[2*ne+1]=qt,W.heap[1]=qt++,Ae(W,Ve,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(ti,je){var or,Cr,go,In,zs,qa,Ao=je.dyn_tree,od=je.max_code,Yl=je.stat_desc.static_tree,ad=je.stat_desc.has_stree,ou=je.stat_desc.extra_bits,Tc=je.stat_desc.extra_base,Hn=je.stat_desc.max_length,Xa=0;for(In=0;In<=it;In++)ti.bl_count[In]=0;for(Ao[2*ti.heap[ti.heap_max]+1]=0,or=ti.heap_max+1;or<573;or++)Hn<(In=Ao[2*Ao[2*(Cr=ti.heap[or])+1]+1]+1)&&(In=Hn,Xa++),Ao[2*Cr+1]=In,od<Cr||(ti.bl_count[In]++,zs=0,Tc<=Cr&&(zs=ou[Cr-Tc]),ti.opt_len+=(qa=Ao[2*Cr])*(In+zs),ad&&(ti.static_len+=qa*(Yl[2*Cr+1]+zs)));if(0!==Xa){do{for(In=Hn-1;0===ti.bl_count[In];)In--;ti.bl_count[In]--,ti.bl_count[In+1]+=2,ti.bl_count[Hn]--,Xa-=2}while(0<Xa);for(In=Hn;0!==In;In--)for(Cr=ti.bl_count[In];0!==Cr;)od<(go=ti.heap[--or])||(Ao[2*go+1]!==In&&(ti.opt_len+=(In-Ao[2*go+1])*Ao[2*go],Ao[2*go+1]=In),Cr--)}}(W,vt),$n(Ve,yi,W.bl_count)}function K(W,vt,Zt){var ne,qt,Ve=-1,ni=vt[1],Re=0,oi=7,yi=4;for(0===ni&&(oi=138,yi=3),vt[2*(Zt+1)+1]=65535,ne=0;ne<=Zt;ne++)qt=ni,ni=vt[2*(ne+1)+1],++Re<oi&&qt===ni||(Re<yi?W.bl_tree[2*qt]+=Re:0!==qt?(qt!==Ve&&W.bl_tree[2*qt]++,W.bl_tree[32]++):Re<=10?W.bl_tree[34]++:W.bl_tree[36]++,Ve=qt,yi=(Re=0)===ni?(oi=138,3):qt===ni?(oi=6,3):(oi=7,4))}function Jt(W,vt,Zt){var ne,qt,Ve=-1,ni=vt[1],Re=0,oi=7,yi=4;for(0===ni&&(oi=138,yi=3),ne=0;ne<=Zt;ne++)if(qt=ni,ni=vt[2*(ne+1)+1],!(++Re<oi&&qt===ni)){if(Re<yi)for(;ze(W,qt,W.bl_tree),0!=--Re;);else 0!==qt?(qt!==Ve&&(ze(W,qt,W.bl_tree),Re--),ze(W,16,W.bl_tree),Qe(W,Re-3,2)):Re<=10?(ze(W,17,W.bl_tree),Qe(W,Re-3,3)):(ze(W,18,W.bl_tree),Qe(W,Re-11,7));Ve=qt,yi=(Re=0)===ni?(oi=138,3):qt===ni?(oi=6,3):(oi=7,4)}}ot(ve);var Me=!1;function zt(W,vt,Zt,ne){var qt,Ve,ni;Qe(W,0+(ne?1:0),3),Ve=vt,ni=Zt,dn(qt=W),si(qt,ni),si(qt,~ni),st.arraySet(qt.pending_buf,qt.window,Ve,ni,qt.pending),qt.pending+=ni}ht._tr_init=function(W){Me||(function(){var vt,Zt,ne,qt,Ve,ni=new Array(it+1);for(qt=ne=0;qt<28;qt++)for(Nt[qt]=ne,vt=0;vt<1<<Ut[qt];vt++)ct[ne++]=qt;for(ct[ne-1]=qt,qt=Ve=0;qt<16;qt++)for(ve[qt]=Ve,vt=0;vt<1<<ue[qt];vt++)ge[Ve++]=qt;for(Ve>>=7;qt<B;qt++)for(ve[qt]=Ve<<7,vt=0;vt<1<<ue[qt]-7;vt++)ge[256+Ve++]=qt;for(Zt=0;Zt<=it;Zt++)ni[Zt]=0;for(vt=0;vt<=143;)Oe[2*vt+1]=8,vt++,ni[8]++;for(;vt<=255;)Oe[2*vt+1]=9,vt++,ni[9]++;for(;vt<=279;)Oe[2*vt+1]=7,vt++,ni[7]++;for(;vt<=287;)Oe[2*vt+1]=8,vt++,ni[8]++;for($n(Oe,287,ni),vt=0;vt<B;vt++)Ft[2*vt+1]=5,Ft[2*vt]=ui(vt,5);gt=new jt(Oe,Ut,257,J,it),St=new jt(Ft,ue,0,B,it),ee=new jt(new Array(0),Xt,0,19,7)}(),Me=!0),W.l_desc=new Lt(W.dyn_ltree,gt),W.d_desc=new Lt(W.dyn_dtree,St),W.bl_desc=new Lt(W.bl_tree,ee),W.bi_buf=0,W.bi_valid=0,rn(W)},ht._tr_stored_block=zt,ht._tr_flush_block=function(W,vt,Zt,ne){var qt,Ve,ni=0;0<W.level?(2===W.strm.data_type&&(W.strm.data_type=function(Re){var oi,yi=4093624447;for(oi=0;oi<=31;oi++,yi>>>=1)if(1&yi&&0!==Re.dyn_ltree[2*oi])return 0;if(0!==Re.dyn_ltree[18]||0!==Re.dyn_ltree[20]||0!==Re.dyn_ltree[26])return 1;for(oi=32;oi<256;oi++)if(0!==Re.dyn_ltree[2*oi])return 1;return 0}(W)),co(W,W.l_desc),co(W,W.d_desc),ni=function(Re){var oi;for(K(Re,Re.dyn_ltree,Re.l_desc.max_code),K(Re,Re.dyn_dtree,Re.d_desc.max_code),co(Re,Re.bl_desc),oi=18;3<=oi&&0===Re.bl_tree[2*_e[oi]+1];oi--);return Re.opt_len+=3*(oi+1)+5+5+4,oi}(W),(Ve=W.static_len+3+7>>>3)<=(qt=W.opt_len+3+7>>>3)&&(qt=Ve)):qt=Ve=Zt+5,Zt+4<=qt&&-1!==vt?zt(W,vt,Zt,ne):4===W.strategy||Ve===qt?(Qe(W,2+(ne?1:0),3),_r(W,Oe,Ft)):(Qe(W,4+(ne?1:0),3),function(Re,oi,yi,ti){var je;for(Qe(Re,oi-257,5),Qe(Re,yi-1,5),Qe(Re,ti-4,4),je=0;je<ti;je++)Qe(Re,Re.bl_tree[2*_e[je]+1],3);Jt(Re,Re.dyn_ltree,oi-1),Jt(Re,Re.dyn_dtree,yi-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,ni+1),_r(W,W.dyn_ltree,W.dyn_dtree)),rn(W),ne&&dn(W)},ht._tr_tally=function(W,vt,Zt){return W.pending_buf[W.d_buf+2*W.last_lit]=vt>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&vt,W.pending_buf[W.l_buf+W.last_lit]=255&Zt,W.last_lit++,0===vt?W.dyn_ltree[2*Zt]++:(W.matches++,vt--,W.dyn_ltree[2*(ct[Zt]+256+1)]++,W.dyn_dtree[2*Wt(vt)]++),W.last_lit===W.lit_bufsize-1},ht._tr_align=function(W){var vt;Qe(W,2,3),ze(W,256,Oe),16===(vt=W).bi_valid?(si(vt,vt.bi_buf),vt.bi_buf=0,vt.bi_valid=0):8<=vt.bi_valid&&(vt.pending_buf[vt.pending++]=255&vt.bi_buf,vt.bi_buf>>=8,vt.bi_valid-=8)}},{"../utils/common":41}],53:[function(Ot,Et,ht){"use strict";Et.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(Ot,Et,ht){(function(st){!function(pt,ut){"use strict";if(!pt.setImmediate){var ot,At,ft,rt,J=1,B={},q=!1,Z=pt.document,it=Object.getPrototypeOf&&Object.getPrototypeOf(pt);it=it&&it.setTimeout?it:pt,ot="[object process]"==={}.toString.call(pt.process)?function(_t){process.nextTick(function(){$(_t)})}:function(){if(pt.postMessage&&!pt.importScripts){var _t=!0,Dt=pt.onmessage;return pt.onmessage=function(){_t=!1},pt.postMessage("","*"),pt.onmessage=Dt,_t}}()?(rt="setImmediate$"+Math.random()+"$",pt.addEventListener?pt.addEventListener("message",lt,!1):pt.attachEvent("onmessage",lt),function(_t){pt.postMessage(rt+_t,"*")}):pt.MessageChannel?((ft=new MessageChannel).port1.onmessage=function(_t){$(_t.data)},function(_t){ft.port2.postMessage(_t)}):Z&&"onreadystatechange"in Z.createElement("script")?(At=Z.documentElement,function(_t){var Dt=Z.createElement("script");Dt.onreadystatechange=function(){$(_t),Dt.onreadystatechange=null,At.removeChild(Dt),Dt=null},At.appendChild(Dt)}):function(_t){setTimeout($,0,_t)},it.setImmediate=function(_t){"function"!=typeof _t&&(_t=new Function(""+_t));for(var Dt=new Array(arguments.length-1),Yt=0;Yt<Dt.length;Yt++)Dt[Yt]=arguments[Yt+1];return B[J]={callback:_t,args:Dt},ot(J),J++},it.clearImmediate=et}function et(_t){delete B[_t]}function $(_t){if(q)setTimeout($,0,_t);else{var Dt=B[_t];if(Dt){q=!0;try{!function(Yt){var Ut=Yt.callback,ue=Yt.args;switch(ue.length){case 0:Ut();break;case 1:Ut(ue[0]);break;case 2:Ut(ue[0],ue[1]);break;case 3:Ut(ue[0],ue[1],ue[2]);break;default:Ut.apply(ut,ue)}}(Dt)}finally{et(_t),q=!1}}}}function lt(_t){_t.source===pt&&"string"==typeof _t.data&&0===_t.data.indexOf(rt)&&$(+_t.data.slice(rt.length))}}(typeof self>"u"?void 0===st?this:st:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},557:function(nn,Ot,Et){nn.exports=function(ht,st,pt){"use strict";ht="default"in ht?ht.default:ht,pt="default"in pt?pt.default:pt;const ut="layer-switcher-";class ot extends ht{constructor(ft){const rt=Object.assign({},ft),J=document.createElement("div");super({element:J,target:rt.target}),this.activationMode=rt.activationMode||"mouseover",this.startActive=!0===rt.startActive,this.label=void 0!==rt.label?rt.label:"",this.collapseLabel=void 0!==rt.collapseLabel?rt.collapseLabel:"\xbb",this.tipLabel=rt.tipLabel?rt.tipLabel:"Legend",this.collapseTipLabel=rt.collapseTipLabel?rt.collapseTipLabel:"Collapse legend",this.groupSelectStyle=ot.getGroupSelectStyle(rt.groupSelectStyle),this.reverse=!1!==rt.reverse,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",ot.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",J.className=this.hiddenClassName,this.button=document.createElement("button"),J.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",J.appendChild(this.panel),ot.enableTouchScroll_(this.panel),J.classList.add(ut+"group-select-style-"+this.groupSelectStyle),J.classList.add(ut+"activation-mode-"+this.activationMode),"click"===this.activationMode?(J.classList.add("activationModeClick"),this.button.onclick=B=>{const q=B||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),q.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=B=>{const q=B||window.event;this.showPanel(),q.preventDefault()},this.panel.onmouseout=B=>{this.panel.contains(B.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(ft){for(let rt=0;rt<this.mapListeners.length;rt++)st.unByKey(this.mapListeners[rt]);this.mapListeners.length=0,super.setMap(ft),ft&&(this.startActive?this.showPanel():this.renderPanel(),"click"!==this.activationMode&&this.mapListeners.push(ft.on("pointerdown",()=>{this.hidePanel()})))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),ot.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(ft,rt,J){const B=new Event("render");for(rt.dispatchEvent(B),(J=J||{}).groupSelectStyle=ot.getGroupSelectStyle(J.groupSelectStyle),ot.ensureTopVisibleBaseLayerShown(ft,J.groupSelectStyle);rt.firstChild;)rt.removeChild(rt.firstChild);ot.forEachRecursive(ft,function(it,et,$){it.set("indeterminate",!1)}),"children"===J.groupSelectStyle||"none"===J.groupSelectStyle?ot.setGroupVisibility(ft):"group"===J.groupSelectStyle&&ot.setChildVisibility(ft);const q=document.createElement("ul");rt.appendChild(q),ot.renderLayers_(ft,ft,q,J,function(et){ot.renderPanel(ft,rt,J)});const Z=new Event("rendercomplete");rt.dispatchEvent(Z)}static isBaseGroup(ft){if(ft instanceof pt){const rt=ft.getLayers().getArray();return rt.length&&"base"===rt[0].get("type")}return!1}static setGroupVisibility(ft){ot.getGroupsAndLayers(ft,function(J){return J instanceof pt&&!J.get("combine")&&!ot.isBaseGroup(J)}).reverse().forEach(function(J){const B=J.getLayersArray().map(function(q){return q.getVisible()});B.every(function(q){return!0===q})?(J.setVisible(!0),J.set("indeterminate",!1)):B.every(function(q){return!1===q})?(J.setVisible(!1),J.set("indeterminate",!1)):(J.setVisible(!0),J.set("indeterminate",!0))})}static setChildVisibility(ft){ot.getGroupsAndLayers(ft,function(J){return J instanceof pt&&!J.get("combine")&&!ot.isBaseGroup(J)}).forEach(function(J){const B=J,q=B.getVisible(),Z=B.get("indeterminate");B.getLayers().getArray().forEach(function(it){it.set("indeterminate",!1),(!q||Z)&&it.getVisible()&&it.set("indeterminate",!0)})})}static ensureTopVisibleBaseLayerShown(ft,rt){let J;ot.forEachRecursive(ft,function(B,q,Z){"base"===B.get("type")&&B.getVisible()&&(J=B)}),J&&ot.setVisible_(ft,J,!0,rt)}static getGroupsAndLayers(ft,rt){const J=[];return rt=rt||function(B,q,Z){return!0},ot.forEachRecursive(ft,function(B,q,Z){B.get("title")&&rt(B,q,Z)&&J.push(B)}),J}static setVisible_(ft,rt,J,B){rt.setVisible(J),J&&"base"===rt.get("type")&&ot.forEachRecursive(ft,function(q,Z,it){q!=rt&&"base"===q.get("type")&&q.setVisible(!1)}),rt instanceof pt&&!rt.get("combine")&&"children"===B&&rt.getLayers().forEach(q=>{ot.setVisible_(ft,q,rt.getVisible(),B)})}static renderLayer_(ft,rt,J,B,q){const Z=document.createElement("li"),it=rt.get("title"),et=ot.uuid(),$=document.createElement("label");if(rt instanceof pt&&!rt.get("combine")){const lt=ot.isBaseGroup(rt);if(Z.classList.add("group"),lt&&Z.classList.add(ut+"base-group"),rt.get("fold")){Z.classList.add(ut+"fold"),Z.classList.add(ut+rt.get("fold"));const Dt=document.createElement("button");Dt.onclick=function(Yt){const Ut=Yt||window.event;ot.toggleFold_(rt,Z),Ut.preventDefault()},Z.appendChild(Dt)}if(!lt&&"none"!=B.groupSelectStyle){const Dt=document.createElement("input");Dt.type="checkbox",Dt.id=et,Dt.checked=rt.getVisible(),Dt.indeterminate=rt.get("indeterminate"),Dt.onchange=function(Yt){ot.setVisible_(ft,rt,Yt.target.checked,B.groupSelectStyle),q(rt)},Z.appendChild(Dt),$.htmlFor=et}$.innerHTML=it,Z.appendChild($);const _t=document.createElement("ul");Z.appendChild(_t),ot.renderLayers_(ft,rt,_t,B,q)}else{Z.className="layer";const lt=document.createElement("input");lt.type="base"===rt.get("type")?"radio":"checkbox",lt.id=et,lt.checked=rt.get("visible"),lt.indeterminate=rt.get("indeterminate"),lt.onchange=function(Dt){ot.setVisible_(ft,rt,Dt.target.checked,B.groupSelectStyle),q(rt)},Z.appendChild(lt),$.htmlFor=et,$.innerHTML=it;const _t=ft.getView().getResolution();if(_t>=rt.getMaxResolution()||_t<rt.getMinResolution())$.className+=" disabled";else if(rt.getMinZoom&&rt.getMaxZoom){const Dt=ft.getView().getZoom();(Dt<=rt.getMinZoom()||Dt>rt.getMaxZoom())&&($.className+=" disabled")}Z.appendChild($)}return Z}static renderLayers_(ft,rt,J,B,q){let Z=rt.getLayers().getArray().slice();B.reverse&&(Z=Z.reverse());for(let et,it=0;it<Z.length;it++)et=Z[it],et.get("title")&&J.appendChild(ot.renderLayer_(ft,et,it,B,q))}static forEachRecursive(ft,rt){ft.getLayers().forEach(function(J,B,q){rt(J,B,q),J instanceof pt&&ot.forEachRecursive(J,rt)})}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ft){const rt=16*Math.random()|0;return("x"==ft?rt:3&rt|8).toString(16)})}static enableTouchScroll_(ft){if(ot.isTouchDevice_()){let rt=0;ft.addEventListener("touchstart",function(J){rt=this.scrollTop+J.touches[0].pageY},!1),ft.addEventListener("touchmove",function(J){this.scrollTop=rt-J.touches[0].pageY},!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}static toggleFold_(ft,rt){rt.classList.remove(ut+ft.get("fold")),ft.set("fold","open"===ft.get("fold")?"close":"open"),rt.classList.add(ut+ft.get("fold"))}static getGroupSelectStyle(ft){return["none","children","group"].indexOf(ft)>=0?ft:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=ot),ot}(Et(692),Et(210),Et(333))},463:(nn,Ot,Et)=>{"use strict";nn.exports=st;var ht=Et(601);function st(gt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(gt)?gt:new Uint8Array(gt||0),this.pos=0,this.type=0,this.length=this.buf.length}st.Varint=0,st.Fixed64=1,st.Bytes=2,st.Fixed32=5;var pt=4294967296,ut=1/pt,At=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function rt(gt){return gt.type===st.Bytes?gt.readVarint()+gt.pos:gt.pos+1}function it(gt,St,ee){var ve=St<=16383?1:St<=2097151?2:St<=268435455?3:Math.floor(Math.log(St)/(7*Math.LN2));ee.realloc(ve);for(var jt=ee.pos-1;jt>=gt;jt--)ee.buf[jt+ve]=ee.buf[jt]}function et(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeVarint(gt[ee])}function $(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeSVarint(gt[ee])}function lt(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeFloat(gt[ee])}function _t(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeDouble(gt[ee])}function Dt(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeBoolean(gt[ee])}function Yt(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeFixed32(gt[ee])}function Ut(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeSFixed32(gt[ee])}function ue(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeFixed64(gt[ee])}function Xt(gt,St){for(var ee=0;ee<gt.length;ee++)St.writeSFixed64(gt[ee])}function _e(gt,St){return(gt[St]|gt[St+1]<<8|gt[St+2]<<16)+16777216*gt[St+3]}function Oe(gt,St,ee){gt[ee]=St,gt[ee+1]=St>>>8,gt[ee+2]=St>>>16,gt[ee+3]=St>>>24}function Ft(gt,St){return(gt[St]|gt[St+1]<<8|gt[St+2]<<16)+(gt[St+3]<<24)}st.prototype={destroy:function(){this.buf=null},readFields:function(gt,St,ee){for(ee=ee||this.length;this.pos<ee;){var ve=this.readVarint(),jt=ve>>3,Lt=this.pos;this.type=7&ve,gt(jt,St,this),this.pos===Lt&&this.skip(ve)}return St},readMessage:function(gt,St){return this.readFields(gt,St,this.readVarint()+this.pos)},readFixed32:function(){var gt=_e(this.buf,this.pos);return this.pos+=4,gt},readSFixed32:function(){var gt=Ft(this.buf,this.pos);return this.pos+=4,gt},readFixed64:function(){var gt=_e(this.buf,this.pos)+_e(this.buf,this.pos+4)*pt;return this.pos+=8,gt},readSFixed64:function(){var gt=_e(this.buf,this.pos)+Ft(this.buf,this.pos+4)*pt;return this.pos+=8,gt},readFloat:function(){var gt=ht.read(this.buf,this.pos,!0,23,4);return this.pos+=4,gt},readDouble:function(){var gt=ht.read(this.buf,this.pos,!0,52,8);return this.pos+=8,gt},readVarint:function(gt){var ee,ve,St=this.buf;return ee=127&(ve=St[this.pos++]),ve<128||(ee|=(127&(ve=St[this.pos++]))<<7,ve<128)||(ee|=(127&(ve=St[this.pos++]))<<14,ve<128)||(ee|=(127&(ve=St[this.pos++]))<<21,ve<128)?ee:function ft(gt,St,ee){var jt,Lt,ve=ee.buf;if(jt=(112&(Lt=ve[ee.pos++]))>>4,Lt<128||(jt|=(127&(Lt=ve[ee.pos++]))<<3,Lt<128)||(jt|=(127&(Lt=ve[ee.pos++]))<<10,Lt<128)||(jt|=(127&(Lt=ve[ee.pos++]))<<17,Lt<128)||(jt|=(127&(Lt=ve[ee.pos++]))<<24,Lt<128)||(jt|=(1&(Lt=ve[ee.pos++]))<<31,Lt<128))return function J(gt,St,ee){return ee?4294967296*St+(gt>>>0):4294967296*(St>>>0)+(gt>>>0)}(gt,jt,St);throw new Error("Expected varint not more than 10 bytes")}(ee|=(15&(ve=St[this.pos]))<<28,gt,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var gt=this.readVarint();return gt%2==1?(gt+1)/-2:gt/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var gt=this.readVarint()+this.pos,St=this.pos;return this.pos=gt,gt-St>=12&&At?function ct(gt,St,ee){return At.decode(gt.subarray(St,ee))}(this.buf,St,gt):function ge(gt,St,ee){for(var ve="",jt=St;jt<ee;){var Qe,ze,ui,Lt=gt[jt],Wt=null,si=Lt>239?4:Lt>223?3:Lt>191?2:1;if(jt+si>ee)break;1===si?Lt<128&&(Wt=Lt):2===si?128==(192&(Qe=gt[jt+1]))&&(Wt=(31&Lt)<<6|63&Qe)<=127&&(Wt=null):3===si?(ze=gt[jt+2],128==(192&(Qe=gt[jt+1]))&&128==(192&ze)&&((Wt=(15&Lt)<<12|(63&Qe)<<6|63&ze)<=2047||Wt>=55296&&Wt<=57343)&&(Wt=null)):4===si&&(ze=gt[jt+2],ui=gt[jt+3],128==(192&(Qe=gt[jt+1]))&&128==(192&ze)&&128==(192&ui)&&((Wt=(15&Lt)<<18|(63&Qe)<<12|(63&ze)<<6|63&ui)<=65535||Wt>=1114112)&&(Wt=null)),null===Wt?(Wt=65533,si=1):Wt>65535&&(Wt-=65536,ve+=String.fromCharCode(Wt>>>10&1023|55296),Wt=56320|1023&Wt),ve+=String.fromCharCode(Wt),jt+=si}return ve}(this.buf,St,gt)},readBytes:function(){var gt=this.readVarint()+this.pos,St=this.buf.subarray(this.pos,gt);return this.pos=gt,St},readPackedVarint:function(gt,St){if(this.type!==st.Bytes)return gt.push(this.readVarint(St));var ee=rt(this);for(gt=gt||[];this.pos<ee;)gt.push(this.readVarint(St));return gt},readPackedSVarint:function(gt){if(this.type!==st.Bytes)return gt.push(this.readSVarint());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readSVarint());return gt},readPackedBoolean:function(gt){if(this.type!==st.Bytes)return gt.push(this.readBoolean());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readBoolean());return gt},readPackedFloat:function(gt){if(this.type!==st.Bytes)return gt.push(this.readFloat());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readFloat());return gt},readPackedDouble:function(gt){if(this.type!==st.Bytes)return gt.push(this.readDouble());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readDouble());return gt},readPackedFixed32:function(gt){if(this.type!==st.Bytes)return gt.push(this.readFixed32());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readFixed32());return gt},readPackedSFixed32:function(gt){if(this.type!==st.Bytes)return gt.push(this.readSFixed32());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readSFixed32());return gt},readPackedFixed64:function(gt){if(this.type!==st.Bytes)return gt.push(this.readFixed64());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readFixed64());return gt},readPackedSFixed64:function(gt){if(this.type!==st.Bytes)return gt.push(this.readSFixed64());var St=rt(this);for(gt=gt||[];this.pos<St;)gt.push(this.readSFixed64());return gt},skip:function(gt){var St=7&gt;if(St===st.Varint)for(;this.buf[this.pos++]>127;);else if(St===st.Bytes)this.pos=this.readVarint()+this.pos;else if(St===st.Fixed32)this.pos+=4;else{if(St!==st.Fixed64)throw new Error("Unimplemented type: "+St);this.pos+=8}},writeTag:function(gt,St){this.writeVarint(gt<<3|St)},realloc:function(gt){for(var St=this.length||16;St<this.pos+gt;)St*=2;if(St!==this.length){var ee=new Uint8Array(St);ee.set(this.buf),this.buf=ee,this.length=St}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(gt){this.realloc(4),Oe(this.buf,gt,this.pos),this.pos+=4},writeSFixed32:function(gt){this.realloc(4),Oe(this.buf,gt,this.pos),this.pos+=4},writeFixed64:function(gt){this.realloc(8),Oe(this.buf,-1&gt,this.pos),Oe(this.buf,Math.floor(gt*ut),this.pos+4),this.pos+=8},writeSFixed64:function(gt){this.realloc(8),Oe(this.buf,-1&gt,this.pos),Oe(this.buf,Math.floor(gt*ut),this.pos+4),this.pos+=8},writeVarint:function(gt){(gt=+gt||0)>268435455||gt<0?function B(gt,St){var ee,ve;if(gt>=0?(ee=gt%4294967296|0,ve=gt/4294967296|0):(ve=~(-gt/4294967296),4294967295^(ee=~(-gt%4294967296))?ee=ee+1|0:(ee=0,ve=ve+1|0)),gt>=0x10000000000000000||gt<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");St.realloc(10),function q(gt,St,ee){ee.buf[ee.pos++]=127&gt|128,gt>>>=7,ee.buf[ee.pos++]=127&gt|128,gt>>>=7,ee.buf[ee.pos++]=127&gt|128,gt>>>=7,ee.buf[ee.pos++]=127&gt|128,ee.buf[ee.pos]=127&(gt>>>=7)}(ee,0,St),function Z(gt,St){var ee=(7&gt)<<4;St.buf[St.pos++]|=ee|((gt>>>=3)?128:0),gt&&(St.buf[St.pos++]=127&gt|((gt>>>=7)?128:0),gt&&(St.buf[St.pos++]=127&gt|((gt>>>=7)?128:0),gt&&(St.buf[St.pos++]=127&gt|((gt>>>=7)?128:0),gt&&(St.buf[St.pos++]=127&gt|((gt>>>=7)?128:0),gt&&(St.buf[St.pos++]=127&gt)))))}(ve,St)}(gt,this):(this.realloc(4),this.buf[this.pos++]=127&gt|(gt>127?128:0),!(gt<=127)&&(this.buf[this.pos++]=127&(gt>>>=7)|(gt>127?128:0),!(gt<=127)&&(this.buf[this.pos++]=127&(gt>>>=7)|(gt>127?128:0),!(gt<=127)&&(this.buf[this.pos++]=gt>>>7&127))))},writeSVarint:function(gt){this.writeVarint(gt<0?2*-gt-1:2*gt)},writeBoolean:function(gt){this.writeVarint(!!gt)},writeString:function(gt){gt=String(gt),this.realloc(4*gt.length),this.pos++;var St=this.pos;this.pos=function Nt(gt,St,ee){for(var jt,Lt,ve=0;ve<St.length;ve++){if((jt=St.charCodeAt(ve))>55295&&jt<57344){if(!Lt){jt>56319||ve+1===St.length?(gt[ee++]=239,gt[ee++]=191,gt[ee++]=189):Lt=jt;continue}if(jt<56320){gt[ee++]=239,gt[ee++]=191,gt[ee++]=189,Lt=jt;continue}jt=Lt-55296<<10|jt-56320|65536,Lt=null}else Lt&&(gt[ee++]=239,gt[ee++]=191,gt[ee++]=189,Lt=null);jt<128?gt[ee++]=jt:(jt<2048?gt[ee++]=jt>>6|192:(jt<65536?gt[ee++]=jt>>12|224:(gt[ee++]=jt>>18|240,gt[ee++]=jt>>12&63|128),gt[ee++]=jt>>6&63|128),gt[ee++]=63&jt|128)}return ee}(this.buf,gt,this.pos);var ee=this.pos-St;ee>=128&&it(St,ee,this),this.pos=St-1,this.writeVarint(ee),this.pos+=ee},writeFloat:function(gt){this.realloc(4),ht.write(this.buf,gt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(gt){this.realloc(8),ht.write(this.buf,gt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(gt){var St=gt.length;this.writeVarint(St),this.realloc(St);for(var ee=0;ee<St;ee++)this.buf[this.pos++]=gt[ee]},writeRawMessage:function(gt,St){this.pos++;var ee=this.pos;gt(St,this);var ve=this.pos-ee;ve>=128&&it(ee,ve,this),this.pos=ee-1,this.writeVarint(ve),this.pos+=ve},writeMessage:function(gt,St,ee){this.writeTag(gt,st.Bytes),this.writeRawMessage(St,ee)},writePackedVarint:function(gt,St){St.length&&this.writeMessage(gt,et,St)},writePackedSVarint:function(gt,St){St.length&&this.writeMessage(gt,$,St)},writePackedBoolean:function(gt,St){St.length&&this.writeMessage(gt,Dt,St)},writePackedFloat:function(gt,St){St.length&&this.writeMessage(gt,lt,St)},writePackedDouble:function(gt,St){St.length&&this.writeMessage(gt,_t,St)},writePackedFixed32:function(gt,St){St.length&&this.writeMessage(gt,Yt,St)},writePackedSFixed32:function(gt,St){St.length&&this.writeMessage(gt,Ut,St)},writePackedFixed64:function(gt,St){St.length&&this.writeMessage(gt,ue,St)},writePackedSFixed64:function(gt,St){St.length&&this.writeMessage(gt,Xt,St)},writeBytesField:function(gt,St){this.writeTag(gt,st.Bytes),this.writeBytes(St)},writeFixed32Field:function(gt,St){this.writeTag(gt,st.Fixed32),this.writeFixed32(St)},writeSFixed32Field:function(gt,St){this.writeTag(gt,st.Fixed32),this.writeSFixed32(St)},writeFixed64Field:function(gt,St){this.writeTag(gt,st.Fixed64),this.writeFixed64(St)},writeSFixed64Field:function(gt,St){this.writeTag(gt,st.Fixed64),this.writeSFixed64(St)},writeVarintField:function(gt,St){this.writeTag(gt,st.Varint),this.writeVarint(St)},writeSVarintField:function(gt,St){this.writeTag(gt,st.Varint),this.writeSVarint(St)},writeStringField:function(gt,St){this.writeTag(gt,st.Bytes),this.writeString(St)},writeFloatField:function(gt,St){this.writeTag(gt,st.Fixed32),this.writeFloat(St)},writeDoubleField:function(gt,St){this.writeTag(gt,st.Fixed64),this.writeDouble(St)},writeBooleanField:function(gt,St){this.writeVarintField(gt,!!St)}}},414:function(nn){nn.exports=function(){"use strict";function Ot($,lt,_t,Dt,Yt){!function Ut(ue,Xt,_e,Oe,Ft){for(;Oe>_e;){if(Oe-_e>600){var ge=Oe-_e+1,ct=Xt-_e+1,Nt=Math.log(ge),gt=.5*Math.exp(2*Nt/3),St=.5*Math.sqrt(Nt*gt*(ge-gt)/ge)*(ct-ge/2<0?-1:1);Ut(ue,Xt,Math.max(_e,Math.floor(Xt-ct*gt/ge+St)),Math.min(Oe,Math.floor(Xt+(ge-ct)*gt/ge+St)),Ft)}var jt=ue[Xt],Lt=_e,Wt=Oe;for(Et(ue,_e,Xt),Ft(ue[Oe],jt)>0&&Et(ue,_e,Oe);Lt<Wt;){for(Et(ue,Lt,Wt),Lt++,Wt--;Ft(ue[Lt],jt)<0;)Lt++;for(;Ft(ue[Wt],jt)>0;)Wt--}0===Ft(ue[_e],jt)?Et(ue,_e,Wt):Et(ue,++Wt,Oe),Wt<=Xt&&(_e=Wt+1),Xt<=Wt&&(Oe=Wt-1)}}($,lt,_t||0,Dt||$.length-1,Yt||ht)}function Et($,lt,_t){var Dt=$[lt];$[lt]=$[_t],$[_t]=Dt}function ht($,lt){return $<lt?-1:$>lt?1:0}var st=function($){void 0===$&&($=9),this._maxEntries=Math.max(4,$),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function pt($,lt,_t){if(!_t)return lt.indexOf($);for(var Dt=0;Dt<lt.length;Dt++)if(_t($,lt[Dt]))return Dt;return-1}function ut($,lt){ot($,0,$.children.length,lt,$)}function ot($,lt,_t,Dt,Yt){Yt||(Yt=it(null)),Yt.minX=1/0,Yt.minY=1/0,Yt.maxX=-1/0,Yt.maxY=-1/0;for(var Ut=lt;Ut<_t;Ut++){var ue=$.children[Ut];At(Yt,$.leaf?Dt(ue):ue)}return Yt}function At($,lt){return $.minX=Math.min($.minX,lt.minX),$.minY=Math.min($.minY,lt.minY),$.maxX=Math.max($.maxX,lt.maxX),$.maxY=Math.max($.maxY,lt.maxY),$}function ft($,lt){return $.minX-lt.minX}function rt($,lt){return $.minY-lt.minY}function J($){return($.maxX-$.minX)*($.maxY-$.minY)}function B($){return $.maxX-$.minX+($.maxY-$.minY)}function q($,lt){return $.minX<=lt.minX&&$.minY<=lt.minY&&lt.maxX<=$.maxX&&lt.maxY<=$.maxY}function Z($,lt){return lt.minX<=$.maxX&&lt.minY<=$.maxY&&lt.maxX>=$.minX&&lt.maxY>=$.minY}function it($){return{children:$,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function et($,lt,_t,Dt,Yt){for(var Ut=[lt,_t];Ut.length;)if(!((_t=Ut.pop())-(lt=Ut.pop())<=Dt)){var ue=lt+Math.ceil((_t-lt)/Dt/2)*Dt;Ot($,ue,lt,_t,Yt),Ut.push(lt,ue,ue,_t)}}return st.prototype.all=function(){return this._all(this.data,[])},st.prototype.search=function($){var lt=this.data,_t=[];if(!Z($,lt))return _t;for(var Dt=this.toBBox,Yt=[];lt;){for(var Ut=0;Ut<lt.children.length;Ut++){var ue=lt.children[Ut],Xt=lt.leaf?Dt(ue):ue;Z($,Xt)&&(lt.leaf?_t.push(ue):q($,Xt)?this._all(ue,_t):Yt.push(ue))}lt=Yt.pop()}return _t},st.prototype.collides=function($){var lt=this.data;if(!Z($,lt))return!1;for(var _t=[];lt;){for(var Dt=0;Dt<lt.children.length;Dt++){var Yt=lt.children[Dt],Ut=lt.leaf?this.toBBox(Yt):Yt;if(Z($,Ut)){if(lt.leaf||q($,Ut))return!0;_t.push(Yt)}}lt=_t.pop()}return!1},st.prototype.load=function($){if(!$||!$.length)return this;if($.length<this._minEntries){for(var lt=0;lt<$.length;lt++)this.insert($[lt]);return this}var _t=this._build($.slice(),0,$.length-1,0);if(this.data.children.length)if(this.data.height===_t.height)this._splitRoot(this.data,_t);else{if(this.data.height<_t.height){var Dt=this.data;this.data=_t,_t=Dt}this._insert(_t,this.data.height-_t.height-1,!0)}else this.data=_t;return this},st.prototype.insert=function($){return $&&this._insert($,this.data.height-1),this},st.prototype.clear=function(){return this.data=it([]),this},st.prototype.remove=function($,lt){if(!$)return this;for(var _t,Dt,Yt,Ut=this.data,ue=this.toBBox($),Xt=[],_e=[];Ut||Xt.length;){if(Ut||(Ut=Xt.pop(),Dt=Xt[Xt.length-1],_t=_e.pop(),Yt=!0),Ut.leaf){var Oe=pt($,Ut.children,lt);if(-1!==Oe)return Ut.children.splice(Oe,1),Xt.push(Ut),this._condense(Xt),this}Yt||Ut.leaf||!q(Ut,ue)?Dt?(_t++,Ut=Dt.children[_t],Yt=!1):Ut=null:(Xt.push(Ut),_e.push(_t),_t=0,Dt=Ut,Ut=Ut.children[0])}return this},st.prototype.toBBox=function($){return $},st.prototype.compareMinX=function($,lt){return $.minX-lt.minX},st.prototype.compareMinY=function($,lt){return $.minY-lt.minY},st.prototype.toJSON=function(){return this.data},st.prototype.fromJSON=function($){return this.data=$,this},st.prototype._all=function($,lt){for(var _t=[];$;)$.leaf?lt.push.apply(lt,$.children):_t.push.apply(_t,$.children),$=_t.pop();return lt},st.prototype._build=function($,lt,_t,Dt){var Yt,Ut=_t-lt+1,ue=this._maxEntries;if(Ut<=ue)return ut(Yt=it($.slice(lt,_t+1)),this.toBBox),Yt;Dt||(Dt=Math.ceil(Math.log(Ut)/Math.log(ue)),ue=Math.ceil(Ut/Math.pow(ue,Dt-1))),(Yt=it([])).leaf=!1,Yt.height=Dt;var Xt=Math.ceil(Ut/ue),_e=Xt*Math.ceil(Math.sqrt(ue));et($,lt,_t,_e,this.compareMinX);for(var Oe=lt;Oe<=_t;Oe+=_e){var Ft=Math.min(Oe+_e-1,_t);et($,Oe,Ft,Xt,this.compareMinY);for(var ge=Oe;ge<=Ft;ge+=Xt){var ct=Math.min(ge+Xt-1,Ft);Yt.children.push(this._build($,ge,ct,Dt-1))}}return ut(Yt,this.toBBox),Yt},st.prototype._chooseSubtree=function($,lt,_t,Dt){for(;Dt.push(lt),!lt.leaf&&Dt.length-1!==_t;){for(var Yt=1/0,Ut=1/0,ue=void 0,Xt=0;Xt<lt.children.length;Xt++){var _e=lt.children[Xt],Oe=J(_e),Ft=(ge=$,ct=_e,(Math.max(ct.maxX,ge.maxX)-Math.min(ct.minX,ge.minX))*(Math.max(ct.maxY,ge.maxY)-Math.min(ct.minY,ge.minY))-Oe);Ft<Ut?(Ut=Ft,Yt=Oe<Yt?Oe:Yt,ue=_e):Ft===Ut&&Oe<Yt&&(Yt=Oe,ue=_e)}lt=ue||lt.children[0]}var ge,ct;return lt},st.prototype._insert=function($,lt,_t){var Dt=_t?$:this.toBBox($),Yt=[],Ut=this._chooseSubtree(Dt,this.data,lt,Yt);for(Ut.children.push($),At(Ut,Dt);lt>=0&&Yt[lt].children.length>this._maxEntries;)this._split(Yt,lt),lt--;this._adjustParentBBoxes(Dt,Yt,lt)},st.prototype._split=function($,lt){var _t=$[lt],Dt=_t.children.length,Yt=this._minEntries;this._chooseSplitAxis(_t,Yt,Dt);var Ut=this._chooseSplitIndex(_t,Yt,Dt),ue=it(_t.children.splice(Ut,_t.children.length-Ut));ue.height=_t.height,ue.leaf=_t.leaf,ut(_t,this.toBBox),ut(ue,this.toBBox),lt?$[lt-1].children.push(ue):this._splitRoot(_t,ue)},st.prototype._splitRoot=function($,lt){this.data=it([$,lt]),this.data.height=$.height+1,this.data.leaf=!1,ut(this.data,this.toBBox)},st.prototype._chooseSplitIndex=function($,lt,_t){for(var Dt,Yt,Ut,ue,Xt,_e,Oe,Ft=1/0,ge=1/0,ct=lt;ct<=_t-lt;ct++){var Nt=ot($,0,ct,this.toBBox),gt=ot($,ct,_t,this.toBBox),St=(Yt=Nt,Ut=gt,void 0,void 0,void 0,void 0,ue=Math.max(Yt.minX,Ut.minX),Xt=Math.max(Yt.minY,Ut.minY),_e=Math.min(Yt.maxX,Ut.maxX),Oe=Math.min(Yt.maxY,Ut.maxY),Math.max(0,_e-ue)*Math.max(0,Oe-Xt)),ee=J(Nt)+J(gt);St<Ft?(Ft=St,Dt=ct,ge=ee<ge?ee:ge):St===Ft&&ee<ge&&(ge=ee,Dt=ct)}return Dt||_t-lt},st.prototype._chooseSplitAxis=function($,lt,_t){var Dt=$.leaf?this.compareMinX:ft,Yt=$.leaf?this.compareMinY:rt;this._allDistMargin($,lt,_t,Dt)<this._allDistMargin($,lt,_t,Yt)&&$.children.sort(Dt)},st.prototype._allDistMargin=function($,lt,_t,Dt){$.children.sort(Dt);for(var Yt=this.toBBox,Ut=ot($,0,lt,Yt),ue=ot($,_t-lt,_t,Yt),Xt=B(Ut)+B(ue),_e=lt;_e<_t-lt;_e++){var Oe=$.children[_e];At(Ut,$.leaf?Yt(Oe):Oe),Xt+=B(Ut)}for(var Ft=_t-lt-1;Ft>=lt;Ft--){var ge=$.children[Ft];At(ue,$.leaf?Yt(ge):ge),Xt+=B(ue)}return Xt},st.prototype._adjustParentBBoxes=function($,lt,_t){for(var Dt=_t;Dt>=0;Dt--)At(lt[Dt],$)},st.prototype._condense=function($){for(var lt=$.length-1,_t=void 0;lt>=0;lt--)0===$[lt].children.length?lt>0?(_t=$[lt-1].children).splice(_t.indexOf($[lt]),1):this.clear():ut($[lt],this.toBBox)},st}()},165:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ft});var ht=Et(221),st=Et(529),pt=Et(395);class ot extends pt.ZP{constructor(J,B,q){super(J),this.element=B,this.index=q}}const ft=class At extends ht.Z{constructor(J,B){if(super(),this.unique_=!!(B=B||{}).unique,this.array_=J||[],this.unique_)for(let q=0,Z=this.array_.length;q<Z;++q)this.assertUnique_(this.array_[q],q);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(J){for(let B=0,q=J.length;B<q;++B)this.push(J[B]);return this}forEach(J){const B=this.array_;for(let q=0,Z=B.length;q<Z;++q)J(B[q],q,B)}getArray(){return this.array_}item(J){return this.array_[J]}getLength(){return this.get("length")}insertAt(J,B){if(J<0||J>this.getLength())throw new Error("Index out of bounds: "+J);this.unique_&&this.assertUnique_(B),this.array_.splice(J,0,B),this.updateLength_(),this.dispatchEvent(new ot(st.Z.ADD,B,J))}pop(){return this.removeAt(this.getLength()-1)}push(J){this.unique_&&this.assertUnique_(J);const B=this.getLength();return this.insertAt(B,J),this.getLength()}remove(J){const B=this.array_;for(let q=0,Z=B.length;q<Z;++q)if(B[q]===J)return this.removeAt(q)}removeAt(J){if(J<0||J>=this.getLength())return;const B=this.array_[J];return this.array_.splice(J,1),this.updateLength_(),this.dispatchEvent(new ot(st.Z.REMOVE,B,J)),B}setAt(J,B){if(J>=this.getLength())return void this.insertAt(J,B);if(J<0)throw new Error("Index out of bounds: "+J);this.unique_&&this.assertUnique_(B,J);const Z=this.array_[J];this.array_[J]=B,this.dispatchEvent(new ot(st.Z.REMOVE,Z,J)),this.dispatchEvent(new ot(st.Z.ADD,B,J))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(J,B){for(let q=0,Z=this.array_.length;q<Z;++q)if(this.array_[q]===J&&q!==B)throw new Error("Duplicate item added to a unique collection")}}},529:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ht});const ht={ADD:"add",REMOVE:"remove"}},511:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>st});const st=class ht{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},645:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ht});const ht={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},221:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>rt});var ht=Et(395),st=Et(196),pt=Et(210),ut=Et(939),ot=Et(925);class At extends ht.ZP{constructor(B,q,Z){super(B),this.key=q,this.oldValue=Z}}const rt=class ft extends pt.default{constructor(B){super(),(0,ut.sq)(this),this.values_=null,void 0!==B&&this.setProperties(B)}get(B){let q;return this.values_&&this.values_.hasOwnProperty(B)&&(q=this.values_[B]),q}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(B,q){let Z;Z=`change:${B}`,this.hasListener(Z)&&this.dispatchEvent(new At(Z,B,q)),Z=st.Z.PROPERTYCHANGE,this.hasListener(Z)&&this.dispatchEvent(new At(Z,B,q))}addChangeListener(B,q){this.addEventListener(`change:${B}`,q)}removeChangeListener(B,q){this.removeEventListener(`change:${B}`,q)}set(B,q,Z){const it=this.values_||(this.values_={});if(Z)it[B]=q;else{const et=it[B];it[B]=q,et!==q&&this.notify(B,et)}}setProperties(B,q){for(const Z in B)this.set(Z,B[Z],q)}applyProperties(B){B.values_&&Object.assign(this.values_||(this.values_={}),B.values_)}unset(B,q){if(this.values_&&B in this.values_){const Z=this.values_[B];delete this.values_[B],(0,ot.x)(this.values_)&&(this.values_=null),q||this.notify(B,Z)}}}},196:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ht});const ht={PROPERTYCHANGE:"propertychange"}},210:(nn,Ot,Et)=>{"use strict";Et.r(Ot),Et.d(Ot,{default:()=>At,unByKey:()=>ot});var ht=Et(78),st=Et(688),pt=Et(796);function ot(ft){if(Array.isArray(ft))for(let rt=0,J=ft.length;rt<J;++rt)(0,pt.bN)(ft[rt]);else(0,pt.bN)(ft)}const At=class ut extends ht.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(st.Z.CHANGE)}getRevision(){return this.revision_}onInternal(rt,J){if(Array.isArray(rt)){const B=rt.length,q=new Array(B);for(let Z=0;Z<B;++Z)q[Z]=(0,pt.oL)(this,rt[Z],J);return q}return(0,pt.oL)(this,rt,J)}onceInternal(rt,J){let B;if(Array.isArray(rt)){const q=rt.length;B=new Array(q);for(let Z=0;Z<q;++Z)B[Z]=(0,pt.Vx)(this,rt[Z],J)}else B=(0,pt.Vx)(this,rt,J);return J.ol_key=B,B}unInternal(rt,J){const B=J.ol_key;if(B)ot(B);else if(Array.isArray(rt))for(let q=0,Z=rt.length;q<Z;++q)this.removeEventListener(rt[q],J);else this.removeEventListener(rt,J)}}},555:(nn,Ot,Et)=>{"use strict";function ht(q,Z,it){let et,$;it=it||st;let lt=0,_t=q.length,Dt=!1;for(;lt<_t;)et=lt+(_t-lt>>1),$=+it(q[et],Z),$<0?lt=et+1:(_t=et,Dt=!$);return Dt?lt:~lt}function st(q,Z){return q>Z?1:q<Z?-1:0}function ut(q,Z,it){if(q[0]<=Z)return 0;const et=q.length;if(Z<=q[et-1])return et-1;if("function"==typeof it){for(let $=1;$<et;++$){const lt=q[$];if(lt===Z)return $;if(lt<Z)return it(Z,q[$-1],lt)>0?$-1:$}return et-1}if(it>0){for(let $=1;$<et;++$)if(q[$]<Z)return $-1;return et-1}if(it<0){for(let $=1;$<et;++$)if(q[$]<=Z)return $;return et-1}for(let $=1;$<et;++$){if(q[$]==Z)return $;if(q[$]<Z)return q[$-1]-Z<Z-q[$]?$-1:$}return et-1}function ot(q,Z,it){for(;Z<it;){const et=q[Z];q[Z]=q[it],q[it]=et,++Z,--it}}function At(q,Z){const it=Array.isArray(Z)?Z:[Z],et=it.length;for(let $=0;$<et;$++)q[q.length]=it[$]}function rt(q,Z){const it=q.length;if(it!==Z.length)return!1;for(let et=0;et<it;et++)if(q[et]!==Z[et])return!1;return!0}function B(q,Z,it){const et=Z||st;return q.every(function($,lt){if(0===lt)return!0;const _t=et(q[lt-1],$);return!(_t>0||it&&0===_t)})}Et.d(Ot,{FZ:()=>ot,fS:()=>rt,h7:()=>ut,j2:()=>st,l7:()=>At,pT:()=>B,ry:()=>ht})},780:(nn,Ot,Et)=>{"use strict";function ht(st,pt){if(!st)throw new Error(pt)}Et.d(Ot,{h:()=>ht})},692:(nn,Ot,Et)=>{"use strict";Et.r(Ot),Et.d(Ot,{default:()=>ft});var ht=Et(221),st=Et(645),pt=Et(589),ut=Et(796),ot=Et(120);const ft=class At extends ht.Z{constructor(J){super();const B=J.element;B&&!J.target&&!B.style.pointerEvents&&(B.style.pointerEvents="auto"),this.element=B||null,this.target_=null,this.map_=null,this.listenerKeys=[],J.render&&(this.render=J.render),J.target&&this.setTarget(J.target)}disposeInternal(){(0,ot.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(J){this.map_&&(0,ot.ZF)(this.element);for(let B=0,q=this.listenerKeys.length;B<q;++B)(0,ut.bN)(this.listenerKeys[B]);this.listenerKeys.length=0,this.map_=J,J&&((this.target_?this.target_:J.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==pt.Zn&&this.listenerKeys.push((0,ut.oL)(J,st.Z.POSTRENDER,this.render,this)),J.render())}render(J){}setTarget(J){this.target_="string"==typeof J?document.getElementById(J):J}}},120:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{$H:()=>At,E4:()=>st,Pb:()=>ot,ZF:()=>ft,ep:()=>rt,hF:()=>J,iO:()=>ut,jy:()=>pt});var ht=Et(365);function st(B,q,Z,it){let et;return et=Z&&Z.length?Z.shift():ht.Id?new OffscreenCanvas(B||300,q||300):document.createElement("canvas"),B&&(et.width=B),q&&(et.height=q),et.getContext("2d",it)}function pt(B){const q=B.canvas;q.width=1,q.height=1,B.clearRect(0,0,1,1)}function ut(B){let q=B.offsetWidth;const Z=getComputedStyle(B);return q+=parseInt(Z.marginLeft,10)+parseInt(Z.marginRight,10),q}function ot(B){let q=B.offsetHeight;const Z=getComputedStyle(B);return q+=parseInt(Z.marginTop,10)+parseInt(Z.marginBottom,10),q}function At(B,q){const Z=q.parentNode;Z&&Z.replaceChild(B,q)}function ft(B){return B&&B.parentNode?B.parentNode.removeChild(B):null}function rt(B){for(;B.lastChild;)B.removeChild(B.lastChild)}function J(B,q){const Z=B.childNodes;for(let it=0;;++it){const et=Z[it],$=q[it];if(!et&&!$)break;if(et!==$){if(!et){B.appendChild($);continue}if(!$){B.removeChild(et),--it;continue}B.insertBefore($,et)}}}},796:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Vx:()=>pt,bN:()=>ut,oL:()=>st});var ht=Et(925);function st(ot,At,ft,rt,J){if(rt&&rt!==ot&&(ft=ft.bind(rt)),J){const q=ft;ft=function(){ot.removeEventListener(At,ft),q.apply(this,arguments)}}const B={target:ot,type:At,listener:ft};return ot.addEventListener(At,ft),B}function pt(ot,At,ft,rt){return st(ot,At,ft,rt,!0)}function ut(ot){ot&&ot.target&&(ot.target.removeEventListener(ot.type,ot.listener),(0,ht.Z)(ot))}},395:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{ZP:()=>ut});const ut=class ht{constructor(At){this.type=At,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},688:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ht});const ht={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},78:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>At});var ht=Et(511),st=Et(395),pt=Et(589),ut=Et(925);const At=class ot extends ht.Z{constructor(rt){super(),this.eventTarget_=rt,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(rt,J){if(!rt||!J)return;const B=this.listeners_||(this.listeners_={}),q=B[rt]||(B[rt]=[]);q.includes(J)||q.push(J)}dispatchEvent(rt){const J="string"==typeof rt,B=J?rt:rt.type,q=this.listeners_&&this.listeners_[B];if(!q)return;const Z=J?new st.ZP(rt):rt;Z.target||(Z.target=this.eventTarget_||this);const it=this.dispatching_||(this.dispatching_={}),et=this.pendingRemovals_||(this.pendingRemovals_={});let $;B in it||(it[B]=0,et[B]=0),++it[B];for(let lt=0,_t=q.length;lt<_t;++lt)if($="handleEvent"in q[lt]?q[lt].handleEvent(Z):q[lt].call(this,Z),!1===$||Z.propagationStopped){$=!1;break}if(0==--it[B]){let lt=et[B];for(delete et[B];lt--;)this.removeEventListener(B,pt.Zn);delete it[B]}return $}disposeInternal(){this.listeners_&&(0,ut.Z)(this.listeners_)}getListeners(rt){return this.listeners_&&this.listeners_[rt]||void 0}hasListener(rt){return!!this.listeners_&&(rt?rt in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(rt,J){const B=this.listeners_&&this.listeners_[rt];if(B){const q=B.indexOf(J);-1!==q&&(this.pendingRemovals_&&rt in this.pendingRemovals_?(B[q]=pt.Zn,++this.pendingRemovals_[rt]):(B.splice(q,1),0===B.length&&delete this.listeners_[rt]))}}}},654:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Cf:()=>Me,Cr:()=>Wt,EO:()=>_r,Ed:()=>Qe,GN:()=>lt,H6:()=>ge,HK:()=>et,I7:()=>K,MV:()=>zt,Ne:()=>Jt,T9:()=>Z,Wj:()=>ue,Xv:()=>rn,YN:()=>it,b8:()=>ft,bg:()=>ct,d9:()=>ot,dY:()=>Lt,dz:()=>dn,f3:()=>ut,fS:()=>Dt,g0:()=>ee,hC:()=>Nt,hI:()=>st,jE:()=>J,kK:()=>Xn,l7:()=>Ut,lJ:()=>q,p8:()=>jt,pX:()=>B,qP:()=>_e,qf:()=>At,qg:()=>St,r4:()=>rt,rL:()=>$n,w$:()=>gt,xb:()=>Ae});var ht=Et(552);function st(W){const vt=[1/0,1/0,-1/0,-1/0];for(let Zt=0,ne=W.length;Zt<ne;++Zt)ue(vt,W[Zt]);return vt}function ut(W,vt,Zt){return Zt?(Zt[0]=W[0]-vt,Zt[1]=W[1]-vt,Zt[2]=W[2]+vt,Zt[3]=W[3]+vt,Zt):[W[0]-vt,W[1]-vt,W[2]+vt,W[3]+vt]}function ot(W,vt){return vt?(vt[0]=W[0],vt[1]=W[1],vt[2]=W[2],vt[3]=W[3],vt):W.slice()}function At(W,vt,Zt){let ne,qt;return ne=vt<W[0]?W[0]-vt:W[2]<vt?vt-W[2]:0,qt=Zt<W[1]?W[1]-Zt:W[3]<Zt?Zt-W[3]:0,ne*ne+qt*qt}function ft(W,vt){return J(W,vt[0],vt[1])}function rt(W,vt){return W[0]<=vt[0]&&vt[2]<=W[2]&&W[1]<=vt[1]&&vt[3]<=W[3]}function J(W,vt,Zt){return W[0]<=vt&&vt<=W[2]&&W[1]<=Zt&&Zt<=W[3]}function B(W,vt){const ni=vt[0],Re=vt[1];let oi=ht.Z.UNKNOWN;return ni<W[0]?oi|=ht.Z.LEFT:ni>W[2]&&(oi|=ht.Z.RIGHT),Re<W[1]?oi|=ht.Z.BELOW:Re>W[3]&&(oi|=ht.Z.ABOVE),oi===ht.Z.UNKNOWN&&(oi=ht.Z.INTERSECTING),oi}function q(){return[1/0,1/0,-1/0,-1/0]}function Z(W,vt,Zt,ne,qt){return qt?(qt[0]=W,qt[1]=vt,qt[2]=Zt,qt[3]=ne,qt):[W,vt,Zt,ne]}function it(W){return Z(1/0,1/0,-1/0,-1/0,W)}function et(W,vt){const Zt=W[0],ne=W[1];return Z(Zt,ne,Zt,ne,vt)}function lt(W,vt,Zt,ne,qt){return _e(it(qt),W,vt,Zt,ne)}function Dt(W,vt){return W[0]==vt[0]&&W[2]==vt[2]&&W[1]==vt[1]&&W[3]==vt[3]}function Ut(W,vt){return vt[0]<W[0]&&(W[0]=vt[0]),vt[2]>W[2]&&(W[2]=vt[2]),vt[1]<W[1]&&(W[1]=vt[1]),vt[3]>W[3]&&(W[3]=vt[3]),W}function ue(W,vt){vt[0]<W[0]&&(W[0]=vt[0]),vt[0]>W[2]&&(W[2]=vt[0]),vt[1]<W[1]&&(W[1]=vt[1]),vt[1]>W[3]&&(W[3]=vt[1])}function _e(W,vt,Zt,ne,qt){for(;Zt<ne;Zt+=qt)Ft(W,vt[Zt],vt[Zt+1]);return W}function Ft(W,vt,Zt){W[0]=Math.min(W[0],vt),W[1]=Math.min(W[1],Zt),W[2]=Math.max(W[2],vt),W[3]=Math.max(W[3],Zt)}function ge(W,vt){let Zt;return Zt=vt(Nt(W)),!!(Zt||(Zt=vt(gt(W)),Zt)||(Zt=vt(rn(W)),Zt)||(Zt=vt($n(W)),Zt))&&Zt}function ct(W){let vt=0;return Ae(W)||(vt=dn(W)*Wt(W)),vt}function Nt(W){return[W[0],W[1]]}function gt(W){return[W[2],W[1]]}function St(W){return[(W[0]+W[2])/2,(W[1]+W[3])/2]}function ee(W,vt){let Zt;if("bottom-left"===vt)Zt=Nt(W);else if("bottom-right"===vt)Zt=gt(W);else if("top-left"===vt)Zt=$n(W);else{if("top-right"!==vt)throw new Error("Invalid corner");Zt=rn(W)}return Zt}function jt(W,vt,Zt,ne,qt){const[Ve,ni,Re,oi,yi,ti,je,or]=Lt(W,vt,Zt,ne);return Z(Math.min(Ve,Re,yi,je),Math.min(ni,oi,ti,or),Math.max(Ve,Re,yi,je),Math.max(ni,oi,ti,or),qt)}function Lt(W,vt,Zt,ne){const qt=vt*ne[0]/2,Ve=vt*ne[1]/2,ni=Math.cos(Zt),Re=Math.sin(Zt),oi=qt*ni,yi=qt*Re,ti=Ve*ni,je=Ve*Re,or=W[0],Cr=W[1];return[or-oi+je,Cr-yi-ti,or-oi-je,Cr-yi+ti,or+oi-je,Cr+yi+ti,or+oi+je,Cr+yi-ti,or-oi+je,Cr-yi-ti]}function Wt(W){return W[3]-W[1]}function Qe(W,vt,Zt){const ne=Zt||[1/0,1/0,-1/0,-1/0];return Xn(W,vt)?(ne[0]=W[0]>vt[0]?W[0]:vt[0],ne[1]=W[1]>vt[1]?W[1]:vt[1],ne[2]=W[2]<vt[2]?W[2]:vt[2],ne[3]=W[3]<vt[3]?W[3]:vt[3]):it(ne),ne}function $n(W){return[W[0],W[3]]}function rn(W){return[W[2],W[3]]}function dn(W){return W[2]-W[0]}function Xn(W,vt){return W[0]<=vt[2]&&W[2]>=vt[0]&&W[1]<=vt[3]&&W[3]>=vt[1]}function Ae(W){return W[2]<W[0]||W[3]<W[1]}function _r(W,vt){return vt?(vt[0]=W[0],vt[1]=W[1],vt[2]=W[2],vt[3]=W[3],vt):W}function K(W,vt,Zt){let ne=!1;const qt=B(W,vt),Ve=B(W,Zt);if(qt===ht.Z.INTERSECTING||Ve===ht.Z.INTERSECTING)ne=!0;else{const ni=W[0],Re=W[1],oi=W[2],yi=W[3],or=Zt[0],Cr=Zt[1],go=(Cr-vt[1])/(or-vt[0]);let In,zs;Ve&ht.Z.ABOVE&&!(qt&ht.Z.ABOVE)&&(In=or-(Cr-yi)/go,ne=In>=ni&&In<=oi),!ne&&Ve&ht.Z.RIGHT&&!(qt&ht.Z.RIGHT)&&(zs=Cr-(or-oi)*go,ne=zs>=Re&&zs<=yi),!ne&&Ve&ht.Z.BELOW&&!(qt&ht.Z.BELOW)&&(In=or-(Cr-Re)/go,ne=In>=ni&&In<=oi),!ne&&Ve&ht.Z.LEFT&&!(qt&ht.Z.LEFT)&&(zs=Cr-(or-ni)*go,ne=zs>=Re&&zs<=yi)}return ne}function Jt(W,vt,Zt,ne){if(Ae(W))return it(Zt);let qt=[];if(ne>1){const Re=W[2]-W[0],oi=W[3]-W[1];for(let yi=0;yi<ne;++yi)qt.push(W[0]+Re*yi/ne,W[1],W[2],W[1]+oi*yi/ne,W[2]-Re*yi/ne,W[3],W[0],W[3]-oi*yi/ne)}else qt=[W[0],W[1],W[2],W[1],W[2],W[3],W[0],W[3]];vt(qt,qt,2);const Ve=[],ni=[];for(let Re=0,oi=qt.length;Re<oi;Re+=2)Ve.push(qt[Re]),ni.push(qt[Re+1]);return function pt(W,vt,Zt){return Z(Math.min.apply(null,W),Math.min.apply(null,vt),Math.max.apply(null,W),Math.max.apply(null,vt),Zt)}(Ve,ni,Zt)}function Me(W,vt){const Zt=vt.getExtent(),ne=St(W);if(vt.canWrapX()&&(ne[0]<Zt[0]||ne[0]>=Zt[2])){const qt=dn(Zt),ni=Math.floor((ne[0]-Zt[0])/qt)*qt;W[0]-=ni,W[2]-=ni}return W}function zt(W,vt){if(vt.canWrapX()){const Zt=vt.getExtent();if(!isFinite(W[0])||!isFinite(W[2]))return[[Zt[0],W[1],Zt[2],W[3]]];Me(W,vt);const ne=dn(Zt);if(dn(W)>ne)return[[Zt[0],W[1],Zt[2],W[3]]];if(W[0]<Zt[0])return[[W[0]+ne,W[1],Zt[2],W[3]],[Zt[0],W[1],W[2],W[3]]];if(W[2]>Zt[2])return[[W[0],W[1],Zt[2],W[3]],[Zt[0],W[1],W[2]-ne,W[3]]]}return[W]}},552:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ht});const ht={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},589:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Dv:()=>pt,Zn:()=>ut,qe:()=>ot,uX:()=>st});var ht=Et(555);function st(){return!0}function pt(){return!1}function ut(){}function ot(ft){let J,B,q,rt=!1;return function(){const Z=Array.prototype.slice.call(arguments);return(!rt||this!==q||!(0,ht.fS)(Z,B))&&(rt=!0,q=this,B=Z,J=ft.apply(this,arguments)),J}}},365:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{G$:()=>ot,Id:()=>rt,MP:()=>ft,Tp:()=>J,V:()=>st,bM:()=>q,tK:()=>At});const ht=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",st=ht.includes("firefox"),ot=(ht.includes("safari")&&!ht.includes("chrom")&&(ht.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ht)),ht.includes("webkit")&&!ht.includes("edge")),At=ht.includes("macintosh"),ft=typeof devicePixelRatio<"u"?devicePixelRatio:1,rt=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,J=typeof Image<"u"&&Image.prototype.decode,q=function(){let Z=!1;try{const it=Object.defineProperty({},"passive",{get:function(){Z=!0}});window.addEventListener("_",null,it),window.removeEventListener("_",null,it)}catch{}return Z}()},392:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ft});var ht=Et(221),st=Et(974),pt=Et(939),ut=Et(780),ot=Et(469);const ft=class At extends ht.Z{constructor(J){super(),this.background_=J.background;const B=Object.assign({},J);"object"==typeof J.properties&&(delete B.properties,Object.assign(B,J.properties)),B[st.Z.OPACITY]=void 0!==J.opacity?J.opacity:1,(0,ut.h)("number"==typeof B[st.Z.OPACITY],"Layer opacity must be a number"),B[st.Z.VISIBLE]=void 0===J.visible||J.visible,B[st.Z.Z_INDEX]=J.zIndex,B[st.Z.MAX_RESOLUTION]=void 0!==J.maxResolution?J.maxResolution:1/0,B[st.Z.MIN_RESOLUTION]=void 0!==J.minResolution?J.minResolution:0,B[st.Z.MIN_ZOOM]=void 0!==J.minZoom?J.minZoom:-1/0,B[st.Z.MAX_ZOOM]=void 0!==J.maxZoom?J.maxZoom:1/0,this.className_=void 0!==B.className?B.className:"ol-layer",delete B.className,this.setProperties(B),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(J){const B=this.state_||{layer:this,managed:void 0===J||J},q=this.getZIndex();return B.opacity=(0,ot.uZ)(Math.round(100*this.getOpacity())/100,0,1),B.visible=this.getVisible(),B.extent=this.getExtent(),B.zIndex=void 0!==q||B.managed?q:1/0,B.maxResolution=this.getMaxResolution(),B.minResolution=Math.max(this.getMinResolution(),0),B.minZoom=this.getMinZoom(),B.maxZoom=this.getMaxZoom(),this.state_=B,B}getLayersArray(J){return(0,pt.O3)()}getLayerStatesArray(J){return(0,pt.O3)()}getExtent(){return this.get(st.Z.EXTENT)}getMaxResolution(){return this.get(st.Z.MAX_RESOLUTION)}getMinResolution(){return this.get(st.Z.MIN_RESOLUTION)}getMinZoom(){return this.get(st.Z.MIN_ZOOM)}getMaxZoom(){return this.get(st.Z.MAX_ZOOM)}getOpacity(){return this.get(st.Z.OPACITY)}getSourceState(){return(0,pt.O3)()}getVisible(){return this.get(st.Z.VISIBLE)}getZIndex(){return this.get(st.Z.Z_INDEX)}setBackground(J){this.background_=J,this.changed()}setExtent(J){this.set(st.Z.EXTENT,J)}setMaxResolution(J){this.set(st.Z.MAX_RESOLUTION,J)}setMinResolution(J){this.set(st.Z.MIN_RESOLUTION,J)}setMaxZoom(J){this.set(st.Z.MAX_ZOOM,J)}setMinZoom(J){this.set(st.Z.MIN_ZOOM,J)}setOpacity(J){(0,ut.h)("number"==typeof J,"Layer opacity must be a number"),this.set(st.Z.OPACITY,J)}setVisible(J){this.set(st.Z.VISIBLE,J)}setZIndex(J){this.set(st.Z.Z_INDEX,J)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}},333:(nn,Ot,Et)=>{"use strict";Et.r(Ot),Et.d(Ot,{GroupEvent:()=>Z,default:()=>$});var ht=Et(392),st=Et(165),pt=Et(529),ut=Et(395),ot=Et(688),At=Et(196),ft=Et(780),rt=Et(925),J=Et(654),B=Et(939),q=Et(796);class Z extends ut.ZP{constructor(_t,Dt){super(_t),this.layer=Dt}}class et extends ht.Z{constructor(_t){_t=_t||{};const Dt=Object.assign({},_t);delete Dt.layers;let Yt=_t.layers;super(Dt),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),Yt?Array.isArray(Yt)?Yt=new st.Z(Yt.slice(),{unique:!0}):(0,ft.h)("function"==typeof Yt.getArray,"Expected `layers` to be an array or a `Collection`"):Yt=new st.Z(void 0,{unique:!0}),this.setLayers(Yt)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(q.bN),this.layersListenerKeys_.length=0;const _t=this.getLayers();this.layersListenerKeys_.push((0,q.oL)(_t,pt.Z.ADD,this.handleLayersAdd_,this),(0,q.oL)(_t,pt.Z.REMOVE,this.handleLayersRemove_,this));for(const Yt in this.listenerKeys_)this.listenerKeys_[Yt].forEach(q.bN);(0,rt.Z)(this.listenerKeys_);const Dt=_t.getArray();for(let Yt=0,Ut=Dt.length;Yt<Ut;Yt++){const ue=Dt[Yt];this.registerLayerListeners_(ue),this.dispatchEvent(new Z("addlayer",ue))}this.changed()}registerLayerListeners_(_t){const Dt=[(0,q.oL)(_t,At.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,q.oL)(_t,ot.Z.CHANGE,this.handleLayerChange_,this)];_t instanceof et&&Dt.push((0,q.oL)(_t,"addlayer",this.handleLayerGroupAdd_,this),(0,q.oL)(_t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,B.sq)(_t)]=Dt}handleLayerGroupAdd_(_t){this.dispatchEvent(new Z("addlayer",_t.layer))}handleLayerGroupRemove_(_t){this.dispatchEvent(new Z("removelayer",_t.layer))}handleLayersAdd_(_t){const Dt=_t.element;this.registerLayerListeners_(Dt),this.dispatchEvent(new Z("addlayer",Dt)),this.changed()}handleLayersRemove_(_t){const Dt=_t.element,Yt=(0,B.sq)(Dt);this.listenerKeys_[Yt].forEach(q.bN),delete this.listenerKeys_[Yt],this.dispatchEvent(new Z("removelayer",Dt)),this.changed()}getLayers(){return this.get("layers")}setLayers(_t){const Dt=this.getLayers();if(Dt){const Yt=Dt.getArray();for(let Ut=0,ue=Yt.length;Ut<ue;++Ut)this.dispatchEvent(new Z("removelayer",Yt[Ut]))}this.set("layers",_t)}getLayersArray(_t){return _t=void 0!==_t?_t:[],this.getLayers().forEach(function(Dt){Dt.getLayersArray(_t)}),_t}getLayerStatesArray(_t){const Dt=void 0!==_t?_t:[],Yt=Dt.length;this.getLayers().forEach(function(Xt){Xt.getLayerStatesArray(Dt)});const Ut=this.getLayerState();let ue=Ut.zIndex;!_t&&void 0===Ut.zIndex&&(ue=0);for(let Xt=Yt,_e=Dt.length;Xt<_e;Xt++){const Oe=Dt[Xt];Oe.opacity*=Ut.opacity,Oe.visible=Oe.visible&&Ut.visible,Oe.maxResolution=Math.min(Oe.maxResolution,Ut.maxResolution),Oe.minResolution=Math.max(Oe.minResolution,Ut.minResolution),Oe.minZoom=Math.max(Oe.minZoom,Ut.minZoom),Oe.maxZoom=Math.min(Oe.maxZoom,Ut.maxZoom),void 0!==Ut.extent&&(Oe.extent=void 0!==Oe.extent?(0,J.Ed)(Oe.extent,Ut.extent):Ut.extent),void 0===Oe.zIndex&&(Oe.zIndex=ue)}return Dt}getSourceState(){return"ready"}}const $=et},974:(nn,Ot,Et)=>{"use strict";Et.d(Ot,{Z:()=>ht});const ht={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},469:(nn,Ot,Et)=>{"use strict";function ht(it,et,$){return Math.min(Math.max(it,et),$)}function st(it,et,$,lt,_t,Dt){const Yt=_t-$,Ut=Dt-lt;if(0!==Yt||0!==Ut){const ue=((it-$)*Yt+(et-lt)*Ut)/(Yt*Yt+Ut*Ut);ue>1?($=_t,lt=Dt):ue>0&&($+=Yt*ue,lt+=Ut*ue)}return pt(it,et,$,lt)}function pt(it,et,$,lt){const _t=$-it,Dt=lt-et;return _t*_t+Dt*Dt}function ut(it){const et=it.length;for(let lt=0;lt<et;lt++){let _t=lt,Dt=Math.abs(it[lt][lt]);for(let Ut=lt+1;Ut<et;Ut++){const ue=Math.abs(it[Ut][lt]);ue>Dt&&(Dt=ue,_t=Ut)}if(0===Dt)return null;const Yt=it[_t];it[_t]=it[lt],it[lt]=Yt;for(let Ut=lt+1;Ut<et;Ut++){const ue=-it[Ut][lt]/it[lt][lt];for(let Xt=lt;Xt<et+1;Xt++)lt==Xt?it[Ut][Xt]=0:it[Ut][Xt]+=ue*it[lt][Xt]}}const $=new Array(et);for(let lt=et-1;lt>=0;lt--){$[lt]=it[lt][et]/it[lt][lt];for(let _t=lt-1;_t>=0;_t--)it[_t][et]-=it[_t][lt]*$[lt]}return $}function At(it){return it*Math.PI/180}function ft(it,et){const $=it%et;return $*et<0?$+et:$}function rt(it,et,$){return it+$*(et-it)}function J(it,et){const $=Math.pow(10,et);return Math.round(it*$)/$}function B(it,et){return Math.round(J(it,et))}function q(it,et){return Math.floor(J(it,et))}function Z(it,et){return Math.ceil(J(it,et))}Et.d(Ot,{$W:()=>ft,FH:()=>J,GW:()=>q,NM:()=>B,SV:()=>ut,Yr:()=>At,bI:()=>pt,mD:()=>Z,rU:()=>st,t7:()=>rt,uZ:()=>ht})},925:(nn,Ot,Et)=>{"use strict";function ht(pt){for(const ut in pt)delete pt[ut]}function st(pt){let ut;for(ut in pt)return!1;return!ut}Et.d(Ot,{Z:()=>ht,x:()=>st})},939:(nn,Ot,Et)=>{"use strict";function ht(){throw new Error("Unimplemented abstract method.")}Et.d(Ot,{O3:()=>ht,sq:()=>pt});let st=0;function pt(ot){return ot.ol_uid||(ot.ol_uid=String(++st))}}},nn=>{nn(nn.s=192)}]);