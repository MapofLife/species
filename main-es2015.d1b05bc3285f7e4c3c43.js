(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+cQG":function(t,e,n){"use strict";var i,r=n("4Ow6"),s=n("hatQ"),o=n("rjvG"),a=n("70ZC"),l=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.element=n,r.index=i,r}return l(e,t),e}(a.a),h=function(t){function e(e,n){var i=t.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var r=0,s=i.array_.length;r<s;++r)i.assertUnique_(i.array_[r],r);return i.updateLength_(),i}return l(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(o.a.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(o.a.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(o.a.REMOVE,i,t)),this.dispatchEvent(new c(o.a.ADD,e,t))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r.a(58)},e}(s.a);e.a=h},0:function(t,e,n){t.exports=n("zUnb")},"0eRI":function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"f",(function(){return l})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return h})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return d}));var r="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},s="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function o(t,e,n,i,r,s){var o=r-n,l=s-i;if(0!==o||0!==l){var c=((t-n)*o+(e-i)*l)/(o*o+l*l);c>1?(n=r,i=s):c>0&&(n+=o*c,i+=l*c)}return a(t,e,n,i)}function a(t,e,n,i){var r=n-t,s=i-e;return r*r+s*s}function l(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),s=n+1;s<e;s++){var o=Math.abs(t[s][n]);o>r&&(r=o,i=s)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var l=n+1;l<e;l++)for(var c=-t[l][n]/t[n][n],h=n;h<e+1;h++)n==h?t[l][h]=0:t[l][h]+=c*t[n][h]}for(var u=new Array(e),d=e-1;d>=0;d--){u[d]=t[d][e]/t[d][d];for(var f=d-1;f>=0;f--)t[f][e]-=t[f][d]*u[d]}return u}function c(t){return 180*t/Math.PI}function h(t){return t*Math.PI/180}function u(t,e){var n=t%e;return n*e<0?n+e:n}function d(t,e,n){return t+n*(e-t)}},"1TxV":function(t,e){e.read=function(t,e,n,i,r){var s,o,a=8*r-i-1,l=(1<<a)-1,c=l>>1,h=-7,u=n?r-1:0,d=n?-1:1,f=t[e+u];for(u+=d,s=f&(1<<-h)-1,f>>=-h,h+=a;h>0;s=256*s+t[e+u],u+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=256*o+t[e+u],u+=d,h-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),s-=c}return(f?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,n,i,r,s){var o,a,l,c=8*s-r-1,h=(1<<c)-1,u=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;t[n+f]=255&o,f+=p,o/=256,c-=8);t[n+f-p]|=128*g}},"1lfU":function(t,e,n){"use strict";var i,r=n("sDFk"),s=n("fudy"),o=n("UqCr"),a=n("zqV8"),l=n("QRdp"),c=n("vog+"),h=n("wINb"),u=n("A5l+"),d=n("lRKV"),f=n("I/d5"),p=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=Object(c.j)(),n.tmpTileRange_=new s.b(0,0,0,0),n}return p(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==o.a.LOADED||n==o.a.EMPTY||n==o.a.ERROR&&!i},e.prototype.getTile=function(t,e,n,i){var r=i.pixelRatio,s=i.viewState.projection,a=this.getLayer(),l=a.getSource().getTile(t,e,n,r,s);return l.getState()==o.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):l.setState(o.a.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,s=i.resolution,p=i.center,g=i.rotation,m=t.pixelRatio,_=this.getLayer(),v=_.getSource(),y=v.getRevision(),b=v.getTileGridForProjection(r),w=b.getZForResolution(s,v.zDirection),x=b.getResolution(w),C=t.extent,O=n.extent&&Object(u.f)(n.extent,r);O&&(C=Object(c.B)(C,Object(u.f)(n.extent,r)));var S=v.getTilePixelRatio(m),k=Math.round(t.size[0]*S),E=Math.round(t.size[1]*S);if(g){var M=Math.round(Math.sqrt(k*k+E*E));k=M,E=M}var T=x*k/2/S,A=x*E/2/S,P=[p[0]-T,p[1]-A,p[0]+T,p[1]+A],R=b.getTileRangeForExtentAndZ(C,w),I={};I[w]={};var D=this.createLoadedTileFinder(v,r,I),L=this.tmpExtent,F=this.tmpTileRange_;this.newTiles_=!1;for(var N=R.minX;N<=R.maxX;++N)for(var j=R.minY;j<=R.maxY;++j){var z=this.getTile(w,N,j,t);if(this.isDrawableTile(z)){var V=Object(d.c)(this);if(z.getState()==o.a.LOADED){I[w][z.tileCoord.toString()]=z;var B=z.inTransition(V);this.newTiles_||!B&&-1!==this.renderedTiles.indexOf(z)||(this.newTiles_=!0)}if(1===z.getAlpha(V,t.time))continue}var H=b.getTileCoordChildTileRange(z.tileCoord,F,L),U=!1;H&&(U=D(w+1,H)),U||b.forEachTileCoordParentTileRange(z.tileCoord,D,F,L)}var G=x/s;Object(a.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/S,1/S,g,-k/2,-E/2);var W=Object(h.b)(this.pixelTransform);this.useContainer(e,W,n.opacity);var Y=this.context,q=Y.canvas;Object(a.d)(this.inversePixelTransform,this.pixelTransform),Object(a.b)(this.tempTransform,k/2,E/2,G,G,0,-k/2,-E/2),q.width!=k||q.height!=E?(q.width=k,q.height=E):this.containerReused||Y.clearRect(0,0,k,E),O&&this.clipUnrotated(Y,t,O),Object(l.a)(Y,v.getContextOptions()),this.preRender(Y,t),this.renderedTiles.length=0;var X,$,K,Z=Object.keys(I).map(Number);Z.sort(f.f),1!==n.opacity||this.containerReused&&!v.getOpaque(t.viewState.projection)?(X=[],$=[]):Z=Z.reverse();for(var Q=Z.length-1;Q>=0;--Q){var J=Z[Q],tt=v.getTilePixelSize(J,m,r),et=b.getResolution(J)/x,nt=tt[0]*et*G,it=tt[1]*et*G,rt=b.getTileCoordForCoordAndZ(Object(c.C)(P),J),st=b.getTileCoordExtent(rt),ot=Object(a.a)(this.tempTransform,[S*(st[0]-P[0])/x,S*(P[3]-st[3])/x]),at=S*v.getGutterForProjection(r),lt=I[J];for(var ct in lt){var ht=(z=lt[ct]).tileCoord,ut=ot[0]-(rt[1]-ht[1])*nt,dt=Math.round(ut+nt),ft=ot[1]-(rt[2]-ht[2])*it,pt=Math.round(ft+it),gt=dt-(N=Math.round(ut)),mt=pt-(j=Math.round(ft)),_t=w===J;if(!(B=_t&&1!==z.getAlpha(Object(d.c)(this),t.time)))if(X){Y.save(),K=[N,j,N+gt,j,N+gt,j+mt,N,j+mt];for(var vt=0,yt=X.length;vt<yt;++vt)if(w!==J&&J<$[vt]){var bt=X[vt];Y.beginPath(),Y.moveTo(K[0],K[1]),Y.lineTo(K[2],K[3]),Y.lineTo(K[4],K[5]),Y.lineTo(K[6],K[7]),Y.moveTo(bt[6],bt[7]),Y.lineTo(bt[4],bt[5]),Y.lineTo(bt[2],bt[3]),Y.lineTo(bt[0],bt[1]),Y.clip()}X.push(K),$.push(J)}else Y.clearRect(N,j,gt,mt);this.drawTileImage(z,t,N,j,gt,mt,at,_t,n.opacity),X&&!B&&Y.restore(),this.renderedTiles.push(z),this.updateUsedTiles(t.usedTiles,v,z)}}return this.renderedRevision=y,this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!Object(c.p)(this.renderedExtent_,P),this.renderedExtent_=P,this.renderedPixelRatio=m,this.renderedProjection=r,this.manageTilePyramid(t,v,b,m,r,C,w,_.getPreload()),this.scheduleExpireCache(t,v),this.postRender(Y,t),n.extent&&Y.restore(),W!==q.style.transform&&(q.style.transform=W),this.container},e.prototype.drawTileImage=function(t,e,n,i,r,s,o,a,l){var c=this.getTileImage(t);if(c){var h=Object(d.c)(this),u=a?t.getAlpha(h,e.time):1,f=l*u,p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(c,o,o,c.width-2*o,c.height-2*o,n,i,r,s),p&&this.context.restore(),1!==u?e.animate=!0:a&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var i=Object(d.c)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}).bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=Object(d.c)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,i,r,s,a,l,c){var h=Object(d.c)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var u,f,p,g,m,_,v=t.wantedTiles[h],y=t.tileQueue,b=0;for(_=n.getMinZoom();_<=a;++_)for(f=n.getTileRangeForExtentAndZ(s,_,f),p=n.getResolution(_),g=f.minX;g<=f.maxX;++g)for(m=f.minY;m<=f.maxY;++m)a-_<=l?(++b,(u=e.getTile(_,g,m,i,r)).getState()==o.a.IDLE&&(v[u.getKey()]=!0,y.isKeyQueued(u.getKey())||y.enqueue([u,h,n.getTileCoordCenter(u.tileCoord),p])),void 0!==c&&c(u)):e.useTile(_,g,m,r);e.updateCacheSize(b,r)},e}(r.a);e.a=g},"32tr":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("SE7o");function r(t){return Array.isArray(t)?Object(i.c)(t):t}},"4Gx9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return c}));var i=n("0eRI");function r(t,e,n,r,s,o,a){var l=(n-e)/r;if(l<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var c=new Array(l);c[0]=1,c[l-1]=1;for(var h=[e,n-r],u=0;h.length>0;){for(var d=h.pop(),f=h.pop(),p=0,g=t[f],m=t[f+1],_=t[d],v=t[d+1],y=f+r;y<d;y+=r){var b=t[y],w=t[y+1],x=Object(i.h)(b,w,g,m,_,v);x>p&&(u=y,p=x)}p>s&&(c[(u-e)/r]=1,f+r<u&&h.push(f,u),u+r<d&&h.push(u,d))}for(y=0;y<l;++y)c[y]&&(o[a++]=t[e+y*r],o[a++]=t[e+y*r+1]);return a}function s(t,e,n,i,s,o,a,l){for(var c=0,h=n.length;c<h;++c){var u=n[c];a=r(t,e,u,i,s,o,a),l.push(a),e=u}return a}function o(t,e){return e*Math.round(t/e)}function a(t,e,n,i,r,s,a){if(e==n)return a;var l,c,h=o(t[e],r),u=o(t[e+1],r);e+=i,s[a++]=h,s[a++]=u;do{if(l=o(t[e],r),c=o(t[e+1],r),(e+=i)==n)return s[a++]=l,s[a++]=c,a}while(l==h&&c==u);for(;e<n;){var d=o(t[e],r),f=o(t[e+1],r);if(e+=i,d!=l||f!=c){var p=l-h,g=c-u,m=d-h,_=f-u;p*_==g*m&&(p<0&&m<p||p==m||p>0&&m>p)&&(g<0&&_<g||g==_||g>0&&_>g)?(l=d,c=f):(s[a++]=l,s[a++]=c,h=l,u=c,l=d,c=f)}}return s[a++]=l,s[a++]=c,a}function l(t,e,n,i,r,s,o,l){for(var c=0,h=n.length;c<h;++c){var u=n[c];o=a(t,e,u,i,r,s,o),l.push(o),e=u}return o}function c(t,e,n,i,r,s,o,a){for(var c=0,h=n.length;c<h;++c){var u=n[c],d=[];o=l(t,e,u,i,r,s,o,d),a.push(d),e=u[u.length-1]}return o}},"4Ow6":function(t,e,n){"use strict";var i,r=n("lRKV"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===r.a?r.a:"v"+r.a.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return s(e,t),e}(Error);e.a=o},"4tNs":function(t,e,n){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},"4tdA":function(t,e,n){"use strict";var i=n("hatQ"),r=n("DiD3"),s=n("zYA+"),o=n("vY6g"),a=n("ejHg"),l=n("A5l+"),c=n("h7by"),h=n("61KW"),u=n("SHzd"),d=n("QRdp"),f=n("0eRI");function p(t,e,n){return function(i,r,s,o,a){if(i){var l=e?0:s[0]*r,c=e?0:s[1]*r,h=a?a[0]:0,u=a?a[1]:0,d=t[0]+l/2+h,p=t[2]-l/2+h,g=t[1]+c/2+u,m=t[3]-c/2+u;d>p&&(p=d=(p+d)/2),g>m&&(m=g=(m+g)/2);var _=Object(f.a)(i[0],d,p),v=Object(f.a)(i[1],g,m),y=30*r;return o&&n&&(_+=-y*Math.log(1+Math.max(0,d-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-p)/y),v+=-y*Math.log(1+Math.max(0,g-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-m)/y)),[_,v]}}}function g(t){return t}var m=n("vog+"),_=n("I/d5");function v(t,e,n,i){var r=Object(m.E)(e)/n[0],s=Object(m.A)(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function y(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Object(f.a)(i,n/2,2*e)}function b(t,e,n,i,r){return function(s,o,a,l){if(void 0!==s){var c=i?v(t,i,a,r):t;return(void 0===n||n)&&l?y(s,c,e):Object(f.a)(s,e,c)}}}var w,x=n("SMMa"),C=n("sQKY"),O=n("hWN6"),S=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t){function e(e){var n=t.call(this)||this,i=Object(d.a)({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=Object(l.b)(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,i.center&&(i.center=Object(l.e)(i.center,n.projection_)),i.extent&&(i.extent=Object(l.f)(i.extent,n.projection_)),n.applyOptions_(i),n}return S(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,c=void 0!==t.zoomFactor?t.zoomFactor:2,h=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,p=Object(l.b)(t.projection,"EPSG:3857"),g=p.getExtent(),w=t.constrainOnlyCenter,x=t.extent;if(h||x||!p.isGlobal()||(w=!1,x=g),void 0!==t.resolutions){var C=t.resolutions;n=C[r],i=void 0!==C[o]?C[o]:C[C.length-1],e=t.constrainResolution?function(t,e,n,i){return function(r,s,o,a){if(void 0!==r){var l=t[0],c=t[t.length-1],h=n?v(l,n,o,i):l;if(a)return void 0===e||e?y(r,h,c):Object(f.a)(r,c,h);var u=Math.min(h,r),d=Math.floor(Object(_.e)(t,u,s));return t[d]>h&&d<t.length-1?t[d+1]:t[d]}}}(C,u,!w&&x,d):b(n,i,u,!w&&x,d)}else{var O=(g?Math.max(Object(m.E)(g),Object(m.A)(g)):360*l.a[s.b.DEGREES]/p.getMetersPerUnit())/a.b/Math.pow(2,0),S=O/Math.pow(2,28);void 0!==(n=t.maxResolution)?r=0:n=O/Math.pow(c,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(c,o):O/Math.pow(c,o):S),o=r+Math.floor(Math.log(n/i)/Math.log(c)),i=n/Math.pow(c,o-r),e=t.constrainResolution?function(t,e,n,i,r,s){return function(o,a,l,c){if(void 0!==o){var h=r?v(e,r,l,s):e,u=void 0!==n?n:0;if(c)return void 0===i||i?y(o,h,u):Object(f.a)(o,u,h);var d=Math.ceil(Math.log(e/h)/Math.log(t)-1e-9),p=-a*(.5-1e-9)+.5,g=Math.min(h,o),m=Math.floor(Math.log(e/g)/Math.log(t)+p),_=Math.max(d,m),b=e/Math.pow(t,_);return Object(f.a)(b,u,h)}}}(c,n,i,u,!w&&x,d):b(n,i,u,!w&&x,d)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:c}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding=t.padding,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent)return p(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=Object(l.b)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,p(n,!1,!1)}return g}(t),i=e.constraint,r=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(x.b)():!1===e?x.d:"number"==typeof e?Object(x.a)(e):x.d}return x.c}(t);this.constraints_={center:n,resolution:i,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(d.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(d.a)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=Object(d.a)({},i)).center=Object(l.e)(i.center,this.getProjection())),i.anchor&&((i=Object(d.a)({},i)).anchor=Object(l.e)(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&E(e,!0))}for(var r=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[],h=0;h<n;++h){var u=arguments[h],d={start:r,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||C.c,callback:e};if(u.center&&(d.sourceCenter=s,d.targetCenter=u.center.slice(),s=d.targetCenter),void 0!==u.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(u.zoom),a=d.targetResolution):u.resolution&&(d.sourceResolution=a,d.targetResolution=u.resolution,a=d.targetResolution),void 0!==u.rotation){d.sourceRotation=l;var p=Object(f.e)(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+p,l=d.targetRotation}M(d)?d.complete=!0:r+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(o.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[o.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[o.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(o.a.ANIMATING,-this.hints_[o.a.ANIMATING]);for(var e=0,n=this.animations_.length;e<n;++e){var i=this.animations_[e];if(i[0].callback&&E(i[0].callback,!1),!t)for(var r=0,s=i.length;r<s;++r){var a=i[r];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,s=0,a=i.length;s<a;++s){var l=i[s];if(!l.complete){var c=l.duration>0?(t-l.start)/l.duration:1;c>=1?(l.complete=!0,c=1):r=!1;var h=l.easing(c);if(l.sourceCenter){var u=l.sourceCenter[0],d=l.sourceCenter[1];this.targetCenter_=[u+h*(l.targetCenter[0]-u),d+h*(l.targetCenter[1]-d)]}if(l.sourceResolution&&l.targetResolution){var p=1===h?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var g=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(p,0,g,!0);this.targetCenter_=this.calculateCenterZoom(m,l.anchor)}this.targetResolution_=p,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var _=1===h?Object(f.e)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var v=this.constraints_.rotation(_,!0);this.targetCenter_=this.calculateCenterRotate(v,l.anchor)}this.targetRotation_=_}if(this.applyTargetState_(!0),e=!0,!l.complete)break}}if(r){this.animations_[n]=null,this.setHint(o.a.ANIMATING,-1);var y=i[0].callback;y&&E(y,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Object(h.d)(n,t-this.getRotation()),Object(h.a)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Object(l.m)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Object(l.n)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),n=this.getCenterInternal();Object(u.a)(n,1);var i=this.getResolution();Object(u.a)(void 0!==i,2);var r=this.getRotation();return Object(u.a)(void 0!==r,3),Object(m.z)(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Object(l.f)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSize_(),i=Object(m.E)(t)/n[0],r=Object(m.A)(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding;if(r){var s=this.getViewportSizeMinusPadding_();i=T(i,this.getViewportSize_(),[s[0]/2+r[3],s[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=Object(_.e)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Object(f.a)(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],Object(f.a)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(Object(u.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){Object(u.a)(!Object(m.H)(t),25);var i=Object(l.f)(t,this.getProjection());n=Object(O.b)(i)}else if(t.getType()===r.a.CIRCLE)i=Object(l.f)(t.getExtent(),this.getProjection()),(n=Object(O.b)(i)).rotate(this.getRotation(),Object(m.x)(i));else{var s=Object(l.k)();n=s?t.clone().transform(s,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var r,s=void 0!==n.padding?n.padding:[0,0,0,0],o=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var a=t.getFlatCoordinates(),l=this.getRotation(),h=Math.cos(-l),u=Math.sin(-l),d=1/0,f=1/0,p=-1/0,g=-1/0,m=t.getStride(),_=0,v=a.length;_<v;_+=m){var y=a[_]*h-a[_+1]*u,b=a[_]*u+a[_+1]*h;d=Math.min(d,y),f=Math.min(f,b),p=Math.max(p,y),g=Math.max(g,b)}var w=this.getResolutionForExtentInternal([d,f,p,g],[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);w=isNaN(w)?r:Math.max(w,r),w=this.getConstrainedResolution(w,o?0:1);var x=(d+p)/2,C=(f+g)/2,O=this.getConstrainedCenter([(x+=(s[1]-s[3])/2*w)*h-(C+=(s[0]-s[2])/2*w)*(u=-u),C*h+x*u],w),S=n.callback?n.callback:c.c;void 0!==n.duration?this.animateInternal({resolution:w,center:O,duration:n.duration,easing:n.easing},S):(this.targetResolution_=w,this.targetCenter_=O,this.applyTargetState_(!1,!0),E(S,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Object(l.e)(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(T(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,i){var r,s=this.padding;if(s&&t){var o=this.getViewportSizeMinusPadding_(-n),a=T(t,i,[o[0]/2+s[3],o[1]/2+s[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Object(l.m)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Object(l.e)(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Object(l.e)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(Object(l.e)(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,r,n),o=this.constraints_.center(this.targetCenter_,s,r,n,this.calculateCenterShift(this.targetCenter_,s,i,r));this.get("rotation")!==i&&this.set("rotation",i),this.get("resolution")!==s&&this.set("resolution",s),this.get("center")&&Object(h.b)(this.get("center"),o)||this.set("center",o),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,r=e||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,void this.applyTargetState_();var c=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===s&&this.getCenterInternal()&&Object(h.b)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:i,easing:C.b,anchor:c}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(o.a.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&Object(l.e)(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(o.a.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(i.a);function E(t,e){setTimeout((function(){t(e)}),0)}function M(t){return!(t.sourceCenter&&t.targetCenter&&!Object(h.b)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function T(t,e,n,i,r){var s=Math.cos(-r),o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;return[(a+=(e[0]/2-n[0])*i)*s-(l+=(n[1]-e[1]/2)*i)*(o=-o),l*s+a*o]}e.a=k},"5EX2":function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},"5Oj5":function(t,e,n){"use strict";var i=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.a=i},"61KW":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return c}));var i=n("vog+");function r(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function s(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function o(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=r,t}function a(t,e){return t[0]*=e,t[1]*=e,t}function l(t,e){if(e.canWrapX()){var n=Object(i.E)(e.getExtent()),r=c(t,e,n);r&&(t[0]-=r*n)}return t}function c(t,e,n){var r=e.getExtent(),s=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||Object(i.E)(r);s=Math.floor((t[0]-r[0])/o)}return s}n("0eRI"),n("ENBV")},"6IIn":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o}));var i=n("yki2"),r=n("h7by");function s(t,e,n,r,s,o,a){var l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(n,r,s):t,!0),e.getType()==i.a.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=!1,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){var r=e.getType(),c=void 0;r==i.a.JSON||r==i.a.TEXT?c=l.responseText:r==i.a.XML?(c=l.responseXML)||(c=(new DOMParser).parseFromString(l.responseText,"application/xml")):r==i.a.ARRAY_BUFFER&&(c=l.response),c?o(e.readFeatures(c,{extent:n,featureProjection:s}),e.readProjection(c)):a()}else a()},l.onerror=a,l.send()}function o(t,e){return function(n,i,o,a,l){var c=this;s(t,e,n,i,o,(function(t,e){void 0!==a&&a(t),c.addFeatures(t)}),l||r.c)}}},"70ZC":function(t,e,n){"use strict";var i=function(){function t(t){this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();e.a=i},"7F2G":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("qJEt"),r=n("G3IQ"),s=n("DiD3"),o=n("32tr"),a=n("wINb"),l=n("lRKV"),c=n("vog+");function h(t,e,n,i,r){var s,o,a,l,c,h,u,d,f,p=n,g=n,m=0,_=0,v=n;for(s=n;s<i;s+=r){var y=e[s],b=e[s+1];void 0!==l&&(d=y-l,f=b-c,a=Math.sqrt(d*d+f*f),void 0!==h&&(_+=o,Math.acos((h*d+u*f)/(o*a))>t&&(_>m&&(m=_,p=v,g=s),_=0,v=s-r)),o=a,h=d,u=f),l=y,c=b}return(_+=a)>m?[v,s]:[p,g]}var u,d=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},p=function(t){function e(e,n,i,r){var s=t.call(this,e,n,i,r)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return d(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var i=this.coordinates,o=i.length,l=t.getType(),u=null,d=t.getStride();if("line"!==n.placement||l!=s.a.LINE_STRING&&l!=s.a.MULTI_LINE_STRING&&l!=s.a.POLYGON&&l!=s.a.MULTI_POLYGON){var f=n.overflow?null:[];switch(l){case s.a.POINT:case s.a.MULTI_POINT:u=t.getFlatCoordinates();break;case s.a.LINE_STRING:u=t.getFlatMidpoint();break;case s.a.CIRCLE:u=t.getCenter();break;case s.a.MULTI_LINE_STRING:u=t.getFlatMidpoints(),d=2;break;case s.a.POLYGON:u=t.getFlatInteriorPoint(),n.overflow||f.push(u[2]/this.resolution),d=3;break;case s.a.MULTI_POLYGON:var p=t.getFlatInteriorPoints();for(u=[],O=0,S=p.length;O<S;O+=3)n.overflow||f.push(p[O+2]/this.resolution),u.push(p[O],p[O+1]);if(0===u.length)return;d=2}if((R=this.appendFlatPointCoordinates(u,d))===o)return;this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var g=n.padding;if(g!=a.k&&(n.scale[0]<0||n.scale[1]<0)){var m=n.padding[0],_=n.padding[1],v=n.padding[2],y=n.padding[3];n.scale[0]<0&&(_=-_,y=-y),n.scale[1]<0&&(m=-m,v=-v),g=[m,_,v,y]}var b=this.pixelRatio;this.instructions.push([r.c.DRAW_IMAGE,o,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,g==a.k?a.k:g.map((function(t){return t*b})),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);var w=1/b;this.hitDetectionInstructions.push([r.c.DRAW_IMAGE,o,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,this.declutterImageWithText_,g,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(e)}else{if(!Object(c.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var x=void 0;if(u=t.getFlatCoordinates(),l==s.a.LINE_STRING)x=[u.length];else if(l==s.a.MULTI_LINE_STRING)x=t.getEnds();else if(l==s.a.POLYGON)x=t.getEnds().slice(0,1);else if(l==s.a.MULTI_POLYGON){var C=t.getEndss();x=[];for(var O=0,S=C.length;O<S;++O)x.push(C[O][0])}this.beginGeometry(t,e);for(var k=n.textAlign,E=0,M=void 0,T=0,A=x.length;T<A;++T){if(null==k){var P=h(n.maxAngle,u,E,x[T],d);E=P[0],M=P[1]}else M=x[T];for(O=E;O<M;O+=d)i.push(u[O],u[O+1]);var R;E=x[T],this.drawChars_(o,R=i.length),o=R}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||a.m,textBaseline:e.textBaseline||a.n,scale:e.scale});var s=this.fillKey_;n&&(s in this.fillStates||(this.fillStates[s]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=f[i.textBaseline],h=this.textOffsetY_*l,u=this.text_,d=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([r.c.DRAW_CHARS,t,e,c,i.overflow,a,i.maxAngle,l,h,s,d*l,u,o,1]),this.hitDetectionInstructions.push([r.c.DRAW_CHARS,t,e,c,i.overflow,a,i.maxAngle,1,h,s,d,u,o,1/l])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){var s=t.getFill();s?((i=this.textFillState_)||(this.textFillState_=i={}),i.fillStyle=Object(o.a)(s.getColor()||a.c)):this.textFillState_=i=null;var c=t.getStroke();if(c){(r=this.textStrokeState_)||(this.textStrokeState_=r={});var h=c.getLineDash(),u=c.getLineDashOffset(),d=c.getWidth(),f=c.getMiterLimit();r.lineCap=c.getLineCap()||a.e,r.lineDash=h?h.slice():a.f,r.lineDashOffset=void 0===u?a.g:u,r.lineJoin=c.getLineJoin()||a.h,r.lineWidth=void 0===d?a.i:d,r.miterLimit=void 0===f?a.j:f,r.strokeStyle=Object(o.a)(c.getColor()||a.l)}else this.textStrokeState_=r=null;n=this.textState_;var p=t.getFont()||a.d;Object(a.s)(p);var g=t.getScaleArray();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||a.n,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||a.k,n.scale=void 0===g?[1,1]:g;var m=t.getOffsetX(),_=t.getOffsetY(),v=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===_?0:_,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===y?0:y,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(l.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Object(l.c)(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(i.a);e.b=p},"7r0Z":function(t,e,n){"use strict";e.a=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}},"8Az/":function(t,e,n){"use strict";e.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},"8JWR":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return h}));var i="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==i.indexOf("firefox"),s=(-1!==i.indexOf("safari")&&i.indexOf("chrom"),-1!==i.indexOf("webkit")&&-1==i.indexOf("edge")),o=-1!==i.indexOf("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,c="undefined"!=typeof Image&&Image.prototype.decode,h=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}()},"A5l+":function(t,e,n){"use strict";n.d(e,"a",(function(){return r.a})),n.d(e,"g",(function(){return A})),n.d(e,"h",(function(){return P})),n.d(e,"b",(function(){return I})),n.d(e,"d",(function(){return D})),n.d(e,"l",(function(){return L})),n.d(e,"c",(function(){return F})),n.d(e,"j",(function(){return N})),n.d(e,"i",(function(){return j})),n.d(e,"o",(function(){return z})),n.d(e,"p",(function(){return V})),n.d(e,"k",(function(){return B})),n.d(e,"m",(function(){return H})),n.d(e,"e",(function(){return U})),n.d(e,"n",(function(){return G})),n.d(e,"f",(function(){return W}));var i,r=n("zYA+"),s=n("xNT0"),o=n("0eRI"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=6378137*Math.PI,c=[-l,-l,l,l],h=[-180,-85,180,85],u=6378137*Math.log(Math.tan(Math.PI/2)),d=function(t){function e(e){return t.call(this,{code:e,units:r.b.METERS,extent:c,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/Object(o.b)(e[1]/6378137)}})||this}return a(e,t),e}(s.a),f=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")],p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=[-180,-90,180,90],m=6378137*Math.PI/180,_=function(t){function e(e,n){return t.call(this,{code:e,units:r.b.DEGREES,extent:g,axisOrientation:n,global:!0,metersPerUnit:m,worldExtent:g})||this}return p(e,t),e}(s.a),v=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],y={};n("QRdp");var b={};function w(t,e,n){var i=t.getCode(),r=e.getCode();i in b||(b[i]={}),b[i][r]=n}var x,C,O,S=n("vog+"),k=n("YPAp");function E(t,e,n){var i;if(void 0!==e){for(var r=0,s=t.length;r<s;++r)e[r]=t[r];i=e}else i=t.slice();return i}function M(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function T(t){!function(t,e){y[t]=e}(t.getCode(),t),w(t,t,E)}function A(t){return"string"==typeof t?y[e=t]||y[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function P(t,e,n,i){var s,o=(t=A(t)).getPointResolutionFunc();if(o)s=o(e,n),i&&i!==t.getUnits()&&(l=t.getMetersPerUnit())&&(s=s*l/r.a[i]);else{var a=t.getUnits();if(a==r.b.DEGREES&&!i||i==r.b.DEGREES)s=e;else{var l,c=N(t,A("EPSG:4326"));if(c===M&&a!==r.b.DEGREES)s=e*t.getMetersPerUnit();else{var h=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];h=c(h,h,2),s=(Object(k.a)(h.slice(0,2),h.slice(2,4))+Object(k.a)(h.slice(4,6),h.slice(6,8)))/2}void 0!==(l=i?r.a[i]:t.getMetersPerUnit())&&(s/=l)}}return s}function R(t){!function(t){t.forEach(T)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&w(e,t,E)}))}))}function I(t,e){return t?"string"==typeof t?A(t):t:A(e)}function D(t,e){return z(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function L(t,e){var n=z(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=Object(o.e)(i+180,360)-180),n}function F(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||N(t,e)===E)&&n}function N(t,e){var n,i,r,s=(n=t.getCode(),i=e.getCode(),n in b&&i in b[n]&&(r=b[n][i]),r);return s||(s=M),s}function j(t,e){return N(A(t),A(e))}function z(t,e,n){return j(e,n)(t,void 0,t.length)}function V(t,e,n,i){var r=j(e,n);return Object(S.a)(t,r,void 0,i)}function B(){return null}function H(t,e){return t}function U(t,e){return t}function G(t,e){return t}function W(t,e){return t}n("61KW"),R(f),R(v),x=f,C=function(t,e,n){var i=t.length,r=n>1?n:2,s=e;void 0===s&&(s=r>2?t.slice():new Array(i));for(var o=0;o<i;o+=r){s[o]=l*t[o]/180;var a=6378137*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));a>u?a=u:a<-u&&(a=-u),s[o+1]=a}return s},O=function(t,e,n){var i=t.length,r=n>1?n:2,s=e;void 0===s&&(s=r>2?t.slice():new Array(i));for(var o=0;o<i;o+=r)s[o]=180*t[o]/l,s[o+1]=360*Math.atan(Math.exp(t[o+1]/6378137))/Math.PI-90;return s},v.forEach((function(t){x.forEach((function(e){w(t,e,C),w(e,t,O)}))}))},AVlN:function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var i=n("7r0Z"),r=n("uVc0"),s=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(i.a);e.a=Object(r.a)(s)},AonO:function(t,e,n){"use strict";function i(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}n.d(e,"b",(function(){return i})),e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},AwwW:function(t,e,n){"use strict";var i=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();e.a=i},BasM:function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},BatM:function(t,e,n){"use strict";n.d(e,"b",(function(){return y}));var i,r=n("hatQ"),s=n("zYA+"),o=n("lRKV"),a=n("zqV8"),l=n("vog+"),c=n("A5l+"),h=n("h7by"),u=n("Trb+"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=Object(a.c)(),p=function(t){function e(){var e=t.call(this)||this;return e.extent_=Object(l.j)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=Object(h.d)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)})),e}return d(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Object(o.b)()},e.prototype.closestPointXY=function(t,e,n,i){return Object(o.b)()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(o.b)()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Object(l.l)(e),this.extentRevision_=this.getRevision()}return Object(l.I)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(o.b)()},e.prototype.scale=function(t,e,n){Object(o.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(o.b)()},e.prototype.getType=function(){return Object(o.b)()},e.prototype.applyTransform=function(t){Object(o.b)()},e.prototype.intersectsExtent=function(t){return Object(o.b)()},e.prototype.translate=function(t,e){Object(o.b)()},e.prototype.transform=function(t,e){var n=Object(c.g)(t),i=n.getUnits()==s.b.TILE_PIXELS?function(t,i,r){var s=n.getExtent(),o=n.getWorldExtent(),h=Object(l.A)(o)/Object(l.A)(s);return Object(a.b)(f,o[0],o[3],h,-h,0,0,0),Object(u.c)(t,0,t.length,r,f,i),Object(c.i)(n,e)(t,i,r)}:Object(c.i)(n,e);return this.applyTransform(i),this},e}(r.a),g=n("YibT"),m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(t){function e(){var e=t.call(this)||this;return e.layout=g.a.XY,e.stride=2,e.flatCoordinates=null,e}return m(e,t),e.prototype.computeExtent=function(t){return Object(l.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(o.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=v(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(o.b)()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=v(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=g.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=g.a.XY:3==t?e=g.a.XYZ:4==t&&(e=g.a.XYZM),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(u.a)(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=Object(l.x)(this.getExtent()));var s=this.getFlatCoordinates();if(s){var o=this.getStride();Object(u.b)(s,0,s.length,o,t,i,r,s),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(u.d)(n,0,n.length,i,t,e,n),this.changed()}},e}(p);function v(t){var e;return t==g.a.XY?e=2:t==g.a.XYZ||t==g.a.XYM?e=3:t==g.a.XYZM&&(e=4),e}function y(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return Object(u.c)(i,0,i.length,r,e,n)}return null}e.a=_},CBkX:function(t,e,n){"use strict";var i,r=n("d4DS"),s=n("gKRW"),o=n("SE7o"),a=n("32tr"),l=n("jekj"),c=n("wINb"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return h(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},e.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),n=Object(l.a)(e.size*t||1,e.size*t||1);this.draw_(e,n,0,0,t||1),this.canvas_[t||1]=n.canvas}return this.canvas_[t||1]},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return r.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.createRenderOptions=function(){var t,e=c.e,n=c.h,i=0,r=null,s=0,o=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=c.l),t=Object(a.a)(t),void 0===(o=this.stroke_.getWidth())&&(o=c.i),r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=c.h),void 0===(e=this.stroke_.getLineCap())&&(e=c.e),void 0===(i=this.stroke_.getMiterLimit())&&(i=c.j)),{strokeStyle:t,strokeWidth:o,size:2*(this.radius_+o)+1,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}},e.prototype.render=function(){var t=this.createRenderOptions(),e=Object(l.a)(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var n=e.canvas.width,i=n,r=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[n/2-r[0],n/2+r[1]],this.size_=[n,n],this.imageSize_=[i,i]},e.prototype.draw_=function(t,e,n,i,r){var s,o,l;e.setTransform(r,0,0,r,0,0),e.translate(n,i),e.beginPath();var h=this.points_;if(h===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(h*=2),s=0;s<=h;s++)o=2*s*Math.PI/h-Math.PI/2+this.angle_,e.lineTo(t.size/2+(l=s%2==0?this.radius_:u)*Math.cos(o),t.size/2+l*Math.sin(o))}if(this.fill_){var d=this.fill_.getColor();null===d&&(d=c.c),e.fillStyle=Object(a.a)(d),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Object(o.a)(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=Object(l.a)(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s=void 0!==this.radius2_?this.radius2_:this.radius_;s!==this.radius_&&(r*=2);var o=void 0,a=void 0,l=void 0;for(o=0;o<=r;o++)l=2*o*Math.PI/r-Math.PI/2+this.angle_,e.lineTo(t.size/2+(a=o%2==0?this.radius_:s)*Math.cos(l),t.size/2+a*Math.sin(l))}e.fillStyle=c.c,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(s.a);e.a=u},CJup:function(t,e,n){"use strict";var i,r=n("70ZC"),s=n("qsAS"),o=n("ynjL"),a=n("UqCr"),l=n("lRKV"),c=n("SHzd"),h=n("A5l+"),u=n("F52n"),d=n("dMtP"),f=n("yAfB"),p=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.tileGrid;return i&&Object(f.d)(i.getTileSize(i.getMinZoom()),[256,256]),n.tileCache=new o.a(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return p(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var s,o,l,c=!0,h=n.minX;h<=n.maxX;++h)for(var d=n.minY;d<=n.maxY;++d)o=Object(u.d)(e,h,d),l=!1,r.containsKey(o)&&(l=(s=r.get(o)).getState()===a.a.LOADED)&&(l=!1!==i(s)),l||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,r){return Object(l.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(d.d)(t)},e.prototype.getTileCacheForProjection=function(t){return Object(c.a)(Object(h.c)(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),s=Object(f.d)(i.getTileSize(t),this.tmpSize);return 1==r?s:Object(f.c)(s,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=Object(d.e)(i,t,n)),Object(u.f)(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,i){},e}(s.a),m=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return p(e,t),e}(r.a),_=g,v=n("0eRI");function y(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){return o?t.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(r,o[2].toString()).replace(s,(function(){var t=e.getFullTileRange(o[0]);return Object(c.a)(t,55),(t.getHeight()-o[2]-1).toString()})):void 0}}var b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),w=function(t){function e(n){var i=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(i.tileUrlFunction=n.tileUrlFunction),i.urls=null,n.urls?i.setUrls(n.urls):n.url&&i.setUrl(n.url),i.tileLoadingKeys_={},i}return b(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=Object(l.c)(n),r=n.getState();r==a.a.LOADING?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=r==a.a.ERROR?"tileloaderror":r==a.a.LOADED?"tileloadend":void 0),null!=e&&this.dispatchEvent(new m(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),r=n[2].charCodeAt(0),s=void 0;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(n[2],10),a=parseInt(n[1],10);a<=o;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=y(t[r],e);return function(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=Object(u.e)(e),s=Object(v.e)(r,t.length);return t[s](e,n,i)}}}(i)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var i=Object(u.d)(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(_);e.a=w},CtKy:function(t,e,n){"use strict";n.d(e,"b",(function(){return g}));var i,r=n("zhI0"),s=n("j/Z9"),o=n("leaD"),a=n("eXX1"),l=n("MMQm"),c=n("SHzd"),h=n("QRdp"),u=n("hatQ"),d=n("HK6I"),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=this,i=Object(h.a)({},e);return delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(Object(u.b)(o.a.SOURCE),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return f(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(o.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():l.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(d.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(d.a)(t,s.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(d.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(d.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(d.a)(t,a.a.PRECOMPOSE,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Object(c.a)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=Object(d.a)(this,s.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(o.a.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(r.a);function g(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}e.a=p},DiD3:function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},ENBV:function(t,e,n){"use strict";function i(t,e,n){var i=void 0!==n?t.toFixed(n):""+t,r=i.indexOf(".");return(r=-1===r?i.length:r)>e?i:new Array(1+e-r).join("0")+i}function r(t,e){for(var n=(""+t).split("."),i=(""+e).split("."),r=0;r<Math.max(n.length,i.length);r++){var s=parseInt(n[r]||"0",10),o=parseInt(i[r]||"0",10);if(s>o)return 1;if(o>s)return-1}return 0}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}))},"ENu+":function(t,e,n){"use strict";function i(t,e,n,i,r){for(var s,o=[t[e],t[e+1]],a=[];e+i<n;e+=i){if(a[0]=t[e+i],a[1]=t[e+i+1],s=r(o,a))return s;o[0]=a[0],o[1]=a[1]}return!1}n.d(e,"a",(function(){return i}))},F52n:function(t,e,n){"use strict";function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function s(t){return r(t[0],t[1],t[2])}function o(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function l(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var s=e.getFullTileRange(n);return!s||s.containsXY(i,r)}n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return l}))},FGo3:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},Fe00:function(t,e,n){"use strict";var i=n("fudy"),r=n("ejHg"),s=n("SHzd"),o=n("0eRI"),a=n("vog+"),l=n("F52n"),c=n("I/d5"),h=n("yAfB"),u=[0,0,0],d=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(s.a)(Object(c.d)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,o=this.resolutions_.length-1;n<o;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(s.a)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=Object(a.C)(l)),Object(s.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(s.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.b,Object(s.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new i.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(l){var r=this.getTileRangeForExtentAndZ(l,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):l&&this.calculateTileRanges_(l)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,s=i.maxX;r<=s;++r)for(var o=i.minY,a=i.maxY;o<=a;++o)n([e,r,o])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var s,o,a,l=null,c=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),s=Object(i.a)(o,o,a,a,n)):s=this.getTileRangeForExtentAndZ(l,c,n),e(c,s))return!0;--c}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],s=2*t[2];return Object(i.a)(r,r+1,s,s+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),s=Object(h.d)(this.getTileSize(t),this.tmpSize_),o=i[0]+e.minX*s[0]*r,l=i[0]+(e.maxX+1)*s[0]*r,c=i[1]+e.minY*s[1]*r,u=i[1]+(e.maxY+1)*s[1]*r;return Object(a.k)(o,c,l,u,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=u;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var s=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Object(i.a)(s,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Object(h.d)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(h.d)(this.getTileSize(t[0]),this.tmpSize_),s=n[0]+t[1]*r[0]*i,o=n[1]-(t[2]+1)*r[1]*i,l=s+r[0]*i,c=o+r[1]*i;return Object(a.k)(s,o,l,c,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var s=this.getZForResolution(n),o=n/this.getResolution(s),a=this.getOrigin(s),c=Object(h.d)(this.getTileSize(s),this.tmpSize_),u=i?.5:0,d=Math.floor((t-a[0])/n+(i?.5:0)),f=Math.floor((a[1]-e)/n+u),p=o*d/c[0],g=o*f/c[1];return i?(p=Math.ceil(p)-1,g=Math.ceil(g)-1):(p=Math.floor(p),g=Math.floor(g)),Object(l.a)(s,p,g,r)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var s=this.getOrigin(n),o=this.getResolution(n),a=Object(h.d)(this.getTileSize(n),this.tmpSize_),c=i?.5:0,u=Math.floor((t-s[0])/o+(i?.5:0)),d=Math.floor((s[1]-e)/o+c),f=u/a[0],p=d/a[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),Object(l.a)(n,f,p,r)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var n=Object(c.e)(this.resolutions_,t,e||0);return Object(o.a)(n,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();e.a=d},FlXx:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l})),n.d(e,"g",(function(){return u}));var i="ol-hidden",r="ol-selectable",s="ol-unselectable",o="ol-unsupported",a="ol-control",l="ol-collapsed",c=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),h=["style","variant","weight","size","lineHeight","family"],u=function(t){var e=t.match(c);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=h.length;i<r;++i){var s=e[i+1];void 0!==s&&(n[h[i]]=s)}return n.families=n.family.split(/,\s?/),n}},G3IQ:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL],s=[i.STROKE],o=[i.BEGIN_PATH],a=[i.CLOSE_PATH];e.c=i},GTHH:function(t,e,n){"use strict";n.r(e),n.d(e,"unByKey",(function(){return c}));var i,r=n("XnQF"),s=n("j/Z9"),o=n("HK6I"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return a(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(s.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=Object(o.a)(this,t[r],e);return i}return Object(o.a)(this,t,e)},e.prototype.once=function(t,e){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=Object(o.b)(this,t[r],e)}else n=Object(o.b)(this,t,e);return e.ol_key=n,n},e.prototype.un=function(t,e){var n=e.ol_key;if(n)c(n);else if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)},e}(r.a);function c(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Object(o.c)(t[e]);else Object(o.c)(t)}e.default=l},H40N:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i,r=n("nSfQ"),s=n("mm/l"),o=n("QRdp"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return a(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==s.a.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==s.a.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==s.a.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==s.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===s.a.POINTERDOWN||e===s.a.POINTERDRAG||e===s.a.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==s.a.POINTERUP?delete this.trackedPointers_[n]:(t.type==s.a.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Object(o.c)(this.trackedPointers_)}},e}(r.a);function c(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}e.b=l},H7S5:function(t,e,n){!function(t,e,n,i,r,s,o,a,l,c,h,u,d,f,p,g,m,_,v){"use strict";class y extends Error{}const b={CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10};class w{constructor(){this.enableDebugLog=!1,this._alreadyWarned={}}warn(t){return console&&(console.warn?console.warn(t):console.log&&console.log(t)),this}warnOnce(t){return this._alreadyWarned[t]||(this._alreadyWarned[t]=!0,x.warn(t)),this}debug(t){return this.enableDebugLog&&console&&(console.debug?console.debug(t):console.log&&console.log(t)),this}}const x=new w;class C{constructor(){this._defaultColors=C._schemeCategory20c,this.dateFormat=e.timeFormat("%m/%d/%Y"),this._renderlet=null,this.disableTransitions=!1}defaultColors(t){return arguments.length?(this._defaultColors=t,this):(this._defaultColors===C._schemeCategory20c&&x.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),this._defaultColors)}}C._schemeCategory20c=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];const O=new C,S=new class{constructor(){this._chartMap={}}_initializeChartGroup(t){return t||(t=b.DEFAULT_CHART_GROUP),this._chartMap[t]||(this._chartMap[t]=[]),t}has(t){for(const e in this._chartMap)if(this._chartMap[e].indexOf(t)>=0)return!0;return!1}register(t,e){this._chartMap[e=this._initializeChartGroup(e)].push(t)}deregister(t,e){e=this._initializeChartGroup(e);for(let n=0;n<this._chartMap[e].length;n++)if(this._chartMap[e][n].anchorName()===t.anchorName()){this._chartMap[e].splice(n,1);break}}clear(t){t?delete this._chartMap[t]:this._chartMap={}}list(t){return t=this._initializeChartGroup(t),this._chartMap[t]}},k=function(t,e){S.register(t,e)},E=function(t,e){S.deregister(t,e)},M=function(t){const e=S.list(t);for(let n=0;n<e.length;++n)e[n].render();null!==O._renderlet&&O._renderlet(t)},T=function(t){const e=S.list(t);for(let n=0;n<e.length;++n)e[n].redraw();null!==O._renderlet&&O._renderlet(t)},A=function(t,e,n,i){if(O.disableTransitions||e<=0)return t;let r=t.transition(i);return(e>=0||void 0!==e)&&(r=r.duration(e)),(n>=0||void 0!==n)&&(r=r.delay(n)),r},P=function(t,e,n,i){return t?function(t){return A(t,e,n,i)}:function(t){return t}},R=function(t){return t instanceof Object&&t.__dcFlag__&&!0},I={current:null,trigger:function(t,e){e?(I.current=t,setTimeout(()=>{t===I.current&&t()},e)):t()}},D={RangedFilter:function(t,e){const n=new Array(t,e);return n.isFiltered=function(t){return t>=this[0]&&t<this[1]},n.filterType="RangedFilter",n},TwoDimensionalFilter:function(t){if(null===t)return null;const e=t;return e.isFiltered=function(t){return t.length&&t.length===e.length&&t[0]===e[0]&&t[1]===e[1]},e.filterType="TwoDimensionalFilter",e},RangedTwoDimensionalFilter:function(t){if(null===t)return null;const e=t;let n;return n=e[0]instanceof Array?[[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1])],[Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]]:[[t[0],-1/0],[t[1],1/0]],e.isFiltered=function(t){let e,i;return t instanceof Array?(e=t[0],i=t[1]):(e=t,i=n[0][1]),e>=n[0][0]&&e<n[1][0]&&i>=n[0][1]&&i<n[1][1]},e.filterType="RangedTwoDimensionalFilter",e},HierarchyFilter:function(t){if(null===t)return null;const e=t.slice(0);return e.isFiltered=function(t){if(!(e.length&&t&&t.length&&t.length>=e.length))return!1;for(let n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},e}};class L extends Error{}const F=function(t,e){return e?function(n,i){return e.call(n,n[t],i)}:function(e){return e[t]}},N={printSingleValue:function(t){let e=""+t;return t instanceof Date?e=O.dateFormat(t):"string"==typeof t?e=t:N.isFloat(t)?e=N.printSingleValue.fformat(t):N.isInteger(t)&&(e=Math.round(t)),e}};N.printSingleValue.fformat=i.format(".2f"),N._toTimeFunc=function(t){return{second:n.timeSecond,minute:n.timeMinute,hour:n.timeHour,day:n.timeDay,week:n.timeWeek,month:n.timeMonth,year:n.timeYear}[t]},N.add=function(t,e,i){if("string"==typeof e&&(e=e.replace("%","")),t instanceof Date)return"string"==typeof e&&(e=+e),"millis"===i?new Date(t.getTime()+e):("function"!=typeof(i=i||n.timeDay)&&(i=N._toTimeFunc(i)),i.offset(t,e));if("string"==typeof e){const n=+e/100;return t>0?t*(1+n):t*(1-n)}return t+e},N.subtract=function(t,e,i){if("string"==typeof e&&(e=e.replace("%","")),t instanceof Date)return"string"==typeof e&&(e=+e),"millis"===i?new Date(t.getTime()-e):("function"!=typeof(i=i||n.timeDay)&&(i=N._toTimeFunc(i)),i.offset(t,-e));if("string"==typeof e){const n=+e/100;return t<0?t*(1+n):t*(1-n)}return t-e},N.isNumber=function(t){return t===+t},N.isFloat=function(t){return t===+t&&t!==(0|t)},N.isInteger=function(t){return t===+t&&t===(0|t)},N.isNegligible=function(t){return!N.isNumber(t)||t<b.NEGLIGIBLE_NUMBER&&t>-b.NEGLIGIBLE_NUMBER},N.clamp=function(t,e,n){return t<e?e:t>n?n:t},N.constant=function(t){return function(){return t}};let j=0;function z(t,e){for(let n=0;n<t.length;n++)if(t[n].key===e)return t[n]}N.uniqueId=function(){return++j},N.nameToId=function(t){return t.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},N.appendOrSelect=function(t,e,n){n=n||e;let i=t.select(e);return i.empty()&&(i=t.append(n)),i},N.safeNumber=function(t){return N.isNumber(+t)?+t:0},N.arraysEqual=function(t,e){return!t&&!e||!(!t||!e)&&t.length===e.length&&t.every((t,n)=>t.valueOf()===e[n].valueOf())},N.allChildren=function(t){let e=[];if(e.push(t.path),console.log("currentNode",t),t.children)for(let n=0;n<t.children.length;n++)e=e.concat(N.allChildren(t.children[n]));return e},N.toHierarchy=function(t,e){const n={key:"root",children:[]};for(let i=0;i<t.length;i++){const r=t[i],s=r.key,o=e(r);let a=n;for(let t=0;t<s.length;t++){const e=s.slice(0,t+1),n=a.children,i=s[t];let l;t+1<s.length?(l=z(n,i),void 0===l&&(l={key:i,children:[],path:e},n.push(l)),a=l):(l={key:i,value:o,data:r,path:e},n.push(l))}}return n},N.getAncestors=function(t){const e=[];let n=t;for(;n.parent;)e.unshift(n.name),n=n.parent;return e},N.arraysIdentical=function(t,e){let n=t.length;if(n!==e.length)return!1;for(;n--;)if(t[n]!==e[n])return!1;return!0};const V={filters:function(t){let e="";for(let n=0;n<t.length;++n)n>0&&(e+=", "),e+=V.filter(t[n]);return e},filter:function(t){let e="";return null!=t&&(t instanceof Array?t.length>=2?e=`[${t.map(t=>N.printSingleValue(t)).join(" -> ")}]`:t.length>=1&&(e=N.printSingleValue(t[0])):e=N.printSingleValue(t)),e}},B={integers:function(t,e){return Math.abs(e-t)},ordinal:function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},fp:{}};B.fp.precision=function(t){const e=function(t,n){const i=Math.abs((n-t)/e.resolution);return N.isNegligible(i-Math.floor(i))?Math.floor(i):Math.ceil(i)};return e.resolution=t,e};const H=(t,e)=>(0===e.length?t.filter(null):1!==e.length||e[0].isFiltered?1===e.length&&"RangedFilter"===e[0].filterType?t.filterRange(e[0]):t.filterFunction(t=>{for(let n=0;n<e.length;n++){const i=e[n];if(i.isFiltered){if(i.isFiltered(t))return!0}else if(i<=t&&i>=t)return!0}return!1}):t.filterExact(e[0]),e),U=(t,e)=>null==e?t.length>0:t.some(t=>e<=t&&e>=t),G=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n]<=e&&t[n]>=e){t.splice(n,1);break}return t},W=(t,e)=>(t.push(e),t),Y=t=>[];class q{constructor(){this.__dcFlag__=N.uniqueId(),this._dimension=void 0,this._group=void 0,this._anchor=void 0,this._root=void 0,this._svg=void 0,this._isChild=void 0,this._minWidth=200,this._defaultWidthCalc=t=>{const e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().width;return e&&e>this._minWidth?e:this._minWidth},this._widthCalc=this._defaultWidthCalc,this._minHeight=200,this._defaultHeightCalc=t=>{const e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().height;return e&&e>this._minHeight?e:this._minHeight},this._heightCalc=this._defaultHeightCalc,this._width=void 0,this._height=void 0,this._useViewBoxResizing=!1,this._keyAccessor=F("key"),this._valueAccessor=F("value"),this._label=F("key"),this._ordering=F("key"),this._renderLabel=!1,this._title=t=>`${this.keyAccessor()(t)}: ${this.valueAccessor()(t)}`,this._renderTitle=!0,this._controlsUseVisibility=!1,this._transitionDuration=750,this._transitionDelay=0,this._filterPrinter=V.filters,this._mandatoryAttributesList=["dimension","group"],this._chartGroup=b.DEFAULT_CHART_GROUP,this._listeners=s.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),this._legend=void 0,this._commitHandler=void 0,this._defaultData=t=>t.all(),this._data=this._defaultData,this._filters=[],this._filterHandler=H,this._hasFilterHandler=U,this._removeFilterHandler=G,this._addFilterHandler=W,this._resetFilterHandler=Y}height(t){return arguments.length?(this._heightCalc=t?"function"==typeof t?t:N.constant(t):this._defaultHeightCalc,this._height=void 0,this):(N.isNumber(this._height)||(this._height=this._heightCalc(this._root.node())),this._height)}width(t){return arguments.length?(this._widthCalc=t?"function"==typeof t?t:N.constant(t):this._defaultWidthCalc,this._width=void 0,this):(N.isNumber(this._width)||(this._width=this._widthCalc(this._root.node())),this._width)}minWidth(t){return arguments.length?(this._minWidth=t,this):this._minWidth}minHeight(t){return arguments.length?(this._minHeight=t,this):this._minHeight}useViewBoxResizing(t){return arguments.length?(this._useViewBoxResizing=t,this):this._useViewBoxResizing}dimension(t){return arguments.length?(this._dimension=t,this.expireCache(),this):this._dimension}data(t){return arguments.length?(this._data="function"==typeof t?t:N.constant(t),this.expireCache(),this):this._data(this._group)}group(t,e){return arguments.length?(this._group=t,this._groupName=e,this.expireCache(),this):this._group}ordering(t){return arguments.length?(this._ordering=t,this.expireCache(),this):this._ordering}_computeOrderedGroups(t){return Array.from(t).sort((t,e)=>o.ascending(this._ordering(t),this._ordering(e)))}filterAll(){return this.filter(null)}select(t){return this._root.select(t)}selectAll(t){return this._root?this._root.selectAll(t):null}anchor(t,e){if(!arguments.length)return this._anchor;if(R(t))this._anchor=t.anchor(),this._anchor.children&&(this._anchor="#"+t.anchorName()),this._root=t.root(),this._isChild=!0;else{if(!t)throw new y("parent must be defined");this._anchor=t.select&&t.classed?t.node():t,this._root=r.select(this._anchor),this._root.classed(b.CHART_CLASS,!0),k(this,e),this._isChild=!1}return this._chartGroup=e,this}anchorName(){const t=this.anchor();return t&&t.id?t.id:t&&t.replace?t.replace("#",""):"dc-chart"+this.chartID()}root(t){return arguments.length?(this._root=t,this):this._root}svg(t){return arguments.length?(this._svg=t,this):this._svg}resetSvg(){return this.select("svg").remove(),this.generateSvg()}sizeSvg(){this._svg&&(this._useViewBoxResizing?this._svg.attr("viewBox")||this._svg.attr("viewBox",`0 0 ${this.width()} ${this.height()}`):this._svg.attr("width",this.width()).attr("height",this.height()))}generateSvg(){return this._svg=this.root().append("svg"),this.sizeSvg(),this._svg}filterPrinter(t){return arguments.length?(this._filterPrinter=t,this):this._filterPrinter}controlsUseVisibility(t){return arguments.length?(this._controlsUseVisibility=t,this):this._controlsUseVisibility}turnOnControls(){if(this._root){const t=this.controlsUseVisibility()?"visibility":"display";this.selectAll(".reset").style(t,null),this.selectAll(".filter").text(this._filterPrinter(this.filters())).style(t,null)}return this}turnOffControls(){if(this._root){const t=this.controlsUseVisibility()?"visibility":"display",e=this.controlsUseVisibility()?"hidden":"none";this.selectAll(".reset").style(t,e),this.selectAll(".filter").style(t,e).text(this.filter())}return this}transitionDuration(t){return arguments.length?(this._transitionDuration=t,this):this._transitionDuration}transitionDelay(t){return arguments.length?(this._transitionDelay=t,this):this._transitionDelay}_mandatoryAttributes(t){return arguments.length?(this._mandatoryAttributesList=t,this):this._mandatoryAttributesList}checkForMandatoryAttributes(t){if(!this[t]||!this[t]())throw new L(`Mandatory attribute chart.${t} is missing on chart[#${this.anchorName()}]`)}render(){this._height=this._width=void 0,this._listeners.call("preRender",this,this),this._mandatoryAttributesList&&this._mandatoryAttributesList.forEach(t=>this.checkForMandatoryAttributes(t));const t=this._doRender();return this._legend&&this._legend.render(),this._activateRenderlets("postRender"),t}_activateRenderlets(t){this._listeners.call("pretransition",this,this),this.transitionDuration()>0&&this._svg?this._svg.transition().duration(this.transitionDuration()).delay(this.transitionDelay()).on("end",()=>{this._listeners.call("renderlet",this,this),t&&this._listeners.call(t,this,this)}):(this._listeners.call("renderlet",this,this),t&&this._listeners.call(t,this,this))}redraw(){this.sizeSvg(),this._listeners.call("preRedraw",this,this);const t=this._doRedraw();return this._legend&&this._legend.render(),this._activateRenderlets("postRedraw"),t}commitHandler(t){return arguments.length?(this._commitHandler=t,this):this._commitHandler}redrawGroup(){return this._commitHandler?this._commitHandler(!1,(t,e)=>{t?console.log(t):T(this.chartGroup())}):T(this.chartGroup()),this}renderGroup(){return this._commitHandler?this._commitHandler(!1,(t,e)=>{t?console.log(t):M(this.chartGroup())}):M(this.chartGroup()),this}_invokeFilteredListener(t){void 0!==t&&this._listeners.call("filtered",this,this,t)}_invokeZoomedListener(){this._listeners.call("zoomed",this,this)}hasFilterHandler(t){return arguments.length?(this._hasFilterHandler=t,this):this._hasFilterHandler}hasFilter(t){return this._hasFilterHandler(this._filters,t)}removeFilterHandler(t){return arguments.length?(this._removeFilterHandler=t,this):this._removeFilterHandler}addFilterHandler(t){return arguments.length?(this._addFilterHandler=t,this):this._addFilterHandler}resetFilterHandler(t){return arguments.length?(this._resetFilterHandler=t,this):this._resetFilterHandler}applyFilters(t){if(this.dimension()&&this.dimension().filter){const e=this._filterHandler(this.dimension(),t);e&&(t=e)}return t}replaceFilter(t){return this._filters=this._resetFilterHandler(this._filters),this.filter(t),this}filter(t){if(!arguments.length)return this._filters.length>0?this._filters[0]:null;let e=this._filters;return t instanceof Array&&t[0]instanceof Array&&!t.isFiltered?t[0].forEach(t=>{e=this._hasFilterHandler(e,t)?this._removeFilterHandler(e,t):this._addFilterHandler(e,t)}):e=null===t?this._resetFilterHandler(e):this._hasFilterHandler(e,t)?this._removeFilterHandler(e,t):this._addFilterHandler(e,t),this._filters=this.applyFilters(e),this._invokeFilteredListener(t),null!==this._root&&this.hasFilter()?this.turnOnControls():this.turnOffControls(),this}filters(){return this._filters}highlightSelected(t){r.select(t).classed(b.SELECTED_CLASS,!0),r.select(t).classed(b.DESELECTED_CLASS,!1)}fadeDeselected(t){r.select(t).classed(b.SELECTED_CLASS,!1),r.select(t).classed(b.DESELECTED_CLASS,!0)}resetHighlight(t){r.select(t).classed(b.SELECTED_CLASS,!1),r.select(t).classed(b.DESELECTED_CLASS,!1)}onClick(t){const e=this.keyAccessor()(t);I.trigger(()=>{this.filter(e),this.redrawGroup()})}filterHandler(t){return arguments.length?(this._filterHandler=t,this):this._filterHandler}_doRender(){return this}_doRedraw(){return this}legendables(){return[]}legendHighlight(){}legendReset(){}legendToggle(){}isLegendableHidden(){return!1}keyAccessor(t){return arguments.length?(this._keyAccessor=t,this):this._keyAccessor}valueAccessor(t){return arguments.length?(this._valueAccessor=t,this):this._valueAccessor}label(t,e){return arguments.length?(this._label=t,(void 0===e||e)&&(this._renderLabel=!0),this):this._label}renderLabel(t){return arguments.length?(this._renderLabel=t,this):this._renderLabel}title(t){return arguments.length?(this._title=t,this):this._title}renderTitle(t){return arguments.length?(this._renderTitle=t,this):this._renderTitle}chartGroup(t){return arguments.length?(this._isChild||E(this,this._chartGroup),this._chartGroup=t,this._isChild||k(this,this._chartGroup),this):this._chartGroup}expireCache(){return this}legend(t){return arguments.length?(this._legend=t,this._legend.parent(this),this):this._legend}chartID(){return this.__dcFlag__}options(t){const e=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(const n in t)"function"==typeof this[n]?t[n]instanceof Array&&-1!==e.indexOf(n)?this[n].apply(this,t[n]):this[n].call(this,t[n]):x.debug("Not a valid option setter name: "+n);return this}on(t,e){return this._listeners.on(t,e),this}renderlet(t){return x.warnOnce('chart.renderlet has been deprecated. Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),this.on("renderlet."+N.uniqueId(),t),this}}const X=t=>class extends t{constructor(){super(),this._colors=a.scaleOrdinal(O.defaultColors()),this._colorAccessor=t=>this.keyAccessor()(t),this._colorCalculator=void 0;{const t=this;t.getColor=function(e,n){return t._colorCalculator?t._colorCalculator.call(this,e,n):t._colors(t._colorAccessor.call(this,e,n))}}}calculateColorDomain(){const t=[o.min(this.data(),this.colorAccessor()),o.max(this.data(),this.colorAccessor())];return this._colors.domain(t),this}colors(t){return arguments.length?(this._colors=t instanceof Array?a.scaleQuantize().range(t):"function"==typeof t?t:N.constant(t),this):this._colors}ordinalColors(t){return this.colors(a.scaleOrdinal().range(t))}linearColors(t){return this.colors(a.scaleLinear().range(t).interpolate(l.interpolateHcl))}colorAccessor(t){return arguments.length?(this._colorAccessor=t,this):this._colorAccessor}colorDomain(t){return arguments.length?(this._colors.domain(t),this):this._colors.domain()}colorCalculator(t){return arguments.length?(this._colorCalculator=t,this):this._colorCalculator||this.getColor}};function $(t){return function(e,n){e&&e.target?t.call(this,n,e):t.call(this,e,r.event)}}function K({key:t,sortKeys:e,sortValues:n,entries:i}){return o.groups?function({key:t,sortKeys:e,sortValues:n,entries:i}){n&&(i=[...i].sort(n));let r=o.groups(i,t);return e&&(r=r.sort(e)),r.map(t=>({key:""+t[0],values:t[1]}))}({key:t,sortKeys:e,sortValues:n,entries:i}):function({key:t,sortKeys:e,sortValues:n,entries:i}){const r=c.nest().key(t);return e&&r.sortKeys(e),n&&r.sortValues(n),r.entries(i)}({key:t,sortKeys:e,sortValues:n,entries:i})}const Z=t=>class extends(X(t)){constructor(){super(),this._maxBubbleRelativeSize=.3,this._minRadiusWithLabel=10,this._sortBubbleSize=!1,this._elasticRadius=!1,this._excludeElasticZero=!0,this.BUBBLE_NODE_CLASS="node",this.BUBBLE_CLASS="bubble",this.MIN_RADIUS=10,this.renderLabel(!0),this.data(t=>{const e=t.all();if(this._sortBubbleSize){const t=this.radiusValueAccessor();e.sort((e,n)=>o.descending(t(e),t(n)))}return e}),this._r=a.scaleLinear().domain([0,100])}_rValueAccessor(t){return t.r}r(t){return arguments.length?(this._r=t,this):this._r}elasticRadius(t){return arguments.length?(this._elasticRadius=t,this):this._elasticRadius}calculateRadiusDomain(){this._elasticRadius&&this.r().domain([this.rMin(),this.rMax()])}radiusValueAccessor(t){return arguments.length?(this._rValueAccessor=t,this):this._rValueAccessor}rMin(){let t=this.data().map(this.radiusValueAccessor());return this._excludeElasticZero&&(t=t.filter(t=>t>0)),o.min(t)}rMax(){return o.max(this.data(),t=>this.radiusValueAccessor()(t))}bubbleR(t){const e=this.radiusValueAccessor()(t);let n=this.r()(e);return(isNaN(n)||e<=0)&&(n=0),n}_labelFunction(t){return this.label()(t)}_shouldLabel(t){return this.bubbleR(t)>this._minRadiusWithLabel}_labelOpacity(t){return this._shouldLabel(t)?1:0}_labelPointerEvent(t){return this._shouldLabel(t)?"all":"none"}_doRenderLabel(t){if(this.renderLabel()){let e=t.select("text");e.empty()&&(e=t.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",$(t=>this.onClick(t)))),e.attr("opacity",0).attr("pointer-events",t=>this._labelPointerEvent(t)).text(t=>this._labelFunction(t)),A(e,this.transitionDuration(),this.transitionDelay()).attr("opacity",t=>this._labelOpacity(t))}}doUpdateLabels(t){if(this.renderLabel()){const e=t.select("text").attr("pointer-events",t=>this._labelPointerEvent(t)).text(t=>this._labelFunction(t));A(e,this.transitionDuration(),this.transitionDelay()).attr("opacity",t=>this._labelOpacity(t))}}_titleFunction(t){return this.title()(t)}_doRenderTitles(t){this.renderTitle()&&t.select("title").empty()&&t.append("title").text(t=>this._titleFunction(t))}doUpdateTitles(t){this.renderTitle()&&t.select("title").text(t=>this._titleFunction(t))}sortBubbleSize(t){return arguments.length?(this._sortBubbleSize=t,this):this._sortBubbleSize}minRadius(t){return arguments.length?(this.MIN_RADIUS=t,this):this.MIN_RADIUS}minRadiusWithLabel(t){return arguments.length?(this._minRadiusWithLabel=t,this):this._minRadiusWithLabel}maxBubbleRelativeSize(t){return arguments.length?(this._maxBubbleRelativeSize=t,this):this._maxBubbleRelativeSize}excludeElasticZero(t){return arguments.length?(this._excludeElasticZero=t,this):this._excludeElasticZero}fadeDeselectedArea(t){if(this.hasFilter()){const t=this;this.selectAll("g."+t.BUBBLE_NODE_CLASS).each((function(e){t.isSelectedNode(e)?t.highlightSelected(this):t.fadeDeselected(this)}))}else{const t=this;this.selectAll("g."+t.BUBBLE_NODE_CLASS).each((function(){t.resetHighlight(this)}))}}isSelectedNode(t){return this.hasFilter(t.key)}onClick(t){const e=t.key;I.trigger(()=>{this.filter(e),this.redrawGroup()})}},Q=t=>class extends t{constructor(){super(),this._cap=1/0,this._takeFront=!0,this._othersLabel="Others",this._othersGrouper=(t,e)=>{const n=o.sum(e,this.valueAccessor()),i=e.map(this.keyAccessor());return n>0?t.concat([{others:i,key:this.othersLabel(),value:n}]):t},this.ordering(t=>-t.value),this.data(t=>{if(this._cap===1/0)return this._computeOrderedGroups(t.all());{let e,n=t.all();if(n=this._computeOrderedGroups(n),this._cap)if(this._takeFront)e=n.slice(this._cap),n=n.slice(0,this._cap);else{const t=Math.max(0,n.length-this._cap);e=n.slice(0,t),n=n.slice(t)}return this._othersGrouper?this._othersGrouper(n,e):n}})}cappedKeyAccessor(t,e){return t.others?t.key:this.keyAccessor()(t,e)}cappedValueAccessor(t,e){return t.others?t.value:this.valueAccessor()(t,e)}cap(t){return arguments.length?(this._cap=t,this):this._cap}takeFront(t){return arguments.length?(this._takeFront=t,this):this._takeFront}othersLabel(t){return arguments.length?(this._othersLabel=t,this):this._othersLabel}othersGrouper(t){return arguments.length?(this._othersGrouper=t,this):this._othersGrouper}onClick(t){t.others&&this.filter([t.others]),super.onClick(t)}};class J extends q{constructor(){super(),this._margin={top:10,right:50,bottom:30,left:30}}margins(t){return arguments.length?(this._margin=t,this):this._margin}effectiveWidth(){return this.width()-this.margins().left-this.margins().right}effectiveHeight(){return this.height()-this.margins().top-this.margins().bottom}}class tt extends(X(J)){constructor(){super(),this.colors(a.scaleOrdinal(h.schemeCategory10)),this._mandatoryAttributes().push("x"),this._parent=void 0,this._g=void 0,this._chartBodyG=void 0,this._x=void 0,this._origX=void 0,this._xOriginalDomain=void 0,this._xAxis=u.axisBottom(),this._xUnits=B.integers,this._xAxisPadding=0,this._xAxisPaddingUnit=n.timeDay,this._xElasticity=!1,this._xAxisLabel=void 0,this._xAxisLabelPadding=0,this._lastXDomain=void 0,this._y=void 0,this._yAxis=null,this._yAxisPadding=0,this._yElasticity=!1,this._yAxisLabel=void 0,this._yAxisLabelPadding=0,this._brush=f.brushX(),this._gBrush=void 0,this._brushOn=!0,this._parentBrushOn=!1,this._round=void 0,this._ignoreBrushEvents=!1,this._renderHorizontalGridLine=!1,this._renderVerticalGridLine=!1,this._resizing=!1,this._unitCount=void 0,this._zoomScale=[1,1/0],this._zoomOutRestrict=!0,this._zoom=d.zoom().on("zoom",$((t,e)=>this._onZoom(e))),this._nullZoom=d.zoom().on("zoom",null),this._hasBeenMouseZoomable=!1,this._ignoreZoomEvents=!1,this._rangeChart=void 0,this._focusChart=void 0,this._mouseZoomable=!1,this._clipPadding=0,this._fOuterRangeBandPadding=.5,this._fRangeBandPadding=0,this._useRightYAxis=!1}rescale(){return this._unitCount=void 0,this._resizing=!0,this}resizing(t){return arguments.length?(this._resizing=t,this):this._resizing}rangeChart(t){return arguments.length?(this._rangeChart=t,this._rangeChart.focusChart(this),this):this._rangeChart}zoomScale(t){return arguments.length?(this._zoomScale=t,this):this._zoomScale}zoomOutRestrict(t){return arguments.length?(this._zoomOutRestrict=t,this):this._zoomOutRestrict}_generateG(t){this._parent=void 0===t?this.svg():t;const e=window.location.href.split("#")[0];return this._g=this._parent.append("g"),this._chartBodyG=this._g.append("g").attr("class","chart-body").attr("transform",`translate(${this.margins().left}, ${this.margins().top})`).attr("clip-path",`url(${e}#${this._getClipPathId()})`),this._g}g(t){return arguments.length?(this._g=t,this):this._g}mouseZoomable(t){return arguments.length?(this._mouseZoomable=t,this):this._mouseZoomable}chartBodyG(t){return arguments.length?(this._chartBodyG=t,this):this._chartBodyG}x(t){return arguments.length?(this._x=t,this._xOriginalDomain=this._x.domain(),this.rescale(),this):this._x}xOriginalDomain(){return this._xOriginalDomain}xUnits(t){return arguments.length?(this._xUnits=t,this):this._xUnits}xAxis(t){return arguments.length?(this._xAxis=t,this):this._xAxis}elasticX(t){return arguments.length?(this._xElasticity=t,this):this._xElasticity}xAxisPadding(t){return arguments.length?(this._xAxisPadding=t,this):this._xAxisPadding}xAxisPaddingUnit(t){return arguments.length?(this._xAxisPaddingUnit=t,this):this._xAxisPaddingUnit}xUnitCount(){return void 0===this._unitCount&&(this.isOrdinal()?this._unitCount=this.x().domain().length:(this._unitCount=this.xUnits()(this.x().domain()[0],this.x().domain()[1]),this._unitCount instanceof Array&&(this._unitCount=this._unitCount.length))),this._unitCount}useRightYAxis(t){return arguments.length?(this._useRightYAxis!==t&&this._yAxis&&x.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),this._useRightYAxis=t,this):this._useRightYAxis}isOrdinal(){return this.xUnits()===B.ordinal}_useOuterPadding(){return!0}_ordinalXDomain(){return this._computeOrderedGroups(this.data()).map(this.keyAccessor())}_prepareXAxis(t,e){this.isOrdinal()?(this._x.bandwidth||(x.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),this._x=a.scaleBand().domain(this._x.domain())),(this.elasticX()||0===this._x.domain().length)&&this._x.domain(this._ordinalXDomain())):this.elasticX()&&this._x.domain([this.xAxisMin(),this.xAxisMax()]);const n=this._x.domain();!e&&N.arraysEqual(this._lastXDomain,n)||this.rescale(),this._lastXDomain=n,this.isOrdinal()?this._x.range([0,this.xAxisLength()]).paddingInner(this._fRangeBandPadding).paddingOuter(this._useOuterPadding()?this._fOuterRangeBandPadding:0):this._x.range([0,this.xAxisLength()]),this._xAxis=this._xAxis.scale(this.x()),this._renderVerticalGridLines(t)}renderXAxis(t){let e=t.select("g.x");e.empty()&&(e=t.append("g").attr("class","axis x").attr("transform",`translate(${this.margins().left},${this._xAxisY()})`));let n=t.select("text.x-axis-label");n.empty()&&this.xAxisLabel()&&(n=t.append("text").attr("class","x-axis-label").attr("transform",`translate(${this.margins().left+this.xAxisLength()/2},${this.height()-this._xAxisLabelPadding})`).attr("text-anchor","middle")),this.xAxisLabel()&&n.text()!==this.xAxisLabel()&&n.text(this.xAxisLabel()),A(e,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.margins().left},${this._xAxisY()})`).call(this._xAxis),A(n,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.margins().left+this.xAxisLength()/2},${this.height()-this._xAxisLabelPadding})`)}_renderVerticalGridLines(t){let e=t.select("g.vertical");if(this._renderVerticalGridLine){e.empty()&&(e=t.insert("g",":first-child").attr("class","grid-line vertical").attr("transform",`translate(${this.margins().left},${this.margins().top})`));const n=this._xAxis.tickValues()?this._xAxis.tickValues():"function"==typeof this._x.ticks?this._x.ticks.apply(this._x,this._xAxis.tickArguments()):this._x.domain(),i=e.selectAll("line").data(n),r=i.enter().append("line").attr("x1",t=>this._x(t)).attr("y1",this._xAxisY()-this.margins().top).attr("x2",t=>this._x(t)).attr("y2",0).attr("opacity",0);A(r,this.transitionDuration(),this.transitionDelay()).attr("opacity",.5),A(i,this.transitionDuration(),this.transitionDelay()).attr("x1",t=>this._x(t)).attr("y1",this._xAxisY()-this.margins().top).attr("x2",t=>this._x(t)).attr("y2",0),i.exit().remove()}else e.selectAll("line").remove()}_xAxisY(){return this.height()-this.margins().bottom}xAxisLength(){return this.effectiveWidth()}xAxisLabel(t,e){return arguments.length?(this._xAxisLabel=t,this.margins().bottom-=this._xAxisLabelPadding,this._xAxisLabelPadding=void 0===e?12:e,this.margins().bottom+=this._xAxisLabelPadding,this):this._xAxisLabel}_createYAxis(){return this._useRightYAxis?u.axisRight():u.axisLeft()}_prepareYAxis(t){if(void 0===this._y||this.elasticY()){void 0===this._y&&(this._y=a.scaleLinear());const t=this.yAxisMin()||0,e=this.yAxisMax()||0;this._y.domain([t,e]).rangeRound([this.yAxisHeight(),0])}this._y.range([this.yAxisHeight(),0]),this._yAxis||(this._yAxis=this._createYAxis()),this._yAxis.scale(this._y),this._renderHorizontalGridLinesForAxis(t,this._y,this._yAxis)}renderYAxisLabel(t,e,n,i){i=i||this._yAxisLabelPadding;let r=this.g().select(`text.y-axis-label.${t}-label`);const s=this.margins().top+this.yAxisHeight()/2;r.empty()&&e&&(r=this.g().append("text").attr("transform",`translate(${i},${s}),rotate(${n})`).attr("class",`y-axis-label ${t}-label`).attr("text-anchor","middle").text(e)),e&&r.text()!==e&&r.text(e),A(r,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${i},${s}),rotate(${n})`)}renderYAxisAt(t,e,n){let i=this.g().select("g."+t);i.empty()&&(i=this.g().append("g").attr("class","axis "+t).attr("transform",`translate(${n},${this.margins().top})`)),A(i,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${n},${this.margins().top})`).call(e)}renderYAxis(){const t=this._useRightYAxis?this.width()-this.margins().right:this._yAxisX();this.renderYAxisAt("y",this._yAxis,t);const e=this._useRightYAxis?this.width()-this._yAxisLabelPadding:this._yAxisLabelPadding,n=this._useRightYAxis?90:-90;this.renderYAxisLabel("y",this.yAxisLabel(),n,e)}_renderHorizontalGridLinesForAxis(t,e,n){let i=t.select("g.horizontal");if(this._renderHorizontalGridLine){const r=n.tickValues()?n.tickValues():e.ticks?e.ticks.apply(e,n.tickArguments()):e.domain();i.empty()&&(i=t.insert("g",":first-child").attr("class","grid-line horizontal").attr("transform",`translate(${this.margins().left},${this.margins().top})`));const s=i.selectAll("line").data(r),o=s.enter().append("line").attr("x1",1).attr("y1",t=>e(t)).attr("x2",this.xAxisLength()).attr("y2",t=>e(t)).attr("opacity",0);A(o,this.transitionDuration(),this.transitionDelay()).attr("opacity",.5),A(s,this.transitionDuration(),this.transitionDelay()).attr("x1",1).attr("y1",t=>e(t)).attr("x2",this.xAxisLength()).attr("y2",t=>e(t)),s.exit().remove()}else i.selectAll("line").remove()}_yAxisX(){return this.useRightYAxis()?this.width()-this.margins().right:this.margins().left}yAxisLabel(t,e){return arguments.length?(this._yAxisLabel=t,this.margins().left-=this._yAxisLabelPadding,this._yAxisLabelPadding=void 0===e?12:e,this.margins().left+=this._yAxisLabelPadding,this):this._yAxisLabel}y(t){return arguments.length?(this._y=t,this.rescale(),this):this._y}yAxis(t){return arguments.length?(this._yAxis=t,this):(this._yAxis||(this._yAxis=this._createYAxis()),this._yAxis)}elasticY(t){return arguments.length?(this._yElasticity=t,this):this._yElasticity}renderHorizontalGridLines(t){return arguments.length?(this._renderHorizontalGridLine=t,this):this._renderHorizontalGridLine}renderVerticalGridLines(t){return arguments.length?(this._renderVerticalGridLine=t,this):this._renderVerticalGridLine}xAxisMin(){const t=o.min(this.data(),t=>this.keyAccessor()(t));return N.subtract(t,this._xAxisPadding,this._xAxisPaddingUnit)}xAxisMax(){const t=o.max(this.data(),t=>this.keyAccessor()(t));return N.add(t,this._xAxisPadding,this._xAxisPaddingUnit)}yAxisMin(){const t=o.min(this.data(),t=>this.valueAccessor()(t));return N.subtract(t,this._yAxisPadding)}yAxisMax(){const t=o.max(this.data(),t=>this.valueAccessor()(t));return N.add(t,this._yAxisPadding)}yAxisPadding(t){return arguments.length?(this._yAxisPadding=t,this):this._yAxisPadding}yAxisHeight(){return this.effectiveHeight()}round(t){return arguments.length?(this._round=t,this):this._round}_rangeBandPadding(t){return arguments.length?(this._fRangeBandPadding=t,this):this._fRangeBandPadding}_outerRangeBandPadding(t){return arguments.length?(this._fOuterRangeBandPadding=t,this):this._fOuterRangeBandPadding}filter(t){return arguments.length?(super.filter(t),this.redrawBrush(t,!1),this):super.filter()}brush(t){return arguments.length?(this._brush=t,this):this._brush}renderBrush(t,e){this._brushOn&&(this._brush.on("start brush end",$((t,e)=>this._brushing(e))),this._gBrush=t.append("g").attr("class","brush").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this.setBrushExtents(),this.createBrushHandlePaths(this._gBrush,e),this.redrawBrush(this.filter(),e))}createBrushHandlePaths(t){let e=t.selectAll("path.custom-brush-handle").data([{type:"w"},{type:"e"}]);e=e.enter().append("path").attr("class","custom-brush-handle").merge(e),e.attr("d",t=>this.resizeHandlePath(t))}extendBrush(t){return t&&this.round()&&(t[0]=this.round()(t[0]),t[1]=this.round()(t[1])),t}brushIsEmpty(t){return!t||t[1]<=t[0]}_brushing(t){if(this._ignoreBrushEvents)return;let e=t.selection;e&&(e=e.map(this.x().invert)),e=this.extendBrush(e),this.redrawBrush(e,!1);const n=this.brushIsEmpty(e)?null:D.RangedFilter(e[0],e[1]);I.trigger(()=>{this.applyBrushSelection(n)},b.EVENT_DELAY)}applyBrushSelection(t){this.replaceFilter(t),this.redrawGroup()}_withoutBrushEvents(t){const e=this._ignoreBrushEvents;this._ignoreBrushEvents=!0;try{t()}finally{this._ignoreBrushEvents=e}}setBrushExtents(t){this._withoutBrushEvents(()=>{this._brush.extent([[0,0],[this.effectiveWidth(),this.effectiveHeight()]])}),this._gBrush.call(this._brush)}redrawBrush(t,e){if(this._brushOn&&this._gBrush)if(this._resizing&&this.setBrushExtents(e),t){const n=[this._x(t[0]),this._x(t[1])],i=P(e,this.transitionDuration(),this.transitionDelay())(this._gBrush);this._withoutBrushEvents(()=>{i.call(this._brush.move,n)}),i.selectAll("path.custom-brush-handle").attr("display",null).attr("transform",(e,n)=>`translate(${this._x(t[n])}, 0)`).attr("d",t=>this.resizeHandlePath(t))}else this._withoutBrushEvents(()=>{this._gBrush.call(this._brush.move,null)}),this._gBrush.selectAll("path.custom-brush-handle").attr("display","none");this.fadeDeselectedArea(t)}fadeDeselectedArea(t){}resizeHandlePath(t){const e=+("e"===(t=t.type)),n=e?1:-1,i=this.effectiveHeight()/3;return`M${.5*n},${i}A6,6 0 0 ${e} ${6.5*n},${i+6}V${2*i-6}A6,6 0 0 ${e} ${.5*n},${2*i}ZM${2.5*n},${i+8}V${2*i-8}M${4.5*n},${i+8}V${2*i-8}`}_getClipPathId(){return this.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}clipPadding(t){return arguments.length?(this._clipPadding=t,this):this._clipPadding}_generateClipPath(){const t=N.appendOrSelect(this._parent,"defs"),e=this._getClipPathId(),n=N.appendOrSelect(t,"#"+e,"clipPath").attr("id",e),i=2*this._clipPadding;N.appendOrSelect(n,"rect").attr("width",this.xAxisLength()+i).attr("height",this.yAxisHeight()+i).attr("transform",`translate(-${this._clipPadding}, -${this._clipPadding})`)}_preprocessData(){}_doRender(){return this.resetSvg(),this._preprocessData(),this._generateG(),this._generateClipPath(),this._drawChart(!0),this._configureMouseZoom(),this}_doRedraw(){return this._preprocessData(),this._drawChart(!1),this._generateClipPath(),this}_drawChart(t){this.isOrdinal()&&(this._brushOn=!1),this._prepareXAxis(this.g(),t),this._prepareYAxis(this.g()),this.plotData(),(this.elasticX()||this._resizing||t)&&this.renderXAxis(this.g()),(this.elasticY()||this._resizing||t)&&this.renderYAxis(this.g()),t?this.renderBrush(this.g(),!1):this.redrawBrush(this.filter(),this._resizing),this.fadeDeselectedArea(this.filter()),this.resizing(!1)}_configureMouseZoom(){this._origX=this._x.copy(),this._mouseZoomable?this._enableMouseZoom():this._hasBeenMouseZoomable&&this._disableMouseZoom()}_enableMouseZoom(){this._hasBeenMouseZoomable=!0;const t=[[0,0],[this.effectiveWidth(),this.effectiveHeight()]];if(this._zoom.scaleExtent(this._zoomScale).extent(t).duration(this.transitionDuration()),this._zoomOutRestrict){const e=Math.max(this._zoomScale[0],1);this._zoom.translateExtent(t).scaleExtent([e,this._zoomScale[1]])}this.root().call(this._zoom),this._updateD3zoomTransform()}_disableMouseZoom(){this.root().call(this._nullZoom)}_zoomHandler(t,e){let n;this._hasRangeSelected(t)?(this.x().domain(t),n=D.RangedFilter(t[0],t[1])):(this.x().domain(this._xOriginalDomain),n=null),this.replaceFilter(n),this.rescale(),this.redraw(),e||(this._rangeChart&&!N.arraysEqual(this.filter(),this._rangeChart.filter())&&I.trigger(()=>{this._rangeChart.replaceFilter(n),this._rangeChart.redraw()}),this._invokeZoomedListener(),I.trigger(()=>{this.redrawGroup()},b.EVENT_DELAY))}_domainToZoomTransform(t,e,n){const i=(e[1]-e[0])/(t[1]-t[0]),r=-1*n(t[0]);return d.zoomIdentity.scale(i).translate(r,0)}_updateD3zoomTransform(){this._zoom&&this._withoutZoomEvents(()=>{this._zoom.transform(this.root(),this._domainToZoomTransform(this.x().domain(),this._xOriginalDomain,this._origX))})}_withoutZoomEvents(t){const e=this._ignoreZoomEvents;this._ignoreZoomEvents=!0;try{t()}finally{this._ignoreZoomEvents=e}}_onZoom(t){if(this._ignoreZoomEvents)return;const e=t.transform.rescaleX(this._origX).domain();this.focus(e,!1)}_checkExtents(t,e){return t&&2===t.length&&e&&2===e.length?((t[0]>e[1]||t[1]<e[0])&&console.warn("Could not intersect extents, will reset"),[t[0]>e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1]]):t}focus(t,e){this._zoomOutRestrict&&(t=this._checkExtents(t,this._xOriginalDomain),this._rangeChart&&(t=this._checkExtents(t,this._rangeChart.x().domain()))),this._zoomHandler(t,e),this._updateD3zoomTransform()}refocused(){return!N.arraysEqual(this.x().domain(),this._xOriginalDomain)}focusChart(t){return arguments.length?(this._focusChart=t,this.on("filtered.dcjs-range-chart",t=>{t.filter()?N.arraysEqual(t.filter(),this._focusChart.filter())||I.trigger(()=>{this._focusChart.focus(t.filter(),!0)}):I.trigger(()=>{this._focusChart.x().domain(this._focusChart.xOriginalDomain(),!0)})}),this):this._focusChart}brushOn(t){return arguments.length?(this._brushOn=t,this):this._brushOn}parentBrushOn(t){return arguments.length?(this._parentBrushOn=t,this):this._parentBrushOn}gBrush(){return this._gBrush}_hasRangeSelected(t){return t instanceof Array&&t.length>1}}const et=function(){let t=1,e=1,n=0,i=null,s=Number,l=nt,c=it,h=null,u=!1,d=.3,f=.8,g=!1,m=!0,_=!1;function v(v){v.each((function(p,v){p=p.map(s).sort(o.ascending);const y=r.select(this),b=p.length;let w,x;if(0===b)return;const C=p.quartiles=c(p),O=l&&l.call(this,p,v),S=O&&O.map(t=>p[t]),k=O?o.range(0,O[0]).concat(o.range(O[1]+1,b)):o.range(b);m?(w=p[0],x=p[b-1]):(w=p[O[0]],x=p[O[1]]);const E=o.range(O[0],O[1]+1),M=a.scaleLinear().domain(i&&i.call(this,p,v)||[w,x]).range([e,0]),T=this.__chart__||a.scaleLinear().domain([0,1/0]).range(M.range());this.__chart__=M;const A=y.selectAll("line.center").data(S?[S]:[]);A.enter().insert("line","rect").attr("class","center").attr("x1",t/2).attr("y1",t=>T(t[0])).attr("x2",t/2).attr("y2",t=>T(t[1])).style("opacity",1e-6).transition().duration(n).delay(0).style("opacity",1).attr("y1",t=>M(t[0])).attr("y2",t=>M(t[1])),A.transition().duration(n).delay(0).style("opacity",1).attr("x1",t/2).attr("x2",t/2).attr("y1",t=>M(t[0])).attr("y2",t=>M(t[1])),A.exit().transition().duration(n).delay(0).style("opacity",1e-6).attr("y1",t=>M(t[0])).attr("y2",t=>M(t[1])).remove();const P=y.selectAll("rect.box").data([C]);P.enter().append("rect").attr("class","box").attr("x",0).attr("y",t=>T(t[2])).attr("width",t).attr("height",t=>T(t[0])-T(t[2])).style("fill-opacity",u?.1:1).transition().duration(n).delay(0).attr("y",t=>M(t[2])).attr("height",t=>M(t[0])-M(t[2])),P.transition().duration(n).delay(0).attr("width",t).attr("y",t=>M(t[2])).attr("height",t=>M(t[0])-M(t[2]));const R=y.selectAll("line.median").data([C[1]]);R.enter().append("line").attr("class","median").attr("x1",0).attr("y1",T).attr("x2",t).attr("y2",T).transition().duration(n).delay(0).attr("y1",M).attr("y2",M),R.transition().duration(n).delay(0).attr("x1",0).attr("x2",t).attr("y1",M).attr("y2",M);const I=y.selectAll("line.whisker").data(S||[]);if(I.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",T).attr("x2",t).attr("y2",T).style("opacity",1e-6).transition().duration(n).delay(0).attr("y1",M).attr("y2",M).style("opacity",1),I.transition().duration(n).delay(0).attr("x1",0).attr("x2",t).attr("y1",M).attr("y2",M).style("opacity",1),I.exit().transition().duration(n).delay(0).attr("y1",M).attr("y2",M).style("opacity",1e-6).remove(),m){const e=_?"outlierBold":"outlier",i=_?3:5,r=_?function(){return Math.floor(Math.random()*(t*f)+1+(t-t*f)/2)}:function(){return t/2},s=y.selectAll("circle."+e).data(k,Number);s.enter().insert("circle","text").attr("class",e).attr("r",i).attr("cx",r).attr("cy",t=>T(p[t])).style("opacity",1e-6).transition().duration(n).delay(0).attr("cy",t=>M(p[t])).style("opacity",.6),g&&(s.selectAll("title").remove(),s.append("title").text(t=>p[t])),s.transition().duration(n).delay(0).attr("cx",r).attr("cy",t=>M(p[t])).style("opacity",.6),s.exit().transition().duration(n).delay(0).attr("cy",0).style("opacity",1e-6).remove()}if(u){const e=y.selectAll("circle.data").data(E);e.enter().insert("circle","text").attr("class","data").attr("r",3).attr("cx",()=>Math.floor(Math.random()*(t*f)+1+(t-t*f)/2)).attr("cy",t=>T(p[t])).style("opacity",1e-6).transition().duration(n).delay(0).attr("cy",t=>M(p[t])).style("opacity",d),g&&(e.selectAll("title").remove(),e.append("title").text(t=>p[t])),e.transition().duration(n).delay(0).attr("cx",()=>Math.floor(Math.random()*(t*f)+1+(t-t*f)/2)).attr("cy",t=>M(p[t])).style("opacity",d),e.exit().transition().duration(n).delay(0).attr("cy",0).style("opacity",1e-6).remove()}const D=h||M.tickFormat(8),L=y.selectAll("text.box").data(C);L.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",(t,e)=>1&e?6:-6).attr("x",(e,n)=>1&n?t:0).attr("y",T).attr("text-anchor",(t,e)=>1&e?"start":"end").text(D).transition().duration(n).delay(0).attr("y",M),L.transition().duration(n).delay(0).text(D).attr("x",(e,n)=>1&n?t:0).attr("y",M);const F=y.selectAll("text.whisker").data(S||[]);F.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",t).attr("y",T).text(D).style("opacity",1e-6).transition().duration(n).delay(0).attr("y",M).style("opacity",1),F.transition().duration(n).delay(0).text(D).attr("x",t).attr("y",M).style("opacity",1),F.exit().transition().duration(n).delay(0).attr("y",M).style("opacity",1e-6).remove(),delete p.quartiles})),p.timerFlush()}return v.width=function(e){return arguments.length?(t=e,v):t},v.height=function(t){return arguments.length?(e=t,v):e},v.tickFormat=function(t){return arguments.length?(h=t,v):h},v.showOutliers=function(t){return arguments.length?(m=t,v):m},v.boldOutlier=function(t){return arguments.length?(_=t,v):_},v.renderDataPoints=function(t){return arguments.length?(u=t,v):u},v.renderTitle=function(t){return arguments.length?(g=t,v):g},v.dataOpacity=function(t){return arguments.length?(d=t,v):d},v.dataWidthPortion=function(t){return arguments.length?(f=t,v):f},v.duration=function(t){return arguments.length?(n=t,v):n},v.domain=function(t){return arguments.length?(i=null===t||"function"==typeof t?t:N.constant(t),v):i},v.value=function(t){return arguments.length?(s=t,v):s},v.whiskers=function(t){return arguments.length?(l=t,v):l},v.quartiles=function(t){return arguments.length?(c=t,v):c},v};function nt(t){return[0,t.length-1]}function it(t){return[o.quantile(t,.25),o.quantile(t,.5),o.quantile(t,.75)]}class rt extends tt{constructor(){super(),this._stackLayout=g.stack(),this._stack=[],this._titles={},this._hidableStacks=!1,this._evadeDomainFilter=!1,this.data(()=>{const t=this._stack.filter(this._visibility);if(!t.length)return[];t.forEach((t,e)=>this._prepareValues(t,e));const e=t[0].values.map((e,n)=>{const i={x:e.x};return t.forEach(t=>{i[t.name]=t.values[n].y}),i}),n=t.map(t=>t.name);return this.stackLayout().keys(n)(e).forEach((e,n)=>{e.forEach((e,i)=>{t[n].values[i].y0=e[0],t[n].values[i].y1=e[1]})}),t}),this.colorAccessor((function(t){return this.layer||this.name||t.name||t.layer}))}_prepareValues(t,e){const n=t.accessor||this.valueAccessor();t.name=String(t.name||e);const i=t.group.all().map((e,i)=>({x:this.keyAccessor()(e,i),y:t.hidden?null:n(e,i),data:e,layer:t.name,hidden:t.hidden}));t.domainValues=i.filter(t=>this._domainFilter()(t)),t.values=this.evadeDomainFilter()?i:t.domainValues}_domainFilter(){if(!this.x())return N.constant(!0);const t=this.x().domain();return this.isOrdinal()||this.elasticX()?()=>!0:e=>e.x>=t[0]&&e.x<=t[t.length-1]}stack(t,e,n){if(!arguments.length)return this._stack;arguments.length<=2&&(n=e);const i={group:t};return"string"==typeof e&&(i.name=e),"function"==typeof n&&(i.accessor=n),this._stack.push(i),this}group(t,e,n){return arguments.length?(this._stack=[],this._titles={},this.stack(t,e),n&&this.valueAccessor(n),super.group(t,e)):super.group()}hidableStacks(t){return arguments.length?(this._hidableStacks=t,this):this._hidableStacks}_findLayerByName(t){const e=this._stack.map(F("name")).indexOf(t);return this._stack[e]}hideStack(t){const e=this._findLayerByName(t);return e&&(e.hidden=!0),this}showStack(t){const e=this._findLayerByName(t);return e&&(e.hidden=!1),this}getValueAccessorByIndex(t){return this._stack[t].accessor||this.valueAccessor()}yAxisMin(){const t=o.min(this._flattenStack(),t=>t.y<0?t.y+t.y0:t.y0);return N.subtract(t,this.yAxisPadding())}yAxisMax(){const t=o.max(this._flattenStack(),t=>t.y>0?t.y+t.y0:t.y0);return N.add(t,this.yAxisPadding())}_flattenStack(){const t=this.data().map(t=>t.domainValues);return[].concat(...t)}xAxisMin(){const t=o.min(this._flattenStack(),F("x"));return N.subtract(t,this.xAxisPadding(),this.xAxisPaddingUnit())}xAxisMax(){const t=o.max(this._flattenStack(),F("x"));return N.add(t,this.xAxisPadding(),this.xAxisPaddingUnit())}title(t,e){return t?"function"==typeof t?super.title(t):t===this._groupName&&"function"==typeof e?super.title(e):"function"!=typeof e?this._titles[t]||super.title():(this._titles[t]=e,this):super.title()}stackLayout(t){return arguments.length?(this._stackLayout=t,this):this._stackLayout}evadeDomainFilter(t){return arguments.length?(this._evadeDomainFilter=t,this):this._evadeDomainFilter}_visibility(t){return!t.hidden}_ordinalXDomain(){const t=this._flattenStack().map(F("data"));return this._computeOrderedGroups(t).map(this.keyAccessor())}legendables(){return this._stack.map((t,e)=>({chart:this,name:t.name,hidden:t.hidden||!1,color:this.getColor.call(t,t.values,e)}))}isLegendableHidden(t){const e=this._findLayerByName(t.name);return!!e&&e.hidden}legendToggle(t){this._hidableStacks&&(this.isLegendableHidden(t)?this.showStack(t.name):this.hideStack(t.name),this.renderGroup())}}class st extends rt{constructor(t,e){super(),this._gap=2,this._centerBar=!1,this._alwaysUseRounding=!1,this._barWidth=void 0,this.label(t=>N.printSingleValue(t.y0+t.y),!1),this.anchor(t,e)}outerPadding(t){return arguments.length?this._outerRangeBandPadding(t):this._outerRangeBandPadding()}rescale(){return super.rescale(),this._barWidth=void 0,this}render(){return this.round()&&this._centerBar&&!this._alwaysUseRounding&&x.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),super.render()}plotData(){let t=this.chartBodyG().selectAll("g.stack").data(this.data());this._calculateBarWidth(),t=t.enter().append("g").attr("class",(t,e)=>"stack _"+e).merge(t);const e=t.size()-1;{const n=this;t.each((function(t,i){const s=r.select(this);n._renderBars(s,i,t),n.renderLabel()&&e===i&&n._renderLabels(s,i,t)}))}}_barHeight(t){return N.safeNumber(Math.abs(this.y()(t.y+t.y0)-this.y()(t.y0)))}_labelXPos(t){let e=this.x()(t.x);return this._centerBar||(e+=this._barWidth/2),this.isOrdinal()&&void 0!==this._gap&&(e+=this._gap/2),N.safeNumber(e)}_labelYPos(t){let e=this.y()(t.y+t.y0);return t.y<0&&(e-=this._barHeight(t)),N.safeNumber(e-3)}_renderLabels(t,e,n){const i=t.selectAll("text.barLabel").data(n.values,F("x")),r=i.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",t=>this._labelXPos(t)).attr("y",t=>this._labelYPos(t)).merge(i);this.isOrdinal()&&(r.on("click",$(t=>this.onClick(t))),r.attr("cursor","pointer")),A(r,this.transitionDuration(),this.transitionDelay()).attr("x",t=>this._labelXPos(t)).attr("y",t=>this._labelYPos(t)).text(t=>this.label()(t)),A(i.exit(),this.transitionDuration(),this.transitionDelay()).attr("height",0).remove()}_barXPos(t){let e=this.x()(t.x);return this._centerBar&&(e-=this._barWidth/2),this.isOrdinal()&&void 0!==this._gap&&(e+=this._gap/2),N.safeNumber(e)}_renderBars(t,e,n){const i=t.selectAll("rect.bar").data(n.values,F("x")),r=i.enter().append("rect").attr("class","bar").attr("fill",F("data",this.getColor)).attr("x",t=>this._barXPos(t)).attr("y",this.yAxisHeight()).attr("height",0),s=r.merge(i);this.renderTitle()&&r.append("title").text(F("data",this.title(n.name))),this.isOrdinal()&&s.on("click",$(t=>this.onClick(t))),A(s,this.transitionDuration(),this.transitionDelay()).attr("x",t=>this._barXPos(t)).attr("y",t=>{let e=this.y()(t.y+t.y0);return t.y<0&&(e-=this._barHeight(t)),N.safeNumber(e)}).attr("width",this._barWidth).attr("height",t=>this._barHeight(t)).attr("fill",F("data",this.getColor)).select("title").text(F("data",this.title(n.name))),A(i.exit(),this.transitionDuration(),this.transitionDelay()).attr("x",t=>this.x()(t.x)).attr("width",.9*this._barWidth).remove()}_calculateBarWidth(){if(void 0===this._barWidth){const t=this.xUnitCount();this._barWidth=this.isOrdinal()&&void 0===this._gap?Math.floor(this.x().bandwidth()):this._gap?Math.floor((this.xAxisLength()-(t-1)*this._gap)/t):Math.floor(this.xAxisLength()/(1+this.barPadding())/t),(this._barWidth===1/0||isNaN(this._barWidth)||this._barWidth<1)&&(this._barWidth=1)}}fadeDeselectedArea(t){const e=this.chartBodyG().selectAll("rect.bar");if(this.isOrdinal())this.hasFilter()?(e.classed(b.SELECTED_CLASS,t=>this.hasFilter(t.x)),e.classed(b.DESELECTED_CLASS,t=>!this.hasFilter(t.x))):(e.classed(b.SELECTED_CLASS,!1),e.classed(b.DESELECTED_CLASS,!1));else if(this.brushOn()||this.parentBrushOn())if(this.brushIsEmpty(t))e.classed(b.DESELECTED_CLASS,!1);else{const n=t[0],i=t[1];e.classed(b.DESELECTED_CLASS,t=>t.x<n||t.x>=i)}}centerBar(t){return arguments.length?(this._centerBar=t,this):this._centerBar}onClick(t){super.onClick(t.data)}barPadding(t){return arguments.length?(this._rangeBandPadding(t),this._gap=void 0,this):this._rangeBandPadding()}_useOuterPadding(){return void 0===this._gap}gap(t){return arguments.length?(this._gap=t,this):this._gap}extendBrush(t){return t&&this.round()&&(!this._centerBar||this._alwaysUseRounding)&&(t[0]=this.round()(t[0]),t[1]=this.round()(t[1])),t}alwaysUseRounding(t){return arguments.length?(this._alwaysUseRounding=t,this):this._alwaysUseRounding}legendHighlight(t){const e=(t,e)=>function(){const n=r.select(this).attr("fill")===t;return e?!n:n};this.isLegendableHidden(t)||this.g().selectAll("rect.bar").classed("highlight",e(t.color)).classed("fadeout",e(t.color,!0))}legendReset(){this.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)}xAxisMax(){let t=super.xAxisMax();return"resolution"in this.xUnits()&&(t+=this.xUnits().resolution),t}}function ot(t){return e=>{const n=e.quartiles[0],i=e.quartiles[2],r=(i-n)*t;let s=-1,o=e.length;do{++s}while(e[s]<n-r);do{--o}while(e[o]>i+r);return[s,o]}}class at extends tt{constructor(t,e){super(),this._whiskerIqrFactor=1.5,this._whiskersIqr=ot,this._whiskers=this._whiskersIqr(this._whiskerIqrFactor),this._box=et(),this._tickFormat=null,this._renderDataPoints=!1,this._dataOpacity=.3,this._dataWidthPortion=.8,this._showOutliers=!0,this._boldOutlier=!1,this._yRangePadding=8,this._boxWidth=(t,e)=>this.isOrdinal()?this.x().bandwidth():t/(1+this.boxPadding())/e,this.x(a.scaleBand()),this.xUnits(B.ordinal),this.data(t=>t.all().map(t=>(t.map=e=>e.call(t,t),t)).filter(t=>0!==this.valueAccessor()(t).length)),this.boxPadding(.8),this.outerPadding(.5),this.anchor(t,e)}boxPadding(t){return arguments.length?this._rangeBandPadding(t):this._rangeBandPadding()}outerPadding(t){return arguments.length?this._outerRangeBandPadding(t):this._outerRangeBandPadding()}boxWidth(t){return arguments.length?(this._boxWidth="function"==typeof t?t:N.constant(t),this):this._boxWidth}_boxTransform(t,e){return`translate(${this.x()(this.keyAccessor()(t,e))}, 0)`}_preprocessData(){this.elasticX()&&this.x().domain([])}plotData(){this._calculatedBoxWidth=this._boxWidth(this.effectiveWidth(),this.xUnitCount()),this._box.whiskers(this._whiskers).width(this._calculatedBoxWidth).height(this.effectiveHeight()).value(this.valueAccessor()).domain(this.y().domain()).duration(this.transitionDuration()).tickFormat(this._tickFormat).renderDataPoints(this._renderDataPoints).dataOpacity(this._dataOpacity).dataWidthPortion(this._dataWidthPortion).renderTitle(this.renderTitle()).showOutliers(this._showOutliers).boldOutlier(this._boldOutlier);const t=this.chartBodyG().selectAll("g.box").data(this.data(),this.keyAccessor()),e=this._renderBoxes(t);this._updateBoxes(e),this._removeBoxes(t),this.fadeDeselectedArea(this.filter())}_renderBoxes(t){const e=t.enter().append("g");return e.attr("class","box").attr("transform",(t,e)=>this._boxTransform(t,e)).call(this._box).on("click",$(t=>{this.filter(this.keyAccessor()(t)),this.redrawGroup()})),e.merge(t)}_updateBoxes(t){const e=this;A(t,this.transitionDuration(),this.transitionDelay()).attr("transform",(t,e)=>this._boxTransform(t,e)).call(this._box).each((function(t){const n=e.getColor(t,0);r.select(this).select("rect.box").attr("fill",n),r.select(this).selectAll("circle.data").attr("fill",n)}))}_removeBoxes(t){t.exit().remove().call(this._box)}_minDataValue(){return o.min(this.data(),t=>o.min(this.valueAccessor()(t)))}_maxDataValue(){return o.max(this.data(),t=>o.max(this.valueAccessor()(t)))}_yAxisRangeRatio(){return(this._maxDataValue()-this._minDataValue())/this.effectiveHeight()}fadeDeselectedArea(t){const e=this;if(this.hasFilter())if(this.isOrdinal())this.g().selectAll("g.box").each((function(t){e.isSelectedNode(t)?e.highlightSelected(this):e.fadeDeselected(this)}));else{if(!this.brushOn()&&!this.parentBrushOn())return;const n=t[0],i=t[1];this.g().selectAll("g.box").each((function(t){const r=e.keyAccessor()(t);r<n||r>=i?e.fadeDeselected(this):e.highlightSelected(this)}))}else this.g().selectAll("g.box").each((function(){e.resetHighlight(this)}))}isSelectedNode(t){return this.hasFilter(this.keyAccessor()(t))}yAxisMin(){const t=this._yRangePadding*this._yAxisRangeRatio();return N.subtract(this._minDataValue()-t,this.yAxisPadding())}yAxisMax(){const t=this._yRangePadding*this._yAxisRangeRatio();return N.add(this._maxDataValue()+t,this.yAxisPadding())}tickFormat(t){return arguments.length?(this._tickFormat=t,this):this._tickFormat}yRangePadding(t){return arguments.length?(this._yRangePadding=t,this):this._yRangePadding}renderDataPoints(t){return arguments.length?(this._renderDataPoints=t,this):this._renderDataPoints}dataOpacity(t){return arguments.length?(this._dataOpacity=t,this):this._dataOpacity}dataWidthPortion(t){return arguments.length?(this._dataWidthPortion=t,this):this._dataWidthPortion}showOutliers(t){return arguments.length?(this._showOutliers=t,this):this._showOutliers}boldOutlier(t){return arguments.length?(this._boldOutlier=t,this):this._boldOutlier}}class lt extends(Z(tt)){constructor(t,e){super(),this.transitionDuration(750),this.transitionDelay(0),this.anchor(t,e)}_bubbleLocator(t){return`translate(${this._bubbleX(t)},${this._bubbleY(t)})`}plotData(){this.calculateRadiusDomain(),this.r().range([this.MIN_RADIUS,this.xAxisLength()*this.maxBubbleRelativeSize()]);const t=this.data();let e=this.chartBodyG().selectAll("g."+this.BUBBLE_NODE_CLASS).data(t,t=>t.key);this.sortBubbleSize()&&e.order(),this._removeNodes(e),e=this._renderNodes(e),this._updateNodes(e),this.fadeDeselectedArea(this.filter())}_renderNodes(t){const e=t.enter().append("g");return e.attr("class",this.BUBBLE_NODE_CLASS).attr("transform",t=>this._bubbleLocator(t)).append("circle").attr("class",(t,e)=>`${this.BUBBLE_CLASS} _${e}`).on("click",$(t=>this.onClick(t))).attr("fill",this.getColor).attr("r",0),t=e.merge(t),A(t,this.transitionDuration(),this.transitionDelay()).select("circle."+this.BUBBLE_CLASS).attr("r",t=>this.bubbleR(t)).attr("opacity",t=>this.bubbleR(t)>0?1:0),this._doRenderLabel(e),this._doRenderTitles(e),t}_updateNodes(t){A(t,this.transitionDuration(),this.transitionDelay()).attr("transform",t=>this._bubbleLocator(t)).select("circle."+this.BUBBLE_CLASS).attr("fill",this.getColor).attr("r",t=>this.bubbleR(t)).attr("opacity",t=>this.bubbleR(t)>0?1:0),this.doUpdateLabels(t),this.doUpdateTitles(t)}_removeNodes(t){t.exit().remove()}_bubbleX(t){let e=this.x()(this.keyAccessor()(t));return!isNaN(e)&&isFinite(e)||(e=0),e}_bubbleY(t){let e=this.y()(this.valueAccessor()(t));return!isNaN(e)&&isFinite(e)||(e=0),e}renderBrush(){}redrawBrush(t,e){this.fadeDeselectedArea(t)}}class ct extends(Z(q)){constructor(t,e){super(),this._g=void 0,this._points=[],this.transitionDuration(750),this.transitionDelay(0),this.radiusValueAccessor(t=>t.value),this.anchor(t,e)}point(t,e,n){return this._points.push({name:t,x:e,y:n}),this}_doRender(){return this._g=this._initOverlayG(),this.r().range([this.MIN_RADIUS,this.width()*this.maxBubbleRelativeSize()]),this._initializeBubbles(),this.fadeDeselectedArea(this.filter()),this}_initOverlayG(){return this._g=this.select("g.bubble-overlay"),this._g.empty()&&(this._g=this.svg().append("g").attr("class","bubble-overlay")),this._g}_initializeBubbles(){const t=this._mapData();this.calculateRadiusDomain(),this._points.forEach(e=>{const n=this._getNodeG(e,t);let i=n.select("circle.bubble");i.empty()&&(i=n.append("circle").attr("class","bubble").attr("r",0).attr("fill",this.getColor).on("click",$(t=>this.onClick(t)))),A(i,this.transitionDuration(),this.transitionDelay()).attr("r",t=>this.bubbleR(t)),this._doRenderLabel(n),this._doRenderTitles(n)})}_mapData(){const t={};return this.data().forEach(e=>{t[this.keyAccessor()(e)]=e}),t}_getNodeG(t,e){const n="node "+N.nameToId(t.name);let i=this._g.select("g."+N.nameToId(t.name));return i.empty()&&(i=this._g.append("g").attr("class",n).attr("transform",`translate(${t.x},${t.y})`)),i.datum(e[t.name]),i}_doRedraw(){return this._updateBubbles(),this.fadeDeselectedArea(this.filter()),this}_updateBubbles(){const t=this._mapData();this.calculateRadiusDomain(),this._points.forEach(e=>{const n=this._getNodeG(e,t),i=n.select("circle.bubble");A(i,this.transitionDuration(),this.transitionDelay()).attr("r",t=>this.bubbleR(t)).attr("fill",this.getColor),this.doUpdateLabels(n),this.doUpdateTitles(n)})}debug(t){if(t){let t=this.select("g."+b.DEBUG_GROUP_CLASS);t.empty()&&(t=this.svg().append("g").attr("class",b.DEBUG_GROUP_CLASS));const e=t.append("text").attr("x",10).attr("y",20);t.append("rect").attr("width",this.width()).attr("height",this.height()).on("mousemove",()=>{const n=r.mouse(t.node());e.text(`${n[0]}, ${n[1]}`)})}else this.selectAll(".debug").remove();return this}}class ht extends q{constructor(t,e){super(),this._cbox=void 0,this._promptText="Select all",this._multiple=!1,this._inputType="radio",this._promptValue=null,this._uniqueId=N.uniqueId(),this.data(t=>t.all().filter(this._filterDisplayed)),this._filterDisplayed=t=>this.valueAccessor()(t)>0,this._order=(t,e)=>this.keyAccessor()(t)>this.keyAccessor()(e)?1:this.keyAccessor()(t)<this.keyAccessor()(e)?-1:0,this.anchor(t,e)}_doRender(){return this._doRedraw()}_doRedraw(){return this.select("ul").remove(),this._cbox=this.root().append("ul").classed("dc-cbox-group",!0),this._renderOptions(),this.hasFilter()&&this._multiple?this._cbox.selectAll("input").property("checked",t=>t&&this.filters().indexOf(String(this.keyAccessor()(t)))>=0||!1):this.hasFilter()&&this._cbox.selectAll("input").property("checked",t=>!!t&&this.keyAccessor()(t)===this.filter()),this}_renderOptions(){let t=this._cbox.selectAll("li.dc-cbox-item").data(this.data(),t=>this.keyAccessor()(t));t.exit().remove(),t=t.enter().append("li").classed("dc-cbox-item",!0).merge(t),t.append("input").attr("type",this._inputType).attr("value",t=>this.keyAccessor()(t)).attr("name","domain_"+this._uniqueId).attr("id",(t,e)=>`input_${this._uniqueId}_${e}`),t.append("label").attr("for",(t,e)=>`input_${this._uniqueId}_${e}`).text(this.title());const e=this;if(this._multiple)this._cbox.append("li").append("input").attr("type","reset").text(this._promptText).on("click",$((function(t,n){return e._onChange(t,n,this)})));else{const t=this._cbox.append("li");t.append("input").attr("type",this._inputType).attr("value",this._promptValue).attr("name","domain_"+this._uniqueId).attr("id",(t,e)=>`input_${this._uniqueId}_all`).property("checked",!0),t.append("label").attr("for",(t,e)=>`input_${this._uniqueId}_all`).text(this._promptText)}return this._cbox.selectAll("li.dc-cbox-item").sort(this._order),this._cbox.on("change",$((function(t,n){return e._onChange(t,n,this)}))),t}_onChange(t,e,n){let i,s;r.select(e.target).datum()?(s=r.select(n).selectAll("input").filter((function(t){if(t)return this.checked})),i=s.nodes().map(t=>t.value),this._multiple||1!==i.length||(i=i[0])):i=this._promptValue||null,this.onChange(i)}onChange(t){t&&this._multiple?this.replaceFilter([t]):t?this.replaceFilter(t):this.filterAll(),I.trigger(()=>{this.redrawGroup()})}order(t){return arguments.length?(this._order=t,this):this._order}promptText(t){return arguments.length?(this._promptText=t,this):this._promptText}filterDisplayed(t){return arguments.length?(this._filterDisplayed=t,this):this._filterDisplayed}multiple(t){return arguments.length?(this._multiple=t,this._inputType=this._multiple?"checkbox":"radio",this):this._multiple}promptValue(t){return arguments.length?(this._promptValue=t,this):this._promptValue}}class ut extends tt{constructor(t,e){super(),this._children=[],this._childOptions={},this._shareColors=!1,this._shareTitle=!0,this._alignYAxes=!1,this._rightYAxis=u.axisRight(),this._rightYAxisLabel=0,this._rightYAxisLabelPadding=12,this._rightY=void 0,this._rightAxisGridLines=!1,this._mandatoryAttributes([]),this.transitionDuration(500),this.transitionDelay(0),this.on("filtered.dcjs-composite-chart",t=>{for(let e=0;e<this._children.length;++e)this._children[e].replaceFilter(this.filter())}),this.anchor(t,e)}_generateG(){const t=super._generateG();for(let e=0;e<this._children.length;++e){const t=this._children[e];this._generateChildG(t,e),t.dimension()||t.dimension(this.dimension()),t.group()||t.group(this.group()),t.chartGroup(this.chartGroup()),t.svg(this.svg()),t.xUnits(this.xUnits()),t.transitionDuration(this.transitionDuration(),this.transitionDelay()),t.parentBrushOn(this.brushOn()),t.brushOn(!1),t.renderTitle(this.renderTitle()),t.elasticX(this.elasticX())}return t}rescale(){return super.rescale(),this._children.forEach(t=>{t.rescale()}),this}resizing(t){return arguments.length?(super.resizing(t),this._children.forEach(e=>{e.resizing(t)}),this):super.resizing()}_prepareYAxis(){const t=0!==this._leftYAxisChildren().length,e=0!==this._rightYAxisChildren().length,n=this._calculateYAxisRanges(t,e);t&&this._prepareLeftYAxis(n),e&&this._prepareRightYAxis(n),this._leftYAxisChildren().length>0&&!this._rightAxisGridLines?this._renderHorizontalGridLinesForAxis(this.g(),this.y(),this.yAxis()):this._rightYAxisChildren().length>0&&this._renderHorizontalGridLinesForAxis(this.g(),this._rightY,this._rightYAxis)}renderYAxis(){0!==this._leftYAxisChildren().length&&(this.renderYAxisAt("y",this.yAxis(),this.margins().left),this.renderYAxisLabel("y",this.yAxisLabel(),-90)),0!==this._rightYAxisChildren().length&&(this.renderYAxisAt("yr",this.rightYAxis(),this.width()-this.margins().right),this.renderYAxisLabel("yr",this.rightYAxisLabel(),90,this.width()-this._rightYAxisLabelPadding))}_calculateYAxisRanges(t,e){let n,i,r,s,o;return t&&(n=this._yAxisMin(),i=this._yAxisMax()),e&&(r=this._rightYAxisMin(),s=this._rightYAxisMax()),this.alignYAxes()&&t&&e&&(o=this._alignYAxisRanges(n,i,r,s)),o||{lyAxisMin:n,lyAxisMax:i,ryAxisMin:r,ryAxisMax:s}}_alignYAxisRanges(t,e,n,i){const r=(i-n)/(e-t);return{lyAxisMin:Math.min(t,n/r),lyAxisMax:Math.max(e,i/r),ryAxisMin:Math.min(n,t*r),ryAxisMax:Math.max(i,e*r)}}_prepareRightYAxis(t){const e=void 0===this.rightY()||this.elasticY(),n=e||this.resizing();void 0===this.rightY()&&this.rightY(a.scaleLinear()),e&&this.rightY().domain([t.ryAxisMin,t.ryAxisMax]),n&&this.rightY().rangeRound([this.yAxisHeight(),0]),this.rightY().range([this.yAxisHeight(),0]),this.rightYAxis(this.rightYAxis().scale(this.rightY()))}_prepareLeftYAxis(t){const e=void 0===this.y()||this.elasticY(),n=e||this.resizing();void 0===this.y()&&this.y(a.scaleLinear()),e&&this.y().domain([t.lyAxisMin,t.lyAxisMax]),n&&this.y().rangeRound([this.yAxisHeight(),0]),this.y().range([this.yAxisHeight(),0]),this.yAxis(this.yAxis().scale(this.y()))}_generateChildG(t,e){t._generateG(this.g()),t.g().attr("class","sub _"+e)}plotData(){for(let t=0;t<this._children.length;++t){const e=this._children[t];e.g()||this._generateChildG(e,t),this._shareColors&&e.colors(this.colors()),e.x(this.x()),e.xAxis(this.xAxis()),e.useRightYAxis()?(e.y(this.rightY()),e.yAxis(this.rightYAxis())):(e.y(this.y()),e.yAxis(this.yAxis())),e.plotData(),e._activateRenderlets()}}useRightAxisGridLines(t){return arguments?(this._rightAxisGridLines=t,this):this._rightAxisGridLines}childOptions(t){return arguments.length?(this._childOptions=t,this._children.forEach(t=>{t.options(this._childOptions)}),this):this._childOptions}fadeDeselectedArea(t){if(this.brushOn())for(let e=0;e<this._children.length;++e)this._children[e].fadeDeselectedArea(t)}rightYAxisLabel(t,e){return arguments.length?(this._rightYAxisLabel=t,this.margins().right-=this._rightYAxisLabelPadding,this._rightYAxisLabelPadding=void 0===e?12:e,this.margins().right+=this._rightYAxisLabelPadding,this):this._rightYAxisLabel}compose(t){return this._children=t,this._children.forEach(t=>{t.height(this.height()),t.width(this.width()),t.margins(this.margins()),this._shareTitle&&t.title(this.title()),t.options(this._childOptions)}),this.rescale(),this}_setChildrenProperty(t,e){this._children.forEach(n=>{n[t](e)})}height(t){return arguments.length?(super.height(t),this._setChildrenProperty("height",t),this):super.height()}width(t){return arguments.length?(super.width(t),this._setChildrenProperty("width",t),this):super.width()}margins(t){return arguments.length?(super.margins(t),this._setChildrenProperty("margins",t),this):super.margins()}children(){return this._children}shareColors(t){return arguments.length?(this._shareColors=t,this):this._shareColors}shareTitle(t){return arguments.length?(this._shareTitle=t,this):this._shareTitle}rightY(t){return arguments.length?(this._rightY=t,this.rescale(),this):this._rightY}alignYAxes(t){return arguments.length?(this._alignYAxes=t,this.rescale(),this):this._alignYAxes}_leftYAxisChildren(){return this._children.filter(t=>!t.useRightYAxis())}_rightYAxisChildren(){return this._children.filter(t=>t.useRightYAxis())}_getYAxisMin(t){return t.map(t=>t.yAxisMin())}_yAxisMin(){return o.min(this._getYAxisMin(this._leftYAxisChildren()))}_rightYAxisMin(){return o.min(this._getYAxisMin(this._rightYAxisChildren()))}_getYAxisMax(t){return t.map(t=>t.yAxisMax())}_yAxisMax(){return N.add(o.max(this._getYAxisMax(this._leftYAxisChildren())),this.yAxisPadding())}_rightYAxisMax(){return N.add(o.max(this._getYAxisMax(this._rightYAxisChildren())),this.yAxisPadding())}_getAllXAxisMinFromChildCharts(){return this._children.map(t=>t.xAxisMin())}xAxisMin(){return N.subtract(o.min(this._getAllXAxisMinFromChildCharts()),this.xAxisPadding(),this.xAxisPaddingUnit())}_getAllXAxisMaxFromChildCharts(){return this._children.map(t=>t.xAxisMax())}xAxisMax(){return N.add(o.max(this._getAllXAxisMaxFromChildCharts()),this.xAxisPadding(),this.xAxisPaddingUnit())}legendables(){return this._children.reduce((t,e)=>(this._shareColors&&e.colors(this.colors()),t.push.apply(t,e.legendables()),t),[])}legendHighlight(t){for(let e=0;e<this._children.length;++e)this._children[e].legendHighlight(t)}legendReset(t){for(let e=0;e<this._children.length;++e)this._children[e].legendReset(t)}legendToggle(){console.log("composite should not be getting legendToggle itself")}rightYAxis(t){return arguments.length?(this._rightYAxis=t,this):this._rightYAxis}yAxisMin(){throw new Error("Not supported for this chart type")}yAxisMax(){throw new Error("Not supported for this chart type")}}class dt extends q{constructor(t,e){super(),this._formatNumber=i.format(",d"),this._crossfilter=null,this._groupAll=null,this._html={some:"",all:""},this._mandatoryAttributes(["crossfilter","groupAll"]),this.anchor(t,e)}html(t){return arguments.length?(t.all&&(this._html.all=t.all),t.some&&(this._html.some=t.some),this):this._html}formatNumber(t){return arguments.length?(this._formatNumber=t,this):this._formatNumber}_doRender(){const t=this.crossfilter().size(),e=this.groupAll().value(),n=this._formatNumber(t),i=this._formatNumber(e);return t===e&&""!==this._html.all?this.root().html(this._html.all.replace("%total-count",n).replace("%filter-count",i)):""!==this._html.some?this.root().html(this._html.some.replace("%total-count",n).replace("%filter-count",i)):(this.selectAll(".total-count").text(n),this.selectAll(".filter-count").text(i)),this}_doRedraw(){return this._doRender()}crossfilter(t){return arguments.length?(this._crossfilter=t,this):this._crossfilter}dimension(t){return x.warnOnce("consider using dataCount.crossfilter instead of dataCount.dimension for clarity"),arguments.length?this.crossfilter(t):this.crossfilter()}groupAll(t){return arguments.length?(this._groupAll=t,this):this._groupAll}group(t){return x.warnOnce("consider using dataCount.groupAll instead of dataCount.group for clarity"),arguments.length?this.groupAll(t):this.groupAll()}}class ft extends q{constructor(t,e){super(),this._section=null,this._size=999,this._html=function(t){return"you need to provide an html() handling param:  "+JSON.stringify(t)},this._sortBy=function(t){return t},this._order=o.ascending,this._beginSlice=0,this._endSlice=void 0,this._htmlSection=t=>`<div class='dc-grid-section dc-grid-group'><h1 class='dc-grid-label'>${this.keyAccessor()(t)}</h1></div>`,this._mandatoryAttributes(["dimension","section"]),this.anchor(t,e)}_doRender(){return this.selectAll("div.dc-grid-top").remove(),this._renderItems(this._renderSections()),this}_renderSections(){const t=this.root().selectAll("div.dc-grid-top").data(this._nestEntries(),t=>this.keyAccessor()(t)),e=t.enter().append("div").attr("class","dc-grid-top");return this._htmlSection&&e.html(t=>this._htmlSection(t)),t.exit().remove(),e}_nestEntries(){let t=this.dimension().top(this._size);return t=t.sort((t,e)=>this._order(this._sortBy(t),this._sortBy(e))).slice(this._beginSlice,this._endSlice),K({key:this.section(),sortKeys:this._order,entries:t})}_renderItems(t){let e=t.order().selectAll("div.dc-grid-item").data(t=>t.values);return e.exit().remove(),e=e.enter().append("div").attr("class","dc-grid-item").html(t=>this._html(t)).merge(e),e}_doRedraw(){return this._doRender()}section(t){return arguments.length?(this._section=t,this):this._section}group(t){return x.warnOnce("consider using dataGrid.section instead of dataGrid.group for clarity"),arguments.length?this.section(t):this.section()}beginSlice(t){return arguments.length?(this._beginSlice=t,this):this._beginSlice}endSlice(t){return arguments.length?(this._endSlice=t,this):this._endSlice}size(t){return arguments.length?(this._size=t,this):this._size}html(t){return arguments.length?(this._html=t,this):this._html}htmlSection(t){return arguments.length?(this._htmlSection=t,this):this._htmlSection}htmlGroup(t){return x.warnOnce("consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity"),arguments.length?this.htmlSection(t):this.htmlSection()}sortBy(t){return arguments.length?(this._sortBy=t,this):this._sortBy}order(t){return arguments.length?(this._order=t,this):this._order}}class pt extends q{constructor(t,e){super(),this._size=25,this._columns=[],this._sortBy=t=>t,this._order=o.ascending,this._beginSlice=0,this._endSlice=void 0,this._showSections=!0,this._section=()=>"",this._mandatoryAttributes(["dimension"]),this.anchor(t,e)}_doRender(){return this.selectAll("tbody").remove(),this._renderRows(this._renderSections()),this}_doColumnValueFormat(t,e){return"function"==typeof t?t(e):"string"==typeof t?e[t]:t.format(e)}_doColumnHeaderFormat(t){return"function"==typeof t?this._doColumnHeaderFnToString(t):"string"==typeof t?this._doColumnHeaderCapitalize(t):String(t.label)}_doColumnHeaderCapitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}_doColumnHeaderFnToString(t){let e=String(t);const n=e.indexOf("return ");if(n>=0){const t=e.lastIndexOf(";");t>=0&&(e=e.substring(n+7,t),e.indexOf("numberFormat")>=0&&(e=e.replace("numberFormat","")))}return e}_renderSections(){let t=!0;if(this._columns.forEach(e=>{t&="function"==typeof e}),!t){let t=this.selectAll("thead").data([0]);t.exit().remove(),t=t.enter().append("thead").merge(t);let e=t.selectAll("tr").data([0]);e.exit().remove(),e=e.enter().append("tr").merge(e);const n=e.selectAll("th").data(this._columns);n.exit().remove(),n.enter().append("th").merge(n).attr("class","dc-table-head").html(t=>this._doColumnHeaderFormat(t))}const e=this.root().selectAll("tbody").data(this._nestEntries(),t=>this.keyAccessor()(t)),n=e.enter().append("tbody");return!0===this._showSections&&n.append("tr").attr("class","dc-table-section dc-table-group").append("td").attr("class","dc-table-label").attr("colspan",this._columns.length).html(t=>this.keyAccessor()(t)),e.exit().remove(),n}_nestEntries(){let t;return t=this._order===o.ascending?this.dimension().bottom(this._size):this.dimension().top(this._size),t=t.sort((t,e)=>this._order(this._sortBy(t),this._sortBy(e))).slice(this._beginSlice,this._endSlice),K({key:this.section(),sortKeys:this._order,entries:t})}_renderRows(t){const e=t.order().selectAll("tr.dc-table-row").data(t=>t.values),n=e.enter().append("tr").attr("class","dc-table-row");return this._columns.forEach((t,e)=>{n.append("td").attr("class","dc-table-column _"+e).html(e=>this._doColumnValueFormat(t,e))}),e.exit().remove(),e}_doRedraw(){return this._doRender()}section(t){return arguments.length?(this._section=t,this):this._section}group(t){return x.warnOnce("consider using dataTable.section instead of dataTable.group for clarity"),arguments.length?this.section(t):this.section()}size(t){return arguments.length?(this._size=t,this):this._size}beginSlice(t){return arguments.length?(this._beginSlice=t,this):this._beginSlice}endSlice(t){return arguments.length?(this._endSlice=t,this):this._endSlice}columns(t){return arguments.length?(this._columns=t,this):this._columns}sortBy(t){return arguments.length?(this._sortBy=t,this):this._sortBy}order(t){return arguments.length?(this._order=t,this):this._order}showSections(t){return arguments.length?(this._showSections=t,this):this._showSections}showGroups(t){return x.warnOnce("consider using dataTable.showSections instead of dataTable.showGroups for clarity"),arguments.length?this.showSections(t):this.showSections()}}class gt extends(X(q)){constructor(t,e){super(),this.colorAccessor(t=>t||0),this._geoPath=m.geoPath(),this._projectionFlag=void 0,this._projection=void 0,this._geoJsons=[],this.anchor(t,e)}_doRender(){this.resetSvg();for(let t=0;t<this._geoJsons.length;++t){let e=this.svg().append("g").attr("class","layer"+t).selectAll("g."+this._geoJson(t).name).data(this._geoJson(t).data);e=e.enter().append("g").attr("class",this._geoJson(t).name).merge(e),e.append("path").attr("fill","white").attr("d",this._getGeoPath()),e.append("title"),this._plotData(t)}this._projectionFlag=!1}_plotData(t){const e=this._generateLayeredData();if(this._isDataLayer(t)){const n=this._renderRegionG(t);this._renderPaths(n,t,e),this._renderTitles(n,t,e)}}_generateLayeredData(){const t={},e=this.data();for(let n=0;n<e.length;++n)t[this.keyAccessor()(e[n])]=this.valueAccessor()(e[n]);return t}_isDataLayer(t){return this._geoJson(t).keyAccessor}_renderRegionG(t){return this.svg().selectAll(this._layerSelector(t)).classed("selected",e=>this._isSelected(t,e)).classed("deselected",e=>this._isDeselected(t,e)).attr("class",e=>{let n=`${this._geoJson(t).name} ${N.nameToId(this._geoJson(t).keyAccessor(e))}`;return this._isSelected(t,e)&&(n+=" selected"),this._isDeselected(t,e)&&(n+=" deselected"),n})}_layerSelector(t){return`g.layer${t} g.${this._geoJson(t).name}`}_isSelected(t,e){return this.hasFilter()&&this.hasFilter(this._getKey(t,e))}_isDeselected(t,e){return this.hasFilter()&&!this.hasFilter(this._getKey(t,e))}_getKey(t,e){return this._geoJson(t).keyAccessor(e)}_geoJson(t){return this._geoJsons[t]}_renderPaths(t,e,n){const i=t.select("path").attr("fill",(function(){return r.select(this).attr("fill")||"none"})).on("click",$(t=>this.onClick(t,e)));A(i,this.transitionDuration(),this.transitionDelay()).attr("fill",(t,i)=>this.getColor(n[this._geoJson(e).keyAccessor(t)],i))}onClick(t,e){const n=this._geoJson(e).keyAccessor(t);I.trigger(()=>{this.filter(n),this.redrawGroup()})}_renderTitles(t,e,n){this.renderTitle()&&t.selectAll("title").text(t=>{const i=this._getKey(e,t),r=n[i];return this.title()({key:i,value:r})})}_doRedraw(){for(let t=0;t<this._geoJsons.length;++t)this._plotData(t),this._projectionFlag&&this.svg().selectAll(`g.${this._geoJson(t).name} path`).attr("d",this._getGeoPath());this._projectionFlag=!1}overlayGeoJson(t,e,n){for(let i=0;i<this._geoJsons.length;++i)if(this._geoJsons[i].name===e)return this._geoJsons[i].data=t,this._geoJsons[i].keyAccessor=n,this;return this._geoJsons.push({name:e,data:t,keyAccessor:n}),this}projection(t){return arguments.length?(this._projection=t,this._projectionFlag=!0,this):this._projection}_getGeoPath(){return void 0===this._projection?(x.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),this._geoPath.projection(m.geoAlbersUsa())):this._geoPath.projection(this._projection)}geoJsons(){return this._geoJsons}geoPath(){return this._geoPath}removeGeoJson(t){const e=[];for(let n=0;n<this._geoJsons.length;++n){const i=this._geoJsons[n];i.name!==t&&e.push(i)}return this._geoJsons=e,this}}class mt extends(X(J)){constructor(t,e){super(),this._chartBody=void 0,this._cols=void 0,this._rows=void 0,this._colOrdering=o.ascending,this._rowOrdering=o.ascending,this._colScale=a.scaleBand(),this._rowScale=a.scaleBand(),this._xBorderRadius=6.75,this._yBorderRadius=6.75,this._mandatoryAttributes(["group"]),this.title(this.colorAccessor()),this._colsLabel=t=>t,this._rowsLabel=t=>t,this._xAxisOnClick=t=>{this._filterAxis(0,t)},this._yAxisOnClick=t=>{this._filterAxis(1,t)},this._boxOnClick=t=>{const e=t.key;I.trigger(()=>{this.filter(D.TwoDimensionalFilter(e)),this.redrawGroup()})},this.anchor(t,e)}colsLabel(t){return arguments.length?(this._colsLabel=t,this):this._colsLabel}rowsLabel(t){return arguments.length?(this._rowsLabel=t,this):this._rowsLabel}_filterAxis(t,e){const n=this.selectAll(".box-group").filter(n=>n.key[t]===e),i=n.filter(t=>!this.hasFilter(t.key));I.trigger(()=>{const t=(i.empty()?n:i).data().map(t=>D.TwoDimensionalFilter(t.key));this.filter([t]),this.redrawGroup()})}filter(t){return arguments.length?null===t||"TwoDimensionalFilter"===t.filterType||Array.isArray(t)&&Array.isArray(t[0])&&"TwoDimensionalFilter"===t[0][0].filterType?super.filter(t):(t=>(x.warnOnce("heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead"),this._filter(D.TwoDimensionalFilter(t))))(t):super.filter()}rows(t){return arguments.length?(this._rows=t,this):this._rows}rowOrdering(t){return arguments.length?(this._rowOrdering=t,this):this._rowOrdering}cols(t){return arguments.length?(this._cols=t,this):this._cols}colOrdering(t){return arguments.length?(this._colOrdering=t,this):this._colOrdering}_doRender(){return this.resetSvg(),this._chartBody=this.svg().append("g").attr("class","heatmap").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this._doRedraw()}_doRedraw(){const t=this.data();let e=this.rows()||t.map(this.valueAccessor()),n=this.cols()||t.map(this.keyAccessor());this._rowOrdering&&(e=e.sort(this._rowOrdering)),this._colOrdering&&(n=n.sort(this._colOrdering)),e=this._rowScale.domain(e),n=this._colScale.domain(n);const i=e.domain().length,r=n.domain().length,s=Math.floor(this.effectiveWidth()/r),o=Math.floor(this.effectiveHeight()/i);n.rangeRound([0,this.effectiveWidth()]),e.rangeRound([this.effectiveHeight(),0]);let a=this._chartBody.selectAll("g.box-group").data(this.data(),(t,e)=>`${this.keyAccessor()(t,e)}\0${this.valueAccessor()(t,e)}`);a.exit().remove();const l=a.enter().append("g").attr("class","box-group");l.append("rect").attr("class","heat-box").attr("fill","white").attr("x",(t,e)=>n(this.keyAccessor()(t,e))).attr("y",(t,n)=>e(this.valueAccessor()(t,n))).on("click",$(this.boxOnClick())),a=l.merge(a),this.renderTitle()&&(l.append("title"),a.select("title").text(this.title())),A(a.select("rect"),this.transitionDuration(),this.transitionDelay()).attr("x",(t,e)=>n(this.keyAccessor()(t,e))).attr("y",(t,n)=>e(this.valueAccessor()(t,n))).attr("rx",this._xBorderRadius).attr("ry",this._yBorderRadius).attr("fill",this.getColor).attr("width",s).attr("height",o);let c=this._chartBody.select("g.cols");c.empty()&&(c=this._chartBody.append("g").attr("class","cols axis"));let h=c.selectAll("text").data(n.domain());h.exit().remove(),h=h.enter().append("text").attr("x",t=>n(t)+s/2).style("text-anchor","middle").attr("y",this.effectiveHeight()).attr("dy",12).on("click",$(this.xAxisOnClick())).text(this.colsLabel()).merge(h),A(h,this.transitionDuration(),this.transitionDelay()).text(this.colsLabel()).attr("x",t=>n(t)+s/2).attr("y",this.effectiveHeight());let u=this._chartBody.select("g.rows");u.empty()&&(u=this._chartBody.append("g").attr("class","rows axis"));let d=u.selectAll("text").data(e.domain());if(d.exit().remove(),d=d.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",t=>e(t)+o/2).attr("dy",6).on("click",$(this.yAxisOnClick())).text(this.rowsLabel()).merge(d),A(d,this.transitionDuration(),this.transitionDelay()).text(this.rowsLabel()).attr("y",t=>e(t)+o/2),this.hasFilter()){const t=this;this.selectAll("g.box-group").each((function(e){t.isSelectedNode(e)?t.highlightSelected(this):t.fadeDeselected(this)}))}else{const t=this;this.selectAll("g.box-group").each((function(){t.resetHighlight(this)}))}return this}boxOnClick(t){return arguments.length?(this._boxOnClick=t,this):this._boxOnClick}xAxisOnClick(t){return arguments.length?(this._xAxisOnClick=t,this):this._xAxisOnClick}yAxisOnClick(t){return arguments.length?(this._yAxisOnClick=t,this):this._yAxisOnClick}xBorderRadius(t){return arguments.length?(this._xBorderRadius=t,this):this._xBorderRadius}yBorderRadius(t){return arguments.length?(this._yBorderRadius=t,this):this._yBorderRadius}isSelectedNode(t){return this.hasFilter(t.key)}}class _t{constructor(){this._htmlLegendDivCssClass="dc-html-legend",this._legendItemCssClassHorizontal="dc-legend-item-horizontal",this._legendItemCssClassVertical="dc-legend-item-vertical",this._parent=void 0,this._container=void 0,this._legendText=F("name"),this._maxItems=void 0,this._horizontal=!1,this._legendItemClass=void 0,this._highlightSelected=!1}parent(t){return arguments.length?(this._parent=t,this):this._parent}render(){this._defaultLegendItemCssClass=this._horizontal?this._legendItemCssClassHorizontal:this._legendItemCssClassVertical,this._container.select("div."+this._htmlLegendDivCssClass).remove();const t=this._container.append("div").attr("class",this._htmlLegendDivCssClass);t.attr("style","max-width:"+this._container.nodes()[0].style.width);let e=this._parent.legendables();const n=this._parent.filters();void 0!==this._maxItems&&(e=e.slice(0,this._maxItems));const i=this._legendItemClass?this._legendItemClass:this._defaultLegendItemCssClass,r=t.selectAll("div."+i).data(e).enter().append("div").classed(i,!0).on("mouseover",$(t=>this._parent.legendHighlight(t))).on("mouseout",$(t=>this._parent.legendReset(t))).on("click",$(t=>this._parent.legendToggle(t)));this._highlightSelected&&r.classed(b.SELECTED_CLASS,t=>-1!==n.indexOf(t.name)),r.append("span").attr("class","dc-legend-item-color").style("background-color",F("color")),r.append("span").attr("class","dc-legend-item-label").attr("title",this._legendText).text(this._legendText)}container(t){return arguments.length?(this._container=r.select(t),this):this._container}legendItemClass(t){return arguments.length?(this._legendItemClass=t,this):this._legendItemClass}highlightSelected(t){return arguments.length?(this._highlightSelected=t,this):this._highlightSelected}horizontal(t){return arguments.length?(this._horizontal=t,this):this._horizontal}legendText(t){return arguments.length?(this._legendText=t,this):this._legendText}maxItems(t){return arguments.length?(this._maxItems=N.isNumber(t)?t:void 0,this):this._maxItems}}class vt{constructor(){this._parent=void 0,this._x=0,this._y=0,this._itemHeight=12,this._gap=5,this._horizontal=!1,this._legendWidth=560,this._itemWidth=70,this._autoItemWidth=!1,this._legendText=F("name"),this._maxItems=void 0,this._highlightSelected=!1,this._g=void 0}parent(t){return arguments.length?(this._parent=t,this):this._parent}x(t){return arguments.length?(this._x=t,this):this._x}y(t){return arguments.length?(this._y=t,this):this._y}gap(t){return arguments.length?(this._gap=t,this):this._gap}highlightSelected(t){return arguments.length?(this._highlightSelected=t,this):this._highlightSelected}itemHeight(t){return arguments.length?(this._itemHeight=t,this):this._itemHeight}horizontal(t){return arguments.length?(this._horizontal=t,this):this._horizontal}legendWidth(t){return arguments.length?(this._legendWidth=t,this):this._legendWidth}itemWidth(t){return arguments.length?(this._itemWidth=t,this):this._itemWidth}autoItemWidth(t){return arguments.length?(this._autoItemWidth=t,this):this._autoItemWidth}legendText(t){return arguments.length?(this._legendText=t,this):this._legendText}maxItems(t){return arguments.length?(this._maxItems=N.isNumber(t)?t:void 0,this):this._maxItems}_legendItemHeight(){return this._gap+this._itemHeight}render(){this._parent.svg().select("g.dc-legend").remove(),this._g=this._parent.svg().append("g").attr("class","dc-legend").attr("transform",`translate(${this._x},${this._y})`);let t=this._parent.legendables();const e=this._parent.filters();void 0!==this._maxItems&&(t=t.slice(0,this._maxItems));const n=this._g.selectAll("g.dc-legend-item").data(t).enter().append("g").attr("class","dc-legend-item").on("mouseover",$(t=>{this._parent.legendHighlight(t)})).on("mouseout",$(t=>{this._parent.legendReset(t)})).on("click",$(t=>{t.chart.legendToggle(t)}));this._highlightSelected&&n.classed(b.SELECTED_CLASS,t=>-1!==e.indexOf(t.name)),this._g.selectAll("g.dc-legend-item").classed("fadeout",t=>t.chart.isLegendableHidden(t)),t.some(F("dashstyle"))?n.append("line").attr("x1",0).attr("y1",this._itemHeight/2).attr("x2",this._itemHeight).attr("y2",this._itemHeight/2).attr("stroke-width",2).attr("stroke-dasharray",F("dashstyle")).attr("stroke",F("color")):n.append("rect").attr("width",this._itemHeight).attr("height",this._itemHeight).attr("fill",t=>t?t.color:"blue");{const t=this;n.append("text").text(t._legendText).attr("x",t._itemHeight+2).attr("y",(function(){return t._itemHeight/2+(this.clientHeight?this.clientHeight:13)/2-2}))}let i=0,r=0;{const t=this;n.attr("transform",(function(e,n){if(t._horizontal){const e=!0===t._autoItemWidth?this.getBBox().width+t._gap:t._itemWidth;i+e>t._legendWidth&&i>0&&(++r,i=0);const n=`translate(${i},${r*t._legendItemHeight()})`;return i+=e,n}return`translate(0,${n*t._legendItemHeight()})`}))}}}class yt extends rt{constructor(t,e){super(),this._renderArea=!1,this._dotRadius=5,this._dataPointRadius=null,this._dataPointFillOpacity=1e-6,this._dataPointStrokeOpacity=1e-6,this._curve=null,this._interpolate=null,this._tension=null,this._defined=void 0,this._dashStyle=void 0,this._xyTipsOn=!0,this.transitionDuration(500),this.transitionDelay(0),this._rangeBandPadding(1),this.label(t=>N.printSingleValue(t.y0+t.y),!1),this.anchor(t,e)}plotData(){const t=this.chartBodyG();let e=t.select("g.stack-list");e.empty()&&(e=t.append("g").attr("class","stack-list"));let n=e.selectAll("g.stack").data(this.data());const i=n.enter().append("g").attr("class",(t,e)=>"stack _"+e);n=i.merge(n),this._drawLine(i,n),this._drawArea(i,n),this._drawDots(t,n),this.renderLabel()&&this._drawLabels(n)}curve(t){return arguments.length?(this._curve=t,this):this._curve}interpolate(t){return x.warnOnce("dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),arguments.length?(this._interpolate=t,this):this._interpolate}tension(t){return x.warnOnce("dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),arguments.length?(this._tension=t,this):this._tension}defined(t){return arguments.length?(this._defined=t,this):this._defined}dashStyle(t){return arguments.length?(this._dashStyle=t,this):this._dashStyle}renderArea(t){return arguments.length?(this._renderArea=t,this):this._renderArea}_getColor(t,e){return this.getColor.call(t,t.values,e)}_getCurveFactory(){let t=null;return this._curve?this._curve:(t="function"==typeof this._interpolate?this._interpolate:{linear:g.curveLinear,"linear-closed":g.curveLinearClosed,step:g.curveStep,"step-before":g.curveStepBefore,"step-after":g.curveStepAfter,basis:g.curveBasis,"basis-open":g.curveBasisOpen,"basis-closed":g.curveBasisClosed,bundle:g.curveBundle,cardinal:g.curveCardinal,"cardinal-open":g.curveCardinalOpen,"cardinal-closed":g.curveCardinalClosed,monotone:g.curveMonotoneX}[this._interpolate],t||(t=g.curveLinear),null!==this._tension&&("function"!=typeof t.tension?x.warn("tension was specified but the curve/interpolate does not support it."):t=t.tension(this._tension)),t)}_drawLine(t,e){const n=g.line().x(t=>this.x()(t.x)).y(t=>this.y()(t.y+t.y0)).curve(this._getCurveFactory());this._defined&&n.defined(this._defined);const i=t.append("path").attr("class","line").attr("stroke",(t,e)=>this._getColor(t,e));this._dashStyle&&i.attr("stroke-dasharray",this._dashStyle),A(e.select("path.line"),this.transitionDuration(),this.transitionDelay()).attr("stroke",(t,e)=>this._getColor(t,e)).attr("d",t=>this._safeD(n(t.values)))}_drawArea(t,e){if(this._renderArea){const n=g.area().x(t=>this.x()(t.x)).y1(t=>this.y()(t.y+t.y0)).y0(t=>this.y()(t.y0)).curve(this._getCurveFactory());this._defined&&n.defined(this._defined),t.append("path").attr("class","area").attr("fill",(t,e)=>this._getColor(t,e)).attr("d",t=>this._safeD(n(t.values))),A(e.select("path.area"),this.transitionDuration(),this.transitionDelay()).attr("fill",(t,e)=>this._getColor(t,e)).attr("d",t=>this._safeD(n(t.values)))}}_safeD(t){return!t||t.indexOf("NaN")>=0?"M0,0":t}_drawDots(t,e){if("always"===this.xyTipsOn()||!this.brushOn()&&!this.parentBrushOn()&&this.xyTipsOn()){const n="dc-tooltip-list";let i=t.select("g."+n);i.empty()&&(i=t.append("g").attr("class",n)),e.each((t,e)=>{let n=t.values;this._defined&&(n=n.filter(this._defined));let s=i.select("g.dc-tooltip._"+e);s.empty()&&(s=i.append("g").attr("class","dc-tooltip _"+e)),this._createRefLines(s);const o=s.selectAll("circle.dot").data(n,F("x")),a=this,l=o.enter().append("circle").attr("class","dot").attr("cx",t=>N.safeNumber(this.x()(t.x))).attr("cy",t=>N.safeNumber(this.y()(t.y+t.y0))).attr("r",this._getDotRadius()).style("fill-opacity",this._dataPointFillOpacity).style("stroke-opacity",this._dataPointStrokeOpacity).attr("fill",this.getColor).attr("stroke",this.getColor).on("mousemove",(function(){const t=r.select(this);a._showDot(t),a._showRefLines(t,s)})).on("mouseout",(function(){const t=r.select(this);a._hideDot(t),a._hideRefLines(s)})).merge(o);l.call(e=>this._doRenderTitle(e,t)),A(l,this.transitionDuration()).attr("cx",t=>N.safeNumber(this.x()(t.x))).attr("cy",t=>N.safeNumber(this.y()(t.y+t.y0))).attr("fill",this.getColor),o.exit().remove()})}}_drawLabels(t){const e=this;t.each((function(t,n){const i=r.select(this).selectAll("text.lineLabel").data(t.values,F("x")),s=i.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(i);A(s,e.transitionDuration()).attr("x",t=>N.safeNumber(e.x()(t.x))).attr("y",t=>{const n=e.y()(t.y+t.y0)-3;return N.safeNumber(n)}).text(t=>e.label()(t)),A(i.exit(),e.transitionDuration()).attr("height",0).remove()}))}_createRefLines(t){(t.select("path.yRef").empty()?t.append("path").attr("class","yRef"):t.select("path.yRef")).style("display","none").attr("stroke-dasharray","5,5"),(t.select("path.xRef").empty()?t.append("path").attr("class","xRef"):t.select("path.xRef")).style("display","none").attr("stroke-dasharray","5,5")}_showDot(t){return t.style("fill-opacity",.8),t.style("stroke-opacity",.8),t.attr("r",this._dotRadius),t}_showRefLines(t,e){const n=t.attr("cx"),i=t.attr("cy"),r=`M${this._yAxisX()-this.margins().left} ${i}L${n} ${i}`,s=`M${n} ${this.yAxisHeight()}L${n} ${i}`;e.select("path.yRef").style("display","").attr("d",r),e.select("path.xRef").style("display","").attr("d",s)}_getDotRadius(){return this._dataPointRadius||this._dotRadius}_hideDot(t){t.style("fill-opacity",this._dataPointFillOpacity).style("stroke-opacity",this._dataPointStrokeOpacity).attr("r",this._getDotRadius())}_hideRefLines(t){t.select("path.yRef").style("display","none"),t.select("path.xRef").style("display","none")}_doRenderTitle(t,e){this.renderTitle()&&(t.select("title").remove(),t.append("title").text(F("data",this.title(e.name))))}xyTipsOn(t){return arguments.length?(this._xyTipsOn=t,this):this._xyTipsOn}dotRadius(t){return arguments.length?(this._dotRadius=t,this):this._dotRadius}renderDataPoints(t){return arguments.length?(t?(this._dataPointFillOpacity=t.fillOpacity||.8,this._dataPointStrokeOpacity=t.strokeOpacity||0,this._dataPointRadius=t.radius||2):(this._dataPointFillOpacity=1e-6,this._dataPointStrokeOpacity=1e-6,this._dataPointRadius=null),this):{fillOpacity:this._dataPointFillOpacity,strokeOpacity:this._dataPointStrokeOpacity,radius:this._dataPointRadius}}_colorFilter(t,e,n){return function(){const i=r.select(this),s=i.attr("stroke")===t&&i.attr("stroke-dasharray")===(e instanceof Array?e.join(","):null)||i.attr("fill")===t;return n?!s:s}}legendHighlight(t){this.isLegendableHidden(t)||this.g().selectAll("path.line, path.area").classed("highlight",this._colorFilter(t.color,t.dashstyle)).classed("fadeout",this._colorFilter(t.color,t.dashstyle,!0))}legendReset(){this.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)}legendables(){const t=super.legendables();return this._dashStyle?t.map(t=>(t.dashstyle=this._dashStyle,t)):t}}const bt=(t,e)=>new yt(t,e);class wt extends q{constructor(t,e){super(),this._formatNumber=i.format(".2s"),this._html={one:"",some:"",none:""},this._lastValue=void 0,this._mandatoryAttributes(["group"]),this.ordering(t=>t.value),this.data(t=>{const e=t.value?t.value():this._maxBin(t.all());return this.valueAccessor()(e)}),this.transitionDuration(250),this.transitionDelay(0),this.anchor(t,e)}html(t){return arguments.length?(t.none?this._html.none=t.none:t.one?this._html.none=t.one:t.some&&(this._html.none=t.some),t.one?this._html.one=t.one:t.some&&(this._html.one=t.some),t.some?this._html.some=t.some:t.one&&(this._html.some=t.one),this):this._html}value(){return this.data()}_maxBin(t){if(!t.length)return null;const e=this._computeOrderedGroups(t);return e[e.length-1]}_doRender(){const t=this.value();let e=this.selectAll(".number-display");e.empty()&&(e=e.data([0]).enter().append("span").attr("class","number-display").merge(e));{const n=this;e.transition().duration(n.transitionDuration()).delay(n.transitionDelay()).ease(_.easeQuad).tween("text",(function(){const e=isFinite(n._lastValue)?n._lastValue:0,i=l.interpolateNumber(e||0,t);n._lastValue=t;const r=this;return e=>{let s=null;const o=n.formatNumber()(i(e));0===t&&""!==n._html.none?s=n._html.none:1===t&&""!==n._html.one?s=n._html.one:""!==n._html.some&&(s=n._html.some),r.innerHTML=s?s.replace("%number",o):o}}))}}_doRedraw(){return this._doRender()}formatNumber(t){return arguments.length?(this._formatNumber=t,this):this._formatNumber}}class xt extends(Q(X(q))){constructor(t,e){super(),this._sliceCssClass="pie-slice",this._labelCssClass="pie-label",this._sliceGroupCssClass="pie-slice-group",this._labelGroupCssClass="pie-label-group",this._emptyCssClass="empty-chart",this._emptyTitle="empty",this._radius=void 0,this._givenRadius=void 0,this._innerRadius=0,this._externalRadiusPadding=0,this._g=void 0,this._cx=void 0,this._cy=void 0,this._minAngleForLabel=.5,this._externalLabelRadius=void 0,this._drawPaths=!1,this.colorAccessor(t=>this.cappedKeyAccessor(t)),this.title(t=>`${this.cappedKeyAccessor(t)}: ${this.cappedValueAccessor(t)}`),this.label(t=>this.cappedKeyAccessor(t)),this.renderLabel(!0),this.transitionDuration(350),this.transitionDelay(0),this.anchor(t,e)}slicesCap(t){return this.cap(t)}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.cx()},${this.cy()})`),this._g.append("g").attr("class",this._sliceGroupCssClass),this._g.append("g").attr("class",this._labelGroupCssClass),this._drawChart(),this}_drawChart(){const t=o.min([this.width(),this.height()])/2;this._radius=this._givenRadius&&this._givenRadius<t?this._givenRadius:t;const e=this._buildArcs(),n=this._pieLayout();let i;if(o.sum(this.data(),t=>this.cappedValueAccessor(t))?(i=n(this.data()),this._g.classed(this._emptyCssClass,!1)):(i=n([{key:this._emptyTitle,value:1,others:[this._emptyTitle]}]),this._g.classed(this._emptyCssClass,!0)),this._g){const t=this._g.select("g."+this._sliceGroupCssClass).selectAll("g."+this._sliceCssClass).data(i),n=this._g.select("g."+this._labelGroupCssClass).selectAll("text."+this._labelCssClass).data(i);this._removeElements(t,n),this._createElements(t,n,e,i),this._updateElements(i,e),this._highlightFilter(),A(this._g,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.cx()},${this.cy()})`)}}_createElements(t,e,n,i){const r=this._createSliceNodes(t);this._createSlicePath(r,n),this._createTitles(r),this._createLabels(e,i,n)}_createSliceNodes(t){return t.enter().append("g").attr("class",(t,e)=>`${this._sliceCssClass} _${e}`)}_createSlicePath(t,e){const n=t.append("path").attr("fill",(t,e)=>this._fill(t,e)).on("click",$(t=>this._onClick(t))).attr("d",(t,n)=>this._safeArc(t,n,e)),i=A(n,this.transitionDuration(),this.transitionDelay());if(i.attrTween){const t=this;i.attrTween("d",(function(e){return t._tweenPie(e,this)}))}}_createTitles(t){this.renderTitle()&&t.append("title").text(t=>this.title()(t.data))}_applyLabelText(t){t.text(t=>!this._sliceHasNoData(t.data)&&!this._sliceTooSmall(t)||this._isSelectedSlice(t)?this.label()(t.data):"")}_positionLabels(t,e){this._applyLabelText(t),A(t,this.transitionDuration(),this.transitionDelay()).attr("transform",t=>this._labelPosition(t,e)).attr("text-anchor","middle")}_highlightSlice(t,e){this.select("g.pie-slice._"+t).classed("highlight",e)}_createLabels(t,e,n){if(this.renderLabel()){const i=t.enter().append("text").attr("class",(t,e)=>{let n=`${this._sliceCssClass} ${this._labelCssClass} _${e}`;return this._externalLabelRadius&&(n+=" external"),n}).on("click",$(t=>this._onClick(t))).on("mouseover",$(t=>{this._highlightSlice(t.index,!0)})).on("mouseout",$(t=>{this._highlightSlice(t.index,!1)}));this._positionLabels(i,n),this._externalLabelRadius&&this._drawPaths&&this._updateLabelPaths(e,n)}}_updateLabelPaths(t,e){let n=this._g.selectAll("polyline."+this._sliceCssClass).data(t);n.exit().remove(),n=n.enter().append("polyline").attr("class",(t,e)=>`pie-path _${e} ${this._sliceCssClass}`).on("click",$(t=>this._onClick(t))).on("mouseover",$(t=>{this._highlightSlice(t.index,!0)})).on("mouseout",$(t=>{this._highlightSlice(t.index,!1)})).merge(n);const i=g.arc().outerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).innerRadius(this._radius-this._externalRadiusPadding),r=A(n,this.transitionDuration(),this.transitionDelay());r.attrTween?r.attrTween("points",(function(t){let n=this._current||t;n={startAngle:n.startAngle,endAngle:n.endAngle};const r=l.interpolate(n,t);return this._current=r(0),t=>{const n=r(t);return[e.centroid(n),i.centroid(n)]}})):r.attr("points",t=>[e.centroid(t),i.centroid(t)]),r.style("visibility",t=>t.endAngle-t.startAngle<1e-4?"hidden":"visible")}_updateElements(t,e){this._updateSlicePaths(t,e),this._updateLabels(t,e),this._updateTitles(t)}_updateSlicePaths(t,e){const n=this._g.selectAll("g."+this._sliceCssClass).data(t).select("path").attr("d",(t,n)=>this._safeArc(t,n,e)),i=A(n,this.transitionDuration(),this.transitionDelay());if(i.attrTween){const t=this;i.attrTween("d",(function(e){return t._tweenPie(e,this)}))}i.attr("fill",(t,e)=>this._fill(t,e))}_updateLabels(t,e){if(this.renderLabel()){const n=this._g.selectAll("text."+this._labelCssClass).data(t);this._positionLabels(n,e),this._externalLabelRadius&&this._drawPaths&&this._updateLabelPaths(t,e)}}_updateTitles(t){this.renderTitle()&&this._g.selectAll("g."+this._sliceCssClass).data(t).select("title").text(t=>this.title()(t.data))}_removeElements(t,e){t.exit().remove(),e.exit().remove()}_highlightFilter(){const t=this;this.hasFilter()?this.selectAll("g."+this._sliceCssClass).each((function(e){t._isSelectedSlice(e)?t.highlightSelected(this):t.fadeDeselected(this)})):this.selectAll("g."+this._sliceCssClass).each((function(){t.resetHighlight(this)}))}externalRadiusPadding(t){return arguments.length?(this._externalRadiusPadding=t,this):this._externalRadiusPadding}innerRadius(t){return arguments.length?(this._innerRadius=t,this):this._innerRadius}radius(t){return arguments.length?(this._givenRadius=t,this):this._givenRadius}cx(t){return arguments.length?(this._cx=t,this):this._cx||this.width()/2}cy(t){return arguments.length?(this._cy=t,this):this._cy||this.height()/2}_buildArcs(){return g.arc().outerRadius(this._radius-this._externalRadiusPadding).innerRadius(this._innerRadius)}_isSelectedSlice(t){return this.hasFilter(this.cappedKeyAccessor(t.data))}_doRedraw(){return this._drawChart(),this}minAngleForLabel(t){return arguments.length?(this._minAngleForLabel=t,this):this._minAngleForLabel}_pieLayout(){return g.pie().sort(null).value(t=>this.cappedValueAccessor(t))}_sliceTooSmall(t){const e=t.endAngle-t.startAngle;return isNaN(e)||e<this._minAngleForLabel}_sliceHasNoData(t){return 0===this.cappedValueAccessor(t)}_isOffCanvas(t){return!t||isNaN(t.startAngle)||isNaN(t.endAngle)}_fill(t,e){return this.getColor(t.data,e)}_onClick(t){this._g.attr("class")!==this._emptyCssClass&&this.onClick(t.data)}_safeArc(t,e,n){let i=n(t,e);return i.indexOf("NaN")>=0&&(i="M0,0"),i}emptyTitle(t){return 0===arguments.length?this._emptyTitle:(this._emptyTitle=t,this)}externalLabels(t){return 0===arguments.length?this._externalLabelRadius:(this._externalLabelRadius=t||void 0,this)}drawPaths(t){return 0===arguments.length?this._drawPaths:(this._drawPaths=t,this)}_labelPosition(t,e){let n;return n=this._externalLabelRadius?g.arc().outerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).innerRadius(this._radius-this._externalRadiusPadding+this._externalLabelRadius).centroid(t):e.centroid(t),isNaN(n[0])||isNaN(n[1])?"translate(0,0)":`translate(${n})`}legendables(){return this.data().map((t,e)=>{const n={name:t.key,data:t.value,others:t.others,chart:this};return n.color=this.getColor(t,e),n})}legendHighlight(t){this._highlightSliceFromLegendable(t,!0)}legendReset(t){this._highlightSliceFromLegendable(t,!1)}legendToggle(t){this.onClick({key:t.name,others:t.others})}_highlightSliceFromLegendable(t,e){this.selectAll("g.pie-slice").each((function(n){t.name===n.data.key&&r.select(this).classed("highlight",e)}))}_tweenPie(t,e){t.innerRadius=this._innerRadius;let n=e._current;n=this._isOffCanvas(n)?{startAngle:0,endAngle:0}:{startAngle:n.startAngle,endAngle:n.endAngle};const i=l.interpolate(n,t);return e._current=i(0),t=>this._safeArc(i(t),0,this._buildArcs())}}class Ct extends(Q(X(J))){constructor(t,e){super(),this._g=void 0,this._labelOffsetX=10,this._labelOffsetY=15,this._hasLabelOffsetY=!1,this._dyOffset="0.35em",this._titleLabelOffsetX=2,this._gap=5,this._fixedBarHeight=!1,this._rowCssClass="row",this._titleRowCssClass="titlerow",this._renderTitleLabel=!1,this._x=void 0,this._elasticX=void 0,this._xAxis=u.axisBottom(),this._rowData=void 0,this.rowsCap=this.cap,this.title(t=>`${this.cappedKeyAccessor(t)}: ${this.cappedValueAccessor(t)}`),this.label(t=>this.cappedKeyAccessor(t)),this.anchor(t,e)}_calculateAxisScale(){if(!this._x||this._elasticX){const t=o.extent(this._rowData,t=>this.cappedValueAccessor(t));t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0),this._x=a.scaleLinear().domain(t).range([0,this.effectiveWidth()])}this._xAxis.scale(this._x)}_drawAxis(){let t=this._g.select("g.axis");this._calculateAxisScale(),t.empty()&&(t=this._g.append("g").attr("class","axis")),t.attr("transform",`translate(0, ${this.effectiveHeight()})`),A(t,this.transitionDuration(),this.transitionDelay()).call(this._xAxis)}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.margins().left},${this.margins().top})`),this._drawChart(),this}x(t){return arguments.length?(this._x=t,this):this._x}_drawGridLines(){this._g.selectAll("g.tick").select("line.grid-line").remove(),this._g.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",()=>-this.effectiveHeight())}_drawChart(){this._rowData=this.data(),this._drawAxis(),this._drawGridLines();let t=this._g.selectAll("g."+this._rowCssClass).data(this._rowData);this._removeElements(t),t=this._createElements(t).merge(t),this._updateElements(t)}_createElements(t){const e=t.enter().append("g").attr("class",(t,e)=>`${this._rowCssClass} _${e}`);return e.append("rect").attr("width",0),this._createLabels(e),e}_removeElements(t){t.exit().remove()}_rootValue(){const t=this._x(0);return t===-1/0||t!=t?this._x(1):t}_updateElements(t){const e=this._rowData.length;let n;n=this._fixedBarHeight?this._fixedBarHeight:(this.effectiveHeight()-(e+1)*this._gap)/e,this._hasLabelOffsetY||(this._labelOffsetY=n/2);const i=t.attr("transform",(t,e)=>`translate(0,${(e+1)*this._gap+e*n})`).select("rect").attr("height",n).attr("fill",this.getColor).on("click",$(t=>this._onClick(t))).classed("deselected",t=>!!this.hasFilter()&&!this._isSelectedRow(t)).classed("selected",t=>!!this.hasFilter()&&this._isSelectedRow(t));A(i,this.transitionDuration(),this.transitionDelay()).attr("width",t=>Math.abs(this._rootValue()-this._x(this.cappedValueAccessor(t)))).attr("transform",t=>this._translateX(t)),this._createTitles(t),this._updateLabels(t)}_createTitles(t){this.renderTitle()&&(t.select("title").remove(),t.append("title").text(this.title()))}_createLabels(t){this.renderLabel()&&t.append("text").on("click",$(t=>this._onClick(t))),this.renderTitleLabel()&&t.append("text").attr("class",this._titleRowCssClass).on("click",$(t=>this._onClick(t)))}_updateLabels(t){if(this.renderLabel()){const e=t.select("text").attr("x",this._labelOffsetX).attr("y",this._labelOffsetY).attr("dy",this._dyOffset).on("click",$(t=>this._onClick(t))).attr("class",(t,e)=>`${this._rowCssClass} _${e}`).text(t=>this.label()(t));A(e,this.transitionDuration(),this.transitionDelay()).attr("transform",t=>this._translateX(t))}if(this.renderTitleLabel()){const e=t.select("."+this._titleRowCssClass).attr("x",this.effectiveWidth()-this._titleLabelOffsetX).attr("y",this._labelOffsetY).attr("dy",this._dyOffset).attr("text-anchor","end").on("click",$(t=>this._onClick(t))).attr("class",(t,e)=>`${this._titleRowCssClass} _${e}`).text(t=>this.title()(t));A(e,this.transitionDuration(),this.transitionDelay()).attr("transform",t=>this._translateX(t))}}renderTitleLabel(t){return arguments.length?(this._renderTitleLabel=t,this):this._renderTitleLabel}_onClick(t){this.onClick(t)}_translateX(t){const e=this._x(this.cappedValueAccessor(t)),n=this._rootValue();return`translate(${e>n?n:e},0)`}_doRedraw(){return this._drawChart(),this}xAxis(t){return arguments.length?(this._xAxis=t,this):this._xAxis}fixedBarHeight(t){return arguments.length?(this._fixedBarHeight=t,this):this._fixedBarHeight}gap(t){return arguments.length?(this._gap=t,this):this._gap}elasticX(t){return arguments.length?(this._elasticX=t,this):this._elasticX}labelOffsetX(t){return arguments.length?(this._labelOffsetX=t,this):this._labelOffsetX}labelOffsetY(t){return arguments.length?(this._labelOffsetY=t,this._hasLabelOffsetY=!0,this):this._labelOffsetY}titleLabelOffsetX(t){return arguments.length?(this._titleLabelOffsetX=t,this):this._titleLabelOffsetX}_isSelectedRow(t){return this.hasFilter(this.cappedKeyAccessor(t))}}class Ot extends tt{constructor(t,e){super(),this._symbol=g.symbol(),this._existenceAccessor=t=>t.value;const n=this.keyAccessor();this.keyAccessor(t=>n(t)[0]),this.valueAccessor(t=>n(t)[1]),this.colorAccessor(()=>this._groupName),this.title(t=>`${this.keyAccessor()(t)},${this.valueAccessor()(t)}: ${this.existenceAccessor()(t)}`),this._highlightedSize=7,this._symbolSize=5,this._excludedSize=3,this._excludedColor=null,this._excludedOpacity=1,this._emptySize=0,this._emptyOpacity=0,this._nonemptyOpacity=1,this._emptyColor=null,this._filtered=[],this._canvas=null,this._context=null,this._useCanvas=!1,this.brush(f.brush()),this._symbol.size((t,e)=>this._elementSize(t,e)),this.anchor(t,e)}_canvasElementSize(t,e){return this._existenceAccessor(t)?e?this._symbolSize/Math.sqrt(Math.PI):this._excludedSize/Math.sqrt(Math.PI):this._emptySize/Math.sqrt(Math.PI)}_elementSize(t,e){return this._existenceAccessor(t)?this._filtered[e]?Math.pow(this._symbolSize,2):Math.pow(this._excludedSize,2):Math.pow(this._emptySize,2)}_locator(t){return`translate(${this.x()(this.keyAccessor()(t))},${this.y()(this.valueAccessor()(t))})`}filter(t){return arguments.length?super.filter(D.RangedTwoDimensionalFilter(t)):super.filter()}resetSvg(){if(this._useCanvas){super.resetSvg(),this.select("canvas").remove();const t=this.svg();this.root().style("position","relative"),t.style("position","relative");const e=isNaN(parseInt(t.style("left"),10))?0:parseInt(t.style("left"),10),n=isNaN(parseInt(t.style("top"),10))?0:parseInt(t.style("top"),10),i=this.effectiveWidth(),r=this.effectiveHeight(),s=this.margins(),o=window.devicePixelRatio||1;return this._canvas=this.root().append("canvas").attr("x",0).attr("y",0).attr("width",i*o).attr("height",r*o).style("width",i+"px").style("height",r+"px").style("position","absolute").style("top",s.top+n+"px").style("left",s.left+e+"px").style("z-index",-1).style("pointer-events","none"),this._context=this._canvas.node().getContext("2d"),this._context.scale(o,o),this._context.rect(0,0,i,r),this._context.clip(),this._context.imageSmoothingQuality="high",this.svg()}return super.resetSvg()}_resizeCanvas(){const t=this.effectiveWidth(),e=this.effectiveHeight(),n=window.devicePixelRatio||1;this._canvas.attr("width",t*n).attr("height",e*n).style("width",t+"px").style("height",e+"px"),this._context.scale(n,n)}useCanvas(t){return arguments.length?(this._useCanvas=t,this):this._useCanvas}canvas(t){return arguments.length?(this._canvas=t,this):this._canvas}context(){return this._context}_plotOnCanvas(t){this._resizeCanvas();const e=this.context();e.clearRect(0,0,1*(e.canvas.width+2),1*(e.canvas.height+2)),this.data().forEach((n,i)=>{const r=!this.filter()||this.filter().isFiltered([n.key[0],n.key[1]]);let s=1;s=this._existenceAccessor(n)?r?this._nonemptyOpacity:this.excludedOpacity():this._emptyOpacity;let o=null;o=this._emptyColor&&!this._existenceAccessor(n)?this._emptyColor:this.excludedColor()&&!r?this.excludedColor():this.getColor(n);let a=this._canvasElementSize(n,r);if(t){const e=o===t.color,n=.1;e||(s=n),e&&(a=this._highlightedSize/Math.sqrt(Math.PI))}e.save(),e.globalAlpha=s,e.beginPath(),e.arc(this.x()(this.keyAccessor()(n)),this.y()(this.valueAccessor()(n)),a,0,2*Math.PI,!0),e.fillStyle=o,e.fill(),e.restore()})}_plotOnSVG(){let t=this.chartBodyG().selectAll("path.symbol").data(this.data());A(t.exit(),this.transitionDuration(),this.transitionDelay()).attr("opacity",0).remove(),t=t.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",this.getColor).attr("transform",t=>this._locator(t)).merge(t),t.call(t=>this._renderTitles(t,this.data())),t.each((t,e)=>{this._filtered[e]=!this.filter()||this.filter().isFiltered([this.keyAccessor()(t),this.valueAccessor()(t)])}),A(t,this.transitionDuration(),this.transitionDelay()).attr("opacity",(t,e)=>this._existenceAccessor(t)?this._filtered[e]?this._nonemptyOpacity:this.excludedOpacity():this._emptyOpacity).attr("fill",(t,e)=>this._emptyColor&&!this._existenceAccessor(t)?this._emptyColor:this.excludedColor()&&!this._filtered[e]?this.excludedColor():this.getColor(t)).attr("transform",t=>this._locator(t)).attr("d",this._symbol)}plotData(){this._useCanvas?this._plotOnCanvas():this._plotOnSVG()}_renderTitles(t,e){this.renderTitle()&&(t.selectAll("title").remove(),t.append("title").text(t=>this.title()(t)))}existenceAccessor(t){return arguments.length?(this._existenceAccessor=t,this):this._existenceAccessor}symbol(t){return arguments.length?(this._symbol.type(t),this):this._symbol.type()}customSymbol(t){return arguments.length?(this._symbol=t,this._symbol.size((t,e)=>this._elementSize(t,e)),this):this._symbol}symbolSize(t){return arguments.length?(this._symbolSize=t,this):this._symbolSize}highlightedSize(t){return arguments.length?(this._highlightedSize=t,this):this._highlightedSize}excludedSize(t){return arguments.length?(this._excludedSize=t,this):this._excludedSize}excludedColor(t){return arguments.length?(this._excludedColor=t,this):this._excludedColor}excludedOpacity(t){return arguments.length?(this._excludedOpacity=t,this):this._excludedOpacity}emptySize(t){return arguments.length?(this._emptySize=t,this):this._emptySize}hiddenSize(t){return arguments.length?this.emptySize(t):this.emptySize()}emptyColor(t){return arguments.length?(this._emptyColor=t,this):this._emptyColor}emptyOpacity(t){return arguments.length?(this._emptyOpacity=t,this):this._emptyOpacity}nonemptyOpacity(t){return arguments.length?(this._nonemptyOpacity=t,this):this._emptyOpacity}legendables(){return[{chart:this,name:this._groupName,color:this.getColor()}]}legendHighlight(t){this._useCanvas?this._plotOnCanvas(t):(this._resizeSymbolsWhere(e=>e.attr("fill")===t.color,this._highlightedSize),this.chartBodyG().selectAll(".chart-body path.symbol").filter((function(){return r.select(this).attr("fill")!==t.color})).classed("fadeout",!0))}legendReset(t){this._useCanvas?this._plotOnCanvas(t):(this._resizeSymbolsWhere(e=>e.attr("fill")===t.color,this._symbolSize),this.chartBodyG().selectAll(".chart-body path.symbol").filter((function(){return r.select(this).attr("fill")!==t.color})).classed("fadeout",!1))}_resizeSymbolsWhere(t,e){const n=this.chartBodyG().selectAll(".chart-body path.symbol").filter((function(){return t(r.select(this))})),i=this._symbol.size();this._symbol.size(Math.pow(e,2)),A(n,this.transitionDuration(),this.transitionDelay()).attr("d",this._symbol),this._symbol.size(i)}createBrushHandlePaths(){}extendBrush(t){return this.round()&&(t[0]=t[0].map(this.round()),t[1]=t[1].map(this.round())),t}brushIsEmpty(t){return!t||t[0][0]>=t[1][0]||t[0][1]>=t[1][1]}_brushing(t){if(this._ignoreBrushEvents)return;let e=t.selection,n=this.brushIsEmpty(e);e&&(e=e.map(t=>t.map((t,e)=>(0===e?this.x():this.y()).invert(t))),e=this.extendBrush(e),n=n&&this.brushIsEmpty(e)),this.redrawBrush(e,!1);const i=n?null:D.RangedTwoDimensionalFilter(e);I.trigger(()=>{this.replaceFilter(i),this.redrawGroup()},b.EVENT_DELAY)}redrawBrush(t,e){if(this._gBrush=this.gBrush(),this.brushOn()&&this._gBrush)if(this.resizing()&&this.setBrushExtents(e),t){t=t.map(t=>t.map((t,e)=>(0===e?this.x():this.y())(t)));const n=P(e,this.transitionDuration(),this.transitionDelay())(this._gBrush);this._withoutBrushEvents(()=>{n.call(this.brush().move,t)})}else this._withoutBrushEvents(()=>{this._gBrush.call(this.brush().move,t)});this.fadeDeselectedArea(t)}}class St extends q{constructor(t,e){super(),this._select=void 0,this._promptText="Select all",this._multiple=!1,this._promptValue=null,this._numberVisible=null,this.data(t=>t.all().filter(this._filterDisplayed)),this._filterDisplayed=t=>this.valueAccessor()(t)>0,this._order=(t,e)=>this.keyAccessor()(t)>this.keyAccessor()(e)?1:this.keyAccessor()(t)<this.keyAccessor()(e)?-1:0,this.anchor(t,e)}_doRender(){return this.select("select").remove(),this._select=this.root().append("select").classed("dc-select-menu",!0),this._select.append("option").text(this._promptText).attr("value",""),this._doRedraw(),this}_doRedraw(){return this._setAttributes(),this._renderOptions(),this.hasFilter()&&this._multiple?this._select.selectAll("option").property("selected",t=>void 0!==t&&this.filters().indexOf(String(this.keyAccessor()(t)))>=0):this.hasFilter()?this._select.property("value",this.filter()):this._select.property("value",""),this}_renderOptions(){const t=this._select.selectAll("option.dc-select-option").data(this.data(),t=>this.keyAccessor()(t));t.exit().remove(),t.enter().append("option").classed("dc-select-option",!0).attr("value",t=>this.keyAccessor()(t)).merge(t).text(this.title()),this._select.selectAll("option.dc-select-option").sort(this._order),this._select.on("change",$((t,e)=>this._onChange(t,e)))}_onChange(t,e){let n;const i=e.target;n=i.selectedOptions?Array.prototype.slice.call(i.selectedOptions).map(t=>t.value):[].slice.call(e.target.options).filter(t=>t.selected).map(t=>t.value),1===n.length&&""===n[0]?n=this._promptValue||null:this._multiple||1!==n.length||(n=n[0]),this.onChange(n)}onChange(t){t&&this._multiple?this.replaceFilter([t]):t?this.replaceFilter(t):this.filterAll(),I.trigger(()=>{this.redrawGroup()})}_setAttributes(){this._select.attr("multiple",!!this._multiple||null),this._select.attr("size",null!==this._numberVisible?this._numberVisible:null)}order(t){return arguments.length?(this._order=t,this):this._order}promptText(t){return arguments.length?(this._promptText=t,this):this._promptText}filterDisplayed(t){return arguments.length?(this._filterDisplayed=t,this):this._filterDisplayed}multiple(t){return arguments.length?(this._multiple=t,this):this._multiple}promptValue(t){return arguments.length?(this._promptValue=t,this):this._promptValue}numberVisible(t){return arguments.length?(this._numberVisible=t,this):this._numberVisible}size(t){return x.warnOnce("selectMenu.size is ambiguous - use selectMenu.numberVisible instead"),arguments.length?this.numberVisible(t):this.numberVisible()}}class kt extends ut{constructor(t,e){super(t,e),this._keySort=(t,e)=>o.ascending(this.keyAccessor()(t),this.keyAccessor()(e)),this._charts={},this._chartFunction=bt,this._chartGroup=e,this._seriesAccessor=void 0,this._seriesSort=o.ascending,this._valueSort=this._keySort,this._mandatoryAttributes().push("seriesAccessor","chart"),this.shareColors(!0)}_compose(t){super.compose(t)}compose(t){throw new Error("Not supported for this chart type")}_preprocessData(){const t=[];let e;const n=K({key:this._seriesAccessor,sortKeys:this._seriesSort,sortValues:this._valueSort,entries:this.data()}).map((n,i)=>{const r=this._charts[n.key]||this._chartFunction(this,this._chartGroup,n.key,i);return this._charts[n.key]||(e=!0),this._charts[n.key]=r,t.push(n.key),r.dimension(this.dimension()).group({all:"function"==typeof n.values?n.values:N.constant(n.values)},n.key).keyAccessor(this.keyAccessor()).valueAccessor(this.valueAccessor()).brushOn(!1)});Object.keys(this._charts).filter(e=>-1===t.indexOf(e)).forEach(t=>{this._clearChart(t),e=!0}),this._compose(n),e&&this.legend()&&this.legend().render()}_clearChart(t){this._charts[t].g()&&this._charts[t].g().remove(),delete this._charts[t]}_resetChildren(){Object.keys(this._charts).map(this._clearChart),this._charts={}}chart(t){return arguments.length?(this._chartFunction=t,this._resetChildren(),this):this._chartFunction}seriesAccessor(t){return arguments.length?(this._seriesAccessor=t,this._resetChildren(),this):this._seriesAccessor}seriesSort(t){return arguments.length?(this._seriesSort=t,this._resetChildren(),this):this._seriesSort}valueSort(t){return arguments.length?(this._valueSort=t,this._resetChildren(),this):this._valueSort}}class Et extends(X(q)){constructor(t,e){super(),this._sliceCssClass="pie-slice",this._emptyCssClass="empty-chart",this._emptyTitle="empty",this._radius=void 0,this._givenRadius=void 0,this._innerRadius=0,this._ringSizes=null,this._g=void 0,this._cx=void 0,this._cy=void 0,this._minAngleForLabel=.5,this._externalLabelRadius=void 0,this.colorAccessor(t=>this.keyAccessor()(t)),this.ordering(F("key")),this.title(t=>`${this.keyAccessor()(t)}: ${this._extendedValueAccessor(t)}`),this.label(t=>this.keyAccessor()(t)),this.renderLabel(!0),this.transitionDuration(350),this.anchor(t,e)}_extendedValueAccessor(t){return t.path?t.value:this.valueAccessor()(t)}_scaleRadius(t,e){if(0===t)return this._innerRadius;{const n=o.sum(this.ringSizes().relativeRingSizes.slice(0,t)),i=t*(1/this.ringSizes().relativeRingSizes.length)/n,r=(e-this.ringSizes().rootOffset)/(1-this.ringSizes().rootOffset)*(this._radius-this._innerRadius);return this._innerRadius+r/i}}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.cx()},${this.cy()})`),this._drawChart(),this}_drawChart(){const t=o.min([this.width(),this.height()])/2;this._radius=this._givenRadius&&this._givenRadius<t?this._givenRadius:t;const e=this._buildArcs();let n,i;if(o.sum(this.data(),this.valueAccessor())?(i=N.toHierarchy(this.data(),this.valueAccessor()),n=this._partitionNodes(i),n.nodes.shift(),this._g.classed(this._emptyCssClass,!1)):(i=N.toHierarchy([],t=>t.value),n=this._partitionNodes(i),this._g.classed(this._emptyCssClass,!0)),this.ringSizes().rootOffset=n.rootOffset,this.ringSizes().relativeRingSizes=n.relativeRingSizes,this._g){const t=this._g.selectAll("g."+this._sliceCssClass).data(n.nodes);this._createElements(t,e,n.nodes),this._updateElements(n.nodes,e),this._removeElements(t),this._highlightFilter(),A(this._g,this.transitionDuration(),this.transitionDelay()).attr("transform",`translate(${this.cx()},${this.cy()})`)}}_createElements(t,e,n){const i=this._createSliceNodes(t);this._createSlicePath(i,e),this._createTitles(i),this._createLabels(n,e)}_createSliceNodes(t){return t.enter().append("g").attr("class",(t,e)=>`${this._sliceCssClass} _${e} ${this._sliceCssClass}-level-${t.depth}`)}_createSlicePath(t,e){const n=t.append("path").attr("fill",(t,e)=>this._fill(t,e)).on("click",$(t=>this.onClick(t))).attr("d",t=>this._safeArc(e,t)),i=A(n,this.transitionDuration());if(i.attrTween){const t=this;i.attrTween("d",(function(e){return t._tweenSlice(e,this)}))}}_createTitles(t){this.renderTitle()&&t.append("title").text(t=>this.title()(t))}_positionLabels(t,e){A(t,this.transitionDuration()).attr("transform",t=>this._labelPosition(t,e)).attr("text-anchor","middle").text(t=>this._sliceHasNoData(t)||this._sliceTooSmall(t)?"":this.label()(t))}_createLabels(t,e){if(this.renderLabel()){const n=this._g.selectAll("text."+this._sliceCssClass).data(t);n.exit().remove();const i=n.enter().append("text").attr("class",(t,e)=>{let n=`${this._sliceCssClass} _${e}`;return this._externalLabelRadius&&(n+=" external"),n}).on("click",$(t=>this.onClick(t)));this._positionLabels(i,e)}}_updateElements(t,e){this._updateSlicePaths(t,e),this._updateLabels(t,e),this._updateTitles(t)}_updateSlicePaths(t,e){const n=this._g.selectAll("g."+this._sliceCssClass).data(t).select("path").attr("d",(t,n)=>this._safeArc(e,t)),i=A(n,this.transitionDuration());if(i.attrTween){const t=this;i.attrTween("d",(function(e){return t._tweenSlice(e,this)}))}i.attr("fill",(t,e)=>this._fill(t,e))}_updateLabels(t,e){if(this.renderLabel()){const n=this._g.selectAll("text."+this._sliceCssClass).data(t);this._positionLabels(n,e)}}_updateTitles(t){this.renderTitle()&&this._g.selectAll("g."+this._sliceCssClass).data(t).select("title").text(t=>this.title()(t))}_removeElements(t){t.exit().remove()}_highlightFilter(){const t=this;t.hasFilter()?t.selectAll("g."+t._sliceCssClass).each((function(e){t._isSelectedSlice(e)?t.highlightSelected(this):t.fadeDeselected(this)})):t.selectAll("g."+t._sliceCssClass).each((function(e){t.resetHighlight(this)}))}innerRadius(t){return arguments.length?(this._innerRadius=t,this):this._innerRadius}radius(t){return arguments.length?(this._givenRadius=t,this):this._givenRadius}cx(t){return arguments.length?(this._cx=t,this):this._cx||this.width()/2}cy(t){return arguments.length?(this._cy=t,this):this._cy||this.height()/2}minAngleForLabel(t){return arguments.length?(this._minAngleForLabel=t,this):this._minAngleForLabel}emptyTitle(t){return 0===arguments.length?this._emptyTitle:(this._emptyTitle=t,this)}externalLabels(t){return 0===arguments.length?this._externalLabelRadius:(this._externalLabelRadius=t||void 0,this)}defaultRingSizes(){return{partitionDy:()=>this._radius*this._radius,scaleInnerRadius:t=>t.data.path&&1===t.data.path.length?this._innerRadius:Math.sqrt(t.y0),scaleOuterRadius:t=>Math.sqrt(t.y1),relativeRingSizesFunction:()=>[]}}equalRingSizes(){return this.relativeRingSizes(t=>{const e=[];for(let n=0;n<t;n++)e.push(1/t);return e})}relativeRingSizes(t){return{partitionDy:()=>1,scaleInnerRadius:t=>this._scaleRadius(t.data.path.length-1,t.y0),scaleOuterRadius:t=>this._scaleRadius(t.data.path.length,t.y1),relativeRingSizesFunction:e=>{const n=t(e);return function(t,e){if(!Array.isArray(t))throw new y("relativeRingSizes function must return an array");const n=o.sum(t);if(Math.abs(n-1)>b.NEGLIGIBLE_NUMBER)throw new y("relativeRingSizes : portions must add up to 1, but sum was "+n);if(t.length!==e)throw new y(`relativeRingSizes : number of values must match number of rings (${e}) but was ${t.length}`)}(n,e),n}}}ringSizes(t){return arguments.length?(this._ringSizes=t,this):(this._ringSizes||(this._ringSizes=this.defaultRingSizes()),this._ringSizes)}_buildArcs(){return g.arc().startAngle(t=>t.x0).endAngle(t=>t.x1).innerRadius(t=>this.ringSizes().scaleInnerRadius(t)).outerRadius(t=>this.ringSizes().scaleOuterRadius(t))}_isSelectedSlice(t){return this._isPathFiltered(t.path)}_isPathFiltered(t){for(let e=0;e<this.filters().length;e++)if(this.filters()[e].isFiltered(t))return!0;return!1}_filtersForPath(t){const e=D.HierarchyFilter(t),n=[];for(let i=0;i<this.filters().length;i++){const r=this.filters()[i];(r.isFiltered(t)||e.isFiltered(r))&&n.push(r)}return n}_doRedraw(){return this._drawChart(),this}_partitionNodes(t){const e=function(t){return{key:t.data.key,value:t.value}},n=v.hierarchy(t).sum(t=>t.children?0:this._extendedValueAccessor(t)).sort((t,n)=>o.ascending(this.ordering()(e(t)),this.ordering()(e(n))));v.partition().size([2*Math.PI,this.ringSizes().partitionDy()])(n);const i=n.descendants().map(t=>(t.key=t.data.key,t.path=t.data.path,t)),r=this.ringSizes().relativeRingSizesFunction(n.height);return{nodes:i,rootOffset:n.y1,relativeRingSizes:r}}_sliceTooSmall(t){const e=t.x1-t.x0;return isNaN(e)||e<this._minAngleForLabel}_sliceHasNoData(t){return 0===this._extendedValueAccessor(t)}_isOffCanvas(t){return!t||isNaN(t.x0)||isNaN(t.y0)}_fill(t,e){return this.getColor(t.data,e)}onClick(t){if(this._g.attr("class")===this._emptyCssClass)return;const e=t.path||t.key,n=D.HierarchyFilter(e),i=this._filtersForPath(e);let r=!1;for(let s=i.length-1;s>=0;s--)N.arraysIdentical(i[s],e)&&(r=!0),this.filter(i[s]);I.trigger(()=>{r||this.filter(n),this.redrawGroup()})}_safeArc(t,e){let n=t(e);return n.indexOf("NaN")>=0&&(n="M0,0"),n}_labelPosition(t,e){let n;return n=this._externalLabelRadius?g.arc().outerRadius(this._radius+this._externalLabelRadius).innerRadius(this._radius+this._externalLabelRadius).centroid(t):e.centroid(t),isNaN(n[0])||isNaN(n[1])?"translate(0,0)":`translate(${n})`}legendables(){return this.data().map((t,e)=>{const n={name:t.key,data:t.value,others:t.others,chart:this};return n.color=this.getColor(t,e),n})}legendHighlight(t){this._highlightSliceFromLegendable(t,!0)}legendReset(t){this._highlightSliceFromLegendable(t,!1)}legendToggle(t){this.onClick({key:t.name,others:t.others})}_highlightSliceFromLegendable(t,e){this.selectAll("g.pie-slice").each((function(n){t.name===n.key&&r.select(this).classed("highlight",e)}))}_tweenSlice(t,e){let n=e._current;this._isOffCanvas(n)&&(n={x0:0,x1:0,y0:0,y1:0});const i=l.interpolate(n,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1});return e._current=i(0),e=>this._safeArc(this._buildArcs(),Object.assign({},t,i(e)))}}class Mt extends q{constructor(t,e){super(),this._normalize=t=>t.toLowerCase(),this._filterFunctionFactory=t=>(t=this._normalize(t),e=>-1!==this._normalize(e).indexOf(t)),this._placeHolder="search",this.group(()=>{throw"the group function on textFilterWidget should never be called, please report the issue"}),this.anchor(t,e)}_doRender(){this.select("input").remove(),this._input=this.root().append("input").classed("dc-text-filter-input",!0);const t=this;return this._input.on("input",(function(){t.dimension().filterFunction(t._filterFunctionFactory(this.value)),I.trigger(()=>{T()},b.EVENT_DELAY)})),this._doRedraw(),this}_doRedraw(){return this.root().selectAll("input").attr("placeholder",this._placeHolder),this}normalize(t){return arguments.length?(this._normalize=t,this):this._normalize}placeHolder(t){return arguments.length?(this._placeHolder=t,this):this._placeHolder}filterFunctionFactory(t){return arguments.length?(this._filterFunctionFactory=t,this):this._filterFunctionFactory}}t.BadArgumentException=y,t.BarChart=st,t.BaseMixin=q,t.BoxPlot=at,t.BubbleChart=lt,t.BubbleMixin=Z,t.BubbleOverlay=ct,t.CapMixin=Q,t.CboxMenu=ht,t.ColorMixin=X,t.CompositeChart=ut,t.Config=C,t.CoordinateGridMixin=tt,t.DataCount=dt,t.DataGrid=ft,t.DataTable=pt,t.GeoChoroplethChart=gt,t.HeatMap=mt,t.HtmlLegend=_t,t.InvalidStateException=L,t.Legend=vt,t.LineChart=yt,t.Logger=w,t.MarginMixin=J,t.NumberDisplay=wt,t.PieChart=xt,t.RowChart=Ct,t.ScatterPlot=Ot,t.SelectMenu=St,t.SeriesChart=kt,t.StackMixin=rt,t.SunburstChart=Et,t.TextFilterWidget=Mt,t.afterTransition=function(t,e){if(t.empty()||!t.duration)e.call(t);else{let n=0;t.each(()=>{++n}).on("end",()=>{--n||e.call(t)})}},t.barChart=(t,e)=>new st(t,e),t.baseMixin=()=>new q,t.boxPlot=(t,e)=>new at(t,e),t.bubbleChart=(t,e)=>new lt(t,e),t.bubbleOverlay=(t,e)=>new ct(t,e),t.cboxMenu=(t,e)=>new ht(t,e),t.chartRegistry=S,t.compositeChart=(t,e)=>new ut(t,e),t.config=O,t.constants=b,t.d3Box=et,t.dataCount=(t,e)=>new dt(t,e),t.dataGrid=(t,e)=>new ft(t,e),t.dataTable=(t,e)=>new pt(t,e),t.deregisterAllCharts=function(t){S.clear(t)},t.deregisterChart=E,t.events=I,t.filterAll=function(t){const e=S.list(t);for(let n=0;n<e.length;++n)e[n].filterAll()},t.filters=D,t.geoChoroplethChart=(t,e)=>new gt(t,e),t.hasChart=function(t){return S.has(t)},t.heatMap=(t,e)=>new mt(t,e),t.htmlLegend=()=>new _t,t.instanceOfChart=R,t.legend=()=>new vt,t.lineChart=bt,t.logger=x,t.numberDisplay=(t,e)=>new wt(t,e),t.optionalTransition=P,t.pieChart=(t,e)=>new xt(t,e),t.pluck=F,t.printers=V,t.redrawAll=T,t.refocusAll=function(t){const e=S.list(t);for(let n=0;n<e.length;++n)e[n].focus&&e[n].focus()},t.registerChart=k,t.renderAll=M,t.renderlet=function(t){return arguments.length?(O._renderlet=t,null):O._renderlet},t.rowChart=(t,e)=>new Ct(t,e),t.scatterPlot=(t,e)=>new Ot(t,e),t.selectMenu=(t,e)=>new St(t,e),t.seriesChart=(t,e)=>new kt(t,e),t.sunburstChart=(t,e)=>new Et(t,e),t.textFilterWidget=(t,e)=>new Mt(t,e),t.transition=A,t.units=B,t.utils=N,t.version="4.1.0",Object.defineProperty(t,"__esModule",{value:!0})}(e,n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"),n("bm4o"))},HK6I:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o}));var i=n("QRdp");function r(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){var s=n;n=function(){t.removeEventListener(e,n),s.apply(this,arguments)}}var o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function s(t,e,n,i){return r(t,e,n,i,!0)}function o(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(i.b)(t))}},"HxX+":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a}));var i=n("vog+");function r(t,e,n,r,o){return!Object(i.t)(o,(function(i){return!s(t,e,n,r,i[0],i[1])}))}function s(t,e,n,i,r,s){for(var o=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var c=t[e],h=t[e+1];l<=s?h>s&&(c-a)*(s-l)-(r-a)*(h-l)>0&&o++:h<=s&&(c-a)*(s-l)-(r-a)*(h-l)<0&&o--,a=c,l=h}return 0!==o}function o(t,e,n,i,r,o){if(0===n.length)return!1;if(!s(t,e,n[0],i,r,o))return!1;for(var a=1,l=n.length;a<l;++a)if(s(t,n[a-1],n[a],i,r,o))return!1;return!0}function a(t,e,n,i,r,s){if(0===n.length)return!1;for(var a=0,l=n.length;a<l;++a){var c=n[a];if(o(t,e,c,i,r,s))return!0;e=c[c.length-1]}return!1}},"I/d5":function(t,e,n){"use strict";function i(t,e,n){for(var i,s,o=n||r,a=0,l=t.length,c=!1;a<l;)(s=+o(t[i=a+(l-a>>1)],e))<0?a=i+1:(l=i,c=!s);return c?a:~a}function r(t,e){return t>e?1:t<e?-1:0}function s(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var r=void 0;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function o(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function a(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function l(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function c(t,e,n){var i=e||r;return t.every((function(e,r){if(0===r)return!0;var s=i(t[r-1],e);return!(s>0||n&&0===s)}))}n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return c}))},I6Yn:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var i=n("PvqL");function r(t,e,n,i,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*i+o*r)/6}var s=n("Lgd7");function o(t){return function(e){var n,r,s=e.length,o=new Array(s),a=new Array(s),l=new Array(s);for(n=0;n<s;++n)r=Object(i.f)(e[n]),o[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return o=t(o),a=t(a),l=t(l),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=l(t),r+""}}}e.a=function t(e){var n=Object(s.b)(e);function r(t,e){var r=n((t=Object(i.f)(t)).r,(e=Object(i.f)(e)).r),o=n(t.g,e.g),a=n(t.b,e.b),l=Object(s.a)(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=a(e),t.opacity=l(e),t+""}}return r.gamma=t,r}(1);var a=o((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),s=t[i],o=t[i+1];return r((n-i/e)*e,i>0?t[i-1]:2*s-o,s,o,i<e-1?t[i+2]:2*o-s)}}));o((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return r((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}}))},JtbZ:function(t,e,n){"use strict";var i,r=n("qJEt"),s=n("G3IQ"),o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,i,r){var s=t.call(this,e,n,i,r)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return o(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([s.c.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([s.c.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([s.c.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([s.c.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=r,this.image_=s,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e},e}(r.a),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return l(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),a=[s.c.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],s.a);var i=t.getFlatCoordinates(),r=t.getStride();this.drawFlatCoordinates_(i,0,i.length,r),this.hitDetectionInstructions.push(s.e),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],s.a);for(var i=t.getEnds(),r=t.getFlatCoordinates(),o=t.getStride(),a=0,l=0,c=i.length;l<c;++l)a=this.drawFlatCoordinates_(r,a,i[l],o);this.hitDetectionInstructions.push(s.e),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(s.e),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(s.e),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(s.a)},e}(r.a),h=n("wINb"),u=n("4Gx9"),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return d(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,l=n.length;this.instructions.push(s.a),this.hitDetectionInstructions.push(s.a);for(var c=0;c<l;++c){var h=n[c],u=this.coordinates.length,d=this.appendFlatLineCoordinates(t,e,h,i,!0,!a),f=[s.c.MOVE_TO_LINE_TO,u,d];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(s.b),this.hitDetectionInstructions.push(s.b)),e=h}return o&&(this.instructions.push(s.d),this.hitDetectionInstructions.push(s.d)),a&&(this.instructions.push(s.e),this.hitDetectionInstructions.push(s.e)),e},e.prototype.drawCircle=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([s.c.SET_FILL_STYLE,h.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,r,!1,!1);var a=[s.c.CIRCLE,o];this.instructions.push(s.a,a),this.hitDetectionInstructions.push(s.a,a),void 0!==n.fillStyle&&(this.instructions.push(s.d),this.hitDetectionInstructions.push(s.d)),void 0!==n.strokeStyle&&(this.instructions.push(s.e),this.hitDetectionInstructions.push(s.e)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([s.c.SET_FILL_STYLE,h.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),r=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(r,0,i,o),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([s.c.SET_FILL_STYLE,h.c]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([s.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),r=t.getOrientedFlatCoordinates(),o=t.getStride(),a=0,l=0,c=i.length;l<c;++l)a=this.drawFlatCoordinatess_(r,a,i[l],o);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,r=n.length;i<r;++i)n[i]=Object(u.e)(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(r.a),p=n("7F2G"),g={Circle:f,Default:r.a,Image:a,LineString:c,Polygon:f,Text:p.b},m=function(){function t(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var r=n[i].finish();t[e][i]=r}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var r=i[e];return void 0===r&&(r=new(0,g[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r),r},t}();e.a=m},KLY9:function(t,e,n){"use strict";var i,r=n("CtKy"),s=n("MicU"),o=n.n(s),a=n("QRdp"),l=n("m+aV"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=this,i=e||{},r=Object(a.a)({},i);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(n=t.call(this,r)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return c(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get("renderOrder")},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new o.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:l.a,this.styleFunction_=null===t?void 0:Object(l.c)(this.style_),this.changed()},e}(r.a);e.a=h},Lgd7:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var i=n("PXG9");function r(t,e){return function(n){return t+n*e}}function s(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(i.a)(isNaN(t)?e:t)}function o(t){return 1==(t=+t)?a:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Object(i.a)(isNaN(e)?n:e)}}function a(t,e){var n=e-t;return n?r(t,n):Object(i.a)(isNaN(t)?e:t)}},Lpbt:function(t,e,n){"use strict";var i,r=n("XnQF"),s=n("j/Z9"),o=n("UqCr"),a=n("lRKV"),l=n("sQKY"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n,i){var r=t.call(this)||this,s=i||{};return r.tileCoord=e,r.state=n,r.interimTile=null,r.hifi=!0,r.key="",r.transition_=void 0===s.transition?250:s.transition,r.transitionStarts_={},r}return c(e,t),e.prototype.changed=function(){this.dispatchEvent(s.a.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==o.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Object(a.b)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else this.transitionStarts_[t]=n=e;var i=e-n+1e3/60;return i>=this.transition_?1:Object(l.a)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(r.a);e.a=h},MMQm:function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},MicU:function(t,e,n){t.exports=function(){"use strict";function t(t,i,r,s,o){!function t(n,i,r,s,o){for(;s>r;){if(s-r>600){var a=s-r+1,l=i-r+1,c=Math.log(a),h=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*h*(a-h)/a)*(l-a/2<0?-1:1);t(n,i,Math.max(r,Math.floor(i-l*h/a+u)),Math.min(s,Math.floor(i+(a-l)*h/a+u)),o)}var d=n[i],f=r,p=s;for(e(n,r,i),o(n[s],d)>0&&e(n,r,s);f<p;){for(e(n,f,p),f++,p--;o(n[f],d)<0;)f++;for(;o(n[p],d)>0;)p--}0===o(n[r],d)?e(n,r,p):e(n,++p,s),p<=i&&(r=p+1),i<=p&&(s=p-1)}}(t,i,r||0,s||t.length-1,o||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){o(t,0,t.children.length,e,t)}function o(t,e,n,i,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s=e;s<n;s++){var o=t.children[s];a(r,t.leaf?i(o):o)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,r,s){for(var o=[n,i];o.length;)if(!((i=o.pop())-(n=o.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;t(e,a,n,i,s),o.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var s=0;s<e.children.length;s++){var o=e.children[s],a=e.leaf?i(o):o;f(t,a)&&(e.leaf?n.push(o):d(t,a)?this._all(o,n):r.push(o))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],s=e.leaf?this.toBBox(r):r;if(f(t,s)){if(e.leaf||d(t,s))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=p([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,s,o=this.data,a=this.toBBox(t),l=[],c=[];o||l.length;){if(o||(o=l.pop(),i=l[l.length-1],n=c.pop(),s=!0),o.leaf){var h=r(t,o.children,e);if(-1!==h)return o.children.splice(h,1),l.push(o),this._condense(l),this}s||o.leaf||!d(o,a)?i?(n++,o=i.children[n],s=!1):o=null:(l.push(o),c.push(n),n=0,i=o,o=o.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=p(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=p([])).leaf=!1,r.height=i;var l=Math.ceil(o/a),c=l*Math.ceil(Math.sqrt(a));g(t,e,n,c,this.compareMinX);for(var h=e;h<=n;h+=c){var u=Math.min(h+c-1,n);g(t,h,u,l,this.compareMinY);for(var d=h;d<=u;d+=l){var f=Math.min(d+l-1,u);r.children.push(this._build(t,d,f,i-1))}}return s(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,s=1/0,o=void 0,a=0;a<e.children.length;a++){var l=e.children[a],c=h(l),u=(d=t,f=l,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-c);u<s?(s=u,r=c<r?c:r,o=l):u===s&&c<r&&(r=c,o=l)}e=o||e.children[0]}var d,f;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],s=this._chooseSubtree(i,this.data,e,r);for(s.children.push(t),a(s,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=p(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,s,a,l,c,u,d=1/0,f=1/0,p=e;p<=n-e;p++){var g=o(t,0,p,this.toBBox),m=o(t,p,n,this.toBBox),_=(r=g,s=m,a=Math.max(r.minX,s.minX),l=Math.max(r.minY,s.minY),c=Math.min(r.maxX,s.maxX),u=Math.min(r.maxY,s.maxY),Math.max(0,c-a)*Math.max(0,u-l)),v=h(g)+h(m);_<d?(d=_,i=p,f=v<f?v:f):_===d&&v<f&&(f=v,i=p)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,s=o(t,0,e,r),l=o(t,n-e,n,r),c=u(s)+u(l),h=e;h<n-e;h++){var d=t.children[h];a(s,t.leaf?r(d):d),c+=u(s)}for(var f=n-e-1;f>=e;f--){var p=t.children[f];a(l,t.leaf?r(p):p),c+=u(l)}return c},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():s(t[e],this.toBBox)},i}()},PXG9:function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},"Pda+":function(t,e,n){"use strict";n.d(e,"a",(function(){return J}));var i,r=n("+cQG"),s=n("nSfQ"),o=n("mm/l"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return a(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==o.a.DBLCLICK){var n=t.originalEvent,i=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_,a=t.map.getView();Object(s.c)(a,r,i,this.duration_),n.preventDefault(),e=!0}return!e},e}(s.a),c=n("H40N"),h=n("h7by"),u=n("8JWR"),d=n("SHzd");function f(t){var e=arguments;return function(t){for(var n=!0,i=0,r=e.length;i<r&&(n=n&&e[i](t));++i);return n}}var p=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},g=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},m=h.b,_=function(t){var e=t.originalEvent;return 0==e.button&&!(u.f&&u.d&&e.ctrlKey)},v=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},y=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},b=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},w=function(t){var e=t.originalEvent;return Object(d.a)(void 0!==e,56),"mouse"==e.pointerType},x=function(t){var e=t.originalEvent;return Object(d.a)(void 0!==e,56),e.isPrimary&&0===e.button},C=n("sQKY"),O=n("61KW"),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(t){function e(e){var n=t.call(this,{stopDown:h.a})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1;var r=i.condition?i.condition:f(v,x);return n.condition_=i.onFocusOnly?f(g,r):r,n.noKinetic_=!1,n}return S(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Object(c.a)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],r=t.map.getView();Object(O.e)(i,r.getResolution()),Object(O.d)(i,r.getRotation()),r.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),s=n.getCenterInternal(),o=e.getPixelFromCoordinateInternal(s),a=e.getCoordinateFromPixelInternal([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(a),duration:500,easing:C.b})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(c.b),E=n("SMMa"),M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),T=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:h.a})||this).condition_=i.condition?i.condition:p,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return M(e,t),e.prototype.handleDragEvent=function(t){if(w(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==E.c){var i=e.getSize(),r=t.pixel,s=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){return!w(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!w(t)||!_(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(c.b),A=n("70ZC"),P=n("nh1Y"),R=n("hWN6"),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),D=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return I(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new R.a([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(P.a),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.coordinate=n,r.mapBrowserEvent=i,r}return L(e,t),e}(A.a),N=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new D(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:_,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return L(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new F("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new F(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new F("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(c.b),j=n("vog+"),z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),V=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{condition:i.condition?i.condition:y,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return z(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap(),n=e.getView(),i=e.getSize(),r=this.getGeometry().getExtent();if(this.out_){var s=n.calculateExtentInternal(i),o=Object(j.n)([e.getPixelFromCoordinateInternal(Object(j.v)(r)),e.getPixelFromCoordinateInternal(Object(j.D)(r))]),a=n.getResolutionForExtentInternal(o,i);Object(j.J)(s,1/a),r=s}var l=n.getConstrainedResolution(n.getResolutionForExtentInternal(r,i)),c=n.getConstrainedCenter(Object(j.x)(r),l);n.animateInternal({resolution:l,center:c,duration:this.duration_,easing:C.b})},e}(N),B=n("j/Z9"),H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),U=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(t){return v(t)&&b(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return H(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==B.a.KEYDOWN){var n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(40==i||37==i||39==i||38==i)){var r=t.map.getView(),o=r.getResolution()*this.pixelDelta_,a=0,l=0;40==i?l=-o:37==i?a=-o:39==i?a=o:l=o;var c=[a,l];Object(O.d)(c,r.getRotation()),Object(s.b)(r,c,this.duration_),n.preventDefault(),e=!0}}return!e},e}(s.a),G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:b,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return G(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==B.a.KEYDOWN||t.type==B.a.KEYPRESS){var n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var r=t.map,o=i=="+".charCodeAt(0)?this.delta_:-this.delta_,a=r.getView();Object(s.c)(a,o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(s.a),Y=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],s=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(s,r),this.initialVelocity_=Math.sqrt(r*r+s*s)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),q=n("0eRI"),X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var r=i.condition?i.condition:m;return n.condition_=i.onFocusOnly?f(g,r):r,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return X(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==B.a.WHEEL)return!0;var e,n=t.map,i=t.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==B.a.WHEEL&&(e=i.deltaY,u.b&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=u.a),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?"trackpad":"wheel");var s=n.getView();if("trackpad"===this.mode_&&!s.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=e;var o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),o),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Object(q.a)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Object(s.c)(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(s.a),K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Z=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=h.a),(n=t.call(this,r)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return K(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var s=r-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=r;var o=t.map,a=o.getView();if(a.getConstraints().rotation!==E.c){var l=o.getViewport().getBoundingClientRect(),h=Object(c.a)(this.targetPointers);h[0]-=l.left,h[1]-=l.top,this.anchor_=o.getCoordinateFromPixelInternal(h),this.rotating_&&(o.render(),a.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(c.b),Q=n("re9t");function J(t){var e=t||{},n=new r.a,i=new Y(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new T),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new l({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new k({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Z),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Q.a({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new U),n.push(new W({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new $({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new V({duration:e.zoomDuration})),n}},PooM:function(t,e,n){"use strict";var i,r=n("CBkX"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return s(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(r.a);e.a=o},PvqL:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return b})),n.d(e,"g",(function(){return C})),n.d(e,"f",(function(){return O})),n.d(e,"b",(function(){return S}));var i=n("AonO");function r(){}var s=.7,o=1/s,a="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),f=new RegExp("^rgba\\("+[a,a,a,l]+"\\)$"),p=new RegExp("^rgba\\("+[c,c,c,l]+"\\)$"),g=new RegExp("^hsl\\("+[l,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[l,c,c,l]+"\\)$"),_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new S(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?x(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=u.exec(t))?new S(e[1],e[2],e[3],1):(e=d.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=f.exec(t))?x(e[1],e[2],e[3],e[4]):(e=p.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?T(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?T(e[1],e[2]/100,e[3]/100,e[4]):_.hasOwnProperty(t)?w(_[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function w(t){return new S(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,i){return i<=0&&(t=e=n=NaN),new S(t,e,n,i)}function C(t){return t instanceof r||(t=b(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function O(t,e,n,i){return 1===arguments.length?C(t):new S(t,e,n,null==i?1:i)}function S(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function k(){return"#"+M(this.r)+M(this.g)+M(this.b)}function E(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function M(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function T(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new P(t,e,n,i)}function A(t){if(t instanceof P)return new P(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=b(t)),!t)return new P;if(t instanceof P)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,s=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,l=o-s,c=(o+s)/2;return l?(a=e===o?(n-i)/l+6*(n<i):n===o?(i-e)/l+2:(e-n)/l+4,l/=c<.5?o+s:2-o-s,a*=60):l=c>0&&c<1?0:a,new P(a,l,c,t.opacity)}function P(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function R(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(i.a)(r,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:v,formatHex:v,formatHsl:function(){return A(this).formatHsl()},formatRgb:y,toString:y}),Object(i.a)(S,O,Object(i.b)(r,{brighter:function(t){return t=null==t?o:Math.pow(o,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatRgb:E,toString:E})),Object(i.a)(P,(function(t,e,n,i){return 1===arguments.length?A(t):new P(t,e,n,null==i?1:i)}),Object(i.b)(r,{brighter:function(t){return t=null==t?o:Math.pow(o,t),new P(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new P(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new S(R(t>=240?t-240:t+120,r,i),R(t,r,i),R(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},QRdp:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return o}));var i="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var s=arguments[i];if(null!=s)for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])}return n};function r(t){for(var e in t)delete t[e]}var s="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function o(t){var e;for(e in t)return!1;return!e}},QZ7v:function(t,e,n){"use strict";var i=n("8Az/"),r=n("G3IQ"),s=n("7F2G"),o=n("8JWR"),a=n("zqV8"),l=n("vog+"),c=n("wINb"),h=n("0eRI"),u=n("Trb+");function d(t,e,n,i,r,s,o,a,l,c,d,f){var p=t[e],g=t[e+1],m=0,_=0,v=0,y=0;function b(){m=p,_=g,p=t[e+=i],g=t[e+1],y+=v,v=Math.sqrt((p-m)*(p-m)+(g-_)*(g-_))}do{b()}while(e<n-i&&y+v<s);for(var w=(s-y)/v,x=Object(h.c)(m,p,w),C=Object(h.c)(_,g,w),O=e-i,S=y,k=s+a*l(c,r,d);e<n-i&&y+v<k;)b();w=(k-y)/v;var E,M=Object(h.c)(m,p,w),T=Object(h.c)(_,g,w);if(f){var A=[x,C,M,T];Object(u.a)(A,0,4,2,f,A,A),E=A[0]>A[2]}else E=x>M;var P,R=Math.PI,I=[],D=O+i===e;if(v=0,y=S,p=t[e=O],g=t[e+1],D){b();var L=Math.atan2(g-_,p-m);return E&&(L+=L>0?-R:R),I[0]=[G=(M+x)/2,W=(T+C)/2,(k-s)/2,L,r],I}for(var F=0,N=r.length;F<N;){b();var j=Math.atan2(g-_,p-m);if(E&&(j+=j>0?-R:R),void 0!==P){var z=j-P;if(z+=z>R?-2*R:z<-R?2*R:0,Math.abs(z)>o)return null}P=j;for(var V=F,B=0;F<N;++F){var H=a*l(c,r[E?N-F-1:F],d);if(e+i<n&&y+v<s+B+H/2)break;B+=H}if(F!==V){var U=E?r.substring(N-V,N-F):r.substring(V,F);w=(s+B/2-y)/v;var G=Object(h.c)(m,p,w),W=Object(h.c)(_,g,w);I.push([G,W,B/2,j,U]),s+=B}}return I}var f=n("I/d5"),p=n("nHI4"),g=Object(l.j)(),m=[],_=[],v=[],y=[];function b(t){return t[3].declutterBox}var w=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function x(t,e){return"start"!==e&&"end"!==e||w.test(t)||(e="start"===e?"left":"right"),s.a[e]}var C=function(){function t(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=Object(a.c)(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,i){var r=t+e+n+i;if(this.labels_[r])return this.labels_[r];var s=i?this.strokeStates[i]:null,a=n?this.fillStates[n]:null,l=this.textStates[e],h=this.pixelRatio,u=[l.scale[0]*h,l.scale[1]*h],d=x(t,l.textAlign||c.m),f=i&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),g=p.length,m=[],_=Object(c.r)(l.font,p,m),v=Object(c.q)(l.font),y=_+f,b=[],w=(y+2)*u[0],C=(v*g+f)*u[1],O={width:w<0?Math.floor(w):Math.ceil(w),height:C<0?Math.floor(C):Math.ceil(C),contextInstructions:b};1==u[0]&&1==u[1]||b.push("scale",u),b.push("font",l.font),i&&(b.push("strokeStyle",s.strokeStyle),b.push("lineWidth",f),b.push("lineCap",s.lineCap),b.push("lineJoin",s.lineJoin),b.push("miterLimit",s.miterLimit),(o.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(b.push("setLineDash",[s.lineDash]),b.push("lineDashOffset",s.lineDashOffset))),n&&b.push("fillStyle",a.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");var S,k=.5-d,E=d*y+k*f;if(i)for(S=0;S<g;++S)b.push("strokeText",[p[S],E+k*m[S],.5*(f+v)+S*v]);if(n)for(S=0;S<g;++S)b.push("fillText",[p[S],E+k*m[S],.5*(f+v)+S*v]);return this.labels_[r]=O,O},t.prototype.replayTextBackground_=function(t,e,n,i,r,s,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),s&&(this.alignFill_=s[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,r,s,o,c,h,u,d,f,p,b,w,x){var C,O=n-(o*=f[0]),S=i-(c*=f[1]),k=r+h>t?t-h:r,E=s+u>e?e-u:s,M=b[3]+k*f[0]+b[1],T=b[0]+E*f[1]+b[2],A=O-b[3],P=S-b[0];return(w||0!==d)&&(m[0]=A,y[0]=A,m[1]=P,_[1]=P,_[0]=A+M,v[0]=_[0],v[1]=P+T,y[1]=v[1]),0!==d?(C=Object(a.b)(Object(a.c)(),n,i,1,1,d,-n,-i),Object(a.a)(C,m),Object(a.a)(C,_),Object(a.a)(C,v),Object(a.a)(C,y),Object(l.k)(Math.min(m[0],_[0],v[0],y[0]),Math.min(m[1],_[1],v[1],y[1]),Math.max(m[0],_[0],v[0],y[0]),Math.max(m[1],_[1],v[1],y[1]),g)):Object(l.k)(Math.min(A,A+M),Math.min(P,P+T),Math.max(A,A+M),Math.max(P,P+T),g),p&&(O=Math.round(O),S=Math.round(S)),{drawImageX:O,drawImageY:S,drawImageW:k,drawImageH:E,originX:h,originY:u,declutterBox:{minX:g[0],minY:g[1],maxX:g[2],maxY:g[3],value:x},canvasTransform:C,scale:f}},t.prototype.replayImageOrLabel_=function(t,e,n,i,r,s,o){var a=i.declutterBox,l=t.canvas,h=o?o[2]*i.scale[0]/2:0;return a.minX-h<=l.width/e&&a.maxX+h>=0&&a.minY-h<=l.height/e&&a.maxY+h>=0&&(!(!s&&!o)&&this.replayTextBackground_(t,m,_,v,y,s,o),Object(c.o)(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(a.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var r=this.textStates[e],o=this.createLabel(t,e,i,n),a=this.strokeStates[n],l=this.pixelRatio,h=x(t,r.textAlign||c.m),u=s.a[r.textBaseline||c.n],d=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:h*(o.width/l-2*r.scale[0])+2*(.5-h)*d,anchorY:u*o.height/l+2*(.5-u)*d}},t.prototype.execute_=function(t,e,n,i,o,h,g,m){var _;this.pixelCoordinates_&&Object(f.b)(n,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=Object(u.c)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),Object(a.i)(this.renderedTransform_,n));for(var v,y,w,x,C,O,S,k,E,M,T,A,P,R,I,D,L=0,F=i.length,N=0,j=0,z=0,V=null,B=null,H=this.coordinateCache_,U=this.viewRotation_,G=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,W={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:U},Y=this.instructions!=i||this.overlaps?0:200;L<F;){var q=i[L];switch(q[0]){case r.c.BEGIN_GEOMETRY:D=q[3],(P=q[1]).getGeometry()?void 0===g||Object(l.F)(g,D.getExtent())?++L:L=q[2]+1:L=q[2];break;case r.c.BEGIN_PATH:j>Y&&(this.fill_(t),j=0),z>Y&&(t.stroke(),z=0),j||z||(t.beginPath(),x=NaN,C=NaN),++L;break;case r.c.CIRCLE:var X=_[N=q[1]],$=_[N+1],K=_[N+2]-X,Z=_[N+3]-$,Q=Math.sqrt(K*K+Z*Z);t.moveTo(X+Q,$),t.arc(X,$,Q,0,2*Math.PI,!0),++L;break;case r.c.CLOSE_PATH:t.closePath(),++L;break;case r.c.CUSTOM:N=q[1],v=q[2];var J=q[4],tt=6==q.length?q[5]:void 0;W.geometry=q[3],W.feature=P,L in H||(H[L]=[]);var et=H[L];tt?tt(_,N,v,2,et):(et[0]=_[N],et[1]=_[N+1],et.length=2),J(et,W),++L;break;case r.c.DRAW_IMAGE:N=q[1],v=q[2],y=q[4],w=q[5];var nt=q[6],it=q[7],rt=q[8],st=q[9],ot=q[10],at=q[11],lt=q[12],ct=q[13],ht=q[14];if(!(k=q[3])&&q.length>=19){var ut=this.drawLabelWithPointPlacement_(E=q[18],M=q[19],T=q[20],A=q[21]);q[3]=k=ut.label,q[4]=y=(ut.anchorX-q[22])*this.pixelRatio,q[5]=w=(ut.anchorY-q[23])*this.pixelRatio,q[6]=nt=k.height,q[13]=ct=k.width}var dt=void 0;q.length>24&&(dt=q[24]);var ft=void 0,pt=void 0,gt=void 0;q.length>16?(ft=q[15],pt=q[16],gt=q[17]):(ft=c.k,pt=!1,gt=!1),ot&&G?at+=U:ot||G||(at-=U);for(var mt=0;N<v;N+=2)if(!(dt&&dt[mt++]<ct/this.pixelRatio)){var _t=[t,e,k,Bt=this.calculateImageOrLabelDimensions_(k.width,k.height,_[N],_[N+1],ct,nt,y,w,rt,st,at,lt,o,ft,pt||gt,P),it,pt?V:null,gt?B:null],vt=void 0,yt=void 0;if(m&&ht){if(!ht[N]){ht[N]=_t;continue}if(vt=ht[N],delete ht[N],yt=b(vt),m.collides(yt))continue}m&&m.collides(Bt.declutterBox)||(vt&&(m&&m.insert(yt),this.replayImageOrLabel_.apply(this,vt)),m&&m.insert(Bt.declutterBox),this.replayImageOrLabel_.apply(this,_t))}++L;break;case r.c.DRAW_CHARS:var bt=q[1],wt=q[2],xt=q[3],Ct=q[4];A=q[5];var Ot=q[6],St=q[7],kt=q[8];T=q[9];var Et=q[10];E=q[11];var Mt=[q[13],q[13]],Tt=this.textStates[M=q[12]],At=Tt.font,Pt=[Tt.scale[0]*St,Tt.scale[1]*St],Rt=void 0;At in this.widths_?Rt=this.widths_[At]:this.widths_[At]=Rt={};var It=Object(p.a)(_,bt,wt,2),Dt=Math.abs(Pt[0])*Object(c.p)(At,E,Rt);if(Ct||Dt<=It){var Lt=d(_,bt,wt,2,E,(It-Dt)*s.a[this.textStates[M].textAlign],Ot,Math.abs(Pt[0]),c.p,At,Rt,G?0:this.viewRotation_);t:if(Lt){var Ft=[],Nt=void 0,jt=void 0,zt=void 0,Vt=void 0;if(T)for(Nt=0,jt=Lt.length;Nt<jt;++Nt){zt=this.createLabel((Vt=Lt[Nt])[4],M,"",T);var Bt=this.calculateImageOrLabelDimensions_(zt.width,zt.height,Vt[0],Vt[1],zt.width,zt.height,y=Vt[2]+(Pt[0]<0?-Et:Et),w=xt*zt.height+2*(.5-xt)*Et*Pt[1]/Pt[0]-kt,0,0,Vt[3],Mt,!1,c.k,!1,P);if(m&&m.collides(Bt.declutterBox))break t;Ft.push([t,e,zt,Bt,1,null,null])}if(A)for(Nt=0,jt=Lt.length;Nt<jt;++Nt){if(zt=this.createLabel((Vt=Lt[Nt])[4],M,A,""),Bt=this.calculateImageOrLabelDimensions_(zt.width,zt.height,Vt[0],Vt[1],zt.width,zt.height,y=Vt[2],w=xt*zt.height-kt,0,0,Vt[3],Mt,!1,c.k,!1,P),m&&m.collides(Bt.declutterBox))break t;Ft.push([t,e,zt,Bt,1,null,null])}m&&m.load(Ft.map(b));for(var Ht=0,Ut=Ft.length;Ht<Ut;++Ht)this.replayImageOrLabel_.apply(this,Ft[Ht])}}++L;break;case r.c.END_GEOMETRY:if(void 0!==h){var Gt=h(P=q[1],D);if(Gt)return Gt}++L;break;case r.c.FILL:Y?j++:this.fill_(t),++L;break;case r.c.MOVE_TO_LINE_TO:for(v=q[2],S=(I=_[(N=q[1])+1])+.5|0,(O=(R=_[N])+.5|0)===x&&S===C||(t.moveTo(R,I),x=O,C=S),N+=2;N<v;N+=2)O=(R=_[N])+.5|0,S=(I=_[N+1])+.5|0,N!=v-2&&O===x&&S===C||(t.lineTo(R,I),x=O,C=S);++L;break;case r.c.SET_FILL_STYLE:V=q,this.alignFill_=q[2],j&&(this.fill_(t),j=0,z&&(t.stroke(),z=0)),t.fillStyle=q[1],++L;break;case r.c.SET_STROKE_STYLE:B=q,z&&(t.stroke(),z=0),this.setStrokeStyle_(t,q),++L;break;case r.c.STROKE:Y?z++:t.stroke(),++L;break;default:++L}}j&&this.fill_(t),z&&t.stroke()},t.prototype.execute=function(t,e,n,i,r,s){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,s)},t.prototype.executeHitDetection=function(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,r)},t}(),O=n("jekj"),S=n("QRdp"),k=[i.a.POLYGON,i.a.CIRCLE,i.a.LINE_STRING,i.a.IMAGE,i.a.TEXT,i.a.DEFAULT],E=function(){function t(t,e,n,i,r,s){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(a.c)(),this.createExecutors_(r)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=t[e],r=[this.renderBuffer_||0,this.renderBuffer_||0];for(var s in i)n[s]=new C(this.resolution_,this.pixelRatio_,this.overlaps_,i[s],r)}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,s,o){var c=2*(r=Math.round(r))+1,h=Object(a.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Object(O.a)(c,c));var d,p=this.hitDetectionContext_;p.canvas.width!==c||p.canvas.height!==c?(p.canvas.width=c,p.canvas.height=c):u||p.clearRect(0,0,c,c),void 0!==this.renderBuffer_&&(d=Object(l.j)(),Object(l.r)(d,t),Object(l.c)(d,e*(this.renderBuffer_+r),d));var g,m=function(t){if(void 0!==M[t])return M[t];for(var e=2*t+1,n=t*t,i=new Array(n+1),r=0;r<=t;++r)for(var s=0;s<=t;++s){var o=r*r+s*s;if(o>n)break;var a=i[o];a||(i[o]=a=[]),a.push(4*((t+r)*e+(t+s))+3),r>0&&a.push(4*((t-r)*e+(t+s))+3),s>0&&(a.push(4*((t+r)*e+(t-s))+3),r>0&&a.push(4*((t-r)*e+(t-s))+3))}for(var l=[],c=(r=0,i.length);r<c;++r)i[r]&&l.push.apply(l,i[r]);return M[t]=l,l}(r);function _(t,e){for(var n=p.getImageData(0,0,c,c).data,a=0,l=m.length;a<l;a++)if(n[m[a]]>0){if(!o||g!==i.a.IMAGE&&g!==i.a.TEXT||-1!==o.indexOf(t)){var h=(m[a]-3)/4,u=r-h%c,d=r-(h/c|0),f=s(t,e,u*u+d*d);if(f)return f}p.clearRect(0,0,c,c);break}}var v,y,b,w,x,C=Object.keys(this.executorsByZIndex_).map(Number);for(C.sort(f.f),v=C.length-1;v>=0;--v){var S=C[v].toString();for(b=this.executorsByZIndex_[S],y=k.length-1;y>=0;--y)if(void 0!==(w=b[g=k[y]])&&(x=w.executeHitDetection(p,h,n,_,d)))return x}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],r=e[2],s=e[3],o=[n,i,n,s,r,s,r,i];return Object(u.c)(o,0,8,2,t,o),o},t.prototype.isEmpty=function(){return Object(S.d)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,i,r,s,o){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(f.f),this.maxExtent_&&(t.save(),this.clip(t,n));var l,c,h,u,d,p,g=s||k;for(o&&a.reverse(),l=0,c=a.length;l<c;++l){var m=a[l].toString();for(d=this.executorsByZIndex_[m],h=0,u=g.length;h<u;++h)void 0!==(p=d[g[h]])&&p.execute(t,e,n,i,r,o)}this.maxExtent_&&t.restore()},t}(),M={};e.a=E},R1Jz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return c}));var i=n("vog+"),r=n("ENu+"),s=n("HxX+");function o(t,e,n,s,o){var a=Object(i.s)(Object(i.j)(),t,e,n,s);return!!Object(i.F)(o,a)&&(!!Object(i.g)(o,a)||a[0]>=o[0]&&a[2]<=o[2]||a[1]>=o[1]&&a[3]<=o[3]||Object(r.a)(t,e,n,s,(function(t,e){return Object(i.G)(o,t,e)})))}function a(t,e,n,i,r){for(var s=0,a=n.length;s<a;++s){if(o(t,e,n[s],i,r))return!0;e=n[s]}return!1}function l(t,e,n,i,r){if(!function(t,e,n,i,r){return!!(o(t,e,n,i,r)||Object(s.b)(t,e,n,i,r[0],r[1])||Object(s.b)(t,e,n,i,r[0],r[3])||Object(s.b)(t,e,n,i,r[2],r[1])||Object(s.b)(t,e,n,i,r[2],r[3]))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var a=1,l=n.length;a<l;++a)if(Object(s.a)(t,n[a-1],n[a],i,r)&&!o(t,n[a-1],n[a],i,r))return!1;return!0}function c(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s){var a=n[s];if(l(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}},RN2F:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,e),window.removeEventListener("testPassiveEventSupport",n,e),i.hasSupport=t}}};i.update(),e.default=i},RlRc:function(t,e,n){"use strict";var i,r=n("CtKy"),s=n("cE1l"),o=n("QRdp"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=this,i=e||{},r=Object(o.a)({},i);return delete r.preload,delete r.useInterimTilesOnError,(n=t.call(this,r)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return a(e,t),e.prototype.getPreload=function(){return this.get(s.a.PRELOAD)},e.prototype.setPreload=function(t){this.set(s.a.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(r.a),c=n("1lfU"),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=function(t){function e(e){return t.call(this,e)||this}return h(e,t),e.prototype.createRenderer=function(){return new c.a(this)},e}(l);e.a=u},Rznk:function(t,e,n){"use strict";var i,r=n("nu7S"),s=n("j/Z9"),o=n("FlXx"),a=n("I/d5"),l=n("CtKy"),c=n("jekj"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",a=void 0!==i.tipLabel?i.tipLabel:"Attributions",l=void 0!==i.expandClassName?i.expandClassName:r+"-expand",c=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",h=void 0!==i.collapseClassName?i.collapseClassName:r+"-collpase";"string"==typeof c?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=c,n.collapseLabel_.className=h):n.collapseLabel_=c;var u=void 0!==i.label?i.label:"i";"string"==typeof u?(n.label_=document.createElement("span"),n.label_.textContent=u,n.label_.className=l):n.label_=u;var d=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=a,f.appendChild(d),f.addEventListener(s.a.CLICK,n.handleClick_.bind(n),!1);var p=n.element;return p.className=r+" "+o.e+" "+o.b+(n.collapsed_&&n.collapsible_?" "+o.a:"")+(n.collapsible_?"":" ol-uncollapsible"),p.appendChild(n.ulElement_),p.appendChild(f),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return h(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=!0,r=t.layerStatesArray,s=0,o=r.length;s<o;++s){var a=r[s];if(Object(l.b)(a,t.viewState)){var c=a.layer.getSource();if(c){var h=c.getAttributions();if(h){var u=h(t);if(u)if(i=i&&!1!==c.getAttributionsCollapsible(),Array.isArray(u))for(var d=0,f=u.length;d<f;++d)u[d]in e||(n.push(u[d]),e[u[d]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(a.b)(e,this.renderedAttributions_)){Object(c.d)(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var s=document.createElement("li");s.innerHTML=e[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(o.a),this.collapsed_?Object(c.g)(this.collapseLabel_,this.label_):Object(c.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(r.default);e.a=u},SE7o:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return f}));var i=n("SHzd"),r=n("0eRI"),s=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(t){return"string"==typeof t?t:f(t)}var l,c,h=(l={},c=0,function(t){var e;if(l.hasOwnProperty(t))e=l[t];else{if(c>=1024){var n=0;for(var r in l)0==(3&n++)&&(delete l[r],--c)}e=function(t){var e,n,r,a,l;if(o.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),s.exec(t)){var c,h=t.length-1;c=h<=4?1:2;var u=4===h||8===h;e=parseInt(t.substr(1+0*c,c),16),n=parseInt(t.substr(1+1*c,c),16),r=parseInt(t.substr(1+2*c,c),16),a=u?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(a=(a<<4)+a)),l=[e,n,r,a/255]}else 0==t.indexOf("rgba(")?d(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),d(l)):Object(i.a)(!1,14);return l}(t),l[t]=e,++c}return e});function u(t){return Array.isArray(t)?t:h(t)}function d(t){return t[0]=Object(r.a)(t[0]+.5|0,0,255),t[1]=Object(r.a)(t[1]+.5|0,0,255),t[2]=Object(r.a)(t[2]+.5|0,0,255),t[3]=Object(r.a)(t[3],0,1),t}function f(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}},SHzd:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("4Ow6");function r(t,e){if(!t)throw new i.a(e)}},SMMa:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var i=n("0eRI");function r(t){return void 0!==t?0:void 0}function s(t){return void 0!==t?t:void 0}function o(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function a(t){var e=t||Object(i.j)(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}},SbUa:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var i,r=n("DiD3"),s=n("AwwW"),o=n("32tr"),a=n("zqV8"),l=n("wINb"),c=n("I/d5"),h=n("vog+"),u=n("Trb+"),d=n("BatM"),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n,i,r,s,o,l){var c=t.call(this)||this;return c.context_=e,c.pixelRatio_=n,c.extent_=i,c.transform_=r,c.viewRotation_=s,c.squaredTolerance_=o,c.userTransform_=l,c.contextFillState_=null,c.contextStrokeState_=null,c.contextTextState_=null,c.fillState_=null,c.strokeState_=null,c.image_=null,c.imageAnchorX_=0,c.imageAnchorY_=0,c.imageHeight_=0,c.imageOpacity_=0,c.imageOriginX_=0,c.imageOriginY_=0,c.imageRotateWithView_=!1,c.imageRotation_=0,c.imageScale_=[0,0],c.imageWidth_=0,c.text_="",c.textOffsetX_=0,c.textOffsetY_=0,c.textRotateWithView_=!1,c.textRotation_=0,c.textScale_=[0,0],c.textFillState_=null,c.textStrokeState_=null,c.textState_=null,c.pixelCoordinates_=[],c.tmpLocalTransform_=Object(a.c)(),c}return f(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Object(u.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var h=0,d=r.length;h<d;h+=2){var f=r[h]-this.imageAnchorX_,p=r[h+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var g=f+this.imageAnchorX_,m=p+this.imageAnchorY_;Object(a.b)(o,g,m,1,1,c,-g,-m),s.setTransform.apply(s,o),s.translate(g,m),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(u.c)(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.textRotation_;for(this.textRotateWithView_&&(o+=this.viewRotation_);e<n;e+=i){var l=r[e]+this.textOffsetX_,c=r[e+1]+this.textOffsetY_;if(0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]){var h=Object(a.b)(this.tmpLocalTransform_,l,c,1,1,o,-l,-c);s.setTransform.apply(s,h),s.translate(l,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c)}}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var s=this.context_,o=Object(u.c)(t,e,n,i,this.transform_,this.pixelCoordinates_);s.moveTo(o[0],o[1]);var a=o.length;r&&(a-=2);for(var l=2;l<a;l+=2)s.lineTo(o[l],o[l+1]);return r&&s.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,s=n.length;r<s;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(h.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(d.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case r.a.POINT:this.drawPoint(t);break;case r.a.LINE_STRING:this.drawLineString(t);break;case r.a.POLYGON:this.drawPolygon(t);break;case r.a.MULTI_POINT:this.drawMultiPoint(t);break;case r.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case r.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case r.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case r.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(h.F)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(h.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(h.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,s=t.getEnds(),o=t.getStride();n.beginPath();for(var a=0,l=s.length;a<l;++a)r=this.moveToLineTo_(i,r,s[a],o,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(h.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(h.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(var o=0,a=r.length;o<a;++o)i=this.drawRings_(n,i,r[o],s);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(c.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:l.m;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Object(o.a)(n||l.c)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),c=e.getLineJoin(),h=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:l.e,lineDash:s||l.f,lineDashOffset:a||l.g,lineJoin:void 0!==c?c:l.h,lineWidth:this.pixelRatio_*(void 0!==h?h:l.i),miterLimit:void 0!==u?u:l.j,strokeStyle:Object(o.a)(i||l.l)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var n=t.getAnchor(),i=t.getImage(1),r=t.getOrigin(),s=t.getScaleArray();this.imageAnchorX_=n[0],this.imageAnchorY_=n[1],this.imageHeight_=e[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(o.a)(n||l.c)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),s=i.getLineCap(),a=i.getLineDash(),c=i.getLineDashOffset(),h=i.getLineJoin(),u=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:l.e,lineDash:a||l.f,lineDashOffset:c||l.g,lineJoin:void 0!==h?h:l.h,lineWidth:void 0!==u?u:l.i,miterLimit:void 0!==d?d:l.j,strokeStyle:Object(o.a)(r||l.l)}}else this.textStrokeState_=null;var f=t.getFont(),p=t.getOffsetX(),g=t.getOffsetY(),m=t.getRotateWithView(),_=t.getRotation(),v=t.getScaleArray(),y=t.getText(),b=t.getTextAlign(),w=t.getTextBaseline();this.textState_={font:void 0!==f?f:l.d,textAlign:void 0!==b?b:l.m,textBaseline:void 0!==w?w:l.n},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==_?_:0,this.textScale_=[this.pixelRatio_*v[0],this.pixelRatio_*v[1]]}else this.text_=""},e}(s.a),g=n("4tNs"),m=n("dTzw"),_=n("jekj");function v(t,e,n,i,s,o,a){var l=t[0]/2,u=t[1]/2,d=Object(_.a)(l,u);d.imageSmoothingEnabled=!1;for(var f=d.canvas,v=new p(d,.5,s,null,a),y=n.length,b=Math.floor(16777215/y),w={},x=1;x<=y;++x){var C=n[x-1],O=C.getStyleFunction()||i;if(i){var S=O(C,o);if(S){Array.isArray(S)||(S=[S]);for(var k="#"+("000000"+(x*b).toString(16)).slice(-6),E=0,M=S.length;E<M;++E){var T=S[E],A=T.clone(),P=A.getFill();P&&P.setColor(k);var R=A.getStroke();R&&R.setColor(k),A.setText(void 0);var I=T.getImage();if(I){var D=I.getImageSize();if(!D)continue;var L=document.createElement("canvas");L.width=D[0],L.height=D[1];var F=L.getContext("2d",{alpha:!1});F.fillStyle=k;var N=F.canvas;F.fillRect(0,0,N.width,N.height);var j=D?D[0]:N.width,z=D?D[1]:N.height;Object(_.a)(j,z).drawImage(N,0,0),A.setImage(new m.a({img:N,imgSize:D,anchor:I.getAnchor(),anchorXUnits:g.a.PIXELS,anchorYUnits:g.a.PIXELS,offset:I.getOrigin(),size:I.getSize(),opacity:I.getOpacity(),scale:I.getScale(),rotation:I.getRotation(),rotateWithView:I.getRotateWithView()}))}var V=Number(A.getZIndex());(G=w[V])||(w[V]=G={},G[r.a.POLYGON]=[],G[r.a.CIRCLE]=[],G[r.a.LINE_STRING]=[],G[r.a.POINT]=[]);var B=A.getGeometryFunction()(C);B&&Object(h.F)(s,B.getExtent())&&G[B.getType().replace("Multi","")].push(B,A)}}}}for(var H=Object.keys(w).map(Number).sort(c.f),U=(x=0,H.length);x<U;++x){var G=w[H[x]];for(var W in G){var Y=G[W];for(E=0,M=Y.length;E<M;E+=2){v.setStyle(Y[E+1]);for(var q=0,X=e.length;q<X;++q)v.setTransform(e[q]),v.drawGeometry(Y[E])}}}return d.getImageData(0,0,f.width,f.height)}function y(t,e,n){var i=[];if(n){var r=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),s=n.data[r+2]+256*(n.data[r+1]+256*n.data[r]),o=Math.floor(16777215/e.length);s&&s%o==0&&i.push(e[s/o-1])}return i}},SmDS:function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},TEsn:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i,r=n("Rznk"),s=n("+cQG"),o=n("nu7S"),a=n("j/Z9"),l=n("FlXx"),c=n("sQKY"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var r=void 0!==i.className?i.className:"ol-rotate",s=void 0!==i.label?i.label:"\u21e7",o=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof s?(n.label_=document.createElement("span"),n.label_.className=o,n.label_.textContent=s):(n.label_=s,n.label_.classList.add(o));var c=i.tipLabel?i.tipLabel:"Reset rotation",h=document.createElement("button");h.className=r+"-reset",h.setAttribute("type","button"),h.title=c,h.appendChild(n.label_),h.addEventListener(a.a.CLICK,n.handleClick_.bind(n),!1);var u=n.element;return u.className=r+" "+l.e+" "+l.b,u.appendChild(h),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(l.c),n}return h(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:c.b}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(l.c);r||0!==n?r&&0!==n&&this.element.classList.remove(l.c):this.element.classList.add(l.c)}this.label_.style.transform=i}this.rotation_=n}},e}(o.default),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var r=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,o=void 0!==i.zoomInClassName?i.zoomInClassName:r+"-in",c=void 0!==i.zoomOutClassName?i.zoomOutClassName:r+"-out",h=void 0!==i.zoomInLabel?i.zoomInLabel:"+",u=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",d=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",f=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=o,p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof h?document.createTextNode(h):h),p.addEventListener(a.a.CLICK,n.handleClick_.bind(n,s),!1);var g=document.createElement("button");g.className=c,g.setAttribute("type","button"),g.title=f,g.appendChild("string"==typeof u?document.createTextNode(u):u),g.addEventListener(a.a.CLICK,n.handleClick_.bind(n,-s),!1);var m=n.element;return m.className=r+" "+l.e+" "+l.b,m.appendChild(p),m.appendChild(g),n.duration_=void 0!==i.duration?i.duration:250,n}return d(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:c.b})):e.setZoom(i)}}},e}(o.default);function p(t){var e=t||{},n=new s.a;return(void 0===e.zoom||e.zoom)&&n.push(new f(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new u(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new r.a(e.attributionOptions)),n}},TOut:function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"Trb+":function(t,e,n){"use strict";function i(t,e,n,i,r,s){for(var o=s||[],a=0,l=e;l<n;l+=i){var c=t[l],h=t[l+1];o[a++]=r[0]*c+r[2]*h+r[4],o[a++]=r[1]*c+r[3]*h+r[5]}return s&&o.length!=a&&(o.length=a),o}function r(t,e,n,i,r,s,o){for(var a=o||[],l=Math.cos(r),c=Math.sin(r),h=s[0],u=s[1],d=0,f=e;f<n;f+=i){var p=t[f]-h,g=t[f+1]-u;a[d++]=h+p*l-g*c,a[d++]=u+p*c+g*l;for(var m=f+2;m<f+i;++m)a[d++]=t[m]}return o&&a.length!=d&&(a.length=d),a}function s(t,e,n,i,r,s,o,a){for(var l=a||[],c=o[0],h=o[1],u=0,d=e;d<n;d+=i){var f=t[d+1]-h;l[u++]=c+r*(t[d]-c),l[u++]=h+s*f;for(var p=d+2;p<d+i;++p)l[u++]=t[p]}return a&&l.length!=u&&(l.length=u),l}function o(t,e,n,i,r,s,o){for(var a=o||[],l=0,c=e;c<n;c+=i){a[l++]=t[c]+r,a[l++]=t[c+1]+s;for(var h=c+2;h<c+i;++h)a[l++]=t[h]}return o&&a.length!=l&&(a.length=l),a}n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return o}))},U3AP:function(t,e,n){"use strict";var i,r=n("KLY9"),s=n("JtbZ"),o=n("QZ7v"),a=n("1lfU"),l=n("j/Z9"),c=n("8Az/"),h=n("UqCr"),u=n("vY6g"),d=n("zqV8"),f=n("vog+"),p=n("QRdp"),g=n("SbUa"),m=n("waAw"),_=n("lRKV"),v=n("HK6I"),y=n("yAfB"),b=n("61KW"),w=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),x={image:[c.a.POLYGON,c.a.CIRCLE,c.a.LINE_STRING,c.a.IMAGE,c.a.TEXT],hybrid:[c.a.POLYGON,c.a.LINE_STRING],vector:[]},C={image:[c.a.DEFAULT],hybrid:[c.a.IMAGE,c.a.TEXT,c.a.DEFAULT],vector:[c.a.POLYGON,c.a.CIRCLE,c.a.LINE_STRING,c.a.IMAGE,c.a.TEXT,c.a.DEFAULT]},O=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.renderedPixelToCoordinateTransform_=null,n.renderTileImageQueue_={},n.tileListenerKeys_={},n.tmpTransform_=Object(d.c)(),n}return w(e,t),e.prototype.prepareTile=function(t,e,n,i){var r,s=Object(_.c)(t),o=t.getState();return(o===h.a.LOADED&&t.hifi||o===h.a.ERROR)&&s in this.tileListenerKeys_&&(Object(v.c)(this.tileListenerKeys_[s]),delete this.tileListenerKeys_[s]),o!==h.a.LOADED&&o!==h.a.ERROR||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t,e,n)&&(r=!0,i&&(this.renderTileImageQueue_[s]=t))),r},e.prototype.getTile=function(e,n,i,r){var s=r.pixelRatio,o=r.viewState,a=o.resolution,c=o.projection,d=this.getLayer(),f=d.getSource().getTile(e,n,i,s,c);if(f.getState()<h.a.LOADED){f.wantedResolution=a;var p=Object(_.c)(f);if(!(p in this.tileListenerKeys_)){var g=Object(v.a)(f,l.a.CHANGE,this.prepareTile.bind(this,f,s,c,!0));this.tileListenerKeys_[p]=g}}else{var m=r.viewHints;!(!m[u.a.ANIMATING]&&!m[u.a.INTERACTING])&&f.wantedResolution||(f.wantedResolution=a),this.prepareTile(f,s,c,!1)&&"vector"!==d.getRenderMode()&&this.renderTileImage_(f,r)}return t.prototype.getTile.call(this,e,n,i,r)},e.prototype.isDrawableTile=function(e){var n=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&("vector"===n.getRenderMode()?Object(_.c)(n)in e.executorGroups:e.hasContext(n))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!=n&&(this.renderedTiles.length=0),this.renderedLayerRevision_=n,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,n){var i=this.getLayer(),r=i.getRevision(),a=i.getRenderOrder()||null,l=t.wantedResolution,c=t.getReplayState(i);if(c.dirty||c.renderedResolution!==l||c.renderedRevision!=r||c.renderedRenderOrder!=a||c.renderedZ!==t.sourceZ){var u=i.getSource(),d=i.getDeclutter(),p=u.getTileGrid(),g=u.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),v=u.getSourceTiles(e,n,t),y=Object(_.c)(i);delete t.hitDetectionImageData[y],t.executorGroups[y]=[],d&&(t.declutterExecutorGroups[y]=[]);for(var b=function(n,r){var _=v[n];if(_.getState()!=h.a.LOADED)return"continue";var b=p.getTileCoordExtent(_.tileCoord),x=Object(f.B)(g,b),C=Object(f.p)(b,x)?null:Object(f.c)(x,i.getRenderBuffer()*l,w.tmpExtent);c.dirty=!1;var O=new s.a(0,x,l,e),S=d?new s.a(0,x,l,e):void 0,k=Object(m.b)(l,e),E=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,l)),e){var r=this.renderFeature(t,k,e,O,S);this.dirty_=this.dirty_||r,c.dirty=c.dirty||r}},M=_.getFeatures();a&&a!==c.renderedRenderOrder&&M.sort(a);for(var T=0,A=M.length;T<A;++T){var P=M[T];C&&!Object(f.F)(C,P.getGeometry().getExtent())||E.call(w,P)}var R=O.finish(),I="vector"!==i.getRenderMode()&&d&&1===v.length?null:x,D=new o.a(I,l,e,u.getOverlaps(),R,i.getRenderBuffer());if(t.executorGroups[y].push(D),S){var L=new o.a(I,l,e,u.getOverlaps(),S.finish(),i.getRenderBuffer());t.declutterExecutorGroups[y].push(L)}},w=this,x=0,C=v.length;x<C;++x)b(x);c.renderedRevision=r,c.renderedZ=t.sourceZ,c.renderedRenderOrder=a,c.renderedResolution=l}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var s=e.viewState.resolution,o=e.viewState.rotation;n=null==n?0:n;var a=this.getLayer(),l=a.getSource().getTileGridForProjection(e.viewState.projection),c=Object(f.b)([t]);Object(f.c)(c,s*n,c);for(var h,u={},d=function(t,e,n){var s=t.getId();void 0===s&&(s=Object(_.c)(t));var o=u[s];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return u[s]=!0,r.splice(r.lastIndexOf(o),1),i(t,a,e);o.geometry=e,o.distanceSq=n}}else{if(0===n)return u[s]=!0,i(t,a,e);r.push(u[s]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}},p=this.renderedTiles,g=function(i,r){var u=p[i],g=l.getTileCoordExtent(u.wrappedTileCoord);if(!Object(f.F)(g,c))return"continue";var m=Object(_.c)(a),v=[u.executorGroups[m]],y=u.declutterExecutorGroups[m];y&&v.push(y),v.some((function(i){for(var r=i===y?e.declutterTree.all().map((function(t){return t.value})):null,a=0,l=i.length;a<l;++a)if(h=i[a].forEachFeatureAtCoordinate(t,s,o,n,d,r))return!0}))},m=0,v=p.length;!h&&m<v;++m)g(m);return h},e.prototype.getFeatures=function(t){return new Promise((function(e,n){for(var i,r=this.getLayer(),s=Object(_.c)(r),o=r.getSource(),a=this.renderedProjection,l=a.getExtent(),c=this.renderedResolution,u=o.getTileGridForProjection(a),p=Object(d.a)(this.renderedPixelToCoordinateTransform_,t.slice()),m=u.getTileCoordForCoordAndResolution(p,c),v=0,w=this.renderedTiles.length;v<w;++v)if(m.toString()===this.renderedTiles[v].tileCoord.toString()){if((i=this.renderedTiles[v]).getState()===h.a.LOADED&&i.hifi){var x=u.getTileCoordExtent(i.tileCoord);o.getWrapX()&&a.canWrapX()&&!Object(f.g)(l,x)&&Object(b.f)(p,a);break}i=void 0}if(!i||i.loadingSourceTiles>0)e([]);else{var C=u.getTileCoordExtent(i.wrappedTileCoord),O=Object(f.C)(C),S=[(p[0]-O[0])/c,(O[1]-p[1])/c],k=i.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),E=i.hitDetectionImageData[s];if(!E&&!this.animatingOrInteracting_){var M=Object(y.d)(u.getTileSize(u.getZForResolution(c))),T=[M[0]/2,M[1]/2],A=this.renderedRotation_,P=[this.getRenderTransform(u.getTileCoordCenter(i.wrappedTileCoord),c,0,.5,T[0],T[1],0)];E=Object(g.a)(M,P,k,r.getStyleFunction(),u.getTileCoordExtent(i.wrappedTileCoord),i.getReplayState(r).renderedResolution,A),i.hitDetectionImageData[s]=E}e(Object(g.b)(S,k,E))}}).bind(this))},e.prototype.handleFontsChanged=function(){Object(p.b)(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){for(var e=t.viewHints,n=!(e[u.a.ANIMATING]||e[u.a.INTERACTING]),i=this.renderedTiles,r=0,s=i.length;r<s;++r){var o=i[r],a=o.declutterExecutorGroups[Object(_.c)(this.getLayer())];if(a)for(var l=a.length-1;l>=0;--l)a[l].execute(this.context,1,this.getTileRenderTransform(o,t),t.viewState.rotation,n,void 0,t.declutterTree)}},e.prototype.getTileRenderTransform=function(t,e){var n=e.pixelRatio,i=e.viewState,r=i.center,s=i.resolution,o=i.rotation,a=e.size,l=Math.round(a[0]*n),c=Math.round(a[1]*n),h=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),u=t.tileCoord,f=h.getTileCoordExtent(t.wrappedTileCoord),p=h.getTileCoordExtent(u,this.tmpExtent)[0]-f[0];return Object(d.f)(Object(d.h)(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,s,o,n,l,c,p))},e.prototype.renderFrame=function(e,n){var i=e.viewHints,r=!(i[u.a.ANIMATING]||i[u.a.INTERACTING]);this.renderQueuedTileImages_(r,e),t.prototype.renderFrame.call(this,e,n),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var s=this.getLayer(),o=s.getRenderMode();if("image"===o)return this.container;var a=s.getSource(),l=e.usedTiles[Object(_.c)(a)];for(var c in this.renderTileImageQueue_)l&&c in l||delete this.renderTileImageQueue_[c];for(var h=this.context,d=C[o],f=e.viewState.rotation,p=this.renderedTiles,g=[],m=[],v=p.length-1;v>=0;--v)for(var y=p[v],b=this.getTileRenderTransform(y,e),w=y.executorGroups[Object(_.c)(s)],x=!1,O=0,S=w.length;O<S;++O){var k=w[O];if(k.hasExecutors(d)){var E=y.tileCoord[0],M=void 0;if(!x&&(M=k.getClipCoords(b))){h.save();for(var T=0,A=g.length;T<A;++T){var P=g[T];E<m[T]&&(h.beginPath(),h.moveTo(M[0],M[1]),h.lineTo(M[2],M[3]),h.lineTo(M[4],M[5]),h.lineTo(M[6],M[7]),h.moveTo(P[6],P[7]),h.lineTo(P[4],P[5]),h.lineTo(P[2],P[3]),h.lineTo(P[0],P[1]),h.clip())}}k.execute(h,1,b,f,r,d),!x&&M&&(h.restore(),g.push(M),m.push(E),x=!0)}}return this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var n in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var i=this.renderTileImageQueue_[n];delete this.renderTileImageQueue_[n],this.renderTileImage_(i,e)}},e.prototype.renderFeature=function(t,e,n,i,r){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)s=Object(m.d)(i,t,n[o],e,this.boundHandleStyleImageChange_,void 0,r)||s;else s=Object(m.d)(i,t,n,e,this.boundHandleStyleImageChange_,void 0,r);return s},e.prototype.tileImageNeedsRender_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),s=i.getRevision();return r.renderedTileResolution!==t.wantedResolution||r.renderedTileRevision!==s||r.renderedTileZ!==t.sourceZ},e.prototype.renderTileImage_=function(t,e){var n=this.getLayer(),i=t.getReplayState(n),r=n.getRevision(),s=t.executorGroups[Object(_.c)(n)];i.renderedTileRevision=r,i.renderedTileZ=t.sourceZ;var o=t.wrappedTileCoord,a=o[0],l=n.getSource(),c=e.pixelRatio,h=e.viewState.projection,u=l.getTileGridForProjection(h),f=u.getResolution(t.tileCoord[0]),p=e.pixelRatio/t.wantedResolution*f,g=u.getResolution(a),m=t.getContext(n);c=Math.round(Math.max(c,p/c));var v=l.getTilePixelSize(a,c,h);m.canvas.width=v[0],m.canvas.height=v[1];var y=c/p;if(1!==y){var b=Object(d.g)(this.tmpTransform_);Object(d.h)(b,y,y),m.setTransform.apply(m,b)}var w=u.getTileCoordExtent(o,this.tmpExtent),C=p/g,O=Object(d.g)(this.tmpTransform_);Object(d.h)(O,C,-C),Object(d.k)(O,-w[0],-w[3]);for(var S=0,k=s.length;S<k;++S)s[S].execute(m,y,O,0,!0,x[n.getRenderMode()]);i.renderedTileResolution=t.wantedResolution},e}(a.a),S=n("cE1l"),k=n("SHzd"),E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M=function(t){function e(e){var n=this,i=e||{},r=Object(p.a)({},i);delete r.preload,delete r.useInterimTilesOnError,n=t.call(this,r)||this;var s=i.renderMode||"hybrid";return Object(k.a)(null==s||"image"==s||"hybrid"==s||"vector"==s,28),n.renderMode_=s,n.setPreload(i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return E(e,t),e.prototype.createRenderer=function(){return new O(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(S.a.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(S.a.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(S.a.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(S.a.USE_INTERIM_TILES_ON_ERROR,t)},e}(r.a);e.a=M},UqCr:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},XnQF:function(t,e,n){"use strict";var i,r=n("nh1Y"),s=n("70ZC"),o=n("h7by"),a=n("QRdp"),l=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return l(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);-1===i.indexOf(e)&&i.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,r=this.listeners_&&this.listeners_[n];if(r){var a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,l[n]=0),++a[n];for(var c=0,h=r.length;c<h;++c)if(!1===(i="handleEvent"in r[c]?r[c].handleEvent(e):r[c].call(this,e))||e.propagationStopped){i=!1;break}if(--a[n],0===a[n]){var u=l[n];for(delete l[n];u--;)this.removeEventListener(n,o.c);delete a[n]}return i}},e.prototype.disposeInternal=function(){this.listeners_&&Object(a.b)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=o.c,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(r.a);e.a=c},"XqO+":function(t,e,n){"use strict";var i,r=n("70ZC"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(e,n,i,r){var s=t.call(this,e)||this;return s.inversePixelTransform=n,s.frameState=i,s.context=r,s}return s(e,t),e}(r.a);e.a=o},YPAp:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n("DiD3");var i=n("0eRI");function r(t,e,n){var r=n||6371008.8,s=Object(i.j)(t[1]),o=Object(i.j)(e[1]),a=(o-s)/2,l=Object(i.j)(e[0]-t[0])/2,c=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(s)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e,n,r){var s=r||6371008.8,o=Object(i.j)(t[1]),a=Object(i.j)(t[0]),l=e/s,c=Math.asin(Math.sin(o)*Math.cos(l)+Math.cos(o)*Math.sin(l)*Math.cos(n)),h=a+Math.atan2(Math.sin(n)*Math.sin(l)*Math.cos(o),Math.cos(l)-Math.sin(o)*Math.sin(c));return[Object(i.i)(h),Object(i.i)(c)]}},YibT:function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},ZJj2:function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,s=t[n-i],o=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=o*a-s*l,s=a,o=l}return r/2}function r(t,e,n,r){for(var s=0,o=0,a=n.length;o<a;++o){var l=n[o];s+=i(t,e,l,r),e=l}return s}function s(t,e,n,i){for(var s=0,o=0,a=n.length;o<a;++o){var l=n[o];s+=r(t,e,l,i),e=l[l.length-1]}return s}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s}))},aiQ1:function(t,e,n){var i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,s=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),l=r[n];n<s;l=r[++n])p(l)||!y(l)?a+=" "+l:a+=" "+o(l);return a},e.deprecate=function(t,n){if(_(global.process))return function(){return e.deprecate(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var r,s={};function o(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&e._extend(i,n),_(i.showHidden)&&(i.showHidden=!1),_(i.depth)&&(i.depth=2),_(i.colors)&&(i.colors=!1),_(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),c(i,t,i.depth)}function a(t,e){var n=o.styles[e];return n?"\x1b["+o.colors[n][0]+"m"+t+"\x1b["+o.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,i){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return m(r)||(r=c(t,r,i)),r}var s=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):f(e)?t.stylize(""+e,"boolean"):p(e)?t.stylize("null","null"):void 0}(t,n);if(s)return s;var o=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),w(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(x(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return h(n)}var l,y="",C=!1,O=["{","}"];return d(n)&&(C=!0,O=["[","]"]),x(n)&&(y=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(y=" "+RegExp.prototype.toString.call(n)),b(n)&&(y=" "+Date.prototype.toUTCString.call(n)),w(n)&&(y=" "+h(n)),0!==o.length||C&&0!=n.length?i<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=C?function(t,e,n,i,r){for(var s=[],o=0,a=e.length;o<a;++o)E(e,String(o))?s.push(u(t,e,n,i,String(o),!0)):s.push("");return r.forEach((function(r){r.match(/^\d+$/)||s.push(u(t,e,n,i,r,!0))})),s}(t,n,i,a,o):o.map((function(e){return u(t,n,i,a,e,C)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(l,y,O)):O[0]+y+O[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function u(t,e,n,i,r,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=t.stylize(l.set?"[Getter/Setter]":"[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),E(i,r)||(o="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=p(n)?c(t,l.value,null):c(t,l.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),_(o)){if(s&&r.match(/^\d+$/))return a;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function d(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function p(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function _(t){return void 0===t}function v(t){return y(t)&&"[object RegExp]"===C(t)}function y(t){return"object"==typeof t&&null!==t}function b(t){return y(t)&&"[object Date]"===C(t)}function w(t){return y(t)&&("[object Error]"===C(t)||t instanceof Error)}function x(t){return"function"==typeof t}function C(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(_(r)&&(r=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=process.pid;s[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else s[t]=function(){};return s[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=f,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=v,e.isObject=y,e.isDate=b,e.isError=w,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("FGo3");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n("5EX2"),e._extend=function(t,e){if(!e||!y(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}},ax4G:function(t,e,n){"use strict";var i,r=n("nu7S"),s=n("zYA+"),o=n("FlXx"),a=n("A5l+"),l=n("SHzd"),c=n("hatQ"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=[1,2,5],d=function(t){function e(e){var n=this,i=e||{},r=void 0!==i.className?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).innerElement_=document.createElement("div"),n.innerElement_.className=r+"-inner",n.element.className=r+" "+o.e,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==i.minWidth?i.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addEventListener(Object(c.b)("units"),n.handleUnitsChanged_),n.setUnits(i.units||"metric"),n.scaleBar_=i.bar||!1,n.scaleBarSteps_=i.steps||4,n.scaleBarText_=i.text||!1,n.dpi_=i.dpi||void 0,n}return h(e,t),e.prototype.getUnits=function(){return this.get("units")},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set("units",t)},e.prototype.setDpi=function(t){this.dpi_=t},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),r="degrees"==i?s.b.DEGREES:s.b.METERS,o=Object(a.h)(n,t.resolution,e,r),c=this.minWidth_*(this.dpi_||25.4/.28)/(25.4/.28),h=c*o,d="";if("degrees"==i){var f=a.a[s.b.DEGREES];(h*=f)<f/60?(d="\u2033",o*=3600):h<f?(d="\u2032",o*=60):d="\xb0"}else"imperial"==i?h<.9144?(d="in",o/=.0254):h<1609.344?(d="ft",o/=.3048):(d="mi",o/=1609.344):"nautical"==i?(o/=1852,d="nm"):"metric"==i?h<.001?(d="\u03bcm",o*=1e6):h<1?(d="mm",o*=1e3):h<1e3?d="m":(d="km",o/=1e3):"us"==i?h<.9144?(d="in",o*=39.37):h<1609.344?(d="ft",o/=.30480061):(d="mi",o/=1609.3472):Object(l.a)(!1,33);for(var p,g,m,_,v=3*Math.floor(Math.log(c*o)/Math.log(10));;){m=Math.floor(v/3);var y=Math.pow(10,m);if(p=u[(v%3+3)%3]*y,g=Math.round(p/o),isNaN(g))return this.element.style.display="none",void(this.renderedVisible_=!1);if(g>=c)break;++v}_=this.scaleBar_?this.createScaleBar(g,p,d):p.toFixed(m<0?-m:0)+" "+d,this.renderedHTML_!=_&&(this.innerElement_.innerHTML=_,this.renderedHTML_=_),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var i="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),r=[],s=t/this.scaleBarSteps_,o="#ffffff",a=0;a<this.scaleBarSteps_;a++)0===a&&r.push(this.createMarker("absolute",a)),r.push('<div><div class="ol-scale-singlebar" style="width: '+s+"px;background-color: "+o+';"></div>'+this.createMarker("relative",a)+(a%2==0||2===this.scaleBarSteps_?this.createStepText(a,t,!1,e,n):"")+"</div>"),a===this.scaleBarSteps_-1&&r.push(this.createStepText(a+1,t,!0,e,n)),o="#ffffff"===o?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+i+"</div>":"")+r.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,i,r){var s=0===t?0:Math.round(i/this.scaleBarSteps_*t*100)/100;return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+s+(0===t?"":" "+r)+"</div>"},e.prototype.getScaleForResolution=function(){var t=Object(a.h)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||25.4/.28,n=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*n*(1e3/25.4)*e},e.prototype.render=function(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()},e}(r.default);e.a=d},bM1K:function(t,e,n){"use strict";var i,r=n("nh1Y"),s=n("h7by"),o=n("lRKV"),a=n("zqV8"),l=n("vog+"),c=n("nKUj"),h=n("CtKy"),u=n("61KW"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function f(t,e){c.a.expire()}var p=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return d(e,t),e.prototype.dispatchRenderEvent=function(t,e){Object(o.b)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(a.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(a.d)(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,s,o,a){var c,d=e.viewState;function f(t,e,n,i){return r.call(s,e,t?n:null,i)}var p=d.projection,g=Object(u.f)(t.slice(),p),m=[[0,0]];if(p.canWrapX()&&i){var _=p.getExtent(),v=Object(l.E)(_);m.push([-v,0],[v,0])}for(var y=e.layerStatesArray,b=y.length,w=[],x=[],C=0;C<m.length;C++)for(var O=b-1;O>=0;--O){var S=y[O],k=S.layer;if(k.hasRenderer()&&Object(h.b)(S,d)&&o.call(a,k)){var E=k.getRenderer(),M=k.getSource();if(E&&M){var T=M.getWrapX()?g:t,A=f.bind(null,S.managed);x[0]=T[0]+m[C][0],x[1]=T[1]+m[C][1],c=E.forEachFeatureAtCoordinate(x,e,n,A,w)}if(c)return c}}if(0!==w.length){var P=1/w.length;return w.forEach((function(t,e){return t.distanceSq+=e*P})),w.sort((function(t,e){return t.distanceSq-e.distanceSq})),w.some((function(t){return c=t.callback(t.feature,t.layer,t.geometry)})),c}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){return Object(o.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,s.b,this,r,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Object(o.b)()},e.prototype.scheduleExpireIconCache=function(t){c.a.canExpireCache()&&t.postRenderFunctions.push(f)},e}(r.a),g=n("fzNE"),m=n("XqO+"),_=n("eXX1"),v=n("MMQm"),y=n("FlXx"),b=n("wINb"),w=n("HK6I"),x=n("jekj"),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=Object(w.a)(b.a,g.a.PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=y.e+" ol-layers";var r=e.getViewport();return r.insertBefore(n.element_,r.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return C(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new m.a(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){Object(w.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(_.a.PRECOMPOSE,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var i=[],r=null,s=0,o=e.length;s<o;++s){var a=e[s];if(t.layerIndex=s,Object(h.b)(a,n)&&(a.sourceState==v.a.READY||a.sourceState==v.a.UNDEFINED)){var l=a.layer,c=l.render(t,r);c&&(c!==r&&(this.children_.push(c),r=c),"getDeclutter"in l&&i.push(l))}}for(s=i.length-1;s>=0;--s)i[s].renderDeclutter(t);Object(x.f)(this.element_,this.children_),this.dispatchRenderEvent(_.a.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){for(var s=e.viewState,o=e.layerStatesArray,a=o.length-1;a>=0;--a){var l=o[a],c=l.layer;if(c.hasRenderer()&&Object(h.b)(l,s)&&r(c)){var u=c.getRenderer().getDataAtPixel(t,e,n);if(u){var d=i(c,u);if(d)return d}}}},e}(p),S=n("hatQ"),k=n("+cQG"),E=n("rjvG"),M=n("j/Z9"),T=n("tUlR"),A=n("70ZC"),P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.map=n,r.frameState=void 0!==i?i:null,r}return P(e,t),e}(A.a),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),D=function(t){function e(e,n,i,r,s){var o=t.call(this,e,n,s)||this;return o.originalEvent=i,o.pixel_=null,o.coordinate_=null,o.dragging=void 0!==r&&r,o}return I(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(R),L=n("XnQF"),F=n("mm/l"),N=n("8JWR"),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*N.a:N.a,i.down_=null;var r=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=r,i.pointerdownListenerKey_=Object(w.a)(r,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=Object(w.a)(r,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(M.a.TOUCHMOVE,i.boundHandleTouchMove_,!!N.e&&{passive:!1}),i}return j(e,t),e.prototype.emulateClick_=function(t){var e=new D(F.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new D(F.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new D(F.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==F.a.POINTERUP||e.type==F.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==F.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new D(F.a.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(w.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new D(F.a.POINTERDOWN,this.map_,t);if(this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(w.a)(n,F.a.POINTERMOVE,this.handlePointerMove_,this),Object(w.a)(n,F.a.POINTERUP,this.handlePointerUp_,this),Object(w.a)(this.element_,F.a.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(Object(w.a)(this.element_.getRootNode(),F.a.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new D(F.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new D(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(w.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(M.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(w.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(w.c),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(L.a),V=n("TOut"),B=n("SHzd"),H=n("QRdp"),U=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(H.b)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){Object(B.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],s=n[t],o=t;t<i>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<i&&n[l]<n[a]?l:a;e[t]=e[c],n[t]=n[c],t=c}e[t]=r,n[t]=s,this.siftDown_(o,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],s=i[e];e>t;){var o=this.getParentIndex_(e);if(!(i[o]>s))break;n[e]=n[o],i[e]=i[o],e=o}n[e]=r,i[e]=s},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,s=this.priorities_,o=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(s[o]=n,r[o++]=t);r.length=o,s.length=o,this.heapify_()},t}(),G=n("UqCr"),W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y=function(t){function e(e,n){var i=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return W(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(M.a.CHANGE,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===G.a.LOADED||n===G.a.ERROR||n===G.a.EMPTY){e.removeEventListener(M.a.CHANGE,this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r=0;this.tilesLoading_<t&&r<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),n.getState()!==G.a.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())},e}(U),q=n("4tdA"),X=n("vY6g"),$=n("A5l+"),K=n("yAfB"),Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,s={},o=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new T.a({layers:t.layers});return s.layergroup=o,s.target=t.target,s.view=void 0!==t.view?t.view:new q.a,void 0!==t.controls&&(Array.isArray(t.controls)?n=new k.a(t.controls.slice()):(Object(B.a)("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new k.a(t.interactions.slice()):(Object(B.a)("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new k.a(t.overlays.slice()):(Object(B.a)("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new k.a,{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:s}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:N.a,n.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(n),n.coordinateToPixelTransform_=Object(a.c)(),n.pixelToCoordinateTransform_=Object(a.c)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=i.controls||new k.a,n.interactions=i.interactions||new k.a,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Y(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Object(S.b)("layergroup"),n.handleLayerGroupChanged_),n.addEventListener(Object(S.b)("view"),n.handleViewChanged_),n.addEventListener(Object(S.b)("size"),n.handleSizeChanged_),n.addEventListener(Object(S.b)("target"),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach((function(t){t.setMap(this)}).bind(n)),n.controls.addEventListener(E.a.ADD,(function(t){t.element.setMap(this)}).bind(n)),n.controls.addEventListener(E.a.REMOVE,(function(t){t.element.setMap(null)}).bind(n)),n.interactions.forEach((function(t){t.setMap(this)}).bind(n)),n.interactions.addEventListener(E.a.ADD,(function(t){t.element.setMap(this)}).bind(n)),n.interactions.addEventListener(E.a.REMOVE,(function(t){t.element.setMap(null)}).bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(E.a.ADD,(function(t){this.addOverlayInternal_(t.element)}).bind(n)),n.overlays_.addEventListener(E.a.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}).bind(n)),n}return Z(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,e,null,void 0!==n.layerFilter?n.layerFilter:s.b,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==i.hitTolerance?i.hitTolerance:0,e,i.layerFilter||s.b)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance:0,!1!==e.checkWrapped,void 0!==e.layerFilter?e.layerFilter:s.b,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get("target")},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Object($.m)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Object(a.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get("layergroup")},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Object($.e)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Object(a.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get("size")},e.prototype.getView=function(){return this.get("view")},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return 1/0;if(!t.wantedTiles[n][e.getKey()])return 1/0;var s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}(this.frameState_,t,e,n,i)},e.prototype.handleBrowserEvent=function(t,e){var n=new D(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if("pointerdown"===n||n===M.a.WHEEL||n===M.a.KEYDOWN){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s="host"in r?r.elementFromPoint(e.clientX,e.clientY):e.target;if(this.overlayContainerStopEvent_.contains(s)||!(r===i?i.documentElement:r).contains(s))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var o=this.getInteractions().getArray().slice(),a=o.length-1;a>=0;a--){var l=o[a];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;if(r[X.a.ANIMATING]||r[X.a.INTERACTING]){var s=!N.c&&Date.now()-t.time>8;n=s?0:8,i=s?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(_.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(_.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,a=0,l=o.length;a<l;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(w.c)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(M.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(M.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(M.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(x.e)(this.viewport_)}if(t){for(var i in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new z(this,this.moveTolerance_),F.a)this.mapBrowserEventHandler_.addEventListener(F.a[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(M.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(M.a.WHEEL,this.boundHandleBrowserEvent_,!!N.e&&{passive:!1});var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(w.a)(r,M.a.KEYDOWN,this.handleBrowserEvent,this),Object(w.a)(r,M.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(M.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(w.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(w.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(w.a)(t,g.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(w.a)(t,M.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(w.a)(t,g.a.PROPERTYCHANGE,this.render,this),Object(w.a)(t,M.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),i=this.getView(),r=this.frameState_,s=null;if(void 0!==n&&Object(K.b)(n)&&i&&i.isDef()){var o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(l.z)(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Object(l.H)(this.previousExtent_)&&!Object(l.p)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new R(V.a.MOVESTART,this,r)),this.previousExtent_=Object(l.l)(this.previousExtent_)),this.previousExtent_&&!s.viewHints[X.a.ANIMATING]&&!s.viewHints[X.a.INTERACTING]&&!Object(l.p)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new R(V.a.MOVEEND,this,s)),Object(l.d)(s.extent,this.previousExtent_))),this.dispatchEvent(new R(V.a.POSTRENDER,this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){this.set("layergroup",t)},e.prototype.setSize=function(t){this.set("size",t)},e.prototype.setTarget=function(t){this.set("target",t)},e.prototype.setView=function(t){this.set("view",t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(S.a),J=n("TEsn"),tt=n("Pda+"),et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nt=function(t){function e(e){return(e=Object(H.a)({},e)).controls||(e.controls=Object(J.a)()),e.interactions||(e.interactions=Object(tt.a)({onFocusOnly:!0})),t.call(this,e)||this}return et(e,t),e.prototype.createRenderer=function(){return new O(this)},e}(Q);e.a=nt},bm4o:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return i})),n.d(e,"bisect",(function(){return u})),n.d(e,"bisectRight",(function(){return l})),n.d(e,"bisectLeft",(function(){return c})),n.d(e,"bisectCenter",(function(){return h})),n.d(e,"ascending",(function(){return r})),n.d(e,"bisector",(function(){return s})),n.d(e,"count",(function(){return d})),n.d(e,"cross",(function(){return m})),n.d(e,"cumsum",(function(){return _})),n.d(e,"descending",(function(){return v})),n.d(e,"deviation",(function(){return b})),n.d(e,"extent",(function(){return w})),n.d(e,"fsum",(function(){return C})),n.d(e,"Adder",(function(){return x})),n.d(e,"group",(function(){return S})),n.d(e,"groups",(function(){return k})),n.d(e,"index",(function(){return T})),n.d(e,"indexes",(function(){return A})),n.d(e,"rollup",(function(){return E})),n.d(e,"rollups",(function(){return M})),n.d(e,"bin",(function(){return H})),n.d(e,"histogram",(function(){return H})),n.d(e,"thresholdFreedmanDiaconis",(function(){return $})),n.d(e,"thresholdScott",(function(){return K})),n.d(e,"thresholdSturges",(function(){return B})),n.d(e,"max",(function(){return U})),n.d(e,"maxIndex",(function(){return Z})),n.d(e,"mean",(function(){return Q})),n.d(e,"median",(function(){return J})),n.d(e,"merge",(function(){return tt})),n.d(e,"min",(function(){return G})),n.d(e,"minIndex",(function(){return et})),n.d(e,"pairs",(function(){return nt})),n.d(e,"permute",(function(){return rt})),n.d(e,"quantile",(function(){return q})),n.d(e,"quantileSorted",(function(){return X})),n.d(e,"quickselect",(function(){return W})),n.d(e,"range",(function(){return st})),n.d(e,"least",(function(){return ot})),n.d(e,"leastIndex",(function(){return at})),n.d(e,"greatest",(function(){return lt})),n.d(e,"greatestIndex",(function(){return ct})),n.d(e,"scan",(function(){return ht})),n.d(e,"shuffle",(function(){return ut})),n.d(e,"shuffler",(function(){return dt})),n.d(e,"sum",(function(){return ft})),n.d(e,"ticks",(function(){return j})),n.d(e,"tickIncrement",(function(){return z})),n.d(e,"tickStep",(function(){return V})),n.d(e,"transpose",(function(){return pt})),n.d(e,"variance",(function(){return y})),n.d(e,"zip",(function(){return mt})),n.d(e,"axisTop",(function(){return St})),n.d(e,"axisRight",(function(){return kt})),n.d(e,"axisBottom",(function(){return Et})),n.d(e,"axisLeft",(function(){return Mt})),n.d(e,"brush",(function(){return $r})),n.d(e,"brushX",(function(){return qr})),n.d(e,"brushY",(function(){return Xr})),n.d(e,"brushSelection",(function(){return Yr})),n.d(e,"chord",(function(){return os})),n.d(e,"chordTranspose",(function(){return as})),n.d(e,"chordDirected",(function(){return ls})),n.d(e,"ribbon",(function(){return ks})),n.d(e,"ribbonArrow",(function(){return Es})),n.d(e,"color",(function(){return vn})),n.d(e,"rgb",(function(){return xn})),n.d(e,"hsl",(function(){return Tn})),n.d(e,"lab",(function(){return Rs})),n.d(e,"hcl",(function(){return Vs})),n.d(e,"lch",(function(){return zs})),n.d(e,"gray",(function(){return Ps})),n.d(e,"cubehelix",(function(){return Xs})),n.d(e,"contours",(function(){return ro})),n.d(e,"contourDensity",(function(){return ho})),n.d(e,"Delaunay",(function(){return Ro})),n.d(e,"Voronoi",(function(){return ko})),n.d(e,"dispatch",(function(){return Lt})),n.d(e,"drag",(function(){return zo})),n.d(e,"dragDisable",(function(){return Je})),n.d(e,"dragEnable",(function(){return tn})),n.d(e,"dsvFormat",(function(){return Wo})),n.d(e,"csvParse",(function(){return qo})),n.d(e,"csvParseRows",(function(){return Xo})),n.d(e,"csvFormat",(function(){return $o})),n.d(e,"csvFormatBody",(function(){return Ko})),n.d(e,"csvFormatRows",(function(){return Zo})),n.d(e,"csvFormatRow",(function(){return Qo})),n.d(e,"csvFormatValue",(function(){return Jo})),n.d(e,"tsvParse",(function(){return ea})),n.d(e,"tsvParseRows",(function(){return na})),n.d(e,"tsvFormat",(function(){return ia})),n.d(e,"tsvFormatBody",(function(){return ra})),n.d(e,"tsvFormatRows",(function(){return sa})),n.d(e,"tsvFormatRow",(function(){return oa})),n.d(e,"tsvFormatValue",(function(){return aa})),n.d(e,"autoType",(function(){return la})),n.d(e,"easeLinear",(function(){return ha})),n.d(e,"easeQuad",(function(){return fa})),n.d(e,"easeQuadIn",(function(){return ua})),n.d(e,"easeQuadOut",(function(){return da})),n.d(e,"easeQuadInOut",(function(){return fa})),n.d(e,"easeCubic",(function(){return pr})),n.d(e,"easeCubicIn",(function(){return dr})),n.d(e,"easeCubicOut",(function(){return fr})),n.d(e,"easeCubicInOut",(function(){return pr})),n.d(e,"easePoly",(function(){return ma})),n.d(e,"easePolyIn",(function(){return pa})),n.d(e,"easePolyOut",(function(){return ga})),n.d(e,"easePolyInOut",(function(){return ma})),n.d(e,"easeSin",(function(){return wa})),n.d(e,"easeSinIn",(function(){return ya})),n.d(e,"easeSinOut",(function(){return ba})),n.d(e,"easeSinInOut",(function(){return wa})),n.d(e,"easeExp",(function(){return Sa})),n.d(e,"easeExpIn",(function(){return Ca})),n.d(e,"easeExpOut",(function(){return Oa})),n.d(e,"easeExpInOut",(function(){return Sa})),n.d(e,"easeCircle",(function(){return Ma})),n.d(e,"easeCircleIn",(function(){return ka})),n.d(e,"easeCircleOut",(function(){return Ea})),n.d(e,"easeCircleInOut",(function(){return Ma})),n.d(e,"easeBounce",(function(){return Aa})),n.d(e,"easeBounceIn",(function(){return Ta})),n.d(e,"easeBounceOut",(function(){return Aa})),n.d(e,"easeBounceInOut",(function(){return Pa})),n.d(e,"easeBack",(function(){return Da})),n.d(e,"easeBackIn",(function(){return Ra})),n.d(e,"easeBackOut",(function(){return Ia})),n.d(e,"easeBackInOut",(function(){return Da})),n.d(e,"easeElastic",(function(){return Na})),n.d(e,"easeElasticIn",(function(){return Fa})),n.d(e,"easeElasticOut",(function(){return Na})),n.d(e,"easeElasticInOut",(function(){return ja})),n.d(e,"blob",(function(){return Va})),n.d(e,"buffer",(function(){return Ha})),n.d(e,"dsv",(function(){return Ya})),n.d(e,"csv",(function(){return qa})),n.d(e,"tsv",(function(){return Xa})),n.d(e,"image",(function(){return $a})),n.d(e,"json",(function(){return Za})),n.d(e,"text",(function(){return Ga})),n.d(e,"xml",(function(){return Ja})),n.d(e,"html",(function(){return tl})),n.d(e,"svg",(function(){return el})),n.d(e,"forceCenter",(function(){return nl})),n.d(e,"forceCollide",(function(){return gl})),n.d(e,"forceLink",(function(){return vl})),n.d(e,"forceManyBody",(function(){return Cl})),n.d(e,"forceRadial",(function(){return Ol})),n.d(e,"forceSimulation",(function(){return xl})),n.d(e,"forceX",(function(){return Sl})),n.d(e,"forceY",(function(){return kl})),n.d(e,"formatDefaultLocale",(function(){return Hl})),n.d(e,"format",(function(){return Dl})),n.d(e,"formatPrefix",(function(){return Ll})),n.d(e,"formatLocale",(function(){return Bl})),n.d(e,"formatSpecifier",(function(){return Al})),n.d(e,"FormatSpecifier",(function(){return Pl})),n.d(e,"precisionFixed",(function(){return Ul})),n.d(e,"precisionPrefix",(function(){return Gl})),n.d(e,"precisionRound",(function(){return Wl})),n.d(e,"geoArea",(function(){return Gc})),n.d(e,"geoBounds",(function(){return Sh})),n.d(e,"geoCentroid",(function(){return Nh})),n.d(e,"geoCircle",(function(){return Xh})),n.d(e,"geoClipAntimeridian",(function(){return su})),n.d(e,"geoClipCircle",(function(){return ou})),n.d(e,"geoClipExtent",(function(){return du})),n.d(e,"geoClipRectangle",(function(){return au})),n.d(e,"geoContains",(function(){return Tu})),n.d(e,"geoDistance",(function(){return bu})),n.d(e,"geoGraticule",(function(){return Ru})),n.d(e,"geoGraticule10",(function(){return Iu})),n.d(e,"geoInterpolate",(function(){return ju})),n.d(e,"geoLength",(function(){return _u})),n.d(e,"geoPath",(function(){return Fd})),n.d(e,"geoAlbers",(function(){return tf})),n.d(e,"geoAlbersUsa",(function(){return ef})),n.d(e,"geoAzimuthalEqualArea",(function(){return of})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return sf})),n.d(e,"geoAzimuthalEquidistant",(function(){return lf})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return af})),n.d(e,"geoConicConformal",(function(){return pf})),n.d(e,"geoConicConformalRaw",(function(){return ff})),n.d(e,"geoConicEqualArea",(function(){return Jd})),n.d(e,"geoConicEqualAreaRaw",(function(){return Qd})),n.d(e,"geoConicEquidistant",(function(){return vf})),n.d(e,"geoConicEquidistantRaw",(function(){return _f})),n.d(e,"geoEqualEarth",(function(){return Sf})),n.d(e,"geoEqualEarthRaw",(function(){return Of})),n.d(e,"geoEquirectangular",(function(){return mf})),n.d(e,"geoEquirectangularRaw",(function(){return gf})),n.d(e,"geoGnomonic",(function(){return Ef})),n.d(e,"geoGnomonicRaw",(function(){return kf})),n.d(e,"geoIdentity",(function(){return Mf})),n.d(e,"geoProjection",(function(){return $d})),n.d(e,"geoProjectionMutator",(function(){return Kd})),n.d(e,"geoMercator",(function(){return hf})),n.d(e,"geoMercatorRaw",(function(){return cf})),n.d(e,"geoNaturalEarth1",(function(){return Af})),n.d(e,"geoNaturalEarth1Raw",(function(){return Tf})),n.d(e,"geoOrthographic",(function(){return Rf})),n.d(e,"geoOrthographicRaw",(function(){return Pf})),n.d(e,"geoStereographic",(function(){return Df})),n.d(e,"geoStereographicRaw",(function(){return If})),n.d(e,"geoTransverseMercator",(function(){return Ff})),n.d(e,"geoTransverseMercatorRaw",(function(){return Lf})),n.d(e,"geoRotation",(function(){return Wh})),n.d(e,"geoStream",(function(){return Sc})),n.d(e,"geoTransform",(function(){return Nd})),n.d(e,"cluster",(function(){return Vf})),n.d(e,"hierarchy",(function(){return Hf})),n.d(e,"pack",(function(){return fp})),n.d(e,"packSiblings",(function(){return ap})),n.d(e,"packEnclose",(function(){return Xf})),n.d(e,"partition",(function(){return yp})),n.d(e,"stratify",(function(){return Op})),n.d(e,"tree",(function(){return Pp})),n.d(e,"treemap",(function(){return Fp})),n.d(e,"treemapBinary",(function(){return Np})),n.d(e,"treemapDice",(function(){return vp})),n.d(e,"treemapSlice",(function(){return Rp})),n.d(e,"treemapSliceDice",(function(){return jp})),n.d(e,"treemapSquarify",(function(){return Lp})),n.d(e,"treemapResquarify",(function(){return zp})),n.d(e,"interpolate",(function(){return ei})),n.d(e,"interpolateArray",(function(){return Wn})),n.d(e,"interpolateBasis",(function(){return In})),n.d(e,"interpolateBasisClosed",(function(){return Dn})),n.d(e,"interpolateDate",(function(){return $n})),n.d(e,"interpolateDiscrete",(function(){return Vp})),n.d(e,"interpolateHue",(function(){return Bp})),n.d(e,"interpolateNumber",(function(){return Kn})),n.d(e,"interpolateNumberArray",(function(){return Un})),n.d(e,"interpolateObject",(function(){return Zn})),n.d(e,"interpolateRound",(function(){return Hp})),n.d(e,"interpolateString",(function(){return ti})),n.d(e,"interpolateTransformCss",(function(){return Ii})),n.d(e,"interpolateTransformSvg",(function(){return Di})),n.d(e,"interpolateZoom",(function(){return Gp})),n.d(e,"interpolateRgb",(function(){return zn})),n.d(e,"interpolateRgbBasis",(function(){return Bn})),n.d(e,"interpolateRgbBasisClosed",(function(){return Hn})),n.d(e,"interpolateHsl",(function(){return Yp})),n.d(e,"interpolateHslLong",(function(){return qp})),n.d(e,"interpolateLab",(function(){return Xp})),n.d(e,"interpolateHcl",(function(){return Kp})),n.d(e,"interpolateHclLong",(function(){return Zp})),n.d(e,"interpolateCubehelix",(function(){return Jp})),n.d(e,"interpolateCubehelixLong",(function(){return tg})),n.d(e,"piecewise",(function(){return eg})),n.d(e,"quantize",(function(){return ng})),n.d(e,"path",(function(){return gs})),n.d(e,"polygonArea",(function(){return ig})),n.d(e,"polygonCentroid",(function(){return rg})),n.d(e,"polygonHull",(function(){return ag})),n.d(e,"polygonContains",(function(){return lg})),n.d(e,"polygonLength",(function(){return cg})),n.d(e,"quadtree",(function(){return al})),n.d(e,"randomUniform",(function(){return ug})),n.d(e,"randomInt",(function(){return dg})),n.d(e,"randomNormal",(function(){return fg})),n.d(e,"randomLogNormal",(function(){return pg})),n.d(e,"randomBates",(function(){return mg})),n.d(e,"randomIrwinHall",(function(){return gg})),n.d(e,"randomExponential",(function(){return _g})),n.d(e,"randomPareto",(function(){return vg})),n.d(e,"randomBernoulli",(function(){return yg})),n.d(e,"randomGeometric",(function(){return bg})),n.d(e,"randomBinomial",(function(){return Cg})),n.d(e,"randomGamma",(function(){return wg})),n.d(e,"randomBeta",(function(){return xg})),n.d(e,"randomWeibull",(function(){return Og})),n.d(e,"randomCauchy",(function(){return Sg})),n.d(e,"randomLogistic",(function(){return kg})),n.d(e,"randomPoisson",(function(){return Eg})),n.d(e,"randomLcg",(function(){return Tg})),n.d(e,"scaleBand",(function(){return Dg})),n.d(e,"scalePoint",(function(){return Fg})),n.d(e,"scaleIdentity",(function(){return $g})),n.d(e,"scaleLinear",(function(){return Xg})),n.d(e,"scaleLog",(function(){return rm})),n.d(e,"scaleSymlog",(function(){return lm})),n.d(e,"scaleOrdinal",(function(){return Ig})),n.d(e,"scaleImplicit",(function(){return Rg})),n.d(e,"scalePow",(function(){return fm})),n.d(e,"scaleSqrt",(function(){return pm})),n.d(e,"scaleRadial",(function(){return _m})),n.d(e,"scaleQuantile",(function(){return vm})),n.d(e,"scaleQuantize",(function(){return ym})),n.d(e,"scaleThreshold",(function(){return bm})),n.d(e,"scaleTime",(function(){return iy})),n.d(e,"scaleUtc",(function(){return fy})),n.d(e,"scaleSequential",(function(){return my})),n.d(e,"scaleSequentialLog",(function(){return _y})),n.d(e,"scaleSequentialPow",(function(){return yy})),n.d(e,"scaleSequentialSqrt",(function(){return by})),n.d(e,"scaleSequentialSymlog",(function(){return vy})),n.d(e,"scaleSequentialQuantile",(function(){return wy})),n.d(e,"scaleDiverging",(function(){return Cy})),n.d(e,"scaleDivergingLog",(function(){return Oy})),n.d(e,"scaleDivergingPow",(function(){return ky})),n.d(e,"scaleDivergingSqrt",(function(){return Ey})),n.d(e,"scaleDivergingSymlog",(function(){return Sy})),n.d(e,"tickFormat",(function(){return Yg})),n.d(e,"schemeCategory10",(function(){return My.R})),n.d(e,"schemeAccent",(function(){return My.M})),n.d(e,"schemeDark2",(function(){return My.S})),n.d(e,"schemePaired",(function(){return My.Z})),n.d(e,"schemePastel1",(function(){return My.ab})),n.d(e,"schemePastel2",(function(){return My.bb})),n.d(e,"schemeSet1",(function(){return My.ob})),n.d(e,"schemeSet2",(function(){return My.pb})),n.d(e,"schemeSet3",(function(){return My.qb})),n.d(e,"schemeTableau10",(function(){return My.sb})),n.d(e,"interpolateBrBG",(function(){return My.b})),n.d(e,"schemeBrBG",(function(){return My.O})),n.d(e,"interpolatePRGn",(function(){return My.o})),n.d(e,"schemePRGn",(function(){return My.Y})),n.d(e,"interpolatePiYG",(function(){return My.p})),n.d(e,"schemePiYG",(function(){return My.cb})),n.d(e,"interpolatePuOr",(function(){return My.t})),n.d(e,"schemePuOr",(function(){return My.fb})),n.d(e,"interpolateRdBu",(function(){return My.x})),n.d(e,"schemeRdBu",(function(){return My.ib})),n.d(e,"interpolateRdGy",(function(){return My.y})),n.d(e,"schemeRdGy",(function(){return My.jb})),n.d(e,"interpolateRdYlBu",(function(){return My.A})),n.d(e,"schemeRdYlBu",(function(){return My.lb})),n.d(e,"interpolateRdYlGn",(function(){return My.B})),n.d(e,"schemeRdYlGn",(function(){return My.mb})),n.d(e,"interpolateSpectral",(function(){return My.E})),n.d(e,"schemeSpectral",(function(){return My.rb})),n.d(e,"interpolateBuGn",(function(){return My.c})),n.d(e,"schemeBuGn",(function(){return My.P})),n.d(e,"interpolateBuPu",(function(){return My.d})),n.d(e,"schemeBuPu",(function(){return My.Q})),n.d(e,"interpolateGnBu",(function(){return My.h})),n.d(e,"schemeGnBu",(function(){return My.T})),n.d(e,"interpolateOrRd",(function(){return My.m})),n.d(e,"schemeOrRd",(function(){return My.W})),n.d(e,"interpolatePuBuGn",(function(){return My.s})),n.d(e,"schemePuBuGn",(function(){return My.eb})),n.d(e,"interpolatePuBu",(function(){return My.r})),n.d(e,"schemePuBu",(function(){return My.db})),n.d(e,"interpolatePuRd",(function(){return My.u})),n.d(e,"schemePuRd",(function(){return My.gb})),n.d(e,"interpolateRdPu",(function(){return My.z})),n.d(e,"schemeRdPu",(function(){return My.kb})),n.d(e,"interpolateYlGnBu",(function(){return My.J})),n.d(e,"schemeYlGnBu",(function(){return My.ub})),n.d(e,"interpolateYlGn",(function(){return My.I})),n.d(e,"schemeYlGn",(function(){return My.tb})),n.d(e,"interpolateYlOrBr",(function(){return My.K})),n.d(e,"schemeYlOrBr",(function(){return My.vb})),n.d(e,"interpolateYlOrRd",(function(){return My.L})),n.d(e,"schemeYlOrRd",(function(){return My.wb})),n.d(e,"interpolateBlues",(function(){return My.a})),n.d(e,"schemeBlues",(function(){return My.N})),n.d(e,"interpolateGreens",(function(){return My.i})),n.d(e,"schemeGreens",(function(){return My.U})),n.d(e,"interpolateGreys",(function(){return My.j})),n.d(e,"schemeGreys",(function(){return My.V})),n.d(e,"interpolatePurples",(function(){return My.v})),n.d(e,"schemePurples",(function(){return My.hb})),n.d(e,"interpolateReds",(function(){return My.C})),n.d(e,"schemeReds",(function(){return My.nb})),n.d(e,"interpolateOranges",(function(){return My.n})),n.d(e,"schemeOranges",(function(){return My.X})),n.d(e,"interpolateCividis",(function(){return My.e})),n.d(e,"interpolateCubehelixDefault",(function(){return My.g})),n.d(e,"interpolateRainbow",(function(){return My.w})),n.d(e,"interpolateWarm",(function(){return My.H})),n.d(e,"interpolateCool",(function(){return My.f})),n.d(e,"interpolateSinebow",(function(){return My.D})),n.d(e,"interpolateTurbo",(function(){return My.F})),n.d(e,"interpolateViridis",(function(){return My.G})),n.d(e,"interpolateMagma",(function(){return My.l})),n.d(e,"interpolateInferno",(function(){return My.k})),n.d(e,"interpolatePlasma",(function(){return My.q})),n.d(e,"create",(function(){return Ty})),n.d(e,"creator",(function(){return Le})),n.d(e,"local",(function(){return Py})),n.d(e,"matcher",(function(){return Bt})),n.d(e,"namespace",(function(){return ne})),n.d(e,"namespaces",(function(){return ee})),n.d(e,"pointer",(function(){return ii})),n.d(e,"pointers",(function(){return Iy})),n.d(e,"select",(function(){return Ke})),n.d(e,"selectAll",(function(){return Dy})),n.d(e,"selection",(function(){return $e})),n.d(e,"selector",(function(){return Nt})),n.d(e,"selectorAll",(function(){return Vt})),n.d(e,"style",(function(){return fe})),n.d(e,"window",(function(){return ce})),n.d(e,"arc",(function(){return eb})),n.d(e,"area",(function(){return cb})),n.d(e,"line",(function(){return lb})),n.d(e,"pie",(function(){return db})),n.d(e,"areaRadial",(function(){return vb})),n.d(e,"radialArea",(function(){return vb})),n.d(e,"lineRadial",(function(){return _b})),n.d(e,"radialLine",(function(){return _b})),n.d(e,"pointRadial",(function(){return yb})),n.d(e,"linkHorizontal",(function(){return kb})),n.d(e,"linkVertical",(function(){return Eb})),n.d(e,"linkRadial",(function(){return Mb})),n.d(e,"symbol",(function(){return Yb})),n.d(e,"symbols",(function(){return Wb})),n.d(e,"symbolCircle",(function(){return Tb})),n.d(e,"symbolCross",(function(){return Ab})),n.d(e,"symbolDiamond",(function(){return Ib})),n.d(e,"symbolSquare",(function(){return jb})),n.d(e,"symbolStar",(function(){return Nb})),n.d(e,"symbolTriangle",(function(){return Vb})),n.d(e,"symbolWye",(function(){return Gb})),n.d(e,"curveBasisClosed",(function(){return Qb})),n.d(e,"curveBasisOpen",(function(){return tw})),n.d(e,"curveBasis",(function(){return Kb})),n.d(e,"curveBundle",(function(){return nw})),n.d(e,"curveCardinalClosed",(function(){return aw})),n.d(e,"curveCardinalOpen",(function(){return cw})),n.d(e,"curveCardinal",(function(){return sw})),n.d(e,"curveCatmullRomClosed",(function(){return pw})),n.d(e,"curveCatmullRomOpen",(function(){return mw})),n.d(e,"curveCatmullRom",(function(){return dw})),n.d(e,"curveLinearClosed",(function(){return vw})),n.d(e,"curveLinear",(function(){return sb})),n.d(e,"curveMonotoneX",(function(){return kw})),n.d(e,"curveMonotoneY",(function(){return Ew})),n.d(e,"curveNatural",(function(){return Aw})),n.d(e,"curveStep",(function(){return Rw})),n.d(e,"curveStepAfter",(function(){return Dw})),n.d(e,"curveStepBefore",(function(){return Iw})),n.d(e,"stack",(function(){return zw})),n.d(e,"stackOffsetExpand",(function(){return Vw})),n.d(e,"stackOffsetDiverging",(function(){return Bw})),n.d(e,"stackOffsetNone",(function(){return Lw})),n.d(e,"stackOffsetSilhouette",(function(){return Hw})),n.d(e,"stackOffsetWiggle",(function(){return Uw})),n.d(e,"stackOrderAppearance",(function(){return Gw})),n.d(e,"stackOrderAscending",(function(){return Yw})),n.d(e,"stackOrderDescending",(function(){return Xw})),n.d(e,"stackOrderInsideOut",(function(){return $w})),n.d(e,"stackOrderNone",(function(){return Fw})),n.d(e,"stackOrderReverse",(function(){return Kw})),n.d(e,"timeInterval",(function(){return Cm})),n.d(e,"timeMillisecond",(function(){return r_})),n.d(e,"timeMilliseconds",(function(){return s_})),n.d(e,"utcMillisecond",(function(){return r_})),n.d(e,"utcMilliseconds",(function(){return s_})),n.d(e,"timeSecond",(function(){return e_})),n.d(e,"timeSeconds",(function(){return n_})),n.d(e,"utcSecond",(function(){return e_})),n.d(e,"utcSeconds",(function(){return n_})),n.d(e,"timeMinute",(function(){return Qm})),n.d(e,"timeMinutes",(function(){return Jm})),n.d(e,"timeHour",(function(){return $m})),n.d(e,"timeHours",(function(){return Km})),n.d(e,"timeDay",(function(){return Ym})),n.d(e,"timeDays",(function(){return qm})),n.d(e,"timeWeek",(function(){return Pm})),n.d(e,"timeWeeks",(function(){return jm})),n.d(e,"timeSunday",(function(){return Pm})),n.d(e,"timeSundays",(function(){return jm})),n.d(e,"timeMonday",(function(){return Rm})),n.d(e,"timeMondays",(function(){return zm})),n.d(e,"timeTuesday",(function(){return Im})),n.d(e,"timeTuesdays",(function(){return Vm})),n.d(e,"timeWednesday",(function(){return Dm})),n.d(e,"timeWednesdays",(function(){return Bm})),n.d(e,"timeThursday",(function(){return Lm})),n.d(e,"timeThursdays",(function(){return Hm})),n.d(e,"timeFriday",(function(){return Fm})),n.d(e,"timeFridays",(function(){return Um})),n.d(e,"timeSaturday",(function(){return Nm})),n.d(e,"timeSaturdays",(function(){return Gm})),n.d(e,"timeMonth",(function(){return Mm})),n.d(e,"timeMonths",(function(){return Tm})),n.d(e,"timeYear",(function(){return Sm})),n.d(e,"timeYears",(function(){return km})),n.d(e,"utcMinute",(function(){return uy})),n.d(e,"utcMinutes",(function(){return dy})),n.d(e,"utcHour",(function(){return ly})),n.d(e,"utcHours",(function(){return cy})),n.d(e,"utcDay",(function(){return x_})),n.d(e,"utcDays",(function(){return C_})),n.d(e,"utcWeek",(function(){return a_})),n.d(e,"utcWeeks",(function(){return p_})),n.d(e,"utcSunday",(function(){return a_})),n.d(e,"utcSundays",(function(){return p_})),n.d(e,"utcMonday",(function(){return l_})),n.d(e,"utcMondays",(function(){return g_})),n.d(e,"utcTuesday",(function(){return c_})),n.d(e,"utcTuesdays",(function(){return m_})),n.d(e,"utcWednesday",(function(){return h_})),n.d(e,"utcWednesdays",(function(){return __})),n.d(e,"utcThursday",(function(){return u_})),n.d(e,"utcThursdays",(function(){return v_})),n.d(e,"utcFriday",(function(){return d_})),n.d(e,"utcFridays",(function(){return y_})),n.d(e,"utcSaturday",(function(){return f_})),n.d(e,"utcSaturdays",(function(){return b_})),n.d(e,"utcMonth",(function(){return sy})),n.d(e,"utcMonths",(function(){return oy})),n.d(e,"utcYear",(function(){return S_})),n.d(e,"utcYears",(function(){return k_})),n.d(e,"timeFormatDefaultLocale",(function(){return Jv})),n.d(e,"timeFormat",(function(){return R_})),n.d(e,"timeParse",(function(){return I_})),n.d(e,"utcFormat",(function(){return D_})),n.d(e,"utcParse",(function(){return L_})),n.d(e,"timeFormatLocale",(function(){return A_})),n.d(e,"isoFormat",(function(){return Zw})),n.d(e,"isoParse",(function(){return Qw})),n.d(e,"now",(function(){return di})),n.d(e,"timer",(function(){return gi})),n.d(e,"timerFlush",(function(){return mi})),n.d(e,"timeout",(function(){return bi})),n.d(e,"interval",(function(){return Jw})),n.d(e,"transition",(function(){return cr})),n.d(e,"active",(function(){return vr})),n.d(e,"interrupt",(function(){return Mi})),n.d(e,"zoom",(function(){return fx})),n.d(e,"zoomTransform",(function(){return rx})),n.d(e,"zoomIdentity",(function(){return ix}));var i="6.1.1",r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},s=function(t){let e=t,n=t;function i(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const s=i+r>>>1;n(t[s],e)<0?i=s+1:r=s}return i}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>r(t(e),n)}(t)),{left:i,center:function(t,n,r,s){null==r&&(r=0),null==s&&(s=t.length);const o=i(t,n,r,s-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const s=i+r>>>1;n(t[s],e)>0?r=s:i=s+1}return i}}},o=function(t){return null===t?NaN:+t};const a=s(r),l=a.right,c=a.left,h=s(o).center;var u=l;function d(t,e){let n=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&++n;else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(r=+r)>=r&&++n}return n}function f(t){return 0|t.length}function p(t){return!(t>0)}function g(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function m(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(g)).map(f),i=t.length-1,r=new Array(i+1).fill(0),s=[];if(i<0||n.some(p))return s;for(;;){s.push(r.map((e,n)=>t[n][e]));let o=i;for(;++r[o]===n[o];){if(0===o)return e?s.map(e):s;r[o--]=0}}}function _(t,e){var n=0,i=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:r=>n+=+e(r,i++,t)||0)}var v=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN};function y(t,e){let n,i=0,r=0,s=0;if(void 0===e)for(let o of t)null!=o&&(o=+o)>=o&&(n=o-r,r+=n/++i,s+=n*(o-r));else{let o=-1;for(let a of t)null!=(a=e(a,++o,t))&&(a=+a)>=a&&(n=a-r,r+=n/++i,s+=n*(a-r))}if(i>1)return s/(i-1)}function b(t,e){const n=y(t,e);return n?Math.sqrt(n):n}var w=function(t,e){let n,i;if(void 0===e)for(const r of t)null!=r&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let s of t)null!=(s=e(s,++r,t))&&(void 0===n?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}return[n,i]};class x{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=e[i],s=t+r,o=Math.abs(t)<Math.abs(r)?t-(s-r):r-(s-t);o&&(e[n++]=o),t=s}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,i,r=this._n,s=0;if(r>0){for(s=t[--r];r>0&&(e=s,n=t[--r],s=e+n,i=n-(s-e),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(n=2*i,e=s+n,n==e-s&&(s=e))}return s}}var C=function(t,e){const n=new x;if(void 0===e)for(let i of t)(i=+i)&&n.add(i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&n.add(r)}return+n},O=function(t){return t};function S(t,...e){return R(t,O,O,e)}function k(t,...e){return R(t,Array.from,O,e)}function E(t,e,...n){return R(t,O,e,n)}function M(t,e,...n){return R(t,Array.from,e,n)}function T(t,...e){return R(t,O,P,e)}function A(t,...e){return R(t,Array.from,P,e)}function P(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function R(t,e,n,i){return function t(r,s){if(s>=i.length)return n(r);const o=new Map,a=i[s++];let l=-1;for(const e of r){const t=a(e,++l,r),n=o.get(t);n?n.push(e):o.set(t,[e])}for(const[e,n]of o)o.set(e,t(n,s));return e(o)}(t,0)}var I=Array.prototype.slice,D=function(t){return function(){return t}},L=Math.sqrt(50),F=Math.sqrt(10),N=Math.sqrt(2),j=function(t,e,n){var i,r,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=z(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(r=Math.ceil(e-t+1));++a<r;)s[a]=(t+a)*o;else for(o=-o,t=Math.ceil(t*o),e=Math.floor(e*o),s=new Array(r=Math.ceil(e-t+1));++a<r;)s[a]=(t+a)/o;return i&&s.reverse(),s};function z(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=L?10:s>=F?5:s>=N?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=L?10:s>=F?5:s>=N?2:1)}function V(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=L?r*=10:s>=F?r*=5:s>=N&&(r*=2),e<t?-r:r}var B=function(t){return Math.ceil(Math.log(d(t))/Math.LN2)+1},H=function(){var t=O,e=w,n=B;function i(i){Array.isArray(i)||(i=Array.from(i));var r,s,o=i.length,a=new Array(o);for(r=0;r<o;++r)a[r]=t(i[r],r,i);var l=e(a),c=l[0],h=l[1],d=n(a,c,h);Array.isArray(d)||(d=j(c,h,d))[d.length-1]===h&&d.pop();for(var f=d.length;d[0]<=c;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,g=new Array(f+1);for(r=0;r<=f;++r)(p=g[r]=[]).x0=r>0?d[r-1]:c,p.x1=r<f?d[r]:h;for(r=0;r<o;++r)c<=(s=a[r])&&s<=h&&g[u(d,s,0,f)].push(i[r]);return g}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:D(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:D([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?D(I.call(t)):D(t),i):n},i};function U(t,e){let n;if(void 0===e)for(const i of t)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function G(t,e){let n;if(void 0===e)for(const i of t)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function W(t,e,n=0,i=t.length-1,s=r){for(;i>n;){if(i-n>600){const r=i-n+1,o=e-n+1,a=Math.log(r),l=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*l*(r-l)/r)*(o-r/2<0?-1:1);W(t,e,Math.max(n,Math.floor(e-o*l/r+c)),Math.min(i,Math.floor(e+(r-o)*l/r+c)),s)}const r=t[e];let o=n,a=i;for(Y(t,n,e),s(t[i],r)>0&&Y(t,n,i);o<a;){for(Y(t,o,a),++o,--a;s(t[o],r)<0;)++o;for(;s(t[a],r)>0;)--a}0===s(t[n],r)?Y(t,n,a):(++a,Y(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}return t}function Y(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function q(t,e,n){if(i=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)null!=(i=e(i,++n,t))&&(i=+i)>=i&&(yield i)}}(t,n))).length){if((e=+e)<=0||i<2)return G(t);if(e>=1)return U(t);var i,r=(i-1)*e,s=Math.floor(r),o=U(W(t,s).subarray(0,s+1));return o+(G(t.subarray(s+1))-o)*(r-s)}}function X(t,e,n=o){if(i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,s=Math.floor(r),a=+n(t[s],s,t);return a+(+n(t[s+1],s+1,t)-a)*(r-s)}}var $=function(t,e,n){return Math.ceil((n-e)/(2*(q(t,.75)-q(t,.25))*Math.pow(d(t),-1/3)))},K=function(t,e,n){return Math.ceil((n-e)/(3.5*b(t)*Math.pow(d(t),-1/3)))};function Z(t,e){let n,i=-1,r=-1;if(void 0===e)for(const s of t)++r,null!=s&&(n<s||void 0===n&&s>=s)&&(n=s,i=r);else for(let s of t)null!=(s=e(s,++r,t))&&(n<s||void 0===n&&s>=s)&&(n=s,i=r);return i}function Q(t,e){let n=0,i=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let s of t)null!=(s=e(s,++r,t))&&(s=+s)>=s&&(++n,i+=s)}if(n)return i/n}var J=function(t,e){return q(t,.5,e)};function tt(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function et(t,e){let n,i=-1,r=-1;if(void 0===e)for(const s of t)++r,null!=s&&(n>s||void 0===n&&s>=s)&&(n=s,i=r);else for(let s of t)null!=(s=e(s,++r,t))&&(n>s||void 0===n&&s>=s)&&(n=s,i=r);return i}function nt(t,e=it){const n=[];let i,r=!1;for(const s of t)r&&n.push(e(i,s)),i=s,r=!0;return n}function it(t,e){return[t,e]}var rt=function(t,e){return Array.from(e,e=>t[e])},st=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),s=new Array(r);++i<r;)s[i]=t+i*n;return s};function ot(t,e=r){let n,i=!1;if(1===e.length){let s;for(const o of t){const t=e(o);(i?r(t,s)<0:0===r(t,t))&&(n=o,s=t,i=!0)}}else for(const r of t)(i?e(r,n)<0:0===e(r,r))&&(n=r,i=!0);return n}function at(t,e=r){if(1===e.length)return et(t,e);let n,i=-1,s=-1;for(const r of t)++s,(i<0?0===e(r,r):e(r,n)<0)&&(n=r,i=s);return i}function lt(t,e=r){let n,i=!1;if(1===e.length){let s;for(const o of t){const t=e(o);(i?r(t,s)>0:0===r(t,t))&&(n=o,s=t,i=!0)}}else for(const r of t)(i?e(r,n)>0:0===e(r,r))&&(n=r,i=!0);return n}function ct(t,e=r){if(1===e.length)return Z(t,e);let n,i=-1,s=-1;for(const r of t)++s,(i<0?0===e(r,r):e(r,n)>0)&&(n=r,i=s);return i}function ht(t,e){const n=at(t,e);return n<0?void 0:n}var ut=dt(Math.random);function dt(t){return function(e,n=0,i=e.length){let r=i-(n=+n);for(;r;){const i=t()*r--|0,s=e[r+n];e[r+n]=e[i+n],e[i+n]=s}return e}}function ft(t,e){let n=0;if(void 0===e)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&(n+=r)}return n}var pt=function(t){if(!(r=t.length))return[];for(var e=-1,n=G(t,gt),i=new Array(n);++e<n;)for(var r,s=-1,o=i[e]=new Array(r);++s<r;)o[s]=t[s][e];return i};function gt(t){return t.length}var mt=function(){return pt(arguments)},_t=Array.prototype.slice,vt=function(t){return t};function yt(t){return"translate("+(t+.5)+",0)"}function bt(t){return"translate(0,"+(t+.5)+")"}function wt(t){return e=>+t(e)}function xt(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function Ct(){return!this.__axis}function Ot(t,e){var n=[],i=null,r=null,s=6,o=6,a=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",h=1===t||3===t?yt:bt;function u(u){var d=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,f=null==r?e.tickFormat?e.tickFormat.apply(e,n):vt:r,p=Math.max(s,0)+a,g=e.range(),m=+g[0]+.5,_=+g[g.length-1]+.5,v=(e.bandwidth?xt:wt)(e.copy()),y=u.selection?u.selection():u,b=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(d,e).order(),x=w.exit(),C=w.enter().append("g").attr("class","tick"),O=w.select("line"),S=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(C),O=O.merge(C.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),S=S.merge(C.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),u!==y&&(b=b.transition(u),w=w.transition(u),O=O.transition(u),S=S.transition(u),x=x.transition(u).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?h(t):this.getAttribute("transform")})),C.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return h(e&&isFinite(e=e(t))?e:v(t))}))),x.remove(),b.attr("d",4===t||2==t?o?"M"+l*o+","+m+"H0.5V"+_+"H"+l*o:"M0.5,"+m+"V"+_:o?"M"+m+","+l*o+"V0.5H"+_+"V"+l*o:"M"+m+",0.5H"+_),w.attr("opacity",1).attr("transform",(function(t){return h(v(t))})),O.attr(c+"2",l*s),S.attr(c,l*p).text(f),y.filter(Ct).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),y.each((function(){this.__axis=v}))}return u.scale=function(t){return arguments.length?(e=t,u):e},u.ticks=function(){return n=_t.call(arguments),u},u.tickArguments=function(t){return arguments.length?(n=null==t?[]:_t.call(t),u):n.slice()},u.tickValues=function(t){return arguments.length?(i=null==t?null:_t.call(t),u):i&&i.slice()},u.tickFormat=function(t){return arguments.length?(r=t,u):r},u.tickSize=function(t){return arguments.length?(s=o=+t,u):s},u.tickSizeInner=function(t){return arguments.length?(s=+t,u):s},u.tickSizeOuter=function(t){return arguments.length?(o=+t,u):o},u.tickPadding=function(t){return arguments.length?(a=+t,u):a},u}function St(t){return Ot(1,t)}function kt(t){return Ot(2,t)}function Et(t){return Ot(3,t)}function Mt(t){return Ot(4,t)}var Tt={value:()=>{}};function At(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Pt(i)}function Pt(t){this._=t}function Rt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function It(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Dt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Tt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Pt.prototype=At.prototype={constructor:Pt,on:function(t,e){var n,i=this._,r=Rt(t+"",i),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=r[s]).type)i[n]=Dt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Dt(i[n],t.name,null);return this}for(;++s<o;)if((n=(t=r[s]).type)&&(n=It(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Pt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),s=0;s<n;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(i=this._[t]).length;s<n;++s)i[s].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};var Lt=At;function Ft(){}var Nt=function(t){return null==t?Ft:function(){return this.querySelector(t)}},jt=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function zt(){return[]}var Vt=function(t){return null==t?zt:function(){return this.querySelectorAll(t)}},Bt=function(t){return function(){return this.matches(t)}};function Ht(t){return function(e){return e.matches(t)}}var Ut=Array.prototype.find;function Gt(){return this.firstElementChild}var Wt=Array.prototype.filter;function Yt(){return this.children}var qt=function(t){return new Array(t.length)};function Xt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Xt.prototype={constructor:Xt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var $t=function(t){return function(){return t}};function Kt(t,e,n,i,r,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],i[a]=o):n[a]=new Xt(t,s[a]);for(;a<l;++a)(o=e[a])&&(r[a]=o)}function Zt(t,e,n,i,r,s,o){var a,l,c,h=new Map,u=e.length,d=s.length,f=new Array(u);for(a=0;a<u;++a)(l=e[a])&&(f[a]=c=o.call(l,l.__data__,a,e)+"",h.has(c)?r[a]=l:h.set(c,l));for(a=0;a<d;++a)c=o.call(t,s[a],a,s)+"",(l=h.get(c))?(i[a]=l,l.__data__=s[a],h.delete(c)):n[a]=new Xt(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&h.get(f[a])===l&&(r[a]=l)}function Qt(t){return t.__data__}function Jt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var te="http://www.w3.org/1999/xhtml",ee={svg:"http://www.w3.org/2000/svg",xhtml:te,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ne=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ee.hasOwnProperty(e)?{space:ee[e],local:t}:t};function ie(t){return function(){this.removeAttribute(t)}}function re(t){return function(){this.removeAttributeNS(t.space,t.local)}}function se(t,e){return function(){this.setAttribute(t,e)}}function oe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ae(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function le(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var ce=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function he(t){return function(){this.style.removeProperty(t)}}function ue(t,e,n){return function(){this.style.setProperty(t,e,n)}}function de(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function fe(t,e){return t.style.getPropertyValue(e)||ce(t).getComputedStyle(t,null).getPropertyValue(e)}function pe(t){return function(){delete this[t]}}function ge(t,e){return function(){this[t]=e}}function me(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function _e(t){return t.trim().split(/^|\s+/)}function ve(t){return t.classList||new ye(t)}function ye(t){this._node=t,this._names=_e(t.getAttribute("class")||"")}function be(t,e){for(var n=ve(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function we(t,e){for(var n=ve(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function xe(t){return function(){be(this,t)}}function Ce(t){return function(){we(this,t)}}function Oe(t,e){return function(){(e.apply(this,arguments)?be:we)(this,t)}}function Se(){this.textContent=""}function ke(t){return function(){this.textContent=t}}function Ee(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Me(){this.innerHTML=""}function Te(t){return function(){this.innerHTML=t}}function Ae(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Pe(){this.nextSibling&&this.parentNode.appendChild(this)}function Re(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ie(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===te&&e.documentElement.namespaceURI===te?e.createElement(t):e.createElementNS(n,t)}}function De(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}ye.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Le=function(t){var e=ne(t);return(e.local?De:Ie)(e)};function Fe(){return null}function Ne(){var t=this.parentNode;t&&t.removeChild(this)}function je(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ze(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ve(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Be(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,s=e.length;i<s;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function He(t,e,n){return function(){var i,r=this.__on,s=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),void(i.value=e);this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ue(t,e,n){var i=ce(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Ge(t,e){return function(){return Ue(this,t,e)}}function We(t,e){return function(){return Ue(this,t,e.apply(this,arguments))}}var Ye=[null];function qe(t,e){this._groups=t,this._parents=e}function Xe(){return new qe([[document.documentElement]],Ye)}qe.prototype=Xe.prototype={constructor:qe,select:function(t){"function"!=typeof t&&(t=Nt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o,a=e[r],l=a.length,c=i[r]=new Array(l),h=0;h<l;++h)(s=a[h])&&(o=t.call(s,s.__data__,h,a))&&("__data__"in s&&(o.__data__=s.__data__),c[h]=o);return new qe(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:jt(e)}}(t):Vt(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(i.push(t.call(o,o.__data__,c,a)),r.push(o));return new qe(i,r)},selectChild:function(t){return this.select(null==t?Gt:function(t){return function(){return Ut.call(this.children,t)}}("function"==typeof t?t:Ht(t)))},selectChildren:function(t){return this.selectAll(null==t?Yt:function(t){return function(){return Wt.call(this.children,t)}}("function"==typeof t?t:Ht(t)))},filter:function(t){"function"!=typeof t&&(t=Bt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,l=i[r]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new qe(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Qt);var n=e?Zt:Kt,i=this._parents,r=this._groups;"function"!=typeof t&&(t=$t(t));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var h=i[c],u=r[c],d=u.length,f=jt(t.call(h,h&&h.__data__,c,i)),p=f.length,g=a[c]=new Array(p),m=o[c]=new Array(p),_=l[c]=new Array(d);n(h,u,g,m,_,f,e);for(var v,y,b=0,w=0;b<p;++b)if(v=g[b]){for(b>=w&&(w=b+1);!(y=m[w])&&++w<p;);v._next=y||null}}return(o=new qe(o,i))._enter=a,o._exit=l,o},enter:function(){return new qe(this._enter||this._groups.map(qt),this._parents)},exit:function(){return new qe(this._exit||this._groups.map(qt),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,s=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?s.remove():n(s),i&&r?i.merge(r).order():r},merge:function(t){if(!(t instanceof qe))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,l=e[o],c=n[o],h=l.length,u=s[o]=new Array(h),d=0;d<h;++d)(a=l[d]||c[d])&&(u[d]=a);for(;o<i;++o)s[o]=e[o];return new qe(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],s=r.length-1,o=r[s];--s>=0;)(i=r[s])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Jt);for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o,a=n[s],l=a.length,c=r[s]=new Array(l),h=0;h<l;++h)(o=a[h])&&(c[h]=o);c.sort(e)}return new qe(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,s=e[n],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,e){var n=ne(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?re:ie:"function"==typeof e?n.local?le:ae:n.local?oe:se)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?he:"function"==typeof e?de:ue)(t,e,null==n?"":n)):fe(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?pe:"function"==typeof e?me:ge)(t,e)):this.node()[t]},classed:function(t,e){var n=_e(t+"");if(arguments.length<2){for(var i=ve(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Oe:e?xe:Ce)(n,e))},text:function(t){return arguments.length?this.each(null==t?Se:("function"==typeof t?Ee:ke)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Me:("function"==typeof t?Ae:Te)(t)):this.node().innerHTML},raise:function(){return this.each(Pe)},lower:function(){return this.each(Re)},append:function(t){var e="function"==typeof t?t:Le(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Le(t),i=null==e?Fe:"function"==typeof e?e:Nt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Ne)},clone:function(t){return this.select(t?ze:je)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,s=Ve(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?He:Be,i=0;i<o;++i)this.each(a(s[i],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,h=a.length;c<h;++c)for(i=0,l=a[c];i<o;++i)if((r=s[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?We:Ge)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],s=0,o=r.length;s<o;++s)(i=r[s])&&(yield i)}};var $e=Xe,Ke=function(t){return"string"==typeof t?new qe([[document.querySelector(t)]],[document.documentElement]):new qe([[t]],Ye)};function Ze(t){t.stopImmediatePropagation()}var Qe=function(t){t.preventDefault(),t.stopImmediatePropagation()},Je=function(t){var e=t.document.documentElement,n=Ke(t).on("dragstart.drag",Qe,!0);"onselectstart"in e?n.on("selectstart.drag",Qe,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function tn(t,e){var n=t.document.documentElement,i=Ke(t).on("dragstart.drag",null);e&&(i.on("click.drag",Qe,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var en=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function nn(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function rn(){}var sn="\\s*([+-]?\\d+)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ln=/^#([0-9a-f]{3,8})$/,cn=new RegExp("^rgb\\("+[sn,sn,sn]+"\\)$"),hn=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),un=new RegExp("^rgba\\("+[sn,sn,sn,on]+"\\)$"),dn=new RegExp("^rgba\\("+[an,an,an,on]+"\\)$"),fn=new RegExp("^hsl\\("+[on,an,an]+"\\)$"),pn=new RegExp("^hsla\\("+[on,an,an,on]+"\\)$"),gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mn(){return this.rgb().formatHex()}function _n(){return this.rgb().formatRgb()}function vn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ln.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?yn(e):3===n?new Cn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?bn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?bn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=cn.exec(t))?new Cn(e[1],e[2],e[3],1):(e=hn.exec(t))?new Cn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=un.exec(t))?bn(e[1],e[2],e[3],e[4]):(e=dn.exec(t))?bn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fn.exec(t))?En(e[1],e[2]/100,e[3]/100,1):(e=pn.exec(t))?En(e[1],e[2]/100,e[3]/100,e[4]):gn.hasOwnProperty(t)?yn(gn[t]):"transparent"===t?new Cn(NaN,NaN,NaN,0):null}function yn(t){return new Cn(t>>16&255,t>>8&255,255&t,1)}function bn(t,e,n,i){return i<=0&&(t=e=n=NaN),new Cn(t,e,n,i)}function wn(t){return t instanceof rn||(t=vn(t)),t?new Cn((t=t.rgb()).r,t.g,t.b,t.opacity):new Cn}function xn(t,e,n,i){return 1===arguments.length?wn(t):new Cn(t,e,n,null==i?1:i)}function Cn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function On(){return"#"+kn(this.r)+kn(this.g)+kn(this.b)}function Sn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function kn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function En(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new An(t,e,n,i)}function Mn(t){if(t instanceof An)return new An(t.h,t.s,t.l,t.opacity);if(t instanceof rn||(t=vn(t)),!t)return new An;if(t instanceof An)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=e===s?(n-i)/a+6*(n<i):n===s?(i-e)/a+2:(e-n)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new An(o,a,l,t.opacity)}function Tn(t,e,n,i){return 1===arguments.length?Mn(t):new An(t,e,n,null==i?1:i)}function An(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Pn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Rn(t,e,n,i,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*i+o*r)/6}en(rn,vn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:mn,formatHex:mn,formatHsl:function(){return Mn(this).formatHsl()},formatRgb:_n,toString:_n}),en(Cn,xn,nn(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:On,formatHex:On,formatRgb:Sn,toString:Sn})),en(An,Tn,nn(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new An(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new An(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Cn(Pn(t>=240?t-240:t+120,r,i),Pn(t,r,i),Pn(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var In=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],s=t[i+1];return Rn((n-i/e)*e,i>0?t[i-1]:2*r-s,r,s,i<e-1?t[i+2]:2*s-r)}},Dn=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return Rn((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}},Ln=t=>()=>t;function Fn(t,e){return function(n){return t+n*e}}function Nn(t,e){var n=e-t;return n?Fn(t,n>180||n<-180?n-360*Math.round(n/360):n):Ln(isNaN(t)?e:t)}function jn(t,e){var n=e-t;return n?Fn(t,n):Ln(isNaN(t)?e:t)}var zn=function t(e){var n=function(t){return 1==(t=+t)?jn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Ln(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=xn(t)).r,(e=xn(e)).r),r=n(t.g,e.g),s=n(t.b,e.b),o=jn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=s(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function Vn(t){return function(e){var n,i,r=e.length,s=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=xn(e[n]),s[n]=i.r||0,o[n]=i.g||0,a[n]=i.b||0;return s=t(s),o=t(o),a=t(a),i.opacity=1,function(t){return i.r=s(t),i.g=o(t),i.b=a(t),i+""}}}var Bn=Vn(In),Hn=Vn(Dn),Un=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(s){for(n=0;n<i;++n)r[n]=t[n]*(1-s)+e[n]*s;return r}};function Gn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var Wn=function(t,e){return(Gn(e)?Un:Yn)(t,e)};function Yn(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,s=new Array(r),o=new Array(i);for(n=0;n<r;++n)s[n]=ei(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=s[n](t);return o}}var qn,Xn,$n=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},Kn=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Zn=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=ei(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Qn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jn=new RegExp(Qn.source,"g"),ti=function(t,e){var n,i,r,s=Qn.lastIndex=Jn.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=Qn.exec(t))&&(i=Jn.exec(e));)(r=i.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Kn(n,i)})),s=Jn.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})},ei=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Ln(e):("number"===i?Kn:"string"===i?(n=vn(e))?(e=n,zn):ti:e instanceof vn?zn:e instanceof Date?$n:Gn(e)?Un:Array.isArray(e)?Yn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Zn:Kn)(t,e)},ni=function(t){let e;for(;e=t.sourceEvent;)t=e;return t},ii=function(t,e){if(t=ni(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]},ri=0,si=0,oi=0,ai=0,li=0,ci=0,hi="object"==typeof performance&&performance.now?performance:Date,ui="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function di(){return li||(ui(fi),li=hi.now()+ci)}function fi(){li=0}function pi(){this._call=this._time=this._next=null}function gi(t,e,n){var i=new pi;return i.restart(t,e,n),i}function mi(){di(),++ri;for(var t,e=qn;e;)(t=li-e._time)>=0&&e._call.call(null,t),e=e._next;--ri}function _i(){li=(ai=hi.now())+ci,ri=si=0;try{mi()}finally{ri=0,function(){for(var t,e,n=qn,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:qn=e);Xn=t,yi(i)}(),li=0}}function vi(){var t=hi.now(),e=t-ai;e>1e3&&(ci-=e,ai=t)}function yi(t){ri||(si&&(si=clearTimeout(si)),t-li>24?(t<1/0&&(si=setTimeout(_i,t-hi.now()-ci)),oi&&(oi=clearInterval(oi))):(oi||(ai=hi.now(),oi=setInterval(vi,1e3)),ri=1,ui(_i)))}pi.prototype=gi.prototype={constructor:pi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?di():+n)+(null==e?0:+e),this._next||Xn===this||(Xn?Xn._next=this:qn=this,Xn=this),this._call=t,this._time=n,yi()},stop:function(){this._call&&(this._call=null,this._time=1/0,yi())}};var bi=function(t,e,n){var i=new pi;return i.restart(n=>{i.stop(),t(n+e)},e=null==e?0:+e,n),i},wi=Lt("start","end","cancel","interrupt"),xi=[],Ci=function(t,e,n,i,r,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function s(l){var c,h,u,d;if(1!==n.state)return a();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return bi(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(bi((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(u=n.tween.length),c=0,h=-1;c<u;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=i.length;++s<o;)i[s].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=gi((function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:wi,tween:xi,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function Oi(t,e){var n=ki(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Si(t,e){var n=ki(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ki(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ei,Mi=function(t,e){var n,i,r,s=t.__transition,o=!0;if(s){for(r in e=null==e?null:e+"",s)(n=s[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[r]):o=!1;o&&delete t.__transition}},Ti=180/Math.PI,Ai={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Pi=function(t,e,n,i,r,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Ti,skewX:Math.atan(l)*Ti,scaleX:o,scaleY:a}};function Ri(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,i,r,s,o,a){if(t!==r||i!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:Kn(t,r)},{i:l-2,x:Kn(i,s)})}else(r||s)&&o.push("translate("+r+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Kn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(s.rotate,o.rotate,a,l),function(t,e,n,s){t!==e?s.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Kn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(s.skewX,o.skewX,a,l),function(t,e,n,i,s,o){if(t!==n||e!==i){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:Kn(t,n)},{i:a-2,x:Kn(e,i)})}else 1===n&&1===i||s.push(r(s)+"scale("+n+","+i+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var Ii=Ri((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ai:Pi(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Di=Ri((function(t){return null==t?Ai:(Ei||(Ei=document.createElementNS("http://www.w3.org/2000/svg","g")),Ei.setAttribute("transform",t),(t=Ei.transform.baseVal.consolidate())?Pi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ai)}),", ",")",")");function Li(t,e){var n,i;return function(){var r=Si(this,t),s=r.tween;if(s!==n)for(var o=0,a=(i=n=s).length;o<a;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function Fi(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var s=Si(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function Ni(t,e,n){var i=t._id;return t.each((function(){var t=Si(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ki(t,i).value[e]}}var ji=function(t,e){var n;return("number"==typeof e?Kn:e instanceof vn?zn:(n=vn(e))?(e=n,zn):ti)(t,e)};function zi(t){return function(){this.removeAttribute(t)}}function Vi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bi(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===i?r:r=e(i=o,n)}}function Hi(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===i?r:r=e(i=o,n)}}function Ui(t,e,n){var i,r,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,l));this.removeAttribute(t)}}function Gi(t,e,n){var i,r,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,l));this.removeAttributeNS(t.space,t.local)}}function Wi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yi(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function qi(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Yi(t,r)),n}return r._value=e,r}function Xi(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Wi(t,r)),n}return r._value=e,r}function $i(t,e){return function(){Oi(this,t).delay=+e.apply(this,arguments)}}function Ki(t,e){return e=+e,function(){Oi(this,t).delay=e}}function Zi(t,e){return function(){Si(this,t).duration=+e.apply(this,arguments)}}function Qi(t,e){return e=+e,function(){Si(this,t).duration=e}}function Ji(t,e){if("function"!=typeof e)throw new Error;return function(){Si(this,t).ease=e}}function tr(t,e,n){var i,r,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Oi:Si;return function(){var o=s(this,t),a=o.on;a!==i&&(r=(i=a).copy()).on(e,n),o.on=r}}var er=$e.prototype.constructor;function nr(t){return function(){this.style.removeProperty(t)}}function ir(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function rr(t,e,n){var i,r;function s(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&ir(t,s,n)),i}return s._value=e,s}function sr(t){return function(e){this.textContent=t.call(this,e)}}function or(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&sr(i)),e}return i._value=t,i}var ar=0;function lr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function cr(t){return $e().transition(t)}function hr(){return++ar}var ur=$e.prototype;function dr(t){return t*t*t}function fr(t){return--t*t*t+1}function pr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}lr.prototype=cr.prototype={constructor:lr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Nt(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a,l,c=i[o],h=c.length,u=s[o]=new Array(h),d=0;d<h;++d)(a=c[d])&&(l=t.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),u[d]=l,Ci(u[d],e,n,d,u,ki(a,n)));return new lr(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Vt(t));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l,c=i[a],h=c.length,u=0;u<h;++u)if(l=c[u]){for(var d,f=t.call(l,l.__data__,u,c),p=ki(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&Ci(d,e,n,g,f,p);s.push(f),o.push(l)}return new lr(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Bt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,l=i[r]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new lr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,l=e[o],c=n[o],h=l.length,u=s[o]=new Array(h),d=0;d<h;++d)(a=l[d]||c[d])&&(u[d]=a);for(;o<i;++o)s[o]=e[o];return new lr(s,this._parents,this._name,this._id)},selection:function(){return new er(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=hr(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var h=ki(o,e);Ci(o,t,n,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new lr(i,this._parents,t,n)},call:ur.call,nodes:ur.nodes,node:ur.node,size:ur.size,empty:ur.empty,each:ur.each,on:function(t,e){var n=this._id;return arguments.length<2?ki(this.node(),n).on.on(t):this.each(tr(n,t,e))},attr:function(t,e){var n=ne(t),i="transform"===n?Di:ji;return this.attrTween(t,"function"==typeof e?(n.local?Gi:Ui)(n,i,Ni(this,"attr."+t,e)):null==e?(n.local?Vi:zi)(n):(n.local?Hi:Bi)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=ne(t);return this.tween(n,(i.local?qi:Xi)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Ii:ji;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var s=fe(this,t),o=(this.style.removeProperty(t),fe(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}(t,i)).on("end.style."+t,nr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,s;return function(){var o=fe(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=fe(this,t)),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}(t,i,Ni(this,"style."+t,e))).each(function(t,e){var n,i,r,s,o="style."+e,a="end."+o;return function(){var l=Si(this,t),c=l.on,h=null==l.value[o]?s||(s=nr(e)):void 0;c===n&&r===h||(i=(n=c).copy()).on(a,r=h),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,s=n+"";return function(){var o=fe(this,t);return o===s?null:o===i?r:r=e(i=o,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,rr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ni(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,or(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=ki(this.node(),n).tween,s=0,o=r.length;s<o;++s)if((i=r[s]).name===t)return i.value;return null}return this.each((null==e?Li:Fi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?$i:Ki)(e,t)):ki(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zi:Qi)(e,t)):ki(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ji(e,t)):ki(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Si(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};n.each((function(){var n=Si(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===r&&s()}))},[Symbol.iterator]:ur[Symbol.iterator]};var gr={time:null,delay:0,duration:250,ease:pr};function mr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}$e.prototype.interrupt=function(t){return this.each((function(){Mi(this,t)}))},$e.prototype.transition=function(t){var e,n;t instanceof lr?(e=t._id,t=t._name):(e=hr(),(n=gr).time=di(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],l=a.length,c=0;c<l;++c)(o=a[c])&&Ci(o,t,e,c,a,n||mr(o,e));return new lr(i,this._parents,t,e)};var _r=[null],vr=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>1&&n.name===e)return new lr([[t]],_r,e,+i);return null},yr=t=>()=>t;function br(t,{sourceEvent:e,target:n,selection:i,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function wr(t){t.stopImmediatePropagation()}var xr=function(t){t.preventDefault(),t.stopImmediatePropagation()},Cr={name:"drag"},Or={name:"space"},Sr={name:"handle"},kr={name:"center"};const{abs:Er,max:Mr,min:Tr}=Math;function Ar(t){return[+t[0],+t[1]]}function Pr(t){return[Ar(t[0]),Ar(t[1])]}var Rr={name:"x",handles:["w","e"].map(Vr),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ir={name:"y",handles:["n","s"].map(Vr),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Dr={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Vr),input:function(t){return null==t?null:Pr(t)},output:function(t){return t}},Lr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Fr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Nr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},jr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},zr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Vr(t){return{type:t}}function Br(t){return!t.ctrlKey&&!t.button}function Hr(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ur(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Wr(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Yr(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function qr(){return Kr(Rr)}function Xr(){return Kr(Ir)}var $r=function(){return Kr(Dr)};function Kr(t){var e,n=Hr,i=Br,r=Ur,s=!0,o=Lt("start","brush","end"),a=6;function l(e){var n=e.property("__brush",g).selectAll(".overlay").data([Vr("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Lr.overlay).merge(n).each((function(){var t=Gr(this).extent;Ke(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Vr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Lr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Lr[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Ke(this),e=Gr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(t,e,n){var i=t.__brush.emitter;return!i||n&&i.clean?new u(t,e,n):i}function u(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(n){if((!e||n.touches)&&i.apply(this,arguments)){var r,o,a,l,u,d,f,p,g,m,_,v=this,y=n.target.__data__.type,b="selection"===(s&&n.metaKey?y="overlay":y)?Cr:s&&n.altKey?kr:Sr,w=t===Ir?null:jr[y],x=t===Rr?null:zr[y],C=Gr(v),O=C.extent,S=C.selection,k=O[0][0],E=O[0][1],M=O[1][0],T=O[1][1],A=0,P=0,R=w&&x&&s&&n.shiftKey,I=Array.from(n.touches||[n],t=>{const e=t.identifier;return(t=ii(t,v)).point0=t.slice(),t.identifier=e,t});if("overlay"===y){S&&(g=!0);const e=[I[0],I[1]||I[0]];C.selection=S=[[r=t===Ir?k:Tr(e[0][0],e[1][0]),a=t===Rr?E:Tr(e[0][1],e[1][1])],[u=t===Ir?M:Mr(e[0][0],e[1][0]),f=t===Rr?T:Mr(e[0][1],e[1][1])]],I.length>1&&z()}else r=S[0][0],a=S[0][1],u=S[1][0],f=S[1][1];o=r,l=a,d=u,p=f;var D=Ke(v).attr("pointer-events","none"),L=D.selectAll(".overlay").attr("cursor",Lr[y]);Mi(v);var F=h(v,arguments,!0).beforestart();if(n.touches)F.moved=j,F.ended=V;else{var N=Ke(n.view).on("mousemove.brush",j,!0).on("mouseup.brush",V,!0);s&&N.on("keydown.brush",B,!0).on("keyup.brush",H,!0),Je(n.view)}c.call(v),F.start(n,b.name)}function j(t){for(const e of t.changedTouches||[t])for(const t of I)t.identifier===e.identifier&&(t.cur=ii(e,v));if(R&&!m&&!_&&1===I.length){const t=I[0];Er(t.cur[0]-t[0])>Er(t.cur[1]-t[1])?_=!0:m=!0}for(const e of I)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);g=!0,xr(t),z(t)}function z(t){const e=I[0],n=e.point0;var i;switch(A=e[0]-n[0],P=e[1]-n[1],b){case Or:case Cr:w&&(A=Mr(k-r,Tr(M-u,A)),o=r+A,d=u+A),x&&(P=Mr(E-a,Tr(T-f,P)),l=a+P,p=f+P);break;case Sr:I[1]?(w&&(o=Mr(k,Tr(M,I[0][0])),d=Mr(k,Tr(M,I[1][0])),w=1),x&&(l=Mr(E,Tr(T,I[0][1])),p=Mr(E,Tr(T,I[1][1])),x=1)):(w<0?(A=Mr(k-r,Tr(M-r,A)),o=r+A,d=u):w>0&&(A=Mr(k-u,Tr(M-u,A)),o=r,d=u+A),x<0?(P=Mr(E-a,Tr(T-a,P)),l=a+P,p=f):x>0&&(P=Mr(E-f,Tr(T-f,P)),l=a,p=f+P));break;case kr:w&&(o=Mr(k,Tr(M,r-A*w)),d=Mr(k,Tr(M,u+A*w))),x&&(l=Mr(E,Tr(T,a-P*x)),p=Mr(E,Tr(T,f+P*x)))}d<o&&(w*=-1,i=r,r=u,u=i,i=o,o=d,d=i,y in Fr&&L.attr("cursor",Lr[y=Fr[y]])),p<l&&(x*=-1,i=a,a=f,f=i,i=l,l=p,p=i,y in Nr&&L.attr("cursor",Lr[y=Nr[y]])),C.selection&&(S=C.selection),m&&(o=S[0][0],d=S[1][0]),_&&(l=S[0][1],p=S[1][1]),S[0][0]===o&&S[0][1]===l&&S[1][0]===d&&S[1][1]===p||(C.selection=[[o,l],[d,p]],c.call(v),F.brush(t,b.name))}function V(t){if(wr(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else tn(t.view,g),N.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),L.attr("cursor",Lr.overlay),C.selection&&(S=C.selection),Wr(S)&&(C.selection=null,c.call(v)),F.end(t,b.name)}function B(t){switch(t.keyCode){case 16:R=w&&x;break;case 18:b===Sr&&(w&&(u=d-A*w,r=o+A*w),x&&(f=p-P*x,a=l+P*x),b=kr,z());break;case 32:b!==Sr&&b!==kr||(w<0?u=d-A:w>0&&(r=o-A),x<0?f=p-P:x>0&&(a=l-P),b=Or,L.attr("cursor",Lr.selection),z());break;default:return}xr(t)}function H(t){switch(t.keyCode){case 16:R&&(m=_=R=!1,z());break;case 18:b===kr&&(w<0?u=d:w>0&&(r=o),x<0?f=p:x>0&&(a=l),b=Sr,z());break;case 32:b===Or&&(t.altKey?(w&&(u=d-A*w,r=o+A*w),x&&(f=p-P*x,a=l+P*x),b=kr):(w<0?u=d:w>0&&(r=o),x<0?f=p:x>0&&(a=l),b=Sr),L.attr("cursor",Lr[y]),z());break;default:return}xr(t)}}function f(t){h(this,arguments).moved(t)}function p(t){h(this,arguments).ended(t)}function g(){var e=this.__brush||{selection:null};return e.extent=Pr(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.tween?e.on("start.brush",(function(t){h(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){h(this,arguments).end(t)})).tween("brush",(function(){var e=this,i=e.__brush,r=h(e,arguments),s=i.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),a=ei(s,o);function l(t){i.selection=1===t&&null===o?null:a(t),c.call(e),r.brush()}return null!==s&&null!==o?l:l(1)})):e.each((function(){var e=this,i=arguments,r=e.__brush,s=t.input("function"==typeof n?n.apply(e,i):n,r.extent),o=h(e,i).beforestart();Mi(e),r.selection=null===s?null:s,c.call(e),o.start().brush().end()}))},l.clear=function(t){l.move(t,null)},u.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,i){var r=Ke(this.that).datum();o.call(e,this.that,new br(e,{sourceEvent:n,target:l,selection:t.output(this.state.selection),mode:i,dispatch:o}),r)}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:yr(Pr(t)),l):n},l.filter=function(t){return arguments.length?(i="function"==typeof t?t:yr(!!t),l):i},l.touchable=function(t){return arguments.length?(r="function"==typeof t?t:yr(!!t),l):r},l.handleSize=function(t){return arguments.length?(a=+t,l):a},l.keyModifiers=function(t){return arguments.length?(s=!!t,l):s},l.on=function(){var t=o.on.apply(o,arguments);return t===o?l:t},l}var Zr=Math.abs,Qr=Math.cos,Jr=Math.sin,ts=Math.PI,es=ts/2,ns=2*ts,is=Math.max;function rs(t,e){return Array.from({length:e-t},(e,n)=>t+n)}function ss(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var os=function(){return cs(!1,!1)};function as(){return cs(!1,!0)}function ls(){return cs(!0,!1)}function cs(t,e){var n=0,i=null,r=null,s=null;function o(o){var a,l=o.length,c=new Array(l),h=rs(0,l),u=new Array(l*l),d=new Array(l),f=0;o=Float64Array.from({length:l*l},e?(t,e)=>o[e%l][e/l|0]:(t,e)=>o[e/l|0][e%l]);for(let e=0;e<l;++e){let n=0;for(let i=0;i<l;++i)n+=o[e*l+i]+t*o[i*l+e];f+=c[e]=n}a=(f=is(0,ns-n*l)/f)?n:ns/l;{let e=0;i&&h.sort((t,e)=>i(c[t],c[e]));for(const n of h){const i=e;if(t){const t=rs(1+~l,l).filter(t=>t<0?o[~t*l+n]:o[n*l+t]);r&&t.sort((t,e)=>r(t<0?-o[~t*l+n]:o[n*l+t],e<0?-o[~e*l+n]:o[n*l+e]));for(const i of t)i<0?(u[~i*l+n]||(u[~i*l+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=o[~i*l+n]*f,value:o[~i*l+n]}:(u[n*l+i]||(u[n*l+i]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=o[n*l+i]*f,value:o[n*l+i]};d[n]={index:n,startAngle:i,endAngle:e,value:c[n]}}else{const t=rs(0,l).filter(t=>o[n*l+t]||o[t*l+n]);r&&t.sort((t,e)=>r(o[n*l+t],o[n*l+e]));for(const i of t){let t;if(n<i?(t=u[n*l+i]||(u[n*l+i]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=o[n*l+i]*f,value:o[n*l+i]}):(t=u[i*l+n]||(u[i*l+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=o[n*l+i]*f,value:o[n*l+i]},n===i&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}d[n]={index:n,startAngle:i,endAngle:e,value:c[n]}}e+=a}}return(u=Object.values(u)).groups=d,s?u.sort(s):u}return o.padAngle=function(t){return arguments.length?(n=is(0,t),o):n},o.sortGroups=function(t){return arguments.length?(i=t,o):i},o.sortSubgroups=function(t){return arguments.length?(r=t,o):r},o.sortChords=function(t){return arguments.length?(null==t?s=null:(s=ss(t))._=t,o):s&&s._},o}const hs=Math.PI,us=2*hs,ds=us-1e-6;function fs(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ps(){return new fs}fs.prototype=ps.prototype={constructor:fs,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(t,e,n,i,r){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),l=(i=+i)-(e=+e),c=s-t,h=o-e,u=c*c+h*h;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(u>1e-6)if(Math.abs(h*a-l*c)>1e-6&&r){var d=n-s,f=i-o,p=a*a+l*l,g=d*d+f*f,m=Math.sqrt(p),_=Math.sqrt(u),v=r*Math.tan((hs-Math.acos((p+u-g)/(2*m*_)))/2),y=v/_,b=v/m;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(e+y*h)),this._+="A"+r+","+r+",0,0,"+ +(h*d>c*f)+","+(this._x1=t+b*a)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=t+o,c=e+a,h=1^s,u=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(u<0&&(u=u%us+us),u>ds?this._+="A"+n+","+n+",0,1,"+h+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=c):u>1e-6&&(this._+="A"+n+","+n+",0,"+ +(u>=hs)+","+h+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var gs=ps,ms=Array.prototype.slice,_s=function(t){return function(){return t}};function vs(t){return t.source}function ys(t){return t.target}function bs(t){return t.radius}function ws(t){return t.startAngle}function xs(t){return t.endAngle}function Cs(){return 0}function Os(){return 10}function Ss(t){var e=vs,n=ys,i=bs,r=bs,s=ws,o=xs,a=Cs,l=null;function c(){var c,h=e.apply(this,arguments),u=n.apply(this,arguments),d=a.apply(this,arguments)/2,f=ms.call(arguments),p=+i.apply(this,(f[0]=h,f)),g=s.apply(this,f)-es,m=o.apply(this,f)-es,_=+r.apply(this,(f[0]=u,f)),v=s.apply(this,f)-es,y=o.apply(this,f)-es;if(l||(l=c=gs()),d>1e-12&&(Zr(m-g)>2*d+1e-12?m>g?(g+=d,m-=d):(g-=d,m+=d):g=m=(g+m)/2,Zr(y-v)>2*d+1e-12?y>v?(v+=d,y-=d):(v-=d,y+=d):v=y=(v+y)/2),l.moveTo(p*Qr(g),p*Jr(g)),l.arc(0,0,p,g,m),g!==v||m!==y)if(t){var b=+t.apply(this,arguments),w=_-b,x=(v+y)/2;l.quadraticCurveTo(0,0,w*Qr(v),w*Jr(v)),l.lineTo(_*Qr(x),_*Jr(x)),l.lineTo(w*Qr(y),w*Jr(y))}else l.quadraticCurveTo(0,0,_*Qr(v),_*Jr(v)),l.arc(0,0,_,v,y);if(l.quadraticCurveTo(0,0,p*Qr(g),p*Jr(g)),l.closePath(),c)return l=null,c+""||null}return t&&(c.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:_s(+e),c):t}),c.radius=function(t){return arguments.length?(i=r="function"==typeof t?t:_s(+t),c):i},c.sourceRadius=function(t){return arguments.length?(i="function"==typeof t?t:_s(+t),c):i},c.targetRadius=function(t){return arguments.length?(r="function"==typeof t?t:_s(+t),c):r},c.startAngle=function(t){return arguments.length?(s="function"==typeof t?t:_s(+t),c):s},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:_s(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:_s(+t),c):a},c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(t){return arguments.length?(n=t,c):n},c.context=function(t){return arguments.length?(l=null==t?null:t,c):l},c}var ks=function(){return Ss()};function Es(){return Ss(Os)}const Ms=Math.PI/180,Ts=180/Math.PI;function As(t){if(t instanceof Is)return new Is(t.l,t.a,t.b,t.opacity);if(t instanceof Bs)return Hs(t);t instanceof Cn||(t=wn(t));var e,n,i=Ns(t.r),r=Ns(t.g),s=Ns(t.b),o=Ds((.2225045*i+.7168786*r+.0606169*s)/1);return i===r&&r===s?e=n=o:(e=Ds((.4360747*i+.3850649*r+.1430804*s)/.96422),n=Ds((.0139322*i+.0971045*r+.7141733*s)/.82521)),new Is(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Ps(t,e){return new Is(t,0,0,null==e?1:e)}function Rs(t,e,n,i){return 1===arguments.length?As(t):new Is(t,e,n,null==i?1:i)}function Is(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Ds(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function Ls(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Fs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ns(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function js(t){if(t instanceof Bs)return new Bs(t.h,t.c,t.l,t.opacity);if(t instanceof Is||(t=As(t)),0===t.a&&0===t.b)return new Bs(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ts;return new Bs(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function zs(t,e,n,i){return 1===arguments.length?js(t):new Bs(n,e,t,null==i?1:i)}function Vs(t,e,n,i){return 1===arguments.length?js(t):new Bs(t,e,n,null==i?1:i)}function Bs(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Hs(t){if(isNaN(t.h))return new Is(t.l,0,0,t.opacity);var e=t.h*Ms;return new Is(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}en(Is,Rs,nn(rn,{brighter:function(t){return new Is(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Is(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Cn(Fs(3.1338561*(e=.96422*Ls(e))-1.6168667*(t=1*Ls(t))-.4906146*(n=.82521*Ls(n))),Fs(-.9787684*e+1.9161415*t+.033454*n),Fs(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),en(Bs,Vs,nn(rn,{brighter:function(t){return new Bs(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Bs(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Hs(this).rgb()}}));var Us=-.29227,Gs=-1.7884503806,Ws=3.5172982438,Ys=-.6557636667999999;function qs(t){if(t instanceof $s)return new $s(t.h,t.s,t.l,t.opacity);t instanceof Cn||(t=wn(t));var e=t.g/255,n=t.b/255,i=(Ys*n+Gs*(t.r/255)-Ws*e)/(Ys+Gs-Ws),r=n-i,s=(1.97294*(e-i)-Us*r)/-.90649,o=Math.sqrt(s*s+r*r)/(1.97294*i*(1-i)),a=o?Math.atan2(s,r)*Ts-120:NaN;return new $s(a<0?a+360:a,o,i,t.opacity)}function Xs(t,e,n,i){return 1===arguments.length?qs(t):new $s(t,e,n,null==i?1:i)}function $s(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}en($s,Xs,nn(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $s(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $s(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ms,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Cn(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(Us*i+-.90649*r)),255*(e+n*(1.97294*i)),this.opacity)}}));var Ks=Array.prototype.slice,Zs=function(t,e){return t-e},Qs=t=>()=>t,Js=function(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=to(t,e[i]))return n;return 0};function to(t,e){for(var n=e[0],i=e[1],r=-1,s=0,o=t.length,a=o-1;s<o;a=s++){var l=t[s],c=l[0],h=l[1],u=t[a],d=u[0],f=u[1];if(eo(l,u,e))return 0;h>i!=f>i&&n<(d-c)*(i-h)/(f-h)+c&&(r=-r)}return r}function eo(t,e,n){var i,r,s,o;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(r=t[i=+(t[0]===e[0])],o=e[i],r<=(s=n[i])&&s<=o||o<=s&&s<=r)}var no=function(){},io=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],ro=function(){var t=1,e=1,n=B,i=a;function r(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Zs);else{var i=w(t),r=i[0],o=i[1];e=V(r,o,e),e=st(Math.floor(r/e)*e,Math.floor(o/e)*e,e)}return e.map((function(e){return s(t,e)}))}function s(n,r){var s=[],a=[];return function(n,i,r){var s,a,l,c,h,u=new Array,d=new Array;for(s=a=-1,io[(l=n[0]>=i)<<1].forEach(f);++s<t-1;)io[l|(l=n[s+1]>=i)<<1].forEach(f);for(io[l<<0].forEach(f);++a<e-1;){for(s=-1,io[(l=n[a*t+t]>=i)<<1|(c=n[a*t]>=i)<<2].forEach(f);++s<t-1;)h=c,io[l|(l=n[a*t+t+s+1]>=i)<<1|(c=n[a*t+s+1]>=i)<<2|h<<3].forEach(f);io[l|c<<3].forEach(f)}for(s=-1,io[(c=n[a*t]>=i)<<2].forEach(f);++s<t-1;)h=c,io[(c=n[a*t+s+1]>=i)<<2|h<<3].forEach(f);function f(t){var e,n,i=[t[0][0]+s,t[0][1]+a],l=[t[1][0]+s,t[1][1]+a],c=o(i),h=o(l);(e=d[c])?(n=u[h])?(delete d[e.end],delete u[n.start],e===n?(e.ring.push(l),r(e.ring)):u[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(l),d[e.end=h]=e):(e=u[h])?(n=d[c])?(delete u[e.start],delete d[n.end],e===n?(e.ring.push(l),r(e.ring)):u[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete u[e.start],e.ring.unshift(i),u[e.start=c]=e):u[c]=d[h]={start:c,end:h,ring:[i,l]}}io[c<<3].forEach(f)}(n,r,(function(t){i(t,n,r),function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(t)>0?s.push([t]):a.push(t)})),a.forEach((function(t){for(var e,n=0,i=s.length;n<i;++n)if(-1!==Js((e=s[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:r,coordinates:s}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,i,r){n.forEach((function(n){var s,o=n[0],a=n[1],l=0|o,c=0|a,h=i[c*t+l];o>0&&o<t&&l===o&&(n[0]=o+(r-(s=i[c*t+l-1]))/(h-s)-.5),a>0&&a<e&&c===a&&(n[1]=a+(r-(s=i[(c-1)*t+l]))/(h-s)-.5)}))}return r.contour=s,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.floor(n[0]),s=Math.floor(n[1]);if(!(i>=0&&s>=0))throw new Error("invalid size");return t=i,e=s,r},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Qs(Ks.call(t)):Qs(t),r):n},r.smooth=function(t){return arguments.length?(i=t?a:no,r):i===a},r};function so(t,e,n){for(var i=t.width,r=t.height,s=1+(n<<1),o=0;o<r;++o)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=t.data[a+o*i]),a>=n&&(a>=s&&(l-=t.data[a-s+o*i]),e.data[a-n+o*i]=l/Math.min(a+1,i-1+s-a,s))}function oo(t,e,n){for(var i=t.width,r=t.height,s=1+(n<<1),o=0;o<i;++o)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=t.data[o+a*i]),a>=n&&(a>=s&&(l-=t.data[o+(a-s)*i]),e.data[o+(a-n)*i]=l/Math.min(a+1,r-1+s-a,s))}function ao(t){return t[0]}function lo(t){return t[1]}function co(){return 1}var ho=function(){var t=ao,e=lo,n=co,i=960,r=500,s=20,o=2,a=3*s,l=i+2*a>>o,c=r+2*a>>o,h=Qs(20);function u(i){var r=new Float32Array(l*c),u=new Float32Array(l*c);i.forEach((function(i,s,h){var u=+t(i,s,h)+a>>o,d=+e(i,s,h)+a>>o,f=+n(i,s,h);u>=0&&u<l&&d>=0&&d<c&&(r[u+d*l]+=f)})),so({width:l,height:c,data:r},{width:l,height:c,data:u},s>>o),oo({width:l,height:c,data:u},{width:l,height:c,data:r},s>>o),so({width:l,height:c,data:r},{width:l,height:c,data:u},s>>o),oo({width:l,height:c,data:u},{width:l,height:c,data:r},s>>o),so({width:l,height:c,data:r},{width:l,height:c,data:u},s>>o),oo({width:l,height:c,data:u},{width:l,height:c,data:r},s>>o);var f=h(r);if(!Array.isArray(f)){var p=U(r);f=V(0,p,f),(f=st(0,Math.floor(p/f)*f,f)).shift()}return ro().thresholds(f).size([l,c])(r).map(d)}function d(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,o)-a,t[1]=t[1]*Math.pow(2,o)-a}function m(){return l=i+2*(a=3*s)>>o,c=r+2*a>>o,u}return u.x=function(e){return arguments.length?(t="function"==typeof e?e:Qs(+e),u):t},u.y=function(t){return arguments.length?(e="function"==typeof t?t:Qs(+t),u):e},u.weight=function(t){return arguments.length?(n="function"==typeof t?t:Qs(+t),u):n},u.size=function(t){if(!arguments.length)return[i,r];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return i=e,r=n,m()},u.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),m()},u.thresholds=function(t){return arguments.length?(h="function"==typeof t?t:Array.isArray(t)?Qs(Ks.call(t)):Qs(t),u):h},u.bandwidth=function(t){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},u};const uo=Math.pow(2,-52),fo=new Uint32Array(512);class po{static from(t,e=xo,n=Co){const i=t.length,r=new Float64Array(2*i);for(let s=0;s<i;s++){const i=t[s];r[2*s]=e(i),r[2*s+1]=n(i)}return new po(r)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:i,_hullHash:r}=this,s=t.length>>1;let o=1/0,a=1/0,l=-1/0,c=-1/0;for(let S=0;S<s;S++){const e=t[2*S],n=t[2*S+1];e<o&&(o=e),n<a&&(a=n),e>l&&(l=e),n>c&&(c=n),this._ids[S]=S}const h=(o+l)/2,u=(a+c)/2;let d,f,p,g=1/0;for(let S=0;S<s;S++){const e=go(h,u,t[2*S],t[2*S+1]);e<g&&(d=S,g=e)}const m=t[2*d],_=t[2*d+1];g=1/0;for(let S=0;S<s;S++){if(S===d)continue;const e=go(m,_,t[2*S],t[2*S+1]);e<g&&e>0&&(f=S,g=e)}let v=t[2*f],y=t[2*f+1],b=1/0;for(let S=0;S<s;S++){if(S===d||S===f)continue;const e=yo(m,_,v,y,t[2*S],t[2*S+1]);e<b&&(p=S,b=e)}let w=t[2*p],x=t[2*p+1];if(b===1/0){for(let i=0;i<s;i++)this._dists[i]=t[2*i]-t[0]||t[2*i+1]-t[1];bo(this._ids,this._dists,0,s-1);const e=new Uint32Array(s);let n=0;for(let t=0,i=-1/0;t<s;t++){const r=this._ids[t];this._dists[r]>i&&(e[n++]=r,i=this._dists[r])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(_o(m,_,v,y,w,x)){const t=f,e=v,n=y;f=p,v=w,y=x,p=t,w=e,x=n}const C=function(t,e,n,i,r,s){const o=n-t,a=i-e,l=r-t,c=s-e,h=o*o+a*a,u=l*l+c*c,d=.5/(o*c-a*l);return{x:t+(c*h-a*u)*d,y:e+(o*u-l*h)*d}}(m,_,v,y,w,x);this._cx=C.x,this._cy=C.y;for(let S=0;S<s;S++)this._dists[S]=go(t[2*S],t[2*S+1],C.x,C.y);bo(this._ids,this._dists,0,s-1),this._hullStart=d;let O=3;n[d]=e[p]=f,n[f]=e[d]=p,n[p]=e[f]=d,i[d]=0,i[f]=1,i[p]=2,r.fill(-1),r[this._hashKey(m,_)]=d,r[this._hashKey(v,y)]=f,r[this._hashKey(w,x)]=p,this.trianglesLen=0,this._addTriangle(d,f,p,-1,-1,-1);for(let S,k,E=0;E<this._ids.length;E++){const s=this._ids[E],o=t[2*s],a=t[2*s+1];if(E>0&&Math.abs(o-S)<=uo&&Math.abs(a-k)<=uo)continue;if(S=o,k=a,s===d||s===f||s===p)continue;let l=0;for(let t=0,e=this._hashKey(o,a);t<this._hashSize&&(l=r[(e+t)%this._hashSize],-1===l||l===n[l]);t++);l=e[l];let c,h=l;for(;c=n[h],!_o(o,a,t[2*h],t[2*h+1],t[2*c],t[2*c+1]);)if(h=c,h===l){h=-1;break}if(-1===h)continue;let u=this._addTriangle(h,s,n[h],-1,-1,i[h]);i[s]=this._legalize(u+2),i[h]=u,O++;let g=n[h];for(;c=n[g],_o(o,a,t[2*g],t[2*g+1],t[2*c],t[2*c+1]);)u=this._addTriangle(g,s,c,i[s],-1,i[g]),i[s]=this._legalize(u+2),n[g]=g,O--,g=c;if(h===l)for(;c=e[h],_o(o,a,t[2*c],t[2*c+1],t[2*h],t[2*h+1]);)u=this._addTriangle(c,s,h,-1,i[h],i[c]),this._legalize(u+2),i[c]=u,n[h]=h,O--,h=c;this._hullStart=e[s]=h,n[h]=e[g]=s,n[s]=g,r[this._hashKey(o,a)]=s,r[this._hashKey(t[2*h],t[2*h+1])]=h}this.hull=new Uint32Array(O);for(let S=0,k=this._hullStart;S<O;S++)this.hull[S]=k,k=n[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:i}=this;let r=0,s=0;for(;;){const o=n[t],a=t-t%3;if(s=a+(t+2)%3,-1===o){if(0===r)break;t=fo[--r];continue}const l=o-o%3,c=l+(o+2)%3,h=e[s],u=e[t],d=e[a+(t+1)%3],f=e[c];if(vo(i[2*h],i[2*h+1],i[2*u],i[2*u+1],i[2*d],i[2*d+1],i[2*f],i[2*f+1])){e[t]=f,e[o]=h;const i=n[c];if(-1===i){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,i),this._link(o,n[s]),this._link(s,c);const a=l+(o+1)%3;r<fo.length&&(fo[r++]=a)}else{if(0===r)break;t=fo[--r]}}return s}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,i,r,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=n,this._link(o,i),this._link(o+1,r),this._link(o+2,s),this.trianglesLen+=3,o}}function go(t,e,n,i){const r=t-n,s=e-i;return r*r+s*s}function mo(t,e,n,i,r,s){const o=(i-e)*(r-t),a=(n-t)*(s-e);return Math.abs(o-a)>=33306690738754716e-32*Math.abs(o+a)?o-a:0}function _o(t,e,n,i,r,s){return(mo(r,s,t,e,n,i)||mo(t,e,n,i,r,s)||mo(n,i,r,s,t,e))<0}function vo(t,e,n,i,r,s,o,a){const l=t-o,c=e-a,h=n-o,u=i-a,d=r-o,f=s-a,p=h*h+u*u,g=d*d+f*f;return l*(u*g-p*f)-c*(h*g-p*d)+(l*l+c*c)*(h*f-u*d)<0}function yo(t,e,n,i,r,s){const o=n-t,a=i-e,l=r-t,c=s-e,h=o*o+a*a,u=l*l+c*c,d=.5/(o*c-a*l),f=(c*h-a*u)*d,p=(o*u-l*h)*d;return f*f+p*p}function bo(t,e,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=t[r],s=e[i];let o=r-1;for(;o>=n&&e[t[o]]>s;)t[o+1]=t[o--];t[o+1]=i}else{let r=n+1,s=i;wo(t,n+i>>1,r),e[t[n]]>e[t[i]]&&wo(t,n,i),e[t[r]]>e[t[i]]&&wo(t,r,i),e[t[n]]>e[t[r]]&&wo(t,n,r);const o=t[r],a=e[o];for(;;){do{r++}while(e[t[r]]<a);do{s--}while(e[t[s]]>a);if(s<r)break;wo(t,r,s)}t[n+1]=t[s],t[s]=o,i-r+1>=s-n?(bo(t,e,r,i),bo(t,e,n,s-1)):(bo(t,e,n,s-1),bo(t,e,r,i))}}function wo(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function xo(t){return t[0]}function Co(t){return t[1]}class Oo{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const i=(t=+t)+(n=+n),r=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${i},${r}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-r)>1e-6)&&(this._+="L"+i+","+r),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=i},${this._y1=r}`)}rect(t,e,n,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class So{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class ko{constructor(t,[e,n,i,r]=[0,0,960,500]){if(!((i=+i)>=(e=+e)&&(r=+r)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=i,this.xmin=e,this.ymax=r,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:i}=this,r=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let d,f,p=0,g=0,m=n.length;p<m;p+=3,g+=2){const e=2*n[p],i=2*n[p+1],s=2*n[p+2],o=t[e],a=t[e+1],l=t[s],c=t[s+1],h=t[i]-o,u=t[i+1]-a,m=l-o,_=c-a,v=h*h+u*u,y=m*m+_*_,b=2*(h*_-u*m);if(b)if(Math.abs(b)<1e-8)d=(o+l)/2,f=(a+c)/2;else{const t=1/b;d=o+(_*v-u*y)*t,f=a+(h*y-m*v)*t}else d=(o+l)/2-1e8*_,f=(a+c)/2+1e8*m;r[g]=d,r[g+1]=f}let s,o,a,l=e[e.length-1],c=4*l,h=t[2*l],u=t[2*l+1];i.fill(0);for(let d=0;d<e.length;++d)l=e[d],s=c,o=h,a=u,c=4*l,h=t[2*l],u=t[2*l+1],i[s+2]=i[c]=a-u,i[s+3]=i[c+1]=h-o}render(t){const e=null==t?t=new Oo:void 0,{delaunay:{halfedges:n,inedges:i,hull:r},circumcenters:s,vectors:o}=this;if(r.length<=1)return null;for(let c=0,h=n.length;c<h;++c){const e=n[c];if(e<c)continue;const i=2*Math.floor(c/3),r=2*Math.floor(e/3);this._renderSegment(s[i],s[i+1],s[r],s[r+1],t)}let a,l=r[r.length-1];for(let c=0;c<r.length;++c){a=l,l=r[c];const e=2*Math.floor(i[l]/3),n=s[e],h=s[e+1],u=4*a,d=this._project(n,h,o[u+2],o[u+3]);d&&this._renderSegment(n,h,d[0],d[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Oo:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Oo:void 0,i=this._clip(t);if(null===i||!i.length)return;e.moveTo(i[0],i[1]);let r=i.length;for(;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(let s=2;s<r;s+=2)i[s]===i[s-2]&&i[s+1]===i[s-1]||e.lineTo(i[s],i[s+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new So;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,i,r){let s;const o=this._regioncode(t,e),a=this._regioncode(n,i);0===o&&0===a?(r.moveTo(t,e),r.lineTo(n,i)):(s=this._clipSegment(t,e,n,i,o,a))&&(r.moveTo(s[0],s[1]),r.lineTo(s[2],s[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let i=0,r=e.length;i<r;i+=2)for(let s=0,o=t.length;s<o;s+=2)if(e[i]==t[s]&&e[i+1]==t[s+1]&&e[(i+2)%r]==t[(s+o-2)%o]&&e[(i+3)%r]==t[(s+o-1)%o]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:i,triangles:r}}=this,s=n[t];if(-1===s)return null;const o=[];let a=s;do{const n=Math.floor(a/3);if(o.push(e[2*n],e[2*n+1]),a=a%3==2?a-2:a+1,r[a]!==t)break;a=i[a]}while(a!==s&&-1!==a);return o}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,i=4*t;return n[i]||n[i+1]?this._clipInfinite(t,e,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let i,r,s,o,a,l=null,c=e[n-2],h=e[n-1],u=this._regioncode(c,h);for(let d=0;d<n;d+=2)if(i=c,r=h,c=e[d],h=e[d+1],s=u,u=this._regioncode(c,h),0===s&&0===u)o=a,a=0,l?l.push(c,h):l=[c,h];else{let e,n,d,f,p;if(0===s){if(null===(e=this._clipSegment(i,r,c,h,s,u)))continue;[n,d,f,p]=e}else{if(null===(e=this._clipSegment(c,h,i,r,u,s)))continue;[f,p,n,d]=e,o=a,a=this._edgecode(n,d),o&&a&&this._edge(t,o,a,l,l.length),l?l.push(n,d):l=[n,d]}o=a,a=this._edgecode(f,p),o&&a&&this._edge(t,o,a,l,l.length),l?l.push(f,p):l=[f,p]}if(l)o=a,a=this._edgecode(l[0],l[1]),o&&a&&this._edge(t,o,a,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(t,e,n,i,r,s){for(;;){if(0===r&&0===s)return[t,e,n,i];if(r&s)return null;let o,a,l=r||s;8&l?(o=t+(n-t)*(this.ymax-e)/(i-e),a=this.ymax):4&l?(o=t+(n-t)*(this.ymin-e)/(i-e),a=this.ymin):2&l?(a=e+(i-e)*(this.xmax-t)/(n-t),o=this.xmax):(a=e+(i-e)*(this.xmin-t)/(n-t),o=this.xmin),r?r=this._regioncode(t=o,e=a):s=this._regioncode(n=o,i=a)}}_clipInfinite(t,e,n,i,r,s){let o,a=Array.from(e);if((o=this._project(a[0],a[1],n,i))&&a.unshift(o[0],o[1]),(o=this._project(a[a.length-2],a[a.length-1],r,s))&&a.push(o[0],o[1]),a=this._clipFinite(t,a))for(let l,c=0,h=a.length,u=this._edgecode(a[h-2],a[h-1]);c<h;c+=2)l=u,u=this._edgecode(a[c],a[c+1]),l&&u&&(c=this._edge(t,l,u,a,c),h=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,e,n,i,r){for(;e!==n;){let n,s;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,s=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,s=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,s=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,s=this.ymin}i[r]===n&&i[r+1]===s||!this.contains(t,n,s)||(i.splice(r,0,n,s),r+=2)}if(i.length>4)for(let s=0;s<i.length;s+=2){const t=(s+2)%i.length,e=(s+4)%i.length;(i[s]===i[t]&&i[t]===i[e]||i[s+1]===i[t+1]&&i[t+1]===i[e+1])&&(i.splice(t,2),s-=2)}return r}_project(t,e,n,i){let r,s,o,a=1/0;if(i<0){if(e<=this.ymin)return null;(r=(this.ymin-e)/i)<a&&(o=this.ymin,s=t+(a=r)*n)}else if(i>0){if(e>=this.ymax)return null;(r=(this.ymax-e)/i)<a&&(o=this.ymax,s=t+(a=r)*n)}if(n>0){if(t>=this.xmax)return null;(r=(this.xmax-t)/n)<a&&(s=this.xmax,o=e+(a=r)*i)}else if(n<0){if(t<=this.xmin)return null;(r=(this.xmin-t)/n)<a&&(s=this.xmin,o=e+(a=r)*i)}return[s,o]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Eo=2*Math.PI,Mo=Math.pow;function To(t){return t[0]}function Ao(t){return t[1]}function Po(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Ro{static from(t,e=To,n=Ao,i){return new Ro("length"in t?function(t,e,n,i){const r=t.length,s=new Float64Array(2*r);for(let o=0;o<r;++o){const r=t[o];s[2*o]=e.call(i,r,o,t),s[2*o+1]=n.call(i,r,o,t)}return s}(t,e,n,i):Float64Array.from(function*(t,e,n,i){let r=0;for(const s of t)yield e.call(i,s,r,t),yield n.call(i,s,r,t),++r}(t,e,n,i)))}constructor(t){this._delaunator=new po(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let i=0;i<e.length;i+=3){const t=2*e[i],r=2*e[i+1],s=2*e[i+2];if((n[s]-n[t])*(n[r+1]-n[t+1])-(n[r]-n[t])*(n[s+1]-n[t+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);const t=this.collinear[0],n=this.collinear[this.collinear.length-1],i=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],r=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]);for(let s=0,o=e.length/2;s<o;++s){const t=Po(e[2*s],e[2*s+1],r);e[2*s]=t[0],e[2*s+1]=t[1]}this._delaunator=new po(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let a=0,l=n.length;a<l;++a){const t=r[a%3==2?a-2:a+1];-1!==n[a]&&-1!==s[t]||(s[t]=a)}for(let a=0,l=i.length;a<l;++a)o[i[a]]=a;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],s[i[0]]=1,2===i.length&&(s[i[1]]=0))}voronoi(t){return new ko(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:i,halfedges:r,triangles:s,collinear:o}=this;if(o){const e=o.indexOf(t);return e>0&&(yield o[e-1]),void(e<o.length-1&&(yield o[e+1]))}const a=e[t];if(-1===a)return;let l=a,c=-1;do{if(yield c=s[l],l=l%3==2?l-2:l+1,s[l]!==t)return;if(l=r[l],-1===l){const e=n[(i[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==a)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const i=n;let r;for(;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}_step(t,e,n){const{inedges:i,hull:r,_hullIndex:s,halfedges:o,triangles:a,points:l}=this;if(-1===i[t]||!l.length)return(t+1)%(l.length>>1);let c=t,h=Mo(e-l[2*t],2)+Mo(n-l[2*t+1],2);const u=i[t];let d=u;do{let i=a[d];const u=Mo(e-l[2*i],2)+Mo(n-l[2*i+1],2);if(u<h&&(h=u,c=i),d=d%3==2?d-2:d+1,a[d]!==t)break;if(d=o[d],-1===d){if(d=r[(s[t]+1)%r.length],d!==i&&Mo(e-l[2*d],2)+Mo(n-l[2*d+1],2)<h)return d;break}}while(d!==u);return c}render(t){const e=null==t?t=new Oo:void 0,{points:n,halfedges:i,triangles:r}=this;for(let s=0,o=i.length;s<o;++s){const e=i[s];if(e<s)continue;const o=2*r[s],a=2*r[e];t.moveTo(n[o],n[o+1]),t.lineTo(n[a],n[a+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new Oo:void 0,{points:i}=this;for(let r=0,s=i.length;r<s;r+=2){const n=i[r],s=i[r+1];t.moveTo(n+e,s),t.arc(n,s,e,0,Eo)}return n&&n.value()}renderHull(t){const e=null==t?t=new Oo:void 0,{hull:n,points:i}=this,r=2*n[0],s=n.length;t.moveTo(i[r],i[r+1]);for(let o=1;o<s;++o){const e=2*n[o];t.lineTo(i[e],i[e+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new So;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Oo:void 0,{points:i,triangles:r}=this,s=2*r[t*=3],o=2*r[t+1],a=2*r[t+2];return e.moveTo(i[s],i[s+1]),e.lineTo(i[o],i[o+1]),e.lineTo(i[a],i[a+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new So;return this.renderTriangle(t,e),e.value()}}var Io=t=>()=>t;function Do(t,{sourceEvent:e,subject:n,target:i,identifier:r,active:s,x:o,y:a,dx:l,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}function Lo(t){return!t.ctrlKey&&!t.button}function Fo(){return this.parentNode}function No(t,e){return null==e?{x:t.x,y:t.y}:e}function jo(){return navigator.maxTouchPoints||"ontouchstart"in this}Do.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var zo=function(){var t,e,n,i,r=Lo,s=Fo,o=No,a=jo,l={},c=Lt("start","drag","end"),h=0,u=0;function d(t){t.on("mousedown.drag",f).filter(a).on("touchstart.drag",m).on("touchmove.drag",_).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(o,a){if(!i&&r.call(this,o,a)){var l=y(this,s.call(this,o,a),o,a,"mouse");l&&(Ke(o.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Je(o.view),Ze(o),n=!1,t=o.clientX,e=o.clientY,l("start",o))}}function p(i){if(Qe(i),!n){var r=i.clientX-t,s=i.clientY-e;n=r*r+s*s>u}l.mouse("drag",i)}function g(t){Ke(t.view).on("mousemove.drag mouseup.drag",null),tn(t.view,n),Qe(t),l.mouse("end",t)}function m(t,e){if(r.call(this,t,e)){var n,i,o=t.changedTouches,a=s.call(this,t,e),l=o.length;for(n=0;n<l;++n)(i=y(this,a,t,e,o[n].identifier,o[n]))&&(Ze(t),i("start",t,o[n]))}}function _(t){var e,n,i=t.changedTouches,r=i.length;for(e=0;e<r;++e)(n=l[i[e].identifier])&&(Qe(t),n("drag",t,i[e]))}function v(t){var e,n,r=t.changedTouches,s=r.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<s;++e)(n=l[r[e].identifier])&&(Ze(t),n("end",t,r[e]))}function y(t,e,n,i,r,s){var a,u,f,p=c.copy(),g=ii(s||n,e);if(null!=(f=o.call(t,new Do("beforestart",{sourceEvent:n,target:d,identifier:r,active:h,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),i)))return a=f.x-g[0]||0,u=f.y-g[1]||0,function n(s,o,c){var m,_=g;switch(s){case"start":l[r]=n,m=h++;break;case"end":delete l[r],--h;case"drag":g=ii(c||o,e),m=h}p.call(s,t,new Do(s,{sourceEvent:o,subject:f,target:d,identifier:r,active:m,x:g[0]+a,y:g[1]+u,dx:g[0]-_[0],dy:g[1]-_[1],dispatch:p}),i)}}return d.filter=function(t){return arguments.length?(r="function"==typeof t?t:Io(!!t),d):r},d.container=function(t){return arguments.length?(s="function"==typeof t?t:Io(t),d):s},d.subject=function(t){return arguments.length?(o="function"==typeof t?t:Io(t),d):o},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Io(!!t),d):a},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(u=(t=+t)*t,d):Math.sqrt(u)},d},Vo={},Bo={};function Ho(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Uo(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Go(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}var Wo=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],s=t.length,o=0,a=0,l=s<=0,c=!1;function h(){if(l)return Bo;if(c)return c=!1,Vo;var e,i,r=o;if(34===t.charCodeAt(r)){for(;o++<s&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=s?l=!0:10===(i=t.charCodeAt(o++))?c=!0:13===i&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(r+1,e-1).replace(/""/g,'"')}for(;o<s;){if(10===(i=t.charCodeAt(e=o++)))c=!0;else if(13===i)c=!0,10===t.charCodeAt(o)&&++o;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(i=h())!==Bo;){for(var u=[];i!==Vo&&i!==Bo;)u.push(i),i=h();e&&null==(u=e(u,a++))||r.push(u)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function s(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?function(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Go(-e,6):e>9999?"+"+Go(e,6):Go(e,4))+"-"+Go(t.getUTCMonth()+1,2)+"-"+Go(t.getUTCDate(),2)+(s?"T"+Go(n,2)+":"+Go(i,2)+":"+Go(r,2)+"."+Go(s,3)+"Z":r?"T"+Go(n,2)+":"+Go(i,2)+":"+Go(r,2)+"Z":i||n?"T"+Go(n,2)+":"+Go(i,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,s=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=Ho(t);return function(i,r){return e(n(i),r,t)}}(t,e):Ho(t)}));return s.columns=r||[],s},parseRows:i,format:function(e,n){return null==n&&(n=Uo(e)),[n.map(o).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Uo(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(s).join("\n")},formatRow:s,formatValue:o}},Yo=Wo(","),qo=Yo.parse,Xo=Yo.parseRows,$o=Yo.format,Ko=Yo.formatBody,Zo=Yo.formatRows,Qo=Yo.formatRow,Jo=Yo.formatValue,ta=Wo("\t"),ea=ta.parse,na=ta.parseRows,ia=ta.format,ra=ta.formatBody,sa=ta.formatRows,oa=ta.formatRow,aa=ta.formatValue;function la(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ca&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t}const ca=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),ha=t=>+t;function ua(t){return t*t}function da(t){return t*(2-t)}function fa(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var pa=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),ga=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),ma=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),_a=Math.PI,va=_a/2;function ya(t){return 1==+t?1:1-Math.cos(t*va)}function ba(t){return Math.sin(t*va)}function wa(t){return(1-Math.cos(_a*t))/2}function xa(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Ca(t){return xa(1-+t)}function Oa(t){return 1-xa(t)}function Sa(t){return((t*=2)<=1?xa(1-t):2-xa(t-1))/2}function ka(t){return 1-Math.sqrt(1-t*t)}function Ea(t){return Math.sqrt(1- --t*t)}function Ma(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Ta(t){return 1-Aa(1-t)}function Aa(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+3/4:t<10/11?7.5625*(t-=9/11)*t+15/16:7.5625*(t-=21/22)*t+63/64}function Pa(t){return((t*=2)<=1?1-Aa(1-t):Aa(t-1)+1)/2}var Ra=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),Ia=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),Da=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),La=2*Math.PI,Fa=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=La);function r(t){return e*xa(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*La)},r.period=function(n){return t(e,n)},r}(1,.3),Na=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=La);function r(t){return 1-e*xa(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*La)},r.period=function(n){return t(e,n)},r}(1,.3),ja=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=La);function r(t){return((t=2*t-1)<0?e*xa(-t)*Math.sin((i-t)/n):2-e*xa(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*La)},r.period=function(n){return t(e,n)},r}(1,.3);function za(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var Va=function(t,e){return fetch(t,e).then(za)};function Ba(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var Ha=function(t,e){return fetch(t,e).then(Ba)};function Ua(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Ga=function(t,e){return fetch(t,e).then(Ua)};function Wa(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),Ga(e,n).then((function(e){return t(e,i)}))}}function Ya(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=Wo(t);return Ga(e,n).then((function(t){return r.parse(t,i)}))}var qa=Wa(qo),Xa=Wa(ea),$a=function(t,e){return new Promise((function(n,i){var r=new Image;for(var s in e)r[s]=e[s];r.onerror=i,r.onload=function(){n(r)},r.src=t}))};function Ka(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var Za=function(t,e){return fetch(t,e).then(Ka)};function Qa(t){return(e,n)=>Ga(e,n).then(e=>(new DOMParser).parseFromString(e,t))}var Ja=Qa("application/xml"),tl=Qa("text/html"),el=Qa("image/svg+xml"),nl=function(t,e){var n,i=1;function r(){var r,s,o=n.length,a=0,l=0;for(r=0;r<o;++r)a+=(s=n[r]).x,l+=s.y;for(a=(a/o-t)*i,l=(l/o-e)*i,r=0;r<o;++r)(s=n[r]).x-=a,s.y-=l}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r.strength=function(t){return arguments.length?(i=+t,r):i},r};function il(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,s,o,a,l,c,h,u,d,f=t._root,p={data:i},g=t._x0,m=t._y0,_=t._x1,v=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(s=(g+_)/2))?g=s:_=s,(h=n>=(o=(m+v)/2))?m=o:v=o,r=f,!(f=f[u=h<<1|c]))return r[u]=p,t;if(a=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===a&&n===l)return p.next=f,r?r[u]=p:t._root=p,t;do{r=r?r[u]=new Array(4):t._root=new Array(4),(c=e>=(s=(g+_)/2))?g=s:_=s,(h=n>=(o=(m+v)/2))?m=o:v=o}while((u=h<<1|c)==(d=(l>=o)<<1|a>=s));return r[d]=f,r[u]=p,t}var rl=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function sl(t){return t[0]}function ol(t){return t[1]}function al(t,e,n){var i=new ll(null==e?sl:e,null==n?ol:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function ll(t,e,n,i,r,s){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function cl(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var hl=al.prototype=ll.prototype;hl.copy=function(){var t,e,n=new ll(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=cl(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=cl(e));return n},hl.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return il(this.cover(e,n),e,n,t)},hl.addAll=function(t){var e,n,i,r,s=t.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,h=-1/0,u=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(o[n]=i,a[n]=r,i<l&&(l=i),i>h&&(h=i),r<c&&(c=r),r>u&&(u=r));if(l>h||c>u)return this;for(this.cover(l,c).cover(h,u),n=0;n<s;++n)il(this,o[n],a[n],t[n]);return this},hl.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,s=(i=Math.floor(e))+1;else{for(var o,a,l=r-n||1,c=this._root;n>t||t>=r||i>e||e>=s;)switch(a=(e<i)<<1|t<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:r=n+l,s=i+l;break;case 1:n=r-l,s=i+l;break;case 2:r=n+l,i=s-l;break;case 3:n=r-l,i=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=s,this},hl.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},hl.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},hl.find=function(t,e,n){var i,r,s,o,a,l,c,h=this._x0,u=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new rl(g,h,u,d,f)),null==n?n=1/0:(h=t-n,u=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(s=l.y0)>f||(o=l.x1)<h||(a=l.y1)<u))if(g.length){var m=(r+o)/2,_=(s+a)/2;p.push(new rl(g[3],m,_,o,a),new rl(g[2],r,_,m,a),new rl(g[1],m,s,o,_),new rl(g[0],r,s,m,_)),(c=(e>=_)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),y=e-+this._y.call(null,g.data),b=v*v+y*y;if(b<n){var w=Math.sqrt(n=b);h=t-w,u=e-w,d=t+w,f=e+w,i=g.data}}return i},hl.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,r,s,o,a,l,c,h,u,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,_=this._y1;if(!f)return this;if(f.length)for(;;){if((c=s>=(a=(p+m)/2))?p=a:m=a,(h=o>=(l=(g+_)/2))?g=l:_=l,e=f,!(f=f[u=h<<1|c]))return this;if(!f.length)break;(e[u+1&3]||e[u+2&3]||e[u+3&3])&&(n=e,d=u)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[u]=r:delete e[u],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},hl.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},hl.root=function(){return this._root},hl.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},hl.visit=function(t){var e,n,i,r,s,o,a=[],l=this._root;for(l&&a.push(new rl(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,s=e.x1,o=e.y1)&&l.length){var c=(i+s)/2,h=(r+o)/2;(n=l[3])&&a.push(new rl(n,c,h,s,o)),(n=l[2])&&a.push(new rl(n,i,h,c,o)),(n=l[1])&&a.push(new rl(n,c,r,s,h)),(n=l[0])&&a.push(new rl(n,i,r,c,h))}return this},hl.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new rl(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var s,o=e.x0,a=e.y0,l=e.x1,c=e.y1,h=(o+l)/2,u=(a+c)/2;(s=r[0])&&n.push(new rl(s,o,a,h,u)),(s=r[1])&&n.push(new rl(s,h,a,l,u)),(s=r[2])&&n.push(new rl(s,o,u,h,c)),(s=r[3])&&n.push(new rl(s,h,u,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},hl.x=function(t){return arguments.length?(this._x=t,this):this._x},hl.y=function(t){return arguments.length?(this._y=t,this):this._y};var ul=function(t){return function(){return t}},dl=function(t){return 1e-6*(t()-.5)};function fl(t){return t.x+t.vx}function pl(t){return t.y+t.vy}var gl=function(t){var e,n,i,r=1,s=1;function o(){for(var t,o,l,c,h,u,d,f=e.length,p=0;p<s;++p)for(o=al(e,fl,pl).visitAfter(a),t=0;t<f;++t)d=(u=n[(l=e[t]).index])*u,c=l.x+l.vx,h=l.y+l.vy,o.visit(g);function g(t,e,n,s,o){var a=t.data,f=t.r,p=u+f;if(!a)return e>c+p||s<c-p||n>h+p||o<h-p;if(a.index>l.index){var g=c-a.x-a.vx,m=h-a.y-a.vy,_=g*g+m*m;_<p*p&&(0===g&&(_+=(g=dl(i))*g),0===m&&(_+=(m=dl(i))*m),_=(p-(_=Math.sqrt(_)))/_*r,l.vx+=(g*=_)*(p=(f*=f)/(d+f)),l.vy+=(m*=_)*p,a.vx-=g*(p=1-p),a.vy-=m*p)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,s=e.length;for(n=new Array(s),i=0;i<s;++i)n[(r=e[i]).index]=+t(r,i,e)}}return"function"!=typeof t&&(t=ul(null==t?1:+t)),o.initialize=function(t,n){e=t,i=n,l()},o.iterations=function(t){return arguments.length?(s=+t,o):s},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:ul(+e),l(),o):t},o};function ml(t){return t.index}function _l(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var vl=function(t){var e,n,i,r,s,o,a=ml,l=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},c=ul(30),h=1;function u(i){for(var r=0,a=t.length;r<h;++r)for(var l,c,u,d,f,p,g,m=0;m<a;++m)d=(u=(l=t[m]).target).x+u.vx-(c=l.source).x-c.vx||dl(o),f=u.y+u.vy-c.y-c.vy||dl(o),f*=p=((p=Math.sqrt(d*d+f*f))-n[m])/p*i*e[m],u.vx-=(d*=p)*(g=s[m]),u.vy-=f*g,c.vx+=d*(g=1-g),c.vy+=f*g}function d(){if(i){var o,l,c=i.length,h=t.length,u=new Map(i.map((t,e)=>[a(t,e,i),t]));for(o=0,r=new Array(c);o<h;++o)(l=t[o]).index=o,"object"!=typeof l.source&&(l.source=_l(u,l.source)),"object"!=typeof l.target&&(l.target=_l(u,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(o=0,s=new Array(h);o<h;++o)s[o]=r[(l=t[o]).source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(h),f(),n=new Array(h),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+l(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t,e){i=t,o=e,d()},u.links=function(e){return arguments.length?(t=e,d(),u):t},u.id=function(t){return arguments.length?(a=t,u):a},u.iterations=function(t){return arguments.length?(h=+t,u):h},u.strength=function(t){return arguments.length?(l="function"==typeof t?t:ul(+t),f(),u):l},u.distance=function(t){return arguments.length?(c="function"==typeof t?t:ul(+t),p(),u):c},u};function yl(t){return t.x}function bl(t){return t.y}var wl=Math.PI*(3-Math.sqrt(5)),xl=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),s=0,o=.6,a=new Map,l=gi(u),c=Lt("tick","end"),h=function(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}();function u(){d(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function d(i){var l,c,h=t.length;void 0===i&&(i=1);for(var u=0;u<i;++u)for(n+=(s-n)*r,a.forEach((function(t){t(n)})),l=0;l<h;++l)null==(c=t[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),s=n*wl;e.x=r*Math.cos(s),e.y=r*Math.sin(s)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),a.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(s=+t,e):s},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},randomSource:function(t){return arguments.length?(h=t,a.forEach(p),e):h},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,i){var r,s,o,a,l,c=0,h=t.length;for(null==i?i=1/0:i*=i,c=0;c<h;++c)(o=(r=e-(a=t[c]).x)*r+(s=n-a.y)*s)<i&&(l=a,i=o);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},Cl=function(){var t,e,n,i,r,s=ul(-30),o=1,a=1/0,l=.81;function c(n){var r,s=t.length,o=al(t,yl,bl).visitAfter(u);for(i=n,r=0;r<s;++r)e=t[r],o.visit(d)}function h(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)r[(n=t[e]).index]=+s(n,e,t)}}function u(t){var e,n,i,s,o,a=0,l=0;if(t.length){for(i=s=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,i+=n*e.x,s+=n*e.y);t.x=i/l,t.y=s/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=r[e.data.index]}while(e=e.next)}t.value=a}function d(t,s,c,h){if(!t.value)return!0;var u=t.x-e.x,d=t.y-e.y,f=h-s,p=u*u+d*d;if(f*f/l<p)return p<a&&(0===u&&(p+=(u=dl(n))*u),0===d&&(p+=(d=dl(n))*d),p<o&&(p=Math.sqrt(o*p)),e.vx+=u*t.value*i/p,e.vy+=d*t.value*i/p),!0;if(!(t.length||p>=a)){(t.data!==e||t.next)&&(0===u&&(p+=(u=dl(n))*u),0===d&&(p+=(d=dl(n))*d),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(e.vx+=u*(f=r[t.data.index]*i/p),e.vy+=d*f)}while(t=t.next)}}return c.initialize=function(e,i){t=e,n=i,h()},c.strength=function(t){return arguments.length?(s="function"==typeof t?t:ul(+t),h(),c):s},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c},Ol=function(t,e,n){var i,r,s,o=ul(.1);function a(t){for(var o=0,a=i.length;o<a;++o){var l=i[o],c=l.x-e||1e-6,h=l.y-n||1e-6,u=Math.sqrt(c*c+h*h),d=(s[o]-u)*r[o]*t/u;l.vx+=c*d,l.vy+=h*d}}function l(){if(i){var e,n=i.length;for(r=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(i[e],e,i),r[e]=isNaN(s[e])?0:+o(i[e],e,i)}}return"function"!=typeof t&&(t=ul(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){i=t,l()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:ul(+t),l(),a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:ul(+e),l(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a},Sl=function(t){var e,n,i,r=ul(.1);function s(t){for(var r,s=0,o=e.length;s<o;++s)(r=e[s]).vx+=(i[s]-r.x)*n[s]*t}function o(){if(e){var s,o=e.length;for(n=new Array(o),i=new Array(o),s=0;s<o;++s)n[s]=isNaN(i[s]=+t(e[s],s,e))?0:+r(e[s],s,e)}}return"function"!=typeof t&&(t=ul(null==t?0:+t)),s.initialize=function(t){e=t,o()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:ul(+t),o(),s):r},s.x=function(e){return arguments.length?(t="function"==typeof e?e:ul(+e),o(),s):t},s},kl=function(t){var e,n,i,r=ul(.1);function s(t){for(var r,s=0,o=e.length;s<o;++s)(r=e[s]).vy+=(i[s]-r.y)*n[s]*t}function o(){if(e){var s,o=e.length;for(n=new Array(o),i=new Array(o),s=0;s<o;++s)n[s]=isNaN(i[s]=+t(e[s],s,e))?0:+r(e[s],s,e)}}return"function"!=typeof t&&(t=ul(null==t?0:+t)),s.initialize=function(t){e=t,o()},s.strength=function(t){return arguments.length?(r="function"==typeof t?t:ul(+t),o(),s):r},s.y=function(e){return arguments.length?(t="function"==typeof e?e:ul(+e),o(),s):t},s};function El(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}var Ml=function(t){return(t=El(Math.abs(t)))?t[1]:NaN},Tl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Al(t){if(!(e=Tl.exec(t)))throw new Error("invalid format: "+t);var e;return new Pl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Pl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Al.prototype=Pl.prototype,Pl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Rl,Il,Dl,Ll,Fl=function(t,e){var n=El(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Nl={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Fl(100*t,e),r:Fl,s:function(t,e){var n=El(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(Rl=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+El(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},jl=function(t){return t},zl=Array.prototype.map,Vl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Bl=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?jl:(e=zl.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?jl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(zl.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function u(t){var e=(t=Al(t)).fill,n=t.align,u=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,_=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Nl[v]||(void 0===m&&(m=12),_=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var y="$"===d?r:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===d?s:/[%p]/.test(v)?l:"",w=Nl[v],x=/[defgprs%]/.test(v);function C(t){var r,s,l,d=y,C=b;if("c"===v)C=w(t)+C,t="";else{var O=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:w(Math.abs(t),m),_&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),O&&0==+t&&"+"!==u&&(O=!1),d=(O?"("===u?u:c:"-"===u||"("===u?"":u)+d,C=("s"===v?Vl[8+Rl/3]:"")+C+(O&&"("===u?")":""),x)for(r=-1,s=t.length;++r<s;)if(48>(l=t.charCodeAt(r))||l>57){C=(46===l?o+t.slice(r+1):t.slice(r))+C,t=t.slice(0,r);break}}g&&!f&&(t=i(t,1/0));var S=d.length+t.length+C.length,k=S<p?new Array(p-S+1).join(e):"";switch(g&&f&&(t=i(k+t,k.length?p-C.length:1/0),k=""),n){case"<":t=d+t+C+k;break;case"=":t=d+k+t+C;break;case"^":t=k.slice(0,S=k.length>>1)+d+t+C+k.slice(S);break;default:t=k+d+t+C}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),C.toString=function(){return t+""},C}return{format:u,formatPrefix:function(t,e){var n=u(((t=Al(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Ml(e)/3))),r=Math.pow(10,-i),s=Vl[8+i/3];return function(t){return n(r*t)+s}}}};function Hl(t){return Il=Bl(t),Dl=Il.format,Ll=Il.formatPrefix,Il}Hl({thousands:",",grouping:[3],currency:["$",""]});var Ul=function(t){return Math.max(0,-Ml(Math.abs(t)))},Gl=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ml(e)/3)))-Ml(Math.abs(t)))},Wl=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ml(e)-Ml(t))+1},Yl=Math.PI,ql=Yl/2,Xl=Yl/4,$l=2*Yl,Kl=180/Yl,Zl=Yl/180,Ql=Math.abs,Jl=Math.atan,tc=Math.atan2,ec=Math.cos,nc=Math.ceil,ic=Math.exp,rc=(Math,Math.hypot),sc=Math.log,oc=Math.pow,ac=Math.sin,lc=Math.sign||function(t){return t>0?1:t<0?-1:0},cc=Math.sqrt,hc=Math.tan;function uc(t){return t>1?0:t<-1?Yl:Math.acos(t)}function dc(t){return t>1?ql:t<-1?-ql:Math.asin(t)}function fc(t){return(t=ac(t/2))*t}function pc(){}function gc(t,e){t&&_c.hasOwnProperty(t.type)&&_c[t.type](t,e)}var mc={Feature:function(t,e){gc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)gc(n[i].geometry,e)}},_c={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)e.point((t=n[i])[0],t[1],t[2])},LineString:function(t,e){vc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)vc(n[i],e,0)},Polygon:function(t,e){yc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)yc(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)gc(n[i],e)}};function vc(t,e,n){var i,r=-1,s=t.length-n;for(e.lineStart();++r<s;)e.point((i=t[r])[0],i[1],i[2]);e.lineEnd()}function yc(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)vc(t[n],e,1);e.polygonEnd()}var bc,wc,xc,Cc,Oc,Sc=function(t,e){t&&mc.hasOwnProperty(t.type)?mc[t.type](t,e):gc(t,e)},kc=new x,Ec=new x,Mc={point:pc,lineStart:pc,lineEnd:pc,polygonStart:function(){kc=new x,Mc.lineStart=Tc,Mc.lineEnd=Ac},polygonEnd:function(){var t=+kc;Ec.add(t<0?$l+t:t),this.lineStart=this.lineEnd=this.point=pc},sphere:function(){Ec.add($l)}};function Tc(){Mc.point=Pc}function Ac(){Rc(bc,wc)}function Pc(t,e){Mc.point=Rc,bc=t,wc=e,xc=t*=Zl,Cc=ec(e=(e*=Zl)/2+Xl),Oc=ac(e)}function Rc(t,e){var n=(t*=Zl)-xc,i=n>=0?1:-1,r=i*n,s=ec(e=(e*=Zl)/2+Xl),o=ac(e),a=Oc*o,l=Cc*s+a*ec(r),c=a*i*ac(r);kc.add(tc(c,l)),xc=t,Cc=s,Oc=o}var Ic,Dc,Lc,Fc,Nc,jc,zc,Vc,Bc,Hc,Uc,Gc=function(t){return Ec=new x,Sc(t,Mc),2*Ec};function Wc(t){return[tc(t[1],t[0]),dc(t[2])]}function Yc(t){var e=t[0],n=t[1],i=ec(n);return[i*ec(e),i*ac(e),ac(n)]}function qc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Xc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function $c(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Kc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Zc(t){var e=cc(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Qc={point:Jc,lineStart:eh,lineEnd:nh,polygonStart:function(){Qc.point=ih,Qc.lineStart=rh,Qc.lineEnd=sh,Bc=new x,Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),Qc.point=Jc,Qc.lineStart=eh,Qc.lineEnd=nh,kc<0?(Ic=-(Lc=180),Dc=-(Fc=90)):Bc>1e-6?Fc=90:Bc<-1e-6&&(Dc=-90),Uc[0]=Ic,Uc[1]=Lc},sphere:function(){Ic=-(Lc=180),Dc=-(Fc=90)}};function Jc(t,e){Hc.push(Uc=[Ic=t,Lc=t]),e<Dc&&(Dc=e),e>Fc&&(Fc=e)}function th(t,e){var n=Yc([t*Zl,e*Zl]);if(Vc){var i=Xc(Vc,n),r=Xc([i[1],-i[0],0],i);Zc(r),r=Wc(r);var s,o=t-Nc,a=o>0?1:-1,l=r[0]*Kl*a,c=Ql(o)>180;c^(a*Nc<l&&l<a*t)?(s=r[1]*Kl)>Fc&&(Fc=s):c^(a*Nc<(l=(l+360)%360-180)&&l<a*t)?(s=-r[1]*Kl)<Dc&&(Dc=s):(e<Dc&&(Dc=e),e>Fc&&(Fc=e)),c?t<Nc?oh(Ic,t)>oh(Ic,Lc)&&(Lc=t):oh(t,Lc)>oh(Ic,Lc)&&(Ic=t):Lc>=Ic?(t<Ic&&(Ic=t),t>Lc&&(Lc=t)):t>Nc?oh(Ic,t)>oh(Ic,Lc)&&(Lc=t):oh(t,Lc)>oh(Ic,Lc)&&(Ic=t)}else Hc.push(Uc=[Ic=t,Lc=t]);e<Dc&&(Dc=e),e>Fc&&(Fc=e),Vc=n,Nc=t}function eh(){Qc.point=th}function nh(){Uc[0]=Ic,Uc[1]=Lc,Qc.point=Jc,Vc=null}function ih(t,e){if(Vc){var n=t-Nc;Bc.add(Ql(n)>180?n+(n>0?360:-360):n)}else jc=t,zc=e;Mc.point(t,e),th(t,e)}function rh(){Mc.lineStart()}function sh(){ih(jc,zc),Mc.lineEnd(),Ql(Bc)>1e-6&&(Ic=-(Lc=180)),Uc[0]=Ic,Uc[1]=Lc,Vc=null}function oh(t,e){return(e-=t)<0?e+360:e}function ah(t,e){return t[0]-e[0]}function lh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var ch,hh,uh,dh,fh,ph,gh,mh,_h,vh,yh,bh,wh,xh,Ch,Oh,Sh=function(t){var e,n,i,r,s,o,a;if(Fc=Lc=-(Ic=Dc=1/0),Hc=[],Sc(t,Qc),n=Hc.length){for(Hc.sort(ah),e=1,s=[i=Hc[0]];e<n;++e)lh(i,(r=Hc[e])[0])||lh(i,r[1])?(oh(i[0],r[1])>oh(i[0],i[1])&&(i[1]=r[1]),oh(r[0],i[1])>oh(i[0],i[1])&&(i[0]=r[0])):s.push(i=r);for(o=-1/0,e=0,i=s[n=s.length-1];e<=n;i=r,++e)(a=oh(i[1],(r=s[e])[0]))>o&&(o=a,Ic=r[0],Lc=i[1])}return Hc=Uc=null,Ic===1/0||Dc===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ic,Dc],[Lc,Fc]]},kh={sphere:pc,point:Eh,lineStart:Th,lineEnd:Rh,polygonStart:function(){kh.lineStart=Ih,kh.lineEnd=Dh},polygonEnd:function(){kh.lineStart=Th,kh.lineEnd=Rh}};function Eh(t,e){t*=Zl;var n=ec(e*=Zl);Mh(n*ec(t),n*ac(t),ac(e))}function Mh(t,e,n){++ch,uh+=(t-uh)/ch,dh+=(e-dh)/ch,fh+=(n-fh)/ch}function Th(){kh.point=Ah}function Ah(t,e){t*=Zl;var n=ec(e*=Zl);xh=n*ec(t),Ch=n*ac(t),Oh=ac(e),kh.point=Ph,Mh(xh,Ch,Oh)}function Ph(t,e){t*=Zl;var n=ec(e*=Zl),i=n*ec(t),r=n*ac(t),s=ac(e),o=tc(cc((o=Ch*s-Oh*r)*o+(o=Oh*i-xh*s)*o+(o=xh*r-Ch*i)*o),xh*i+Ch*r+Oh*s);hh+=o,ph+=o*(xh+(xh=i)),gh+=o*(Ch+(Ch=r)),mh+=o*(Oh+(Oh=s)),Mh(xh,Ch,Oh)}function Rh(){kh.point=Eh}function Ih(){kh.point=Lh}function Dh(){Fh(bh,wh),kh.point=Eh}function Lh(t,e){bh=t,wh=e,t*=Zl,e*=Zl,kh.point=Fh;var n=ec(e);xh=n*ec(t),Ch=n*ac(t),Oh=ac(e),Mh(xh,Ch,Oh)}function Fh(t,e){t*=Zl;var n=ec(e*=Zl),i=n*ec(t),r=n*ac(t),s=ac(e),o=Ch*s-Oh*r,a=Oh*i-xh*s,l=xh*r-Ch*i,c=rc(o,a,l),h=dc(c),u=c&&-h/c;_h.add(u*o),vh.add(u*a),yh.add(u*l),hh+=h,ph+=h*(xh+(xh=i)),gh+=h*(Ch+(Ch=r)),mh+=h*(Oh+(Oh=s)),Mh(xh,Ch,Oh)}var Nh=function(t){ch=hh=uh=dh=fh=ph=gh=mh=0,_h=new x,vh=new x,yh=new x,Sc(t,kh);var e=+_h,n=+vh,i=+yh,r=rc(e,n,i);return r<1e-12&&(e=ph,n=gh,i=mh,hh<1e-6&&(e=uh,n=dh,i=fh),(r=rc(e,n,i))<1e-12)?[NaN,NaN]:[tc(n,e)*Kl,dc(i/r)*Kl]},jh=function(t){return function(){return t}},zh=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};function Vh(t,e){return[Ql(t)>Yl?t+Math.round(-t/$l)*$l:t,e]}function Bh(t,e,n){return(t%=$l)?e||n?zh(Uh(t),Gh(e,n)):Uh(t):e||n?Gh(e,n):Vh}function Hh(t){return function(e,n){return[(e+=t)>Yl?e-$l:e<-Yl?e+$l:e,n]}}function Uh(t){var e=Hh(t);return e.invert=Hh(-t),e}function Gh(t,e){var n=ec(t),i=ac(t),r=ec(e),s=ac(e);function o(t,e){var o=ec(e),a=ec(t)*o,l=ac(t)*o,c=ac(e),h=c*n+a*i;return[tc(l*r-h*s,a*n-c*i),dc(h*r+l*s)]}return o.invert=function(t,e){var o=ec(e),a=ec(t)*o,l=ac(t)*o,c=ac(e),h=c*r-l*s;return[tc(l*r+c*s,a*n+h*i),dc(h*n-a*i)]},o}Vh.invert=Vh;var Wh=function(t){function e(e){return(e=t(e[0]*Zl,e[1]*Zl))[0]*=Kl,e[1]*=Kl,e}return t=Bh(t[0]*Zl,t[1]*Zl,t.length>2?t[2]*Zl:0),e.invert=function(e){return(e=t.invert(e[0]*Zl,e[1]*Zl))[0]*=Kl,e[1]*=Kl,e},e};function Yh(t,e,n,i,r,s){if(n){var o=ec(e),a=ac(e),l=i*n;null==r?(r=e+i*$l,s=e-l/2):(r=qh(o,r),s=qh(o,s),(i>0?r<s:r>s)&&(r+=i*$l));for(var c,h=r;i>0?h>s:h<s;h-=l)c=Wc([o,-a*ec(h),-a*ac(h)]),t.point(c[0],c[1])}}function qh(t,e){(e=Yc(e))[0]-=t,Zc(e);var n=uc(-e[1]);return((-e[2]<0?-n:n)+$l-1e-6)%$l}var Xh=function(){var t,e,n=jh([0,0]),i=jh(90),r=jh(6),s={point:function(n,i){t.push(n=e(n,i)),n[0]*=Kl,n[1]*=Kl}};function o(){var o=n.apply(this,arguments),a=i.apply(this,arguments)*Zl,l=r.apply(this,arguments)*Zl;return t=[],e=Bh(-o[0]*Zl,-o[1]*Zl,0).invert,Yh(s,a,l,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:jh([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(i="function"==typeof t?t:jh(+t),o):i},o.precision=function(t){return arguments.length?(r="function"==typeof t?t:jh(+t),o):r},o},$h=function(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:pc,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Kh=function(t,e){return Ql(t[0]-e[0])<1e-6&&Ql(t[1]-e[1])<1e-6};function Zh(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var Qh=function(t,e,n,i,r){var s,o,a=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(Kh(i,o)){if(!i[2]&&!o[2]){for(r.lineStart(),s=0;s<e;++s)r.point((i=t[s])[0],i[1]);return void r.lineEnd()}o[0]+=2e-6}a.push(n=new Zh(i,t,null,!0)),l.push(n.o=new Zh(i,null,n,!1)),a.push(n=new Zh(o,t,null,!1)),l.push(n.o=new Zh(o,null,n,!0))}})),a.length){for(l.sort(e),Jh(a),Jh(l),s=0,o=l.length;s<o;++s)l[s].e=n=!n;for(var c,h,u=a[0];;){for(var d=u,f=!0;d.v;)if((d=d.n)===u)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(s=0,o=c.length;s<o;++s)r.point((h=c[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(s=(c=d.p.z).length-1;s>=0;--s)r.point((h=c[s])[0],h[1]);else i(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}};function Jh(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function tu(t){return Ql(t[0])<=Yl?t[0]:lc(t[0])*((Ql(t[0])+Yl)%$l-Yl)}var eu=function(t,e){var n=tu(e),i=e[1],r=ac(i),s=[ac(n),-ec(n),0],o=0,a=0,l=new x;1===r?i=ql+1e-6:-1===r&&(i=-ql-1e-6);for(var c=0,h=t.length;c<h;++c)if(d=(u=t[c]).length)for(var u,d,f=u[d-1],p=tu(f),g=f[1]/2+Xl,m=ac(g),_=ec(g),v=0;v<d;++v,p=b,m=C,_=O,f=y){var y=u[v],b=tu(y),w=y[1]/2+Xl,C=ac(w),O=ec(w),S=b-p,k=S>=0?1:-1,E=k*S,M=E>Yl,T=m*C;if(l.add(tc(T*k*ac(E),_*O+T*ec(E))),o+=M?S+k*$l:S,M^p>=n^b>=n){var A=Xc(Yc(f),Yc(y));Zc(A);var P=Xc(s,A);Zc(P);var R=(M^S>=0?-1:1)*dc(P[2]);(i>R||i===R&&(A[0]||A[1]))&&(a+=M^S>=0?1:-1)}}return(o<-1e-6||o<1e-6&&l<-1e-12)^1&a},nu=function(t,e,n,i){return function(r){var s,o,a,l=e(r),c=$h(),h=e(c),u=!1,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=_,d.lineStart=v,d.lineEnd=y,o=[],s=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=m,o=tt(o);var t=eu(s,i);o.length?(u||(r.polygonStart(),u=!0),Qh(o,ru,t,n,r)):t&&(u||(r.polygonStart(),u=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),o=s=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(e,n){t(e,n)&&r.point(e,n)}function p(t,e){l.point(t,e)}function g(){d.point=p,l.lineStart()}function m(){d.point=f,l.lineEnd()}function _(t,e){a.push([t,e]),h.point(t,e)}function v(){h.lineStart(),a=[]}function y(){_(a[0][0],a[0][1]),h.lineEnd();var t,e,n,i,l=h.clean(),d=c.result(),f=d.length;if(a.pop(),s.push(a),a=null,f)if(1&l){if((e=(n=d[0]).length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),o.push(d.filter(iu))}return d}};function iu(t){return t.length>1}function ru(t,e){return((t=t.x)[0]<0?t[1]-ql-1e-6:ql-t[1])-((e=e.x)[0]<0?e[1]-ql-1e-6:ql-e[1])}var su=nu((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,o){var a=s>0?Yl:-Yl,l=Ql(s-n);Ql(l-Yl)<1e-6?(t.point(n,i=(i+o)/2>0?ql:-ql),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(s,i),e=0):r!==a&&l>=Yl&&(Ql(n-r)<1e-6&&(n-=1e-6*r),Ql(s-a)<1e-6&&(s-=1e-6*a),i=function(t,e,n,i){var r,s,o=ac(t-n);return Ql(o)>1e-6?Jl((ac(e)*(s=ec(i))*ac(n)-ac(i)*(r=ec(e))*ac(t))/(r*s*o)):(e+i)/2}(n,i,s,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=s,i=o),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)i.point(-Yl,r=n*ql),i.point(0,r),i.point(Yl,r),i.point(Yl,0),i.point(Yl,-r),i.point(0,-r),i.point(-Yl,-r),i.point(-Yl,0),i.point(-Yl,r);else if(Ql(t[0]-e[0])>1e-6){var s=t[0]<e[0]?Yl:-Yl;i.point(-s,r=n*s/2),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}),[-Yl,-ql]),ou=function(t){var e=ec(t),n=6*Zl,i=e>0,r=Ql(e)>1e-6;function s(t,n){return ec(t)*ec(n)>e}function o(t,n,i){var r=[1,0,0],s=Xc(Yc(t),Yc(n)),o=qc(s,s),a=s[0],l=o-a*a;if(!l)return!i&&t;var c=e*o/l,h=-e*a/l,u=Xc(r,s),d=Kc(r,c);$c(d,Kc(s,h));var f=u,p=qc(d,f),g=qc(f,f),m=p*p-g*(qc(d,d)-1);if(!(m<0)){var _=cc(m),v=Kc(f,(-p-_)/g);if($c(v,d),v=Wc(v),!i)return v;var y,b=t[0],w=n[0],x=t[1],C=n[1];w<b&&(y=b,b=w,w=y);var O=w-b,S=Ql(O-Yl)<1e-6;if(!S&&C<x&&(y=x,x=C,C=y),S||O<1e-6?S?x+C>0^v[1]<(Ql(v[0]-b)<1e-6?x:C):x<=v[1]&&v[1]<=C:O>Yl^(b<=v[0]&&v[0]<=w)){var k=Kc(f,(-p+_)/g);return $c(k,d),[v,Wc(k)]}}}function a(e,n){var r=i?t:Yl-t,s=0;return e<-r?s|=1:e>r&&(s|=2),n<-r?s|=4:n>r&&(s|=8),s}return nu(s,(function(t){var e,n,l,c,h;return{lineStart:function(){c=l=!1,h=1},point:function(u,d){var f,p=[u,d],g=s(u,d),m=i?g?0:a(u,d):g?a(u+(u<0?Yl:-Yl),d):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(f=o(e,p))||Kh(e,f)||Kh(p,f))&&(p[2]=1),g!==l)h=0,g?(t.lineStart(),f=o(p,e),t.point(f[0],f[1])):(f=o(e,p),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(r&&e&&i^g){var _;m&n||!(_=o(p,e,!0))||(h=0,i?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1],3)))}!g||e&&Kh(e,p)||t.point(p[0],p[1]),e=p,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return h|(c&&l)<<1}}}),(function(e,i,r,s){Yh(s,t,n,r,e,i)}),i?[0,-t]:[-Yl,t-Yl])};function au(t,e,n,i){function r(r,s){return t<=r&&r<=n&&e<=s&&s<=i}function s(r,s,a,c){var h=0,u=0;if(null==r||(h=o(r,a))!==(u=o(s,a))||l(r,s)<0^a>0)do{c.point(0===h||3===h?t:n,h>1?i:e)}while((h=(h+a+4)%4)!==u);else c.point(s[0],s[1])}function o(i,r){return Ql(i[0]-t)<1e-6?r>0?0:3:Ql(i[0]-n)<1e-6?r>0?2:1:Ql(i[1]-e)<1e-6?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var l,c,h,u,d,f,p,g,m,_,v,y=o,b=$h(),w={point:x,lineStart:function(){w.point=C,c&&c.push(h=[]),_=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(C(u,d),f&&m&&b.rejoin(),l.push(b.result())),w.point=x,m&&y.lineEnd()},polygonStart:function(){y=b,l=[],c=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=c.length;n<r;++n)for(var s,o,a=c[n],l=1,h=a.length,u=a[0],d=u[0],f=u[1];l<h;++l)s=d,o=f,d=(u=a[l])[0],f=u[1],o<=i?f>i&&(d-s)*(i-o)>(f-o)*(t-s)&&++e:f<=i&&(d-s)*(i-o)<(f-o)*(t-s)&&--e;return e}(),n=v&&e,r=(l=tt(l)).length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),r&&Qh(l,a,e,s,o),o.polygonEnd()),y=o,l=c=h=null}};function x(t,e){r(t,e)&&y.point(t,e)}function C(s,o){var a=r(s,o);if(c&&h.push([s,o]),_)u=s,d=o,f=a,_=!1,a&&(y.lineStart(),y.point(s,o));else if(a&&m)y.point(s,o);else{var l=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],b=[s=Math.max(-1e9,Math.min(1e9,s)),o=Math.max(-1e9,Math.min(1e9,o))];!function(t,e,n,i,r,s){var o,a=t[0],l=t[1],c=0,h=1,u=e[0]-a,d=e[1]-l;if(o=n-a,u||!(o>0)){if(o/=u,u<0){if(o<c)return;o<h&&(h=o)}else if(u>0){if(o>h)return;o>c&&(c=o)}if(o=r-a,u||!(o<0)){if(o/=u,u<0){if(o>h)return;o>c&&(c=o)}else if(u>0){if(o<c)return;o<h&&(h=o)}if(o=i-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=s-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return c>0&&(t[0]=a+c*u,t[1]=l+c*d),h<1&&(e[0]=a+h*u,e[1]=l+h*d),!0}}}}}(l,b,t,e,n,i)?a&&(y.lineStart(),y.point(s,o),v=!1):(m||(y.lineStart(),y.point(l[0],l[1])),y.point(b[0],b[1]),a||y.lineEnd(),v=!1)}p=s,g=o,m=a}return w}}var lu,cu,hu,uu,du=function(){var t,e,n,i=0,r=0,s=960,o=500;return n={stream:function(n){return t&&e===n?t:t=au(i,r,s,o)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],s=+a[1][0],o=+a[1][1],t=e=null,n):[[i,r],[s,o]]}}},fu={sphere:pc,point:pc,lineStart:function(){fu.point=gu,fu.lineEnd=pu},lineEnd:pc,polygonStart:pc,polygonEnd:pc};function pu(){fu.point=fu.lineEnd=pc}function gu(t,e){cu=t*=Zl,hu=ac(e*=Zl),uu=ec(e),fu.point=mu}function mu(t,e){t*=Zl;var n=ac(e*=Zl),i=ec(e),r=Ql(t-cu),s=ec(r),o=i*ac(r),a=uu*n-hu*i*s,l=hu*n+uu*i*s;lu.add(tc(cc(o*o+a*a),l)),cu=t,hu=n,uu=i}var _u=function(t){return lu=new x,Sc(t,fu),+lu},vu=[null,null],yu={type:"LineString",coordinates:vu},bu=function(t,e){return vu[0]=t,vu[1]=e,_u(yu)},wu={Feature:function(t,e){return Cu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Cu(n[i].geometry,e))return!0;return!1}},xu={Sphere:function(){return!0},Point:function(t,e){return Ou(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Ou(n[i],e))return!0;return!1},LineString:function(t,e){return Su(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Su(n[i],e))return!0;return!1},Polygon:function(t,e){return ku(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(ku(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Cu(n[i],e))return!0;return!1}};function Cu(t,e){return!(!t||!xu.hasOwnProperty(t.type))&&xu[t.type](t,e)}function Ou(t,e){return 0===bu(t,e)}function Su(t,e){for(var n,i,r,s=0,o=t.length;s<o;s++){if(0===(i=bu(t[s],e)))return!0;if(s>0&&(r=bu(t[s],t[s-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<1e-12*r)return!0;n=i}return!1}function ku(t,e){return!!eu(t.map(Eu),Mu(e))}function Eu(t){return(t=t.map(Mu)).pop(),t}function Mu(t){return[t[0]*Zl,t[1]*Zl]}var Tu=function(t,e){return(t&&wu.hasOwnProperty(t.type)?wu[t.type]:Cu)(t,e)};function Au(t,e,n){var i=st(t,e-1e-6,n).concat(e);return function(t){return i.map((function(e){return[t,e]}))}}function Pu(t,e,n){var i=st(t,e-1e-6,n).concat(e);return function(t){return i.map((function(e){return[e,t]}))}}function Ru(){var t,e,n,i,r,s,o,a,l,c,h,u,d=10,f=d,p=90,g=360,m=2.5;function _(){return{type:"MultiLineString",coordinates:v()}}function v(){return st(nc(i/p)*p,n,p).map(h).concat(st(nc(a/g)*g,o,g).map(u)).concat(st(nc(e/d)*d,t,d).filter((function(t){return Ql(t%p)>1e-6})).map(l)).concat(st(nc(s/f)*f,r,f).filter((function(t){return Ql(t%g)>1e-6})).map(c))}return _.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},_.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(u(o).slice(1),h(n).reverse().slice(1),u(a).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(a=+t[0][1],o=+t[1][1],(i=+t[0][0])>(n=+t[1][0])&&(t=i,i=n,n=t),a>o&&(t=a,a=o,o=t),_.precision(m)):[[i,a],[n,o]]},_.extentMinor=function(n){return arguments.length?(s=+n[0][1],r=+n[1][1],(e=+n[0][0])>(t=+n[1][0])&&(n=e,e=t,t=n),s>r&&(n=s,s=r,r=n),_.precision(m)):[[e,s],[t,r]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],_):[p,g]},_.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],_):[d,f]},_.precision=function(d){return arguments.length?(m=+d,l=Au(s,r,90),c=Pu(e,t,m),h=Au(a,o,90),u=Pu(i,n,m),_):m},_.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Iu(){return Ru()()}var Du,Lu,Fu,Nu,ju=function(t,e){var n=t[0]*Zl,i=t[1]*Zl,r=e[0]*Zl,s=e[1]*Zl,o=ec(i),a=ac(i),l=ec(s),c=ac(s),h=o*ec(n),u=o*ac(n),d=l*ec(r),f=l*ac(r),p=2*dc(cc(fc(s-i)+o*l*fc(r-n))),g=ac(p),m=p?function(t){var e=ac(t*=p)/g,n=ac(p-t)/g,i=n*h+e*d,r=n*u+e*f,s=n*a+e*c;return[tc(r,i)*Kl,tc(s,cc(i*i+r*r))*Kl]}:function(){return[n*Kl,i*Kl]};return m.distance=p,m},zu=t=>t,Vu=new x,Bu=new x,Hu={point:pc,lineStart:pc,lineEnd:pc,polygonStart:function(){Hu.lineStart=Uu,Hu.lineEnd=Yu},polygonEnd:function(){Hu.lineStart=Hu.lineEnd=Hu.point=pc,Vu.add(Ql(Bu)),Bu=new x},result:function(){var t=Vu/2;return Vu=new x,t}};function Uu(){Hu.point=Gu}function Gu(t,e){Hu.point=Wu,Du=Fu=t,Lu=Nu=e}function Wu(t,e){Bu.add(Nu*t-Fu*e),Fu=t,Nu=e}function Yu(){Wu(Du,Lu)}var qu,Xu,$u,Ku,Zu=Hu,Qu=1/0,Ju=Qu,td=-Qu,ed=td,nd={point:function(t,e){t<Qu&&(Qu=t),t>td&&(td=t),e<Ju&&(Ju=e),e>ed&&(ed=e)},lineStart:pc,lineEnd:pc,polygonStart:pc,polygonEnd:pc,result:function(){var t=[[Qu,Ju],[td,ed]];return td=ed=-(Ju=Qu=1/0),t}},id=0,rd=0,sd=0,od=0,ad=0,ld=0,cd=0,hd=0,ud=0,dd={point:fd,lineStart:pd,lineEnd:_d,polygonStart:function(){dd.lineStart=vd,dd.lineEnd=yd},polygonEnd:function(){dd.point=fd,dd.lineStart=pd,dd.lineEnd=_d},result:function(){var t=ud?[cd/ud,hd/ud]:ld?[od/ld,ad/ld]:sd?[id/sd,rd/sd]:[NaN,NaN];return id=rd=sd=od=ad=ld=cd=hd=ud=0,t}};function fd(t,e){id+=t,rd+=e,++sd}function pd(){dd.point=gd}function gd(t,e){dd.point=md,fd($u=t,Ku=e)}function md(t,e){var n=t-$u,i=e-Ku,r=cc(n*n+i*i);od+=r*($u+t)/2,ad+=r*(Ku+e)/2,ld+=r,fd($u=t,Ku=e)}function _d(){dd.point=fd}function vd(){dd.point=bd}function yd(){wd(qu,Xu)}function bd(t,e){dd.point=wd,fd(qu=$u=t,Xu=Ku=e)}function wd(t,e){var n=t-$u,i=e-Ku,r=cc(n*n+i*i);od+=r*($u+t)/2,ad+=r*(Ku+e)/2,ld+=r,cd+=(r=Ku*t-$u*e)*($u+t),hd+=r*(Ku+e),ud+=3*r,fd($u=t,Ku=e)}var xd=dd;function Cd(t){this._context=t}Cd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,$l)}},result:pc};var Od,Sd,kd,Ed,Md,Td=new x,Ad={point:pc,lineStart:function(){Ad.point=Pd},lineEnd:function(){Od&&Rd(Sd,kd),Ad.point=pc},polygonStart:function(){Od=!0},polygonEnd:function(){Od=null},result:function(){var t=+Td;return Td=new x,t}};function Pd(t,e){Ad.point=Rd,Sd=Ed=t,kd=Md=e}function Rd(t,e){Td.add(cc((Ed-=t)*Ed+(Md-=e)*Md)),Ed=t,Md=e}var Id=Ad;function Dd(){this._string=[]}function Ld(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Dd.prototype={_radius:4.5,_circle:Ld(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ld(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Fd=function(t,e){var n,i,r=4.5;function s(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),Sc(t,n(i))),i.result()}return s.area=function(t){return Sc(t,n(Zu)),Zu.result()},s.measure=function(t){return Sc(t,n(Id)),Id.result()},s.bounds=function(t){return Sc(t,n(nd)),nd.result()},s.centroid=function(t){return Sc(t,n(xd)),xd.result()},s.projection=function(e){return arguments.length?(n=null==e?(t=null,zu):(t=e).stream,s):t},s.context=function(t){return arguments.length?(i=null==t?(e=null,new Dd):new Cd(e=t),"function"!=typeof r&&i.pointRadius(r),s):e},s.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),s):r},s.projection(t).context(e)},Nd=function(t){return{stream:jd(t)}};function jd(t){return function(e){var n=new zd;for(var i in t)n[i]=t[i];return n.stream=e,n}}function zd(){}function Vd(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Sc(n,t.stream(nd)),e(nd.result()),null!=i&&t.clipExtent(i),t}function Bd(t,e,n){return Vd(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],s=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),o=+e[0][0]+(i-s*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([o,a])}),n)}function Hd(t,e,n){return Bd(t,[[0,0],e],n)}function Ud(t,e,n){return Vd(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),s=(i-r*(n[1][0]+n[0][0]))/2,o=-r*n[0][1];t.scale(150*r).translate([s,o])}),n)}function Gd(t,e,n){return Vd(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),s=-r*n[0][0],o=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([s,o])}),n)}zd.prototype={constructor:zd,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Wd=ec(30*Zl),Yd=function(t,e){return+e?function(t,e){function n(i,r,s,o,a,l,c,h,u,d,f,p,g,m){var _=c-i,v=h-r,y=_*_+v*v;if(y>4*e&&g--){var b=o+d,w=a+f,x=l+p,C=cc(b*b+w*w+x*x),O=dc(x/=C),S=Ql(Ql(x)-1)<1e-6||Ql(s-u)<1e-6?(s+u)/2:tc(w,b),k=t(S,O),E=k[0],M=k[1],T=E-i,A=M-r,P=v*T-_*A;(P*P/y>e||Ql((_*T+v*A)/y-.5)>.3||o*d+a*f+l*p<Wd)&&(n(i,r,s,o,a,l,E,M,S,b/=C,w/=C,x,g,m),m.point(E,M),n(E,M,S,b,w,x,c,h,u,d,f,p,g,m))}}return function(e){var i,r,s,o,a,l,c,h,u,d,f,p,g={point:m,lineStart:_,lineEnd:y,polygonStart:function(){e.polygonStart(),g.lineStart=b},polygonEnd:function(){e.polygonEnd(),g.lineStart=_}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function _(){h=NaN,g.point=v,e.lineStart()}function v(i,r){var s=Yc([i,r]),o=t(i,r);n(h,u,c,d,f,p,h=o[0],u=o[1],c=i,d=s[0],f=s[1],p=s[2],16,e),e.point(h,u)}function y(){g.point=m,e.lineEnd()}function b(){_(),g.point=w,g.lineEnd=x}function w(t,e){v(i=t,e),r=h,s=u,o=d,a=f,l=p,g.point=v}function x(){n(h,u,c,d,f,p,r,s,i,o,a,l,16,e),g.lineEnd=y,y()}return g}}(t,e):function(t){return jd({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},qd=jd({point:function(t,e){this.stream.point(t*Zl,e*Zl)}});function Xd(t,e,n,i,r,s){if(!s)return function(t,e,n,i,r){function s(s,o){return[e+t*(s*=i),n-t*(o*=r)]}return s.invert=function(s,o){return[(s-e)/t*i,(n-o)/t*r]},s}(t,e,n,i,r);var o=ec(s),a=ac(s),l=o*t,c=a*t,h=o/t,u=a/t,d=(a*n-o*e)/t,f=(a*e+o*n)/t;function p(t,s){return[l*(t*=i)-c*(s*=r)+e,n-c*t-l*s]}return p.invert=function(t,e){return[i*(h*t-u*e+d),r*(f-u*t-h*e)]},p}function $d(t){return Kd((function(){return t}))()}function Kd(t){var e,n,i,r,s,o,a,l,c,h,u=150,d=480,f=250,p=0,g=0,m=0,_=0,v=0,y=0,b=1,w=1,x=null,C=su,O=null,S=zu,k=.5;function E(t){return l(t[0]*Zl,t[1]*Zl)}function M(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Kl,t[1]*Kl]}function T(){var t=Xd(u,0,0,b,w,y).apply(null,e(p,g)),i=Xd(u,d-t[0],f-t[1],b,w,y);return n=Bh(m,_,v),a=zh(e,i),l=zh(n,a),o=Yd(a,k),A()}function A(){return c=h=null,E}return E.stream=function(t){return c&&h===t?c:c=qd(function(t){return jd({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(C(o(S(h=t)))))},E.preclip=function(t){return arguments.length?(C=t,x=void 0,A()):C},E.postclip=function(t){return arguments.length?(S=t,O=i=r=s=null,A()):S},E.clipAngle=function(t){return arguments.length?(C=+t?ou(x=t*Zl):(x=null,su),A()):x*Kl},E.clipExtent=function(t){return arguments.length?(S=null==t?(O=i=r=s=null,zu):au(O=+t[0][0],i=+t[0][1],r=+t[1][0],s=+t[1][1]),A()):null==O?null:[[O,i],[r,s]]},E.scale=function(t){return arguments.length?(u=+t,T()):u},E.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],T()):[d,f]},E.center=function(t){return arguments.length?(p=t[0]%360*Zl,g=t[1]%360*Zl,T()):[p*Kl,g*Kl]},E.rotate=function(t){return arguments.length?(m=t[0]%360*Zl,_=t[1]%360*Zl,v=t.length>2?t[2]%360*Zl:0,T()):[m*Kl,_*Kl,v*Kl]},E.angle=function(t){return arguments.length?(y=t%360*Zl,T()):y*Kl},E.reflectX=function(t){return arguments.length?(b=t?-1:1,T()):b<0},E.reflectY=function(t){return arguments.length?(w=t?-1:1,T()):w<0},E.precision=function(t){return arguments.length?(o=Yd(a,k=t*t),A()):cc(k)},E.fitExtent=function(t,e){return Bd(E,t,e)},E.fitSize=function(t,e){return Hd(E,t,e)},E.fitWidth=function(t,e){return Ud(E,t,e)},E.fitHeight=function(t,e){return Gd(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&M,T()}}function Zd(t){var e=0,n=Yl/3,i=Kd(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Zl,n=t[1]*Zl):[e*Kl,n*Kl]},r}function Qd(t,e){var n=ac(t),i=(n+ac(e))/2;if(Ql(i)<1e-6)return function(t){var e=ec(t);function n(t,n){return[t*e,ac(n)/e]}return n.invert=function(t,n){return[t/e,dc(n*e)]},n}(t);var r=1+n*(2*i-n),s=cc(r)/i;function o(t,e){var n=cc(r-2*i*ac(e))/i;return[n*ac(t*=i),s-n*ec(t)]}return o.invert=function(t,e){var n=s-e,o=tc(t,Ql(n))*lc(n);return n*i<0&&(o-=Yl*lc(t)*lc(n)),[o/i,dc((r-(t*t+n*n)*i*i)/(2*i))]},o}var Jd=function(){return Zd(Qd).scale(155.424).center([0,33.6442])},tf=function(){return Jd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},ef=function(){var t,e,n,i,r,s,o=tf(),a=Jd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Jd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){s=[t,e]}};function h(t){var e=t[0],o=t[1];return s=null,n.point(e,o),s||(i.point(e,o),s)||(r.point(e,o),s)}function u(){return t=e=null,h}return h.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:o).invert(t)},h.stream=function(n){return t&&e===n?t:(i=[o.stream(e=n),a.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},h.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),l.precision(t),u()):o.precision()},h.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),l.scale(t),h.translate(o.translate())):o.scale()},h.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),s=+t[0],h=+t[1];return n=o.translate(t).clipExtent([[s-.455*e,h-.238*e],[s+.455*e,h+.238*e]]).stream(c),i=a.translate([s-.307*e,h+.201*e]).clipExtent([[s-.425*e+1e-6,h+.12*e+1e-6],[s-.214*e-1e-6,h+.234*e-1e-6]]).stream(c),r=l.translate([s-.205*e,h+.212*e]).clipExtent([[s-.214*e+1e-6,h+.166*e+1e-6],[s-.115*e-1e-6,h+.234*e-1e-6]]).stream(c),u()},h.fitExtent=function(t,e){return Bd(h,t,e)},h.fitSize=function(t,e){return Hd(h,t,e)},h.fitWidth=function(t,e){return Ud(h,t,e)},h.fitHeight=function(t,e){return Gd(h,t,e)},h.scale(1070)};function nf(t){return function(e,n){var i=ec(e),r=ec(n),s=t(i*r);return s===1/0?[2,0]:[s*r*ac(e),s*ac(n)]}}function rf(t){return function(e,n){var i=cc(e*e+n*n),r=t(i),s=ac(r),o=ec(r);return[tc(e*s,i*o),dc(i&&n*s/i)]}}var sf=nf((function(t){return cc(2/(1+t))}));sf.invert=rf((function(t){return 2*dc(t/2)}));var of=function(){return $d(sf).scale(124.75).clipAngle(179.999)},af=nf((function(t){return(t=uc(t))&&t/ac(t)}));af.invert=rf((function(t){return t}));var lf=function(){return $d(af).scale(79.4188).clipAngle(179.999)};function cf(t,e){return[t,sc(hc((ql+e)/2))]}cf.invert=function(t,e){return[t,2*Jl(ic(e))-ql]};var hf=function(){return uf(cf).scale(961/$l)};function uf(t){var e,n,i,r=$d(t),s=r.center,o=r.scale,a=r.translate,l=r.clipExtent,c=null;function h(){var s=Yl*o(),a=r(Wh(r.rotate()).invert([0,0]));return l(null==c?[[a[0]-s,a[1]-s],[a[0]+s,a[1]+s]]:t===cf?[[Math.max(a[0]-s,c),e],[Math.min(a[0]+s,n),i]]:[[c,Math.max(a[1]-s,e)],[n,Math.min(a[1]+s,i)]])}return r.scale=function(t){return arguments.length?(o(t),h()):o()},r.translate=function(t){return arguments.length?(a(t),h()):a()},r.center=function(t){return arguments.length?(s(t),h()):s()},r.clipExtent=function(t){return arguments.length?(null==t?c=e=n=i=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),h()):null==c?null:[[c,e],[n,i]]},h()}function df(t){return hc((ql+t)/2)}function ff(t,e){var n=ec(t),i=t===e?ac(t):sc(n/ec(e))/sc(df(e)/df(t)),r=n*oc(df(t),i)/i;if(!i)return cf;function s(t,e){r>0?e<1e-6-ql&&(e=1e-6-ql):e>ql-1e-6&&(e=ql-1e-6);var n=r/oc(df(e),i);return[n*ac(i*t),r-n*ec(i*t)]}return s.invert=function(t,e){var n=r-e,s=lc(i)*cc(t*t+n*n),o=tc(t,Ql(n))*lc(n);return n*i<0&&(o-=Yl*lc(t)*lc(n)),[o/i,2*Jl(oc(r/s,1/i))-ql]},s}var pf=function(){return Zd(ff).scale(109.5).parallels([30,30])};function gf(t,e){return[t,e]}gf.invert=gf;var mf=function(){return $d(gf).scale(152.63)};function _f(t,e){var n=ec(t),i=t===e?ac(t):(n-ec(e))/(e-t),r=n/i+t;if(Ql(i)<1e-6)return gf;function s(t,e){var n=r-e,s=i*t;return[n*ac(s),r-n*ec(s)]}return s.invert=function(t,e){var n=r-e,s=tc(t,Ql(n))*lc(n);return n*i<0&&(s-=Yl*lc(t)*lc(n)),[s/i,r-lc(i)*cc(t*t+n*n)]},s}var vf=function(){return Zd(_f).scale(131.154).center([0,13.9389])},yf=1.340264,bf=-.081106,wf=893e-6,xf=.003796,Cf=cc(3)/2;function Of(t,e){var n=dc(Cf*ac(e)),i=n*n,r=i*i*i;return[t*ec(n)/(Cf*(yf+3*bf*i+r*(7*wf+9*xf*i))),n*(yf+bf*i+r*(wf+xf*i))]}Of.invert=function(t,e){for(var n,i=e,r=i*i,s=r*r*r,o=0;o<12&&(s=(r=(i-=n=(i*(yf+bf*r+s*(wf+xf*r))-e)/(yf+3*bf*r+s*(7*wf+9*xf*r)))*i)*r*r,!(Ql(n)<1e-12));++o);return[Cf*t*(yf+3*bf*r+s*(7*wf+9*xf*r))/ec(i),dc(ac(i)/Cf)]};var Sf=function(){return $d(Of).scale(177.158)};function kf(t,e){var n=ec(e),i=ec(t)*n;return[n*ac(t)/i,ac(e)/i]}kf.invert=rf(Jl);var Ef=function(){return $d(kf).scale(144.049).clipAngle(60)},Mf=function(){var t,e,n,i,r,s,o,a=1,l=0,c=0,h=1,u=1,d=0,f=null,p=1,g=1,m=jd({point:function(t,e){var n=y([t,e]);this.stream.point(n[0],n[1])}}),_=zu;function v(){return p=a*h,g=a*u,s=o=null,y}function y(n){var i=n[0]*p,r=n[1]*g;if(d){var s=r*t-i*e;i=i*t+r*e,r=s}return[i+l,r+c]}return y.invert=function(n){var i=n[0]-l,r=n[1]-c;if(d){var s=r*t+i*e;i=i*t-r*e,r=s}return[i/p,r/g]},y.stream=function(t){return s&&o===t?s:s=m(_(o=t))},y.postclip=function(t){return arguments.length?(_=t,f=n=i=r=null,v()):_},y.clipExtent=function(t){return arguments.length?(_=null==t?(f=n=i=r=null,zu):au(f=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),v()):null==f?null:[[f,n],[i,r]]},y.scale=function(t){return arguments.length?(a=+t,v()):a},y.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],v()):[l,c]},y.angle=function(n){return arguments.length?(e=ac(d=n%360*Zl),t=ec(d),v()):d*Kl},y.reflectX=function(t){return arguments.length?(h=t?-1:1,v()):h<0},y.reflectY=function(t){return arguments.length?(u=t?-1:1,v()):u<0},y.fitExtent=function(t,e){return Bd(y,t,e)},y.fitSize=function(t,e){return Hd(y,t,e)},y.fitWidth=function(t,e){return Ud(y,t,e)},y.fitHeight=function(t,e){return Gd(y,t,e)},y};function Tf(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Tf.invert=function(t,e){var n,i=e,r=25;do{var s=i*i,o=s*s;i-=n=(i*(1.007226+s*(.015085+o*(.028874*s-.044475-.005916*o)))-e)/(1.007226+s*(.045255+o*(.259866*s-.311325-.005916*11*o)))}while(Ql(n)>1e-6&&--r>0);return[t/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]};var Af=function(){return $d(Tf).scale(175.295)};function Pf(t,e){return[ec(e)*ac(t),ac(e)]}Pf.invert=rf(dc);var Rf=function(){return $d(Pf).scale(249.5).clipAngle(90.000001)};function If(t,e){var n=ec(e),i=1+ec(t)*n;return[n*ac(t)/i,ac(e)/i]}If.invert=rf((function(t){return 2*Jl(t)}));var Df=function(){return $d(If).scale(250).clipAngle(142)};function Lf(t,e){return[sc(hc((ql+e)/2)),-t]}Lf.invert=function(t,e){return[-e,2*Jl(ic(t))-ql]};var Ff=function(){var t=uf(Lf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function Nf(t,e){return t.parent===e.parent?1:2}function jf(t,e){return t+e.x}function zf(t,e){return Math.max(t,e.y)}var Vf=function(){var t=Nf,e=1,n=1,i=!1;function r(r){var s,o=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(jf,0)/t.length}(n),e.y=function(t){return 1+t.reduce(zf,0)}(n)):(e.x=s?o+=t(e,s):0,e.y=0,s=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),c=a.x-t(a,l)/2,h=l.x+t(l,a)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(h-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r};function Bf(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Hf(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Gf)):void 0===e&&(e=Uf);for(var n,i,r,s,o,a=new qf(t),l=[a];n=l.pop();)if((r=e(n.data))&&(o=(r=Array.from(r)).length))for(n.children=r,s=o-1;s>=0;--s)l.push(i=r[s]=new qf(r[s])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Yf)}function Uf(t){return t.children}function Gf(t){return Array.isArray(t)?t[1]:null}function Wf(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Yf(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function qf(t){this.data=t,this.depth=this.height=0,this.parent=null}qf.prototype=Hf.prototype={constructor:qf,count:function(){return this.eachAfter(Bf)},each:function(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,s=this,o=[s],a=[],l=-1;s=o.pop();)if(a.push(s),n=s.children)for(i=0,r=n.length;i<r;++i)o.push(n[i]);for(;s=a.pop();)t.call(e,s,++l,this);return this},eachBefore:function(t,e){for(var n,i,r=this,s=[r],o=-1;r=s.pop();)if(t.call(e,r,++o,this),n=r.children)for(i=n.length-1;i>=0;--i)s.push(n[i]);return this},find:function(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)i.push(e=e.parent);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Hf(this).eachBefore(Wf)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,s=[r];do{for(t=s.reverse(),s=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)s.push(e[n])}while(s.length)}};var Xf=function(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Array.from(t))).length,s=[];i<r;)e=t[i],n&&Zf(n,e)?++i:(n=Jf(s=$f(s,e)),i=0);return n};function $f(t,e){var n,i;if(Qf(e,t))return[e];for(n=0;n<t.length;++n)if(Kf(e,t[n])&&Qf(tp(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Kf(tp(t[n],t[i]),e)&&Kf(tp(t[n],e),t[i])&&Kf(tp(t[i],e),t[n])&&Qf(ep(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Kf(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Zf(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Qf(t,e){for(var n=0;n<e.length;++n)if(!Zf(t,e[n]))return!1;return!0}function Jf(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return tp(t[0],t[1]);case 3:return ep(t[0],t[1],t[2])}var e}function tp(t,e){var n=t.x,i=t.y,r=t.r,s=e.x,o=e.y,a=e.r,l=s-n,c=o-i,h=a-r,u=Math.sqrt(l*l+c*c);return{x:(n+s+l/u*h)/2,y:(i+o+c/u*h)/2,r:(u+r+a)/2}}function ep(t,e,n){var i=t.x,r=t.y,s=t.r,o=e.x,a=e.y,l=e.r,c=n.x,h=n.y,u=n.r,d=i-o,f=i-c,p=r-a,g=r-h,m=l-s,_=u-s,v=i*i+r*r-s*s,y=v-o*o-a*a+l*l,b=v-c*c-h*h+u*u,w=f*p-d*g,x=(p*b-g*y)/(2*w)-i,C=(g*m-p*_)/w,O=(f*y-d*b)/(2*w)-r,S=(d*_-f*m)/w,k=C*C+S*S-1,E=2*(s+x*C+O*S),M=x*x+O*O-s*s,T=-(k?(E+Math.sqrt(E*E-4*k*M))/(2*k):M/E);return{x:i+x+C*T,y:r+O+S*T,r:T}}function np(t,e,n){var i,r,s,o,a=t.x-e.x,l=t.y-e.y,c=a*a+l*l;c?(r=e.r+n.r,o=t.r+n.r,(r*=r)>(o*=o)?(i=(c+o-r)/(2*c),s=Math.sqrt(Math.max(0,o/c-i*i)),n.x=t.x-i*a-s*l,n.y=t.y-i*l+s*a):(i=(c+r-o)/(2*c),s=Math.sqrt(Math.max(0,r/c-i*i)),n.x=e.x+i*a-s*l,n.y=e.y+i*l+s*a)):(n.x=e.x+n.r,n.y=e.y)}function ip(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function rp(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,s=(e.y*n.r+n.y*e.r)/i;return r*r+s*s}function sp(t){this._=t,this.next=null,this.previous=null}function op(t){if(!(s=(e=t,t="object"==typeof e&&"length"in e?e:Array.from(e)).length))return 0;var e,n,i,r,s,o,a,l,c,h,u,d;if((n=t[0]).x=0,n.y=0,!(s>1))return n.r;if(n.x=-(i=t[1]).r,i.x=n.r,i.y=0,!(s>2))return n.r+i.r;np(i,n,r=t[2]),n=new sp(n),i=new sp(i),r=new sp(r),n.next=r.previous=i,i.next=n.previous=r,r.next=i.previous=n;t:for(l=3;l<s;++l){np(n._,i._,r=t[l]),r=new sp(r),c=i.next,h=n.previous,u=i._.r,d=n._.r;do{if(u<=d){if(ip(c._,r._)){n.next=i=c,i.previous=n,--l;continue t}u+=c._.r,c=c.next}else{if(ip(h._,r._)){(n=h).next=i,i.previous=n,--l;continue t}d+=h._.r,h=h.previous}}while(c!==h.next);for(r.previous=n,r.next=i,n.next=i.previous=i=r,o=rp(n);(r=r.next)!==i;)(a=rp(r))<o&&(n=r,o=a);i=n.next}for(n=[i._],r=i;(r=r.next)!==i;)n.push(r._);for(r=Xf(n),l=0;l<s;++l)(n=t[l]).x-=r.x,n.y-=r.y;return r.r}var ap=function(t){return op(t),t};function lp(t){return null==t?null:cp(t)}function cp(t){if("function"!=typeof t)throw new Error;return t}function hp(){return 0}var up=function(t){return function(){return t}};function dp(t){return Math.sqrt(t.value)}var fp=function(){var t=null,e=1,n=1,i=hp;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(pp(t)).eachAfter(gp(i,.5)).eachBefore(mp(1)):r.eachBefore(pp(dp)).eachAfter(gp(hp,1)).eachAfter(gp(i,r.r/Math.min(e,n))).eachBefore(mp(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=lp(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:up(+t),r):i},r};function pp(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function gp(t,e){return function(n){if(i=n.children){var i,r,s,o=i.length,a=t(n)*e||0;if(a)for(r=0;r<o;++r)i[r].r+=a;if(s=op(i),a)for(r=0;r<o;++r)i[r].r-=a;n.r=s+a}}}function mp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var _p=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},vp=function(t,e,n,i,r){for(var s,o=t.children,a=-1,l=o.length,c=t.value&&(i-e)/t.value;++a<l;)(s=o[a]).y0=n,s.y1=r,s.x0=e,s.x1=e+=s.value*c},yp=function(){var t=1,e=1,n=0,i=!1;function r(r){var s=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/s,r.eachBefore(function(t,e){return function(i){i.children&&vp(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,s=i.y0,o=i.x1-n,a=i.y1-n;o<r&&(r=o=(r+o)/2),a<s&&(s=a=(s+a)/2),i.x0=r,i.y0=s,i.x1=o,i.y1=a}}(e,s)),i&&r.eachBefore(_p),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},bp={depth:-1},wp={};function xp(t){return t.id}function Cp(t){return t.parentId}var Op=function(){var t=xp,e=Cp;function n(n){var i,r,s,o,a,l,c,h=Array.from(n),u=h.length,d=new Map;for(r=0;r<u;++r)a=h[r]=new qf(i=h[r]),null!=(l=t(i,r,n))&&(l+="")&&(c=a.id=l,d.set(c,d.has(c)?wp:a)),null!=(l=e(i,r,n))&&(l+="")&&(a.parent=l);for(r=0;r<u;++r)if(l=(a=h[r]).parent){if(!(o=d.get(l)))throw new Error("missing: "+l);if(o===wp)throw new Error("ambiguous: "+l);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(s)throw new Error("multiple roots");s=a}if(!s)throw new Error("no root");if(s.parent=bp,s.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(Yf),s.parent=null,u>0)throw new Error("cycle");return s}return n.id=function(e){return arguments.length?(t=cp(e),n):t},n.parentId=function(t){return arguments.length?(e=cp(t),n):e},n};function Sp(t,e){return t.parent===e.parent?1:2}function kp(t){var e=t.children;return e?e[0]:t.t}function Ep(t){var e=t.children;return e?e[e.length-1]:t.t}function Mp(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Tp(t,e,n){return t.a.parent===e.parent?t.a:n}function Ap(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Ap.prototype=Object.create(qf.prototype);var Pp=function(){var t=Sp,e=1,n=1,i=null;function r(r){var l=function(t){for(var e,n,i,r,s,o=new Ap(t,0),a=[o];e=a.pop();)if(i=e._.children)for(e.children=new Array(s=i.length),r=s-1;r>=0;--r)a.push(n=e.children[r]=new Ap(i[r],r)),n.parent=e;return(o.parent=new Ap(null,0)).children=[o],o}(r);if(l.eachAfter(s),l.parent.m=-l.z,l.eachBefore(o),i)r.eachBefore(a);else{var c=r,h=r,u=r;r.eachBefore((function(t){t.x<c.x&&(c=t),t.x>h.x&&(h=t),t.depth>u.depth&&(u=t)}));var d=c===h?1:t(c,h)/2,f=d-c.x,p=e/(h.x+d+f),g=n/(u.depth||1);r.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*g}))}return r}function s(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,s=r.length;--s>=0;)(e=r[s]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var s=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-s):e.z=s}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,s=e,o=e,a=n,l=s.parent.children[0],c=s.m,h=o.m,u=a.m,d=l.m;a=Ep(a),s=kp(s),a&&s;)l=kp(l),(o=Ep(o)).a=e,(r=a.z+u-s.z-c+t(a._,s._))>0&&(Mp(Tp(a,e,i),e,r),c+=r,h+=r),u+=a.m,c+=s.m,d+=l.m,h+=o.m;a&&!Ep(o)&&(o.t=a,o.m+=u-h),s&&!kp(l)&&(l.t=s,l.m+=c-d,i=e)}return i}(e,r,e.parent.A||i[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},Rp=function(t,e,n,i,r){for(var s,o=t.children,a=-1,l=o.length,c=t.value&&(r-n)/t.value;++a<l;)(s=o[a]).x0=e,s.x1=i,s.y0=n,s.y1=n+=s.value*c},Ip=(1+Math.sqrt(5))/2;function Dp(t,e,n,i,r,s){for(var o,a,l,c,h,u,d,f,p,g,m,_=[],v=e.children,y=0,b=0,w=v.length,x=e.value;y<w;){l=r-n,c=s-i;do{h=v[b++].value}while(!h&&b<w);for(u=d=h,m=h*h*(g=Math.max(c/l,l/c)/(x*t)),p=Math.max(d/m,m/u);b<w;++b){if(h+=a=v[b].value,a<u&&(u=a),a>d&&(d=a),m=h*h*g,(f=Math.max(d/m,m/u))>p){h-=a;break}p=f}_.push(o={value:h,dice:l<c,children:v.slice(y,b)}),o.dice?vp(o,n,i,r,x?i+=c*h/x:s):Rp(o,n,i,x?n+=l*h/x:r,s),x-=h,y=b}return _}var Lp=function t(e){function n(t,n,i,r,s){Dp(e,t,n,i,r,s)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Ip),Fp=function(){var t=Lp,e=!1,n=1,i=1,r=[0],s=hp,o=hp,a=hp,l=hp,c=hp;function h(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(u),r=[0],e&&t.eachBefore(_p),t}function u(e){var n=r[e.depth],i=e.x0+n,h=e.y0+n,u=e.x1-n,d=e.y1-n;u<i&&(i=u=(i+u)/2),d<h&&(h=d=(h+d)/2),e.x0=i,e.y0=h,e.x1=u,e.y1=d,e.children&&(n=r[e.depth+1]=s(e)/2,i+=c(e)-n,h+=o(e)-n,(u-=a(e)-n)<i&&(i=u=(i+u)/2),(d-=l(e)-n)<h&&(h=d=(h+d)/2),t(e,i,h,u,d))}return h.round=function(t){return arguments.length?(e=!!t,h):e},h.size=function(t){return arguments.length?(n=+t[0],i=+t[1],h):[n,i]},h.tile=function(e){return arguments.length?(t=cp(e),h):t},h.padding=function(t){return arguments.length?h.paddingInner(t).paddingOuter(t):h.paddingInner()},h.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:up(+t),h):s},h.paddingOuter=function(t){return arguments.length?h.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):h.paddingTop()},h.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:up(+t),h):o},h.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:up(+t),h):a},h.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:up(+t),h):l},h.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:up(+t),h):c},h},Np=function(t,e,n,i,r){var s,o,a=t.children,l=a.length,c=new Array(l+1);for(c[0]=o=s=0;s<l;++s)c[s+1]=o+=a[s].value;!function t(e,n,i,r,s,o,l){if(e>=n-1){var h=a[e];return h.x0=r,h.y0=s,h.x1=o,void(h.y1=l)}for(var u=c[e],d=i/2+u,f=e+1,p=n-1;f<p;){var g=f+p>>>1;c[g]<d?f=g+1:p=g}d-c[f-1]<c[f]-d&&e+1<f&&--f;var m=c[f]-u,_=i-m;if(o-r>l-s){var v=i?(r*_+o*m)/i:o;t(e,f,m,r,s,v,l),t(f,n,_,v,s,o,l)}else{var y=i?(s*_+l*m)/i:l;t(e,f,m,r,s,o,y),t(f,n,_,r,y,o,l)}}(0,l,t.value,e,n,i,r)},jp=function(t,e,n,i,r){(1&t.depth?Rp:vp)(t,e,n,i,r)},zp=function t(e){function n(t,n,i,r,s){if((o=t._squarify)&&o.ratio===e)for(var o,a,l,c,h,u=-1,d=o.length,f=t.value;++u<d;){for(l=(a=o[u]).children,c=a.value=0,h=l.length;c<h;++c)a.value+=l[c].value;a.dice?vp(a,n,i,r,f?i+=(s-i)*a.value/f:s):Rp(a,n,i,f?n+=(r-n)*a.value/f:r,s),f-=a.value}else t._squarify=o=Dp(e,t,n,i,r,s),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Ip),Vp=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Bp=function(t,e){var n=Nn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},Hp=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}};function Up(t){return((t=Math.exp(t))+1/t)/2}var Gp=function t(e,n,i){function r(t,r){var s,o,a=t[0],l=t[1],c=t[2],h=r[2],u=r[0]-a,d=r[1]-l,f=u*u+d*d;if(f<1e-12)o=Math.log(h/c)/e,s=function(t){return[a+t*u,l+t*d,c*Math.exp(e*t*o)]};else{var p=Math.sqrt(f),g=(h*h-c*c+i*f)/(2*c*n*p),m=(h*h-c*c-i*f)/(2*h*n*p),_=Math.log(Math.sqrt(g*g+1)-g),v=Math.log(Math.sqrt(m*m+1)-m);o=(v-_)/e,s=function(t){var i,r=t*o,s=Up(_),h=c/(n*p)*(s*(i=e*r+_,((i=Math.exp(2*i))-1)/(i+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[a+h*u,l+h*d,c*s/Up(e*r+_)]}}return s.duration=1e3*o*e/Math.SQRT2,s}return r.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},r}(Math.SQRT2,2,4);function Wp(t){return function(e,n){var i=t((e=Tn(e)).h,(n=Tn(n)).h),r=jn(e.s,n.s),s=jn(e.l,n.l),o=jn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=s(t),e.opacity=o(t),e+""}}}var Yp=Wp(Nn),qp=Wp(jn);function Xp(t,e){var n=jn((t=Rs(t)).l,(e=Rs(e)).l),i=jn(t.a,e.a),r=jn(t.b,e.b),s=jn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=s(e),t+""}}function $p(t){return function(e,n){var i=t((e=Vs(e)).h,(n=Vs(n)).h),r=jn(e.c,n.c),s=jn(e.l,n.l),o=jn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=s(t),e.opacity=o(t),e+""}}}var Kp=$p(Nn),Zp=$p(jn);function Qp(t){return function e(n){function i(e,i){var r=t((e=Xs(e)).h,(i=Xs(i)).h),s=jn(e.s,i.s),o=jn(e.l,i.l),a=jn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=s(t),e.l=o(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}var Jp=Qp(Nn),tg=Qp(jn);function eg(t,e){void 0===e&&(e=t,t=ei);for(var n=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return s[e](t-e)}}var ng=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},ig=function(t){for(var e,n=-1,i=t.length,r=t[i-1],s=0;++n<i;)s+=(e=r)[1]*(r=t[n])[0]-e[0]*r[1];return s/2},rg=function(t){for(var e,n,i=-1,r=t.length,s=0,o=0,a=t[r-1],l=0;++i<r;)l+=n=(e=a)[0]*(a=t[i])[1]-a[0]*e[1],s+=(e[0]+a[0])*n,o+=(e[1]+a[1])*n;return[s/(l*=3),o/l]};function sg(t,e){return t[0]-e[0]||t[1]-e[1]}function og(t){const e=t.length,n=[0,1];let i,r=2;for(i=2;i<e;++i){for(;r>1&&((o=t[n[r-1]])[0]-(s=t[n[r-2]])[0])*((a=t[i])[1]-s[1])-(o[1]-s[1])*(a[0]-s[0])<=0;)--r;n[r++]=i}var s,o,a;return n.slice(0,r)}var ag=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(sg),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var s=og(i),o=og(r),a=o[0]===s[0],l=o[o.length-1]===s[s.length-1],c=[];for(e=s.length-1;e>=0;--e)c.push(t[i[s[e]][2]]);for(e=+a;e<o.length-l;++e)c.push(t[i[o[e]][2]]);return c},lg=function(t,e){for(var n,i,r=t.length,s=t[r-1],o=e[0],a=e[1],l=s[0],c=s[1],h=!1,u=0;u<r;++u)n=(s=t[u])[0],(i=s[1])>a!=c>a&&o<(l-n)*(a-i)/(c-i)+n&&(h=!h),l=n,c=i;return h},cg=function(t){for(var e,n,i=-1,r=t.length,s=t[r-1],o=s[0],a=s[1],l=0;++i<r;)e=o,n=a,e-=o=(s=t[i])[0],n-=a=s[1],l+=Math.hypot(e,n);return l},hg=Math.random,ug=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(hg),dg=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(hg),fg=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var s;if(null!=i)s=i,i=null;else do{i=2*e()-1,s=2*e()-1,r=i*i+s*s}while(!r||r>1);return t+n*s*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(hg),pg=function t(e){var n=fg.source(e);function i(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return i.source=t,i}(hg),gg=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,i=t;i>1;--i)n+=e();return n+i*e()}}return n.source=t,n}(hg),mg=function t(e){var n=gg.source(e);function i(t){if(0==(t=+t))return e;var i=n(t);return function(){return i()/t}}return i.source=t,i}(hg),_g=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(hg),vg=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(hg),yg=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(hg),bg=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(hg),wg=function t(e){var n=fg.source(e)();function i(t,i){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(i=null==i?1:+i,1===t)return()=>-Math.log1p(-e())*i;var r=(t<1?t+1:t)-1/3,s=1/(3*Math.sqrt(r)),o=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),a=1+s*t}while(a<=0);a*=a*a;var l=1-e()}while(l>=1-.0331*t*t*t*t&&Math.log(l)>=.5*t*t+r*(1-a+Math.log(a)));return r*a*o()*i}}return i.source=t,i}(hg),xg=function t(e){var n=wg.source(e);function i(t,e){var i=n(t),r=n(e);return function(){var t=i();return 0===t?0:t/(t+r())}}return i.source=t,i}(hg),Cg=function t(e){var n=bg.source(e),i=xg.source(e);function r(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var r=0,s=t,o=e;s*o>16&&s*(1-o)>16;){var a=Math.floor((s+1)*o),l=i(a,s-a+1)();l<=o?(r+=a,s-=a,o=(o-l)/(1-l)):(s=a-1,o/=l)}for(var c=o<.5,h=n(c?o:1-o),u=h(),d=0;u<=s;++d)u+=h();return r+(c?d:s-d)}}return r.source=t,r}(hg),Og=function t(e){function n(t,n,i){var r;return 0==(t=+t)?r=t=>-Math.log(t):(t=1/t,r=e=>Math.pow(e,t)),n=null==n?0:+n,i=null==i?1:+i,function(){return n+i*r(-Math.log1p(-e()))}}return n.source=t,n}(hg),Sg=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(hg),kg=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var i=e();return t+n*Math.log(i/(1-i))}}return n.source=t,n}(hg),Eg=function t(e){var n=wg.source(e),i=Cg.source(e);function r(t){return function(){for(var r=0,s=t;s>16;){var o=Math.floor(.875*s),a=n(o)();if(a>s)return r+i(o-1,s/a)();r+=o,s-=a}for(var l=-Math.log1p(-e()),c=0;l<=s;++c)l-=Math.log1p(-e());return r+c}}return r.source=t,r}(hg);const Mg=1/4294967296;function Tg(t=Math.random()){let e=0|(0<=t&&t<1?t/Mg:Math.abs(t));return()=>(e=1664525*e+1013904223|0,Mg*(e>>>0))}function Ag(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Pg(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Rg=Symbol("implicit");function Ig(){var t=new Map,e=[],n=[],i=Rg;function r(r){var s=r+"",o=t.get(s);if(!o){if(i!==Rg)return i;t.set(s,o=e.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const i of n){const n=i+"";t.has(n)||t.set(n,e.push(i))}return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Ig(e,n).unknown(i)},Ag.apply(r,arguments),r}function Dg(){var t,e,n=Ig().unknown(void 0),i=n.domain,r=n.range,s=0,o=1,a=!1,l=0,c=0,h=.5;function u(){var n=i().length,u=o<s,d=u?o:s,f=u?s:o;t=(f-d)/Math.max(1,n-l+2*c),a&&(t=Math.floor(t)),d+=(f-d-t*(n-l))*h,e=t*(1-l),a&&(d=Math.round(d),e=Math.round(e));var p=st(n).map((function(e){return d+t*e}));return r(u?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),u()):i()},n.range=function(t){return arguments.length?([s,o]=t,s=+s,o=+o,u()):[s,o]},n.rangeRound=function(t){return[s,o]=t,s=+s,o=+o,a=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,u()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),u()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),u()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,u()):c},n.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),u()):h},n.copy=function(){return Dg(i(),[s,o]).round(a).paddingInner(l).paddingOuter(c).align(h)},Ag.apply(u(),arguments)}function Lg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Lg(e())},t}function Fg(){return Lg(Dg.apply(null,arguments).paddingInner(1))}var Ng=function(t){return+t},jg=[0,1];function zg(t){return t}function Vg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Bg(t,e,n){var i=t[0],r=t[1],s=e[0],o=e[1];return r<i?(i=Vg(r,i),s=n(o,s)):(i=Vg(i,r),s=n(s,o)),function(t){return s(i(t))}}function Hg(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=Vg(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=u(t,e,1,i)-1;return s[n](r[n](e))}}function Ug(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gg(){var t,e,n,i,r,s,o=jg,a=jg,l=ei,c=zg;function h(){var t,e,n,l=Math.min(o.length,a.length);return c!==zg&&((t=o[0])>(e=o[l-1])&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),i=l>2?Hg:Bg,r=s=null,u}function u(e){return isNaN(e=+e)?n:(r||(r=i(o.map(t),a,l)))(t(c(e)))}return u.invert=function(n){return c(e((s||(s=i(a,o.map(t),Kn)))(n)))},u.domain=function(t){return arguments.length?(o=Array.from(t,Ng),h()):o.slice()},u.range=function(t){return arguments.length?(a=Array.from(t),h()):a.slice()},u.rangeRound=function(t){return a=Array.from(t),l=Hp,h()},u.clamp=function(t){return arguments.length?(c=!!t||zg,h()):c!==zg},u.interpolate=function(t){return arguments.length?(l=t,h()):l},u.unknown=function(t){return arguments.length?(n=t,u):n},function(n,i){return t=n,e=i,h()}}function Wg(){return Gg()(zg,zg)}var Yg=function(t,e,n,i){var r,s=V(t,e,n);switch((i=Al(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=Gl(s,o))||(i.precision=r),Ll(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=Wl(s,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=Ul(s))||(i.precision=r-2*("%"===i.type))}return Dl(i)};function qg(t){var e=t.domain;return t.ticks=function(t){var n=e();return j(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Yg(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,s=e(),o=0,a=s.length-1,l=s[o],c=s[a],h=10;for(c<l&&(r=l,l=c,c=r,r=o,o=a,a=r);h-- >0;){if((r=z(l,c,n))===i)return s[o]=l,s[a]=c,e(s);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function Xg(){var t=Wg();return t.copy=function(){return Ug(t,Xg())},Ag.apply(t,arguments),qg(t)}function $g(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Ng),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return $g(t).unknown(e)},t=arguments.length?Array.from(t,Ng):[0,1],qg(n)}var Kg=function(t,e){var n,i=0,r=(t=t.slice()).length-1,s=t[i],o=t[r];return o<s&&(n=i,i=r,r=n,n=s,s=o,o=n),t[i]=e.floor(s),t[r]=e.ceil(o),t};function Zg(t){return Math.log(t)}function Qg(t){return Math.exp(t)}function Jg(t){return-Math.log(-t)}function tm(t){return-Math.exp(-t)}function em(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nm(t){return function(e){return-t(-e)}}function im(t){var e,n,i=t(Zg,Qg),r=i.domain,s=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(s),n=function(t){return 10===t?em:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(s),r()[0]<0?(e=nm(e),n=nm(n),t(Jg,tm)):t(Zg,Qg),i}return i.base=function(t){return arguments.length?(s=+t,o()):s},i.domain=function(t){return arguments.length?(r(t),o()):r()},i.ticks=function(t){var i,o=r(),a=o[0],l=o[o.length-1];(i=l<a)&&(d=a,a=l,l=d);var c,h,u,d=e(a),f=e(l),p=null==t?10:+t,g=[];if(!(s%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),a>0){for(;d<=f;++d)for(h=1,c=n(d);h<s;++h)if(!((u=c*h)<a)){if(u>l)break;g.push(u)}}else for(;d<=f;++d)for(h=s-1,c=n(d);h>=1;--h)if(!((u=c*h)<a)){if(u>l)break;g.push(u)}2*g.length<p&&(g=j(a,l,p))}else g=j(d,f,Math.min(f-d,p)).map(n);return i?g.reverse():g},i.tickFormat=function(t,r){if(null==r&&(r=10===s?".0e":","),"function"!=typeof r&&(r=Dl(r)),t===1/0)return r;null==t&&(t=10);var o=Math.max(1,s*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*s<s-.5&&(i*=s),i<=o?r(t):""}},i.nice=function(){return r(Kg(r(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function rm(){var t=im(Gg()).domain([1,10]);return t.copy=function(){return Ug(t,rm()).base(t.base())},Ag.apply(t,arguments),t}function sm(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function om(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function am(t){var e=1,n=t(sm(e),om(e));return n.constant=function(n){return arguments.length?t(sm(e=+n),om(e)):e},qg(n)}function lm(){var t=am(Gg());return t.copy=function(){return Ug(t,lm()).constant(t.constant())},Ag.apply(t,arguments)}function cm(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hm(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function um(t){return t<0?-t*t:t*t}function dm(t){var e=t(zg,zg),n=1;function i(){return 1===n?t(zg,zg):.5===n?t(hm,um):t(cm(n),cm(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},qg(e)}function fm(){var t=dm(Gg());return t.copy=function(){return Ug(t,fm()).exponent(t.exponent())},Ag.apply(t,arguments),t}function pm(){return fm.apply(null,arguments).exponent(.5)}function gm(t){return Math.sign(t)*t*t}function mm(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _m(){var t,e=Wg(),n=[0,1],i=!1;function r(n){var r=mm(e(n));return isNaN(r)?t:i?Math.round(r):r}return r.invert=function(t){return e.invert(gm(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain()},r.range=function(t){return arguments.length?(e.range((n=Array.from(t,Ng)).map(gm)),r):n.slice()},r.rangeRound=function(t){return r.range(t).round(!0)},r.round=function(t){return arguments.length?(i=!!t,r):i},r.clamp=function(t){return arguments.length?(e.clamp(t),r):e.clamp()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return _m(e.domain(),n).round(i).clamp(e.clamp()).unknown(t)},Ag.apply(r,arguments),qg(r)}function vm(){var t,e=[],n=[],i=[];function s(){var t=0,r=Math.max(1,n.length);for(i=new Array(r-1);++t<r;)i[t-1]=q(e,t/r);return o}function o(e){return isNaN(e=+e)?t:n[u(i,e)]}return o.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(r),s()},o.range=function(t){return arguments.length?(n=Array.from(t),s()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return vm().domain(e).range(n).unknown(t)},Ag.apply(o,arguments)}function ym(){var t,e=0,n=1,i=1,r=[.5],s=[0,1];function o(e){return e<=e?s[u(r,e,0,i)]:t}function a(){var t=-1;for(r=new Array(i);++t<i;)r[t]=((t+1)*n-(t-i)*e)/(i+1);return o}return o.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,a()):[e,n]},o.range=function(t){return arguments.length?(i=(s=Array.from(t)).length-1,a()):s.slice()},o.invertExtent=function(t){var o=s.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,r[0]]:o>=i?[r[i-1],n]:[r[o-1],r[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return r.slice()},o.copy=function(){return ym().domain([e,n]).range(s).unknown(t)},Ag.apply(qg(o),arguments)}function bm(){var t,e=[.5],n=[0,1],i=1;function r(r){return r<=r?n[u(e,r,0,i)]:t}return r.domain=function(t){return arguments.length?(e=Array.from(t),i=Math.min(e.length,n.length-1),r):e.slice()},r.range=function(t){return arguments.length?(n=Array.from(t),i=Math.min(e.length,n.length-1),r):n.slice()},r.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return bm().domain(e).range(n).unknown(t)},Ag.apply(r,arguments)}var wm=new Date,xm=new Date;function Cm(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,s){var o,a=[];if(n=r.ceil(n),s=null==s?1:Math.floor(s),!(n<i&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<i);return a},r.filter=function(n){return Cm((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return wm.setTime(+e),xm.setTime(+i),t(wm),t(xm),Math.floor(n(wm,xm))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var Om=Cm((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Om.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cm((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Sm=Om,km=Om.range,Em=Cm((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Mm=Em,Tm=Em.range;function Am(t){return Cm((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Pm=Am(0),Rm=Am(1),Im=Am(2),Dm=Am(3),Lm=Am(4),Fm=Am(5),Nm=Am(6),jm=Pm.range,zm=Rm.range,Vm=Im.range,Bm=Dm.range,Hm=Lm.range,Um=Fm.range,Gm=Nm.range,Wm=Cm(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1),Ym=Wm,qm=Wm.range,Xm=Cm((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),$m=Xm,Km=Xm.range,Zm=Cm((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Qm=Zm,Jm=Zm.range,t_=Cm((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),e_=t_,n_=t_.range,i_=Cm((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i_.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Cm((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):i_:null};var r_=i_,s_=i_.range;function o_(t){return Cm((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var a_=o_(0),l_=o_(1),c_=o_(2),h_=o_(3),u_=o_(4),d_=o_(5),f_=o_(6),p_=a_.range,g_=l_.range,m_=c_.range,__=h_.range,v_=u_.range,y_=d_.range,b_=f_.range,w_=Cm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),x_=w_,C_=w_.range,O_=Cm((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));O_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cm((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var S_=O_,k_=O_.range;function E_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function M_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function T_(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function A_(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=H_(r),h=U_(r),u=H_(s),d=U_(s),f=H_(o),p=U_(o),g=H_(a),m=U_(a),_=H_(l),v=U_(l),y={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:hv,e:hv,f:gv,g:kv,G:Mv,H:uv,I:dv,j:fv,L:pv,m:mv,M:_v,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Zv,s:Qv,S:vv,u:yv,U:bv,V:xv,w:Cv,W:Ov,x:null,X:null,y:Sv,Y:Ev,Z:Tv,"%":Kv},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Av,e:Av,f:Lv,g:Yv,G:Xv,H:Pv,I:Rv,j:Iv,L:Dv,m:Fv,M:Nv,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Zv,s:Qv,S:jv,u:zv,U:Vv,V:Hv,w:Uv,W:Gv,x:null,X:null,y:Wv,Y:qv,Z:$v,"%":Kv},w={a:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.w=d.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){var i=_.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,n,i){return O(t,e,n,i)},d:tv,e:tv,f:ov,g:K_,G:$_,H:nv,I:nv,j:ev,L:sv,m:J_,M:iv,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=h.get(i[0].toLowerCase()),n+i[0].length):-1},q:Q_,Q:lv,s:cv,S:rv,u:W_,U:Y_,V:q_,w:G_,W:X_,x:function(t,e,i){return O(t,n,e,i)},X:function(t,e,n){return O(t,i,e,n)},y:K_,Y:$_,Z:Z_,"%":av};function x(t,e){return function(n){var i,r,s,o=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(r=F_[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(s=e[i])&&(i=s(n,r)),o.push(i),l=a+1);return o.push(t.slice(l,a)),o.join("")}}function C(t,e){return function(n){var i,r,s=T_(1900,void 0,1);if(O(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(e&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(i=M_(T_(s.y,0,1))).getUTCDay(),i=r>4||0===r?l_.ceil(i):l_(i),i=x_.offset(i,7*(s.V-1)),s.y=i.getUTCFullYear(),s.m=i.getUTCMonth(),s.d=i.getUTCDate()+(s.w+6)%7):(r=(i=E_(T_(s.y,0,1))).getDay(),i=r>4||0===r?Rm.ceil(i):Rm(i),i=Ym.offset(i,7*(s.V-1)),s.y=i.getFullYear(),s.m=i.getMonth(),s.d=i.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),r="Z"in s?M_(T_(s.y,0,1)).getUTCDay():E_(T_(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(r+5)%7:s.w+7*s.U-(r+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,M_(s)):E_(s)}}function O(t,e,n,i){for(var r,s,o=0,a=e.length,l=n.length;o<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(s=w[r in F_?e.charAt(o++):r])||(i=s(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return y.x=x(n,y),y.X=x(i,y),y.c=x(e,y),b.x=x(n,b),b.X=x(i,b),b.c=x(e,b),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}var P_,R_,I_,D_,L_,F_={"-":"",_:" ",0:"0"},N_=/^\s*\d+/,j_=/^%/,z_=/[\\^$*+?|[\]().{}]/g;function V_(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(e)+r:r)}function B_(t){return t.replace(z_,"\\$&")}function H_(t){return new RegExp("^(?:"+t.map(B_).join("|")+")","i")}function U_(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function G_(t,e,n){var i=N_.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function W_(t,e,n){var i=N_.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Y_(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function q_(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function X_(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function $_(t,e,n){var i=N_.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function K_(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Z_(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Q_(t,e,n){var i=N_.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function J_(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function tv(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ev(t,e,n){var i=N_.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function nv(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function iv(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function rv(t,e,n){var i=N_.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function sv(t,e,n){var i=N_.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ov(t,e,n){var i=N_.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function av(t,e,n){var i=j_.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function lv(t,e,n){var i=N_.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function cv(t,e,n){var i=N_.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function hv(t,e){return V_(t.getDate(),e,2)}function uv(t,e){return V_(t.getHours(),e,2)}function dv(t,e){return V_(t.getHours()%12||12,e,2)}function fv(t,e){return V_(1+Ym.count(Sm(t),t),e,3)}function pv(t,e){return V_(t.getMilliseconds(),e,3)}function gv(t,e){return pv(t,e)+"000"}function mv(t,e){return V_(t.getMonth()+1,e,2)}function _v(t,e){return V_(t.getMinutes(),e,2)}function vv(t,e){return V_(t.getSeconds(),e,2)}function yv(t){var e=t.getDay();return 0===e?7:e}function bv(t,e){return V_(Pm.count(Sm(t)-1,t),e,2)}function wv(t){var e=t.getDay();return e>=4||0===e?Lm(t):Lm.ceil(t)}function xv(t,e){return t=wv(t),V_(Lm.count(Sm(t),t)+(4===Sm(t).getDay()),e,2)}function Cv(t){return t.getDay()}function Ov(t,e){return V_(Rm.count(Sm(t)-1,t),e,2)}function Sv(t,e){return V_(t.getFullYear()%100,e,2)}function kv(t,e){return V_((t=wv(t)).getFullYear()%100,e,2)}function Ev(t,e){return V_(t.getFullYear()%1e4,e,4)}function Mv(t,e){var n=t.getDay();return V_((t=n>=4||0===n?Lm(t):Lm.ceil(t)).getFullYear()%1e4,e,4)}function Tv(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+V_(e/60|0,"0",2)+V_(e%60,"0",2)}function Av(t,e){return V_(t.getUTCDate(),e,2)}function Pv(t,e){return V_(t.getUTCHours(),e,2)}function Rv(t,e){return V_(t.getUTCHours()%12||12,e,2)}function Iv(t,e){return V_(1+x_.count(S_(t),t),e,3)}function Dv(t,e){return V_(t.getUTCMilliseconds(),e,3)}function Lv(t,e){return Dv(t,e)+"000"}function Fv(t,e){return V_(t.getUTCMonth()+1,e,2)}function Nv(t,e){return V_(t.getUTCMinutes(),e,2)}function jv(t,e){return V_(t.getUTCSeconds(),e,2)}function zv(t){var e=t.getUTCDay();return 0===e?7:e}function Vv(t,e){return V_(a_.count(S_(t)-1,t),e,2)}function Bv(t){var e=t.getUTCDay();return e>=4||0===e?u_(t):u_.ceil(t)}function Hv(t,e){return t=Bv(t),V_(u_.count(S_(t),t)+(4===S_(t).getUTCDay()),e,2)}function Uv(t){return t.getUTCDay()}function Gv(t,e){return V_(l_.count(S_(t)-1,t),e,2)}function Wv(t,e){return V_(t.getUTCFullYear()%100,e,2)}function Yv(t,e){return V_((t=Bv(t)).getUTCFullYear()%100,e,2)}function qv(t,e){return V_(t.getUTCFullYear()%1e4,e,4)}function Xv(t,e){var n=t.getUTCDay();return V_((t=n>=4||0===n?u_(t):u_.ceil(t)).getUTCFullYear()%1e4,e,4)}function $v(){return"+0000"}function Kv(){return"%"}function Zv(t){return+t}function Qv(t){return Math.floor(+t/1e3)}function Jv(t){return P_=A_(t),R_=P_.format,I_=P_.parse,D_=P_.utcFormat,L_=P_.utcParse,P_}function ty(t){return new Date(t)}function ey(t){return t instanceof Date?+t:+new Date(+t)}function ny(t,e,n,i,r,o,a,l,c){var h=Wg(),u=h.invert,d=h.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),_=c("%a %d"),v=c("%b %d"),y=c("%B"),b=c("%Y"),w=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function x(s){return(a(s)<s?f:o(s)<s?p:r(s)<s?g:i(s)<s?m:e(s)<s?n(s)<s?_:v:t(s)<s?y:b)(s)}function C(e,n,i){if(null==e&&(e=10),"number"==typeof e){var r,o=Math.abs(i-n)/e,a=s((function(t){return t[2]})).right(w,o);return a===w.length?(r=V(n/31536e6,i/31536e6,e),e=t):a?(r=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],e=a[0]):(r=Math.max(V(n,i,e),1),e=l),e.every(r)}return e}return h.invert=function(t){return new Date(u(t))},h.domain=function(t){return arguments.length?d(Array.from(t,ey)):d().map(ty)},h.ticks=function(t){var e,n=d(),i=n[0],r=n[n.length-1],s=r<i;return s&&(e=i,i=r,r=e),e=(e=C(t,i,r))?e.range(i,r+1):[],s?e.reverse():e},h.tickFormat=function(t,e){return null==e?x:c(e)},h.nice=function(t){var e=d();return(t=C(t,e[0],e[e.length-1]))?d(Kg(e,t)):h},h.copy=function(){return Ug(h,ny(t,e,n,i,r,o,a,l,c))},h}Jv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var iy=function(){return Ag.apply(ny(Sm,Mm,Pm,Ym,$m,Qm,e_,r_,R_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},ry=Cm((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),sy=ry,oy=ry.range,ay=Cm((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),ly=ay,cy=ay.range,hy=Cm((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),uy=hy,dy=hy.range,fy=function(){return Ag.apply(ny(S_,sy,a_,x_,ly,uy,e_,r_,D_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function py(){var t,e,n,i,r,s=0,o=1,a=zg,l=!1;function c(e){return isNaN(e=+e)?r:a(0===n?.5:(e=(i(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function h(t){return function(e){var n,i;return arguments.length?([n,i]=e,a=t(n,i),c):[a(0),a(1)]}}return c.domain=function(r){return arguments.length?([s,o]=r,t=i(s=+s),e=i(o=+o),n=t===e?0:1/(e-t),c):[s,o]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(a=t,c):a},c.range=h(ei),c.rangeRound=h(Hp),c.unknown=function(t){return arguments.length?(r=t,c):r},function(r){return i=r,t=r(s),e=r(o),n=t===e?0:1/(e-t),c}}function gy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function my(){var t=qg(py()(zg));return t.copy=function(){return gy(t,my())},Pg.apply(t,arguments)}function _y(){var t=im(py()).domain([1,10]);return t.copy=function(){return gy(t,_y()).base(t.base())},Pg.apply(t,arguments)}function vy(){var t=am(py());return t.copy=function(){return gy(t,vy()).constant(t.constant())},Pg.apply(t,arguments)}function yy(){var t=dm(py());return t.copy=function(){return gy(t,yy()).exponent(t.exponent())},Pg.apply(t,arguments)}function by(){return yy.apply(null,arguments).exponent(.5)}function wy(){var t=[],e=zg;function n(n){if(!isNaN(n=+n))return e((u(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(n,i)=>q(t,i/e))},n.copy=function(){return wy(e).domain(t)},Pg.apply(n,arguments)}function xy(){var t,e,n,i,r,s,o,a=0,l=.5,c=1,h=1,u=zg,d=!1;function f(t){return isNaN(t=+t)?o:(t=.5+((t=+s(t))-e)*(h*t<h*e?i:r),u(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,i,r;return arguments.length?([n,i,r]=e,u=eg(t,[n,i,r]),f):[u(0),u(.5),u(1)]}}return f.domain=function(o){return arguments.length?([a,l,c]=o,t=s(a=+a),e=s(l=+l),n=s(c=+c),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),h=e<t?-1:1,f):[a,l,c]},f.clamp=function(t){return arguments.length?(d=!!t,f):d},f.interpolator=function(t){return arguments.length?(u=t,f):u},f.range=p(ei),f.rangeRound=p(Hp),f.unknown=function(t){return arguments.length?(o=t,f):o},function(o){return s=o,t=o(a),e=o(l),n=o(c),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),h=e<t?-1:1,f}}function Cy(){var t=qg(xy()(zg));return t.copy=function(){return gy(t,Cy())},Pg.apply(t,arguments)}function Oy(){var t=im(xy()).domain([.1,1,10]);return t.copy=function(){return gy(t,Oy()).base(t.base())},Pg.apply(t,arguments)}function Sy(){var t=am(xy());return t.copy=function(){return gy(t,Sy()).constant(t.constant())},Pg.apply(t,arguments)}function ky(){var t=dm(xy());return t.copy=function(){return gy(t,ky()).exponent(t.exponent())},Pg.apply(t,arguments)}function Ey(){return ky.apply(null,arguments).exponent(.5)}var My=n("fAyM"),Ty=function(t){return Ke(Le(t).call(document.documentElement))},Ay=0;function Py(){return new Ry}function Ry(){this._="@"+(++Ay).toString(36)}Ry.prototype=Py.prototype={constructor:Ry,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Iy=function(t,e){return t.target&&(t=ni(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>ii(t,e))},Dy=function(t){return"string"==typeof t?new qe([document.querySelectorAll(t)],[document.documentElement]):new qe([null==t?[]:jt(t)],Ye)},Ly=function(t){return function(){return t}},Fy=Math.abs,Ny=Math.atan2,jy=Math.cos,zy=Math.max,Vy=Math.min,By=Math.sin,Hy=Math.sqrt,Uy=Math.PI,Gy=Uy/2,Wy=2*Uy;function Yy(t){return t>1?0:t<-1?Uy:Math.acos(t)}function qy(t){return t>=1?Gy:t<=-1?-Gy:Math.asin(t)}function Xy(t){return t.innerRadius}function $y(t){return t.outerRadius}function Ky(t){return t.startAngle}function Zy(t){return t.endAngle}function Qy(t){return t&&t.padAngle}function Jy(t,e,n,i,r,s,o,a){var l=n-t,c=i-e,h=o-r,u=a-s,d=u*l-h*c;if(!(d*d<1e-12))return[t+(d=(h*(e-s)-u*(t-r))/d)*l,e+d*c]}function tb(t,e,n,i,r,s,o){var a=t-n,l=e-i,c=(o?s:-s)/Hy(a*a+l*l),h=c*l,u=-c*a,d=t+h,f=e+u,p=n+h,g=i+u,m=(d+p)/2,_=(f+g)/2,v=p-d,y=g-f,b=v*v+y*y,w=r-s,x=d*g-p*f,C=(y<0?-1:1)*Hy(zy(0,w*w*b-x*x)),O=(x*y-v*C)/b,S=(-x*v-y*C)/b,k=(x*y+v*C)/b,E=(-x*v+y*C)/b,M=O-m,T=S-_,A=k-m,P=E-_;return M*M+T*T>A*A+P*P&&(O=k,S=E),{cx:O,cy:S,x01:-h,y01:-u,x11:O*(r/w-1),y11:S*(r/w-1)}}var eb=function(){var t=Xy,e=$y,n=Ly(0),i=null,r=Ky,s=Zy,o=Qy,a=null;function l(){var l,c,h=+t.apply(this,arguments),u=+e.apply(this,arguments),d=r.apply(this,arguments)-Gy,f=s.apply(this,arguments)-Gy,p=Fy(f-d),g=f>d;if(a||(a=l=gs()),u<h&&(c=u,u=h,h=c),u>1e-12)if(p>Wy-1e-12)a.moveTo(u*jy(d),u*By(d)),a.arc(0,0,u,d,f,!g),h>1e-12&&(a.moveTo(h*jy(f),h*By(f)),a.arc(0,0,h,f,d,g));else{var m,_,v=d,y=f,b=d,w=f,x=p,C=p,O=o.apply(this,arguments)/2,S=O>1e-12&&(i?+i.apply(this,arguments):Hy(h*h+u*u)),k=Vy(Fy(u-h)/2,+n.apply(this,arguments)),E=k,M=k;if(S>1e-12){var T=qy(S/h*By(O)),A=qy(S/u*By(O));(x-=2*T)>1e-12?(b+=T*=g?1:-1,w-=T):(x=0,b=w=(d+f)/2),(C-=2*A)>1e-12?(v+=A*=g?1:-1,y-=A):(C=0,v=y=(d+f)/2)}var P=u*jy(v),R=u*By(v),I=h*jy(w),D=h*By(w);if(k>1e-12){var L,F=u*jy(y),N=u*By(y),j=h*jy(b),z=h*By(b);if(p<Uy&&(L=Jy(P,R,j,z,F,N,I,D))){var V=P-L[0],B=R-L[1],H=F-L[0],U=N-L[1],G=1/By(Yy((V*H+B*U)/(Hy(V*V+B*B)*Hy(H*H+U*U)))/2),W=Hy(L[0]*L[0]+L[1]*L[1]);E=Vy(k,(h-W)/(G-1)),M=Vy(k,(u-W)/(G+1))}}C>1e-12?M>1e-12?(m=tb(j,z,P,R,u,M,g),_=tb(F,N,I,D,u,M,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),M<k?a.arc(m.cx,m.cy,M,Ny(m.y01,m.x01),Ny(_.y01,_.x01),!g):(a.arc(m.cx,m.cy,M,Ny(m.y01,m.x01),Ny(m.y11,m.x11),!g),a.arc(0,0,u,Ny(m.cy+m.y11,m.cx+m.x11),Ny(_.cy+_.y11,_.cx+_.x11),!g),a.arc(_.cx,_.cy,M,Ny(_.y11,_.x11),Ny(_.y01,_.x01),!g))):(a.moveTo(P,R),a.arc(0,0,u,v,y,!g)):a.moveTo(P,R),h>1e-12&&x>1e-12?E>1e-12?(m=tb(I,D,F,N,h,-E,g),_=tb(P,R,j,z,h,-E,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),E<k?a.arc(m.cx,m.cy,E,Ny(m.y01,m.x01),Ny(_.y01,_.x01),!g):(a.arc(m.cx,m.cy,E,Ny(m.y01,m.x01),Ny(m.y11,m.x11),!g),a.arc(0,0,h,Ny(m.cy+m.y11,m.cx+m.x11),Ny(_.cy+_.y11,_.cx+_.x11),g),a.arc(_.cx,_.cy,E,Ny(_.y11,_.x11),Ny(_.y01,_.x01),!g))):a.arc(0,0,h,w,b,g):a.lineTo(I,D)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-Uy/2;return[jy(i)*n,By(i)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Ly(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Ly(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Ly(+t),l):n},l.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ly(+t),l):i},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ly(+t),l):r},l.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:Ly(+t),l):s},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ly(+t),l):o},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l},nb=Array.prototype.slice,ib=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function rb(t){this._context=t}rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var sb=function(t){return new rb(t)};function ob(t){return t[0]}function ab(t){return t[1]}var lb=function(t,e){var n=Ly(!0),i=null,r=sb,s=null;function o(o){var a,l,c,h=(o=ib(o)).length,u=!1;for(null==i&&(s=r(c=gs())),a=0;a<=h;++a)!(a<h&&n(l=o[a],a,o))===u&&((u=!u)?s.lineStart():s.lineEnd()),u&&s.point(+t(l,a,o),+e(l,a,o));if(c)return s=null,c+""||null}return t="function"==typeof t?t:void 0===t?ob:Ly(t),e="function"==typeof e?e:void 0===e?ab:Ly(e),o.x=function(e){return arguments.length?(t="function"==typeof e?e:Ly(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Ly(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ly(!!t),o):n},o.curve=function(t){return arguments.length?(r=t,null!=i&&(s=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=s=null:s=r(i=t),o):i},o},cb=function(t,e,n){var i=null,r=Ly(!0),s=null,o=sb,a=null;function l(l){var c,h,u,d,f,p=(l=ib(l)).length,g=!1,m=new Array(p),_=new Array(p);for(null==s&&(a=o(f=gs())),c=0;c<=p;++c){if(!(c<p&&r(d=l[c],c,l))===g)if(g=!g)h=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),u=c-1;u>=h;--u)a.point(m[u],_[u]);a.lineEnd(),a.areaEnd()}g&&(m[c]=+t(d,c,l),_[c]=+e(d,c,l),a.point(i?+i(d,c,l):m[c],n?+n(d,c,l):_[c]))}if(f)return a=null,f+""||null}function c(){return lb().defined(r).curve(o).context(s)}return t="function"==typeof t?t:void 0===t?ob:Ly(+t),e="function"==typeof e?e:Ly(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?ab:Ly(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:Ly(+e),i=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Ly(+e),l):t},l.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ly(+t),l):i},l.y=function(t){return arguments.length?(e="function"==typeof t?t:Ly(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:Ly(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Ly(+t),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(i).y(e)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:Ly(!!t),l):r},l.curve=function(t){return arguments.length?(o=t,null!=s&&(a=o(s)),l):o},l.context=function(t){return arguments.length?(null==t?s=a=null:a=o(s=t),l):s},l},hb=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ub=function(t){return t},db=function(){var t=ub,e=hb,n=null,i=Ly(0),r=Ly(Wy),s=Ly(0);function o(o){var a,l,c,h,u,d=(o=ib(o)).length,f=0,p=new Array(d),g=new Array(d),m=+i.apply(this,arguments),_=Math.min(Wy,Math.max(-Wy,r.apply(this,arguments)-m)),v=Math.min(Math.abs(_)/d,s.apply(this,arguments)),y=v*(_<0?-1:1);for(a=0;a<d;++a)(u=g[p[a]=a]=+t(o[a],a,o))>0&&(f+=u);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(o[t],o[e])})),a=0,c=f?(_-d*y)/f:0;a<d;++a,m=h)g[l=p[a]]={data:o[l],index:a,value:u=g[l],startAngle:m,endAngle:h=m+(u>0?u*c:0)+y,padAngle:v};return g}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:Ly(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ly(+t),o):i},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ly(+t),o):r},o.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:Ly(+t),o):s},o},fb=gb(sb);function pb(t){this._curve=t}function gb(t){function e(e){return new pb(t(e))}return e._curve=t,e}function mb(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(gb(t)):e()._curve},t}pb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var _b=function(){return mb(lb().curve(fb))},vb=function(){var t=cb().curve(fb),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return mb(n())},delete t.lineX0,t.lineEndAngle=function(){return mb(i())},delete t.lineX1,t.lineInnerRadius=function(){return mb(r())},delete t.lineY0,t.lineOuterRadius=function(){return mb(s())},delete t.lineY1,t.curve=function(t){return arguments.length?e(gb(t)):e()._curve},t},yb=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]};function bb(t){return t.source}function wb(t){return t.target}function xb(t){var e=bb,n=wb,i=ob,r=ab,s=null;function o(){var o,a=nb.call(arguments),l=e.apply(this,a),c=n.apply(this,a);if(s||(s=o=gs()),t(s,+i.apply(this,(a[0]=l,a)),+r.apply(this,a),+i.apply(this,(a[0]=c,a)),+r.apply(this,a)),o)return s=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(i="function"==typeof t?t:Ly(+t),o):i},o.y=function(t){return arguments.length?(r="function"==typeof t?t:Ly(+t),o):r},o.context=function(t){return arguments.length?(s=null==t?null:t,o):s},o}function Cb(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function Ob(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Sb(t,e,n,i,r){var s=yb(e,n),o=yb(e,n=(n+r)/2),a=yb(i,n),l=yb(i,r);t.moveTo(s[0],s[1]),t.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}function kb(){return xb(Cb)}function Eb(){return xb(Ob)}function Mb(){var t=xb(Sb);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Tb={draw:function(t,e){var n=Math.sqrt(e/Uy);t.moveTo(n,0),t.arc(0,0,n,0,Wy)}},Ab={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Pb=Math.sqrt(1/3),Rb=2*Pb,Ib={draw:function(t,e){var n=Math.sqrt(e/Rb),i=n*Pb;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Db=Math.sin(Uy/10)/Math.sin(7*Uy/10),Lb=Math.sin(Wy/10)*Db,Fb=-Math.cos(Wy/10)*Db,Nb={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=Lb*n,r=Fb*n;t.moveTo(0,-n),t.lineTo(i,r);for(var s=1;s<5;++s){var o=Wy*s/5,a=Math.cos(o),l=Math.sin(o);t.lineTo(l*n,-a*n),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},jb={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},zb=Math.sqrt(3),Vb={draw:function(t,e){var n=-Math.sqrt(e/(3*zb));t.moveTo(0,2*n),t.lineTo(-zb*n,-n),t.lineTo(zb*n,-n),t.closePath()}},Bb=Math.sqrt(3)/2,Hb=1/Math.sqrt(12),Ub=3*(Hb/2+1),Gb={draw:function(t,e){var n=Math.sqrt(e/Ub),i=n/2,r=n*Hb,s=i,o=n*Hb+n,a=-s,l=o;t.moveTo(i,r),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(-.5*i-Bb*r,Bb*i+-.5*r),t.lineTo(-.5*s-Bb*o,Bb*s+-.5*o),t.lineTo(-.5*a-Bb*l,Bb*a+-.5*l),t.lineTo(-.5*i+Bb*r,-.5*r-Bb*i),t.lineTo(-.5*s+Bb*o,-.5*o-Bb*s),t.lineTo(-.5*a+Bb*l,-.5*l-Bb*a),t.closePath()}},Wb=[Tb,Ab,Ib,jb,Nb,Vb,Gb],Yb=function(t,e){var n=null;function i(){var i;if(n||(n=i=gs()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:Ly(t||Tb),e="function"==typeof e?e:Ly(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"==typeof e?e:Ly(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:Ly(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},qb=function(){};function Xb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $b(t){this._context=t}$b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Kb=function(t){return new $b(t)};function Zb(t){this._context=t}Zb.prototype={areaStart:qb,areaEnd:qb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Qb=function(t){return new Zb(t)};function Jb(t){this._context=t}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Xb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var tw=function(t){return new Jb(t)};function ew(t,e){this._basis=new $b(t),this._beta=e}ew.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],s=e[0],o=t[n]-r,a=e[n]-s,l=-1;++l<=n;)this._basis.point(this._beta*t[l]+(1-this._beta)*(r+(i=l/n)*o),this._beta*e[l]+(1-this._beta)*(s+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var nw=function t(e){function n(t){return 1===e?new $b(t):new ew(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function iw(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function rw(t,e){this._context=t,this._k=(1-e)/6}rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:iw(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:iw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sw=function t(e){function n(t){return new rw(t,e)}return n.tension=function(e){return t(+e)},n}(0);function ow(t,e){this._context=t,this._k=(1-e)/6}ow.prototype={areaStart:qb,areaEnd:qb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:iw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var aw=function t(e){function n(t){return new ow(t,e)}return n.tension=function(e){return t(+e)},n}(0);function lw(t,e){this._context=t,this._k=(1-e)/6}lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cw=function t(e){function n(t){return new lw(t,e)}return n.tension=function(e){return t(+e)},n}(0);function hw(t,e,n){var i=t._x1,r=t._y1,s=t._x2,o=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/h,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(i,r,s,o,t._x2,t._y2)}function uw(t,e){this._context=t,this._alpha=e}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:hw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var dw=function t(e){function n(t){return e?new uw(t,e):new rw(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function fw(t,e){this._context=t,this._alpha=e}fw.prototype={areaStart:qb,areaEnd:qb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:hw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var pw=function t(e){function n(t){return e?new fw(t,e):new ow(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function gw(t,e){this._context=t,this._alpha=e}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mw=function t(e){function n(t){return e?new gw(t,e):new lw(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function _w(t){this._context=t}_w.prototype={areaStart:qb,areaEnd:qb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var vw=function(t){return new _w(t)};function yw(t){return t<0?-1:1}function bw(t,e,n){var i=t._x1-t._x0,r=e-t._x1,s=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),a=(s*r+o*i)/(i+r);return(yw(s)+yw(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function ww(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xw(t,e,n){var i=t._x0,r=t._x1,s=t._y1,o=(r-i)/3;t._context.bezierCurveTo(i+o,t._y0+o*e,r-o,s-o*n,r,s)}function Cw(t){this._context=t}function Ow(t){this._context=new Sw(t)}function Sw(t){this._context=t}function kw(t){return new Cw(t)}function Ew(t){return new Ow(t)}function Mw(t){this._context=t}function Tw(t){var e,n,i=t.length-1,r=new Array(i),s=new Array(i),o=new Array(i);for(r[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,s[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)s[e]-=n=r[e]/s[e-1],o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/s[i-1],e=i-2;e>=0;--e)r[e]=(o[e]-r[e+1])/s[e];for(s[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)s[e]=2*t[e+1]-r[e+1];return[r,s]}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xw(this,this._t0,ww(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xw(this,ww(this,n=bw(this,t,e)),n);break;default:xw(this,this._t0,n=bw(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ow.prototype=Object.create(Cw.prototype)).point=function(t,e){Cw.prototype.point.call(this,e,t)},Sw.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,s){this._context.bezierCurveTo(e,t,i,n,s,r)}},Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Tw(t),r=Tw(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Aw=function(t){return new Mw(t)};function Pw(t,e){this._context=t,this._t=e}Pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Rw=function(t){return new Pw(t,.5)};function Iw(t){return new Pw(t,0)}function Dw(t){return new Pw(t,1)}var Lw=function(t,e){if((r=t.length)>1)for(var n,i,r,s=1,o=t[e[0]],a=o.length;s<r;++s)for(i=o,o=t[e[s]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},Fw=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function Nw(t,e){return t[e]}function jw(t){const e=[];return e.key=t,e}var zw=function(){var t=Ly([]),e=Fw,n=Lw,i=Nw;function r(r){var s,o,a=Array.from(t.apply(this,arguments),jw),l=a.length,c=-1;for(const t of r)for(s=0,++c;s<l;++s)(a[s][c]=[0,+i(t,a[s].key,c,r)]).data=t;for(s=0,o=ib(e(a));s<l;++s)a[o[s]].index=s;return n(a,o),a}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:Ly(Array.from(e)),r):t},r.value=function(t){return arguments.length?(i="function"==typeof t?t:Ly(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?Fw:"function"==typeof t?t:Ly(Array.from(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?Lw:t,r):n},r},Vw=function(t,e){if((i=t.length)>0){for(var n,i,r,s=0,o=t[0].length;s<o;++s){for(r=n=0;n<i;++n)r+=t[n][s][1]||0;if(r)for(n=0;n<i;++n)t[n][s][1]/=r}Lw(t,e)}},Bw=function(t,e){if((a=t.length)>0)for(var n,i,r,s,o,a,l=0,c=t[e[0]].length;l<c;++l)for(s=o=0,n=0;n<a;++n)(r=(i=t[e[n]][l])[1]-i[0])>0?(i[0]=s,i[1]=s+=r):r<0?(i[1]=o,i[0]=o+=r):(i[0]=0,i[1]=r)},Hw=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],s=r.length;i<s;++i){for(var o=0,a=0;o<n;++o)a+=t[o][i][1]||0;r[i][1]+=r[i][0]=-a/2}Lw(t,e)}},Uw=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,s=0,o=1;o<i;++o){for(var a=0,l=0,c=0;a<r;++a){for(var h=t[e[a]],u=h[o][1]||0,d=(u-(h[o-1][1]||0))/2,f=0;f<a;++f){var p=t[e[f]];d+=(p[o][1]||0)-(p[o-1][1]||0)}l+=u,c+=d*u}n[o-1][1]+=n[o-1][0]=s,l&&(s-=c/l)}n[o-1][1]+=n[o-1][0]=s,Lw(t,e)}},Gw=function(t){var e=t.map(Ww);return Fw(t).sort((function(t,n){return e[t]-e[n]}))};function Ww(t){for(var e,n=-1,i=0,r=t.length,s=-1/0;++n<r;)(e=+t[n][1])>s&&(s=e,i=n);return i}var Yw=function(t){var e=t.map(qw);return Fw(t).sort((function(t,n){return e[t]-e[n]}))};function qw(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}var Xw=function(t){return Yw(t).reverse()},$w=function(t){var e,n,i=t.length,r=t.map(qw),s=Gw(t),o=0,a=0,l=[],c=[];for(e=0;e<i;++e)n=s[e],o<a?(o+=r[n],l.push(n)):(a+=r[n],c.push(n));return c.reverse().concat(l)},Kw=function(t){return Fw(t).reverse()},Zw=Date.prototype.toISOString?function(t){return t.toISOString()}:D_("%Y-%m-%dT%H:%M:%S.%LZ"),Qw=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:L_("%Y-%m-%dT%H:%M:%S.%LZ"),Jw=function(t,e,n){var i=new pi,r=e;return null==e?(i.restart(t,e,n),i):(i._restart=i.restart,i.restart=function(t,e,n){e=+e,n=null==n?di():+n,i._restart((function s(o){o+=r,i._restart(s,r+=e,n),t(o)}),e,n)},i.restart(t,e,n),i)},tx=t=>()=>t;function ex(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function nx(t,e,n){this.k=t,this.x=e,this.y=n}nx.prototype={constructor:nx,scale:function(t){return 1===t?this:new nx(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new nx(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ix=new nx(1,0,0);function rx(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ix;return t.__zoom}function sx(t){t.stopImmediatePropagation()}rx.prototype=nx.prototype;var ox=function(t){t.preventDefault(),t.stopImmediatePropagation()};function ax(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function lx(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function cx(){return this.__zoom||ix}function hx(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ux(){return navigator.maxTouchPoints||"ontouchstart"in this}function dx(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}var fx=function(){var t,e,n,i=ax,r=lx,s=dx,o=hx,a=ux,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],h=250,u=Gp,d=Lt("start","zoom","end"),f=0,p=10;function g(t){t.property("__zoom",cx).on("wheel.zoom",x).on("mousedown.zoom",C).on("dblclick.zoom",O).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new nx(e,t.x,t.y)}function _(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new nx(t.k,i,r)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n,i){t.on("start.zoom",(function(){b(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,s=arguments,o=b(t,s).event(i),a=r.apply(t,s),l=null==n?v(a):"function"==typeof n?n.apply(t,s):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),h=t.__zoom,d="function"==typeof e?e.apply(t,s):e,f=u(h.invert(l).concat(c/h.k),d.invert(l).concat(c/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=c/e[2];t=new nx(n,l[0]-e[0]*n,l[1]-e[1]*n)}o.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=r.apply(t,e),this.taps=0}function x(t,...e){if(i.apply(this,arguments)){var n=b(this,e).event(t),r=this.__zoom,a=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,o.apply(this,arguments)))),h=ii(t);if(n.wheel)n.mouse[0][0]===h[0]&&n.mouse[0][1]===h[1]||(n.mouse[1]=r.invert(n.mouse[0]=h)),clearTimeout(n.wheel);else{if(r.k===a)return;n.mouse=[h,r.invert(h)],Mi(this),n.start()}ox(t),n.wheel=setTimeout(u,150),n.zoom("mouse",s(_(m(r,a),n.mouse[0],n.mouse[1]),n.extent,c))}function u(){n.wheel=null,n.end()}}function C(t,...e){if(!n&&i.apply(this,arguments)){var r=b(this,e,!0).event(t),o=Ke(t.view).on("mousemove.zoom",d,!0).on("mouseup.zoom",p,!0),a=ii(t,l),l=t.currentTarget,h=t.clientX,u=t.clientY;Je(t.view),sx(t),r.mouse=[a,this.__zoom.invert(a)],Mi(this),r.start()}function d(t){if(ox(t),!r.moved){var e=t.clientX-h,n=t.clientY-u;r.moved=e*e+n*n>f}r.event(t).zoom("mouse",s(_(r.that.__zoom,r.mouse[0]=ii(t,l),r.mouse[1]),r.extent,c))}function p(t){o.on("mousemove.zoom mouseup.zoom",null),tn(t.view,r.moved),ox(t),r.event(t).end()}}function O(t,...e){if(i.apply(this,arguments)){var n=this.__zoom,o=ii(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(o),l=n.k*(t.shiftKey?.5:2),u=s(_(m(n,l),o,a),r.apply(this,e),c);ox(t),h>0?Ke(this).transition().duration(h).call(y,u,o,t):Ke(this).call(g.transform,u,o,t)}}function S(n,...r){if(i.apply(this,arguments)){var s,o,a,l,c=n.touches,h=c.length,u=b(this,r,n.changedTouches.length===h).event(n);for(sx(n),o=0;o<h;++o)l=[l=ii(a=c[o],this),this.__zoom.invert(l),a.identifier],u.touch0?u.touch1||u.touch0[2]===l[2]||(u.touch1=l,u.taps=0):(u.touch0=l,s=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),s&&(u.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),500)),Mi(this),u.start())}}function k(t,...e){if(this.__zooming){var n,i,r,o,a=b(this,e).event(t),l=t.changedTouches,h=l.length;for(ox(t),n=0;n<h;++n)r=ii(i=l[n],this),a.touch0&&a.touch0[2]===i.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===i.identifier&&(a.touch1[0]=r);if(i=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],f=a.touch1[0],p=a.touch1[1],g=(g=f[0]-u[0])*g+(g=f[1]-u[1])*g,v=(v=p[0]-d[0])*v+(v=p[1]-d[1])*v;i=m(i,Math.sqrt(g/v)),r=[(u[0]+f[0])/2,(u[1]+f[1])/2],o=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",s(_(i,r,o),a.extent,c))}}function E(t,...i){if(this.__zooming){var r,s,o=b(this,i).event(t),a=t.changedTouches,l=a.length;for(sx(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),r=0;r<l;++r)s=a[r],o.touch0&&o.touch0[2]===s.identifier?delete o.touch0:o.touch1&&o.touch1[2]===s.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(s=ii(s,this),Math.hypot(e[0]-s[0],e[1]-s[1])<p)){var c=Ke(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(t,e,n,i){var r=t.selection?t.selection():t;r.property("__zoom",cx),t!==r?y(t,e,n,i):r.interrupt().each((function(){b(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,i){g.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,i)},g.scaleTo=function(t,e,n,i){g.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,o=null==n?v(t):"function"==typeof n?n.apply(this,arguments):n,a=i.invert(o),l="function"==typeof e?e.apply(this,arguments):e;return s(_(m(i,l),o,a),t,c)}),n,i)},g.translateBy=function(t,e,n,i){g.transform(t,(function(){return s(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,i)},g.translateTo=function(t,e,n,i,o){g.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==i?v(t):"function"==typeof i?i.apply(this,arguments):i;return s(ix.translate(a[0],a[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),i,o)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Ke(this.that).datum();d.call(t,this.that,new ex(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:d}),e)}},g.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:tx(+t),g):o},g.filter=function(t){return arguments.length?(i="function"==typeof t?t:tx(!!t),g):i},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:tx(!!t),g):a},g.extent=function(t){return arguments.length?(r="function"==typeof t?t:tx([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],g):[l[0],l[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(s=t,g):s},g.duration=function(t){return arguments.length?(h=+t,g):h},g.interpolate=function(t){return arguments.length?(u=t,g):u},g.on=function(){var t=d.on.apply(d,arguments);return t===d?g:t},g.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,g):Math.sqrt(f)},g.tapDistance=function(t){return arguments.length?(p=+t,g):p},g}},cE1l:function(t,e,n){"use strict";e.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},cTWw:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o}));var i=n("HxX+"),r=n("I/d5");function s(t,e,n,s,o,a,l){for(var c,h,u,d,f,p,g,m=o[a+1],_=[],v=0,y=n.length;v<y;++v){var b=n[v];for(d=t[b-s],p=t[b-s+1],c=e;c<b;c+=s)f=t[c],g=t[c+1],(m<=p&&g<=m||p<=m&&m<=g)&&_.push(u=(m-p)/(g-p)*(f-d)+d),d=f,p=g}var w=NaN,x=-1/0;for(_.sort(r.f),d=_[0],c=1,h=_.length;c<h;++c){f=_[c];var C=Math.abs(f-d);C>x&&(u=(d+f)/2,Object(i.c)(t,e,n,s,u,m)&&(w=u,x=C)),d=f}return isNaN(w)&&(w=o[a]),l?(l.push(w,m,x),l):[w,m,x]}function o(t,e,n,i,r){for(var o=[],a=0,l=n.length;a<l;++a){var c=n[a];o=s(t,e,c,i,r,2*a,o),e=c[c.length-1]}return o}},d4DS:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},dMtP:function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return g}));var i=n("SmDS"),r=n("Fe00"),s=n("zYA+"),o=n("ejHg"),a=n("A5l+"),l=n("vog+"),c=n("yAfB");function h(t){var e=t.getDefaultTileGrid();return e||(e=p(t),t.setDefaultTileGrid(e)),e}function u(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),s=g(n);if(Object(l.f)(s,r))return e;var o=Object(l.E)(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,t.getTileCoordForCoordAndZ(r,i)}function d(t){var e=t||{},n=e.extent||Object(a.g)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:f(n,e.maxZoom,e.tileSize,e.maxResolution)};return new r.a(i)}function f(t,e,n,i){for(var r=void 0!==e?e:o.a,s=Object(l.A)(t),a=Object(l.E)(t),h=Object(c.d)(void 0!==n?n:o.b),u=i>0?i:Math.max(a/h[0],s/h[1]),d=r+1,f=new Array(d),p=0;p<d;++p)f[p]=u/Math.pow(2,p);return f}function p(t,e,n,s){return function(t,e,n,s){var o=void 0!==s?s:i.a.TOP_LEFT,a=f(t,e,n);return new r.a({extent:t,origin:Object(l.y)(t,o),resolutions:a,tileSize:n})}(g(t),e,n,s)}function g(t){var e=(t=Object(a.g)(t)).getExtent();if(!e){var n=180*a.a[s.b.DEGREES]/t.getMetersPerUnit();e=Object(l.k)(-n,-n,n,n)}return e}},dTzw:function(t,e,n){"use strict";var i,r=n("j/Z9"),s=n("4tNs"),o=n("d4DS"),a=n("gKRW"),l=n("SE7o"),c=n("SHzd"),h=n("XnQF"),u=n("jekj"),d=n("nKUj"),f=n("guOO"),p=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=null,m=function(t){function e(e,n,i,r,s,o){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==r&&(a.image_.crossOrigin=r),a.canvas_={},a.color_=o,a.unlisten_=null,a.imageState_=s,a.size_=i,a.src_=n,a}return p(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===o.a.LOADED){g||(g=Object(u.a)(1,1)),g.drawImage(this.image_,0,0);try{g.getImageData(0,0,1,1),this.tainted_=!1}catch(t){g=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(r.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=o.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=o.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Object(u.a)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==o.a.IDLE){this.imageState_=o.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(f.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Object(l.b)(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,e.width,e.height),r=i.data,s=this.color_[0]/255,o=this.color_[1]/255,a=this.color_[2]/255,c=this.color_[3],h=0,u=r.length;h<u;h+=4)r[h]*=s,r[h+1]*=o,r[h+2]*=a,r[h+3]*=c;n.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(h.a),_=n("lRKV"),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:s.a.FRACTION,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:s.a.FRACTION,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var r=void 0!==i.img?i.img:null,a=void 0!==i.imgSize?i.imgSize:null,h=i.src;Object(c.a)(!(void 0!==h&&r),4),Object(c.a)(!r||r&&a,5),void 0!==h&&0!==h.length||!r||(h=r.src||Object(_.c)(r)),Object(c.a)(void 0!==h&&h.length>0,6);var u=void 0!==i.src?o.a.IDLE:o.a.LOADED;return n.color_=void 0!==i.color?Object(l.a)(i.color):null,n.iconImage_=function(t,e,n,i,r,s){var o=d.a.get(e,i,s);return o||(o=new m(t,e,n,i,r,s),d.a.set(e,i,s,o)),o}(r,h,a,n.crossOrigin_,u,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return v(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==s.a.FRACTION||this.anchorYUnits_==s.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==s.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==s.a.FRACTION&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-n[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-n[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(r.a.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(r.a.CHANGE,t)},e}(a.a);e.a=y},dUGv:function(t,e,n){"use strict";function i(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function r(t,e,n,i){for(var r=0,s=t[n-i],o=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=(a-s)*(l+o),s=a,o=l}return 0===r?void 0:r>0}function s(t,e,n,i,s){for(var o=void 0!==s&&s,a=0,l=n.length;a<l;++a){var c=n[a],h=r(t,e,c,i);if(0===a){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;e=c}return!0}function o(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var l=n[o];if(!s(t,e,l,i,r))return!1;l.length&&(e=l[l.length-1])}return!0}function a(t,e,n,s,o){for(var a=void 0!==o&&o,l=0,c=n.length;l<c;++l){var h=n[l],u=r(t,e,h,s);(0===l?a&&u||!a&&!u:a&&!u||!a&&u)&&i(t,e,h,s),e=h}return e}function l(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s)e=a(t,e,n[s],i,r);return e}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return l}))},eTvN:function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return h}));var i=n("0eRI");function r(t,e,n,r,s,o,a){var l,c=t[e],h=t[e+1],u=t[n]-c,d=t[n+1]-h;if(0===u&&0===d)l=e;else{var f=((s-c)*u+(o-h)*d)/(u*u+d*d);if(f>1)l=n;else{if(f>0){for(var p=0;p<r;++p)a[p]=Object(i.c)(t[e+p],t[n+p],f);return void(a.length=r)}l=e}}for(p=0;p<r;++p)a[p]=t[l+p];a.length=r}function s(t,e,n,r,s){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var l=t[e],c=t[e+1],h=Object(i.g)(o,a,l,c);h>s&&(s=h),o=l,a=c}return s}function o(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var l=n[o];r=s(t,e,l,i,r),e=l}return r}function a(t,e,n,i,r){for(var s=0,a=n.length;s<a;++s){var l=n[s];r=o(t,e,l,i,r),e=l[l.length-1]}return r}function l(t,e,n,s,o,a,l,c,h,u,d){if(e==n)return u;var f,p;if(0===o){if((p=Object(i.g)(l,c,t[e],t[e+1]))<u){for(f=0;f<s;++f)h[f]=t[e+f];return h.length=s,p}return u}for(var g=d||[NaN,NaN],m=e+s;m<n;)if(r(t,m-s,m,s,l,c,g),(p=Object(i.g)(l,c,g[0],g[1]))<u){for(u=p,f=0;f<s;++f)h[f]=g[f];h.length=s,m+=s}else m+=s*Math.max((Math.sqrt(p)-Math.sqrt(u))/o|0,1);if(a&&(r(t,n-s,e,s,l,c,g),(p=Object(i.g)(l,c,g[0],g[1]))<u)){for(u=p,f=0;f<s;++f)h[f]=g[f];h.length=s}return u}function c(t,e,n,i,r,s,o,a,c,h,u){for(var d=u||[NaN,NaN],f=0,p=n.length;f<p;++f){var g=n[f];h=l(t,e,g,i,r,s,o,a,c,h,d),e=g}return h}function h(t,e,n,i,r,s,o,a,l,h,u){for(var d=u||[NaN,NaN],f=0,p=n.length;f<p;++f){var g=n[f];h=c(t,e,g,i,r,s,o,a,l,h,d),e=g[g.length-1]}return h}},eXX1:function(t,e,n){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},ejHg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=42,r=256},fAyM:function(t,e,n){"use strict";n.d(e,"R",(function(){return r})),n.d(e,"M",(function(){return s})),n.d(e,"S",(function(){return o})),n.d(e,"Z",(function(){return a})),n.d(e,"ab",(function(){return l})),n.d(e,"bb",(function(){return c})),n.d(e,"ob",(function(){return h})),n.d(e,"pb",(function(){return u})),n.d(e,"qb",(function(){return d})),n.d(e,"sb",(function(){return f})),n.d(e,"b",(function(){return m})),n.d(e,"O",(function(){return g})),n.d(e,"o",(function(){return v})),n.d(e,"Y",(function(){return _})),n.d(e,"p",(function(){return b})),n.d(e,"cb",(function(){return y})),n.d(e,"t",(function(){return x})),n.d(e,"fb",(function(){return w})),n.d(e,"x",(function(){return O})),n.d(e,"ib",(function(){return C})),n.d(e,"y",(function(){return k})),n.d(e,"jb",(function(){return S})),n.d(e,"A",(function(){return M})),n.d(e,"lb",(function(){return E})),n.d(e,"B",(function(){return A})),n.d(e,"mb",(function(){return T})),n.d(e,"E",(function(){return P.a})),n.d(e,"rb",(function(){return P.b})),n.d(e,"c",(function(){return I})),n.d(e,"P",(function(){return R})),n.d(e,"d",(function(){return L})),n.d(e,"Q",(function(){return D})),n.d(e,"h",(function(){return N})),n.d(e,"T",(function(){return F})),n.d(e,"m",(function(){return z})),n.d(e,"W",(function(){return j})),n.d(e,"s",(function(){return B})),n.d(e,"eb",(function(){return V})),n.d(e,"r",(function(){return U})),n.d(e,"db",(function(){return H})),n.d(e,"u",(function(){return W})),n.d(e,"gb",(function(){return G})),n.d(e,"z",(function(){return Y.a})),n.d(e,"kb",(function(){return Y.b})),n.d(e,"J",(function(){return X})),n.d(e,"ub",(function(){return q})),n.d(e,"I",(function(){return K})),n.d(e,"tb",(function(){return $})),n.d(e,"K",(function(){return Q})),n.d(e,"vb",(function(){return Z})),n.d(e,"L",(function(){return tt})),n.d(e,"wb",(function(){return J})),n.d(e,"a",(function(){return nt})),n.d(e,"N",(function(){return et})),n.d(e,"i",(function(){return rt})),n.d(e,"U",(function(){return it})),n.d(e,"j",(function(){return ot})),n.d(e,"V",(function(){return st})),n.d(e,"v",(function(){return lt})),n.d(e,"hb",(function(){return at})),n.d(e,"C",(function(){return ht})),n.d(e,"nb",(function(){return ct})),n.d(e,"n",(function(){return dt})),n.d(e,"X",(function(){return ut})),n.d(e,"e",(function(){return ft})),n.d(e,"g",(function(){return Rt})),n.d(e,"w",(function(){return Ft})),n.d(e,"H",(function(){return It})),n.d(e,"f",(function(){return Dt})),n.d(e,"D",(function(){return Vt})),n.d(e,"F",(function(){return Bt})),n.d(e,"G",(function(){return Ut})),n.d(e,"l",(function(){return Gt})),n.d(e,"k",(function(){return Wt})),n.d(e,"q",(function(){return Yt}));var i=n("7r0Z"),r=Object(i.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),s=Object(i.a)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o=Object(i.a)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),a=Object(i.a)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l=Object(i.a)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),c=Object(i.a)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),h=Object(i.a)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),u=Object(i.a)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),d=Object(i.a)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),f=Object(i.a)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),p=n("uVc0"),g=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(i.a),m=Object(p.a)(g),_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(i.a),v=Object(p.a)(_),y=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(i.a),b=Object(p.a)(y),w=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(i.a),x=Object(p.a)(w),C=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(i.a),O=Object(p.a)(C),S=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(i.a),k=Object(p.a)(S),E=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(i.a),M=Object(p.a)(E),T=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(i.a),A=Object(p.a)(T),P=n("AVlN"),R=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(i.a),I=Object(p.a)(R),D=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(i.a),L=Object(p.a)(D),F=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(i.a),N=Object(p.a)(F),j=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(i.a),z=Object(p.a)(j),V=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(i.a),B=Object(p.a)(V),H=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(i.a),U=Object(p.a)(H),G=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(i.a),W=Object(p.a)(G),Y=n("qr5x"),q=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(i.a),X=Object(p.a)(q),$=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(i.a),K=Object(p.a)($),Z=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(i.a),Q=Object(p.a)(Z),J=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(i.a),tt=Object(p.a)(J),et=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(i.a),nt=Object(p.a)(et),it=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(i.a),rt=Object(p.a)(it),st=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(i.a),ot=Object(p.a)(st),at=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(i.a),lt=Object(p.a)(at),ct=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(i.a),ht=Object(p.a)(ct),ut=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(i.a),dt=Object(p.a)(ut),ft=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},pt=n("AonO"),gt=n("PvqL"),mt=Math.PI/180,_t=180/Math.PI,vt=-.14861,yt=1.78277,bt=-.29227,wt=-.90649,xt=1.97294,Ct=xt*wt,Ot=xt*yt,St=yt*bt-wt*vt;function kt(t){if(t instanceof Mt)return new Mt(t.h,t.s,t.l,t.opacity);t instanceof gt.b||(t=Object(gt.g)(t));var e=t.g/255,n=t.b/255,i=(St*n+Ct*(t.r/255)-Ot*e)/(St+Ct-Ot),r=n-i,s=(xt*(e-i)-bt*r)/wt,o=Math.sqrt(s*s+r*r)/(xt*i*(1-i)),a=o?Math.atan2(s,r)*_t-120:NaN;return new Mt(a<0?a+360:a,o,i,t.opacity)}function Et(t,e,n,i){return 1===arguments.length?kt(t):new Mt(t,e,n,null==i?1:i)}function Mt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Object(pt.a)(Mt,Et,Object(pt.b)(gt.a,{brighter:function(t){return t=null==t?gt.c:Math.pow(gt.c,t),new Mt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?gt.d:Math.pow(gt.d,t),new Mt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*mt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new gt.b(255*(e+n*(vt*i+yt*r)),255*(e+n*(bt*i+wt*r)),255*(e+n*(xt*i)),this.opacity)}}));var Tt=n("Lgd7");function At(t){return function e(n){function i(e,i){var r=t((e=Et(e)).h,(i=Et(i)).h),s=Object(Tt.a)(e.s,i.s),o=Object(Tt.a)(e.l,i.l),a=Object(Tt.a)(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=s(t),e.l=o(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}At(Tt.c);var Pt=At(Tt.a),Rt=Pt(Et(300,.5,0),Et(-240,.5,1)),It=Pt(Et(-100,.75,.35),Et(80,1.5,.8)),Dt=Pt(Et(260,.75,.35),Et(80,1.5,.8)),Lt=Et(),Ft=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Lt.h=360*t-100,Lt.s=1.5-1.5*e,Lt.l=.8-.9*e,Lt+""},Nt=Object(gt.f)(),jt=Math.PI/3,zt=2*Math.PI/3,Vt=function(t){var e;return t=(.5-t)*Math.PI,Nt.r=255*(e=Math.sin(t))*e,Nt.g=255*(e=Math.sin(t+jt))*e,Nt.b=255*(e=Math.sin(t+zt))*e,Nt+""},Bt=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function Ht(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Ut=Ht(Object(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Gt=Ht(Object(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Wt=Ht(Object(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Yt=Ht(Object(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},fudy:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function r(t,e,n,r,s){return void 0!==s?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=r,s):new i(t,e,n,r)}e.b=i},fzNE:function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},gE76:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a}));var i=n("I/d5"),r=n("0eRI");function s(t,e,n,s,o,a,l){var c,h,u=(n-e)/s;if(1===u)c=e;else if(2===u)c=e,h=o;else if(0!==u){for(var d=t[e],f=t[e+1],p=0,g=[0],m=e+s;m<n;m+=s){var _=t[m],v=t[m+1];p+=Math.sqrt((_-d)*(_-d)+(v-f)*(v-f)),g.push(p),d=_,f=v}var y=o*p,b=Object(i.a)(g,y);b<0?(h=(y-g[-b-2])/(g[-b-1]-g[-b-2]),c=e+(-b-2)*s):c=e+b*s}var w=l>1?l:2,x=a||new Array(w);for(m=0;m<w;++m)x[m]=void 0===c?NaN:void 0===h?t[c+m]:Object(r.c)(t[c+m],t[c+s+m],h);return x}function o(t,e,n,i,s,o){if(n==e)return null;var a;if(s<t[e+i-1])return o?((a=t.slice(e,e+i))[i-1]=s,a):null;if(t[n-1]<s)return o?((a=t.slice(n-i,n))[i-1]=s,a):null;if(s==t[e+i-1])return t.slice(e,e+i);for(var l=e/i,c=n/i;l<c;){var h=l+c>>1;s<t[(h+1)*i-1]?c=h:l=h+1}var u=t[l*i-1];if(s==u)return t.slice((l-1)*i,(l-1)*i+i);var d=(s-u)/(t[(l+1)*i-1]-u);a=[];for(var f=0;f<i-1;++f)a.push(Object(r.c)(t[(l-1)*i+f],t[l*i+f],d));return a.push(s),a}function a(t,e,n,i,r,s,a){if(a)return o(t,e,n[n.length-1],i,r,s);var l;if(r<t[i-1])return s?((l=t.slice(0,i))[i-1]=r,l):null;if(t[t.length-1]<r)return s?((l=t.slice(t.length-i))[i-1]=r,l):null;for(var c=0,h=n.length;c<h;++c){var u=n[c];if(e!=u){if(r<t[e+i-1])return null;if(r<=t[u-1])return o(t,e,u,i,r,!1);e=u}}return null}},gKRW:function(t,e,n){"use strict";var i=n("lRKV"),r=n("yAfB"),s=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(r.d)(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Object(i.b)()},t.prototype.getImage=function(t){return Object(i.b)()},t.prototype.getHitDetectionImage=function(){return Object(i.b)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Object(i.b)()},t.prototype.getImageSize=function(){return Object(i.b)()},t.prototype.getHitDetectionImageSize=function(){return Object(i.b)()},t.prototype.getOrigin=function(){return Object(i.b)()},t.prototype.getSize=function(){return Object(i.b)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(r.d)(t)},t.prototype.listenImageChange=function(t){Object(i.b)()},t.prototype.load=function(){Object(i.b)()},t.prototype.unlistenImageChange=function(t){Object(i.b)()},t}();e.a=s},guOO:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i,r=n("j/Z9"),s=n("XnQF"),o=n("lRKV"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n,i,r){var s=t.call(this)||this;return s.extent=e,s.pixelRatio_=i,s.resolution=n,s.state=r,s}return a(e,t),e.prototype.changed=function(){this.dispatchEvent(r.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(o.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(o.b)()},e}(s.a),c=n("d4DS"),h=n("8JWR"),u=n("vog+"),d=n("HK6I"),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function p(t,e,n){var i=t;if(i.src&&h.c){var s=i.decode(),o=!0;return s.then((function(){o&&e()})).catch((function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())})),function(){o=!1}}var a=[Object(d.b)(i,r.a.LOAD,e),Object(d.b)(i,r.a.ERROR,n)];return function(){a.forEach(d.c)}}!function(t){function e(e,n,i,r,s,o){var a=t.call(this,e,n,i,c.a.IDLE)||this;return a.src_=r,a.image_=new Image,null!==s&&(a.image_.crossOrigin=s),a.unlisten_=null,a.state=c.a.IDLE,a.imageLoadFunction_=o,a}f(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=c.a.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(u.A)(this.extent)/this.image_.height),this.state=c.a.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=c.a.IDLE&&this.state!=c.a.ERROR||(this.state=c.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=p(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(l)},h7by:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a}));var i=n("I/d5");function r(){return!0}function s(){return!1}function o(){}function a(t){var e,n,r,s=!1;return function(){var o=Array.prototype.slice.call(arguments);return s&&this===r&&Object(i.b)(o,n)||(s=!0,r=this,n=o,e=t.apply(this,arguments)),e}}},h7wP:function(t,e,n){"use strict";t.exports=r;var i=n("1TxV");function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var s="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function o(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function l(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function c(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function y(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,s=this.pos;this.type=7&i,t(r,e,this),this.pos===s&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=v(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,s=n.buf;if(i=(112&(r=s[n.pos++]))>>4,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<3,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<10,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<17,r<128)return a(t,i,e);if(i|=(127&(r=s[n.pos++]))<<24,r<128)return a(t,i,e);if(i|=(1&(r=s[n.pos++]))<<31,r<128)return a(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&s?function(t,e,n){return s.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",r=e;r<n;){var s,o,a,l=t[r],c=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h>n)break;1===h?l<128&&(c=l):2===h?128==(192&(s=t[r+1]))&&(c=(31&l)<<6|63&s)<=127&&(c=null):3===h?(o=t[r+2],128==(192&(s=t[r+1]))&&128==(192&o)&&((c=(15&l)<<12|(63&s)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===h&&(o=t[r+2],a=t[r+3],128==(192&(s=t[r+1]))&&128==(192&o)&&128==(192&a)&&((c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,h=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=h}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==r.Bytes)return t.push(this.readVarint(e));var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==r.Bytes)return t.push(this.readSVarint());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==r.Bytes)return t.push(this.readBoolean());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==r.Bytes)return t.push(this.readFloat());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==r.Bytes)return t.push(this.readDouble());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==r.Bytes)return t.push(this.readSFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),y(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),y(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),y(this.buf,-1&t,this.pos),y(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),y(this.buf,-1&t,this.pos),y(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,s=0;s<e.length;s++){if((i=e.charCodeAt(s))>55295&&i<57344){if(!r){i>56319||s+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&l(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&l(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},hWN6:function(t,e,n){"use strict";n.d(e,"b",(function(){return C}));var i,r=n("YibT"),s=n("DiD3"),o=n("BatM"),a=n("eTvN"),l=n("vog+"),c=n("jL0/"),h=n("4Gx9"),u=n("jYAL"),d=n("ZJj2"),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return f(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(l.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,r.a.XY)},e.prototype.getType=function(){return s.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a),g=n("oVSo"),m=n("I/d5"),_=n("cTWw"),v=n("R1Jz"),y=n("dUGv"),b=n("HxX+"),w=(n("0eRI"),n("YPAp"),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),x=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==n&&i?(r.setFlatCoordinates(n,e),r.ends_=i):r.setCoordinates(e,n),r}return w(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(m.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(l.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(b.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(d.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(y.d)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(u.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(l.x)(this.getExtent());this.flatInteriorPoint_=Object(_.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new g.a(this.getFlatInteriorPoint(),r.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new p(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,s=0,o=n.length;s<o;++s){var a=n[s],l=new p(e.slice(r,a),t);i.push(l),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(y.b)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(y.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(h.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,r.a.XY,i)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(c.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(o.a);function C(t){var e=t[0],n=t[1],i=t[2],s=t[3],o=[e,n,e,s,i,s,i,n,e,n];return new x(o,r.a.XY,[o.length])}e.a=x},hatQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return f}));var i,r=n("70ZC"),s=n("fzNE"),o=n("GTHH"),a=n("QRdp"),l=n("lRKV"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.key=n,r.oldValue=i,r}return c(e,t),e}(r.a),u=function(t){function e(e){var n=t.call(this)||this;return Object(l.c)(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return c(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Object(a.a)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n=f(t),this.dispatchEvent(new h(n,t,e)),this.dispatchEvent(new h(n=s.a.PROPERTYCHANGE,t,e))},e.prototype.set=function(t,e,n){var i=this.values_||(this.values_={});if(n)i[t]=e;else{var r=i[t];i[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Object(a.a)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Object(a.d)(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(o.default),d={};function f(t){return d.hasOwnProperty(t)?d[t]:d[t]="change:"+t}e.a=u},heo9:function(t,e,n){"use strict";var i=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.a=i},"j/Z9":function(t,e,n){"use strict";e.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"jL0/":function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(var r=0,s=n.length;r<s;++r)for(var o=n[r],a=0;a<i;++a)t[e++]=o[a];return e}function s(t,e,n,i,s){for(var o=s||[],a=0,l=0,c=n.length;l<c;++l){var h=r(t,e,n[l],i);o[a++]=h,e=h}return o.length=a,o}function o(t,e,n,i,r){for(var o=r||[],a=0,l=0,c=n.length;l<c;++l){var h=s(t,e,n[l],i,o[a]);o[a++]=h,e=h[h.length-1]}return o.length=a,o}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return o}))},jYAL:function(t,e,n){"use strict";function i(t,e,n,i,r){for(var s=void 0!==r?r:[],o=0,a=e;a<n;a+=i)s[o++]=t.slice(a,a+i);return s.length=o,s}function r(t,e,n,r,s){for(var o=void 0!==s?s:[],a=0,l=0,c=n.length;l<c;++l){var h=n[l];o[a++]=i(t,e,h,r,o[a]),e=h}return o.length=a,o}function s(t,e,n,i,s){for(var o=void 0!==s?s:[],a=0,l=0,c=n.length;l<c;++l){var h=n[l];o[a++]=r(t,e,h,i,o[a]),e=h[h.length-1]}return o.length=a,o}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s}))},jekj:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return h}));var i=n("8JWR");function r(t,e,n){var r=n&&n.length?n.shift():i.g?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function s(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function o(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function a(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function l(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function c(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function h(t,e){for(var n=t.childNodes,i=0;;++i){var r=n[i],s=e[i];if(!r&&!s)break;r!==s&&(r?s?t.insertBefore(s,r):(t.removeChild(r),--i):t.appendChild(s))}}},l8fJ:function(t,e,n){"use strict";var i,r=n("nu7S"),s=n("j/Z9"),o=n("FlXx"),a=n("HK6I"),l=n("jekj"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],u=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),target:i.target})||this).cssClassName_=void 0!==i.className?i.className:"ol-full-screen",n.activeClassName_=void 0!==i.activeClassName?i.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=void 0!==i.inactiveClassName?i.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var r=void 0!==i.label?i.label:"\u2922";n.labelNode_="string"==typeof r?document.createTextNode(r):r;var a=void 0!==i.labelActive?i.labelActive:"\xd7";n.labelActiveNode_="string"==typeof a?document.createTextNode(a):a,n.button_=document.createElement("button");var l=i.tipLabel?i.tipLabel:"Toggle full-screen";n.setClassName_(n.button_,f()),n.button_.setAttribute("type","button"),n.button_.title=l,n.button_.appendChild(n.labelNode_),n.button_.addEventListener(s.a.CLICK,n.handleClick_.bind(n),!1);var c=n.cssClassName_+" "+o.e+" "+o.b+" "+(d()?"":o.f),h=n.element;return h.className=c,h.appendChild(n.button_),n.keys_=void 0!==i.keys&&i.keys,n.source_=i.source,n}return c(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(d()){var t=this.getMap();if(t)if(f())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var e;e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():p(t)}(e):p(e)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();f()?(this.setClassName_(this.button_,!0),Object(l.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),Object(l.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n,i,r,s=this.activeClassName_,o=this.inactiveClassName_,a=e?s:o;(n=t.classList).remove.apply(n,s),(i=t.classList).remove.apply(i,o),(r=t.classList).add.apply(r,a)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e)for(var n=0,i=h.length;n<i;++n)this.listenerKeys.push(Object(a.a)(document,h[n],this.handleFullScreenChange_,this))},e}(r.default);function d(){var t=document.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function f(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function p(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.a=u},lRKV:function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var r=0;function s(t){return t.ol_uid||(t.ol_uid=String(++r))}var o="6.5.0"},leaD:function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},"m+aV":function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return h}));var i=n("PooM"),r=n("5Oj5"),s=(n("DiD3"),n("heo9")),o=n("SHzd"),a=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=u,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=u,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function l(t){var e,n;return"function"==typeof t?e=t:(Array.isArray(t)?n=t:(Object(o.a)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}),e}var c=null;function h(t,e){if(!c){var n=new r.a({color:"rgba(255,255,255,0.4)"}),o=new s.a({color:"#3399CC",width:1.25});c=[new a({image:new i.a({fill:n,stroke:o,radius:5}),fill:n,stroke:o})]}return c}function u(t){return t.getGeometry()}e.b=a},mTvk:function(t,e,n){"use strict";var i,r=n("KLY9"),s=n("JtbZ"),o=n("sDFk"),a=n("QZ7v"),l=n("vY6g"),c=n("zqV8"),h=n("vog+"),u=n("SbUa"),d=n("waAw"),f=n("A5l+"),p=n("lRKV"),g=n("61KW"),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=Object(h.j)(),n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return m(e,t),e.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},e.prototype.renderWorlds=function(t,e,n){var i=e.extent,r=e.viewState,s=r.center,o=r.resolution,a=r.projection,c=r.rotation,u=a.getExtent(),d=this.getLayer().getSource(),f=e.pixelRatio,p=e.viewHints,g=!(p[l.a.ANIMATING]||p[l.a.INTERACTING]),m=this.context,_=Math.round(e.size[0]*f),v=Math.round(e.size[1]*f),y=d.getWrapX()&&a.canWrapX(),b=y?Object(h.E)(u):null,w=y?Math.ceil((i[2]-u[2])/b)+1:1,x=y?Math.floor((i[0]-u[0])/b):0;do{var C=this.getRenderTransform(s,o,c,f,_,v,x*b);t.execute(m,1,C,c,g,void 0,n)}while(++x<w)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];Object(c.e)(this.pixelTransform,1/n,1/n),Object(c.d)(this.inversePixelTransform,this.pixelTransform);var r=Object(c.j)(this.pixelTransform);this.useContainer(e,r,i.opacity);var s=this.context,o=s.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!l||l.isEmpty()))return!this.containerReused&&o.width>0&&(o.width=0),this.container;var u=Math.round(t.size[0]*n),d=Math.round(t.size[1]*n);o.width!=u||o.height!=d?(o.width=u,o.height=d,o.style.transform!==r&&(o.style.transform=r)):this.containerReused||s.clearRect(0,0,u,d),this.preRender(s,t);var p=t.viewState,g=p.projection,m=!1;if(i.extent&&this.clipping){var _=Object(f.f)(i.extent,g);(m=!Object(h.g)(_,t.extent)&&Object(h.F)(_,t.extent))&&this.clipUnrotated(s,t,_)}this.renderWorlds(a,t),m&&s.restore(),this.postRender(s,t);var v=i.opacity,y=this.container;return v!==parseFloat(y.style.opacity)&&(y.style.opacity=1===v?"":String(v)),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise((function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];Object(c.a)(this.pixelTransform,n);var i=this.renderedCenter_,r=this.renderedResolution_,s=this.renderedRotation_,o=this.renderedProjection_,a=this.renderedExtent_,l=this.getLayer(),d=[],f=n[0]/2,p=n[1]/2;d.push(this.getRenderTransform(i,r,s,.5,f,p,0).slice());var g=l.getSource(),m=o.getExtent();if(g.getWrapX()&&o.canWrapX()&&!Object(h.g)(m,a)){for(var _=a[0],v=Object(h.E)(m),y=0;_<m[0];)--y,d.push(this.getRenderTransform(i,r,s,.5,f,p,v*y).slice()),_+=v;for(y=0,_=a[2];_>m[2];)++y,d.push(this.getRenderTransform(i,r,s,.5,f,p,v*y).slice()),_-=v}this.hitDetectionImageData_=Object(u.a)(n,d,this.renderedFeatures_,l.getStyleFunction(),a,r,s)}e(Object(u.b)(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var s=this;if(this.replayGroup_){var o,a=e.viewState.resolution,l=e.viewState.rotation,c=this.getLayer(),h={},u=function(t,e,n){var s=Object(p.c)(t),o=h[s];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return h[s]=!0,r.splice(r.lastIndexOf(o),1),i(t,c,e);o.geometry=e,o.distanceSq=n}}else{if(0===n)return h[s]=!0,i(t,c,e);r.push(h[s]={feature:t,layer:c,geometry:e,distanceSq:n,callback:i})}},d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some((function(i){return o=i.forEachFeatureAtCoordinate(t,a,l,n,u,i===s.declutterExecutorGroup?e.declutterTree.all().map((function(t){return t.value})):null)})),o}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var i=t.viewHints[l.a.ANIMATING],r=t.viewHints[l.a.INTERACTING],o=e.getUpdateWhileAnimating(),c=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&i||!c&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=t.extent,p=t.viewState,m=p.projection,_=p.resolution,v=t.pixelRatio,y=e.getRevision(),b=e.getRenderBuffer(),w=e.getRenderOrder();void 0===w&&(w=d.a);var x=p.center.slice(),C=Object(h.c)(u,b*_),O=[C.slice()],S=m.getExtent();if(n.getWrapX()&&m.canWrapX()&&!Object(h.g)(S,t.extent)){var k=Object(h.E)(S),E=Math.max(Object(h.E)(C)/2,k);C[0]=S[0]-E,C[2]=S[2]+E,Object(g.f)(x,m);var M=Object(h.K)(O[0],m);M[0]<S[0]&&M[2]<S[2]?O.push([M[0]+k,M[1],M[2]+k,M[3]]):M[0]>S[0]&&M[2]>S[2]&&O.push([M[0]-k,M[1],M[2]-k,M[3]])}if(!this.dirty_&&this.renderedResolution_==_&&this.renderedRevision_==y&&this.renderedRenderOrder_==w&&Object(h.g)(this.renderedExtent_,C))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var T,A=new s.a(Object(d.c)(_,v),C,_,v);this.getLayer().getDeclutter()&&(T=new s.a(Object(d.c)(_,v),C,_,v));var P,R=Object(f.k)();if(R){for(var I=0,D=O.length;I<D;++I)n.loadFeatures(Object(f.n)(O[I],m),_,R);P=Object(f.j)(R,m)}else for(I=0,D=O.length;I<D;++I)n.loadFeatures(O[I],_,m);var L=Object(d.b)(_,v),F=(function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,_)),n){var r=this.renderFeature(t,L,n,A,P,T);this.dirty_=this.dirty_||r}}).bind(this),N=Object(f.n)(C,m),j=n.getFeaturesInExtent(N);for(w&&j.sort(w),I=0,D=j.length;I<D;++I)F(j[I]);this.renderedFeatures_=j;var z=A.finish(),V=new a.a(C,_,v,n.getOverlaps(),z,e.getRenderBuffer());return T&&(this.declutterExecutorGroup=new a.a(C,_,v,n.getOverlaps(),T.finish(),e.getRenderBuffer())),this.renderedResolution_=_,this.renderedRevision_=y,this.renderedRenderOrder_=w,this.renderedExtent_=C,this.renderedCenter_=x,this.renderedProjection_=m,this.replayGroup_=V,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r,s){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,l=n.length;a<l;++a)o=Object(d.d)(i,t,n[a],e,this.boundHandleStyleImageChange_,r,s)||o;else o=Object(d.d)(i,t,n,e,this.boundHandleStyleImageChange_,r,s);return o},e}(o.a),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(t){function e(e){return t.call(this,e)||this}return v(e,t),e.prototype.createRenderer=function(){return new _(this)},e}(r.a);e.a=y},"mm/l":function(t,e,n){"use strict";var i=n("j/Z9");e.a={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},nHI4:function(t,e,n){"use strict";function i(t,e,n,i){for(var r=t[e],s=t[e+1],o=0,a=e+i;a<n;a+=i){var l=t[a],c=t[a+1];o+=Math.sqrt((l-r)*(l-r)+(c-s)*(c-s)),r=l,s=c}return o}n.d(e,"a",(function(){return i}))},nKUj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("SE7o");function r(t,e,n){return e+":"+t+":"+(n?Object(i.b)(n):"null")}var s=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(t,e,n){var i=r(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var s=r(t,e,n);this.cache_[s]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}())},nSfQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c}));var i,r=n("hatQ"),s=n("sQKY"),o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return o(e,t),e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set("active",t)},e.prototype.setMap=function(t){this.map_=t},e}(r.a);function l(t,e,n){var i=t.getCenterInternal();i&&t.animateInternal({duration:void 0!==n?n:250,easing:s.d,center:t.getConstrainedCenter([i[0]+e[0],i[1]+e[1]])})}function c(t,e,n,i){var r=t.getZoom();if(void 0!==r){var o=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:s.b})}}e.a=a},nh1Y:function(t,e,n){"use strict";var i=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();e.a=i},nu7S:function(t,e,n){"use strict";n.r(e);var i,r=n("hatQ"),s=n("TOut"),o=n("h7by"),a=n("HK6I"),l=n("jekj"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this)||this,i=e.element;return!i||e.target||i.style.pointerEvents||(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return c(e,t),e.prototype.disposeInternal=function(){Object(l.e)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(l.e)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(a.c)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.c&&this.listenerKeys.push(Object(a.a)(t,s.a.POSTRENDER,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(r.a);e.default=h},oVSo:function(t,e,n){"use strict";var i,r=n("DiD3"),s=n("BatM"),o=n("vog+"),a=n("jL0/"),l=n("0eRI"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return c(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,s=Object(l.g)(t,e,r[0],r[1]);if(s<i){for(var o=this.stride,a=0;a<o;++a)n[a]=r[a];return n.length=o,s}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(o.m)(this.flatCoordinates,t)},e.prototype.getType=function(){return r.a.POINT},e.prototype.intersectsExtent=function(t){return Object(o.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.a=h},pWH9:function(t,e,n){"use strict";var i,r=n("zYA+"),s=n("lRKV"),o=n("QRdp"),a=n("A5l+"),l=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var i=e.dataProjection?Object(a.g)(e.dataProjection):this.readProjection(t);e.extent&&i&&i.getUnits()===r.b.TILE_PIXELS&&(i=Object(a.g)(i)).setWorldExtent(e.extent),n={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return Object(o.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(s.b)()},t.prototype.readFeature=function(t,e){return Object(s.b)()},t.prototype.readFeatures=function(t,e){return Object(s.b)()},t.prototype.readGeometry=function(t,e){return Object(s.b)()},t.prototype.readProjection=function(t){return Object(s.b)()},t.prototype.writeFeature=function(t,e){return Object(s.b)()},t.prototype.writeFeatures=function(t,e){return Object(s.b)()},t.prototype.writeGeometry=function(t,e){return Object(s.b)()},t}(),c=n("yki2"),h=n("YibT"),u=n("DiD3"),d=n("BatM"),f=n("eTvN"),p=n("vog+"),g=n("jL0/"),m=n("4Gx9"),_=n("I/d5"),v=n("ENu+"),y=n("jYAL"),b=n("gE76"),w=n("R1Jz"),x=n("nHI4"),C=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return C(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(_.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(p.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(f.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(f.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Object(v.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=h.a.XYM&&this.layout!=h.a.XYZM)return null;var n=void 0!==e&&e;return Object(b.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(b.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Object(x.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,h.a.XY)},e.prototype.getType=function(){return u.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(w.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(g.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(d.a),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(t){function e(e,n,i){var r=t.call(this)||this;if(r.ends_=[],r.maxDelta_=-1,r.maxDeltaRevision_=-1,Array.isArray(e[0]))r.setCoordinates(e,n);else if(void 0!==n&&i)r.setFlatCoordinates(n,e),r.ends_=i;else{for(var s=r.getLayout(),o=e,a=[],l=[],c=0,h=o.length;c<h;++c){var u=o[c];0===c&&(s=u.getLayout()),Object(_.c)(a,u.getFlatCoordinates()),l.push(a.length)}r.setFlatCoordinates(s,a),r.ends_=l}return r}return S(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(_.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(p.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(f.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(f.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=h.a.XYM&&this.layout!=h.a.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return Object(b.c)(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return Object(y.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new O(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,s=0,o=e.length;s<o;++s){var a=e[s],l=new O(t.slice(r,a),n);i.push(l),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,s=0,o=i.length;s<o;++s){var a=i[s],l=Object(b.a)(e,n,a,r,.5);Object(_.c)(t,l),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(m.b)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,h.a.XY,i)},e.prototype.getType=function(){return u.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(w.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(g.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(d.a),E=n("oVSo"),M=n("0eRI"),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),A=function(t){function e(e,n){var i=t.call(this)||this;return n&&!Array.isArray(e[0])?i.setFlatCoordinates(n,e):i.setCoordinates(e,n),i}return T(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(_.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<Object(p.e)(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,s=this.stride,o=0,a=r.length;o<a;o+=s){var l=Object(M.g)(t,e,r[o],r[o+1]);if(l<i){i=l;for(var c=0;c<s;++c)n[c]=r[o+c];n.length=s}}return i},e.prototype.getCoordinates=function(){return Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new E.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,s=t.length;r<s;r+=n){var o=new E.a(t.slice(r,r+n),e);i.push(o)}return i},e.prototype.getType=function(){return u.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){var s=e[i],o=e[i+1];if(Object(p.h)(t,s,o))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(g.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(d.a),P=n("hWN6"),R=n("cTWw"),I=n("dUGv"),D=n("ZJj2"),L=n("ua9S"),F=n("HxX+"),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),j=function(t){function e(e,n,i){var r=t.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var s=r.getLayout(),o=e,a=[],l=[],c=0,h=o.length;c<h;++c){var u=o[c];0===c&&(s=u.getLayout());for(var d=a.length,f=u.getEnds(),p=0,g=f.length;p<g;++p)f[p]+=d;Object(_.c)(a,u.getFlatCoordinates()),l.push(f)}n=s,e=a,i=l}return void 0!==n&&i?(r.setFlatCoordinates(n,e),r.endss_=i):r.setCoordinates(e,n),r}return N(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(_.c)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();var r=new e(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(p.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(f.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(f.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(F.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(D.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(I.e)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(y.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Object(L.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(R.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new A(this.getFlatInteriorPoints().slice(),h.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(I.c)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(I.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(m.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,h.a.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var s=0,o=i.length;s<o;++s)i[s]-=e;return new P.a(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,s=0,o=n.length;s<o;++s){var a=n[s].slice(),l=a[a.length-1];if(0!==r)for(var c=0,h=a.length;c<h;++c)a[c]-=r;var u=new P.a(e.slice(r,l),t,a);i.push(u),r=l}return i},e.prototype.getType=function(){return u.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(w.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(g.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(d.a),z=n("h7wP"),V=n.n(z),B=n("xNT0"),H=n("zgwW"),U=n("SHzd"),G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.dataProjection=new B.a({code:"",units:r.b.TILE_PIXELS}),n.featureClass_=i.featureClass?i.featureClass:H.a,n.geometryName_=i.geometryName,n.layerName_=i.layerName?i.layerName:"layer",n.layers_=i.layers?i.layers:null,n.idProperty_=i.idProperty,n}return G(e,t),e.prototype.readRawGeometry_=function(t,e,n,i){t.pos=e.geometry;for(var r=t.readVarint()+t.pos,s=1,o=0,a=0,l=0,c=0,h=0;t.pos<r;){if(!o){var u=t.readVarint();s=7&u,o=u>>3}o--,1===s||2===s?(a+=t.readSVarint(),l+=t.readSVarint(),1===s&&c>h&&(i.push(c),h=c),n.push(a,l),c+=2):7===s?c>h&&(n.push(n[h],n[h+1]),c+=2):Object(U.a)(!1,59)}c>h&&(i.push(c),h=c)},e.prototype.createFeature_=function(t,e,n){var i,r=e.type;if(0===r)return null;var s,o=e.properties;this.idProperty_?(s=o[this.idProperty_],delete o[this.idProperty_]):s=e.id,o[this.layerName_]=e.layer.name;var l=[],c=[];this.readRawGeometry_(t,e,l,c);var d=function(t,e){var n;return 1===t?n=1===e?u.a.POINT:u.a.MULTI_POINT:2===t?n=1===e?u.a.LINE_STRING:u.a.MULTI_LINE_STRING:3===t&&(n=u.a.POLYGON),n}(r,c.length);if(this.featureClass_===H.a)(i=new this.featureClass_(d,l,c,o,s)).transform(n.dataProjection);else{var f=void 0;if(d==u.a.POLYGON){for(var p=[],g=0,m=0,_=0,v=c.length;_<v;++_){var y=c[_];if(Object(I.a)(l,g,y,2)){if(0===p.length)continue;p[p.length-1].push(c[m])}else p.push(c.slice(m,_+1));m=_+1,g=y}f=p.length>1?new j(l,h.a.XY,p):new P.a(l,h.a.XY,c)}else f=d===u.a.POINT?new E.a(l,h.a.XY):d===u.a.LINE_STRING?new O(l,h.a.XY):d===u.a.POLYGON?new P.a(l,h.a.XY,c):d===u.a.MULTI_POINT?new A(l,h.a.XY):d===u.a.MULTI_LINE_STRING?new k(l,h.a.XY,c):null;i=new(0,this.featureClass_),this.geometryName_&&i.setGeometryName(this.geometryName_);var b=function(t,e,n){var i=n?Object(a.g)(n.featureProjection):null,r=n?Object(a.g)(n.dataProjection):null;return i&&r&&!Object(a.c)(i,r)?t.transform(r,i):t}(f,0,n);i.setGeometry(b),i.setId(s),i.setProperties(o,!0)}return i},e.prototype.getType=function(){return c.a.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var n=this.layers_,i=this.adaptOptions(e),r=Object(a.g)(i.dataProjection);r.setWorldExtent(i.extent),i.dataProjection=r;var s=new V.a(t),o=s.readFields(Y,{}),l=[];for(var c in o)if(!n||-1!=n.indexOf(c)){var h=o[c];r.setExtent(h?[0,0,h.extent,h.extent]:null);for(var u=0,d=h.length;u<d;++u){var f=$(s,h,u);l.push(this.createFeature_(s,f,i))}}return l},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(l);function Y(t,e,n){if(3===t){var i={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(q,i,r),i.length=i.features.length,i.length&&(e[i.name]=i)}}function q(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){for(var i=null,r=n.readVarint()+n.pos;n.pos<r;)i=1==(t=n.readVarint()>>3)?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(i)}}function X(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t)for(var i=n.readVarint()+n.pos;n.pos<i;){var r=e.layer.keys[n.readVarint()],s=e.layer.values[n.readVarint()];e.properties[r]=s}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function $(t,e,n){t.pos=e.features[n];var i=t.readVarint()+t.pos,r={layer:e,type:0,properties:{}};return t.readFields(X,r,i),r}e.a=W},qJEt:function(t,e,n){"use strict";var i,r=n("G3IQ"),s=n("DiD3"),o=n("BasM"),a=n("AwwW"),l=n("32tr"),c=n("vog+"),h=n("wINb"),u=n("I/d5"),d=n("jYAL"),f=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n,i,r){var s=t.call(this)||this;return s.tolerance=e,s.maxExtent=n,s.pixelRatio=r,s.maxLineWidth=0,s.resolution=i,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return f(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,s=r.length,o=0,a=t.length;o<a;o+=e)i[0]=t[o],i[1]=t[o+1],Object(c.f)(n,i)&&(r[s++]=i[0],r[s++]=i[1]);return s},e.prototype.appendFlatLineCoordinates=function(t,e,n,i,r,s){var a=this.coordinates,l=a.length,h=this.getBufferedMaxExtent();s&&(e+=i);var u,d,f,p=t[e],g=t[e+1],m=this.tmpCoordinate_,_=!0;for(u=e+i;u<n;u+=i)m[0]=t[u],m[1]=t[u+1],(f=Object(c.i)(h,m))!==d?(_&&(a[l++]=p,a[l++]=g,_=!1),a[l++]=m[0],a[l++]=m[1]):f===o.a.INTERSECTING?(a[l++]=m[0],a[l++]=m[1],_=!1):_=!0,p=m[0],g=m[1],d=f;return(r&&_||u===e+i)&&(a[l++]=p,a[l++]=g),l},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s){var a=n[s],l=this.appendFlatLineCoordinates(t,e,a,i,!1,!1);r.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,o,a,l,c,h=t.getType(),u=t.getStride(),f=this.coordinates.length;if(h==s.a.MULTI_POLYGON){i=t.getOrientedFlatCoordinates(),l=[];var p=t.getEndss();c=0;for(var g=0,m=p.length;g<m;++g){var _=[];c=this.drawCustomCoordinates_(i,c,p[g],u,_),l.push(_)}this.instructions.push([r.c.CUSTOM,f,l,t,n,d.c])}else h==s.a.POLYGON||h==s.a.MULTI_LINE_STRING?(a=[],i=h==s.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),c=this.drawCustomCoordinates_(i,0,t.getEnds(),u,a),this.instructions.push([r.c.CUSTOM,f,a,t,n,d.b])):h==s.a.LINE_STRING||h==s.a.CIRCLE?(i=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([r.c.CUSTOM,f,o,t,n,d.a])):h==s.a.MULTI_POINT?(i=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(i,u))>f&&this.instructions.push([r.c.CUSTOM,f,o,t,n,d.a])):h==s.a.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),this.instructions.push([r.c.CUSTOM,f,o=this.coordinates.length,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[r.c.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[r.c.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,s=e.length,o=-1;for(t=0;t<s;++t)(i=(n=e[t])[0])==r.c.END_GEOMETRY?o=t:i==r.c.BEGIN_GEOMETRY&&(n[2]=t,Object(u.g)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Object(l.a)(i||h.c)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Object(l.a)(r||h.l);var s=e.getLineCap();n.lineCap=void 0!==s?s:h.e;var o=e.getLineDash();n.lineDash=o?o.slice():h.f;var a=e.getLineDashOffset();n.lineDashOffset=a||h.g;var c=e.getLineJoin();n.lineJoin=void 0!==c?c:h.h;var u=e.getWidth();n.lineWidth=void 0!==u?u:h.i;var d=e.getMiterLimit();n.miterLimit=void 0!==d?d:h.j,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[r.c.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[r.c.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,s=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Object(u.b)(t.currentLineDash,r)||t.currentLineDashOffset!=s||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=s,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[r.c.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(c.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(c.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(a.a);e.a=p},qr5x:function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var i=n("7r0Z"),r=n("uVc0"),s=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(i.a);e.a=Object(r.a)(s)},qsAS:function(t,e,n){"use strict";var i,r=n("hatQ"),s=n("MMQm"),o=n("lRKV"),a=n("A5l+"),l=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this)||this;return n.projection_=Object(a.g)(e.projection),n.attributions_=h(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:s.a.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return l(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(o.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=h(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.a);function h(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=c},r56K:function(t,e,n){t.exports=function(t,e){"use strict";t="default"in t?t.default:t;var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i="layer-switcher-",r=function(t){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=t||{},n=e.tipLabel?e.tipLabel:"Legend",s=e.collapseTipLabel?e.collapseTipLabel:"Collapse legend",o=document.createElement("div"),a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{element:o,target:e.target}));a.activationMode=e.activationMode||"mouseover",a.startActive=!0===e.startActive;var l=void 0!==e.label?e.label:"",c=void 0!==e.collapseLabel?e.collapseLabel:"\xbb";a.groupSelectStyle=r.getGroupSelectStyle(e.groupSelectStyle),a.reverse=!1!==e.reverse,a.mapListeners=[],a.hiddenClassName="ol-unselectable ol-control layer-switcher",r.isTouchDevice_()&&(a.hiddenClassName+=" touch"),a.shownClassName="shown",o.className=a.hiddenClassName;var h=document.createElement("button");h.setAttribute("title",n),h.setAttribute("aria-label",n),o.appendChild(h),a.panel=document.createElement("div"),a.panel.className="panel",o.appendChild(a.panel),r.enableTouchScroll_(a.panel);var u=a;return h.textContent=l,o.classList.add(i+"group-select-style-"+a.groupSelectStyle),o.classList.add(i+"activation-mode-"+a.activationMode),"click"===a.activationMode?(o.classList.add("activationModeClick"),a.startActive&&(h.textContent=c,h.setAttribute("title",s),h.setAttribute("aria-label",s)),h.onclick=function(t){t=t||window.event,u.element.classList.contains(u.shownClassName)?(u.hidePanel(),h.textContent=l,h.setAttribute("title",n),h.setAttribute("aria-label",n)):(u.showPanel(),h.textContent=c,h.setAttribute("title",s),h.setAttribute("aria-label",s)),t.preventDefault()}):(h.onmouseover=function(t){u.showPanel()},h.onclick=function(t){t=t||window.event,u.showPanel(),t.preventDefault()},u.panel.onmouseout=function(t){t=t||window.event,u.panel.contains(t.toElement||t.relatedTarget)||u.hidePanel()}),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),n(r,[{key:"setMap",value:function(t){for(var n=0;n<this.mapListeners.length;n++)e.unByKey(this.mapListeners[n]);if(this.mapListeners.length=0,function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setMap",this).call(this,t),t&&(this.startActive?this.showPanel():this.renderPanel(),"click"!==this.activationMode)){var i=this;this.mapListeners.push(t.on("pointerdown",(function(){i.hidePanel()})))}}},{key:"showPanel",value:function(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.renderPanel())}},{key:"hidePanel",value:function(){this.element.classList.contains(this.shownClassName)&&this.element.classList.remove(this.shownClassName)}},{key:"renderPanel",value:function(){this.dispatchEvent({type:"render"}),r.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent({type:"rendercomplete"})}}],[{key:"renderPanel",value:function(t,e,n){var i=new Event("render");for(e.dispatchEvent(i),(n=n||{}).groupSelectStyle=r.getGroupSelectStyle(n.groupSelectStyle),r.ensureTopVisibleBaseLayerShown_(t);e.firstChild;)e.removeChild(e.firstChild);r.forEachRecursive(t,(function(t,e,n){t.set("indeterminate",!1)})),"children"===n.groupSelectStyle||"none"===n.groupSelectStyle?r.setGroupVisibility(t):"group"===n.groupSelectStyle&&r.setChildVisibility(t);var s=document.createElement("ul");e.appendChild(s),r.renderLayers_(t,t,s,n,(function(i){r.renderPanel(t,e,n)}));var o=new Event("rendercomplete");e.dispatchEvent(o)}},{key:"isBaseGroup",value:function(t){var e=t.getLayers?t.getLayers().getArray():[];return e.length&&"base"===e[0].get("type")}},{key:"setGroupVisibility",value:function(t){r.getGroupsAndLayers(t,(function(t){return t.getLayers&&!t.get("combine")&&!r.isBaseGroup(t)})).reverse().forEach((function(t){var e=t.getLayersArray().map((function(t){return t.getVisible()}));e.every((function(t){return!0===t}))?(t.setVisible(!0),t.set("indeterminate",!1)):e.every((function(t){return!1===t}))?(t.setVisible(!1),t.set("indeterminate",!1)):(t.setVisible(!0),t.set("indeterminate",!0))}))}},{key:"setChildVisibility",value:function(t){r.getGroupsAndLayers(t,(function(t){return t.getLayers&&!t.get("combine")&&!r.isBaseGroup(t)})).forEach((function(t){var e=t.getVisible(),n=t.get("indeterminate");t.getLayers().getArray().forEach((function(t){t.set("indeterminate",!1),e&&!n||!t.getVisible()||t.set("indeterminate",!0)}))}))}},{key:"ensureTopVisibleBaseLayerShown_",value:function(t){var e;r.forEachRecursive(t,(function(t,n,i){"base"===t.get("type")&&t.getVisible()&&(e=t)})),e&&r.setVisible_(t,e,!0)}},{key:"getGroupsAndLayers",value:function(t,e){var n=[];return e=e||function(t,e,n){return!0},r.forEachRecursive(t,(function(t,i,r){t.get("title")&&e(t,i,r)&&n.push(t)})),n}},{key:"setVisible_",value:function(t,e,n,i){e.setVisible(n),n&&"base"===e.get("type")&&r.forEachRecursive(t,(function(t,n,i){t!=e&&"base"===t.get("type")&&t.setVisible(!1)})),e.getLayers&&!e.get("combine")&&"children"===i&&e.getLayers().forEach((function(n){r.setVisible_(t,n,e.getVisible(),i)}))}},{key:"renderLayer_",value:function(t,e,n,s,o){var a=document.createElement("li"),l=e.get("title"),c=r.uuid(),h=document.createElement("label");if(e.getLayers&&!e.get("combine")){var u=r.isBaseGroup(e);if(a.classList.add("group"),u&&a.classList.add(i+"base-group"),e.get("fold")){a.classList.add(i+"fold"),a.classList.add(i+e.get("fold"));var d=document.createElement("button");d.onclick=function(t){t=t||window.event,r.toggleFold_(e,a),t.preventDefault()},a.appendChild(d)}if(!u&&"none"!=s.groupSelectStyle){var f=document.createElement("input");f.type="checkbox",f.id=c,f.checked=e.getVisible(),f.indeterminate=e.get("indeterminate"),f.onchange=function(n){r.setVisible_(t,e,n.target.checked,s.groupSelectStyle),o(e)},a.appendChild(f),h.htmlFor=c}h.innerHTML=l,a.appendChild(h);var p=document.createElement("ul");a.appendChild(p),r.renderLayers_(t,e,p,s,o)}else{a.className="layer";var g=document.createElement("input");"base"===e.get("type")?(g.type="radio",g.name="base"):g.type="checkbox",g.id=c,g.checked=e.get("visible"),g.indeterminate=e.get("indeterminate"),g.onchange=function(n){r.setVisible_(t,e,n.target.checked,s.groupSelectStyle),o(e)},a.appendChild(g),h.htmlFor=c,h.innerHTML=l;var m=t.getView().getResolution();(m>e.getMaxResolution()||m<e.getMinResolution())&&(h.className+=" disabled"),a.appendChild(h)}return a}},{key:"renderLayers_",value:function(t,e,n,i,s){var o=e.getLayers().getArray().slice();i.reverse&&(o=o.reverse());for(var a,l=0;l<o.length;l++)(a=o[l]).get("title")&&n.appendChild(r.renderLayer_(t,a,l,i,s))}},{key:"forEachRecursive",value:function(t,e){t.getLayers().forEach((function(t,n,i){e(t,n,i),t.getLayers&&r.forEachRecursive(t,e)}))}},{key:"uuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}},{key:"enableTouchScroll_",value:function(t){if(r.isTouchDevice_()){var e=0;t.addEventListener("touchstart",(function(t){e=this.scrollTop+t.touches[0].pageY}),!1),t.addEventListener("touchmove",(function(t){this.scrollTop=e-t.touches[0].pageY}),!1)}}},{key:"isTouchDevice_",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}},{key:"toggleFold_",value:function(t,e){e.classList.remove(i+t.get("fold")),t.set("fold","open"===t.get("fold")?"close":"open"),e.classList.add(i+t.get("fold"))}},{key:"getGroupSelectStyle",value:function(t){return["none","children","group"].indexOf(t)>=0?t:"children"}}]),r}(t);return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=r),r}(n("nu7S"),n("GTHH"))},re9t:function(t,e,n){"use strict";var i,r=n("H40N"),s=n("h7by"),o=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=s.a),(n=t.call(this,r)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return o(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],s=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(s*s+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var l=t.map,c=l.getView();1!=e&&(this.lastScaleDelta_=e);var h=l.getViewport().getBoundingClientRect(),u=Object(r.a)(this.targetPointers);u[0]-=h.left,u[1]-=h.top,this.anchor_=l.getCoordinateFromPixelInternal(u),l.render(),c.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(r.b);e.a=a},rjvG:function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},sDFk:function(t,e,n){"use strict";var i,r=n("j/Z9"),s=n("d4DS"),o=n("GTHH"),a=n("MMQm"),l=n("lRKV"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return c(e,t),e.prototype.getFeatures=function(t){return Object(l.b)()},e.prototype.prepareFrame=function(t){return Object(l.b)()},e.prototype.renderFrame=function(t,e){return Object(l.b)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return(function(i,r){var s=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,s)}).bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){},e.prototype.getDataAtPixel=function(t,e,n){return Object(l.b)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===s.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=s.a.LOADED&&e!=s.a.ERROR&&t.addEventListener(r.a.CHANGE,this.boundHandleImageChange_),e==s.a.IDLE&&(t.load(),e=t.getState()),e==s.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==a.a.READY&&t.changed()},e}(o.default),u=n("XqO+"),d=n("eXX1"),f=n("zqV8"),p=n("vog+"),g=n("jekj"),m=n("wINb"),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=Object(f.c)(),n.pixelTransform=Object(f.c)(),n.inversePixelTransform=Object(f.c)(),n.context=null,n.containerReused=!1,n}return _(e,t),e.prototype.useContainer=function(t,e,n){var i,r,s=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===s&&(o=t.firstElementChild)instanceof HTMLCanvasElement&&(r=o.getContext("2d")),!r||0!==r.canvas.width&&r.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=r,this.containerReused=!0),!this.container){(i=document.createElement("div")).className=s;var o,a=i.style;a.position="absolute",a.width="100%",a.height="100%",r=Object(g.a)(),i.appendChild(o=r.canvas),(a=o.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=i,this.context=r}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i/2,s=e.size[1]*i/2,o=e.viewState.rotation,a=Object(p.C)(n),l=Object(p.D)(n),c=Object(p.w)(n),h=Object(p.v)(n);Object(f.a)(e.coordinateToPixelTransform,a),Object(f.a)(e.coordinateToPixelTransform,l),Object(f.a)(e.coordinateToPixelTransform,c),Object(f.a)(e.coordinateToPixelTransform,h),t.save(),Object(m.t)(t,-o,r,s),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(h[0]*i,h[1]*i),t.clip(),Object(m.t)(t,o,r,s)},e.prototype.clipUnrotated=function(t,e,n){var i=Object(p.C)(n),r=Object(p.D)(n),s=Object(p.w)(n),o=Object(p.v)(n);Object(f.a)(e.coordinateToPixelTransform,i),Object(f.a)(e.coordinateToPixelTransform,r),Object(f.a)(e.coordinateToPixelTransform,s),Object(f.a)(e.coordinateToPixelTransform,o);var a=this.inversePixelTransform;Object(f.a)(a,i),Object(f.a)(a,r),Object(f.a)(a,s),Object(f.a)(a,o),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=new u.a(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(d.a.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(d.a.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,n,i,r,s,o){var a=r/2,l=s/2,c=i/e,h=-c,u=-t[0]+o,d=-t[1];return Object(f.b)(this.tempTransform,a,l,c,h,-n,u,d)},e.prototype.getDataAtPixel=function(t,e,n){var i,r=Object(f.a)(this.inversePixelTransform,t.slice()),s=this.context,o=this.getLayer().getExtent();if(o){var a=Object(f.a)(e.pixelToCoordinateTransform,t.slice());if(!Object(p.f)(o,a))return null}try{var l=Math.round(r[0]),c=Math.round(r[1]),h=document.createElement("canvas"),u=h.getContext("2d");h.width=1,h.height=1,u.clearRect(0,0,1,1),u.drawImage(s.canvas,l,c,1,1,0,0,1,1),i=u.getImageData(0,0,1,1).data}catch(d){return"SecurityError"===d.name?new Uint8Array:i}return 0===i[3]?null:i},e}(h);e.a=v},sL3s:function(t,e,n){"use strict";var i,r=n("j/Z9"),s=n("Lpbt"),o=n("UqCr"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n,i,r,s,o){var a=t.call(this,e,n,o)||this;return a.extent=null,a.format_=r,a.features_=null,a.projection=null,a.tileLoadFunction_=s,a.url_=i,a.key=i,a}return a(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.load=function(){this.state==o.a.IDLE&&(this.setState(o.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(o.a.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(o.a.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(s.a),c=n("ynjL"),h=n("CJup"),u=n("jekj"),d=n("lRKV"),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),p=[],g=function(t){function e(e,n,i,r){var s=t.call(this,e,n,{transition:0})||this;return s.context_={},s.executorGroups={},s.declutterExecutorGroups={},s.loadingSourceTiles=0,s.errorSourceTileKeys={},s.hitDetectionImageData={},s.replayState_={},s.sourceTiles=null,s.getSourceTiles=r.bind(void 0,s),s.sourceZ=-1,s.hifi=!1,s.wrappedTileCoord=i,s}return f(e,t),e.prototype.getContext=function(t){var e=Object(d.c)(t);return e in this.context_||(this.context_[e]=Object(u.a)(1,1,p)),this.context_[e]},e.prototype.hasContext=function(t){return Object(d.c)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=Object(d.c)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_)p.push(this.context_[e].canvas),delete this.context_[e];t.prototype.release.call(this)},e}(s.a),m=n("vog+"),_=n("dMtP"),v=n("I/d5"),y=n("F52n"),b=n("6IIn"),w=n("yAfB"),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(t){function e(e){var n=this,i=e.projection||"EPSG:3857",r=e.extent||Object(_.c)(i),s=e.tileGrid||Object(_.b)({extent:r,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:i,state:e.state,tileGrid:s,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:O,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,n.loadingTiles_={},n.sourceTileCache=new c.a(n.tileCache.highWaterMark),n.overlaps_=null==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:l,n.tileGrids_={},n}return x(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],n=this.tileCache;if(0===n.getCount())return e;var i=Object(y.b)(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]===i&&n.getState()===o.a.LOADED)for(var s=n.getSourceTiles(),a=0,l=s.length;a<l;++a){var c=s[a],h=c.tileCoord;if(Object(m.F)(t,r.getTileCoordExtent(h))){var u=c.getFeatures();if(u)for(var d=0,f=u.length;d<f;++d){var p=u[d],g=p.getGeometry();Object(m.F)(t,g.getExtent())&&e.push(p)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,n){t.prototype.expireCache.call(this,e,n),this.sourceTileCache.expireCache({})},e.prototype.getSourceTiles=function(t,e,n){var i=n.wrappedTileCoord,s=this.getTileGridForProjection(e),a=s.getTileCoordExtent(i),l=s.getResolution(i[0]);Object(m.c)(a,-l,a);var c=this.tileGrid,h=c.getExtent();h&&Object(m.B)(a,h,a);var u,d,f,p=c.getZForResolution(l,1),g=c.getMinZoom(),_=n.sourceTiles;if(_&&_.length>0&&_[0].tileCoord[0]===p)u=_,d=!0,f=p;else{u=[],f=p+1;do{--f,d=!0,c.forEachTileCoord(a,f,(function(i){var s,a=this.tileUrlFunction(i,t,e);if(void 0!==a)if(this.sourceTileCache.containsKey(a)){var l=(s=this.sourceTileCache.get(a)).getState();if(l===o.a.LOADED||l===o.a.ERROR||l===o.a.EMPTY)return void u.push(s)}else f===p&&((s=new this.tileClass(i,o.a.IDLE,a,this.format_,this.tileLoadFunction)).extent=c.getTileCoordExtent(i),s.projection=e,s.resolution=c.getResolution(i[0]),this.sourceTileCache.set(a,s),s.addEventListener(r.a.CHANGE,this.handleTileChange.bind(this)),s.load());d=d&&s&&s.getState()===o.a.LOADED,s&&s.getState()!==o.a.EMPTY&&n.getState()===o.a.IDLE&&(n.loadingSourceTiles++,s.addEventListener(r.a.CHANGE,(function t(){var e=s.getState(),i=s.getKey();if(e===o.a.LOADED||e===o.a.ERROR){e===o.a.LOADED?(s.removeEventListener(r.a.CHANGE,t),n.loadingSourceTiles--,delete n.errorSourceTileKeys[i]):e===o.a.ERROR&&(n.errorSourceTileKeys[i]=!0);var a=Object.keys(n.errorSourceTileKeys).length;n.loadingSourceTiles-a==0&&(n.hifi=0===a,n.sourceZ=p,n.setState(o.a.LOADED))}})))}).bind(this)),d||(u.length=0)}while(!d&&f>g)}return n.getState()===o.a.IDLE&&n.setState(o.a.LOADING),d&&(n.hifi=p===f,n.sourceZ=f,n.getState()<o.a.LOADED?n.setState(o.a.LOADED):_&&Object(v.b)(u,_)||(n.sourceTiles=u)),u},e.prototype.getTile=function(t,e,n,i,r){var s,a=Object(y.d)(t,e,n),l=this.getKey();if(this.tileCache.containsKey(a)&&(s=this.tileCache.get(a)).key===l)return s;var c=[t,e,n],h=this.getTileCoordForTileUrlFunction(c,r),u=this.getTileGrid().getExtent(),d=this.getTileGridForProjection(r);if(h&&u){var f=d.getTileCoordExtent(h);Object(m.c)(f,-d.getResolution(t),f),Object(m.F)(u,f)||(h=null)}var p=!0;if(null!==h){var _=this.tileGrid,v=d.getResolution(t),b=_.getZForResolution(v,1),w=d.getTileCoordExtent(h);Object(m.c)(w,-v,w),_.forEachTileCoord(w,b,(function(t){p=p&&!this.tileUrlFunction(t,i,r)}).bind(this))}var x=new g(c,p?o.a.EMPTY:o.a.IDLE,h,this.getSourceTiles.bind(this,i,r));return x.key=l,s?(x.interimTile=s,x.refreshInterimChain(),this.tileCache.replace(a,x)):this.tileCache.set(a,x),x},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){var i=this.tileGrid;n=Object(_.a)(t,void 0,i?i.getTileSize(i.getMinZoom()):void 0),this.tileGrids_[e]=n}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=Object(w.d)(i.getTileSize(t),this.tmpSize);return[Math.round(r[0]*e),Math.round(r[1]*e)]},e.prototype.updateCacheSize=function(e,n){t.prototype.updateCacheSize.call(this,2*e,n)},e}(h.a);function O(t,e){t.setLoader((function(n,i,r){Object(b.a)(e,t.getFormat(),n,i,r,t.onLoad.bind(t),t.onError.bind(t))}))}e.a=C},sQKY:function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function s(t){return 3*t*t-2*t*t*t}function o(t){return t}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return o}))},tUlR:function(t,e,n){"use strict";var i,r=n("zhI0"),s=n("+cQG"),o=n("rjvG"),a=n("j/Z9"),l=n("fzNE"),c=n("MMQm"),h=n("SHzd"),u=n("QRdp"),d=n("hatQ"),f=n("vog+"),p=n("lRKV"),g=n("HK6I"),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(t){function e(e){var n=this,i=e||{},r=Object(u.a)({},i);delete r.layers;var o=i.layers;return(n=t.call(this,r)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(Object(d.b)("layers"),n.handleLayersChanged_),o?Array.isArray(o)?o=new s.a(o.slice(),{unique:!0}):Object(h.a)("function"==typeof o.getArray,43):o=new s.a(void 0,{unique:!0}),n.setLayers(o),n}return m(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(g.c),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(g.a)(t,o.a.ADD,this.handleLayersAdd_,this),Object(g.a)(t,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(g.c);Object(u.b)(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var s=n[i];this.listenerKeys_[Object(p.c)(s)]=[Object(g.a)(s,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(g.a)(s,a.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(p.c)(e)]=[Object(g.a)(e,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(g.a)(e,a.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(p.c)(e);this.listenerKeys_[n].forEach(g.c),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get("layers")},e.prototype.setLayers=function(t){this.set("layers",t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var i=this.getLayerState(),r=n,s=e.length;r<s;r++){var o=e[r];o.opacity*=i.opacity,o.visible=o.visible&&i.visible,o.maxResolution=Math.min(o.maxResolution,i.maxResolution),o.minResolution=Math.max(o.minResolution,i.minResolution),o.minZoom=Math.max(o.minZoom,i.minZoom),o.maxZoom=Math.min(o.maxZoom,i.maxZoom),void 0!==i.extent&&(o.extent=void 0!==o.extent?Object(f.B)(o.extent,i.extent):i.extent)}return e},e.prototype.getSourceState=function(){return c.a.READY},e}(r.a);e.a=_},uVc0:function(t,e,n){"use strict";var i=n("I6Yn");e.a=t=>Object(i.b)(t[t.length-1])},ua9S:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("vog+");function r(t,e,n,r){for(var s=[],o=Object(i.j)(),a=0,l=n.length;a<l;++a){var c=n[a];o=Object(i.o)(t,e,c[0],r),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=c[c.length-1]}return s}},vY6g:function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},"vog+":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return p})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return _})),n.d(e,"n",(function(){return v})),n.d(e,"o",(function(){return y})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return w})),n.d(e,"r",(function(){return x})),n.d(e,"s",(function(){return C})),n.d(e,"t",(function(){return S})),n.d(e,"u",(function(){return k})),n.d(e,"v",(function(){return E})),n.d(e,"w",(function(){return M})),n.d(e,"x",(function(){return T})),n.d(e,"y",(function(){return A})),n.d(e,"z",(function(){return P})),n.d(e,"A",(function(){return R})),n.d(e,"B",(function(){return I})),n.d(e,"C",(function(){return D})),n.d(e,"D",(function(){return L})),n.d(e,"E",(function(){return F})),n.d(e,"F",(function(){return N})),n.d(e,"H",(function(){return j})),n.d(e,"I",(function(){return z})),n.d(e,"J",(function(){return V})),n.d(e,"G",(function(){return B})),n.d(e,"a",(function(){return H})),n.d(e,"K",(function(){return U}));var i=n("SmDS"),r=n("BasM"),s=n("SHzd");function o(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)x(e,t[n]);return e}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function c(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function h(t,e){return d(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function f(t,e){var n=e[0],i=e[1],s=r.a.UNKNOWN;return n<t[0]?s|=r.a.LEFT:n>t[2]&&(s|=r.a.RIGHT),i<t[1]?s|=r.a.BELOW:i>t[3]&&(s|=r.a.ABOVE),s===r.a.UNKNOWN&&(s=r.a.INTERSECTING),s}function p(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function m(t){return g(1/0,1/0,-1/0,-1/0,t)}function _(t,e){var n=t[0],i=t[1];return g(n,i,n,i,e)}function v(t,e){return function(t,e){for(var n=0,i=e.length;n<i;++n)x(t,e[n]);return t}(m(e),t)}function y(t,e,n,i,r){return C(m(r),t,e,n,i)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function w(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e,n,i,r){for(;n<i;n+=r)O(t,e[n],e[n+1]);return t}function O(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function S(t,e){var n;return(n=e(E(t)))||(n=e(M(t)))||(n=e(L(t)))?n:(n=e(D(t)))||!1}function k(t){var e=0;return j(t)||(e=F(t)*R(t)),e}function E(t){return[t[0],t[1]]}function M(t){return[t[2],t[1]]}function T(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function A(t,e){var n;return e===i.a.BOTTOM_LEFT?n=E(t):e===i.a.BOTTOM_RIGHT?n=M(t):e===i.a.TOP_LEFT?n=D(t):e===i.a.TOP_RIGHT?n=L(t):Object(s.a)(!1,13),n}function P(t,e,n,i,r){var s=e*i[0]/2,o=e*i[1]/2,a=Math.cos(n),l=Math.sin(n),c=s*a,h=s*l,u=o*a,d=o*l,f=t[0],p=t[1],m=f-c+d,_=f-c-d,v=f+c-d,y=f+c+d,b=p-h-u,w=p-h+u,x=p+h+u,C=p+h-u;return g(Math.min(m,_,v,y),Math.min(b,w,x,C),Math.max(m,_,v,y),Math.max(b,w,x,C),r)}function R(t){return t[3]-t[1]}function I(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return N(t,e)?(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]):m(i),i}function D(t){return[t[0],t[3]]}function L(t){return[t[2],t[3]]}function F(t){return t[2]-t[0]}function N(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function j(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function V(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function B(t,e,n){var i=!1,s=f(t,e),o=f(t,n);if(s===r.a.INTERSECTING||o===r.a.INTERSECTING)i=!0;else{var a=t[0],l=t[1],c=t[2],h=t[3],u=n[0],d=n[1],p=(d-e[1])/(u-e[0]),g=void 0,m=void 0;o&r.a.ABOVE&&!(s&r.a.ABOVE)&&(i=(g=u-(d-h)/p)>=a&&g<=c),i||!(o&r.a.RIGHT)||s&r.a.RIGHT||(i=(m=d-(u-c)*p)>=l&&m<=h),i||!(o&r.a.BELOW)||s&r.a.BELOW||(i=(g=u-(d-l)/p)>=a&&g<=c),i||!(o&r.a.LEFT)||s&r.a.LEFT||(i=(m=d-(u-a)*p)>=l&&m<=h)}return i}function H(t,e,n,i){var r=[];if(i>1)for(var s=t[2]-t[0],o=t[3]-t[1],a=0;a<i;++a)r.push(t[0]+s*a/i,t[1],t[2],t[1]+o*a/i,t[2]-s*a/i,t[3],t[0],t[3]-o*a/i);else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);for(var l=[],c=[],h=(a=0,r.length);a<h;a+=2)l.push(r[a]),c.push(r[a+1]);return function(t,e,n){return g(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(l,c,n)}function U(t,e){var n=e.getExtent(),i=T(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=F(n),s=Math.floor((i[0]-n[0])/r)*r;t[0]-=s,t[2]-=s}return t}},w7Gp:function(t){t.exports=JSON.parse('{"10":"Cropland, rainfed","11":"Herbaceous cover","12":"Tree or shrub cover","20":"Cropland, irrigated or post-flooding","30":"Mosaic cropland (>50%) / natural vegetation (tree, shrub, herbaceous cover) (<50%)","40":"Mosaic natural vegetation (tree, shrub, herbaceous cover) (>50%) / cropland (<50%)","50":"Tree cover, broadleaved, evergreen, closed to open (>15%)","60":"Tree cover, broadleaved, deciduous, closed to open (>15%)","61":"Tree cover, broadleaved, deciduous, closed (>40%)","62":"Tree cover, broadleaved, deciduous, open (15-40%)","70":"Tree cover, needleleaved, evergreen, closed to open (>15%)","71":"Tree cover, needleleaved, evergreen, closed (>40%)","72":"Tree cover, needleleaved, evergreen, open (15-40%)","80":"Tree cover, needleleaved, deciduous, closed to open (>15%)","81":"Tree cover, needleleaved, deciduous, closed (>40%)","82":"Tree cover, needleleaved, deciduous, open (15-40%)","90":"Tree cover, mixed leaf type (broadleaved and needleleaved)","100":"Mosaic tree and shrub (>50%) / herbaceous cover (<50%)","110":"Mosaic herbaceous cover (>50%) / tree and shrub (<50%)","120":"Shrubland","121":"Shrubland evergreen","122":"Shrubland deciduous","130":"Grassland","140":"Lichens and mosses","150":"Sparse vegetation (tree, shrub, herbaceous cover) (<15%)","152":"Sparse shrub (<15%)","153":"Sparse herbaceous cover (<15%)","160":"Tree cover, flooded, fresh or brakish water","170":"Tree cover, flooded, saline water","180":"Shrub or herbaceous cover, flooded, fresh/saline/brakish water","190":"Urban areas","200":"Bare areas","201":"Consolidated bare areas","202":"Unconsolidated bare areas","210":"Water bodies","220":"Permanent snow and ice"}')},wINb:function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return g})),n.d(e,"j",(function(){return m})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"k",(function(){return b})),n.d(e,"i",(function(){return w})),n.d(e,"a",(function(){return x})),n.d(e,"s",(function(){return E})),n.d(e,"q",(function(){return M})),n.d(e,"p",(function(){return P})),n.d(e,"r",(function(){return R})),n.d(e,"t",(function(){return I})),n.d(e,"o",(function(){return D})),n.d(e,"b",(function(){return F}));var i=n("hatQ"),r=n("XnQF"),s=n("8JWR"),o=n("QRdp"),a=n("jekj"),l=n("FlXx"),c=n("zqV8"),h="10px sans-serif",u="#000",d="round",f=[],p=0,g="round",m=10,_="#000",v="center",y="middle",b=[0,0,0,0],w=1,x=new i.a;(new r.a).setSize=function(){console.warn("labelCache is deprecated.")};var C,O,S=null,k={},E=function(){var t,e,n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10\uf013";function s(t,s,o){for(var a=!0,l=0;l<i;++l){var c=n[l];if(e=A(t+" "+s+" 32px "+c,r),o!=c){var h=A(t+" "+s+" 32px "+o+","+c,r);a=a&&h!=e}}return!!a}function a(){for(var e=!0,n=x.getKeys(),i=0,r=n.length;i<r;++i){var a=n[i];x.get(a)<100&&(s.apply(this,a.split("\n"))?(Object(o.b)(k),S=null,C=void 0,x.set(a,100)):(x.set(a,x.get(a)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Object(l.g)(e);if(n)for(var i=n.families,r=0,o=i.length;r<o;++r){var c=i[r],h=n.style+"\n"+n.weight+"\n"+c;void 0===x.get(h)&&(x.set(h,100,!0),s(n.style,n.weight,c)||(x.set(h,0,!0),void 0===t&&(t=setInterval(a,32))))}}}(),M=function(t){var e=k[t];if(null==e){if(s.g){var n=Object(l.g)(t),i=T(t,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else O||((O=document.createElement("div")).innerHTML="M",O.style.margin="0 !important",O.style.padding="0 !important",O.style.position="absolute !important",O.style.left="-99999px !important"),O.style.font=t,document.body.appendChild(O),e=O.offsetHeight,document.body.removeChild(O);k[t]=e}return e};function T(t,e){return S||(S=Object(a.a)(1,1)),t!=C&&(S.font=t,C=S.font),S.measureText(e)}function A(t,e){return T(t,e).width}function P(t,e,n){if(e in n)return n[e];var i=A(t,e);return n[e]=i,i}function R(t,e,n){for(var i=e.length,r=0,s=0;s<i;++s){var o=A(t,e[s]);r=Math.max(r,o),n.push(o)}return r}function I(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}function D(t,e,n,i,r,s,o,a,l,c,h){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(l,c),t.scale(h[0],h[1]),function(t,e){for(var n=t.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):h[0]<0||h[1]<0?(t.translate(l,c),t.scale(h[0],h[1]),t.drawImage(i,r,s,o,a,0,0,o,a)):t.drawImage(i,r,s,o,a,l,c,o*h[0],a*h[1]),t.restore()}var L=null;function F(t){return s.g?Object(c.j)(t):(L||(L=Object(a.a)(1,1).canvas),L.style.transform=Object(c.j)(t),L.style.transform)}},waAw:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return u}));var i=n("8Az/"),r=n("DiD3"),s=n("d4DS"),o=n("lRKV"),a={Point:function(t,e,n,r,o){var a,l=n.getImage(),c=n.getText();if(o&&(t=o,a=l&&c&&c.getText()?{}:void 0),l){if(l.getImageState()!=s.a.LOADED)return;var h=t.getBuilder(n.getZIndex(),i.a.IMAGE);h.setImageStyle(l,a),h.drawPoint(e,r)}if(c&&c.getText()){var u=t.getBuilder(n.getZIndex(),i.a.TEXT);u.setTextStyle(c,a),u.drawText(e,r)}},LineString:function(t,e,n,r,s){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),i.a.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(e,r)}var l=n.getText();if(l&&l.getText()){var c=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);c.setTextStyle(l),c.drawText(e,r)}},Polygon:function(t,e,n,r,s){var o=n.getFill(),a=n.getStroke();if(o||a){var l=t.getBuilder(n.getZIndex(),i.a.POLYGON);l.setFillStrokeStyle(o,a),l.drawPolygon(e,r)}var c=n.getText();if(c&&c.getText()){var h=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);h.setTextStyle(c),h.drawText(e,r)}},MultiPoint:function(t,e,n,r,o){var a,l=n.getImage(),c=n.getText();if(o&&(t=o,a=l&&c&&c.getText()?{}:void 0),l){if(l.getImageState()!=s.a.LOADED)return;var h=t.getBuilder(n.getZIndex(),i.a.IMAGE);h.setImageStyle(l,a),h.drawMultiPoint(e,r)}if(c&&c.getText()){var u=(o||t).getBuilder(n.getZIndex(),i.a.TEXT);u.setTextStyle(c,a),u.drawText(e,r)}},MultiLineString:function(t,e,n,r,s){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),i.a.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r)}var l=n.getText();if(l&&l.getText()){var c=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);c.setTextStyle(l),c.drawText(e,r)}},MultiPolygon:function(t,e,n,r,s){var o=n.getFill(),a=n.getStroke();if(a||o){var l=t.getBuilder(n.getZIndex(),i.a.POLYGON);l.setFillStrokeStyle(o,a),l.drawMultiPolygon(e,r)}var c=n.getText();if(c&&c.getText()){var h=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);h.setTextStyle(c),h.drawText(e,r)}},GeometryCollection:function(t,e,n,i,r){var s,o,l=e.getGeometriesArray();for(s=0,o=l.length;s<o;++s)(0,a[l[s].getType()])(t,l[s],n,i,r)},Circle:function(t,e,n,r,s){var o=n.getFill(),a=n.getStroke();if(o||a){var l=t.getBuilder(n.getZIndex(),i.a.CIRCLE);l.setFillStrokeStyle(o,a),l.drawCircle(e,r)}var c=n.getText();if(c&&c.getText()){var h=(s||t).getBuilder(n.getZIndex(),i.a.TEXT);h.setTextStyle(c),h.drawText(e,r)}}};function l(t,e){return parseInt(Object(o.c)(t),10)-parseInt(Object(o.c)(e),10)}function c(t,e){var n=h(t,e);return n*n}function h(t,e){return.5*t/e}function u(t,e,n,o,l,c,h){var u=!1,d=n.getImage();if(d){var f=d.getImageState();f==s.a.LOADED||f==s.a.ERROR?d.unlistenImageChange(l):(f==s.a.IDLE&&d.load(),f=d.getImageState(),d.listenImageChange(l),u=!0)}return function(t,e,n,s,o,l){var c=n.getGeometryFunction()(e);if(c){var h=c.simplifyTransformed(s,o);n.getRenderer()?function t(e,n,s,o){if(n.getType()!=r.a.GEOMETRY_COLLECTION)e.getBuilder(s.getZIndex(),i.a.DEFAULT).drawCustom(n,o,s.getRenderer());else for(var a=n.getGeometries(),l=0,c=a.length;l<c;++l)t(e,a[l],s,o)}(t,h,n,e):(0,a[h.getType()])(t,h,n,e,l)}}(t,e,n,o,c,h),u}},xNT0:function(t,e,n){"use strict";var i=n("zYA+"),r=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.a[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();e.a=r},y1k7:function(t,e,n){"use strict";var i=n("+cQG"),r=n("rjvG"),s=n("70ZC"),o=n("j/Z9"),a=n("fzNE"),l=n("MicU"),c=n.n(l),h=n("vog+"),u=n("lRKV"),d=n("QRdp"),f=function(){function t(t){this.rbush_=new c.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(u.c)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var s=t[i],o=e[i],a={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:o};n[i]=a,this.items_[Object(u.c)(o)]=a}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Object(u.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Object(u.c)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];Object(h.p)(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,r=t.length;i<r;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return Object(d.d)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(h.k)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),p=n("qsAS"),g=n("MMQm"),m=n("h7by");function _(t,e){return[[-1/0,-1/0,1/0,1/0]]}var v,y=n("SHzd"),b=n("I/d5"),w=n("HK6I"),x=n("6IIn"),C=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.feature=n,r.features=i,r}return C(e,t),e}(s.a),S=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:g.a.READY,wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=m.c,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(Object(y.a)(n.format_,7),n.loader_=Object(x.b)(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:_;var s,o,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new f:null,n.loadedExtentsRtree_=new f,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(s=r.features).getArray()),a||void 0!==s||(s=new i.a(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==s&&n.bindFeaturesCollection_(s),n}return C(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(u.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new O("addfeature",t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(w.a)(e,o.a.CHANGE,this.handleFeatureChange_,this),Object(w.a)(e,a.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(Object(y.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,s=t.length;r<s;r++){var o=t[r],a=Object(u.c)(o);this.addToIndex_(a,o)&&n.push(o)}r=0;for(var l=n.length;r<l;r++){o=n[r],a=Object(u.c)(o),this.setupChangeEvents_(a,o);var c=o.getGeometry();if(c){var h=c.getExtent();e.push(h),i.push(o)}else this.nullGeometryFeatures_[a]=o}this.featuresRtree_&&this.featuresRtree_.load(e,i),r=0;for(var d=n.length;r<d;r++)this.dispatchEvent(new O("addfeature",n[r]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener("addfeature",(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener("removefeature",(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(r.a.ADD,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}).bind(this)),t.addEventListener(r.a.REMOVE,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}).bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(w.c);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new O("clear");this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(d.d)(this.nullGeometryFeatures_)||Object(b.c)(t,Object(d.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,s=[NaN,NaN],o=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||m.b;return this.featuresRtree_.forEachInExtent(a,(function(t){if(l(t)){var e=t.getGeometry(),c=o;if((o=e.closestPointXY(n,i,s,o))<c){r=t;var h=Math.sqrt(o);a[0]=n-h,a[1]=i-h,a[2]=n+h,a[3]=i+h}}})),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(u.c)(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var o=s.toString();this.idIndex_[o]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[o]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new O("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(u.c)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(d.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,r=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=r[t];i.forEachInExtent(a,(function(t){return Object(h.g)(t.extent,a)}))||(o.dispatchEvent(new O("featuresloadstart")),o.loader_.call(o,a,e,n,(function(t){this.dispatchEvent(new O("featuresloadend",void 0,t))}).bind(o),(function(){this.dispatchEvent(new O("featuresloaderror"))}).bind(o)),i.insert(a,{extent:a.slice()}),o.loading=o.loader_!==m.c)},o=this,a=0,l=r.length;a<l;++a)s(a)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(Object(h.p)(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(u.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(u.c)(t);this.featureChangeKeys_[e].forEach(w.c),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new O("removefeature",t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Object(y.a)(this.format_,7),this.setLoader(Object(x.b)(t,this.format_))},e}(p.a);e.a=S},yAfB:function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function r(t){return t[0]>0&&t[1]>0}function s(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return o}))},yki2:function(t,e,n){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},ynjL:function(t,e,n){"use strict";var i,r=n("SHzd"),s=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return Object(r.a)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){Object(r.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}(),o=n("F52n"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(o.b)(t)[0];this.forEach((function(t){t.tileCoord[0]!==e&&(this.remove(Object(o.c)(t.tileCoord)),t.release())}).bind(this))}},e}(s);e.a=l},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(r))try{r.call(this)}catch(o){e=o instanceof h?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof h?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new h(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends u{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const i=new p(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _(t){return t}function v(...t){return y(t)}function y(t){return 0===t.length?_:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:y(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends u{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class O extends p{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new O(this)}lift(t){const e=new k(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),u.EMPTY):this.isStopped?(t.complete(),u.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new k(t,e),t})();class k extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):u.EMPTY}}function E(t){return t&&"function"==typeof t.schedule}class M extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const T=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=A(),R=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function I(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[m])return i=t,t=>{const e=i[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return T(t);if(I(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[P])return e=t,t=>{const n=e[P]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,i};function L(t,e,n,i,r=new M(t,n,i)){if(!r.closed)return e instanceof b?e.subscribe(r):D(e)(r)}class F extends p{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function N(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}class j{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new z(t,this.project,this.thisArg))}}class z extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new b(n=>{const i=new u;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new b(n=>{const i=new u;return i.add(e.schedule(()=>{const r=t[m]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(I(t))return function(t,e){return new b(n=>{const i=new u;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(R(t))return V(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const i=new u;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[P](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(D(t))}function H(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(H((n,i)=>B(t(n,i)).pipe(N((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new U(t,n)))}class U{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new G(t,this.project,this.concurrent))}}class G extends F{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new M(this,e,n),r=this.destination;r.add(i);const s=L(this,t,void 0,void 0,i);s!==i&&r.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t=Number.POSITIVE_INFINITY){return H(_,t)}function Y(t,e){return e?V(t,e):new b(T(t))}function q(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return E(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:W(e)(Y(t,n))}function X(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new K(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class K extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Z extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.EMPTY)),t}refCount(){return X()(this)}}const Q=(()=>{const t=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends O{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new S}function et(){return t=>{return X()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,Q);return i.source=t,i.subjectFactory=n,i})(t));var e}}function nt(t){return{toString:t}.toString()}function it(t,e,n){return nt(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const rt=it("Inject",t=>({token:t})),st=it("Optional"),ot=it("Self"),at=it("SkipSelf");var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function ht(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ft(t){return pt(t,t[mt])||pt(t,t[yt])}function pt(t,e){return e&&e.token===t?e:null}function gt(t){return t&&(t.hasOwnProperty(_t)||t.hasOwnProperty(bt))?t[_t]:null}const mt=ct({\u0275prov:ct}),_t=ct({\u0275inj:ct}),vt=ct({\u0275provFallback:ct}),yt=ct({ngInjectableDef:ct}),bt=ct({ngInjectorDef:ct});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ct=ct({__forward_ref__:ct});function Ot(t){return t.__forward_ref__=Ot,t.toString=function(){return wt(this())},t}function St(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(Ct)&&t.__forward_ref__===Ot}const Et="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,Pt=Et||At||Mt||Tt,Rt=ct({\u0275cmp:ct}),It=ct({\u0275dir:ct}),Dt=ct({\u0275pipe:ct}),Lt=ct({\u0275mod:ct}),Ft=ct({\u0275loc:ct}),Nt=ct({\u0275fac:ct}),jt=ct({__NG_ELEMENT_ID__:ct});class zt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Vt=new zt("INJECTOR",-1),Bt={},Ht=/\n/gm,Ut=ct({provide:String,useValue:ct});let Gt,Wt=void 0;function Yt(t){const e=Wt;return Wt=t,e}function qt(t){const e=Gt;return Gt=t,e}function Xt(t,e=lt.Default){if(void 0===Wt)throw new Error("inject() must be called from an injection context");return null===Wt?Zt(t,void 0,e):Wt.get(t,e&lt.Optional?null:void 0,e)}function $t(t,e=lt.Default){return(Gt||Xt)(St(t),e)}const Kt=$t;function Zt(t,e,n){const i=ft(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${wt(t)}]`)}function Qt(t){const e=[];for(let n=0;n<t.length;n++){const i=St(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=lt.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof st||"Optional"===r.ngMetadataName||r===st?n|=lt.Optional:r instanceof at||"SkipSelf"===r.ngMetadataName||r===at?n|=lt.SkipSelf:r instanceof ot||"Self"===r.ngMetadataName||r===ot?n|=lt.Self:t=r instanceof rt||r===rt?r.token:r}e.push($t(t,n))}else e.push($t(i))}return e}class Jt{get(t,e=Bt){if(e===Bt){const e=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw e.name="NullInjectorError",e}return e}}class te{}class ee{}function ne(t,e){t.forEach(t=>Array.isArray(t)?ne(t,e):e(t))}function ie(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function re(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function se(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function oe(t,e,n){let i=le(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ae(t,e){const n=le(t,e);if(n>=0)return t[1|n]}function le(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const ce=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),he=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},de=[];let fe=0;function pe(t){return nt(()=>{const e=t.type,n=e.prototype,i={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ce.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||de,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||he.Emulated,id:"c",styles:t.styles||de,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return r.id+=fe++,r.inputs=ye(t.inputs,i),r.outputs=ye(t.outputs),o&&o.forEach(t=>t(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(ge):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(me):null,r})}function ge(t){return xe(t)||function(t){return t[It]||null}(t)}function me(t){return function(t){return t[Dt]||null}(t)}const _e={};function ve(t){const e={type:t.type,bootstrap:t.bootstrap||de,declarations:t.declarations||de,imports:t.imports||de,exports:t.exports||de,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt(()=>{_e[t.id]=t.type}),e}function ye(t,e){if(null==t)return ue;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const be=pe;function we(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function xe(t){return t[Rt]||null}function Ce(t,e){return t.hasOwnProperty(Nt)?t[Nt]:null}function Oe(t,e){const n=t[Lt]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function Se(t){return Array.isArray(t)&&"object"==typeof t[1]}function ke(t){return Array.isArray(t)&&!0===t[1]}function Ee(t){return 0!=(8&t.flags)}function Me(t){return 2==(2&t.flags)}function Te(t){return 1==(1&t.flags)}function Ae(t){return null!==t.template}function Pe(t){return 0!=(512&t[2])}let Re=void 0;function Ie(){return void 0!==Re?Re:"undefined"!=typeof document?document:void 0}function De(t){return!!t.listen}const Le={createRenderer:(t,e)=>Ie()};function Fe(t){for(;Array.isArray(t);)t=t[0];return t}function Ne(t,e){return Fe(e[t+20])}function je(t,e){return Fe(e[t.index])}function ze(t,e){return t.data[e+20]}function Ve(t,e){return t[e+20]}function Be(t,e){const n=e[t];return Se(n)?n:n[0]}function He(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ue(t){return 4==(4&t[2])}function Ge(t){return 128==(128&t[2])}function We(t,e){return null===t||null==e?null:t[e]}function Ye(t){t[18]=0}function qe(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Xe={lFrame:vn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function $e(){return Xe.bindingsEnabled}function Ke(){return Xe.lFrame.lView}function Ze(){return Xe.lFrame.tView}function Qe(t){Xe.lFrame.contextLView=t}function Je(){return Xe.lFrame.previousOrParentTNode}function tn(t,e){Xe.lFrame.previousOrParentTNode=t,Xe.lFrame.isParent=e}function en(){return Xe.lFrame.isParent}function nn(){Xe.lFrame.isParent=!1}function rn(){return Xe.checkNoChangesMode}function sn(t){Xe.checkNoChangesMode=t}function on(){const t=Xe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function an(){return Xe.lFrame.bindingIndex}function ln(){return Xe.lFrame.bindingIndex++}function cn(t){const e=Xe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hn(t,e){const n=Xe.lFrame;n.bindingIndex=n.bindingRootIndex=t,un(e)}function un(t){Xe.lFrame.currentDirectiveIndex=t}function dn(t){const e=Xe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function fn(){return Xe.lFrame.currentQueryIndex}function pn(t){Xe.lFrame.currentQueryIndex=t}function gn(t,e){const n=_n();Xe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function mn(t,e){const n=_n(),i=t[1];Xe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function _n(){const t=Xe.lFrame,e=null===t?null:t.child;return null===e?vn(t):e}function vn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function yn(){const t=Xe.lFrame;return Xe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const bn=yn;function wn(){const t=yn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xn(){return Xe.lFrame.selectedIndex}function Cn(t){Xe.lFrame.selectedIndex=t}function On(){const t=Xe.lFrame;return ze(t.tView,t.selectedIndex)}function Sn(){Xe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function kn(){Xe.lFrame.currentNamespace=null}function En(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Mn(t,e,n){Pn(t,e,3,n)}function Tn(t,e,n,i){(3&t[2])===n&&Pn(t,e,n,i)}function An(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Pn(t,e,n,i){const r=null!=i?i:-1;let s=0;for(let o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=i&&s>=i)break}else e[o]<0&&(t[18]+=65536),(s<r||-1==r)&&(Rn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Rn(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class In{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Dn(t,e,n){const i=De(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Fn(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Ln(t){return 3===t||4===t||6===t}function Fn(t){return 64===t.charCodeAt(0)}function Nn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||jn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function jn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function zn(t){return-1!==t}function Vn(t){return 32767&t}function Bn(t){return t>>16}function Hn(t,e){let n=Bn(t),i=e;for(;n>0;)i=i[15],n--;return i}function Un(t){return"string"==typeof t?t:null==t?"":""+t}function Gn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Un(t)}const Wn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pt))();function Yn(t){return{name:"window",target:t.ownerDocument.defaultView}}function qn(t){return{name:"document",target:t.ownerDocument}}function Xn(t){return{name:"body",target:t.ownerDocument.body}}function $n(t){return t instanceof Function?t():t}let Kn=!0;function Zn(t){const e=Kn;return Kn=t,e}let Qn=0;function Jn(t,e){const n=ei(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,ti(i.data,t),ti(e,null),ti(i.blueprint,null));const r=ni(t,e),s=t.injectorIndex;if(zn(r)){const t=Vn(r),n=Hn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function ti(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ei(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function ni(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function ii(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[jt]:n.charCodeAt(0)||0;null==i&&(i=n[jt]=Qn++);const r=255&i,s=1<<r,o=64&r,a=32&r,l=e.data;128&r?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,n)}function ri(t,e,n,i=lt.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[jt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){gn(e,t);try{const t=r();if(null!=t||i&lt.Optional)return t;throw new Error(`No provider for ${Gn(n)}!`)}finally{bn()}}else if("number"==typeof r){if(-1===r)return new ui(t,e);let s=null,o=ei(t,e),a=-1,l=i&lt.Host?e[16][6]:null;for((-1===o||i&lt.SkipSelf)&&(a=-1===o?ni(t,e):e[o+8],hi(i,!1)?(s=e[1],o=Vn(a),e=Hn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(ci(r,o,t.data)){const t=oi(o,e,n,s,i,l);if(t!==si)return t}hi(i,e[1].data[o+8]===l)&&ci(r,o,e)?(s=t,o=Vn(a),e=Hn(a,e)):o=-1}}}if(i&lt.Optional&&void 0===r&&(r=null),0==(i&(lt.Self|lt.Host))){const t=e[9],s=qt(void 0);try{return t?t.get(n,r,i&lt.Optional):Zt(n,r,i&lt.Optional)}finally{qt(s)}}if(i&lt.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Gn(n)}]`)}const si={};function oi(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=ai(a,o,n,null==i?Me(a)&&Kn:i!=o&&3===a.type,r&lt.Host&&s===a);return null!==l?li(e,o,l,a):si}function ai(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=s>>16,h=r?a+c:t.directiveEnd;for(let u=i?a:a+c;u<h;u++){const t=o[u];if(u<l&&n===t||u>=l&&t.type===n)return u}if(r){const t=o[l];if(t&&Ae(t)&&t.type===n)return l}return null}function li(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof In){const o=r;if(o.resolving)throw new Error("Circular dep for "+Gn(s[n]));const a=Zn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=qt(o.injectImpl)),gn(t,i);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:r,doCheck:s}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&qt(l),Zn(a),o.resolving=!1,bn()}}return r}function ci(t,e,n){const i=64&t,r=32&t;let s;return s=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(s&1<<t)}function hi(t,e){return!(t&lt.Self||t&lt.Host&&e)}class ui{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ri(this._tNode,this._lView,t,void 0,e)}}function di(t){const e=t;if(kt(t))return()=>{const t=di(St(e));return t?t():null};let n=Ce(e);if(null===n){const t=gt(e);n=t&&t.factory}return n||null}function fi(t){return nt(()=>{const e=t.prototype.constructor,n=e[Nt]||di(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Nt]||di(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function pi(t){return t.ngDebugContext}function gi(t){return t.ngOriginalError}function mi(t,...e){t.error(...e)}class _i{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||mi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pi(t)?pi(t):this._findContext(gi(t)):null}_findOriginalError(t){let e=gi(t);for(;e&&gi(e);)e=gi(e);return e}}class vi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class yi extends vi{getTypeName(){return"HTML"}}class bi extends vi{getTypeName(){return"Style"}}class wi extends vi{getTypeName(){return"Script"}}class xi extends vi{getTypeName(){return"URL"}}class Ci extends vi{getTypeName(){return"ResourceURL"}}function Oi(t){return t instanceof vi?t.changingThisBreaksApplicationSecurity:t}function Si(t,e){const n=ki(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function ki(t){return t instanceof vi&&t.getTypeName()||null}let Ei=!0,Mi=!1;function Ti(){return Mi=!0,Ei}class Ai{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Pi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ri=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ii(t){return(t=String(t)).match(Pi)||t.match(Ri)?t:(Ti()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Di(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Li(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Fi=Di("area,br,col,hr,img,wbr"),Ni=Di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ji=Di("rp,rt"),zi=Li(ji,Ni),Vi=Li(Fi,Li(Ni,Di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Li(ji,Di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zi),Bi=Di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hi=Di("srcset"),Ui=Li(Bi,Hi,Di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gi=Di("script,style,template");class Wi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Vi.hasOwnProperty(e))return this.sanitizedSomething=!0,!Gi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!Ui.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Bi[s]&&(o=Ii(o)),Hi[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Ii(t.trim())).join(", ")),this.buf.push(" ",e,'="',Xi(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Vi.hasOwnProperty(e)&&!Fi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Xi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Yi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qi=/([^\#-~ |!])/g;function Xi(t){return t.replace(/&/g,"&amp;").replace(Yi,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(qi,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $i;function Ki(t,e){let n=null;try{$i=$i||new Ai(t);let i=e?String(e):"";n=$i.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=$i.getInertBodyElement(i)}while(i!==s);const o=new Wi,a=o.sanitizeChildren(Zi(n)||n);return Ti()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Zi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Zi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Qi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ji=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),tr=/^url\(([^)]+)\)$/;function er(t){if(!(t=String(t).trim()))return"";const e=t.match(tr);return e&&Ii(e[1])===e[1]||t.match(Ji)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Ti()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function nr(t){const e=rr();return e?e.sanitize(Qi.HTML,t)||"":Si(t,"HTML")?Oi(t):Ki(Ie(),Un(t))}function ir(t){const e=rr();return e?e.sanitize(Qi.URL,t)||"":Si(t,"URL")?Oi(t):Ii(Un(t))}function rr(){const t=Ke();return t&&t[12]}function sr(t,e){t.__ngContext__=e}function or(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function ar(){throw new Error("Cannot mix multi providers and regular providers")}function lr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function cr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==lr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function hr(t){return 0===t.type&&"ng-template"!==t.tagName}function ur(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function dr(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ln(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!ur(t,l,n)||""===l&&1===e.length){if(fr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!cr(t.attrs,c,n)){if(fr(i))return!1;o=!0}continue}const h=pr(8&i?"class":l,r,hr(t),n);if(-1===h){if(fr(i))return!1;o=!0;continue}if(""!==c){let t;t=h>s?"":r[h+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==lr(e,c,0)||2&i&&c!==t){if(fr(i))return!1;o=!0}}}}else{if(!o&&!fr(i)&&!fr(l))return!1;if(o&&fr(l))continue;o=!1,i=l|1&i}}return fr(i)||o}function fr(t){return 0==(1&t)}function pr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function gr(t,e,n=!1){for(let i=0;i<e.length;i++)if(dr(t,e[i],n))return!0;return!1}function mr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function _r(t,e){return t?":not("+e.trim()+")":e}function vr(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||fr(o)||(e+=_r(s,r),r=""),i=o,s=s||!fr(i);n++}return""!==r&&(e+=_r(s,r)),e}const yr={};function br(t){const e=t[3];return ke(e)?e[3]:e}function wr(t){return Cr(t[13])}function xr(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!ke(t);)t=t[4];return t}function Or(t){Sr(Ze(),Ke(),xn()+t,rn())}function Sr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Mn(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Tn(e,i,0,n)}Cn(n)}function kr(t,e){return t<<17|e<<2}function Er(t){return t>>17&32767}function Mr(t){return 2|t}function Tr(t){return(131068&t)>>2}function Ar(t,e){return-131069&t|e<<2}function Pr(t){return 1|t}function Rr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];pn(r),n.contentQueries(2,e[s],s)}}}function Ir(t,e,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Dr(t,e,n,i,r,s,o,a,l,c){const h=e.blueprint.slice();return h[0]=r,h[2]=140|i,Ye(h),h[3]=h[15]=t,h[8]=n,h[10]=o||t&&t[10],h[11]=a||t&&t[11],h[12]=l||t&&t[12]||null,h[9]=c||t&&t[9]||null,h[6]=s,h[16]=2==e.type?t[16]:h,h}function Lr(t,e,n,i,r,s){const o=n+20,a=t.data[o]||function(t,e,n,i,r,s){const o=Je(),a=en(),l=a?o:o&&o.parent,c=t.data[n]=Wr(0,l&&l!==e?l:null,i,n,r,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,i,r,s);return tn(a,!0),a}function Fr(t,e,n){mn(e,e[6]);try{const i=t.viewQuery;null!==i&&fs(1,i,n);const r=t.template;null!==r&&zr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rr(t,e),t.staticViewQueries&&fs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ls(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,wn()}}function Nr(t,e,n,i){const r=e[2];if(256==(256&r))return;mn(e,e[6]);const s=rn();try{Ye(e),Xe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&zr(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Mn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Tn(e,n,0,null),An(e,0)}if(function(t){for(let e=wr(t);null!==e;e=xr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&qe(i,1),n[2]|=1024}}}(e),function(t){for(let e=wr(t);null!==e;e=xr(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];Ge(n)&&Nr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Rr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Mn(e,n)}else{const n=t.contentHooks;null!==n&&Tn(e,n,1),An(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,r=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Cn(s),i+=9+n[++t],r=i):i+=o:(null!==o&&(hn(i,r),o(2,e[r])),r++)}}}finally{Cn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)as(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&fs(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&Mn(e,n)}else{const n=t.viewHooks;null!==n&&Tn(e,n,2),An(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qe(e[3],-1))}finally{wn()}}function jr(t,e,n,i){const r=e[10],s=!rn(),o=Ue(e);try{s&&!o&&r.begin&&r.begin(),o&&Fr(t,e,i),Nr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function zr(t,e,n,i,r){const s=xn();try{Cn(-1),2&i&&e.length>20&&Sr(t,e,0,rn()),n(i,r)}finally{Cn(s)}}function Vr(t,e,n){if(Ee(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Br(t,e,n){$e()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Jn(n,e),sr(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=Ae(i);s&&is(e,n,i);const l=li(e,t,a,n);sr(l,e),null!==o&&rs(0,a-r,l,i,0,o),s&&(Be(n.index,e)[8]=l)}}(t,e,n,je(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,l=Xe.lFrame.currentDirectiveIndex;try{Cn(a);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];un(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Zr(i,r):o&&s.push(null)}}finally{Cn(-1),un(l)}}(t,e,n))}function Hr(t,e,n=je){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Ur(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Gr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Gr(t,e,n,i,r,s,o,a,l,c){const h=20+i,u=h+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:yr);return n}(h,u);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function Wr(t,e,n,i,r,s){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function qr(t,e,n,i,r,s,o,a){const l=je(e,n);let c,h=e.inputs;var u;!a&&null!=h&&(c=h[i])?(ys(t,n,c,i,r),Me(e)&&function(t,e){const n=Be(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,e.tagName||"",i):r,De(s)?s.setProperty(l,i,r):Fn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Xr(t,e,n,i){let r=!1;if($e()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];gr(n,o.selectors,!1)&&(r||(r=[]),ii(Jn(n,e),t,o.type),Ae(o)?(2&n.flags&&or(n),Jr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){let i=0;r=!0,es(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Qr(t,n,s.length);let a=!1,l=!1;for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=Nn(n.mergedAttrs,c.hostAttrs),ns(t,e,c),ts(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),l=!0),$r(t,c),i+=c.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||hr(e)?null:ss(n,r);s.push(c),o=Yr(n,l,o),a=Yr(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),Kr(t,e,i)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Nn(n.mergedAttrs,n.attrs),r}function $r(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Kr(t,e,n){for(let i=0;i<n;i++)e.push(yr),t.blueprint.push(yr),t.data.push(null)}function Zr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Qr(t,e,n){const i=20-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function Jr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ts(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ae(e)&&(n[""]=t)}}function es(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ns(t,e,n){t.data.push(n);const i=n.factory||(n.factory=Ce(n.type)),r=new In(i,Ae(n),null);t.blueprint.push(r),e.push(r)}function is(t,e,n){const i=je(e,t),r=Ur(n),s=t[10],o=cs(t,Dr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n)));t[e.index]=o}function rs(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function ss(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function os(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function as(t,e){const n=Be(e,t);if(Ge(n)){const t=n[1];80&n[2]?Nr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let i=wr(e);null!==i;i=xr(i))for(let e=10;e<i.length;e++){const n=i[e];if(1024&n[2]){const t=n[1];Nr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Be(n[i],e);Ge(r)&&r[5]>0&&t(r)}}(n)}}function ls(t,e){const n=Be(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Fr(i,n,n[8])}function cs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function hs(t){for(;t;){t[2]|=64;const e=br(t);if(Pe(t)&&!e)return t;t=e}return null}function us(t,e,n){const i=e[10];i.begin&&i.begin();try{Nr(t,e,t.template,n)}catch(r){throw vs(e,r),r}finally{i.end&&i.end()}}function ds(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=He(n),r=i[1];jr(r,i,r.template,n)}}(t[8])}function fs(t,e,n){pn(0),e(t,n)}const ps=(()=>Promise.resolve(null))();function gs(t){return t[7]||(t[7]=[])}function ms(t){return t.cleanup||(t.cleanup=[])}function _s(t,e,n){return(null===t||Ae(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function vs(t,e){const n=t[9],i=n?n.get(_i,null):null;i&&i.handleError(e)}function ys(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function bs(t,e,n){const i=Ne(e,t),r=t[11];De(r)?r.setValue(i,n):i.textContent=n}function ws(t,e){const n=e[3];return-1===t.index?ke(n)?n:null:n}function xs(t,e){const n=ws(t,e);return n?Ds(e[11],n[7]):null}function Cs(t,e,n,i,r){if(null!=i){let s,o=!1;ke(i)?s=i:Se(i)&&(o=!0,i=i[0]);const a=Fe(i);0===t&&null!==n?null==r?Rs(e,n,a):Ps(e,n,a,r||null):1===t&&null!==n?Ps(e,n,a,r||null):2===t?function(t,e,n){const i=Ds(t,e);i&&function(t,e,n,i){De(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Fe(n)&&Cs(e,t,i,s,r);for(let o=10;o<n.length;o++){const r=n[o];zs(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Os(t,e,n,i){const r=xs(t.node,e);r&&zs(t,e,e[11],n?1:2,r,i)}function Ss(t,e){const n=t[9],i=n.indexOf(e);1024&e[2]&&qe(e[3],-1),n.splice(i,1)}function ks(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&Ss(r,i),e>0&&(t[n-1][4]=i[4]);const s=re(t,10+e);Os(i[1],i,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Es(t,e){if(!(256&e[2])){const n=e[11];De(n)&&n.destroyNode&&zs(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ts(t[1],t);for(;e;){let n=null;if(Se(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Se(e)&&Ts(e[1],e),e=Ms(e,t);null===e&&(e=t),Se(e)&&Ts(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ms(t,e){let n;return Se(t)&&(n=t[6])&&2===n.type?ws(n,t):t[3]===e?null:t[3]}function Ts(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof In)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],s="function"==typeof r?r(e):Fe(e[r]),o=t[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],o,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&De(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&ke(e[3])){i!==e[3]&&Ss(i,e);const n=e[19];null!==n&&n.detachView(t)}}}function As(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?xs(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return je(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==he.ShadowDom&&n!==he.Native)return null}return je(i,n)}function Ps(t,e,n,i){De(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function Rs(t,e,n){De(t)?t.appendChild(e,n):e.appendChild(n)}function Is(t,e,n,i){null!==i?Ps(t,e,n,i):Rs(t,e,n)}function Ds(t,e){return De(t)?t.parentNode(e):e.parentNode}function Ls(t,e){if(2===t.type){const n=ws(t,e);return null===n?null:Ns(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?je(t,e):null}function Fs(t,e,n,i){const r=As(t,i,e);if(null!=r){const t=e[11],s=Ls(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Is(t,r,n[e],s);else Is(t,r,n,s)}}function Ns(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return je(n,e);if(0===i)return Ns(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return ke(t)?Ns(-1,t):Fe(t)}}{const i=e[16],r=i[6],s=br(i),o=r.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,i)}return e[7]}function js(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;o&&0===e&&(a&&sr(Fe(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(js(t,e,n.child,i,r,s,!1),Cs(e,t,r,a,s)):1===l?Vs(t,e,i,n,r,s):Cs(e,t,r,a,s)),n=o?n.projectionNext:n.next}}function zs(t,e,n,i,r,s){js(n,i,t.node.child,e,r,s,!1)}function Vs(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Cs(e,t,r,a[l],s);else js(t,e,a,o[3],r,s,!0)}function Bs(t,e,n){De(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hs(t,e,n){De(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Us{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,r,s=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&r.push(Fe(o)),ke(o))for(let e=10;e<o.length;e++){const n=o[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,r)}const a=i.type;if(4===a||5===a)t(e,n,i.child,r);else if(1===a){const e=n[16],s=e[6].projection[i.projection];if(Array.isArray(s))r.push(...s);else{const n=br(e);t(n[1],n,s,r,!0)}}i=s?i.projectionNext:i.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Es(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,gs(n=this._lView).push(i),e.firstCreatePass&&ms(e).push(n[7].length-1,null)}markForCheck(){hs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){us(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){sn(!0);try{us(t,e,n)}finally{sn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,zs(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gs extends Us{constructor(t){super(t),this._view=t}detectChanges(){ds(this._view)}checkNoChanges(){!function(t){sn(!0);try{ds(t)}finally{sn(!1)}}(this._view)}get context(){return null}}let Ws,Ys,qs;function Xs(t,e,n){return Ws||(Ws=class extends t{}),new Ws(je(e,n))}function $s(t,e,n,i){return Ys||(Ys=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Dr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Fr(e,n,t),new Us(n)}}),0===n.type?new Ys(i,n,Xs(e,n,i)):null}function Ks(t,e,n,i){let r;qs||(qs=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Xs(e,this._hostTNode,this._hostView)}get injector(){return new ui(this._hostTNode,this._hostView)}get parentInjector(){const t=ni(this._hostTNode,this._hostView),e=Hn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=Bn(t),r=e,s=e[6];for(;i>1;)r=r[15],s=r[6],i--;return s}(t,this._hostView,this._hostTNode);return zn(t)&&null!=n?new ui(n,e):new ui(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(te,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ke(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new qs(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-10?(e[4]=n[r],ie(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,this._lContainer,r),Os(i,n,!0,Ns(r,this._lContainer)),t.attachToViewContainerRef(this),ie(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=ks(t,e);n&&Es(n[1],n)}(this._lContainer,e),re(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ks(this._lContainer,e);return n&&null!=re(this._lContainer[8],e)?new Us(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=i[n.index];if(ke(s))r=s;else{let t;if(4===n.type)t=Fe(s);else if(t=i[11].createComment(""),Pe(i)){const e=i[11],r=je(n,i);Ps(e,Ds(e,r),t,function(t,e){return De(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Fs(i[1],i,t,n);i[n.index]=r=os(s,i,t,n),cs(i,r)}return new qs(r,n,i)}function Zs(t=!1){return function(t,e,n){if(!n&&Me(t)){const n=Be(t.index,e);return new Us(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Us(e[16],e):null}(Je(),Ke(),t)}let Qs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Js(),t})();const Js=Zs,to=new zt("Set Injector scope."),eo={},no={},io=[];let ro=void 0;function so(){return void 0===ro&&(ro=new Jt),ro}function oo(t,e=null,n=null,i){return new ao(t,n,e||so(),i)}class ao{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ne(e,n=>this.processProvider(n,t,e)),ne([t],t=>this.processInjectorType(t,[],r)),this.records.set(Vt,ho(void 0,this));const s=this.records.get(to);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:wt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Bt,n=lt.Default){this.assertNotDestroyed();const i=Yt(this);try{if(!(n&lt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof zt)&&ft(t);e=n&&this.injectableDefInScope(n)?ho(lo(t),eo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&lt.Self?so():this.parent).get(t,e=n&lt.Optional&&e===Bt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(wt(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=wt(e);if(Array.isArray(e))r=e.map(wt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):wt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Ht,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Yt(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(wt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=St(t)))return!1;let i=gt(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=gt(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{ne(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];ne(i,t=>this.processProvider(t,n,i||io))}}this.injectorDefTypes.add(s),this.records.set(s,ho(i.factory,eo));const a=i.providers;if(null!=a&&!o){const e=t;ne(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=fo(t=St(t))?t:St(t&&t.provide);const r=function(t,e,n){return uo(t)?ho(void 0,t.useValue):ho(co(t,e,n),eo)}(t,e,n);if(fo(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&ar()}else{let e=this.records.get(i);e?void 0===e.multi&&ar():(e=ho(void 0,eo,!0),e.factory=()=>Qt(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===no?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(wt(t)):e.value===eo&&(e.value=no,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function lo(t){const e=ft(t),n=null!==e?e.factory:Ce(t);if(null!==n)return n;const i=gt(t);if(null!==i)return i.factory;if(t instanceof zt)throw new Error(`Token ${wt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=se(e,"?");throw new Error(`Can't resolve all parameters for ${wt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[yt]||t[vt]&&t[vt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function co(t,e,n){let i=void 0;if(fo(t)){const e=St(t);return Ce(e)||lo(e)}if(uo(t))i=()=>St(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Qt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>$t(St(t.useExisting));else{const r=St(t&&(t.useClass||t.provide));if(r||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${wt(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return Ce(r)||lo(r);i=()=>new r(...Qt(t.deps))}var r;return i}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uo(t){return null!==t&&"object"==typeof t&&Ut in t}function fo(t){return"function"==typeof t}const po=function(t,e,n){return function(t,e=null,n=null,i){const r=oo(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let go=(()=>{class t{static create(t,e){return Array.isArray(t)?po(t,e,""):po(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Bt,t.NULL=new Jt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>$t(Vt)}),t.__NG_ELEMENT_ID__=-1,t})();const mo=new zt("AnalyzeForEntryComponents");let _o=new Map;const vo=new Set;function yo(t){return"string"==typeof t?t:t.text()}function bo(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=xt(r,t):2==s&&(i=xt(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}let wo=null;function xo(){if(!wo){const t=Pt.Symbol;if(t&&t.iterator)wo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(wo=n)}}}return wo}function Co(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Oo{constructor(t){this.wrapped=t}static wrap(t){return new Oo(t)}static unwrap(t){return Oo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Oo}}function So(t){return!!ko(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function ko(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Eo(t,e,n){return t[e]=n}function Mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function To(t,e,n,i){const r=Mo(t,e,n);return Mo(t,e+1,i)||r}function Ao(t,e,n,i,r){const s=To(t,e,n,i);return Mo(t,e+2,r)||s}function Po(t,e,n,i){const r=Ke();return Mo(r,ln(),e)&&(Ze(),function(t,e,n,i,r,s){const o=je(t,e),a=e[11];if(null==i)De(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==r?Un(i):r(i,t.tagName||"",n);De(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(On(),r,t,e,n,i)),Po}function Ro(t,e,n,i){return Mo(t,ln(),n)?e+Un(n)+i:yr}function Io(t,e,n,i,r,s,o,a){const l=Ke(),c=Ze(),h=t+20,u=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,h=Lr(e,n[6],t,0,o||null,We(c,a));Xr(e,n,h,We(c,l)),En(e,h);const u=h.tViews=Gr(2,-1,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=Wr(0,null,2,-1,null,null);return d.injectorIndex=h.injectorIndex,u.node=d,null!==e.queries&&(e.queries.template(e,h),u.queries=e.queries.embeddedTView(h)),h}(t,c,l,e,n,i,r,s,o):c.data[h];tn(u,!1);const d=l[11].createComment("");Fs(c,l,d,u),sr(d,l),cs(l,l[h]=os(d,l,d,u)),Te(u)&&Br(c,l,u),null!=o&&Hr(l,u,a)}function Do(t){return Ve(Xe.lFrame.contextLView,t)}function Lo(t,e=lt.Default){const n=Ke();return null==n?$t(t,e):ri(Je(),n,St(t),e)}function Fo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Ln(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Je(),t)}function No(){throw new Error("invalid")}function jo(t,e,n){const i=Ke();return Mo(i,ln(),e)&&qr(Ze(),On(),i,t,e,i[11],n,!1),jo}function zo(t,e,n,i,r){const s=r?"class":"style";ys(t,n,e.inputs[s],s,i)}function Vo(t,e,n,i){const r=Ke(),s=Ze(),o=20+t,a=r[11],l=r[o]=Ir(e,a,Xe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=We(a,s),c=Lr(e,n[6],t,3,r,l);return Xr(e,n,c,We(a,o)),null!==c.attrs&&bo(c,c.attrs,!1),null!==c.mergedAttrs&&bo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,r,0,e,n,i):s.data[o];tn(c,!0);const h=c.mergedAttrs;null!==h&&Dn(a,l,h);const u=c.classes;null!==u&&Hs(a,l,u);const d=c.styles;null!==d&&Bs(a,l,d),Fs(s,r,l,c),0===Xe.lFrame.elementDepthCount&&sr(l,r),Xe.lFrame.elementDepthCount++,Te(c)&&(Br(s,r,c),Vr(s,c,r)),null!==i&&Hr(r,c)}function Bo(){let t=Je();en()?nn():(t=t.parent,tn(t,!1));const e=t;Xe.lFrame.elementDepthCount--;const n=Ze();n.firstCreatePass&&(En(n,t),Ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zo(n,e,Ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zo(n,e,Ke(),e.stylesWithoutHost,!1)}function Ho(t,e,n,i){Vo(t,e,n,i),Bo()}function Uo(t,e,n){const i=Ke(),r=Ze(),s=t+20,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=We(s,i),a=Lr(e,n[6],t,4,"ng-container",o);return null!==o&&bo(a,o,!0),Xr(e,n,a,We(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,i,e,n):r.data[s];tn(o,!0);const a=i[s]=i[11].createComment("");Fs(r,i,a,o),sr(a,i),Te(o)&&(Br(r,i,o),Vr(r,o,i)),null!=n&&Hr(i,o)}function Go(){let t=Je();const e=Ze();en()?nn():(t=t.parent,tn(t,!1)),e.firstCreatePass&&(En(e,t),Ee(t)&&e.queries.elementEnd(t))}function Wo(t,e,n){Uo(t,e,n),Go()}function Yo(){return Ke()}function qo(t){return!!t&&"function"==typeof t.then}function Xo(t){return!!t&&"function"==typeof t.subscribe}function $o(t,e,n=!1,i){const r=Ke(),s=Ze(),o=Je();return Zo(s,r,r[11],o,t,e,n,i),$o}function Ko(t,e,n=!1,i){const r=Je(),s=Ke(),o=Ze();return Zo(o,s,_s(dn(o.data),r,s),r,t,e,n,i),Ko}function Zo(t,e,n,i,r,s,o=!1,a){const l=Te(i),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),h=gs(e);let u=!0;if(3===i.type){const d=je(i,e),f=a?a(d):ue,p=f.target||d,g=h.length,m=a?t=>a(Fe(t[i.index])).target:i.index;if(De(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=Jo(i,e,s,!1);const t=n.listen(f.name||p,r,s);h.push(s,t),c&&c.push(r,m,g,g+1)}}else s=Jo(i,e,s,!0),p.addEventListener(r,s,o),h.push(s),c&&c.push(r,m,g,o)}const d=i.outputs;let f;if(u&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=h.length;h.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}function Qo(t,e,n){try{return!1!==e(n)}catch(i){return vs(t,i),!1}}function Jo(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?Be(t.index,e):e;0==(32&e[2])&&hs(o);let a=Qo(e,n,s),l=r.__ngNextListenerFn__;for(;l;)a=Qo(e,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ta(t=1){return function(t){return(Xe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Xe.lFrame.contextLView))[8]}(t)}function ea(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?gr(t,s,!0):mr(i,s))return r}else n=r}return n}function na(t){const e=Ke()[16][6];if(!e.projection){const n=e.projection=se(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?ea(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function ia(t,e=0,n){const i=Ke(),r=Ze(),s=Lr(r,i[6],t,1,null,n||null);null===s.projection&&(s.projection=e),nn(),function(t,e,n){Vs(e[11],0,e,n,As(t,n,e),Ls(n.parent||e[6],e))}(r,i,s)}function ra(t,e,n){return sa(t,"",e,"",n),ra}function sa(t,e,n,i,r){const s=Ke(),o=Ro(s,e,n,i);return o!==yr&&qr(Ze(),On(),s,t,o,s[11],r,!1),sa}const oa=[];function aa(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?Er(s):Tr(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];la(t[a],e)&&(l=!0,t[a+1]=i?Pr(n):Mr(n)),a=i?Er(n):Tr(n)}l&&(t[n+1]=i?Mr(s):Pr(s))}function la(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&le(t,e)>=0}const ca={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ha(t){return t.substring(ca.key,ca.keyEnd)}function ua(t){return t.substring(ca.value,ca.valueEnd)}function da(t,e){const n=ca.textEnd;return n===e?-1:(e=ca.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ca.key=e,n),ga(t,e,n))}function fa(t,e){const n=ca.textEnd;let i=ca.key=ga(t,e,n);return n===i?-1:(i=ca.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90);)e++;return e}(t,i,n),i=ma(t,i,n),i=ca.value=ga(t,i,n),i=ca.valueEnd=function(t,e,n){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=_a(t,l,o,n):e===o-4&&85===s&&82===r&&76===i&&40===l?a=o=_a(t,41,o,n):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(t,i,n),ma(t,i,n))}function pa(t){ca.key=0,ca.keyEnd=0,ca.value=0,ca.valueEnd=0,ca.textEnd=t.length}function ga(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ma(t,e,n,i){return(e=ga(t,e,n))<n&&e++,e}function _a(t,e,n,i){let r=-1,s=n;for(;s<i;){const n=t.charCodeAt(s++);if(n==e&&92!==r)return s;r=92==n&&92===r?0:n}throw new Error}function va(t,e,n){return Ca(t,e,n,!1),va}function ya(t,e){return Ca(t,e,null,!0),ya}function ba(t,e){for(let n=function(t){return pa(t),fa(t,ga(t,0,ca.textEnd))}(e);n>=0;n=fa(e,n))Ta(t,ha(e),ua(e))}function wa(t){Oa(oe,xa,t,!0)}function xa(t,e){for(let n=function(t){return pa(t),da(t,ga(t,0,ca.textEnd))}(e);n>=0;n=da(e,n))oe(t,ha(e),!0)}function Ca(t,e,n,i){const r=Ke(),s=Ze(),o=cn(2);if(s.firstUpdatePass&&ka(s,t,o,i),e!==yr&&Mo(r,o,e)){let a;null==n&&(a=function(){const t=Xe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Aa(s,s.data[xn()+20],r,r[11],t,r[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(Oi(t)))),t}(e,n),i,o)}}function Oa(t,e,n,i){const r=Ze(),s=cn(2);r.firstUpdatePass&&ka(r,null,s,i);const o=Ke();if(n!==yr&&Mo(o,s,n)){const a=r.data[xn()+20];if(Ia(a,i)&&!Sa(r,s)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=xt(t,n||"")),zo(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===yr&&(r=oa);let l=0,c=0,h=0<r.length?r[0]:null,u=0<s.length?s[0]:null;for(;null!==h||null!==u;){const d=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p=null,g=void 0;h===u?(l+=2,c+=2,d!==f&&(p=u,g=f)):null===u||null!==h&&h<u?(l+=2,p=h):(c+=2,p=u,g=f),null!==p&&Aa(t,e,n,i,p,g,o,a),h=l<r.length?r[l]:null,u=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return oa;const i=[],r=Oi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function Sa(t,e){return e>=t.expandoStartIndex}function ka(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[xn()+20],o=Sa(t,n);Ia(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=dn(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Ma(n=Ea(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Ea(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Tr(i))return t[Er(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Ea(null,t,e,n[1],i),n=Ma(n,e.attrs,i),function(t,e,n,i){t[Er(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Ma(i,t[s].hostAttrs,n);return Ma(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Er(o),l=Tr(o);t[i]=n;let c,h=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||le(t,c)>0)&&(h=!0)}else c=n;if(r)if(0!==l){const e=Er(t[a+1]);t[i+1]=kr(e,a),0!==e&&(t[e+1]=Ar(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=kr(a,0),0!==a&&(t[a+1]=Ar(t[a+1],i)),a=i;else t[i+1]=kr(l,0),0===a?a=i:t[l+1]=Ar(t[l+1],i),l=i;h&&(t[i+1]=Mr(t[i+1])),aa(t,c,i,!0),aa(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&le(s,e)>=0&&(n[i+1]=Pr(n[i+1]))}(e,c,t,i,s),o=kr(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function Ea(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Ma(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Ma(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oe(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ta(t,e,n){var i;("background-image"===(i=e)||"backgroundImage"===i||"background"===i||"border-image"===i||"borderImage"===i||"border-image-source"===i||"borderImageSource"===i||"filter"===i||"list-style"===i||"listStyle"===i||"list-style-image"===i||"listStyleImage"===i||"clip-path"===i||"clipPath"===i)&&(n=function(t){const e=rr();return e?e.sanitize(Qi.STYLE,t)||"":Si(t,"Style")?Oi(t):er(Un(t))}(n)),oe(t,e,n)}function Aa(t,e,n,i,r,s,o,a){if(3!==e.type)return;const l=t.data,c=l[a+1];Ra(1==(1&c)?Pa(l,e,n,r,Tr(c),o):void 0)||(Ra(s)||function(t){return 2==(2&t)}(c)&&(s=Pa(l,null,n,r,a,o)),function(t,e,n,i,r){const s=De(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==r?s?t.removeStyle(n,i,e):n.style.removeProperty(i):s?t.setStyle(n,i,r,e):n.style.setProperty(i,r)}}(i,o,Ne(xn(),n),r,s))}function Pa(t,e,n,i,r,s){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let h=n[r+1];h===yr&&(h=c?oa:void 0);let u=c?ae(h,i):l===i?h:void 0;if(s&&!Ra(u)&&(u=ae(e,i)),Ra(u)&&(a=u,o))return a;const d=t[r+1];r=o?Er(d):Tr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ae(t,i))}return a}function Ra(t){return void 0!==t}function Ia(t,e){return 0!=(t.flags&(e?16:32))}function Da(t,e=""){const n=Ke(),i=Ze(),r=t+20,s=i.firstCreatePass?Lr(i,n[6],t,3,null,null):i.data[r],o=n[r]=function(t,e){return De(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Fs(i,n,o,s),tn(s,!1)}function La(t){return Fa("",t,""),La}function Fa(t,e,n){const i=Ke(),r=Ro(i,t,e,n);return r!==yr&&bs(i,xn(),r),Fa}function Na(t,e,n,i,r){const s=Ke(),o=function(t,e,n,i,r,s){const o=To(t,an(),n,r);return cn(2),o?e+Un(n)+i+Un(r)+s:yr}(s,t,e,n,i,r);return o!==yr&&bs(s,xn(),o),Na}function ja(t,e,n,i,r,s,o){const a=Ke(),l=function(t,e,n,i,r,s,o,a){const l=Ao(t,an(),n,r,o);return cn(3),l?e+Un(n)+i+Un(r)+s+Un(o)+a:yr}(a,t,e,n,i,r,s,o);return l!==yr&&bs(a,xn(),l),ja}function za(t,e,n){const i=Ke();return Mo(i,ln(),e)&&qr(Ze(),On(),i,t,e,i[11],n,!0),za}function Va(t,e,n){const i=Ke();if(Mo(i,ln(),e)){const r=Ze(),s=On();qr(r,s,i,t,e,_s(dn(r.data),s,i),n,!0)}return Va}function Ba(t,e){const n=He(t)[1],i=n.data.length-1;En(n,{directiveStart:i,directiveEnd:i+1})}function Ha(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(Ae(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Ua(t.inputs),e.declaredInputs=Ua(t.declaredInputs),e.outputs=Ua(t.outputs);const n=r.hostBindings;n&&Ya(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Ga(t,s),o&&Wa(t,o),ht(t.inputs,r.inputs),ht(t.declaredInputs,r.declaredInputs),ht(t.outputs,r.outputs),Ae(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}e.afterContentChecked=e.afterContentChecked||r.afterContentChecked,e.afterContentInit=t.afterContentInit||r.afterContentInit,e.afterViewChecked=t.afterViewChecked||r.afterViewChecked,e.afterViewInit=t.afterViewInit||r.afterViewInit,e.doCheck=t.doCheck||r.doCheck,e.onDestroy=t.onDestroy||r.onDestroy,e.onInit=t.onInit||r.onInit}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Ha&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Nn(r.hostAttrs,n=Nn(n,r.hostAttrs))}}(i)}function Ua(t){return t===ue?{}:t===de?[]:t}function Ga(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Wa(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ya(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class qa{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Xa(t){t.type.prototype.ngOnChanges&&(t.setInput=$a,t.onChanges=function(){const t=Ka(this),e=t&&t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function $a(t,e,n,i){const r=Ka(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new qa(l&&l.currentValue,e,o===ue),t[i]=e}function Ka(t){return t.__ngSimpleChanges__||null}function Za(t,e,n,i,r){if(t=St(t),Array.isArray(t))for(let s=0;s<t.length;s++)Za(t[s],e,n,i,r);else{const s=Ze(),o=Ke();let a=fo(t)?t:St(t.provide),l=co(t);const c=Je(),h=65535&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>16;if(fo(t)||!t.multi){const i=new In(l,r,Lo),f=tl(a,e,r?h:h+d,u);-1===f?(ii(Jn(c,o),s,a),Qa(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(i),o.push(i)):(n[f]=i,o[f]=i)}else{const f=tl(a,e,h+d,u),p=tl(a,e,h,h+d),g=f>=0&&n[f],m=p>=0&&n[p];if(r&&!m||!r&&!g){ii(Jn(c,o),s,a);const h=function(t,e,n,i,r){const s=new In(t,n,Lo);return s.multi=[],s.index=e,s.componentProviders=0,Ja(s,r,i&&!n),s}(r?nl:el,n.length,r,i,l);!r&&m&&(n[p].providerFactory=h),Qa(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(h),o.push(h)}else Qa(s,t,f>-1?f:p,Ja(n[r?p:f],l,!r&&i));!r&&i&&m&&n[p].componentProviders++}}}function Qa(t,e,n,i){const r=fo(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Ja(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tl(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function el(t,e,n,i){return il(this.multi,[])}function nl(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=li(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),il(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],il(r,s);return s}function il(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function rl(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Ze();if(i.firstCreatePass){const r=Ae(t);Za(n,i.data,i.blueprint,r,!0),Za(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}Xa.ngInherit=!0;class sl{}class ol{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let al=(()=>{class t{}return t.NULL=new ol,t})(),ll=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>cl(t),t})();const cl=function(t){return Xs(t,Je(),Ke())};class hl{}const ul=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let dl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fl(),t})();const fl=function(){const t=Ke(),e=Be(Je().index,t);return function(t){const e=t[11];if(De(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Se(e)?e:t)};let pl=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class gl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ml=new gl("9.1.12");class _l{constructor(){}supports(t){return So(t)}create(t){return new yl(t)}}const vl=(t,e)=>e;class yl{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||vl}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Cl(n,i,r)?e:n,o=Cl(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!So(t))throw new Error(`Error trying to diff '${wt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Co(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Co(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Co(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Co(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Co(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Co(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new bl(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xl),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class bl{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wl{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Co(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class xl{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new wl,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cl(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Ol{constructor(){}supports(t){return t instanceof Map||ko(t)}create(){return new Sl}}class Sl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ko(t)))throw new Error(`Error trying to diff '${wt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new kl(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Co(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class kl{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let El=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new _l])}),t})(),Ml=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Ol])}),t})();const Tl=[new Ol],Al=new El([new _l]),Pl=new Ml(Tl);let Rl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Il(t,ll),t})();const Il=function(t,e){return $s(t,e,Je(),Ke())};let Dl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ll(t,ll),t})();const Ll=function(t,e){return Ks(t,e,Je(),Ke())},Fl={};class Nl extends al{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=xe(t);return new Vl(e,this.ngModule)}}function jl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const zl=new zt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wn});class Vl extends sl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(vr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return jl(this.componentDef.inputs)}get outputs(){return jl(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Fl,r);return s!==Fl||i===Fl?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(hl,Le),o=r.get(pl,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(De(t))return t.selectRootElement(e,n===he.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Ir(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:Wn,clean:ps,playerHandler:null,flags:0},f=Gr(0,-1,null,1,0,null,null,null,null,null),p=Dr(null,f,d,h,null,null,s,a,o,r);let g,m;mn(p,null);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=Lr(o,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(bo(a,l,!0),null!==t&&(Dn(r,t,l),null!==a.classes&&Hs(r,t,a.classes),null!==a.styles&&Bs(r,t,a.styles)));const c=i.createRenderer(t,e),h=Dr(n,Ur(e),null,e.onPush?64:16,n[20],a,i,c,void 0);return o.firstCreatePass&&(ii(Jn(a,n),o,e.type),Jr(o,a),es(a,n.length,1)),cs(n,h),n[20]=h}(c,this.componentDef,p,s,a);if(c)if(n)Dn(a,c,["ng-version",ml.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!fr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Dn(a,c,t),e&&e.length>0&&Hs(a,c,e.join(" "))}if(m=ze(f,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}g=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Je();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qr(t,i,1),ns(t,e,n));const r=li(e,t,e.length-1,i);sr(r,e);const s=je(i,e);return s&&sr(s,e),r}(s,n,e);i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Je();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Cn(a.index-20);const t=n[1];$r(t,e),Kr(t,n,e.hostVars),Zr(e,o)}return o}(t,this.componentDef,p,d,[Ba]),Fr(f,p,null)}finally{wn()}const _=new Bl(this.componentType,g,Xs(ll,m,p),p,m);return n&&!u||(f.node.child=m),_}}class Bl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gs(i),function(t,e,n,i){let r=t.node;null==r&&(t.node=r=Wr(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=t}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}var Hl=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ul={};function Gl(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Wl(e);if(n)return n;const i=e.split("-")[0];if(n=Wl(i),n)return n;if("en"===i)return Hl;throw new Error(`Missing locale data for the locale "${t}".`)}function Wl(t){return t in Ul||(Ul[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),Ul[t]}const Yl=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let ql="en-US";function Xl(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ql=t.toLowerCase().replace(/_/g,"-"))}const $l=new Map;class Kl extends te{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Nl(this);const n=Oe(t),i=t[Ft]||null;i&&Xl(i),this._bootstrapComponents=$n(n.bootstrap),this._r3Injector=oo(t,e,[{provide:te,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],wt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=go.THROW_IF_NOT_FOUND,n=lt.Default){return t===go||t===te||t===Vt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Zl extends ee{constructor(t){super(),this.moduleType=t,null!==Oe(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${wt(e)} vs ${wt(e.name)}`)})(t,$l.get(t),e),$l.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Kl(this.moduleType,t)}}function Ql(t,e,n){const i=on()+t,r=Ke();return r[i]===yr?Eo(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function Jl(t,e,n,i){return ic(Ke(),on(),t,e,n,i)}function tc(t,e,n,i,r){return rc(Ke(),on(),t,e,n,i,r)}function ec(t,e,n,i,r,s){return function(t,e,n,i,r,s,o,a){const l=e+n;return Ao(t,l,r,s,o)?Eo(t,l+3,a?i.call(a,r,s,o):i(r,s,o)):nc(t,l+3)}(Ke(),on(),t,e,n,i,r,s)}function nc(t,e){const n=t[e];return n===yr?void 0:n}function ic(t,e,n,i,r,s){const o=e+n;return Mo(t,o,r)?Eo(t,o+1,s?i.call(s,r):i(r)):nc(t,o+1)}function rc(t,e,n,i,r,s,o){const a=e+n;return To(t,a,r,s)?Eo(t,a+2,o?i.call(o,r,s):i(r,s)):nc(t,a+2)}function sc(t,e){const n=Ze();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=Ce(i.type)),o=qt(Lo),a=Zn(!1),l=s();return Zn(a),qt(o),function(t,e,n,i){const r=n+20;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=i}(n,Ke(),t,l),l}function oc(t,e,n){const i=Ke(),r=Ve(i,t);return cc(i,lc(i,t)?ic(i,on(),e,r.transform,n,r):r.transform(n))}function ac(t,e,n,i){const r=Ke(),s=Ve(r,t);return cc(r,lc(r,t)?rc(r,on(),e,s.transform,n,i,s):s.transform(n,i))}function lc(t,e){return t[1].data[e+20].pure}function cc(t,e){return Oo.isWrapped(e)&&(e=Oo.unwrap(e),t[an()]=yr),e}class hc extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof u&&t.add(o),o}}function uc(){return this._results[xo()]()}class dc{constructor(){this.dirty=!0,this._results=[],this.changes=new hc,this.length=0;const t=xo(),e=dc.prototype;e[t]||(e[t]=uc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class fc{constructor(t){this.queryList=t,this.matches=null}clone(){return new fc(this.queryList)}setDirty(){this.queryList.setDirty()}}class pc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new pc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Pc(t,e).matches&&this.queries[e].setDirty()}}class gc{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class mc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new mc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _c{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _c(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,vc(e,n[i]))}else{const n=this.metadata.predicate;n===Rl?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ai(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ll||i===Dl||i===Rl&&0===e.type)this.addMatch(e.index,-2);else{const n=ai(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function vc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function yc(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?Xs(ll,t,e):0===t.type?$s(Rl,ll,t,e):null}(e,t):-2===n?function(t,e,n){return n===ll?Xs(ll,e,t):n===Rl?$s(Rl,ll,e,t):n===Dl?Ks(Dl,ll,e,t):void 0}(t,e,i):li(t,t[1],n,e)}function bc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:yc(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function wc(t){const e=Ke(),n=Ze(),i=fn();pn(i+1);const r=Pc(n,i);if(t.dirty&&Ue(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?function t(e,n,i,r){const s=e.queries.getByIndex(i),o=s.matches;if(null!==o){const a=bc(e,n,s,i);for(let e=0;e<o.length;e+=2){const i=o[e];if(i>0)r.push(a[e/2]);else{const s=o[e+1],a=n[-i];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,r)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,s,r)}}}}}return r}(n,e,i,[]):bc(n,e,r,i);t.reset(s),t.notifyOnChanges()}return!0}return!1}function xc(t,e,n){Oc(Ze(),Ke(),t,e,n,!0)}function Cc(t,e,n){Oc(Ze(),Ke(),t,e,n,!1)}function Oc(t,e,n,i,r,s){t.firstCreatePass&&(Ac(t,new gc(n,i,s,r),-1),s&&(t.staticViewQueries=!0)),Tc(t,e)}function Sc(t,e,n,i){Ec(Ze(),Ke(),e,n,i,!1,Je(),t)}function kc(t,e,n,i){Ec(Ze(),Ke(),e,n,i,!0,Je(),t)}function Ec(t,e,n,i,r,s,o,a){t.firstCreatePass&&(Ac(t,new gc(n,i,s,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Tc(t,e)}function Mc(){return t=Ke(),e=fn(),t[19].queries[e].queryList;var t,e}function Tc(t,e){const n=new dc;!function(t,e,n,i){const r=gs(e);r.push(n),t.firstCreatePass&&ms(t).push(i,r.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new pc),e[19].queries.push(new fc(n))}function Ac(t,e,n){null===t.queries&&(t.queries=new mc),t.queries.track(new _c(e,n))}function Pc(t,e){return t.queries.getByIndex(e)}function Rc(t=lt.Default){const e=Zs(!0);if(null!=e||t&lt.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ic=new zt("Application Initializer");let Dc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)($t(Ic,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Lc=new zt("AppId"),Fc={provide:Lc,useFactory:function(){return`${Nc()}${Nc()}${Nc()}`},deps:[]};function Nc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jc=new zt("Platform Initializer"),zc=new zt("Platform ID"),Vc=new zt("appBootstrapListener");let Bc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Hc=new zt("LocaleId"),Uc=new zt("DefaultCurrencyCode");class Gc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Wc=function(t){return new Zl(t)},Yc=Wc,qc=function(t){return Promise.resolve(Wc(t))},Xc=function(t){const e=Wc(t),n=$n(Oe(t).declarations).reduce((t,e)=>{const n=xe(e);return n&&t.push(new Vl(n)),t},[]);return new Gc(e,n)},$c=Xc,Kc=function(t){return Promise.resolve(Xc(t))};let Zc=(()=>{class t{constructor(){this.compileModuleSync=Yc,this.compileModuleAsync=qc,this.compileModuleAndAllComponentsSync=$c,this.compileModuleAndAllComponentsAsync=Kc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Qc=new zt("compilerOptions"),Jc=(()=>Promise.resolve(0))();function th(t){"undefined"==typeof Zone?Jc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class eh{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hc(!1),this.onMicrotaskEmpty=new hc(!1),this.onStable=new hc(!1),this.onError=new hc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Pt.requestAnimationFrame,e=Pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.lastRequestAnimationFrameId=-1,sh(t),rh(t)}),sh(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,s,o,a)=>{try{return oh(t),n.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),ah(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return oh(t),e.invoke(i,r,s,o,a)}finally{ah(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,sh(t),rh(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eh.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(eh.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,ih,nh,nh);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function nh(){}const ih={};function rh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function oh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ah(t){t._nesting--,rh(t)}class lh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hc,this.onMicrotaskEmpty=new hc,this.onStable=new hc,this.onError=new hc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let ch=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eh.assertNotInAngularZone(),th(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())th(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)($t(eh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),hh=(()=>{class t{constructor(){this._applications=new Map,fh.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return fh.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class uh{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let dh,fh=new uh,ph=function(t,e,n){const i=t.get(Qc,[]).concat(e),r=new Zl(n);if(0===_o.size)return Promise.resolve(r);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(i.map(t=>t.providers));if(0===s.length)return Promise.resolve(r);const o=function(){const t=Pt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=go.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=i.then(yo))}return e}return _o.forEach((t,n)=>{const r=[];t.templateUrl&&r.push(i(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),r.push(i(e).then(i=>{o[a+n]=i,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(r).then(()=>function(t){vo.delete(t)}(n));e.push(l)}),_o=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const gh=new zt("AllowMultipleToken");class mh{constructor(t,e){this.name=t,this.token=e}}function _h(t,e,n=[]){const i="Platform: "+e,r=new zt(i);return(e=[])=>{let s=vh();if(!s||s.injector.get(gh,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:to,useValue:"platform"});!function(t){if(dh&&!dh.destroyed&&!dh.injector.get(gh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dh=t.get(yh);const e=t.get(jc,null);e&&e.forEach(t=>t())}(go.create({providers:t,name:i}))}return function(t){const e=vh();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function vh(){return dh&&!dh.destroyed?dh:null}let yh=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new lh:("zone.js"===t?void 0:t)||new eh({enableLongStackTrace:Ti(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:eh,useValue:n}];return n.run(()=>{const e=go.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(_i,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>xh(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return qo(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Dc);return t.runInitializers(),t.donePromise.then(()=>(Xl(r.injector.get(Hc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=bh({},e);return ph(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(wh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${wt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)($t(go))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function bh(t,e){return Array.isArray(e)?e.reduce(bh,t):Object.assign(Object.assign({},t),e)}let wh=(()=>{class t{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ti(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{eh.assertNotInAngularZone(),th(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{eh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=q(o,a.pipe(et()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof sl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(te),r=n.create(go.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(ch,null);return s&&r.injector.get(hh).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Ti()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;xh(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Vc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),xh(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)($t(eh),$t(Bc),$t(go),$t(_i),$t(al),$t(Dc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function xh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ch{}class Oh{}const Sh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let kh=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Sh}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Eh(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Eh(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)($t(Zc),$t(Oh,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Eh(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Mh=_h(null,"core",[{provide:zc,useValue:"unknown"},{provide:yh,deps:[go]},{provide:hh,deps:[]},{provide:Bc,deps:[]}]),Th=[{provide:wh,useClass:wh,deps:[eh,Bc,go,_i,al,Dc]},{provide:zl,deps:[eh],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Dc,useClass:Dc,deps:[[new st,Ic]]},{provide:Zc,useClass:Zc,deps:[]},Fc,{provide:El,useFactory:function(){return Al},deps:[]},{provide:Ml,useFactory:function(){return Pl},deps:[]},{provide:Hc,useFactory:function(t){return Xl(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new rt(Hc),new st,new at]]},{provide:Uc,useValue:"USD"}];let Ah=(()=>{class t{constructor(t){}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)($t(wh))},providers:Th}),t})(),Ph=null;function Rh(){return Ph}const Ih=new zt("DocumentToken");let Dh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Lh,token:t,providedIn:"platform"}),t})();function Lh(){return $t(Nh)}const Fh=new zt("Location Initialized");let Nh=(()=>{class t extends Dh{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Rh().getLocation(),this._history=Rh().getHistory()}getBaseHrefFromDOM(){return Rh().getBaseHref(this._doc)}onPopState(t){Rh().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Rh().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){jh()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){jh()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)($t(Ih))},t.\u0275prov=ut({factory:zh,token:t,providedIn:"platform"}),t})();function jh(){return!!window.history.pushState}function zh(){return new Nh($t(Ih))}function Vh(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Bh(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hh(t){return t&&"?"!==t[0]?"?"+t:t}let Uh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Gh,token:t,providedIn:"root"}),t})();function Gh(t){const e=$t(Ih).location;return new Yh($t(Dh),e&&e.origin||"")}const Wh=new zt("appBaseHref");let Yh=(()=>{class t extends Uh{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vh(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Hh(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Hh(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Hh(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)($t(Dh),$t(Wh,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),qh=(()=>{class t extends Uh{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Vh(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+Hh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+Hh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)($t(Dh),$t(Wh,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Xh=(()=>{class t{constructor(t,e){this._subject=new hc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Bh(Kh(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Hh(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Kh(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hh(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hh(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)($t(Uh),$t(Dh))},t.normalizeQueryParams=Hh,t.joinWithSlash=Vh,t.stripTrailingSlash=Bh,t.\u0275prov=ut({factory:$h,token:t,providedIn:"root"}),t})();function $h(){return new Xh($t(Uh),$t(Dh))}function Kh(t){return t.replace(/\/index.html$/,"")}const Zh=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),Qh=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Jh=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function tu(t,e){const n=Gl(t),i=n[Yl.NumberSymbols][e];if(void 0===i){if(e===Jh.CurrencyDecimal)return n[Yl.NumberSymbols][Jh.Decimal];if(e===Jh.CurrencyGroup)return n[Yl.NumberSymbols][Jh.Group]}return i}const eu=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function nu(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class iu{}let ru=(()=>{class t extends iu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Gl(t)[Yl.PluralCase]}(e||this.locale)(t)){case Qh.Zero:return"zero";case Qh.One:return"one";case Qh.Two:return"two";case Qh.Few:return"few";case Qh.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)($t(Hc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function su(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let ou=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(So(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+wt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Lo(El),Lo(Ml),Lo(ll),Lo(dl))},t.\u0275dir=be({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class au{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Ti()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new au(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new cu(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new cu(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(Rl),Lo(El))},t.\u0275dir=be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class cu{constructor(t,e){this.record=t,this.view=e}}let hu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new uu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){du("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){du("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(Rl))},t.\u0275dir=be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class uu{constructor(){this.$implicit=null,this.ngIf=null}}function du(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}class fu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let pu=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),gu=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new fu(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(Rl),Lo(pu,1))},t.\u0275dir=be({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),mu=(()=>{class t{constructor(t,e,n){n._addDefault(new fu(t,e))}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(Rl),Lo(pu,1))},t.\u0275dir=be({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),_u=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Ml),Lo(dl))},t.\u0275dir=be({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),vu=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl))},t.\u0275dir=be({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Xa]}),t})();function yu(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${wt(t)}'`)}class bu{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class wu{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const xu=new wu,Cu=new bu;let Ou=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Co(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Oo.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(qo(e))return xu;if(Xo(e))return Cu;throw yu(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(Rc())},t.\u0275pipe=we({name:"async",type:t,pure:!1}),t})(),Su=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,i,r,s,o=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,n,i,r,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;"0"===o.charAt(i);i++);if(i===(s=o.length))e=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=i,e=[],r=0;i<=s;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let h=e.minInt,u=e.minFrac,d=e.maxFrac;if(s){const t=s.match(eu);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],i=t[5];null!=e&&(h=nu(e)),null!=n&&(u=nu(n)),null!=i?d=nu(i):null!=n&&u>d&&(d=u)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=e+t.integerLen,h=i.reduceRight((function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,l&&(0===i[n]&&n>=c?i.pop():l=!1),e>=10?1:0}),0);h&&(i.unshift(h),t.integerLen++)}(c,u,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(l=f.every(t=>!t);p<h;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const _=[];for(f.length>=e.lgSize&&_.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)_.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&_.unshift(f.join("")),a=_.join(tu(n,i)),m.length&&(a+=tu(n,r)+m.join("")),g&&(a+=tu(n,Jh.Exponential)+"+"+g)}else a=tu(n,Jh.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let h=0;h<l.length;h++){const t=l.charAt(h);"0"===t?n.minFrac=n.maxFrac=h+1:"#"===t?n.maxFrac=h+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=r.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Gl(t)[Yl.NumberFormats][e]}(e,Zh.Decimal),tu(e,Jh.MinusSign)),e,Jh.Group,Jh.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(r){throw yu(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(Lo(Hc))},t.\u0275pipe=we({name:"number",type:t,pure:!0}),t})(),ku=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:iu,useClass:ru}]}),t})();function Eu(t){return"browser"===t}let Mu=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new Tu($t(Ih),window,$t(_i))}),t})();class Tu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Au extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Au,Ph||(Ph=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Ru||(Ru=document.querySelector("base"),Ru)?Ru.getAttribute("href"):null;return null==e?null:(n=e,Pu||(Pu=document.createElement("a")),Pu.setAttribute("href",n),"/"===Pu.pathname.charAt(0)?Pu.pathname:"/"+Pu.pathname);var n}resetBaseElement(){Ru=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return su(document.cookie,t)}}let Pu,Ru=null;const Iu=new zt("TRANSITION_ID"),Du=[{provide:Ic,useFactory:function(t,e,n){return()=>{n.get(Dc).donePromise.then(()=>{const n=Rh();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Iu,Ih,go],multi:!0}];class Lu{static init(){var t;t=new Lu,fh=t}addToWindow(t){Pt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Pt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pt.getAllAngularRootElements=()=>t.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(t=>{const e=Pt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Rh().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Fu=new zt("EventManagerPlugins");let Nu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)($t(Fu),$t(eh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class ju{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Rh().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let zu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Vu=(()=>{class t extends zu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Rh().remove(t))}}return t.\u0275fac=function(e){return new(e||t)($t(Ih))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Bu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hu=/%COMP%/g;function Uu(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Uu(t,r,n):(r=r.replace(Hu,t),n.push(r))}return n}function Gu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Yu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case he.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new qu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case he.Native:case he.ShadowDom:return new Xu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Uu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)($t(Nu),$t(Vu),$t(Lc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Yu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Bu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=Bu[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Bu[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&ul.DashCase?t.style.setProperty(e,n,i&ul.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ul.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gu(n)):this.eventManager.addEventListener(t,e,Gu(n))}}class qu extends Yu{constructor(t,e,n,i){super(t),this.component=n;const r=Uu(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Hu,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Hu,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Xu extends Yu{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===he.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Uu(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let $u=(()=>{class t extends ju{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)($t(Ih))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Ku=["alt","control","meta","shift"],Zu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ju={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let td=(()=>{class t extends ju{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rh().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(Ku.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Qu.hasOwnProperty(e)&&(e=Qu[e]))}return Zu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ku.forEach(i=>{i!=n&&(0,Ju[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)($t(Ih))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ed=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return $t(nd)},token:t,providedIn:"root"}),t})(),nd=(()=>{class t extends ed{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Qi.NONE:return e;case Qi.HTML:return Si(e,"HTML")?Oi(e):Ki(this._doc,String(e));case Qi.STYLE:return Si(e,"Style")?Oi(e):er(e);case Qi.SCRIPT:if(Si(e,"Script"))return Oi(e);throw new Error("unsafe value used in a script context");case Qi.URL:return ki(e),Si(e,"URL")?Oi(e):Ii(String(e));case Qi.RESOURCE_URL:if(Si(e,"ResourceURL"))return Oi(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new yi(t)}bypassSecurityTrustStyle(t){return new bi(t)}bypassSecurityTrustScript(t){return new wi(t)}bypassSecurityTrustUrl(t){return new xi(t)}bypassSecurityTrustResourceUrl(t){return new Ci(t)}}return t.\u0275fac=function(e){return new(e||t)($t(Ih))},t.\u0275prov=ut({factory:function(){return t=$t(Vt),new nd(t.get(Ih));var t},token:t,providedIn:"root"}),t})();const id=_h(Mh,"browser",[{provide:zc,useValue:"browser"},{provide:jc,useValue:function(){Au.makeCurrent(),Lu.init()},multi:!0},{provide:Ih,useFactory:function(){return function(t){Re=t}(document),document},deps:[]}]),rd=[[],{provide:to,useValue:"root"},{provide:_i,useFactory:function(){return new _i},deps:[]},{provide:Fu,useClass:$u,multi:!0,deps:[Ih,eh,zc]},{provide:Fu,useClass:td,multi:!0,deps:[Ih]},[],{provide:Wu,useClass:Wu,deps:[Nu,Vu,Lc]},{provide:hl,useExisting:Wu},{provide:zu,useExisting:Vu},{provide:Vu,useClass:Vu,deps:[Ih]},{provide:ch,useClass:ch,deps:[eh]},{provide:Nu,useClass:Nu,deps:[Fu,eh]},[]];let sd=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Lc,useValue:e.appId},{provide:Iu,useExisting:Lc},Du]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)($t(t,12))},providers:rd,imports:[ku,Ah]}),t})();"undefined"!=typeof window&&window;class od{}function ad(t,e){return{type:7,name:t,definitions:e,options:{}}}function ld(t,e=null){return{type:4,styles:e,timings:t}}function cd(t,e=null){return{type:3,steps:t,options:e}}function hd(t,e=null){return{type:2,steps:t,options:e}}function ud(t){return{type:6,styles:t,offset:null}}function dd(t,e,n){return{type:0,name:t,styles:e,options:n}}function fd(t){return{type:5,steps:t}}function pd(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function gd(t=null){return{type:9,options:t}}function md(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function _d(t){Promise.resolve(null).then(t)}class vd{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_d(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class yd{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?_d(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function bd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wd(t){switch(t.length){case 0:return new vd;case 1:return t[0];default:return new yd(t)}}function xd(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,h=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}h[i]=a}),i||a.push(h),c=h,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Cd(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Od(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Od(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Od(n,"destroy",t)))}}function Od(t,e,n){const i=n.totalTime,r=Sd(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Sd(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function kd(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Ed(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Md=(t,e)=>!1,Td=(t,e)=>!1,Ad=(t,e,n)=>[];const Pd=bd();(Pd||"undefined"!=typeof Element)&&(Md=(t,e)=>t.contains(e),Td=(()=>{if(Pd||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Td}})(),Ad=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let Rd=null,Id=!1;function Dd(t){Rd||(Rd=("undefined"!=typeof document?document.body:null)||{},Id=!!Rd.style&&"WebkitAppearance"in Rd.style);let e=!0;return Rd.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Rd.style,!e&&Id)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Rd.style),e}const Ld=Td,Fd=Md,Nd=Ad;function jd(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let zd=(()=>{class t{validateStyleProperty(t){return Dd(t)}matchesElement(t,e){return Ld(t,e)}containsElement(t,e){return Fd(t,e)}query(t,e,n){return Nd(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new vd(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Vd=(()=>{class t{}return t.NOOP=new zd,t})();function Bd(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Hd(parseFloat(e[1]),e[2])}function Hd(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ud(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Hd(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Hd(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function Gd(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Wd(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Gd(t,n);return n}function Yd(t,e,n){return n?e+":"+n+";":""}function qd(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Yd(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Yd(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Xd(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=nf(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),bd()&&qd(t))}function $d(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=nf(e);t.style[n]=""}),bd()&&qd(t))}function Kd(t){return Array.isArray(t)?1==t.length?t[0]:hd(t):t}const Zd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qd(t){let e=[];if("string"==typeof t){let n;for(;n=Zd.exec(t);)e.push(n[1]);Zd.lastIndex=0}return e}function Jd(t,e,n){const i=t.toString(),r=i.replace(Zd,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function tf(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ef=/-+([a-z0-9])/g;function nf(t){return t.replace(ef,(...t)=>t[1].toUpperCase())}function rf(t,e){return 0===t||0===e}function sf(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=af(t,e)}))}}return e}function of(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function af(t,e){return window.getComputedStyle(t)[e]}function lf(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(uf(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(uf(o,r))}(t,n,e)):n.push(t),n}const cf=new Set(["true","1"]),hf=new Set(["false","0"]);function uf(t,e){const n=cf.has(t)||hf.has(t),i=cf.has(e)||hf.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?cf.has(t):hf.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?cf.has(e):hf.has(e)),o&&a}}const df=new RegExp("s*:selfs*,?","g");function ff(t,e,n){return new pf(t).build(e,n)}class pf{constructor(t){this._driver=t}build(t,e){const n=new gf(e);return this._resetContextStyleTimingState(n),of(this,Kd(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(mf(t)){const e=t;Object.keys(e).forEach(t=>{Qd(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=tf(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=of(this,Kd(t.animation),e);return{type:1,matchers:lf(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:_f(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>of(this,t,e)),options:_f(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=of(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:_f(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return vf(Ud(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=vf(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Ud(i,e),vf(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:ud({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=ud(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(mf(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Qd(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(mf(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(mf(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));const u=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,i)=>{const s=h>0?i==u?1:h*i:r[i],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:of(this,Kd(t.animation),e),options:_f(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_f(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_f(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(df,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,kd(e.collectedStyles,e.currentQuerySelector,{});const o=of(this,Kd(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:_f(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ud(t.timings,e.errors,!0);return{type:12,animation:of(this,Kd(t.animation),e),timings:n,options:null}}}class gf{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mf(t){return!Array.isArray(t)&&"object"==typeof t}function _f(t){var e;return t?(t=Gd(t)).params&&(t.params=(e=t.params)?Gd(e):null):t={},t}function vf(t,e,n){return{duration:t,delay:e,easing:n}}function yf(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class bf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const wf=new RegExp(":enter","g"),xf=new RegExp(":leave","g");function Cf(t,e,n,i,r,s={},o={},a,l,c=[]){return(new Of).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class Of{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new bf;const h=new kf(t,e,l,i,r,c,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),of(this,n,h);const u=h.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,h.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[yf(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Bd(n.duration):null,s=null!=n.delay?Bd(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),of(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Sf);const t=Bd(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>of(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Bd(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),of(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ud(e.params?Jd(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Bd(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Sf);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),of(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;of(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const Sf={};class kf{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ef(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Bd(n.duration)),null!=n.delay&&(i.delay=Bd(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Jd(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new kf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Sf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Mf(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(wf,"."+this._enterClassName)).replace(xf,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ef{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ef(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):Wd(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Jd(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=Wd(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?tf(t.values()):[],s=e.size?tf(e.values()):[];if(n){const t=i[0],e=Gd(t);t.offset=0,e.offset=1,i=[t,e]}return yf(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class Mf extends Ef{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=Wd(t[0],!1);a.offset=0,r.push(a);const l=Wd(t[0],!1);l.offset=Tf(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=Wd(t[i],!1);o.offset=Tf((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return yf(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Tf(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Af{}class Pf extends Af{normalizePropertyName(t,e){return nf(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(Rf[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const Rf=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function If(t,e,n,i,r,s,o,a,l,c,h,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const Df={};class Lf{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||Df,d=this.buildStyles(n,o&&o.params||Df,h),f=a&&a.params||Df,p=this.buildStyles(i,f,h),g=new Set,m=new Map,_=new Map,v="void"===i,y={params:Object.assign(Object.assign({},u),f)},b=c?[]:Cf(t,e,this.ast.animation,r,s,d,p,y,l,h);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),h.length)return If(e,this._triggerName,n,i,v,d,p,[],[],m,_,w,h);b.forEach(t=>{const n=t.element,i=kd(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=kd(_,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const x=tf(g.values());return If(e,this._triggerName,n,i,v,d,p,b,x,m,_,w)}}class Ff{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Gd(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Jd(s,i,e)),n[t]=s})}}),n}}class Nf{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ff(t.style,t.options&&t.options.params||{})}),jf(this.states,"true","1"),jf(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Lf(t,e,this.states))}),this.fallbackTransition=new Lf(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function jf(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const zf=new bf;class Vf{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=ff(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=xd(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=Cf(this._driver,e,r,"ng-enter","ng-leave",{},{},n,zf,i),s.forEach(t=>{const e=kd(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=wd(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const r=Sd(e,"","","");return Cd(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Bf=[],Hf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Uf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Gf{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Gd(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Wf=new Gf("void");class Yf{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jf(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=kd(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=kd(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Jf(t,"ng-trigger"),Jf(t,"ng-trigger-"+e),a[e]=Wf),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Xf(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Jf(t,"ng-trigger"),Jf(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Gf(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Wf),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{$d(t,n),Xd(t,i)})}return}const c=kd(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let h=r.matchTransition(a.value,l.value,t,l.params),u=!1;if(!h){if(!i)return;h=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(Jf(t,"ng-animate-queued"),s.onStart(()=>{tp(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&wd(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||Wf,o=new Gf("void"),a=new Xf(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Hf||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Jf(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Sd(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Cd(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class qf{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Yf(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if($f(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!$f(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jf(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),tp(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if($f(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return $f(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Hf,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Jf(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?wd(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new bf,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=Qf(u,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Jf(t,n))});const g=[],m=new Set,_=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):_.add(t))}const v=new Map,y=Qf(u,Array.from(m));y.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>Jf(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>tp(t,n))}),y.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>tp(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!h||!this.driver.containsElement(h,r),u=v.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,u,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>$d(r,p.fromStyles)),e.onDestroy(()=>Xd(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>$d(r,p.fromStyles)),e.onDestroy(()=>Xd(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>kd(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{kd(x,e,[]).push(t),t.destroy()})});const O=g.filter(t=>np(t,a,l)),S=new Map;Zf(S,this.driver,_,l,"*").forEach(t=>{np(t,a,l)&&O.push(t)});const k=new Map;d.forEach((t,e)=>{Zf(k,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=S.get(t),n=k.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const E=[],M=[],T={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Xd(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=T;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,r,k,S);if(s.setRealPlayer(n),t===T)E.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=wd(e)),i.push(s)}}else $d(e,o.fromStyles),s.onDestroy(()=>Xd(e,o.toStyles)),M.push(s),c.has(e)&&i.push(s)}),M.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=wd(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(tp(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?ep(this,t,i):this.processLeaveNode(t)}return g.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=kd(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}$d(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],c=new Set,h=new Set,u=e.timelines.map(e=>{const u=e.element;c.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new vd(e.duration,e.delay);const f=u!==a,p=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof yd?t(r.players,n):n.push(r)}}(t,e),e}((n.get(u)||Bf).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),g=r.get(u),m=s.get(u),_=xd(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,_,p);if(e.subTimeline&&i&&h.add(u),f){const e=new Xf(t,o,u);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{kd(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Jf(t,"ng-animating"));const d=wd(u);return d.onDestroy(()=>{c.forEach(t=>tp(t,"ng-animating")),Xd(a,e.toStyles)}),h.forEach(t=>{kd(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new vd(t.duration,t.delay)}}class Xf{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new vd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Cd(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){kd(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $f(t){return t&&1===t.nodeType}function Kf(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Zf(t,e,n,i,r){const s=[];n.forEach(t=>s.push(Kf(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Uf,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>Kf(t,s[a++])),o}function Qf(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Jf(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function tp(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ep(t,e,n){wd(n).onDone(()=>t.processLeaveNode(e))}function np(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class ip{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new qf(t,e,n),this._timelineEngine=new Vf(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=ff(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Nf(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Ed(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Ed(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function rp(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=op(e[0]),e.length>1&&(i=op(e[e.length-1]))):e&&(n=op(e)),n||i?new sp(t,n,i):null}let sp=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Xd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xd(this._element,this._initialStyles),this._endStyles&&(Xd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&($d(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($d(this._element,this._endStyles),this._endStyles=null),Xd(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function op(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];ap(r)&&(e=e||{},e[r]=t[r])}return e}function ap(t){return"display"===t||"position"===t}class lp{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=pp(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),fp(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dp(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cp(this._element,this._name,"paused")}resume(){cp(this._element,this._name,"running")}setPosition(t){const e=hp(this._element,this._name);this._position=t*this._duration,fp(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dp(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=pp(t,"").split(","),i=up(n,e);i>=0&&(n.splice(i,1),fp(t,"",n.join(",")))}(this._element,this._name))}}function cp(t,e,n){fp(t,"PlayState",n,hp(t,e))}function hp(t,e){const n=pp(t,"");return n.indexOf(",")>0?up(n.split(","),e):up([n],e)}function up(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function dp(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function fp(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function pp(t,e){return t.style["animation"+e]}class gp{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:af(this.element,n))})}this.currentSnapshot=t}}class mp extends vd{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=jd(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class _p{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Dd(t)}matchesElement(t,e){return Ld(t,e)}containsElement(t,e){return Fd(t,e)}query(t,e,n){return Nd(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>jd(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof gp),l={};rf(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=sf(t,e,l));if(0==n)return new mp(t,c);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,h,e);document.querySelector("head").appendChild(u);const d=rp(t,e),f=new gp(t,e,h,n,i,r,c,d);return f.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class vp{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:af(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class yp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bp().toString()),this._cssKeyframesDriver=new _p}validateStyleProperty(t){return Dd(t)}matchesElement(t,e){return Ld(t,e)}containsElement(t,e){return Fd(t,e)}query(t,e,n){return Nd(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof vp);rf(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const h=rp(t,e=sf(t,e=e.map(t=>Wd(t,!1)),l));return new vp(t,e,a,h)}}function bp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let wp=(()=>{class t extends od{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:he.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?hd(t):t;return Op(this._renderer,null,e,"register",[n]),new xp(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)($t(hl),$t(Ih))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class xp extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Cp(this._id,t,e||{},this._renderer)}}class Cp{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Op(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Op(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let Sp=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new kp("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new Ep(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)($t(hl),$t(ip),$t(eh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class kp{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ep extends kp{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Mp=(()=>{class t extends ip{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)($t(Ih),$t(Vd),$t(Af))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Tp=new zt("AnimationModuleType"),Ap=[{provide:Vd,useFactory:function(){return"function"==typeof bp()?new yp:new _p}},{provide:Tp,useValue:"BrowserAnimations"},{provide:od,useClass:wp},{provide:Af,useFactory:function(){return new Pf}},{provide:ip,useClass:Mp},{provide:hl,useFactory:function(t,e,n){return new Sp(t,e,n)},deps:[Wu,ip,eh]}];let Pp=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:Ap,imports:[sd]}),t})();function Rp(...t){let e=t[t.length-1];return E(e)?(t.pop(),V(t,e)):Y(t)}function Ip(t,e){return H(t,e,1)}function Dp(t,e){return function(n){return n.lift(new Lp(t,e))}}class Lp{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Fp(t,this.predicate,this.thisArg))}}class Fp extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Np{}class jp{}class zp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof zp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new zp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof zp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Vp{encodeKey(t){return Bp(t)}encodeValue(t){return Bp(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Bp(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Hp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Vp,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Up(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Gp(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Wp(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Yp{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new zp),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Hp,this.urlWithParams=e}serializeBody(){return null===this.body?null:Up(this.body)||Gp(this.body)||Wp(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Wp(this.body)?null:Gp(this.body)?this.body.type||null:Up(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Yp(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const qp=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Xp{constructor(t,e=200,n="OK"){this.headers=t.headers||new zp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $p extends Xp{constructor(t={}){super(t),this.type=qp.ResponseHeader}clone(t={}){return new $p({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Kp extends Xp{constructor(t={}){super(t),this.type=qp.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Kp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zp extends Xp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Qp(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Jp=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Yp)i=t;else{let r=void 0;r=n.headers instanceof zp?n.headers:new zp(n.headers);let s=void 0;n.params&&(s=n.params instanceof Hp?n.params:new Hp({fromObject:n.params})),i=new Yp(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Rp(i).pipe(Ip(t=>this.handler.handle(t)));if(t instanceof Yp||"events"===n.observe)return r;const s=r.pipe(Dp(t=>t instanceof Kp));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(N(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(N(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(N(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(N(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Hp).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Qp(n,e))}post(t,e,n={}){return this.request("POST",t,Qp(n,e))}put(t,e,n={}){return this.request("PUT",t,Qp(n,e))}}return t.\u0275fac=function(e){return new(e||t)($t(Np))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class tg{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const eg=new zt("HTTP_INTERCEPTORS");let ng=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ig=/^\)\]\}',?\n/;class rg{}let sg=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),og=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new zp(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new $p({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(ig,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=t,c&&(c=!1,l={error:h,text:l})}}c?(e.next(new Kp({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new Zp({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new Zp({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(s()),l=!0);let r={type:qp.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},h=t=>{let n={type:qp.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",h)),n.send(i),e.next({type:qp.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",h)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)($t(rg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const ag=new zt("XSRF_COOKIE_NAME"),lg=new zt("XSRF_HEADER_NAME");class cg{}let hg=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=su(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)($t(Ih),$t(zc),$t(ag))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ug=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)($t(cg),$t(lg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),dg=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(eg,[]);this.chain=t.reduceRight((t,e)=>new tg(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)($t(jp),$t(go))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),fg=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ug,useClass:ng}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ag,useValue:e.cookieName}:[],e.headerName?{provide:lg,useValue:e.headerName}:[]]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ug,{provide:eg,useExisting:ug,multi:!0},{provide:cg,useClass:hg},{provide:ag,useValue:"XSRF-TOKEN"},{provide:lg,useValue:"X-XSRF-TOKEN"}]}),t})(),pg=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Jp,{provide:Np,useClass:dg},og,{provide:jp,useExisting:og},sg,{provide:rg,useExisting:sg}],imports:[[fg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function gg(t){return!!t&&(t instanceof b||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function mg(...t){if(1===t.length){const e=t[0];if(l(e))return _g(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return _g(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return _g(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(N(t=>e(...t)))}return _g(t,null)}function _g(t,e){return new b(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=B(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&c||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}function vg(){return W(1)}function yg(...t){return vg()(Rp(...t))}const bg=new b(t=>t.complete());function wg(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):bg}function xg(t){return new b(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?B(n):wg()).subscribe(e)})}const Cg=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Og(t){return e=>0===t?wg():e.lift(new Sg(t))}class Sg{constructor(t){if(this.total=t,this.total<0)throw new Cg}call(t,e){return e.subscribe(new kg(t,this.total))}}class kg extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}class Eg extends u{constructor(t,e){super()}schedule(t,e=0){return this}}class Mg extends Eg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Tg extends Mg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Ag=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Pg extends Ag{constructor(t,e=Ag.now){super(t,()=>Pg.delegate&&Pg.delegate!==this?Pg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Pg.delegate&&Pg.delegate!==this?Pg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class Rg extends Pg{}const Ig=new Rg(Tg);function Dg(t,e){return new b(e?n=>e.schedule(Lg,0,{error:t,subscriber:n}):e=>e.error(t))}function Lg({error:t,subscriber:e}){e.error(t)}let Fg=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Rp(this.value);case"E":return Dg(this.error);case"C":return wg()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class Ng extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Ng.dispatch,this.delay,new jg(t,this.destination)))}_next(t){this.scheduleMessage(Fg.createNext(t))}_error(t){this.scheduleMessage(Fg.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Fg.createComplete()),this.unsubscribe()}}class jg{constructor(t,e){this.notification=t,this.destination=e}}class zg extends S{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Vg(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new x;if(this.isStopped||this.hasError?s=u.EMPTY:(this.observers.push(t),s=new C(this,t)),i&&t.add(t=new Ng(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Ig).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class Vg{constructor(t,e){this.time=t,this.value=e}}function Bg(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(c){o++,r&&!a||(a=!1,r=new zg(t,e,i),s=c.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,s=void 0,r.complete()}}));const h=r.subscribe(this);this.add(()=>{o--,h.unsubscribe(),s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}function Hg(t,e){return"function"==typeof e?n=>n.pipe(Hg((n,i)=>B(t(n,i)).pipe(N((t,r)=>e(n,t,i,r))))):e=>e.lift(new Ug(t))}class Ug{constructor(t){this.project=t}call(t,e){return e.subscribe(new Gg(t,this.project))}}class Gg extends F{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new M(this,e,n),s=this.destination;s.add(r),this.innerSubscription=L(this,t,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}class Wg{}let Yg=(()=>{class t extends Wg{getTranslation(t){return Rp({})}}return t.\u0275fac=function(e){return qg(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const qg=fi(Yg);class Xg{}let $g=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Kg(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,i,r,s=typeof t;if(s==typeof e&&"object"==s){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!Kg(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!Kg(t[i],e[i]))return!1;return!0}}return!1}function Zg(t){return null!=t}function Qg(t){return t&&"object"==typeof t&&!Array.isArray(t)}class Jg{}let tm=(()=>{class t extends Jg{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!Zg(t)||!Zg(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return Zg(i)?i:t}):t}}return t.\u0275fac=function(e){return em(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const em=fi(tm);class nm{}let im=(()=>{class t extends nm{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return rm(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const rm=fi(im);class sm{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new hc,this.onLangChange=new hc,this.onDefaultLangChange=new hc}}const om=new zt("USE_STORE"),am=new zt("USE_DEFAULT_LANG"),lm=new zt("DEFAULT_LANGUAGE"),cm=new zt("USE_EXTEND");let hm=(()=>{class t{constructor(t,e,n,i,r,s=!0,o=!1,a=!1,l){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=i,this.missingTranslationHandler=r,this.useDefaultLang=s,this.isolate=o,this.extend=a,this.pending=!1,this._onTranslationChange=new hc,this._onLangChange=new hc,this._onDefaultLangChange=new hc,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Og(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Rp(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Og(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Rp(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(Bg(1),Og(1));return this.loadingTranslations=e.pipe(N(e=>this.compiler.compileTranslations(e,t)),Bg(1),Og(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?function t(e,n){let i=Object.assign({},e);return Qg(e)&&Qg(n)&&Object.keys(n).forEach(r=>{Qg(n[r])?r in e?i[r]=t(e[r],n[r]):Object.assign(i,{[r]:n[r]}):Object.assign(i,{[r]:n[r]})}),i}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},r=!1;for(let s of e)i[s]=this.getParsedResult(t,s,n),gg(i[s])&&(r=!0);return r?mg(e.map(t=>gg(i[t])?i[t]:Rp(i[t]))).pipe(N(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n})):i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!Zg(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ip(n=>gg(n=this.getParsedResult(n,t,e))?n:Rp(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return gg(n)?n:Rp(n)}}getStreamOnTranslationChange(t,e){if(!Zg(t)||!t.length)throw new Error('Parameter "key" required');return yg(xg(()=>this.get(t,e)),this.onTranslationChange.pipe(Hg(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:Rp(i)})))}stream(t,e){if(!Zg(t)||!t.length)throw new Error('Parameter "key" required');return yg(xg(()=>this.get(t,e)),this.onLangChange.pipe(Hg(n=>{const i=this.getParsedResult(n.translations,t,e);return gg(i)?i:Rp(i)})))}instant(t,e){if(!Zg(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(gg(n)){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)($t(sm),$t(Wg),$t(nm),$t(Jg),$t(Xg),$t(am),$t(om),$t(cm),$t(lm))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),um=(()=>{class t{constructor(t,e,n){this.translateService=t,this.element=e,this._ref=n,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(t=>{t.lang===this.translateService.currentLang&&this.checkNodes(!0,t.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(t=>{this.checkNodes(!0,t.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(t=>{this.checkNodes(!0)}))}set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){Kg(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,e){let n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(let i=0;i<n.length;++i){let r=n[i];if(3===r.nodeType){let n;if(t&&(r.lastKey=null),Zg(r.lookupKey))n=r.lookupKey;else if(this.key)n=this.key;else{let t=this.getContent(r),e=t.trim();e.length&&(r.lookupKey=e,t!==r.currentValue?(n=e,r.originalContent=t||r.originalContent):r.originalContent?n=r.originalContent.trim():t!==r.currentValue&&(n=e,r.originalContent=t||r.originalContent))}this.updateValue(n,r,e)}}}updateValue(t,e,n){if(t){if(e.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let i=n=>{n!==t&&(e.lastKey=t),e.originalContent||(e.originalContent=this.getContent(e)),e.currentValue=Zg(n)?n:e.originalContent||t,this.setContent(e,this.key?e.currentValue:e.originalContent.replace(t,e.currentValue)),this._ref.markForCheck()};if(Zg(n)){let e=this.translateService.getParsedResult(n,t,this.currentParams);gg(e)?e.subscribe(i):i(e)}else this.translateService.get(t,this.currentParams).subscribe(i)}}getContent(t){return Zg(t.textContent)?t.textContent:t.data}setContent(t,e){Zg(t.textContent)?t.textContent=e:t.data=e}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Lo(hm),Lo(ll),Lo(Qs))},t.\u0275dir=be({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),t})(),dm=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let i=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let r=this.translate.getParsedResult(n,t,e);gg(r.subscribe)?r.subscribe(i):i(r)}this.translate.get(t,e).subscribe(i)}transform(t,...e){if(!t||!t.length)return t;if(Kg(t,this.lastKey)&&Kg(e,this.lastParams))return this.value;let n;if(Zg(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(i){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+e[0])}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(Lo(hm),Rc())},t.\u0275pipe=we({name:"translate",type:t,pure:!1}),t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),fm=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:Wg,useClass:Yg},e.compiler||{provide:nm,useClass:im},e.parser||{provide:Jg,useClass:tm},e.missingTranslationHandler||{provide:Xg,useClass:$g},sm,{provide:om,useValue:e.isolate},{provide:am,useValue:e.useDefaultLang},{provide:cm,useValue:e.extend},{provide:lm,useValue:e.defaultLanguage},hm]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:Wg,useClass:Yg},e.compiler||{provide:nm,useClass:im},e.parser||{provide:Jg,useClass:tm},e.missingTranslationHandler||{provide:Xg,useClass:$g},{provide:om,useValue:e.isolate},{provide:am,useValue:e.useDefaultLang},{provide:cm,useValue:e.extend},{provide:lm,useValue:e.defaultLanguage},hm]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const pm={};function gm(...t){let e=null,n=null;return E(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),Y(t,n).lift(new mm(e))}class mm{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new _m(t,this.resultSelector))}}class _m extends F{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(pm),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(L(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===pm?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function vm(t,e,n,r){return i(n)&&(r=n,n=void 0),r?vm(t,e,n).pipe(N(t=>l(t)?r(...t):r(t))):new b(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}const ym=new Pg(Mg);function bm(t,e=ym){return n=>n.lift(new wm(t,e))}class wm{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new xm(t,this.dueTime,this.scheduler))}}class xm extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Cm,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Cm(t){t.debouncedNext()}const Om=["*"],Sm=new zt("GOOGLE_CHARTS_CONFIG"),km={mapsApiKey:"",version:"current",safeMode:!1};let Em=(()=>{class t{constructor(t,e,n){this.zone=t,this.localeId=e,this.config=n,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new S,this.config=Object.assign(Object.assign({},km),n||{})}isGoogleChartsAvailable(){return"undefined"!=typeof google&&void 0!==google.charts}loadChartPackages(...t){return this.loadGoogleCharts().pipe(Hg(()=>new b(e=>{google.charts.load(this.config.version,{packages:t,language:this.localeId,mapsApiKey:this.config.mapsApiKey,safeMode:this.config.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{e.next(),e.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return Rp(null);if(!this.isLoadingGoogleCharts()){const t=this.createGoogleChartsScript();t.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},t.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(t=>t.src===this.scriptSource)}createGoogleChartsScript(){const t=document.createElement("script");return t.type="text/javascript",t.src=this.scriptSource,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t),t}}return t.\u0275fac=function(e){return new(e||t)($t(eh),$t(Hc),$t(Sm,8))},t.\u0275prov=ut({factory:function(){return new t($t(eh),$t(Hc),$t(Sm,8))},token:t,providedIn:"root"}),t})(),Mm=(()=>{class t{constructor(t){this.loaderService=t,this.error=new hc,this.ready=new hc,this.stateChange=new hc,this.id="_"+Math.random().toString(36).substr(2,9),this.wrapperReadySubject=new zg(1),this.initialized=!1}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper(),this.initialized=!0})}ngOnChanges(t){this.initialized&&(t.type&&this._controlWrapper.setControlType(this.type),t.options&&this._controlWrapper.setOptions(this.options),t.state&&this._controlWrapper.setState(this.state))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",t=>this.ready.emit(t)),google.visualization.events.addListener(this._controlWrapper,"error",t=>this.error.emit(t)),google.visualization.events.addListener(this._controlWrapper,"statechange",t=>this.stateChange.emit(t))}}return t.\u0275fac=function(e){return new(e||t)(Lo(Em))},t.\u0275cmp=pe({type:t,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(t,e){2&t&&za("id",e.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[Xa],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})(),Tm=(()=>{class t{constructor(t,e){this.element=t,this.loaderService=e,this.ready=new hc,this.error=new hc,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createDataTable(),this.createDashboard(),this.initialized=!0})}ngOnChanges(t){this.initialized&&(t.data||t.columns)&&(this.createDataTable(),this.dashboard.draw(this.dataTable))}createDashboard(){const t=this.controlWrappers.map(t=>t.wrapperReady$),e=this.controlWrappers.map(t=>t.for).map(t=>Array.isArray(t)?gm(t.map(t=>t.wrapperReady$)):t.wrapperReady$);gm([...t,...e]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.dashboard.draw(this.dataTable)})}initializeBindings(){this.controlWrappers.forEach(t=>{if(Array.isArray(t.for)){const e=t.for.map(t=>t.chartWrapper);this.dashboard.bind(t.controlWrapper,e)}else this.dashboard.bind(t.controlWrapper,t.for.chartWrapper)})}createDataTable(){if(null==this.data)return;let t=!0;null!=this.columns&&(t=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),t)}getDataAsTable(){return this.columns?[this.columns,...this.data]:this.data}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Em))},t.\u0275cmp=pe({type:t,selectors:[["dashboard"]],contentQueries:function(t,e,n){var i;1&t&&Sc(n,Mm,!1),2&t&&wc(i=Mc())&&(e.controlWrappers=i)},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[Xa],ngContentSelectors:Om,decls:1,vars:0,template:function(t,e){1&t&&(na(),ia(0))},encapsulation:2,changeDetection:0}),t})(),Am=(()=>{class t{constructor(t,e,n){this.element=t,this.scriptLoaderService=e,this.dashboard=n,this.options={},this.dynamicResize=!1,this.ready=new hc,this.error=new hc,this.select=new hc,this.mouseover=new hc,this.mouseleave=new hc,this.wrapperReadySubject=new zg(1),this.initialized=!1}get chart(){return this.wrapper?this.wrapper.getChart():null}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){return this.wrapper}set chartWrapper(t){this.wrapper=t,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages().subscribe(()=>{this.createDataTable(),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(t){if(t.dynamicResize&&this.updateResizeListener(),this.initialized){let e=!1;(t.data||t.columns||t.formatters)&&(this.createDataTable(),this.wrapper.setDataTable(this.dataTable),e=!0),t.type&&(this.wrapper.setChartType(this.type),e=!0),(t.options||t.width||t.height||t.title)&&(this.wrapper.setOptions(this.mergeOptions()),e=!0),e&&this.drawChart()}}createDataTable(){if(null==this.data)return;let t=!0;null!=this.columns&&(t=!1),this.dataTable=google.visualization.arrayToDataTable(this.getDataAsTable(),t),this.applyFormatters(this.dataTable)}getDataAsTable(){return this.columns?[this.columns,...this.data]:this.data}updateResizeListener(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),this.dynamicResize&&(this.resizeSubscription=vm(window,"resize").pipe(bm(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}mergeOptions(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}applyFormatters(t){if(null!=this.formatters)for(const e of this.formatters)e.formatter.format(t,e.colIndex)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper);const t=(t,e,n)=>{google.visualization.events.addListener(t,e,n)};t(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),t(this.chart,"onmouseover",t=>this.mouseover.emit(t)),t(this.chart,"onmouseout",t=>this.mouseleave.emit(t)),t(this.chart,"select",()=>{const t=this.chart.getSelection();this.select.emit({selection:t})}),this.ready.emit({chart:this.chart})}),t(this.wrapper,"error",t=>this.error.emit(t))}drawChart(){null==this.dashboard&&this.wrapper.draw()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Em),Lo(Tm,8))},t.\u0275cmp=pe({type:t,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[Xa],decls:0,vars:0,template:function(t,e){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),t})(),Pm=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Sm,useValue:e}]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const Rm=new zt("NgValueAccessor"),Im={provide:Rm,useExisting:Ot(()=>Dm),multi:!0};let Dm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[rl([Im])]}),t})();const Lm={provide:Rm,useExisting:Ot(()=>Nm),multi:!0},Fm=new zt("CompositionEventMode");let Nm=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Rh()?Rh().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll),Lo(Fm,8))},t.\u0275dir=be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&$o("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[rl([Lm])]}),t})(),jm=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})(),zm=(()=>{class t extends jm{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Vm(e||t)},t.\u0275dir=be({type:t,features:[Ha]}),t})();const Vm=fi(zm);function Bm(){throw new Error("unimplemented")}class Hm extends jm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Bm()}get asyncValidator(){return Bm()}}let Um=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(Hm,2))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ya("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Ha]}),t})();function Gm(t){return null==t||0===t.length}const Wm=new zt("NgValidators"),Ym=new zt("NgAsyncValidators"),qm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xm{static min(t){return e=>{if(Gm(e.value)||Gm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Gm(e.value)||Gm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Gm(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Gm(t.value)||qm.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Gm(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Xm.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Gm(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter($m);return 0==e.length?null:function(t){return Zm(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter($m);return 0==e.length?null:function(t){return mg(function(t,e){return e.map(e=>e(t))}(t,e).map(Km)).pipe(N(Zm))}}}function $m(t){return null!=t}function Km(t){const e=qo(t)?B(t):t;if(!Xo(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Zm(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Qm(t){return t.validate?e=>t.validate(e):t}function Jm(t){return t.validate?e=>t.validate(e):t}const t_={provide:Rm,useExisting:Ot(()=>e_),multi:!0};let e_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[rl([t_])]}),t})();const n_={provide:Rm,useExisting:Ot(()=>r_),multi:!0};let i_=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),r_=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Hm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll),Lo(i_),Lo(go))},t.\u0275dir=be({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[rl([n_])]}),t})();const s_={provide:Rm,useExisting:Ot(()=>o_),multi:!0};let o_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[rl([s_])]}),t})();const a_='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',l_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',c_='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class h_{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+a_)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${l_}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${c_}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+a_)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+l_)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const u_={provide:Rm,useExisting:Ot(()=>d_),multi:!0};let d_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Co}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[rl([u_])]}),t})();const f_={provide:Rm,useExisting:Ot(()=>p_),multi:!0};let p_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Co}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&$o("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[rl([f_])]}),t})();function g_(t,e){return[...e.path,t]}function m_(t,e){t||b_(e,"Cannot find control with"),e.valueAccessor||b_(e,"No value accessor for form control with"),t.validator=Xm.compose([t.validator,e.validator]),t.asyncValidator=Xm.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&__(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&__(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function __(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function v_(t,e){null==t&&b_(e,"Cannot find control with"),t.validator=Xm.compose([t.validator,e.validator]),t.asyncValidator=Xm.composeAsync([t.asyncValidator,e.asyncValidator])}function y_(t){return b_(t,"There is no FormControl instance attached to form control element with")}function b_(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function w_(t){return null!=t?Xm.compose(t.map(Qm)):null}function x_(t){return null!=t?Xm.composeAsync(t.map(Jm)):null}function C_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Co(e,n.currentValue)}const O_=[Dm,o_,e_,d_,p_,r_];function S_(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function k_(t,e){if(!e)return null;Array.isArray(e)||b_(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{var s;e.constructor===Nm?n=e:(s=e,O_.some(t=>s.constructor===t)?(i&&b_(t,"More than one built-in value accessor matches form control with"),i=e):(r&&b_(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(b_(t,"No valid value accessor for form control with"),null)}function E_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function M_(t){const e=A_(t)?t.validators:t;return Array.isArray(e)?w_(e):e||null}function T_(t,e){const n=A_(e)?e.asyncValidators:t;return Array.isArray(n)?x_(n):n||null}function A_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class P_{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=M_(t)}setAsyncValidators(t){this.asyncValidator=T_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Km(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof I_?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof D_&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new hc,this.statusChanges=new hc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){A_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class R_ extends P_{constructor(t=null,e,n){super(M_(e),T_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class I_ extends P_{constructor(t,e,n){super(M_(e),T_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof R_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class D_ extends P_{constructor(t,e,n){super(M_(e),T_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof R_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const L_={provide:zm,useExisting:Ot(()=>N_)},F_=(()=>Promise.resolve(null))();let N_=(()=>{class t extends zm{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new hc,this.form=new I_({},w_(t),x_(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){F_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),m_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){F_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),E_(this._directives,t)})}addFormGroup(t){F_.then(()=>{const e=this._findContainer(t.path),n=new I_({});v_(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){F_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){F_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,S_(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Lo(Wm,10),Lo(Ym,10))},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&$o("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rl([L_]),Ha]}),t})(),j_=(()=>{class t extends zm{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return g_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return w_(this._validators)}get asyncValidator(){return x_(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return z_(e||t)},t.\u0275dir=be({type:t,features:[Ha]}),t})();const z_=fi(j_);class V_{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${a_}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${l_}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${c_}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${l_}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${c_}`)}}const B_={provide:zm,useExisting:Ot(()=>H_)};let H_=(()=>{class t extends j_{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof N_||V_.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Lo(zm,5),Lo(Wm,10),Lo(Ym,10))},t.\u0275dir=be({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[rl([B_]),Ha]}),t})();const U_={provide:Hm,useExisting:Ot(()=>W_)},G_=(()=>Promise.resolve(null))();let W_=(()=>{class t extends Hm{constructor(t,e,n,i){super(),this.control=new R_,this._registered=!1,this.update=new hc,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=k_(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),C_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?g_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return w_(this._rawValidators)}get asyncValidator(){return x_(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){m_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof H_)&&this._parent instanceof j_?V_.formGroupNameException():this._parent instanceof H_||this._parent instanceof N_||V_.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||V_.missingNameException()}_updateValue(t){G_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;G_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Lo(zm,9),Lo(Wm,10),Lo(Ym,10),Lo(Rm,10))},t.\u0275dir=be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[rl([U_]),Ha,Xa]}),t})();const Y_=new zt("NgModelWithFormControlWarning"),q_={provide:Hm,useExisting:Ot(()=>X_)};let X_=(()=>{class t extends Hm{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new hc,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=k_(this,n)}set isDisabled(t){h_.disabledAttrWarning()}ngOnChanges(e){var n,i;this._isControlChanged(e)&&(m_(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),C_(e,this.viewModel)&&("formControl",n=t,this,i=this._ngModelWarningConfig,Ti()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(h_.ngModelWarning("formControl"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return w_(this._rawValidators)}get asyncValidator(){return x_(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(Lo(Wm,10),Lo(Ym,10),Lo(Rm,10),Lo(Y_,8))},t.\u0275dir=be({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[rl([q_]),Ha,Xa]}),t._ngModelWarningSentOnce=!1,t})();const $_={provide:zm,useExisting:Ot(()=>Z_)};let K_,Z_=(()=>{class t extends zm{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new hc}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return m_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){E_(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);v_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);v_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,S_(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>y_(e)),e.valueAccessor.registerOnTouched(()=>y_(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&m_(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=w_(this._validators);this.form.validator=Xm.compose([this.form.validator,t]);const e=x_(this._asyncValidators);this.form.asyncValidator=Xm.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||h_.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(Lo(Wm,10),Lo(Ym,10))},t.\u0275dir=be({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&$o("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rl([$_]),Ha,Xa]}),t})(),Q_=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),J_=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new I_(n,{asyncValidators:r,updateOn:s,validators:i})}control(t,e,n){return new R_(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new D_(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof R_||t instanceof I_||t instanceof D_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),tv=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[i_],imports:[Q_]}),t})(),ev=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Y_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[J_,i_],imports:[Q_]}),t})();try{K_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(cq){K_=!1}let nv,iv=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Eu(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!K_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)($t(zc,8))},t.\u0275prov=ut({factory:function(){return new t($t(zc,8))},token:t,providedIn:"root"}),t})(),rv=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const sv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ov(){if(nv)return nv;if("object"!=typeof document||!document)return nv=new Set(sv),nv;let t=document.createElement("input");return nv=new Set(sv.filter(e=>(t.setAttribute("type",e),t.type===e))),nv}let av,lv,cv;function hv(t){return function(){if(null==av&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>av=!0}))}finally{av=av||!1}return av}()?t:!!t.capture}function uv(){if("object"!=typeof document||!document)return 0;if(null==lv){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),lv=0,0===t.scrollLeft&&(t.scrollLeft=1,lv=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return lv}function dv(t){if(function(){if(null==cv){const t="undefined"!=typeof document?document.head:null;cv=!(!t||!t.createShadowRoot&&!t.attachShadow)}return cv}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function fv(t){return null!=t&&""+t!="false"}function pv(t,e=0){return gv(t)?Number(t):e}function gv(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function mv(t){return Array.isArray(t)?t:[t]}function _v(t){return null==t?"":"string"==typeof t?t:t+"px"}function vv(t){return t instanceof ll?t.nativeElement:t}let yv=1;const bv=(()=>Promise.resolve())(),wv={};function xv(t){return t in wv&&(delete wv[t],!0)}const Cv={setImmediate(t){const e=yv++;return wv[e]=!0,bv.then(()=>xv(e)&&t()),e},clearImmediate(t){xv(t)}};class Ov extends Mg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Cv.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Cv.clearImmediate(e),t.scheduled=void 0)}}class Sv extends Pg{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const kv=new Sv(Ov);function Ev(t,e){return n=>n.lift(new Mv(t,e))}class Mv{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Tv(t,this.compare,this.keySelector))}}class Tv extends p{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class Av{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Pv(t,this.durationSelector))}}class Pv extends F{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=L(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Rv(t){return!l(t)&&t-parseFloat(t)+1>=0}function Iv(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Dv(t,e=ym){return n=()=>function(t=0,e,n){let i=-1;return Rv(e)?i=Number(e)<1?1:Number(e):E(e)&&(n=e),E(n)||(n=ym),new b(e=>{const r=Rv(t)?t:+t-n.now();return n.schedule(Iv,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new Av(n))};var n}function Lv(t){return e=>e.lift(new Fv(t))}class Fv{constructor(t){this.notifier=t}call(t,e){const n=new Nv(t),i=L(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Nv extends F{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}function jv(...t){const e=t[t.length-1];return E(e)?(t.pop(),n=>yg(t,n,e)):e=>yg(t,e)}const zv=new zt("cdk-dir-doc",{providedIn:"root",factory:function(){return Kt(Ih)}});let Vv=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new hc,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)($t(zv,8))},t.\u0275prov=ut({factory:function(){return new t($t(zv,8))},token:t,providedIn:"root"}),t})(),Bv=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();class Hv{}function Uv(t){return t&&"function"==typeof t.connect}class Gv{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let Wv=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Yv=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Dv(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Rp()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Dp(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)($t(eh),$t(iv),$t(Ih,8))},t.\u0275prov=ut({factory:function(){return new t($t(eh),$t(iv),$t(Ih,8))},token:t,providedIn:"root"}),t})(),qv=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new S,this._elementScrolled=new b(t=>this.ngZone.runOutsideAngular(()=>vm(this.elementRef.nativeElement,"scroll").pipe(Lv(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=uv()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==uv()?t.left=t.right:1==uv()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==uv()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==uv()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Yv),Lo(eh),Lo(Vv,8))},t.\u0275dir=be({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Xv=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?q(vm(e,"resize"),vm(e,"orientationchange")):Rp(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Dv(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)($t(iv),$t(eh),$t(Ih,8))},t.\u0275prov=ut({factory:function(){return new t($t(iv),$t(eh),$t(Ih,8))},token:t,providedIn:"root"}),t})(),$v=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Kv=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Bv,rv,$v],Bv,$v]}),t})();function Zv(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Qv(){}function Jv(t,e,n){return function(i){return i.lift(new ty(t,e,n))}}class ty{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new ey(t,this.nextOrObserver,this.error,this.complete))}}class ey extends p{constructor(t,e,n,r){super(t),this._tapNext=Qv,this._tapError=Qv,this._tapComplete=Qv,this._tapError=n||Qv,this._tapComplete=r||Qv,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Qv,this._tapError=e.error||Qv,this._tapComplete=e.complete||Qv)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}let ny=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})(),iy=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=vv(t);return new b(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new S,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)($t(ny))},t.\u0275prov=ut({factory:function(){return new t($t(ny))},token:t,providedIn:"root"}),t})(),ry=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new hc,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=fv(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=pv(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(bm(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Lo(iy),Lo(ll),Lo(eh))},t.\u0275dir=be({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),sy=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ny]}),t})();function oy(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let ay=0;const ly=new Map;let cy=null,hy=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),ly.set(e,{messageElement:e,referenceCount:0})):ly.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=ly.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}cy&&0===cy.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");cy&&this._deleteMessagesContainer(),ly.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),cy.appendChild(e),ly.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id="cdk-describedby-message-"+ay++)}_deleteMessageElement(t){const e=ly.get(t),n=e&&e.messageElement;cy&&n&&cy.removeChild(n),ly.delete(t)}_createMessagesContainer(){if(!cy){const t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),cy=this._document.createElement("div"),cy.id="cdk-describedby-message-container",cy.setAttribute("aria-hidden","true"),cy.style.display="none",this._document.body.appendChild(cy)}}_deleteMessagesContainer(){cy&&cy.parentNode&&(cy.parentNode.removeChild(cy),cy=null)}_removeCdkDescribedByReferenceIds(t){const e=oy(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=ly.get(e);!function(t,e,n){const i=oy(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=ly.get(e);n.referenceCount--,function(t,e,n){const i=oy(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=oy(t,"aria-describedby"),i=ly.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":(""+e).trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)($t(Ih))},t.\u0275prov=ut({factory:function(){return new t($t(Ih))},token:t,providedIn:"root"}),t})();class uy{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new S,this.change=new S,t instanceof dc&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Jv(t=>this._pressedLetters.push(t)),bm(t),Dp(()=>this._pressedLetters.length>0),N(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Zv(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof dc?this._items.toArray():this._items}}class dy extends uy{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class fy extends uy{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let py=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(cq){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===my(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=my(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||gy(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)($t(iv))},t.\u0275prov=ut({factory:function(){return new t($t(iv))},token:t,providedIn:"root"}),t})();function gy(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function my(t){if(!gy(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class _y{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Ti()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Og(1)).subscribe(t)}}let vy=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new _y(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)($t(py),$t(eh),$t(Ih))},t.\u0275prov=ut({factory:function(){return new t($t(py),$t(eh),$t(Ih))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const yy=new zt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),by=new zt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let wy=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)($t(yy,8),$t(eh),$t(Ih),$t(by,8))},t.\u0275prov=ut({factory:function(){return new t($t(yy,8),$t(eh),$t(Ih),$t(by,8))},token:t,providedIn:"root"}),t})();function xy(t){return 0===t.buttons}const Cy=new zt("cdk-focus-monitor-default-options"),Oy=hv({passive:!0,capture:!0});let Sy=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=xy(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=ky(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=ky(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return Rp(null);const n=vv(t),i=dv(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject.asObservable();const s={checkChildren:e,subject:new S,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject.asObservable()}stopMonitoring(t){const e=vv(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=vv(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=ky(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==ky(t))return;const i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Oy),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Oy)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Oy),t.addEventListener("mousedown",this._documentMousedownListener,Oy),t.addEventListener("touchstart",this._documentTouchstartListener,Oy),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Oy),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Oy),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Oy),t.removeEventListener("mousedown",this._documentMousedownListener,Oy),t.removeEventListener("touchstart",this._documentTouchstartListener,Oy),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)($t(eh),$t(iv),$t(Ih,8),$t(Cy,8))},t.\u0275prov=ut({factory:function(){return new t($t(eh),$t(iv),$t(Ih,8),$t(Cy,8))},token:t,providedIn:"root"}),t})();function ky(t){return t.composedPath?t.composedPath()[0]:t.target}let Ey=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)($t(iv),$t(Ih))},t.\u0275prov=ut({factory:function(){return new t($t(iv),$t(Ih))},token:t,providedIn:"root"}),t})(),My=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)($t(Ey))},imports:[[rv,sy]]}),t})();const Ty=new gl("9.2.4"),Ay=["*",[["mat-option"],["ng-container"]]],Py=["*","mat-option, ng-container"];function Ry(t,e){if(1&t&&Ho(0,"mat-pseudo-checkbox",3),2&t){const t=ta();jo("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Iy=["*"],Dy=new gl("9.2.4"),Ly=new zt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Fy,Ny=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Ti()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Dy.full!==Ty.full&&console.warn("The Angular Material version ("+Dy.full+") does not match the Angular CDK version ("+Ty.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)($t(Ey),$t(Ly,8),$t(Ih,8))},imports:[[Bv],Bv]}),t})();function jy(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=fv(t)}}}function zy(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function Vy(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=fv(t)}}}function By(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function Hy(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new S}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function Uy(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new b(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{Fy="undefined"!=typeof Intl}catch(cq){Fy=!1}let Gy=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Wy=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ny],Ny]}),t})();class Yy{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qy={enterDuration:450,exitDuration:400},Xy=hv({passive:!0}),$y=["mousedown","touchstart"],Ky=["mouseup","mouseleave","touchend","touchcancel"];class Zy{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=vv(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},qy),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=l+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const h=new Yy(this,c,n);return h.state=0,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const t=h===this._mostRecentTransientRipple;h.state=1,n.persistent||t&&this._isPointerDown||h.fadeOut()},l),h}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},qy),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=vv(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents($y))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ky),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=xy(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Xy)})})}_removeTriggerEvents(){this._triggerElement&&($y.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xy)}),this._pointerUpEventsRegistered&&Ky.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xy)}))}}const Qy=new zt("mat-ripple-global-options");let Jy=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Zy(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(eh),Lo(iv),Lo(Qy,8),Lo(Tp,8))},t.\u0275dir=be({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&ya("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),tb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ny,rv],Ny]}),t})(),eb=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(Lo(Tp,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&ya("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),nb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();class ib{}const rb=jy(ib);let sb=0,ob=(()=>{class t extends rb{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+sb++}}return t.\u0275fac=function(e){return ab(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(Po("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),ya("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[Ha],ngContentSelectors:Py,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(na(Ay),Vo(0,"label",0),Da(1),ia(2),Bo(),ia(3,1)),2&t&&(jo("id",e._labelId),Or(1),Fa("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const ab=fi(ob);let lb=0;class cb{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const hb=new zt("MAT_OPTION_PARENT_COMPONENT");let ub=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+lb++,this.onSelectionChange=new hc,this._stateChanges=new S}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=fv(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Zv(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new cb(this,t))}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Qs),Lo(hb,8),Lo(ob,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&$o("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(za("id",e.id),Po("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),ya("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Iy,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(na(),Io(0,Ry,1,2,"mat-pseudo-checkbox",0),Vo(1,"span",1),ia(2),Bo(),Ho(3,"div",2)),2&t&&(jo("ngIf",e.multiple),Or(3),jo("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[hu,Jy,eb],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function db(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}function fb(t,e,n,i){const r=t*e;return r<n?r:r+e>n+i?Math.max(0,r-i+e):n}let pb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[tb,ku,nb]]}),t})();const gb=new zt("mat-label-global-options"),mb=["*"];function _b(t,e){if(1&t){const t=Yo();Vo(0,"div",2),$o("click",(function(){return Qe(t),ta()._onBackdropClicked()})),Bo()}2&t&&ya("mat-drawer-shown",ta()._isShowingBackdrop())}function vb(t,e){1&t&&(Vo(0,"mat-drawer-content"),ia(1,2),Bo())}const yb=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],bb=["mat-drawer","mat-drawer-content","*"];function wb(t,e){if(1&t){const t=Yo();Vo(0,"div",2),$o("click",(function(){return Qe(t),ta()._onBackdropClicked()})),Bo()}2&t&&ya("mat-drawer-shown",ta()._isShowingBackdrop())}function xb(t,e){1&t&&(Vo(0,"mat-sidenav-content",3),ia(1,2),Bo())}const Cb=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ob=["mat-sidenav","mat-sidenav-content","*"],Sb={transformDrawer:ad("transform",[dd("open, open-instant",ud({transform:"none",visibility:"visible"})),dd("void",ud({"box-shadow":"none",visibility:"hidden"})),pd("void => open-instant",ld("0ms")),pd("void <=> open, open-instant => void",ld("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function kb(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const Eb=new zt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Mb=new zt("MAT_DRAWER_CONTAINER");let Tb=(()=>{class t extends qv{constructor(t,e,n,i,r){super(n,i,r),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(Lo(Qs),Lo(Ot(()=>Pb)),Lo(ll),Lo(Yv),Lo(eh))},t.\u0275cmp=pe({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&va("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[Ha],ngContentSelectors:mb,decls:1,vars:0,template:function(t,e){1&t&&(na(),ia(0))},encapsulation:2,changeDetection:0}),t})(),Ab=(()=>{class t{constructor(t,e,n,i,r,s,o){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=r,this._doc=s,this._container=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new S,this._animationEnd=new S,this._animationState="void",this.openedChange=new hc(!0),this._destroyed=new S,this.onPositionChanged=new hc,this._modeChanged=new S,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{vm(this._elementRef.nativeElement,"keydown").pipe(Dp(t=>27===t.keyCode&&!this.disableClose&&!Zv(t)),Lv(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(Ev((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=fv(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=fv(t)}get opened(){return this._opened}set opened(t){this.toggle(fv(t))}get _openedStream(){return this.openedChange.pipe(Dp(t=>t),N(()=>{}))}get openedStart(){return this._animationStarted.pipe(Dp(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),N(()=>{}))}get _closedStream(){return this.openedChange.pipe(Dp(t=>!t),N(()=>{}))}get closedStart(){return this._animationStarted.pipe(Dp(t=>t.fromState!==t.toState&&"void"===t.toState),N(()=>{}))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Og(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(vy),Lo(Sy),Lo(iv),Lo(eh),Lo(Ih,8),Lo(Mb,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&Ko("@transform.start",(function(t){return e._animationStartListener(t)}))("@transform.done",(function(t){return e._animationDoneListener(t)})),2&t&&(Po("align",null),Va("@transform",e._animationState),ya("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",onPositionChanged:"positionChanged",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:mb,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(na(),Vo(0,"div",0),ia(1),Bo())},encapsulation:2,data:{animation:[Sb.transformDrawer]},changeDetection:0}),t})(),Pb=(()=>{class t{constructor(t,e,n,i,r,s=!1,o){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=o,this._drawers=new dc,this.backdropClick=new hc,this._destroyed=new S,this._doCheckSubject=new S,this._contentMargins={left:null,right:null},this._contentMarginChanges=new S,t&&t.change.pipe(Lv(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(Lv(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=fv(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:fv(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(jv(this._allDrawers),Lv(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(jv(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(bm(10),Lv(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Dp(t=>t.fromState!==t.toState),Lv(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Lv(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Lv(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Og(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Lv(q(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&kb("end"),this._end=t):(null!=this._start&&kb("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(Lo(Vv,8),Lo(ll),Lo(eh),Lo(Qs),Lo(Xv),Lo(Eb),Lo(Tp,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,Tb,!0),Sc(n,Ab,!0)),2&t&&(wc(i=Mc())&&(e._content=i.first),wc(i=Mc())&&(e._allDrawers=i))},viewQuery:function(t,e){var n;1&t&&Cc(Tb,!0),2&t&&wc(n=Mc())&&(e._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&ya("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[rl([{provide:Mb,useExisting:t}])],ngContentSelectors:bb,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(na(yb),Io(0,_b,1,2,"div",0),ia(1),ia(2,1),Io(3,vb,2,0,"mat-drawer-content",1)),2&t&&(jo("ngIf",e.hasBackdrop),Or(3),jo("ngIf",!e._content))},directives:[hu,Tb],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),Rb=(()=>{class t extends Tb{constructor(t,e,n,i,r){super(t,e,n,i,r)}}return t.\u0275fac=function(e){return new(e||t)(Lo(Qs),Lo(Ot(()=>Lb)),Lo(ll),Lo(Yv),Lo(eh))},t.\u0275cmp=pe({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&va("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[Ha],ngContentSelectors:mb,decls:1,vars:0,template:function(t,e){1&t&&(na(),ia(0))},encapsulation:2,changeDetection:0}),t})(),Ib=(()=>{class t extends Ab{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=fv(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=pv(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=pv(t)}}return t.\u0275fac=function(e){return Db(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(Po("align",null),va("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),ya("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Ha],ngContentSelectors:mb,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(na(),Vo(0,"div",0),ia(1),Bo())},encapsulation:2,data:{animation:[Sb.transformDrawer]},changeDetection:0}),t})();const Db=fi(Ib);let Lb=(()=>{class t extends Pb{}return t.\u0275fac=function(e){return Fb(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,Rb,!0),Sc(n,Ib,!0)),2&t&&(wc(i=Mc())&&(e._content=i.first),wc(i=Mc())&&(e._allDrawers=i))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&ya("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[rl([{provide:Mb,useExisting:t}]),Ha],ngContentSelectors:Ob,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(na(Cb),Io(0,wb,1,2,"div",0),ia(1),ia(2,1),Io(3,xb,2,0,"mat-sidenav-content",1)),2&t&&(jo("ngIf",e.hasBackdrop),Or(3),jo("ngIf",!e._content))},directives:[hu,Rb,qv],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})();const Fb=fi(Lb);let Nb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,Ny,rv,$v],$v,Ny]}),t})();const jb=["mat-button",""],zb=["*"],Vb=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Bb{constructor(t){this._elementRef=t}}const Hb=zy(jy(Vy(Bb)));let Ub=(()=>{class t extends Hb{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of Vb)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Sy),Lo(Tp,8))},t.\u0275cmp=pe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&Cc(Jy,!0),2&t&&wc(n=Mc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(Po("disabled",e.disabled||null),ya("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ha],attrs:jb,ngContentSelectors:zb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(na(),Vo(0,"span",0),ia(1),Bo(),Ho(2,"div",1),Ho(3,"div",2)),2&t&&(Or(2),ya("mat-button-ripple-round",e.isRoundButton||e.isIconButton),jo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Jy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),Gb=(()=>{class t extends Ub{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(Lo(Sy),Lo(ll),Lo(Tp,8))},t.\u0275cmp=pe({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){1&t&&$o("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(Po("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),ya("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[Ha],attrs:jb,ngContentSelectors:zb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(na(),Vo(0,"span",0),ia(1),Bo(),Ho(2,"div",1),Ho(3,"div",2)),2&t&&(Or(2),ya("mat-button-ripple-round",e.isRoundButton||e.isIconButton),jo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Jy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),Wb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[tb,Ny],Ny]}),t})();function Yb(){throw Error("Host already has a portal attached")}class qb{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Yb(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Xb extends qb{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class $b extends qb{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Kb extends qb{constructor(t){super(),this.element=t instanceof ll?t.nativeElement:t}}class Zb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Yb(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Xb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $b?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Kb?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Qb extends Zb{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Jb=(()=>{class t extends Zb{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new hc,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Lo(al),Lo(Dl),Lo(Ih))},t.\u0275dir=be({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ha]}),t})(),tw=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();class ew{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}class nw{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_v(-this._previousScrollPosition.left),t.style.top=_v(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function iw(){return Error("Scroll strategy has already been attached.")}class rw{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw iw();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sw{enable(){}disable(){}attach(){}}function ow(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function aw(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class lw{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw iw();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();ow(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cw=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new sw,this.close=t=>new rw(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new nw(this._viewportRuler,this._document),this.reposition=t=>new lw(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)($t(Yv),$t(Xv),$t(eh),$t(Ih))},t.\u0275prov=ut({factory:function(){return new t($t(Yv),$t(Xv),$t(eh),$t(Ih))},token:t,providedIn:"root"}),t})();class hw{constructor(t){if(this.scrollStrategy=new sw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class uw{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class dw{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function fw(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function pw(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let gw=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)($t(Ih))},t.\u0275prov=ut({factory:function(){return new t($t(Ih))},token:t,providedIn:"root"}),t})();const mw=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let _w=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||mw){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),mw?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)($t(Ih),$t(iv))},t.\u0275prov=ut({factory:function(){return new t($t(Ih),$t(iv))},token:t,providedIn:"root"}),t})();class vw{constructor(t,e,n,i,r,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=u.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new S,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Og(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_v(this._config.width),t.height=_v(this._config.height),t.minWidth=_v(this._config.minWidth),t.minHeight=_v(this._config.minHeight),t.maxWidth=_v(this._config.maxWidth),t.maxHeight=_v(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;mv(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Lv(q(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const yw=/([A-Za-z%]+)$/;class bw{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ww(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let l=0-s,c=s+e.height-n.height,h=this._subtractOverflows(e.width,0-r,r+e.width-n.width),u=this._subtractOverflows(e.height,l,c),d=h*u;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:u===e.height,fitsInViewportHorizontally:h==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=xw(this._overlayRef.getConfig().minHeight),o=xw(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),s=Math.max(t.y+e.height-i.bottom,0),o=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new dw(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,c;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=_v(n.height),i.top=_v(n.top),i.bottom=_v(n.bottom),i.width=_v(n.width),i.left=_v(n.left),i.right=_v(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=_v(t)),r&&(i.maxWidth=_v(r))}this._lastBoundingBoxSize=n,ww(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ww(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ww(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();ww(n,this._getExactOverlayY(e,t,i)),ww(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=_v(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=_v(s.maxWidth):r&&(n.maxWidth="")),ww(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=_v(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=_v(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aw(t,n),isOriginOutsideView:ow(t,n),isOverlayClipped:aw(e,n),isOverlayOutsideView:ow(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{pw("originX",t.originX),fw("originY",t.originY),pw("overlayX",t.overlayX),fw("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&mv(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ll)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function ww(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function xw(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(yw);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Cw{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new bw(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new uw(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Ow{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Sw=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Ow}connectedTo(t,e,n){return new Cw(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new bw(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)($t(Xv),$t(Ih),$t(iv),$t(_w))},t.\u0275prov=ut({factory:function(){return new t($t(Xv),$t(Ih),$t(iv),$t(_w))},token:t,providedIn:"root"}),t})(),kw=0,Ew=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new hw(t);return r.direction=r.direction||this._directionality.value,new vw(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+kw++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(wh)),new Qb(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)($t(cw),$t(_w),$t(al),$t(Sw),$t(gw),$t(go),$t(eh),$t(Ih),$t(Vv),$t(Xh,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Mw=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Tw=new zt("cdk-connected-overlay-scroll-strategy");let Aw=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll))},t.\u0275dir=be({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Pw=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=u.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new hc,this.positionChange=new hc,this.attach=new hc,this.detach=new hc,this.overlayKeydown=new hc,this._templatePortal=new $b(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=fv(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=fv(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=fv(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=fv(t)}get push(){return this._push}set push(t){this._push=fv(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Mw),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||Zv(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new hw({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Lo(Ew),Lo(Rl),Lo(Dl),Lo(Tw),Lo(Vv,8))},t.\u0275dir=be({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[Xa]}),t})();const Rw={provide:Tw,deps:[Ew],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Iw=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Ew,Rw],imports:[[Bv,tw,Kv],Kv]}),t})();const Dw=["underline"],Lw=["connectionContainer"],Fw=["inputContainer"],Nw=["label"];function jw(t,e){1&t&&(Uo(0),Vo(1,"div",14),Ho(2,"div",15),Ho(3,"div",16),Ho(4,"div",17),Bo(),Vo(5,"div",18),Ho(6,"div",15),Ho(7,"div",16),Ho(8,"div",17),Bo(),Go())}function zw(t,e){1&t&&(Vo(0,"div",19),ia(1,1),Bo())}function Vw(t,e){if(1&t&&(Uo(0),ia(1,2),Vo(2,"span"),Da(3),Bo(),Go()),2&t){const t=ta(2);Or(3),La(t._control.placeholder)}}function Bw(t,e){1&t&&ia(0,3,["*ngSwitchCase","true"])}function Hw(t,e){1&t&&(Vo(0,"span",23),Da(1," *"),Bo())}function Uw(t,e){if(1&t){const t=Yo();Vo(0,"label",20,21),$o("cdkObserveContent",(function(){return Qe(t),ta().updateOutlineGap()})),Io(2,Vw,4,1,"ng-container",12),Io(3,Bw,1,0,void 0,12),Io(4,Hw,2,0,"span",22),Bo()}if(2&t){const t=ta();ya("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),jo("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Po("for",t._control.id)("aria-owns",t._control.id),Or(2),jo("ngSwitchCase",!1),Or(1),jo("ngSwitchCase",!0),Or(1),jo("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Gw(t,e){1&t&&(Vo(0,"div",24),ia(1,4),Bo())}function Ww(t,e){if(1&t&&(Vo(0,"div",25,26),Ho(2,"span",27),Bo()),2&t){const t=ta();Or(2),ya("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Yw(t,e){1&t&&(Vo(0,"div"),ia(1,5),Bo()),2&t&&jo("@transitionMessages",ta()._subscriptAnimationState)}function qw(t,e){if(1&t&&(Vo(0,"div",31),Da(1),Bo()),2&t){const t=ta(2);jo("id",t._hintLabelId),Or(1),La(t.hintLabel)}}function Xw(t,e){if(1&t&&(Vo(0,"div",28),Io(1,qw,2,2,"div",29),ia(2,6),Ho(3,"div",30),ia(4,7),Bo()),2&t){const t=ta();jo("@transitionMessages",t._subscriptAnimationState),Or(1),jo("ngIf",t.hintLabel)}}const $w=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Kw=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Zw=0,Qw=(()=>{class t{constructor(){this.id="mat-error-"+Zw++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&Po("id",e.id)},inputs:{id:"id"}}),t})();const Jw={transitionMessages:ad("transitionMessages",[dd("enter",ud({opacity:1,transform:"translateY(0%)"})),pd("void => enter",[ud({opacity:0,transform:"translateY(-100%)"}),ld("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let tx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})();function ex(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let nx=0,ix=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+nx++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(Po("id",e.id)("align",null),ya("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),rx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-label"]]}),t})(),sx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-placeholder"]]}),t})(),ox=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","matPrefix",""]]}),t})(),ax=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","matSuffix",""]]}),t})(),lx=0;class cx{constructor(t){this._elementRef=t}}const hx=zy(cx,"primary"),ux=new zt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),dx=new zt("MatFormField");let fx=(()=>{class t extends hx{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+lx++,this._labelId="mat-form-field-label-"+lx++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=fv(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(jv(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Lv(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Lv(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),q(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(jv(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(jv(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Lv(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,vm(this._label.nativeElement,"transitionend").pipe(Og(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw ex("start");t=n}else if("end"===n.align){if(e)throw ex("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<r.length;o++)r[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Qs),Lo(gb,8),Lo(Vv,8),Lo(ux,8),Lo(iv),Lo(eh),Lo(Tp,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,tx,!0),kc(n,tx,!0),Sc(n,rx,!0),kc(n,rx,!0),Sc(n,sx,!0),Sc(n,Qw,!0),Sc(n,ix,!0),Sc(n,ox,!0),Sc(n,ax,!0)),2&t&&(wc(i=Mc())&&(e._controlNonStatic=i.first),wc(i=Mc())&&(e._controlStatic=i.first),wc(i=Mc())&&(e._labelChildNonStatic=i.first),wc(i=Mc())&&(e._labelChildStatic=i.first),wc(i=Mc())&&(e._placeholderChild=i.first),wc(i=Mc())&&(e._errorChildren=i),wc(i=Mc())&&(e._hintChildren=i),wc(i=Mc())&&(e._prefixChildren=i),wc(i=Mc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(Cc(Dw,!0),xc(Lw,!0),Cc(Fw,!0),Cc(Nw,!0)),2&t&&(wc(n=Mc())&&(e.underlineRef=n.first),wc(n=Mc())&&(e._connectionContainerRef=n.first),wc(n=Mc())&&(e._inputContainerRef=n.first),wc(n=Mc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&ya("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[rl([{provide:dx,useExisting:t}]),Ha],ngContentSelectors:Kw,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(na($w),Vo(0,"div",0),Vo(1,"div",1,2),$o("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),Io(3,jw,9,0,"ng-container",3),Io(4,zw,2,0,"div",4),Vo(5,"div",5,6),ia(7),Vo(8,"span",7),Io(9,Uw,5,16,"label",8),Bo(),Bo(),Io(10,Gw,2,0,"div",9),Bo(),Io(11,Ww,3,4,"div",10),Vo(12,"div",11),Io(13,Yw,2,1,"div",12),Io(14,Xw,5,2,"div",13),Bo(),Bo()),2&t&&(Or(3),jo("ngIf","outline"==e.appearance),Or(1),jo("ngIf",e._prefixChildren.length),Or(5),jo("ngIf",e._hasFloatingLabel()),Or(1),jo("ngIf",e._suffixChildren.length),Or(1),jo("ngIf","outline"!=e.appearance),Or(1),jo("ngSwitch",e._getDisplayedMessages()),Or(1),jo("ngSwitchCase","error"),Or(1),jo("ngSwitchCase","hint"))},directives:[hu,pu,gu,ry],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Jw.transitionMessages]},changeDetection:0}),t})(),px=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,Ny,sy],Ny]}),t})();const gx=["trigger"],mx=["panel"];function _x(t,e){if(1&t&&(Vo(0,"span",8),Da(1),Bo()),2&t){const t=ta();Or(1),La(t.placeholder||"\xa0")}}function vx(t,e){if(1&t&&(Vo(0,"span"),Da(1),Bo()),2&t){const t=ta(2);Or(1),La(t.triggerValue||"\xa0")}}function yx(t,e){1&t&&ia(0,0,["*ngSwitchCase","true"])}function bx(t,e){1&t&&(Vo(0,"span",9),Io(1,vx,2,1,"span",10),Io(2,yx,1,0,void 0,11),Bo()),2&t&&(jo("ngSwitch",!!ta().customTrigger),Or(2),jo("ngSwitchCase",!0))}function wx(t,e){if(1&t){const t=Yo();Vo(0,"div",12),Vo(1,"div",13,14),$o("@transformPanel.done",(function(e){return Qe(t),ta()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return Qe(t),ta()._handleKeydown(e)})),ia(3,1),Bo(),Bo()}if(2&t){const t=ta();jo("@transformPanelWrap",void 0),Or(1),"mat-select-panel ",n=t._getPanelTheme(),"",Oa(oe,xa,Ro(Ke(),"mat-select-panel ",n,""),!0),va("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),jo("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),Po("id",t.id+"-panel")}var n}const xx=[[["mat-select-trigger"]],"*"],Cx=["mat-select-trigger","*"],Ox={transformPanelWrap:ad("transformPanelWrap",[pd("* => void",md("@transformPanel",[gd()],{optional:!0}))]),transformPanel:ad("transformPanel",[dd("void",ud({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),dd("showing",ud({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),dd("showing-multiple",ud({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),pd("void => *",ld("120ms cubic-bezier(0, 0, 0.2, 1)")),pd("* => void",ld("100ms 25ms linear",ud({opacity:0})))])};let Sx=0;const kx=new zt("mat-select-scroll-strategy"),Ex=new zt("MAT_SELECT_CONFIG"),Mx={provide:kx,deps:[Ew],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class Tx{constructor(t,e){this.source=t,this.value=e}}class Ax{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const Px=Vy(By(jy(Hy(Ax))));let Rx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-select-trigger"]]}),t})(),Ix=(()=>{class t extends Px{constructor(t,e,n,i,r,s,o,a,l,c,h,u,d,f){super(r,i,o,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+Sx++,this._destroy=new S,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new S,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=xg(()=>{const t=this.options;return t?t.changes.pipe(jv(t),Hg(()=>q(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Og(1),Hg(()=>this.optionSelectionChanges))}),this.openedChange=new hc,this._openedStream=this.openedChange.pipe(Dp(t=>t),N(()=>{})),this._closedStream=this.openedChange.pipe(Dp(t=>!t),N(()=>{})),this.selectionChange=new hc,this.valueChange=new hc,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=u,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,f&&(null!=f.disableOptionCentering&&(this.disableOptionCentering=f.disableOptionCentering),null!=f.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=f.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=fv(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=fv(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=fv(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=pv(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Gv(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ev(),Lv(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Lv(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Lv(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(jv(null),Lv(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Og(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!Zv(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||Zv(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Og(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return Ti()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new dy(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Lv(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Lv(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=q(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Lv(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),q(...this.options.map(t=>t._stateChanges)).pipe(Lv(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new Tx(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=db(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=fb(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0!==e?e:t===n?i:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=db(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(256/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(Lo(Xv),Lo(Qs),Lo(eh),Lo(Gy),Lo(ll),Lo(Vv,8),Lo(N_,8),Lo(Z_,8),Lo(dx,8),Lo(Hm,10),Fo("tabindex"),Lo(kx),Lo(wy),Lo(Ex,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,Rx,!0),Sc(n,ub,!0),Sc(n,ob,!0)),2&t&&(wc(i=Mc())&&(e.customTrigger=i.first),wc(i=Mc())&&(e.options=i),wc(i=Mc())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(Cc(gx,!0),Cc(mx,!0),Cc(Pw,!0)),2&t&&(wc(n=Mc())&&(e.trigger=n.first),wc(n=Mc())&&(e.panel=n.first),wc(n=Mc())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&$o("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(Po("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),ya("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[rl([{provide:tx,useExisting:t},{provide:hb,useExisting:t}]),Ha,Xa],ngContentSelectors:Cx,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(na(xx),Vo(0,"div",0,1),$o("click",(function(){return e.toggle()})),Vo(3,"div",2),Io(4,_x,2,1,"span",3),Io(5,bx,3,2,"span",4),Bo(),Vo(6,"div",5),Ho(7,"div",6),Bo(),Bo(),Io(8,wx,4,11,"ng-template",7),$o("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=Do(1);Or(3),jo("ngSwitch",e.empty),Or(1),jo("ngSwitchCase",!0),Or(1),jo("ngSwitchCase",!1),Or(3),jo("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Aw,pu,gu,Pw,mu,ou],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[Ox.transformPanelWrap,Ox.transformPanel]},changeDetection:0}),t})(),Dx=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Mx],imports:[[ku,Iw,pb,Ny],$v,px,pb,Ny]}),t})();function Lx(t){return function(e){const n=new Fx(t),i=e.lift(n);return n.caught=i}}class Fx{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Nx(t,this.selector,this.caught))}}class Nx extends F{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new M(this,void 0,void 0);this.add(i);const r=L(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}function jx(t){return e=>e.lift(new zx(t))}class zx{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Vx(t,this.callback))}}class Vx extends p{constructor(t,e){super(t),this.add(new u(e))}}const Bx=["*"];function Hx(t){return Error(`Unable to find icon with the name "${t}"`)}function Ux(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Gx(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Wx{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let Yx=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new Wx(n,i))}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(Qi.HTML,n);if(!r)throw Gx(n);const s=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new Wx(s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Wx(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(Qi.HTML,e);if(!i)throw Gx(e);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new Wx(r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Qi.RESOURCE_URL,t);if(!e)throw Ux(t);const n=this._cachedIconsByUrl.get(e);return n?Rp(qx(n)):this._loadSvgIconFromConfig(new Wx(t)).pipe(Jv(t=>this._cachedIconsByUrl.set(e,t)),N(t=>qx(t)))}getNamedSvgIcon(t,e=""){const n=Xx(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Dg(Hx(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Rp(qx(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Jv(e=>t.svgElement=e),N(t=>qx(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Rp(n):mg(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Lx(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Qi.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),Rp(null)})))).pipe(N(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Hx(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(N(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Rp(t.svgElement):this._fetchUrl(t.url).pipe(N(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Qi.RESOURCE_URL,t);if(!e)throw Ux(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(jx(()=>this._inProgressUrlFetches.delete(e)),et());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Xx(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)($t(Jp,8),$t(ed),$t(Ih,8),$t(_i,8))},t.\u0275prov=ut({factory:function(){return new t($t(Jp,8),$t(ed),$t(Ih,8),$t(_i,8))},token:t,providedIn:"root"}),t})();function qx(t){return t.cloneNode(!0)}function Xx(t,e){return t+":"+e}class $x{constructor(t){this._elementRef=t}}const Kx=zy($x),Zx=new zt("mat-icon-location",{providedIn:"root",factory:function(){const t=Kt(Ih),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Qx=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Jx=Qx.map(t=>`[${t}]`).join(", "),tC=/^url\(['"]?#(.*?)['"]?\)$/;let eC=(()=>{class t extends Kx{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=u.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=fv(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(e,t).pipe(Og(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Jx),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)Qx.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(tC):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Yx),Fo("aria-hidden"),Lo(Zx,8),Lo(_i,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&ya("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[Ha,Xa],ngContentSelectors:Bx,decls:1,vars:0,template:function(t,e){1&t&&(na(),ia(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),nC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ny],Ny]}),t})();const iC=["*",[["mat-card-footer"]]],rC=["*","mat-card-footer"],sC=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],oC=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let aC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),lC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),cC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),hC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),uC=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(Tp,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&ya("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:rC,decls:2,vars:0,template:function(t,e){1&t&&(na(iC),ia(0),ia(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),dC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:oC,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(na(sC),ia(0),Vo(1,"div",0),ia(2,1),Bo(),ia(3,2))},encapsulation:2,changeDetection:0}),t})(),fC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ny],Ny]}),t})();function pC(t,e){if(1&t&&(Sn(),Ho(0,"circle",3)),2&t){const t=ta();va("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Po("r",t._circleRadius)}}function gC(t,e){if(1&t&&(Sn(),Ho(0,"circle",3)),2&t){const t=ta();va("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Po("r",t._circleRadius)}}function mC(t,e){if(1&t&&(Sn(),Ho(0,"circle",3)),2&t){const t=ta();va("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Po("r",t._circleRadius)}}function _C(t,e){if(1&t&&(Sn(),Ho(0,"circle",3)),2&t){const t=ta();va("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Po("r",t._circleRadius)}}class vC{constructor(t){this._elementRef=t}}const yC=zy(vC,"primary"),bC=new zt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let wC=(()=>{class t extends yC{constructor(e,n,i,r,s){super(e),this._elementRef=e,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;o.has(i.head)||o.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=pv(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=pv(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,pv(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=dv(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-10)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(iv),Lo(Ih,8),Lo(Tp,8),Lo(bC))},t.\u0275cmp=pe({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Po("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),va("width",e.diameter,"px")("height",e.diameter,"px"),ya("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[Ha],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(Sn(),Vo(0,"svg",0),Io(1,pC,1,9,"circle",1),Io(2,gC,1,7,"circle",2),Bo()),2&t&&(va("width",e.diameter,"px")("height",e.diameter,"px"),jo("ngSwitch","indeterminate"===e.mode),Po("viewBox",e._viewBox),Or(1),jo("ngSwitchCase",!0),Or(1),jo("ngSwitchCase",!1))},directives:[pu,gu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),xC=(()=>{class t extends wC{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(iv),Lo(Ih,8),Lo(Tp,8),Lo(bC))},t.\u0275cmp=pe({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(va("width",e.diameter,"px")("height",e.diameter,"px"),ya("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[Ha],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(Sn(),Vo(0,"svg",0),Io(1,mC,1,9,"circle",1),Io(2,_C,1,7,"circle",2),Bo()),2&t&&(va("width",e.diameter,"px")("height",e.diameter,"px"),jo("ngSwitch","indeterminate"===e.mode),Po("viewBox",e._viewBox),Or(1),jo("ngSwitchCase",!0),Or(1),jo("ngSwitchCase",!1))},directives:[pu,gu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t})(),CC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ny,ku],Ny]}),t})();const OC=["thumbContainer"],SC=["toggleBar"],kC=["input"],EC=function(){return{enterDuration:150}},MC=["*"],TC=new zt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let AC=0;const PC={provide:Rm,useExisting:Ot(()=>LC),multi:!0};class RC{constructor(t,e){this.source=t,this.checked=e}}class IC{constructor(t){this._elementRef=t}}const DC=By(zy(Vy(jy(IC)),"accent"));let LC=(()=>{class t extends DC{constructor(t,e,n,i,r,s,o,a){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this.defaults=s,this._animationMode=o,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++AC,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new hc,this.toggleChange=new hc,this.dragChange=new hc,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=fv(t)}get checked(){return this._checked}set checked(t){this._checked=fv(t),this._changeDetectorRef.markForCheck()}get inputId(){return(this.id||this._uniqueId)+"-input"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new RC(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Sy),Lo(Qs),Fo("tabindex"),Lo(eh),Lo(TC),Lo(Tp,8),Lo(Vv,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(Cc(OC,!0),Cc(SC,!0),Cc(kC,!0)),2&t&&(wc(n=Mc())&&(e._thumbEl=n.first),wc(n=Mc())&&(e._thumbBarEl=n.first),wc(n=Mc())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(za("id",e.id),Po("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),ya("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[rl([PC]),Ha],ngContentSelectors:MC,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(na(),Vo(0,"label",0,1),Vo(2,"div",2,3),Vo(4,"input",4,5),$o("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Bo(),Vo(6,"div",6,7),Ho(8,"div",8),Vo(9,"div",9),Ho(10,"div",10),Bo(),Bo(),Bo(),Vo(11,"span",11,12),$o("cdkObserveContent",(function(){return e._onLabelTextChange()})),Vo(13,"span",13),Da(14,"\xa0"),Bo(),ia(15),Bo(),Bo()),2&t){const t=Do(1),n=Do(12);Po("for",e.inputId),Or(2),ya("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),Or(2),jo("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),Po("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),Or(5),jo("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Ql(17,EC))}},directives:[Jy,ry],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),FC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),NC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[FC,tb,Ny,sy],FC,Ny]}),t})();class jC extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}const zC=[[["caption"]]],VC=["caption"];function BC(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=fv(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const HC=new zt("CDK_TABLE");let UC=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl))},t.\u0275dir=be({type:t,selectors:[["","cdkCellDef",""]]}),t})(),GC=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl))},t.\u0275dir=be({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),WC=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl))},t.\u0275dir=be({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class YC{}const qC=BC(YC);let XC=(()=>{class t extends qC{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=fv(t),this._hasStickyChanged=e!==this._stickyEnd}}return t.\u0275fac=function(e){return new(e||t)(Lo(HC,8))},t.\u0275dir=be({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,UC,!0),Sc(n,GC,!0),Sc(n,WC,!0)),2&t&&(wc(i=Mc())&&(e.cell=i.first),wc(i=Mc())&&(e.headerCell=i.first),wc(i=Mc())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[rl([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Ha]}),t})();class $C{constructor(t,e){e.nativeElement.classList.add("cdk-column-"+t.cssClassFriendlyName)}}let KC=(()=>{class t extends $C{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Lo(XC),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ha]}),t})(),ZC=(()=>{class t extends $C{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Lo(XC),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[Ha]}),t})(),QC=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof eO?t.headerCell.template:this instanceof rO?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl),Lo(El))},t.\u0275dir=be({type:t,features:[Xa]}),t})();class JC extends QC{}const tO=BC(JC);let eO=(()=>{class t extends tO{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl),Lo(El),Lo(HC,8))},t.\u0275dir=be({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ha,Xa]}),t})();class nO extends QC{}const iO=BC(nO);let rO=(()=>{class t extends iO{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl),Lo(El),Lo(HC,8))},t.\u0275dir=be({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ha,Xa]}),t})(),sO=(()=>{class t extends QC{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl),Lo(El),Lo(HC,8))},t.\u0275dir=be({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ha]}),t})(),oO=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl))},t.\u0275dir=be({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),aO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Wo(0,0)},directives:[oO],encapsulation:2}),t})(),lO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Wo(0,0)},directives:[oO],encapsulation:2}),t})();const cO=["top","bottom","left","right"];class hO{constructor(t,e,n,i=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._isBrowser=i}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const i=e.some(t=>t)||n.some(t=>t);if(!t.length||!i||!this._isBrowser)return;const r=t[0],s=r.children.length,o=this._getCellWidths(r),a=this._getStickyStartColumnPositions(o,e),l=this._getStickyEndColumnPositions(o,n),c="rtl"===this.direction;for(const h of t)for(let t=0;t<s;t++){const i=h.children[t];e[t]&&this._addStickyStyle(i,c?"right":"left",a[t]),n[t]&&this._addStickyStyle(i,c?"left":"right",l[t])}}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.reverse():t;let r=0;for(let s=0;s<i.length;s++){if(!e[s])continue;const t=i[s];if(this._isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,r);else this._addStickyStyle(t,n,r);if(s===i.length-1)return;r+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),cO.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of cO)t.style[i]&&(n+=e[i]);return n?""+n:""}_getCellWidths(t){const e=[],n=t.children;for(let i=0;i<n.length;i++)e.push(n[i].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}}function uO(t){return Error(`Could not find column with id "${t}".`)}let dO=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["","rowOutlet",""]]}),t})(),fO=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),pO=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),gO=(()=>{class t{constructor(t,e,n,i,r,s,o){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._platform=o,this._onDestroy=new S,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new jC({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){Ti()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=fv(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Uv(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,i)=>{if(null==t.previousIndex)this._insertRow(t.item,i);else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),mO(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw Error(`Duplicate column definition name provided: "${t.name}".`);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=mO(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=mO(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=mO(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],Uv(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(Uv(this.dataSource)?t=this.dataSource.connect(this):gg(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Rp(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=t.pipe(Lv(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>{const e=this._columnDefsByName.get(t);if(!e)throw uO(t);return e}),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for theprovided row data: "+JSON.stringify(t))}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,i={}){t.viewContainer.createEmbeddedView(e.template,i,n);for(let r of this._getCellTemplates(e))oO.mostRecentCellOutlet&&oO.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw uO(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup"),e.appendChild(n.outlet.elementRef.nativeElement),t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new hO(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:Rp()).pipe(Lv(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}}return t.\u0275fac=function(e){return new(e||t)(Lo(El),Lo(Qs),Lo(ll),Fo("role"),Lo(Vv,8),Lo(Ih),Lo(iv))},t.\u0275cmp=pe({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,XC,!0),Sc(n,sO,!0),Sc(n,eO,!0),Sc(n,rO,!0)),2&t&&(wc(i=Mc())&&(e._contentColumnDefs=i),wc(i=Mc())&&(e._contentRowDefs=i),wc(i=Mc())&&(e._contentHeaderRowDefs=i),wc(i=Mc())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(xc(dO,!0),xc(fO,!0),xc(pO,!0)),2&t&&(wc(n=Mc())&&(e._rowOutlet=n.first),wc(n=Mc())&&(e._headerRowOutlet=n.first),wc(n=Mc())&&(e._footerRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[rl([{provide:HC,useExisting:t}])],ngContentSelectors:VC,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(na(zC),ia(0),Wo(1,0),Wo(2,1),Wo(3,2))},directives:[fO,dO,pO],encapsulation:2}),t})();function mO(t,e){return t.concat(Array.from(e))}let _O=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const vO=[[["caption"]]],yO=["caption"];let bO=(()=>{class t extends gO{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky"}}return t.\u0275fac=function(e){return wO(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[rl([{provide:gO,useExisting:t},{provide:HC,useExisting:t}]),Ha],ngContentSelectors:yO,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(na(vO),ia(0),Wo(1,0),Wo(2,1),Wo(3,2))},directives:[fO,dO,pO],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}\n'],encapsulation:2}),t})();const wO=fi(bO);let xO=(()=>{class t extends UC{}return t.\u0275fac=function(e){return CO(e||t)},t.\u0275dir=be({type:t,selectors:[["","matCellDef",""]],features:[rl([{provide:UC,useExisting:t}]),Ha]}),t})();const CO=fi(xO);let OO=(()=>{class t extends GC{}return t.\u0275fac=function(e){return SO(e||t)},t.\u0275dir=be({type:t,selectors:[["","matHeaderCellDef",""]],features:[rl([{provide:GC,useExisting:t}]),Ha]}),t})();const SO=fi(OO);let kO=(()=>{class t extends XC{}return t.\u0275fac=function(e){return EO(e||t)},t.\u0275dir=be({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[rl([{provide:XC,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Ha]}),t})();const EO=fi(kO);let MO=(()=>{class t extends KC{constructor(t,e){super(t,e),e.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName)}}return t.\u0275fac=function(e){return new(e||t)(Lo(XC),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Ha]}),t})(),TO=(()=>{class t extends ZC{constructor(t,e){super(t,e),e.nativeElement.classList.add("mat-column-"+t.cssClassFriendlyName)}}return t.\u0275fac=function(e){return new(e||t)(Lo(XC),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Ha]}),t})(),AO=(()=>{class t extends eO{}return t.\u0275fac=function(e){return PO(e||t)},t.\u0275dir=be({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[rl([{provide:eO,useExisting:t}]),Ha]}),t})();const PO=fi(AO);let RO=(()=>{class t extends sO{}return t.\u0275fac=function(e){return IO(e||t)},t.\u0275dir=be({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[rl([{provide:sO,useExisting:t}]),Ha]}),t})();const IO=fi(RO);let DO=(()=>{class t extends aO{}return t.\u0275fac=function(e){return LO(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[rl([{provide:aO,useExisting:t}]),Ha],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Wo(0,0)},directives:[oO],encapsulation:2}),t})();const LO=fi(DO);let FO=(()=>{class t extends lO{}return t.\u0275fac=function(e){return NO(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[rl([{provide:lO,useExisting:t}]),Ha],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Wo(0,0)},directives:[oO],encapsulation:2}),t})();const NO=fi(FO);let jO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[_O,Ny],Ny]}),t})();class zO extends Hv{constructor(t=[]){super(),this._renderData=new jC([]),this._filter=new jC(""),this._internalPageChanges=new S,this._renderChangesSubscription=u.EMPTY,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(gv(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,i=e.direction;return n&&""!=i?t.sort((t,e)=>{let r=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n),o=0;return null!=r&&null!=s?r>s?o=1:r<s&&(o=-1):null!=r?o=1:null!=s&&(o=-1),o*("asc"==i?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),i=e.trim().toLowerCase();return-1!=n.indexOf(i)},this._data=new jC(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?q(this._sort.sortChange,this._sort.initialized):Rp(null),e=this._paginator?q(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Rp(null),n=gm([this._data,this._filter]).pipe(N(([t])=>this._filterData(t))),i=gm([n,t]).pipe(N(([t])=>this._orderData(t))),r=gm([i,e]).pipe(N(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=r.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderData}disconnect(){}}class VO{constructor(t){this.total=t}call(t,e){return e.subscribe(new BO(t,this.total))}}class BO extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const HO=new Set;let UO,GO=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):WO}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!HO.has(t))try{UO||(UO=document.createElement("style"),UO.setAttribute("type","text/css"),document.head.appendChild(UO)),UO.sheet&&(UO.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),HO.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)($t(iv))},t.\u0275prov=ut({factory:function(){return new t($t(iv))},token:t,providedIn:"root"}),t})();function WO(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let YO=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new S}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return qO(mv(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=gm(qO(mv(t)).map(t=>this._registerQuery(t).observable));return e=yg(e.pipe(Og(1)),e.pipe(t=>t.lift(new VO(1)),bm(0))),e.pipe(N(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new b(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(jv(e),N(e=>({query:t,matches:e.matches})),Lv(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)($t(GO),$t(eh))},t.\u0275prov=ut({factory:function(){return new t($t(GO),$t(eh))},token:t,providedIn:"root"}),t})();function qO(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const XO={tooltipState:ad("state",[dd("initial, void, hidden",ud({opacity:0,transform:"scale(0)"})),dd("visible",ud({transform:"scale(1)"})),pd("* => visible",ld("200ms cubic-bezier(0, 0, 0.2, 1)",fd([ud({opacity:0,transform:"scale(0)",offset:0}),ud({opacity:.5,transform:"scale(0.99)",offset:.5}),ud({opacity:1,transform:"scale(1)",offset:1})]))),pd("* => hidden",ld("100ms cubic-bezier(0, 0, 0.2, 1)",ud({opacity:0})))])},$O=hv({passive:!0});function KO(t){return Error(`Tooltip position "${t}" is invalid.`)}const ZO=new zt("mat-tooltip-scroll-strategy"),QO={provide:ZO,deps:[Ew],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},JO=new zt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let tS=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,h,u){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=c,this._defaultOptions=h,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new S,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!Zv(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),a.monitor(e).pipe(Lv(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&r.run(()=>this.show()):r.run(()=>this.hide(0))}),r.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=fv(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?(""+t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){this._setupPointerEvents()}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((e,n)=>{t.removeEventListener(n,e,$O)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new Xb(eS,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Lv(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Lv(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Lv(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw KO(e);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw KO(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Og(1),Lv(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEvents(){if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",()=>{clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)})}}else this._passiveListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide());this._passiveListeners.forEach((t,e)=>{this._elementRef.nativeElement.addEventListener(e,t,$O)})}_disableNativeGesturesIfNecessary(){const t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}return t.\u0275fac=function(e){return new(e||t)(Lo(Ew),Lo(ll),Lo(Yv),Lo(Dl),Lo(eh),Lo(iv),Lo(hy),Lo(Sy),Lo(ZO),Lo(Vv,8),Lo(JO,8),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),eS=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new S,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Lo(Qs),Lo(YO))},t.\u0275cmp=pe({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&$o("click",(function(){return e._handleBodyInteraction()}),!1,Xn),2&t&&va("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(Vo(0,"div",0),$o("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),sc(1,"async"),Da(2),Bo()),2&t&&(ya("mat-tooltip-handset",null==(n=oc(1,5,e._isHandset))?null:n.matches),jo("ngClass",e.tooltipClass)("@state",e._visibility),Or(2),La(e.message))},directives:[ou],pipes:[Ou],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[XO.tooltipState]},changeDetection:0}),t})(),nS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[QO],imports:[[My,ku,Iw,Ny],Ny,$v]}),t})();function iS(t,e){if(1&t&&(Vo(0,"mat-option",19),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),Fa(" ",t," ")}}function rS(t,e){if(1&t){const t=Yo();Vo(0,"mat-form-field",16),Vo(1,"mat-select",17),$o("selectionChange",(function(e){return Qe(t),ta(2)._changePageSize(e.value)})),Io(2,iS,2,2,"mat-option",18),Bo(),Bo()}if(2&t){const t=ta(2);jo("color",t.color),Or(1),jo("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),Or(1),jo("ngForOf",t._displayedPageSizeOptions)}}function sS(t,e){if(1&t&&(Vo(0,"div",20),Da(1),Bo()),2&t){const t=ta(2);Or(1),La(t.pageSize)}}function oS(t,e){if(1&t&&(Vo(0,"div",12),Vo(1,"div",13),Da(2),Bo(),Io(3,rS,3,5,"mat-form-field",14),Io(4,sS,2,1,"div",15),Bo()),2&t){const t=ta();Or(2),Fa(" ",t._intl.itemsPerPageLabel," "),Or(1),jo("ngIf",t._displayedPageSizeOptions.length>1),Or(1),jo("ngIf",t._displayedPageSizeOptions.length<=1)}}function aS(t,e){if(1&t){const t=Yo();Vo(0,"button",21),$o("click",(function(){return Qe(t),ta().firstPage()})),Sn(),Vo(1,"svg",7),Ho(2,"path",22),Bo(),Bo()}if(2&t){const t=ta();jo("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Po("aria-label",t._intl.firstPageLabel)}}function lS(t,e){if(1&t){const t=Yo();Sn(),kn(),Vo(0,"button",23),$o("click",(function(){return Qe(t),ta().lastPage()})),Sn(),Vo(1,"svg",7),Ho(2,"path",24),Bo(),Bo()}if(2&t){const t=ta();jo("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Po("aria-label",t._intl.lastPageLabel)}}let cS=(()=>{class t{constructor(){this.changes=new S,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return"0 of "+n;const i=t*e;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return new t},token:t,providedIn:"root"}),t})();const hS={provide:cS,deps:[[new st,new at,cS]],useFactory:function(t){return t||new cS}},uS=new zt("MAT_PAGINATOR_DEFAULT_OPTIONS");class dS{}const fS=jy(Uy(dS));let pS=(()=>{class t extends fS{constructor(t,e,n){if(super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new hc,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:t,pageSizeOptions:e,hidePageSize:i,showFirstLastButtons:r}=n;null!=t&&(this._pageSize=t),null!=e&&(this._pageSizeOptions=e),null!=i&&(this._hidePageSize=i),null!=r&&(this._showFirstLastButtons=r)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(pv(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=pv(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(pv(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>pv(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=fv(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=fv(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(Lo(cS),Lo(Qs),Lo(uS,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[Ha],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"div",1),Io(2,oS,5,3,"div",2),Vo(3,"div",3),Vo(4,"div",4),Da(5),Bo(),Io(6,aS,3,5,"button",5),Vo(7,"button",6),$o("click",(function(){return e.previousPage()})),Sn(),Vo(8,"svg",7),Ho(9,"path",8),Bo(),Bo(),kn(),Vo(10,"button",9),$o("click",(function(){return e.nextPage()})),Sn(),Vo(11,"svg",7),Ho(12,"path",10),Bo(),Bo(),Io(13,lS,3,5,"button",11),Bo(),Bo(),Bo()),2&t&&(Or(2),jo("ngIf",!e.hidePageSize),Or(3),Fa(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),Or(1),jo("ngIf",e.showFirstLastButtons),Or(1),jo("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Po("aria-label",e._intl.previousPageLabel),Or(3),jo("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Po("aria-label",e._intl.nextPageLabel),Or(3),jo("ngIf",e.showFirstLastButtons))},directives:[hu,Ub,tS,fx,Ix,lu,ub],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),gS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[hS],imports:[[ku,Wb,Dx,nS]]}),t})();const mS=["input"],_S=function(){return{enterDuration:150}},vS=["*"],yS=new zt("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),bS=new zt("mat-checkbox-click-action");let wS=0;const xS={provide:Rm,useExisting:Ot(()=>kS),multi:!0};class CS{}class OS{constructor(t){this._elementRef=t}}const SS=By(zy(Vy(jy(OS))));let kS=(()=>{class t extends SS{constructor(t,e,n,i,r,s,o,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=s,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++wS,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new hc,this.indeterminateChange=new hc,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(r)||0,this._focusMonitor.monitor(t,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),e.markForCheck()})}),this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=fv(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=fv(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=fv(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new CS;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Qs),Lo(Sy),Lo(eh),Fo("tabindex"),Lo(bS,8),Lo(Tp,8),Lo(yS,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(Cc(mS,!0),Cc(Jy,!0)),2&t&&(wc(n=Mc())&&(e._inputElement=n.first),wc(n=Mc())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(za("id",e.id),Po("tabindex",null),ya("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[rl([xS]),Ha],ngContentSelectors:vS,decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(na(),Vo(0,"label",0,1),Vo(2,"div",2),Vo(3,"input",3,4),$o("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Bo(),Vo(5,"div",5),Ho(6,"div",6),Bo(),Ho(7,"div",7),Vo(8,"div",8),Sn(),Vo(9,"svg",9),Ho(10,"path",10),Bo(),kn(),Ho(11,"div",11),Bo(),Bo(),Vo(12,"span",12,13),$o("cdkObserveContent",(function(){return e._onLabelTextChange()})),Vo(14,"span",14),Da(15,"\xa0"),Bo(),ia(16),Bo(),Bo()),2&t){const t=Do(1),n=Do(13);Po("for",e.inputId),Or(2),ya("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),Or(1),jo("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),Po("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),Or(2),jo("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Ql(18,_S))}},directives:[Jy,ry],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),ES=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),MS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[tb,Ny,sy,ES],Ny,ES]}),t})();const TS={leading:!0,trailing:!1};function AS(t,e=ym,n=TS){return i=>i.lift(new PS(t,e,n.leading,n.trailing))}class PS{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new RS(t,this.duration,this.scheduler,this.leading,this.trailing))}}class RS extends p{constructor(t,e,n,i,r){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(IS,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function IS(t){const{subscriber:e}=t;e.clearThrottle()}var DS=n("RN2F"),LS=n.n(DS);const FS=["tooltipTemplate"],NS=["leftOuterSelectionBar"],jS=["rightOuterSelectionBar"],zS=["fullBar"],VS=["selectionBar"],BS=["minHandle"],HS=["maxHandle"],US=["floorLabel"],GS=["ceilLabel"],WS=["minHandleLabel"],YS=["maxHandleLabel"],qS=["combinedLabel"],XS=["ticksElement"];function $S(t,e){if(1&t&&Ho(0,"ngx-slider-tooltip-wrapper",31),2&t){const t=ta().$implicit;jo("template",ta().tooltipTemplate)("tooltip",t.valueTooltip)("placement",t.valueTooltipPlacement)("content",t.value)}}function KS(t,e){1&t&&Ho(0,"span",32),2&t&&jo("innerHTML",ta().$implicit.legend,nr)}const ZS=function(t){return{"ngx-slider-selected":t}};function QS(t,e){if(1&t&&(Vo(0,"span",27),Ho(1,"ngx-slider-tooltip-wrapper",28),Io(2,$S,1,4,"ngx-slider-tooltip-wrapper",29),Io(3,KS,1,1,"span",30),Bo()),2&t){const t=e.$implicit,n=ta();jo("ngClass",Jl(7,ZS,t.selected))("ngStyle",t.style),Or(1),jo("template",n.tooltipTemplate)("tooltip",t.tooltip)("placement",t.tooltipPlacement),Or(1),jo("ngIf",null!=t.value),Or(1),jo("ngIf",null!=t.legend)}}function JS(t,e){}function tk(t,e){1&t&&Io(0,JS,0,0,"ng-template")}const ek=function(t,e,n){return{tooltip:t,placement:e,content:n}};function nk(t,e){if(1&t&&(Uo(0),Io(1,tk,1,0,void 0,1),Go()),2&t){const t=ta();Or(1),jo("ngTemplateOutlet",t.template)("ngTemplateOutletContext",ec(2,ek,t.tooltip,t.placement,t.content))}}function ik(t,e){if(1&t&&(Uo(0),Vo(1,"div",2),Da(2),Bo(),Go()),2&t){const t=ta();Or(1),Po("title",t.tooltip)("data-tooltip-placement",t.placement),Or(1),Fa(" ",t.content," ")}}const rk=function(){var t={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};return t[t.Low]="Low",t[t.High]="High",t[t.Floor]="Floor",t[t.Ceil]="Ceil",t[t.TickValue]="TickValue",t}();class sk{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const ok=function(){var t={Min:0,Max:1};return t[t.Min]="Min",t[t.Max]="Max",t}();class ak{}class lk{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}static linearValueToPosition(t,e,n){return(t-e)/(n-e)}static logValueToPosition(t,e,n){return((t=Math.log(t))-(e=Math.log(e)))/((n=Math.log(n))-e)}static linearPositionToValue(t,e,n){return t*(n-e)+e}static logPositionToValue(t,e,n){return e=Math.log(e),n=Math.log(n),Math.exp(t*(n-e)+e)}static findStepIndex(t,e){const n=e.map(e=>Math.abs(t-e.value));let i=0;for(let r=0;r<e.length;r++)n[r]!==n[i]&&n[r]<n[i]&&(i=r);return i}}class ck{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class hk{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,n){const i=Math.pow(10,-n);return Math.abs(t%e)<=i||Math.abs(Math.abs(t%e)-e)<=i}static clampToRange(t,e,n){return Math.min(Math.max(t,e),n)}}class uk{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class dk{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,n,i){if(!0!==LS.a.hasSupport)return this.attachEventListener(t,e,n,i);const r=new uk;r.eventName=e,r.events=new S;const s=t=>{r.events.next(t)};return t.addEventListener(e,s,{passive:!0,capture:!1}),r.teardownCallback=()=>{t.removeEventListener(e,s,{passive:!0,capture:!1})},r.eventsSubscription=r.events.pipe(lk.isNullOrUndefined(i)?Jv(()=>{}):AS(i,void 0,{leading:!0,trailing:!0})).subscribe(t=>{n(t)}),r}detachEventListener(t){lk.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),lk.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),lk.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,n,i){const r=new uk;return r.eventName=e,r.events=new S,r.teardownCallback=this.renderer.listen(t,e,t=>{r.events.next(t)}),r.eventsSubscription=r.events.pipe(lk.isNullOrUndefined(i)?Jv(()=>{}):AS(i,void 0,{leading:!0,trailing:!0})).subscribe(t=>{n(t)}),r}}let fk=(()=>{class t{constructor(t,e,n){this.elemRef=t,this.renderer=e,this.changeDetectionRef=n,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new dk(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(t){this._alwaysHide=t,this.visibility=t?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(t){this._scale=t}setPosition(t){this._position===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}calculateDimension(){const t=this.getBoundingClientRect();this._dimension=this.vertical?(t.bottom-t.top)*this.scale:(t.right-t.left)*this.scale}setDimension(t){this._dimension===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(t,e,n){const i=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}onPassive(t,e,n){const i=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}off(t){let e,n;lk.isNullOrUndefined(t)?(e=[],n=this.eventListeners):(e=this.eventListeners.filter(e=>e.eventName!==t),n=this.eventListeners.filter(e=>e.eventName===t));for(const i of n)this.eventListenerHelper.detachEventListener(i);this.eventListeners=e}isRefDestroyed(){return lk.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(dl),Lo(Qs))},t.\u0275dir=be({type:t,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(t,e){2&t&&va("opacity",e.opacity)("visibility",e.visibility)("left",e.left)("bottom",e.bottom)("height",e.height)("width",e.width)}}),t})(),pk=(()=>{class t extends fk{constructor(t,e,n){super(t,e,n),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(dl),Lo(Qs))},t.\u0275dir=be({type:t,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(t,e){2&t&&(Po("role",e.role)("tabindex",e.tabindex)("aria-orientation",e.ariaOrientation)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-valuenow",e.ariaValueNow)("aria-valuetext",e.ariaValueText)("aria-valuemin",e.ariaValueMin)("aria-valuemax",e.ariaValueMax),ya("ngx-slider-active",e.active))},features:[Ha]}),t})(),gk=(()=>{class t extends fk{constructor(t,e,n){super(t,e,n),this._value=null}get value(){return this._value}setValue(t){let e=!1;!this.alwaysHide&&(lk.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&0===this.dimension)&&(e=!0),this._value=t,this.elemRef.nativeElement.innerHTML=t,e&&this.calculateDimension()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(dl),Lo(Qs))},t.\u0275dir=be({type:t,selectors:[["","ngxSliderLabel",""]],features:[Ha]}),t})();class mk{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class _k{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class vk{static compare(t,e){return!(lk.isNullOrUndefined(t)&&lk.isNullOrUndefined(e)||lk.isNullOrUndefined(t)!==lk.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue)}}class yk extends vk{static compare(t,e){return!(lk.isNullOrUndefined(t)&&lk.isNullOrUndefined(e)||lk.isNullOrUndefined(t)!==lk.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue||t.forceChange!==e.forceChange)}}const bk={provide:Rm,useExisting:Ot(()=>wk),multi:!0};let wk=(()=>{class t{constructor(t,e,n,i){this.renderer=t,this.elementRef=e,this.changeDetectionRef=n,this.zone=i,this.value=null,this.valueChange=new hc,this.highValue=null,this.highValueChange=new hc,this.options=new sk,this.userChangeStart=new hc,this.userChange=new hc,this.userChangeEnd=new hc,this.initHasRun=!1,this.inputModelChangeSubject=new S,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new S,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new sk,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new _k,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new dk(this.renderer)}set manualRefresh(t){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(t){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe(t=>{this.focusPointer(t)})}get range(){return!lk.isNullOrUndefined(this.value)&&!lk.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new sk,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(t){lk.isNullOrUndefined(t.options)||this.onChangeOptions(),lk.isNullOrUndefined(t.value)&&lk.isNullOrUndefined(t.highValue)||this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.viewOptions.disabled=t,this.updateDisabledState()}onResize(t){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(t){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(Ev(yk.compare),Dp(t=>!t.forceChange&&!t.internalChange),lk.isNullOrUndefined(t)?Jv(()=>{}):AS(t,void 0,{leading:!0,trailing:!0})).subscribe(t=>this.applyInputModelChange(t))}subscribeOutputModelChangeSubject(t){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(Ev(yk.compare),lk.isNullOrUndefined(t)?Jv(()=>{}):AS(t,void 0,{leading:!0,trailing:!0})).subscribe(t=>this.publishOutputModelChange(t))}subscribeResizeObserver(){ck.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){ck.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){lk.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){lk.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){lk.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){lk.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){lk.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){lk.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(t){return t===ok.Min?this.minHandleElement:t===ok.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===ok.Min?this.viewLowValue:this.currentTrackingPointer===ok.Max?this.viewHighValue:null}modelValueToViewValue(t){return lk.isNullOrUndefined(t)?NaN:lk.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+t:lk.findStepIndex(+t,this.viewOptions.stepsArray)}viewValueToModelValue(t){return lk.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?t:this.getStepValue(t)}getStepValue(t){const e=this.viewOptions.stepsArray[t];return lk.isNullOrUndefined(e)?NaN:e.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(t){const e=this.normaliseModelValues(t),n=!vk.compare(t,e);n&&(this.value=e.value,this.highValue=e.highValue),this.viewLowValue=this.modelValueToViewValue(e.value),this.viewHighValue=this.range?this.modelValueToViewValue(e.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:e.value,highValue:e.highValue,forceChange:n,userEventInitiated:!1})}publishOutputModelChange(t){const e=()=>{this.valueChange.emit(t.value),this.range&&this.highValueChange.emit(t.highValue),lk.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[t.value,t.highValue]:t.value),lk.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[t.value,t.highValue]:t.value)};t.userEventInitiated?(e(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{e()})}normaliseModelValues(t){const e=new vk;if(e.value=t.value,e.highValue=t.highValue,!lk.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const t=lk.findStepIndex(e.value,this.viewOptions.stepsArray);if(e.value=this.viewOptions.stepsArray[t].value,this.range){const t=lk.findStepIndex(e.highValue,this.viewOptions.stepsArray);e.highValue=this.viewOptions.stepsArray[t].value}}return e}if(this.viewOptions.enforceStep&&(e.value=this.roundStep(e.value),this.range&&(e.highValue=this.roundStep(e.highValue))),this.viewOptions.enforceRange&&(e.value=hk.clampToRange(e.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(e.highValue=hk.clampToRange(e.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)e.value=e.highValue;else{const n=t.value;e.value=t.highValue,e.highValue=n}return e}renormaliseModelValues(){const t={value:this.value,highValue:this.highValue},e=this.normaliseModelValues(t);vk.compare(e,t)||(this.value=e.value,this.highValue=e.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const t=this.viewOptions.inputEventsInterval,e=this.viewOptions.outputEventsInterval,n=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const i=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!lk.areArraysEqual(n,i);t!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),e!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(r)}applyOptions(){if(this.viewOptions=new sk,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!lk.isNullOrUndefined(this.viewOptions.ticksArray),!this.viewOptions.showTicks||lk.isNullOrUndefined(this.viewOptions.tickStep)&&lk.isNullOrUndefined(this.viewOptions.ticksArray)||(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!lk.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),lk.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),lk.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(t,e)=>t+" - "+e),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,lk.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(t):t))}applyFloorCeilOptions(){if(lk.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),lk.isNullOrUndefined(this.viewOptions.ceil)||lk.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,lk.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(t))}resetSlider(t=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(t){t!==ok.Min&&t!==ok.Max&&(t=ok.Min),t===ok.Min?this.minHandleElement.focus():this.range&&t===ok.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){lk.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const t=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(t||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const t of this.getAllSliderElements())lk.isNullOrUndefined(t)||t.setVertical(this.viewOptions.vertical)}updateScale(){for(const t of this.getAllSliderElements())t.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",lk.isNullOrUndefined(this.viewOptions.ariaLabel)?lk.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",lk.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?lk.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,rk.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,rk.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){lk.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,lk.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const t=lk.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,e=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&t.reverse();const n=lk.isNullOrUndefined(this.viewOptions.tickValueStep)?lk.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let i=!1;const r=t.map(t=>{let r=this.valueToPosition(t);this.viewOptions.vertical&&(r=this.maxHandlePosition-r);const s=e+"("+Math.round(r)+"px)",o=new mk;o.selected=this.isTickSelected(t),o.style={"-webkit-transform":s,"-moz-transform":s,"-o-transform":s,"-ms-transform":s,transform:s},o.selected&&!lk.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(o.style["background-color"]=this.getSelectionBarColor()),o.selected||lk.isNullOrUndefined(this.viewOptions.getTickColor)||(o.style["background-color"]=this.getTickColor(t)),lk.isNullOrUndefined(this.viewOptions.ticksTooltip)||(o.tooltip=this.viewOptions.ticksTooltip(t),o.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!lk.isNullOrUndefined(n)&&hk.isModuloWithinPrecisionLimit(t,n,this.viewOptions.precisionLimit)&&(o.value=this.getDisplayValue(t,rk.TickValue),lk.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(o.valueTooltip=this.viewOptions.ticksValuesTooltip(t),o.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let a=null;if(lk.isNullOrUndefined(this.viewOptions.stepsArray))lk.isNullOrUndefined(this.viewOptions.getLegend)||(a=this.viewOptions.getLegend(t));else{const e=this.viewOptions.stepsArray[t];lk.isNullOrUndefined(e)||(a=e.legend)}return lk.isNullOrUndefined(a)||(o.legend=a,i=!0),o});if(setTimeout(()=>{this.sliderElementWithLegendClass=i}),lk.isNullOrUndefined(this.ticks)||this.ticks.length!==r.length)this.ticks=r;else for(let s=0;s<r.length;++s)Object.assign(this.ticks[s],r[s]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const t=lk.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,e=[],n=1+Math.floor(hk.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit));for(let i=0;i<n;++i)e.push(hk.roundToPrecisionLimit(this.viewOptions.floor+t*i,this.viewOptions.precisionLimit));return e}isTickSelected(t){if(!this.range)if(lk.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{const e=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>e&&t>=e&&t<=this.viewLowValue)return!0;if(this.viewLowValue<e&&t<=e&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,rk.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,rk.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(t,e){t===ok.Min?this.updateLowHandle(e):t===ok.Max&&this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(t,e){const n=t===ok.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,i=e-n/2+this.handleHalfDimension,r=this.fullBarElement.dimension-n;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===ok.Min||!this.viewOptions.rightToLeft&&t===ok.Max?Math.min(i,r):Math.min(Math.max(i,0),r):i}updateLowHandle(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,rk.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(ok.Min,t)),lk.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(ok.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,rk.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(ok.Max,t)),lk.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(ok.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let t=!1,e=!1;const n=this.isLabelBelowFloorLabel(this.minHandleLabelElement),i=this.isLabelAboveCeilLabel(this.minHandleLabelElement),r=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),s=this.isLabelBelowFloorLabel(this.combinedLabelElement),o=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(n?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),i?(e=!0,this.ceilLabelElement.hide()):(e=!1,this.ceilLabelElement.show()),this.range){const i=this.combinedLabelElement.isVisible()?o:r,a=this.combinedLabelElement.isVisible()?s:n;i?this.ceilLabelElement.hide():e||this.ceilLabelElement.show(),a?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}isLabelBelowFloorLabel(t){const e=t.position,n=this.floorLabelElement.position;return this.viewOptions.rightToLeft?e+t.dimension>=n-2:e<=n+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(t){const e=t.position,n=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?e<=n+this.ceilLabelElement.dimension+2:e+t.dimension>=n-2}updateSelectionBar(){let t=0,e=0;const n=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,i=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)e=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=i;else if(lk.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))n?(e=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(e=this.minHandleElement.position+this.handleHalfDimension,t=0);else{const n=this.viewOptions.showSelectionBarFromValue,i=this.valueToPosition(n);(this.viewOptions.rightToLeft?this.viewLowValue<=n:this.viewLowValue>n)?(e=this.minHandleElement.position-i,t=i+this.handleHalfDimension):(e=i-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(e),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.leftOuterSelectionBarElement.setPosition(t+e)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.rightOuterSelectionBarElement.setPosition(t+e))),lk.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!lk.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const i=lk.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),r=i-t>0&&!n||i-t<=0&&n;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?r?"bottom":"top":r?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(i+e+t+(r?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=i-t+(r?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const t=this.getSelectionBarColor();this.barStyle={backgroundColor:t}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(t){return this.viewOptions.getPointerColor(t===ok.Max?this.highValue:this.value,t)}getTickColor(t){return this.viewOptions.getTickColor(t)}updateCombinedLabel(){let t=null;if(t=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,t){const t=this.getDisplayValue(this.viewLowValue,rk.Low),e=this.getDisplayValue(this.viewHighValue,rk.High),n=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(e,t):this.viewOptions.combineLabels(t,e);this.combinedLabelElement.setValue(n);const i=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(i),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(t,e){return lk.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray||(t=this.getStepValue(t)),this.viewOptions.translate(t,e)}roundStep(t,e){const n=lk.isNullOrUndefined(e)?this.viewOptions.step:e;let i=hk.roundToPrecisionLimit((t-this.viewOptions.floor)/n,this.viewOptions.precisionLimit);return i=Math.round(i)*n,hk.roundToPrecisionLimit(this.viewOptions.floor+i,this.viewOptions.precisionLimit)}valueToPosition(t){let e=lk.linearValueToPosition;lk.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(e=lk.logValueToPosition):e=this.viewOptions.customValueToPosition;let n=e(t=hk.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return lk.isNullOrUndefined(n)&&(n=0),this.viewOptions.rightToLeft&&(n=1-n),n*this.maxHandlePosition}positionToValue(t){let e=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(e=1-e);let n=lk.linearPositionToValue;lk.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(n=lk.logPositionToValue):n=this.viewOptions.customPositionToValue;const i=n(e,this.viewOptions.floor,this.viewOptions.ceil);return lk.isNullOrUndefined(i)?0:i}getEventXY(t,e){if(t instanceof MouseEvent)return this.viewOptions.vertical?t.clientY:t.clientX;let n=0;const i=t.touches;if(!lk.isNullOrUndefined(e))for(let r=0;r<i.length;r++)if(i[r].identifier===e){n=r;break}return this.viewOptions.vertical?i[n].clientY:i[n].clientX}getEventPosition(t,e){const n=this.elementRef.nativeElement.getBoundingClientRect(),i=this.viewOptions.vertical?n.bottom:n.left;let r=0;return r=this.viewOptions.vertical?-this.getEventXY(t,e)+i:this.getEventXY(t,e)-i,r*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(t){if(!this.range)return ok.Min;const e=this.getEventPosition(t),n=Math.abs(e-this.minHandleElement.position),i=Math.abs(e-this.maxHandleElement.position);return n<i?ok.Min:n>i?ok.Max:this.viewOptions.rightToLeft?e>this.minHandleElement.position?ok.Min:ok.Max:e<this.minHandleElement.position?ok.Min:ok.Max}bindEvents(){const t=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",e=>this.onBarStart(null,t,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",e=>this.onBarStart(ok.Min,t,e,!0,!0)),this.maxHandleElement.on("mousedown",e=>this.onBarStart(ok.Max,t,e,!0,!0))):(this.minHandleElement.on("mousedown",t=>this.onStart(ok.Min,t,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",t=>this.onStart(ok.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",e=>this.onBarStart(null,t,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",e=>this.onBarStart(ok.Min,t,e,!0,!0)),this.maxHandleElement.onPassive("touchstart",e=>this.onBarStart(ok.Max,t,e,!0,!0))):(this.minHandleElement.onPassive("touchstart",t=>this.onStart(ok.Min,t,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",t=>this.onStart(ok.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.onPassive("touchstart",t=>this.onStart(null,t,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(ok.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(ok.Max)))}getOptionsInfluencingEventBindings(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const t of this.getAllSliderElements())lk.isNullOrUndefined(t)||t.off()}onBarStart(t,e,n,i,r,s,o){e?this.onDragStart(t,n,i,r):this.onStart(t,n,i,r,s,o)}onStart(t,e,n,i,r,s){e.stopPropagation(),ck.isTouchEvent(e)&&LS.a.hasSupport||e.preventDefault(),this.moving=!1,this.calculateViewDimensions(),lk.isNullOrUndefined(t)&&(t=this.getNearestHandle(e)),this.currentTrackingPointer=t;const o=this.getPointerElement(t);if(o.active=!0,this.viewOptions.keyboardSupport&&o.focus(),n){this.unsubscribeOnMove();const t=t=>this.dragging.active?this.onDragMove(t):this.onMove(t);this.onMoveEventListener=ck.isTouchEvent(e)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",t,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",t,this.viewOptions.mouseEventsInterval)}if(i){this.unsubscribeOnEnd();const t=t=>this.onEnd(t);this.onEndEventListener=ck.isTouchEvent(e)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",t):this.eventListenerHelper.attachEventListener(document,"mouseup",t)}this.userChangeStart.emit(this.getChangeContext()),ck.isTouchEvent(e)&&!lk.isNullOrUndefined(e.changedTouches)&&lk.isNullOrUndefined(this.touchId)&&(this.touchId=e.changedTouches[0].identifier),r&&this.onMove(e,!0),s&&this.onEnd(e)}onMove(t,e){let n=null;if(ck.isTouchEvent(t)){const e=t.changedTouches;for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchId){n=e[t];break}if(lk.isNullOrUndefined(n))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const i=lk.isNullOrUndefined(n)?this.getEventPosition(t):this.getEventPosition(t,n.identifier);let r;i<=0?r=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:i>=this.maxHandlePosition?r=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(r=this.positionToValue(i),r=e&&!lk.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(r,this.viewOptions.tickStep):this.roundStep(r)),this.positionTrackingHandle(r)}onEnd(t){ck.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(t){const e=this.getPointerElement(t);e.on("blur",()=>this.onPointerBlur(e)),e.on("keydown",t=>this.onKeyboardEvent(t)),e.on("keyup",()=>this.onKeyUp()),e.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,lk.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(t){const e=this.viewOptions.ceil-this.viewOptions.floor;let n=t+this.viewOptions.step,i=t-this.viewOptions.step,r=t+e/10,s=t-e/10;this.viewOptions.reversedControls&&(n=t-this.viewOptions.step,i=t+this.viewOptions.step,r=t-e/10,s=t+e/10);const o={UP:n,DOWN:i,LEFT:i,RIGHT:n,PAGEUP:r,PAGEDOWN:s,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(o.LEFT=n,o.RIGHT=i,this.viewOptions.vertical&&(o.UP=i,o.DOWN=n)),o}onKeyboardEvent(t){const e=this.getCurrentTrackingValue(),n=lk.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,i=this.getKeyActions(e)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[n]];if(lk.isNullOrUndefined(i)||lk.isNullOrUndefined(this.currentTrackingPointer))return;t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const r=hk.clampToRange(i,this.viewOptions.floor,this.viewOptions.ceil),s=this.roundStep(r);if(this.viewOptions.draggableRangeOnly){const t=this.viewHighValue-this.viewLowValue;let e,n;this.currentTrackingPointer===ok.Min?(e=s,n=s+t,n>this.viewOptions.ceil&&(n=this.viewOptions.ceil,e=n-t)):this.currentTrackingPointer===ok.Max&&(n=s,e=s-t,e<this.viewOptions.floor&&(e=this.viewOptions.floor,n=e+t)),this.positionTrackingBar(e,n)}else this.positionTrackingHandle(s)}onDragStart(t,e,n,i){const r=this.getEventPosition(e);this.dragging=new _k,this.dragging.active=!0,this.dragging.value=this.positionToValue(r),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-r:r-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?r-this.maxHandleElement.position:this.maxHandleElement.position-r,this.onStart(t,e,n,i)}getMinValue(t,e,n){const i=this.viewOptions.rightToLeft;let r=null;return r=e?n?i?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:i?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(i?t+this.dragging.lowLimit:t-this.dragging.lowLimit),this.roundStep(r)}getMaxValue(t,e,n){const i=this.viewOptions.rightToLeft;let r=null;return r=e?n?i?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:i?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:i?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(r)}onDragMove(t){const e=this.getEventPosition(t);let n,i,r,s;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(n=this.dragging.lowLimit,i=this.dragging.highLimit,r=this.maxHandleElement,s=this.minHandleElement):(n=this.dragging.highLimit,i=this.dragging.lowLimit,r=this.minHandleElement,s=this.maxHandleElement);const o=e>=this.maxHandlePosition-n;let a,l;if(e<=i){if(0===r.position)return;a=this.getMinValue(e,!0,!1),l=this.getMaxValue(e,!0,!1)}else if(o){if(s.position===this.maxHandlePosition)return;l=this.getMaxValue(e,!0,!0),a=this.getMinValue(e,!0,!0)}else a=this.getMinValue(e,!1,!1),l=this.getMaxValue(e,!1,!1);this.positionTrackingBar(a,l)}positionTrackingBar(t,e){!lk.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(e=hk.roundToPrecisionLimit((t=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!lk.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit&&(t=hk.roundToPrecisionLimit((e=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=e,this.applyViewChange(),this.updateHandles(ok.Min,this.valueToPosition(t)),this.updateHandles(ok.Max,this.valueToPosition(e))}positionTrackingHandle(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===ok.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===ok.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===ok.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(ok.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ok.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===ok.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(ok.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ok.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===ok.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===ok.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}applyMinMaxLimit(t){return!lk.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!lk.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}applyMinMaxRange(t){const e=Math.abs(t-(this.currentTrackingPointer===ok.Min?this.viewHighValue:this.viewLowValue));if(!lk.isNullOrUndefined(this.viewOptions.minRange)&&e<this.viewOptions.minRange){if(this.currentTrackingPointer===ok.Min)return hk.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ok.Max)return hk.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!lk.isNullOrUndefined(this.viewOptions.maxRange)&&e>this.viewOptions.maxRange){if(this.currentTrackingPointer===ok.Min)return hk.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ok.Max)return hk.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}applyPushRange(t){const e=this.currentTrackingPointer===ok.Min?this.viewHighValue-t:t-this.viewLowValue,n=lk.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,i=this.viewOptions.maxRange;return e<n?(this.currentTrackingPointer===ok.Min?(this.viewHighValue=hk.roundToPrecisionLimit(Math.min(t+n,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=hk.roundToPrecisionLimit(this.viewHighValue-n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ok.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ok.Max&&(this.viewLowValue=hk.roundToPrecisionLimit(Math.max(t-n,this.viewOptions.floor),this.viewOptions.precisionLimit),t=hk.roundToPrecisionLimit(this.viewLowValue+n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ok.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!lk.isNullOrUndefined(i)&&e>i&&(this.currentTrackingPointer===ok.Min?(this.viewHighValue=hk.roundToPrecisionLimit(t+i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ok.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ok.Max&&(this.viewLowValue=hk.roundToPrecisionLimit(t-i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ok.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}getChangeContext(){const t=new ak;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}}return t.\u0275fac=function(e){return new(e||t)(Lo(dl),Lo(ll),Lo(Qs),Lo(eh))},t.\u0275cmp=pe({type:t,selectors:[["ngx-slider"]],contentQueries:function(t,e,n){var i;1&t&&Sc(n,FS,!0),2&t&&wc(i=Mc())&&(e.tooltipTemplate=i.first)},viewQuery:function(t,e){var n;1&t&&(Cc(NS,!0,fk),Cc(jS,!0,fk),Cc(zS,!0,fk),Cc(VS,!0,fk),Cc(BS,!0,pk),Cc(HS,!0,pk),Cc(US,!0,gk),Cc(GS,!0,gk),Cc(WS,!0,gk),Cc(YS,!0,gk),Cc(qS,!0,gk),Cc(XS,!0,fk)),2&t&&(wc(n=Mc())&&(e.leftOuterSelectionBarElement=n.first),wc(n=Mc())&&(e.rightOuterSelectionBarElement=n.first),wc(n=Mc())&&(e.fullBarElement=n.first),wc(n=Mc())&&(e.selectionBarElement=n.first),wc(n=Mc())&&(e.minHandleElement=n.first),wc(n=Mc())&&(e.maxHandleElement=n.first),wc(n=Mc())&&(e.floorLabelElement=n.first),wc(n=Mc())&&(e.ceilLabelElement=n.first),wc(n=Mc())&&(e.minHandleLabelElement=n.first),wc(n=Mc())&&(e.maxHandleLabelElement=n.first),wc(n=Mc())&&(e.combinedLabelElement=n.first),wc(n=Mc())&&(e.ticksElement=n.first))},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(t,e){1&t&&$o("resize",(function(t){return e.onResize(t)}),!1,Yn),2&t&&(Po("disabled",e.sliderElementDisabledAttr),ya("vertical",e.sliderElementVerticalClass)("animate",e.sliderElementAnimateClass)("with-legend",e.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[rl([bk]),Xa],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(t,e){1&t&&(Vo(0,"span",0,1),Ho(2,"span",2),Bo(),Vo(3,"span",3,4),Ho(5,"span",2),Bo(),Vo(6,"span",5,6),Ho(8,"span",2),Bo(),Vo(9,"span",7,8),Ho(11,"span",9),Bo(),Ho(12,"span",10,11),Ho(14,"span",12,13),Ho(16,"span",14,15),Ho(18,"span",16,17),Ho(20,"span",18,19),Ho(22,"span",20,21),Ho(24,"span",22,23),Vo(26,"span",24,25),Io(28,QS,4,9,"span",26),Bo()),2&t&&(Or(6),ya("ngx-slider-transparent",e.fullBarTransparentClass),Or(3),ya("ngx-slider-draggable",e.selectionBarDraggableClass),Or(2),jo("ngStyle",e.barStyle),Or(1),jo("ngStyle",e.minPointerStyle),Or(2),va("display",e.range?"inherit":"none"),jo("ngStyle",e.maxPointerStyle),Or(12),ya("ngx-slider-ticks-values-under",e.ticksUnderValuesClass),jo("hidden",!e.showTicks),Or(2),jo("ngForOf",e.ticks))},directives:function(){return[fk,_u,pk,gk,lu,ou,xk,hu]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),t})(),xk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(t,e){1&t&&(Io(0,nk,2,6,"ng-container",0),Io(1,ik,3,3,"ng-container",0)),2&t&&(jo("ngIf",e.template),Or(1),jo("ngIf",!e.template))},directives:[hu,vu],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),t})(),Ck=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku]]}),t})(),Ok=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,nC,fm]]}),t})();function Sk(t,e=ym){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new kk(i,e))}class kk{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Ek(t,this.delay,this.scheduler))}}class Ek extends p{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Ek.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Mk(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Fg.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Fg.createComplete()),this.unsubscribe()}}class Mk{constructor(t,e){this.time=t,this.notification=e}}const Tk=["mat-menu-item",""],Ak=["*"];function Pk(t,e){if(1&t){const t=Yo();Vo(0,"div",0),$o("keydown",(function(e){return Qe(t),ta()._handleKeydown(e)}))("click",(function(){return Qe(t),ta().closed.emit("click")}))("@transformMenu.start",(function(e){return Qe(t),ta()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return Qe(t),ta()._onAnimationDone(e)})),Vo(1,"div",1),ia(2),Bo(),Bo()}if(2&t){const t=ta();jo("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Po("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Rk={transformMenu:ad("transformMenu",[dd("void",ud({opacity:0,transform:"scale(0.8)"})),pd("void => enter",cd([md(".mat-menu-content, .mat-mdc-menu-content",ld("100ms linear",ud({opacity:1}))),ld("120ms cubic-bezier(0, 0, 0.2, 1)",ud({transform:"scale(1)"}))])),pd("* => void",ld("100ms 25ms linear",ud({opacity:0})))]),fadeInItems:ad("fadeInItems",[dd("showing",ud({opacity:1})),pd("void => *",[ud({opacity:0}),ld("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ik=(()=>{class t{constructor(t,e,n,i,r,s,o){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=r,this._document=s,this._changeDetectorRef=o,this._attached=new S}attach(t={}){this._portal||(this._portal=new $b(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Qb(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl),Lo(al),Lo(wh),Lo(go),Lo(Dl),Lo(Ih),Lo(Qs))},t.\u0275dir=be({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const Dk=new zt("MAT_MENU_PANEL");class Lk{}const Fk=Vy(jy(Lk));let Nk=(()=>{class t extends Fk{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new S,this._focused=new S,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Ih),Lo(Sy),Lo(Dk,8))},t.\u0275cmp=pe({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&$o("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(Po("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),ya("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Ha],attrs:Tk,ngContentSelectors:Ak,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(na(),ia(0),Ho(1,"div",0)),2&t&&(Or(1),jo("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Jy],encapsulation:2,changeDetection:0}),t})();const jk=new zt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let zk=0,Vk=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new dc,this._tabSubscription=u.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new S,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new hc,this.close=this.closed,this.panelId="mat-menu-panel-"+zk++}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=fv(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=fv(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new fy(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(jv(this._directDescendantItems),Hg(t=>q(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(jv(this._directDescendantItems),Hg(t=>q(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:Zv(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Zv(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Og(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(jv(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(eh),Lo(jk))},t.\u0275dir=be({type:t,contentQueries:function(t,e,n){var i;1&t&&(Sc(n,Ik,!0),Sc(n,Nk,!0),Sc(n,Nk,!1)),2&t&&(wc(i=Mc())&&(e.lazyContent=i.first),wc(i=Mc())&&(e._allItems=i),wc(i=Mc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&Cc(Rl,!0),2&t&&wc(n=Mc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),Bk=(()=>{class t extends Vk{}return t.\u0275fac=function(e){return Hk(e||t)},t.\u0275dir=be({type:t,features:[Ha]}),t})();const Hk=fi(Bk);let Uk=(()=>{class t extends Bk{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(eh),Lo(jk))},t.\u0275cmp=pe({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[rl([{provide:Dk,useExisting:Bk},{provide:Bk,useExisting:t}]),Ha],ngContentSelectors:Ak,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(na(),Io(0,Pk,3,6,"ng-template"))},directives:[ou],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Rk.transformMenu,Rk.fadeInItems]},changeDetection:0}),t})();const Gk=new zt("mat-menu-scroll-strategy"),Wk={provide:Gk,deps:[Ew],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},Yk=hv({passive:!0});let qk=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=r,this._menuItemInstance=s,this._dir=o,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=u.EMPTY,this._hoverSubscription=u.EMPTY,this._menuCloseSubscription=u.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new hc,this.onMenuOpen=this.menuOpened,this.menuClosed=new hc,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,Yk),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Yk),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Bk&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof Bk?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Dp(t=>"void"===t.toState),Og(1),Lv(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new hw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[i,r],[a,l]=[e,n],c=0;this.triggersSubmenu()?(l=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",c="bottom"===i?8:-8):this.menu.overlapTrigger||(s="top"===i?"bottom":"top",o="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:c},{originX:n,originY:s,overlayX:l,overlayY:i,offsetY:c},{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:-c},{originX:n,originY:o,overlayX:l,overlayY:r,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments();return q(t,this._parentMenu?this._parentMenu.closed:Rp(),this._parentMenu?this._parentMenu._hovered().pipe(Dp(t=>t!==this._menuItemInstance),Dp(()=>this._menuOpen)):Rp(),e)}_handleMousedown(t){xy(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Dp(t=>t===this._menuItemInstance&&!t.disabled),Sk(0,kv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Bk&&this.menu._isAnimating?this.menu._animationDone.pipe(Og(1),Sk(0,kv),Lv(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new $b(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(Lo(Ew),Lo(ll),Lo(Dl),Lo(Gk),Lo(Bk,8),Lo(Nk,10),Lo(Vv,8),Lo(Sy))},t.\u0275dir=be({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&$o("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&Po("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),Xk=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Wk],imports:[Ny]}),t})(),$k=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Wk],imports:[[ku,Ny,tb,Iw,Xk],$v,Ny,Xk]}),t})(),Kk=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,Wb,$k,fm]]}),t})();const Zk=["sliderWrapper"],Qk=hv({passive:!1}),Jk={provide:Rm,useExisting:Ot(()=>iE),multi:!0};class tE{}class eE{constructor(t){this._elementRef=t}}const nE=By(zy(jy(eE),"accent"));let iE=(()=>{class t extends nE{constructor(t,e,n,i,r,s,o,a){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=i,this._animationMode=s,this._ngZone=o,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new hc,this.input=new hc,this.valueChange=new hc,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=u.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!rE(t)&&0!==t.button||this._runInsideZone(()=>{const e=this.value,n=sE(t);this._isSliding=!0,this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(n),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=n,e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=t=>{if(this._isSliding){t.preventDefault();const e=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(sE(t)),e!=this.value&&this._emitInputEvent()}},this._pointerUp=t=>{if(this._isSliding){const e=this._pointerPositionOnStart,n=sE(t);t.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||!e||e.x===n.x&&e.y===n.y||this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=a,this.tabIndex=parseInt(r)||0,this._runOutsizeZone(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,Qk),e.addEventListener("touchstart",this._pointerDown,Qk)})}get invert(){return this._invert}set invert(t){this._invert=fv(t)}get max(){return this._max}set max(t){this._max=pv(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=pv(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=pv(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=fv(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?pv(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=pv(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=fv(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:t+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${e})`,display:0===t?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:t+"% 2px",transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue&&this._thumbGap){let t;t=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",e["padding"+t]=this._thumbGap+"px"}return e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,Qk),t.removeEventListener("touchstart",this._pointerDown,Qk),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||Zv(t))return;const e=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_bindGlobalEvents(t){const e=this._document;if(void 0!==e&&e){const n=rE(t),i=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,Qk),e.addEventListener(i,this._pointerUp,Qk),n&&e.addEventListener("touchcancel",this._pointerUp,Qk)}const n=this._getWindow();void 0!==n&&n&&n.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;void 0!==t&&t&&(t.removeEventListener("mousemove",this._pointerMove,Qk),t.removeEventListener("mouseup",this._pointerUp,Qk),t.removeEventListener("touchmove",this._pointerMove,Qk),t.removeEventListener("touchend",this._pointerUp,Qk),t.removeEventListener("touchcancel",this._pointerUp,Qk));const e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new tE;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}_runInsideZone(t){this._ngZone?this._ngZone.run(t):t()}_runOutsizeZone(t){this._ngZone?this._ngZone.runOutsideAngular(t):t()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Sy),Lo(Qs),Lo(Vv,8),Fo("tabindex"),Lo(Tp,8),Lo(eh),Lo(Ih,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){var n;1&t&&Cc(Zk,!0),2&t&&wc(n=Mc())&&(e._sliderWrapper=n.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(t,e){1&t&&$o("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(){return e._onKeyup()}))("mouseenter",(function(){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),2&t&&(za("tabIndex",e.tabIndex),Po("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),ya("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[rl([Jk]),Ha],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(Vo(0,"div",0,1),Vo(2,"div",2),Ho(3,"div",3),Ho(4,"div",4),Bo(),Vo(5,"div",5),Ho(6,"div",6),Bo(),Vo(7,"div",7),Ho(8,"div",8),Ho(9,"div",9),Vo(10,"div",10),Vo(11,"span",11),Da(12),Bo(),Bo(),Bo(),Bo()),2&t&&(Or(3),jo("ngStyle",e._trackBackgroundStyles),Or(1),jo("ngStyle",e._trackFillStyles),Or(1),jo("ngStyle",e._ticksContainerStyles),Or(1),jo("ngStyle",e._ticksStyles),Or(1),jo("ngStyle",e._thumbContainerStyles),Or(5),La(e.displayValue))},directives:[_u],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function rE(t){return"t"===t.type[0]}function sE(t){const e=rE(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}let oE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,Ny],Ny]}),t})();function aE(t,e){}class lE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const cE={dialogContainer:ad("dialogContainer",[dd("void, exit",ud({opacity:0,transform:"scale(0.7)"})),dd("enter",ud({transform:"none"})),pd("* => enter",ld("150ms cubic-bezier(0, 0, 0.2, 1)",ud({transform:"none",opacity:1}))),pd("* => void, * => exit",ld("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ud({opacity:0})))])};function hE(){throw Error("Attempting to attach dialog content after content is already attached")}let uE=(()=>{class t extends Zb{constructor(t,e,n,i,r){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new hc,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&hE(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&hE(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&hE(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(vy),Lo(Qs),Lo(Ih,8),Lo(lE))},t.\u0275cmp=pe({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&xc(Jb,!0),2&t&&wc(n=Mc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Ko("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(Po("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Va("@dialogContainer",e._state))},features:[Ha],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Io(0,aE,0,0,"ng-template",0)},directives:[Jb],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[cE.dialogContainer]}}),t})(),dE=0;class fE{constructor(t,e,n="mat-dialog-"+dE++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new S,this._afterClosed=new S,this._beforeClosed=new S,this._state=0,e._id=n,e._animationStateChanged.pipe(Dp(t=>"done"===t.phaseName&&"enter"===t.toState),Og(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Dp(t=>"done"===t.phaseName&&"exit"===t.toState),Og(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Dp(t=>27===t.keyCode&&!this.disableClose&&!Zv(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Dp(t=>"start"===t.phaseName),Og(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const pE=new zt("MatDialogData"),gE=new zt("mat-dialog-default-options"),mE=new zt("mat-dialog-scroll-strategy"),_E={provide:mE,deps:[Ew],useFactory:function(t){return()=>t.scrollStrategies.block()}};let vE=(()=>{class t{constructor(t,e,n,i,r,s,o){this._overlay=t,this._injector=e,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S,this._afterOpenedAtThisLevel=new S,this._ariaHiddenElements=new Map,this.afterAllClosed=xg(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(jv(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new lE)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new hw({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=go.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:lE,useValue:e}]}),i=new Xb(uE,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const r=new fE(n,e,i.id);if(t instanceof Rl)e.attachTemplatePortal(new $b(t,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,e),s=e.attachComponentPortal(new Xb(t,i.viewContainerRef,n));r.componentInstance=s.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:uE,useValue:n},{provide:pE,useValue:t.data},{provide:fE,useValue:e}];return!t.direction||i&&i.get(Vv,null)||r.push({provide:Vv,useValue:{value:t.direction,change:Rp()}}),go.create({parent:i||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)($t(Ew),$t(go),$t(Xh,8),$t(gE,8),$t(mE),$t(t,12),$t(_w))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),yE=0,bE=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=OE(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(Lo(fE,8),Lo(ll),Lo(vE))},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&$o("click",(function(){return e.dialogRef.close(e.dialogResult)})),2&t&&Po("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Xa]}),t})(),wE=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+yE++}ngOnInit(){this._dialogRef||(this._dialogRef=OE(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(Lo(fE,8),Lo(ll),Lo(vE))},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&za("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),xE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),CE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function OE(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let SE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[vE,_E],imports:[[Iw,tw,Ny],Ny]}),t})(),kE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ny],Ny]}),t})();const EE=["*"];class ME{}const TE=jy(Vy(ME));let AE=(()=>{class t extends TE{constructor(t){super(),this._elementRef=t,this._stateChanges=new S,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll))},t.\u0275cmp=pe({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Ha,Xa],ngContentSelectors:EE,decls:1,vars:0,template:function(t,e){1&t&&(na(),ia(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),PE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Wy,tb,Ny,nb,ku],Wy,Ny,nb,kE]}),t})();const RE="https://dev-api.mol.org/2.x/",IE="https://dev-tiles.mol.org/0.x",DE=["^http://localhost",RE],LE=["en","de","es","fr","zh"];class FE{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}let NE=(()=>{class t{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=Eu(this.platformId)}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),this.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const e=this.getCookieRegExp(t).exec(this.document.cookie);return decodeURIComponent(e[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},e=this.document;if(e.cookie&&""!==e.cookie){const n=e.cookie.split(";");for(let e=0;e<n.length;e+=1){const i=n[e].split("=");i[0]=i[0].replace(/^ /,""),t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}}return t}set(t,e,n,i,r,s,o){if(!this.documentIsAccessible)return;let a=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";n&&(a+="number"==typeof n?"expires="+new Date((new Date).getTime()+1e3*n*60*60*24).toUTCString()+";":"expires="+n.toUTCString()+";"),i&&(a+="path="+i+";"),r&&(a+="domain="+r+";"),s&&(a+="secure;"),o&&(a+="sameSite="+o+";"),this.document.cookie=a}delete(t,e,n){this.documentIsAccessible&&this.set(t,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),e,n)}deleteAll(t,e){if(!this.documentIsAccessible)return;const n=this.getAll();for(const i in n)n.hasOwnProperty(i)&&this.delete(i,t,e)}getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}}return t.\u0275fac=function(e){return new(e||t)($t(Ih),$t(zc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jE=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function zE(t){return function(e){return 0===t?wg():e.lift(new VE(t))}}class VE{constructor(t){if(this.total=t,this.total<0)throw new Cg}call(t,e){return e.subscribe(new BE(t,this.total))}}class BE extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function HE(t=WE){return e=>e.lift(new UE(t))}class UE{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new GE(t,this.errorFactory))}}class GE extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function WE(){return new jE}function YE(t=null){return e=>e.lift(new qE(t))}class qE{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new XE(t,this.defaultValue))}}class XE extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function $E(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Dp((e,n)=>t(e,n,i)):_,zE(1),n?YE(e):HE(()=>new jE))}function KE(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Dp((e,n)=>t(e,n,i)):_,Og(1),n?YE(e):HE(()=>new jE))}class ZE{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new QE(t,this.predicate,this.thisArg,this.source))}}class QE extends p{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function JE(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new tM(t,e,n))}}class tM{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new eM(t,this.accumulator,this.seed,this.hasSeed))}}class eM extends p{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}class nM{constructor(t,e){this.id=t,this.url=e}}class iM extends nM{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rM extends nM{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sM extends nM{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oM extends nM{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aM extends nM{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lM extends nM{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cM extends nM{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hM extends nM{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uM extends nM{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dM{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fM{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pM{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gM{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mM{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _M{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vM{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let yM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ho(0,"router-outlet")},directives:function(){return[OA]},encapsulation:2}),t})();class bM{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wM(t){return new bM(t)}function xM(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function CM(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class OM{constructor(t,e){this.routes=t,this.module=e}}function SM(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];kM(i,EM(e,i))}}function kM(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&SM(t.children,e)}function EM(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function MM(t){const e=t.children&&t.children.map(MM),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=yM),n}function TM(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!AM(t[r],e[r]))return!1;return!0}function AM(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function PM(t){return Array.prototype.concat.apply([],t)}function RM(t){return t.length>0?t[t.length-1]:null}function IM(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function DM(t){return Xo(t)?t:qo(t)?B(Promise.resolve(t)):Rp(t)}function LM(t,e,n){return n?function(t,e){return TM(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!zM(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AM(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!zM(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!zM(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!zM(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,s)}}(e,n,n.segments)}(t.root,e.root)}class FM{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wM(this.queryParams)),this._queryParamMap}toString(){return UM.serialize(this)}}class NM{constructor(t,e){this.segments=t,this.children=e,this.parent=null,IM(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return GM(this)}}class jM{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wM(this.parameters)),this._parameterMap}toString(){return KM(this)}}function zM(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function VM(t,e){let n=[];return IM(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),IM(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class BM{}class HM{parse(t){const e=new eT(t);return new FM(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return GM(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return IM(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=VM(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${GM(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${YM(e)}=${YM(t)}`).join("&"):`${YM(e)}=${YM(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const UM=new HM;function GM(t){return t.segments.map(t=>KM(t)).join("/")}function WM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function YM(t){return WM(t).replace(/%3B/gi,";")}function qM(t){return WM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function XM(t){return decodeURIComponent(t)}function $M(t){return XM(t.replace(/\+/g,"%20"))}function KM(t){return`${qM(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${qM(t)}=${qM(e[t])}`).join("")}`;var e}const ZM=/^[^\/()?;=#]+/;function QM(t){const e=t.match(ZM);return e?e[0]:""}const JM=/^[^=?&#]+/,tT=/^[^?&#]+/;class eT{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new NM([],{}):new NM([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new NM(t,e)),n}parseSegment(){const t=QM(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new jM(XM(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=QM(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=QM(this.remaining);t&&(n=t,this.capture(n))}t[XM(e)]=XM(n)}parseQueryParam(t){const e=function(t){const e=t.match(JM);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(tT);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=$M(e),r=$M(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=QM(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new NM([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class nT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=iT(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=iT(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rT(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return rT(t,this._root).map(t=>t.value)}}function iT(t,e){if(t===e.value)return e;for(const n of e.children){const e=iT(t,n);if(e)return e}return null}function rT(t,e){if(t===e.value)return[e];for(const n of e.children){const i=rT(t,n);if(i.length)return i.unshift(e),i}return[]}class sT{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function oT(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class aT extends nT{constructor(t,e){super(t),this.snapshot=e,fT(this,t)}toString(){return this.snapshot.toString()}}function lT(t,e){const n=function(t,e){const n=new uT([],{},{},"",{},"primary",e,null,t.root,-1,{});return new dT("",new sT(n,[]))}(t,e),i=new jC([new jM("",{})]),r=new jC({}),s=new jC({}),o=new jC({}),a=new jC(""),l=new cT(i,r,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new aT(new sT(l,[]),n)}class cT{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(N(t=>wM(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(N(t=>wM(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hT(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class uT{constructor(t,e,n,i,r,s,o,a,l,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wM(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wM(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dT extends nT{constructor(t,e){super(e),this.url=t,fT(this,e)}toString(){return pT(this._root)}}function fT(t,e){e.value._routerState=t,e.children.forEach(e=>fT(t,e))}function pT(t){const e=t.children.length>0?` { ${t.children.map(pT).join(", ")} } `:"";return`${t.value}${e}`}function gT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,TM(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),TM(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!TM(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),TM(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function mT(t,e){var n,i;return TM(t.params,e.params)&&zM(n=t.url,i=e.url)&&n.every((t,e)=>TM(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||mT(t.parent,e.parent))}function _T(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function vT(t,e,n,i,r){let s={};return i&&IM(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new FM(n.root===t?e:function t(e,n,i){const r={};return IM(e.children,(e,s)=>{r[s]=e===n?i:t(e,n,i)}),new NM(e.segments,r)}(n.root,t,e),s,r)}class yT{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&_T(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==RM(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bT{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function wT(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function xT(t,e,n){if(t||(t=new NM([],{})),0===t.segments.length&&t.hasChildren())return CT(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=wT(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!ET(o,a,e))return s;i+=2}else{if(!ET(o,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new NM(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new NM(t.segments.slice(i.pathIndex),t.children),CT(e,0,r)}return i.match&&0===r.length?new NM(t.segments,{}):i.match&&!t.hasChildren()?OT(t,e,n):i.match?CT(t,0,r):OT(t,e,n)}function CT(t,e,n){if(0===n.length)return new NM(t.segments,{});{const i=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return IM(i,(n,i)=>{null!==n&&(r[i]=xT(t.children[i],e,n))}),IM(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new NM(t.segments,r)}}function OT(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=ST(n[r].outlets);return new NM(i,t)}if(0===r&&_T(n[0])){i.push(new jM(t.segments[e].path,n[0])),r++;continue}const s=wT(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&_T(o)?(i.push(new jM(s,kT(o))),r+=2):(i.push(new jM(s,{})),r++)}return new NM(i,{})}function ST(t){const e={};return IM(t,(t,n)=>{null!==t&&(e[n]=OT(new NM([],{}),0,t))}),e}function kT(t){const e={};return IM(t,(t,n)=>e[n]=""+t),e}function ET(t,e,n){return t==n.path&&TM(e,n.parameters)}class MT{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),gT(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=oT(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),IM(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=oT(t),r=t.value.component?n.children:e;IM(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=oT(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new _M(t.value.snapshot))}),t.children.length&&this.forwardEvent(new gM(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(gT(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),TT(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function TT(t){gT(t.value),t.children.forEach(TT)}function AT(t){return"function"==typeof t}function PT(t){return t instanceof FM}class RT{constructor(t){this.segmentGroup=t||null}}class IT{constructor(t){this.urlTree=t}}function DT(t){return new b(e=>e.error(new RT(t)))}function LT(t){return new b(e=>e.error(new IT(t)))}function FT(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class NT{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(te)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(N(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lx(t=>{if(t instanceof IT)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof RT)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(N(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Lx(t=>{if(t instanceof RT)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new NM([],{primary:t}):t;return new FM(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(N(t=>new NM([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Rp({});const n=[],i=[],r={};return IM(t,(t,s)=>{const o=e(s,t).pipe(N(t=>r[s]=t));"primary"===s?n.push(o):i.push(o)}),Rp.apply(null,n.concat(i)).pipe(vg(),$E(),N(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,s){return Rp(...n).pipe(N(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(Lx(t=>{if(t instanceof RT)return Rp(null);throw t}))),vg(),KE(t=>!!t),Lx((t,n)=>{if(t instanceof jE||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Rp(new NM([],{}));throw new RT(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return BT(i)!==s?DT(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):DT(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?LT(r):this.lineralizeSegments(n,r).pipe(H(n=>{const r=new NM(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=jT(e,i,r);if(!o)return DT(e);const h=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?LT(h):this.lineralizeSegments(i,h).pipe(H(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(N(t=>(n._loadedConfig=t,new NM(i,{})))):Rp(new NM(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=jT(e,n,i);if(!r)return DT(e);const a=i.slice(o);return this.getChildConfig(t,n,i).pipe(H(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>VT(t,e,n)&&"primary"!==BT(n))}(t,n,i)?{segmentGroup:zT(new NM(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==BT(i)&&(n[BT(i)]=new NM([],{}));return n}(i,new NM(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>VT(t,e,n))}(t,n,i)?{segmentGroup:zT(new NM(t.segments,function(t,e,n,i){const r={};for(const s of n)VT(t,e,s)&&!i[BT(s)]&&(r[BT(s)]=new NM([],{}));return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(N(t=>new NM(s,t))):0===i.length&&0===o.length?Rp(new NM(s,{})):this.expandSegment(n,r,i,o,"primary",!0).pipe(N(t=>new NM(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Rp(new OM(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Rp(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?B(i).pipe(N(i=>{const r=t.get(i);let s;if(function(t){return t&&AT(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!AT(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return DM(s)})).pipe(vg(),(r=t=>!0===t,t=>t.lift(new ZE(r,void 0,t)))):Rp(!0);var r}(t.injector,e,n).pipe(H(n=>n?this.configLoader.load(t.injector,e).pipe(N(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(xM(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Rp(new OM([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Rp(n);if(i.numberOfChildren>1||!i.children.primary)return FT(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new FM(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return IM(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return IM(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new NM(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function jT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||CM)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function zT(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new NM(t.segments.concat(e.segments),e.children)}return t}function VT(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function BT(t){return t.outlet||"primary"}class HT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class UT{constructor(t,e){this.component=t,this.route=e}}function GT(t,e,n){const i=t._root;return function t(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=oT(n);return e.children.forEach(e=>{!function(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!zM(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zM(t.url,e.url)||!TM(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mT(t,e)||!TM(t.queryParams,e.queryParams);case"paramsChange":default:return!mT(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new HT(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:i,r,s),c&&s.canDeactivateChecks.push(new UT(l&&l.outlet&&l.outlet.component||null,a))}else a&&YT(n,l,s),s.canActivateChecks.push(new HT(r)),t(e,null,o.component?l?l.children:null:i,r,s)}(e,o[e.value.outlet],i,r.concat([e.value]),s),delete o[e.value.outlet]}),IM(o,(t,e)=>YT(t,i.getContext(e),s)),s}(i,e?e._root:null,n,[i.value])}function WT(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function YT(t,e,n){const i=oT(t),r=t.value;IM(i,(t,i)=>{YT(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new UT(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const qT=Symbol("INITIAL_VALUE");function XT(){return Hg(t=>gm(...t.map(t=>t.pipe(Og(1),jv(qT)))).pipe(JE((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==qT)return t;if(i===qT&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||PT(i))return i}return t},t)},qT),Dp(t=>t!==qT),N(t=>PT(t)?t:!0===t),Og(1)))}function $T(t,e){return null!==t&&e&&e(new mM(t)),Rp(!0)}function KT(t,e){return null!==t&&e&&e(new pM(t)),Rp(!0)}function ZT(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Rp(i.map(i=>xg(()=>{const r=WT(i,e,n);let s;if(function(t){return t&&AT(t.canActivate)}(r))s=DM(r.canActivate(e,t));else{if(!AT(r))throw new Error("Invalid CanActivate guard");s=DM(r(e,t))}return s.pipe(KE())}))).pipe(XT()):Rp(!0)}function QT(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>xg(()=>Rp(e.guards.map(r=>{const s=WT(r,e.node,n);let o;if(function(t){return t&&AT(t.canActivateChild)}(s))o=DM(s.canActivateChild(i,t));else{if(!AT(s))throw new Error("Invalid CanActivateChild guard");o=DM(s(i,t))}return o.pipe(KE())})).pipe(XT())));return Rp(r).pipe(XT())}class JT{}class tA{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=iA(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new uT([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new sT(n,e),r=new dT(this.url,i);return this.inheritParamsAndData(r._root),Rp(r)}catch(t){return new b(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=hT(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=VM(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(r){if(!(r instanceof JT))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new JT}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new JT;if((t.outlet||"primary")!==i)throw new JT;let r,s=[],o=[];if("**"===t.path){const s=n.length>0?RM(n).parameters:{};r=new uT(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oA(t),i,t.component,t,eA(e),nA(e)+n.length,aA(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new JT;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||CM)(n,t,e);if(!i)throw new JT;const r={};IM(i.posParams,(t,e)=>{r[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new uT(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oA(t),i,t.component,t,eA(e),nA(e)+s.length,aA(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=iA(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new sT(r,t)]}if(0===a.length&&0===c.length)return[new sT(r,[])];const h=this.processSegment(a,l,c,"primary");return[new sT(r,h)]}}function eA(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nA(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function iA(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>rA(t,e,n)&&"primary"!==sA(n))}(t,n,i)){const r=new NM(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==sA(s)){const n=new NM([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[sA(s)]=n}return r}(t,e,i,new NM(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>rA(t,e,n))}(t,n,i)){const s=new NM(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(rA(t,n,a)&&!r[sA(a)]){const n=new NM([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[sA(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new NM(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function rA(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function sA(t){return t.outlet||"primary"}function oA(t){return t.data||{}}function aA(t){return t.resolve||{}}function lA(t,e,n,i){const r=WT(t,e,i);return DM(r.resolve?r.resolve(e,n):r(e,n))}function cA(t){return function(e){return e.pipe(Hg(e=>{const n=t(e);return n?B(n).pipe(N(()=>e)):B([e])}))}}class hA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const uA=new zt("ROUTES");class dA{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(N(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new OM(PM(i.injector.get(uA)).map(MM),i)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):DM(t()).pipe(H(t=>t instanceof ee?Rp(t):B(this.compiler.compileModuleAsync(t))))}}class fA{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function pA(t){throw t}function gA(t,e,n){return e.parse("/")}function mA(t,e){return Rp(null)}let _A=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=pA,this.malformedUriErrorHandler=gA,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mA,afterPreactivation:mA},this.urlHandlingStrategy=new fA,this.routeReuseStrategy=new hA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(te),this.console=r.get(Bc);const l=r.get(eh);this.isNgZoneEnabled=l instanceof eh,this.resetConfig(a),this.currentUrlTree=new FM(new NM([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dA(s,o,t=>this.triggerEvent(new dM(t)),t=>this.triggerEvent(new fM(t))),this.routerState=lT(this.currentUrlTree,this.rootComponentType),this.transitions=new jC({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Dp(t=>0!==t.id),N(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Hg(t=>{let n=!1,i=!1;return Rp(t).pipe(Jv(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Rp(t).pipe(Hg(t=>{const n=this.transitions.getValue();return e.next(new iM(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?bg:[t]}),Hg(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Hg(t=>function(t,e,n,i,r){return new NT(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(N(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Jv(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(s){return s.pipe(H(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){return new tA(t,e,n,i,r,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(N(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Jv(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Jv(t=>{const n=new aM(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new iM(n,this.serializeUrl(i),r,s);e.next(a);const l=lT(i,this.rootComponentType).snapshot;return Rp(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),bg}),cA(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Jv(t=>{const e=new lM(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),N(t=>Object.assign(Object.assign({},t),{guards:GT(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(H(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Rp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return B(t).pipe(H(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Rp(s.map(s=>{const o=WT(s,e,r);let a;if(function(t){return t&&AT(t.canDeactivate)}(o))a=DM(o.canDeactivate(t,e,n,i));else{if(!AT(o))throw new Error("Invalid CanDeactivate guard");a=DM(o(t,e,n,i))}return a.pipe(KE())})).pipe(XT()):Rp(!0)}(t.component,t.route,n,e,i)),KE(t=>!0!==t,!0))}(o,i,r,t).pipe(H(n=>n&&"boolean"==typeof n?function(t,e,n,i){return B(e).pipe(Ip(e=>B([KT(e.route.parent,i),$T(e.route,i),QT(t,e.path,n),ZT(t,e.route,n)]).pipe(vg(),KE(t=>!0!==t,!0))),KE(t=>!0!==t,!0))}(i,s,t,e):Rp(n)),N(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Jv(t=>{if(PT(t.guardsResult)){const e=xM(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Jv(t=>{const e=new cM(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Dp(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new sM(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),cA(t=>{if(t.guards.canActivateChecks.length)return Rp(t).pipe(Jv(t=>{const e=new hM(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(H(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;return r.length?B(r).pipe(Ip(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Rp({});if(1===r.length){const s=r[0];return lA(t[s],e,n,i).pipe(N(t=>({[s]:t})))}const s={};return B(r).pipe(H(r=>lA(t[r],e,n,i).pipe(N(t=>(s[r]=t,t))))).pipe($E(),N(()=>s))}(t._resolve,t,e,i).pipe(N(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),hT(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return v(JE(t,e),zE(1),YE(e))(n)}:function(e){return v(JE((e,n,i)=>t(e,n,i+1)),zE(1))(e)}}((t,e)=>t),N(e=>t)):Rp(t)}))}),Jv(t=>{const e=new uM(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),cA(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),N(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new sT(r,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new cT(new jC((r=n.value).url),new jC(r.params),new jC(r.queryParams),new jC(r.fragment),new jC(r.data),r.outlet,r.component,r),s=n.children.map(n=>t(e,n));return new sT(i,s)}}var r}(t,e._root,n?n._root:void 0);return new aT(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Jv(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),N(t=>(new MT(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Jv({next(){n=!0},complete(){n=!0}}),jx(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new sM(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Lx(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=PT(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new sM(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new oM(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return bg}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){SM(t),this.config=t.map(MM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;Ti()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r;let h=null;if(o)switch(o){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,r){if(0===n.length)return vT(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yT(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return IM(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new yT(n,e,i)}(n);if(s.toRoot())return vT(e.root,new NM([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new bT(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new bT(n.snapshot._urlSegment,!0,0);const i=_T(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new bT(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?CT(o.segmentGroup,o.index,s.commands):xT(o.segmentGroup,o.index,s.commands);return vT(o.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Ti()&&this.isNgZoneEnabled&&!eh.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=PT(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(PT(t))return LM(this.currentUrlTree,t,e);const n=this.parseUrl(t);return LM(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new rM(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;r?(o=r.resolve,a=r.reject,l=r.promise):l=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){No()},t.\u0275dir=be({type:t}),t})(),vA=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Ti()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:bA(this.skipLocationChange),replaceUrl:bA(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bA(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bA(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Lo(_A),Lo(cT),Fo("tabindex"),Lo(dl),Lo(ll))},t.\u0275dir=be({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&$o("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),yA=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof rM&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Ti()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:bA(this.skipLocationChange),replaceUrl:bA(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bA(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bA(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Lo(_A),Lo(cT),Lo(Uh))},t.\u0275dir=be({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&$o("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(za("href",e.href,ir),Po("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Xa]}),t})();function bA(t){return""===t||!!t}let wA=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.element=e,this.renderer=n,this.link=i,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof rM&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(_A),Lo(ll),Lo(dl),Lo(vA,8),Lo(yA,8))},t.\u0275dir=be({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,vA,!0),Sc(n,yA,!0)),2&t&&(wc(i=Mc())&&(e.links=i),wc(i=Mc())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Xa]}),t})();class xA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new CA,this.attachRef=null}}class CA{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new xA,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let OA=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new hc,this.deactivateEvents=new hc,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new SA(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Lo(CA),Lo(Dl),Lo(al),Fo("name"),Lo(Qs))},t.\u0275dir=be({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class SA{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===cT?this.route:t===CA?this.childContexts:this.parent.get(t,e)}}class kA{}class EA{preload(t,e){return Rp(null)}}let MA=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new dA(e,n,e=>t.triggerEvent(new dM(e)),e=>t.triggerEvent(new fM(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dp(t=>t instanceof rM),Ip(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(te);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return B(n).pipe(W(),N(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(H(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)($t(_A),$t(Ch),$t(Zc),$t(go),$t(kA))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),TA=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof iM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rM&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new vM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){No()},t.\u0275dir=be({type:t}),t})();const AA=new zt("ROUTER_CONFIGURATION"),PA=new zt("ROUTER_FORROOT_GUARD"),RA=[Xh,{provide:BM,useClass:HM},{provide:_A,useFactory:function(t,e,n,i,r,s,o,a={},l,c){const h=new _A(null,t,e,n,i,r,s,PM(o));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Rh();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[BM,CA,Xh,go,Ch,Zc,uA,AA,[class{},new st],[class{},new st]]},CA,{provide:cT,useFactory:function(t){return t.routerState.root},deps:[_A]},{provide:Ch,useClass:kh},MA,EA,class{preload(t,e){return e().pipe(Lx(()=>Rp(null)))}},{provide:AA,useValue:{enableTracing:!1}}];function IA(){return new mh("Router",_A)}let DA=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[RA,jA(e),{provide:PA,useFactory:NA,deps:[[_A,new st,new at]]},{provide:AA,useValue:n||{}},{provide:Uh,useFactory:FA,deps:[Dh,[new rt(Wh),new st],AA]},{provide:TA,useFactory:LA,deps:[_A,Mu,AA]},{provide:kA,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:EA},{provide:mh,multi:!0,useFactory:IA},[zA,{provide:Ic,multi:!0,useFactory:VA,deps:[zA]},{provide:HA,useFactory:BA,deps:[zA]},{provide:Vc,multi:!0,useExisting:HA}]]}}static forChild(e){return{ngModule:t,providers:[jA(e)]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)($t(PA,8),$t(_A,8))}}),t})();function LA(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new TA(t,e,n)}function FA(t,e,n={}){return n.useHash?new qh(t,e):new Yh(t,e)}function NA(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jA(t){return[{provide:mo,multi:!0,useValue:t},{provide:uA,multi:!0,useValue:t}]}let zA=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(Fh,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(_A),i=this.injector.get(AA);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Rp(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(AA),n=this.injector.get(MA),i=this.injector.get(TA),r=this.injector.get(_A),s=this.injector.get(wh);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)($t(go))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function VA(t){return t.appInitializer.bind(t)}function BA(t){return t.bootstrapListener.bind(t)}const HA=new zt("Router Initializer"),UA=()=>{if(!document.getElementById("mol-lang"))return console.log("mol-lang tag not set in index.html"),{molLang:"en",molUrl:"/",baseHref:"/"};const t=document.getElementById("mol-lang").getAttribute("content"),e=document.getElementById("mol-url").getAttribute("content");let n=e;return e.match(/\{lang\}/)&&(n=n.replace("{lang}",t)),{molLang:t,molUrl:e,baseHref:n}},GA=()=>UA().baseHref;let WA=(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.router=e,this.location=n,this.stateSource=new jC(null),this.state=this.stateSource.asObservable(),this.activatedRoute.queryParams.subscribe(t=>{const e={embed:!1,sidebar:!0,header:!0,nav:!0,footer:!0,speciesSearch:!0,regionSearch:!0,debug:!1,dsid:[],type:"",beta:"",indexConfig:UA()},n=Object.keys(t);-1!==n.indexOf("embed")&&(e.embed=!("false"===t.embed),e.embed&&(e.header=!1,e.footer=!1,e.nav=!1,e.sidebar=!1)),-1!==n.indexOf("dsid")&&(e.dsid=t.dsid.split(",")),-1!==n.indexOf("type")&&(e.type=t.type),-1!==n.indexOf("sidebar")&&(e.sidebar=!("false"===t.sidebar)),-1!==n.indexOf("subnav")&&(e.nav=!("false"===t.subnav)),-1!==n.indexOf("header")&&(e.header=!("false"===t.header)),-1!==n.indexOf("footer")&&(e.footer=!("false"===t.footer)),-1!==n.indexOf("speciesSearch")&&(e.speciesSearch="false"!==t.speciesSearch),-1!==n.indexOf("regionSearch")&&(e.regionSearch="false"!==t.regionSearch),-1!==n.indexOf("debug")&&(e.debug=!0),this.stateSource.next(e)})}}return t.\u0275fac=function(e){return new(e||t)($t(cT),$t(_A),$t(Xh))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const YA=UA();let qA=(()=>{class t{constructor(t,e){this.translate=t,this.cookie=e,this.langs=LE,this.langSource=new jC(YA.molLang),this.lang=this.langSource.asObservable(),this.isWWW=!1,this.isEmbedded=!1,this.translate.addLangs(this.langs),YA.molUrl.match(/\{lang\}/)?this.updateLang(YA.molLang,!1):this.cookie.check("lang")?this.updateLang(this.cookie.get("lang"),!1):this.translate.setDefaultLang("en"),this.isWWW=window.location.hostname.startsWith("www"),this.getUrlVar("embed")&&(this.isEmbedded=!0)}updateLang(t,e=!0){const n=t.replace(/-.*/,"");if(-1===this.langs.indexOf(n))throw Error("Language not supported.");if(n!==this.langSource.value){this.cookie.set("lang",n),this.langSource.next(n),this.translate.use(n);let t=document.location.href;e&&(t=YA.molUrl.match(/\{lang\}/)?t.replace(YA.baseHref,YA.molUrl.replace("{lang}",n)):t.replace(YA.baseHref,"/"+n+YA.molUrl),window.location.href=t)}else this.translate.use(n)}getUrlVar(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}}return t.\u0275fac=function(e){return new(e||t)($t(hm),$t(NE))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function XA(t){return new FE(t,"https://cdn.mol.org/translations/locale-",".json")}let $A=(()=>{class t{constructor(t,e=""){this.translate=t,this.base=RE,this.authBase="https://auth.mol.org",this.lang="",""!==e&&(this.base=e),this.translate.lang.subscribe(t=>{this.lang=t})}}return t.\u0275fac=function(t){No()},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),KA=(()=>{class t{constructor(){this.activeRequestsSource=new jC(0),this.activeRequests=this.activeRequestsSource.asObservable()}increaseActiveRequests(){this.activeRequestsSource.next(this.activeRequestsSource.value+1)}decreaseActiveRequests(){this.activeRequestsSource.next(this.activeRequestsSource.value-1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZA=(()=>{class t extends $A{constructor(t,e,n,i){super(e),this.httpClient=t,this.translate=e,this.spinner=n,this.sanitizer=i,this._datasets={scientificName:"",info:null},this._images={scientificName:"",info:null},this._speciesInfo={scientificName:"",images:!1,info:null},this.translate.lang.subscribe(t=>{this.clearLangCache()}),this.base+="species"}availableTaxa(t="",e=""){if(""!==t){let n=new Hp;return"patterns"===t&&(n=n.set("devmode","true"),n=n.set("table_type","patterns")),"indicators"===t&&(n=n.set("version",e)),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base.replace("species","")+"/indicators/availabletaxa",{params:n}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}return this.availableTaxa$||(this.availableTaxa$=this.fetchAvailableTaxa().pipe(Bg())),this.availableTaxa$}clearLangCache(){this._datasets={scientificName:"",info:null},this._speciesInfo={scientificName:"",images:!1,info:null}}fetchAvailableTaxa(){this.spinner.increaseActiveRequests();let t=new Hp;return t=t.set("lang",this.lang),this.httpClient.get(this.base+"/availabletaxa",{params:t}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}getDatasets(t){return this._datasets.scientificName!==t&&(this._datasets.scientificName=t,this._datasets.info=this.fetchDatasets(t).pipe(Bg())),this._datasets.info}fetchDatasets(t){t=t.trim();let e=new Hp;if(!(t.length>0))throw new Error("0 length scientificName.");return e=e.set("scientificname",t),e=e.set("group","movement"),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/datasets",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}search(t,e="",n="",i=0,r=100){t=t.trim();let s=new Hp;if(!(t.length>0))throw new Error("0 length Query.");return s=s.set("query",t),s=s.set("lang",this.lang),s=e?s.set("group",e):s,s=i?s.set("page",i.toString()):s,s=r?s.set("limit",r.toString()):s,s=n?s.set("regionId",n):s,this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/groupsearch",{params:s}).pipe(jx(()=>{this.spinner.decreaseActiveRequests()}))}random(t=""){let e=new Hp;return""!==t&&(e=e.set("taxogroup",t)),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/random",{params:e}).pipe(jx(()=>{this.spinner.decreaseActiveRequests()}))}images(t){return this._images.scientificName!==t&&(this._images.scientificName=t,this._images.info=this.fetchImages(t).pipe(Bg())),this._images.info}fetchImages(t){t=t.trim();let e=new Hp;if(!(t.length>0))throw new Error("0 length scientificName.");return e=e.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/images/list",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}imagesVote(t,e){let n=new Hp;return n=n.set("asset_id",t),n=n.set("vote_value",e.toString()),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/images/vote",{params:n}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)),Lx(t=>{throw this.spinner.decreaseActiveRequests(),console.error(t),t}))}getInfo(t,e=!1){return this._speciesInfo.scientificName===t&&this._speciesInfo.images===e||(this._speciesInfo.scientificName=t,this._speciesInfo.images=e,this._speciesInfo.info=this.fetchSpeciesInfo(t,e).pipe(Bg())),this._speciesInfo.info}fetchSpeciesInfo(t,e=!1){t=t.trim();let n=new Hp;if(n=n.set("lang",this.lang),!(t.length>0))throw new Error("scientificName not provided.");return n=n.set("scientificname",t),e&&(n=n.set("images","true")),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/info",{params:n}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),!!((t=t)&&t.length>0)&&t[0])))}getProjection({scientificname:t="",decade:e=2015,landuse:n="luh",lumethod:i="message",luscale:r="025deg",scenario:s="scenario1"}){if(""===t)throw Error("Zero length scientificname.");let o=new Hp;return o=o.set("scientificname",t),o=o.set("decade",e.toString()),o=o.set("landuse",n),o=o.set("lumethod",i),o=o.set("luscale",r),o=o.set("scenario",s),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/indicators/habitat-projection/map",{params:o}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)),Lx(t=>{throw this.spinner.decreaseActiveRequests(),t}))}getPointFilters(t){t=t.trim();let e=new Hp;return e=e.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/pointfilters",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}getSpeciesModelThumb(t,e,n,i){let r=new Hp;return r=r.set("molid",t),e&&(r=r.set("width",e.toString())),n&&(r=r.set("height",n.toString())),i&&(r=r.set("format",i)),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/models/thumb",{params:r,responseType:"blob"}).pipe(N(t=>{const e=URL.createObjectURL(t),n=this.sanitizer.bypassSecurityTrustUrl(e);return this.spinner.decreaseActiveRequests(),n}))}setSpeciesModelVote(t,e,n){let i=new Hp;return i=i.set("molid",t),e&&(i=i.set("threshold",e.toString())),n&&(i=i.set("status",n)),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/models/vote",{params:i}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}getSpeciesModels(t){let e=new Hp;return e=e.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/models/list",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}getModelInfo(t){t=t.trim();let e=new Hp;return e=e.set("scientificname",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/models/info",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}download(t,e){t=t.trim();let n=new Hp;return n=n.set("scientificname",t),n=n.set("dsids",e.join(",")),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/download",{params:n,responseType:"blob"}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}habitatTrend(t){this.spinner.increaseActiveRequests();let e=new Hp;return e=e.set("scientificname",t),this.httpClient.get(this.base+"/indicators/habitat-trends/map",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)),Lx((t,e)=>(this.spinner.decreaseActiveRequests(),console.error("Error getting habitat trend",t),Dg("error getting habitat trend."))))}}return t.\u0275fac=function(e){return new(e||t)($t(Jp),$t(qA),$t(KA),$t(ed))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),QA=(()=>{class t extends $A{constructor(t,e,n){super(e),this.httpClient=t,this.translate=e,this.spinner=n,this.scientificnameSource=new jC(""),this.scientificname=this.scientificnameSource.asObservable(),this.selectedLayersSource=new jC([]),this.selectedLayers=this.selectedLayersSource.asObservable(),this.zoomToExtentSource=new jC(void 0),this.zoomToExtent=this.zoomToExtentSource.asObservable(),this.tileUrlSource=new jC(null),this.tileUrl=this.tileUrlSource.asObservable(),this.secondaryTileUrlSource=new jC(null),this.secondaryTileUrl=this.secondaryTileUrlSource.asObservable(),this.tileParamSource=new jC(null),this.tileParam=this.tileParamSource.asObservable(),this.modelTileUrlSource=new jC(null),this.modelTileUrl=this.modelTileUrlSource.asObservable(),this.speciesFiltersSource=new jC(void 0),this.speciesFilters=this.speciesFiltersSource.asObservable(),this.displayUncertaintySource=new jC(!1),this.displayUncertainty=this.displayUncertaintySource.asObservable(),this.clickedFeaturesSource=new jC([]),this.clickedFeatures=this.clickedFeaturesSource.asObservable(),this.mouseOverFeaturesSource=new jC([]),this.mouseOverFeatures=this.mouseOverFeaturesSource.asObservable(),this.webglFeatures=new S,this.clickEvent=new S}updateSelectedLayers(t){this._selectedLayers=t,this.selectedLayersSource.next(t)}updateScientificname(t){this.scientificnameSource.next(t)}zoomToDatasetExtent(t){this.zoomToExtentSource.next(t)}updateTileUrl(t){this.tileUrlSource.next(t)}updateModelTileUrl(t){this.modelTileUrlSource.next(t)}updateSecondaryTileUrl(t){this.secondaryTileUrlSource.next(t)}updateTileParams(t){this.tileParamSource.next(t)}setSpeciesFilters(t){this._speciesFilters=t,this.speciesFiltersSource.next(t)}displayUncertaintyBuffers(t){this.displayUncertaintySource.next(t)}updateClickEvent(t){this.clickEvent.next(t)}updateClickedFeatures(t){this.clickedFeaturesSource.next(t)}updateMouseOverFeatures(t){this.mouseOverFeaturesSource.next(t)}updateDetailedMap(t,e=[],n=[],i={},r=[],s=[]){var o,a;let l=s.filter(t=>-1!==["points","model","movement"].indexOf(t.product_type)).map(t=>t.dataset_id);0===l.length&&(l=n.concat(r));let c=s.map(t=>t.dataset_id);0===c.length&&(c=e);let h=(e,n,r)=>{var s,o;let a=new Hp;a=a.set("scientificname",t),a=a.set("dsids",e),"movement"===r&&(i.individual&&i.individual.length>0&&(a=a.set("aids",i.individual)),i.months&&(null===(s=i.months)||void 0===s?void 0:s.length)>0&&(a=a.set("months",i.months.join(","))),i.years&&(null===(o=i.years)||void 0===o?void 0:o.length)>0&&(a=a.set("decmin",i.years[0].toString()),a=a.set("decmax",i.years[1].toString())));let l=`${IE}/tiles/species/detailed/{proj}/{z}/{x}/{y}.mvt?${a.toString()}`;this.updateTileParams(0===e.length?{url:"OFF",index:n}:{url:l,index:n})};h(c.filter(t=>-1===l.indexOf(t)).join(","),0,"detailed"),h(s.filter(t=>"movement"===t.product_type).map(t=>t.dataset_id),3,"movement");const u=n.join(",");let d="",f=new Hp;f=new Hp,f=f.set("scientificname",t),f=f.set("dsids",u),i.months&&(null===(o=i.months)||void 0===o?void 0:o.length)>0&&(f=f.set("months",i.months.join(","))),i.years&&(null===(a=i.years)||void 0===a?void 0:a.length)>0&&(f=f.set("decmin",i.years[0].toString()),f=f.set("decmax",i.years[1].toString())),i.uncertainty&&i.uncertainty>0&&(f=f.set("uncertainty",i.uncertainty.toString())),d=`${IE}/tiles/species/occurrences/{proj}/{z}/{x}/{y}.mvt?${f.toString()}`,this.updateTileParams(0===u.length?{url:"OFF",index:1}:{url:d,index:1})}updateSpeciesModelMap(t,e,n,i){let r=new Hp;r=r.set("molid",t),void 0!==e&&(r=r.set("threshold_unit",e.toString())),void 0!==n&&(r=r.set("threshold_raw",n.toString())),r=r.set("as_binary",i.toString()),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"species/models/map",{params:r}).pipe(jx(()=>{this.spinner.decreaseActiveRequests()})).subscribe(t=>{this.updateModelTileUrl(t.tile_url),this.updateTileParams({url:t.tile_url,index:2})})}getFeaturesMetadata(t){let e=new Hp;return e=e.set("molids",t.join(",")),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"species/featuremetadata",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}getSpeciesGeohashMetadata(t,e){var n,i;let r=new Hp;return r=r.set("geohash",e),r=r.set("scientificname",t),r=r.set("dsids",this._selectedLayers.join(",")),this._speciesFilters&&this._speciesFilters.months&&(null===(n=this._speciesFilters.months)||void 0===n?void 0:n.length)>0&&(r=r.set("months",this._speciesFilters.months.join(","))),this._speciesFilters&&this._speciesFilters.years&&(null===(i=this._speciesFilters.years)||void 0===i?void 0:i.length)>0&&(r=r.set("decmin",this._speciesFilters.years[0].toString()),r=r.set("decmax",this._speciesFilters.years[1].toString())),this._speciesFilters&&this._speciesFilters.uncertainty&&this._speciesFilters.uncertainty>0&&(r=r.set("uncertainty",this._speciesFilters.uncertainty.toString())),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"species/geohashmetadata",{params:r}).pipe(t=>(this.spinner.decreaseActiveRequests(),t))}updateModel(t,e){if(e){this.spinner.increaseActiveRequests();let n=new Hp;n=n.set("scientificname",t),n=n.set("threshold",e),this.httpClient.get(RE+"species/indicators/rasters/map",{params:n}).subscribe(t=>{this.spinner.decreaseActiveRequests(),t.map&&this.modelTileUrlSource.next(t.map.tile_url)})}else this.modelTileUrlSource.next("OFF")}loadWebGLFeatures(t){}datasetsLegend(t="dataset_id",e="count",n="",i="",r=""){let s=new Hp;return s=s.set("property",t),s=s.set("reducer",e),""!==n&&(s=s.set("dataset_id",n)),""!==r&&(s=s.set("product_type",r)),""!==i&&(s=s.set("taxogroup",i)),this.spinner.increaseActiveRequests(),this.httpClient.get(IE+"/tiles/datasets/legend",{params:s}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}}return t.\u0275fac=function(e){return new(e||t)($t(Jp),$t(qA),$t(KA))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JA=(()=>{class t{constructor(t,e,n,i){this.httpClient=t,this.cookie=e,this.spinner=n,this.role=i,this.currentUserSubject=new jC(null),this.currentUser=this.currentUserSubject.asObservable(),this.loggedInSubject=new jC(null),this.loggedIn=this.loggedInSubject.asObservable(),this.roleCheckSubject=new jC(null),this.roleCheck=this.roleCheckSubject.asObservable(),this.hasCookie()?(this.spinner.increaseActiveRequests(),this.currentUser=this.getUserInfo().pipe(t=>(this.spinner.decreaseActiveRequests(),t),Bg())):(this.loggedInSubject.next(!1),this.currentUserSubject.next(null),this.roleCheckSubject.next(!1))}get user(){return this.currentUser}getToken(){return this.cookie.get("muprsns")||null}hasCookie(){return this.cookie.get("muprsns")}logout(){this.loggedInSubject.next(!1),this.currentUserSubject.next(null)}getUserInfo(){const t=this.getToken();let e="";return this.role&&(e="&role_check="+this.role),this.httpClient.get(`https://auth.mol.org/api/me?auth_token=${t}${e}`).pipe(N(t=>(this.loggedInSubject.next(null!==t),this.currentUserSubject.next(t),this.roleCheckSubject.next(void 0!==t.has_role&&t.has_role),t),t=>{console.error("Could not get UserInfo"),console.error(t),this.loggedInSubject.next(!1),this.currentUserSubject.next(null),this.roleCheckSubject.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)($t(Jp),$t(NE),$t(KA),$t("role",8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tP=(()=>{class t{constructor(t,e,n,i=""){this.translate=t,this.spinner=e,this.httpClient=n,this.base=RE,this.authBase="https://auth.mol.org",this.lang="",""!==i&&(this.base=i),this.translate.lang.subscribe(t=>{this.lang=t})}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, body was: `+t.error.message),Dg("Something bad happened; please try again later.")}go(t,e,n,i={}){let r;if(this.spinner.increaseActiveRequests(),"get"===t)r=this.httpClient.get(`${this.base}${e}`,n);else{if("post"!==t)throw this.spinner.decreaseActiveRequests(),new Error("Http Method not found: "+t);r=this.httpClient.post(`${this.base}${e}`,i,n)}return r.pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)),Lx(t=>(this.spinner.decreaseActiveRequests(),this.handleError(t))))}}return t.\u0275fac=function(t){No()},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eP(t=-1){return e=>e.lift(new nP(t,e))}class nP{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new iP(t,this.count,this.source))}}class iP extends p{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}let rP=(()=>{class t extends tP{constructor(t,e,n){super(e,t,n),this.spinner=t,this.translate=e,this.httpClient=n,this.$habitatMetricsVal=null,this.$prefVal=null,this.$defaultVal=null,this.$prefCache={scientificname:null,defaultPrefs:{},prefs:{}},this.$habitatMapCache={scientificname:null,prefs:{}},this.$habitatMapValue=null,this.$reserveCoverageMapCache={scientificname:null,prefs:{}},this.$reserveCoverageMapValue=null}speciesPreferences(t){let e=new Hp;return e=e.set("scientificname",t),this.$prefCache.scientificname==t&&this.$prefCache.prefs!={}||(this.$prefVal=this.go("get","species/habitat",{params:e}).pipe(Bg())),this.$prefVal}habitatDistributionMap(t,e){return this.$habitatMapValue&&this.$habitatMapCache.scientificname==t&&!Object.keys(e).map(t=>e[t]!==this.$habitatMapCache.prefs[t]).reduce((t,e)=>t||e)||(this.$habitatMapValue=this.fetchMap("habitat-distribution",t,e).pipe(Bg())),this.$habitatMapValue}setMapOptions(t,e){return(t=t.set("show_points",e.show_points.toString())).set("show_reserves",e.show_reserves.toString())}fetchMap(t,e,n){let i=new Hp;return i=i.set("scientificname",e),i=this.getPreferenceQuery(i,n),"reserve-coverage"===t&&(i=this.setMapOptions(i,n)),this.go("get",`species/indicators/${t}/map`,{params:i})}getPreferenceQuery(t,e){return(t=(t=(t=(t=(t=(t=(t=(t=t.set("class",e.class)).set("habitat",e.habitat)).set("treecover_max",e.tree_cover_max.toString())).set("treecover_min",e.tree_cover_min.toString())).set("elev_max",e.elev_max.toString())).set("elev_min",e.elev_min.toString())).set("use_e",e.use_e.toString())).set("use_h",e.use_h.toString())).set("use_f",e.use_f.toString())}habitatDistributionMetrics(t,e){let n=new Hp;return n=n.set("scientificname",t),n=this.getPreferenceQuery(n,e),(this.$prefCache.scientificname!=t||Object.keys(e).map(t=>e[t]!==this.$prefCache.prefs[t]).reduce((t,e)=>t||e))&&(this.$prefCache.prefs=Object.assign({},e),this.$prefCache.scientificname=t,this.$habitatMetricsVal=this.go("get","species/indicators/habitat-distribution/metrics",{params:n}).pipe(eP(1),Sk(1e3),Lx(t=>{throw t}),Bg(1))),this.$habitatMetricsVal}gisFragMetric(t,e){let n=new Hp;return n=n.set("scientificname",t),n=this.getPreferenceQuery(n,e),this.$prefCache.prefs=Object.assign({},e),this.$prefCache.scientificname=t,this.go("get","species/indicators/habitat-distribution/frag",{params:n})}gisFragTrendsMetric(t){let e=new Hp;return e=e.set("scientificname",t),this.go("get","species/indicators/habitat-fragmentation/data",{params:e})}reserveCoverageMap(t,e){return this.$reserveCoverageMapValue&&this.$reserveCoverageMapCache.scientificname==t&&!Object.keys(e).map(t=>e[t]!==this.$reserveCoverageMapCache.prefs[t]).reduce((t,e)=>t||e)||(this.$reserveCoverageMapValue=this.fetchMap("reserve-coverage",t,e).pipe(Bg())),this.$reserveCoverageMapValue}reserveCoverageMetrics(t,e){let n=new Hp;return n=n.set("scientificname",t),n=this.getPreferenceQuery(n,e),this.go("get","species/indicators/reserve-coverage/metrics",{params:n}).pipe(eP(1),Sk(1e3),Lx(t=>{throw t}))}mapQuery(t,e){let n=new Hp;return n=n.set("lng",t.toString()),n=n.set("lat",e.toString()),this.go("get","species/indicators/reserve-coverage/query",{params:n})}esaClassDict(){return{0:{color:"#000000",name:"No data"},10:{color:"#ffff64",name:"Cropland rainfed",category:"cropland"},11:{color:"#ffff64",name:"Cropland rainfed herbaceous cover",category:"cropland"},12:{color:"#ffff00",name:"Cropland rainfed tree or shrub cover",category:"cropland"},20:{color:"#aaf0f0",name:"Cropland irrigated",category:"cropland"},30:{color:"#dcf064",name:"Mosaic cropland",category:"cropland mosaics"},40:{color:"#c8c864",name:"Mosaic natural vegetation",category:"mosaics"},50:{color:"#006400",name:"Tree broadleaved evergreen closed to open"},60:{color:"#00a000",name:"Tree broadleaved deciduous closed to open"},61:{color:"#00a000",name:"Tree broadleaved deciduous closed"},62:{color:"#aac800",name:"Tree broadleaved deciduous open"},70:{color:"#003c00",name:"Tree needleleaved evergreen closed to open"},71:{color:"#003c00",name:"Tree needleleaved evergreen closed"},72:{color:"#005000",name:"Tree needleleaved evergreen open"},80:{color:"#285000",name:"Tree needleleaved deciduous closed to open"},81:{color:"#285000",name:"Tree needleleaved deciduous closed"},82:{color:"#286400",name:"Tree needleleaved deciduous open"},90:{color:"#788200",name:"Tree mixed"},100:{color:"#8ca000",name:"Mosaic tree and shrub"},110:{color:"#be9600",name:"Mosaic herbaceous"},120:{color:"#966400",name:"Shrubland"},121:{color:"#966400",name:"Shrubland evergreen"},122:{color:"#966400",name:"Shrubland deciduous"},130:{color:"#ffb432",name:"Grassland"},140:{color:"#ffdcd2",name:"Lichens and mosses"},150:{color:"#ffebaf",name:"Sparse vegetation"},151:{color:"#ffc864",name:"Sparse tree"},152:{color:"#ffd278",name:"Sparse shrub"},153:{color:"#ffebaf",name:"Sparse herbaceous"},160:{color:"#00785a",name:"Tree cover flooded fresh or brakish water"},170:{color:"#009678",name:"Tree cover flooded saline water"},180:{color:"#00dc82",name:"Shrub or herbaceous cover flooded"},190:{color:"#c31400",name:"Urban"},200:{color:"#fff5d7",name:"Bare areas"},201:{color:"#dcdcdc",name:"Bare areas consolidated"},202:{color:"#fff5d7",name:"Bare areas unconsolidated"},210:{color:"#0046c8",name:"Water"},220:{color:"#ffffff",name:"Snow and ice"}}}}return t.\u0275fac=function(e){return new(e||t)($t(KA),$t(qA),$t(Jp))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ZA,QA,JA,rP],imports:[[ku,pg]]}),t})(),oP=(()=>{class t extends $A{constructor(t,e,n){super(e),this.httpClient=t,this.translate=e,this.spinner=n,this._inventory=null,this.base+="datasets"}bbox(t){t||(t={maxX:180,minX:180,maxY:90,minY:-90});let e=new Hp;return e=e.set("coords",`${t.minX},${t.minY},${t.maxX},${t.maxX}`),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/bbox",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}citations(){return this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/citations").pipe(N(t=>t),jx(()=>{this.spinner.decreaseActiveRequests()}))}info(t){let e=new Hp;return e=e.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/info",{params:e}).pipe(N(t=>t),jx(()=>{this.spinner.decreaseActiveRequests()}))}type(t){let e=new Hp;return e=e.set("id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/type",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}metadata(t){let e=new Hp;return e=e.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/metadata",{params:e}).pipe(N(t=>(this.spinner.decreaseActiveRequests(),t)))}inventory(){return this._inventory||(this.spinner.increaseActiveRequests(),this._inventory=this.httpClient.get(this.base+"/inventory").pipe(N(t=>(this.spinner.decreaseActiveRequests(),t[0])),Bg())),this._inventory}species(t){let e=new Hp;return e=e.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/species",{params:e}).pipe(N(t=>t),jx(()=>{this.spinner.decreaseActiveRequests()}))}deleteDataset(t){let e=new Hp;return e=e.set("dataset_id",t),e=e.set("status","DELETED"),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/status",{params:e}).pipe(jx(()=>{this.spinner.decreaseActiveRequests()}))}downloadList(t){let e=new Hp;return e=e.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/download/list",{params:e}).pipe(N(t=>t),jx(()=>{this.spinner.decreaseActiveRequests()}))}downloadAsset(t,e){let n=new Hp;return n=n.set("asset_id",t),n=n.set("dataset_id",e),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/download",{params:n}).pipe(t=>(this.spinner.decreaseActiveRequests(),t))}download(t){let e=new Hp;return e=e.set("dataset_id",t),this.spinner.increaseActiveRequests(),this.httpClient.get(this.base+"/download",{params:e}).pipe(t=>(this.spinner.decreaseActiveRequests(),t))}}return t.\u0275fac=function(e){return new(e||t)($t(Jp),$t(qA),$t(KA))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aP=(()=>{class t{constructor(t){this.inj=t,this.auth=this.inj.get(JA)}intercept(t,e){const n=this.auth.getToken();return DE.map(e=>Boolean(t.url.match(RegExp(e)))).reduce((t,e)=>t||e)&&!t.url.match(/^https:\/\/auth.mol.org\/|mol\.org\/partials/)&&(t=t.clone({setHeaders:{Authorization:"Bearer "+n}})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)($t(go))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),lP=(()=>{class t extends tP{constructor(t,e,n){super(e,t,n,"https://stoat-otf.azurewebsites.net"),this.spinner=t,this.translate=e,this.httpClient=n}correlation(t=""){let e=new Hp;return e=e.set("scientificname",t),this.go("get","/metrics/covariance",{params:e})}scenarios(){return new Hp,this.go("get","/list/scenarios")}univariate(t,e,n,i,r,s){let o={scientificname:t,mode:"temporal",limit:parseInt(s,10),yaxis:{product:e,variable:n,spatial:i,temporal:r}};return this.go("post","/species/metrics/scatter",{},o)}bivariate(t,e,n,i,r,s,o,a,l,c){const h={scientificname:t,mode:"bivariate",limit:parseInt(c,10),yaxis:{product:e,variable:n,spatial:i,temporal:r},xaxis:{product:s,variable:o,spatial:a,temporal:l}};return this.go("post","/species/metrics/scatter",{},h)}}return t.\u0275fac=function(e){return new(e||t)($t(KA),$t(qA),$t(Jp))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[sP],imports:[[ku,SE,gS,PE,nC,Dx,nS,sP,fm]]}),t})(),hP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,nS,nC,CC,DA,Wb,fm]]}),t})();const uP=["panel"];function dP(t,e){if(1&t&&(Vo(0,"div",0,1),ia(2),Bo()),2&t){const t=ta();jo("id",t.id)("ngClass",t._classList)}}const fP=["*"];let pP=0;class gP{constructor(t,e){this.source=t,this.option=e}}class mP{}const _P=Vy(mP),vP=new zt("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let yP=(()=>{class t extends _P{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=u.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new hc,this.opened=new hc,this.closed=new hc,this.optionActivated=new hc,this._classList={},this.id="mat-autocomplete-"+pP++,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=fv(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new dy(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new gP(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(Lo(Qs),Lo(ll),Lo(vP))},t.\u0275cmp=pe({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(Sc(n,ub,!0),Sc(n,ob,!0)),2&t&&(wc(i=Mc())&&(e.options=i),wc(i=Mc())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(xc(Rl,!0),Cc(uP,!0)),2&t&&(wc(n=Mc())&&(e.template=n.first),wc(n=Mc())&&(e.panel=n.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[rl([{provide:hb,useExisting:t}]),Ha],ngContentSelectors:fP,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(na(),Io(0,dP,3,2,"ng-template"))},directives:[ou],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})();const bP=new zt("mat-autocomplete-scroll-strategy"),wP={provide:bP,deps:[Ew],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},xP={provide:Rm,useExisting:Ot(()=>CP),multi:!0};let CP=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=r,this._dir=o,this._formField=a,this._document=l,this._viewportRuler=c,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=u.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new S,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=xg(()=>this.autocomplete&&this.autocomplete.options?q(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(Og(1),Hg(()=>this.optionSelections))),this._scrollStrategy=s}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=fv(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return q(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Dp(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Dp(()=>this._overlayAttached)):Rp()).pipe(N(t=>t instanceof cb?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return q(vm(this._document,"click"),vm(this._document,"touchend")).pipe(Dp(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27===e&&t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=db(t,this.autocomplete.options,this.autocomplete.optionGroups);if(0===t&&1===e)this.autocomplete._setScrollTop(0);else{const n=fb(t+e,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(n)}}_subscribeToClosingActions(){return q(this._zone.onStable.asObservable().pipe(Og(1)),this.autocomplete.options.changes.pipe(Jv(()=>this._positionStrategy.reapplyLastPosition()),Sk(0))).pipe(Hg(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Og(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!dv(this._element.nativeElement));let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new $b(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(27===t.keyCode||38===t.keyCode&&t.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new hw({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"}];let i;i="above"===this.position?n:"below"===this.position?e:[...e,...n],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(Ew),Lo(Dl),Lo(eh),Lo(Qs),Lo(bP),Lo(Vv,8),Lo(dx,9),Lo(Ih,8),Lo(Xv))},t.\u0275dir=be({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&$o("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&Po("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[rl([xP]),Xa]}),t})(),OP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[wP],imports:[[pb,Iw,Ny,ku],$v,pb,Ny]}),t})();const SP=hv({passive:!0});let kP=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return bg;const e=vv(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new S,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,SP),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,SP)}}),i.asObservable()}stopMonitoring(t){const e=vv(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)($t(iv),$t(eh))},t.\u0275prov=ut({factory:function(){return new t($t(iv),$t(eh))},token:t,providedIn:"root"}),t})(),EP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[rv]]}),t})();const MP=new zt("MAT_INPUT_VALUE_ACCESSOR"),TP=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let AP=0;class PP{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const RP=Hy(PP);let IP=(()=>{class t extends RP{constructor(t,e,n,i,r,s,o,a,l){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid="mat-input-"+AP++,this.focused=!1,this.stateChanges=new S,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>ov().has(t));const c=this._elementRef.nativeElement,h=c.nodeName.toLowerCase();this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=fv(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=fv(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ov().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=fv(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(TP.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(iv),Lo(Hm,10),Lo(N_,8),Lo(Z_,8),Lo(Gy),Lo(MP,10),Lo(kP),Lo(eh))},t.\u0275dir=be({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&$o("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(za("disabled",e.disabled)("required",e.required),Po("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),ya("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[rl([{provide:tx,useExisting:t}]),Ha,Xa]}),t})(),DP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Gy],imports:[[EP,px],EP,px]}),t})();class LP extends class{constructor(){this.expansionModel=new Gv(!0)}toggle(t){this.expansionModel.toggle(t)}expand(t){this.expansionModel.select(t)}collapse(t){this.expansionModel.deselect(t)}isExpanded(t){return this.expansionModel.isSelected(t)}toggleDescendants(t){this.expansionModel.isSelected(t)?this.collapseDescendants(t):this.expandDescendants(t)}collapseAll(){this.expansionModel.clear()}expandDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.select(...e)}collapseDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.deselect(...e)}}{constructor(t,e){super(),this.getLevel=t,this.isExpandable=e}getDescendants(t){const e=[];for(let n=this.dataNodes.indexOf(t)+1;n<this.dataNodes.length&&this.getLevel(t)<this.getLevel(this.dataNodes[n]);n++)e.push(this.dataNodes[n]);return e}expandAll(){this.expansionModel.select(...this.dataNodes)}}const FP=new zt("CDK_TREE_NODE_OUTLET_NODE");let NP=(()=>{class t{constructor(t,e){this.viewContainer=t,this._node=e}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(FP,8))},t.\u0275dir=be({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();class jP{constructor(t){this.$implicit=t}}let zP=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl))},t.\u0275dir=be({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),VP=(()=>{class t{constructor(t,e){this._differs=t,this._changeDetectorRef=e,this._onDestroy=new S,this._levels=new Map,this.viewChange=new jC({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}ngOnInit(){if(this._dataDiffer=this._differs.find([]).create(this.trackBy),!this.treeControl)throw Error("Could not find a tree control for the tree.")}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(t=>!t.when);if(t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;if(Uv(this._dataSource)?t=this._dataSource.connect(this):gg(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=Rp(this._dataSource)),!t)throw Error("A valid data source must be provided.");this._dataSubscription=t.pipe(Lv(this._onDestroy)).subscribe(t=>this.renderNodeChanges(t))}renderNodeChanges(t,e=this._dataDiffer,n=this._nodeOutlet.viewContainer,i){const r=e.diff(t);r&&(r.forEachOperation((e,r,s)=>{if(null==e.previousIndex)this.insertNode(t[s],s,n,i);else if(null==s)n.remove(r),this._levels.delete(e.item);else{const t=n.get(r);n.move(t,s)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,e){if(1===this._nodeDefs.length)return this._nodeDefs.first;const n=this._nodeDefs.find(n=>n.when&&n.when(e,t))||this._defaultNodeDef;if(!n)throw Error("Could not find a matching node definition for the provided node data.");return n}insertNode(t,e,n,i){const r=this._getNodeDef(t,e),s=new jP(t);s.level=this.treeControl.getLevel?this.treeControl.getLevel(t):void 0!==i&&this._levels.has(i)?this._levels.get(i)+1:0,this._levels.set(t,s.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(r.template,s,e),BP.mostRecentTreeNode&&(BP.mostRecentTreeNode.data=t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(El),Lo(Qs))},t.\u0275cmp=pe({type:t,selectors:[["cdk-tree"]],contentQueries:function(t,e,n){var i;1&t&&Sc(n,zP,!0),2&t&&wc(i=Mc())&&(e._nodeDefs=i)},viewQuery:function(t,e){var n;1&t&&xc(NP,!0),2&t&&wc(n=Mc())&&(e._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,e){1&t&&Wo(0,0)},directives:[NP],encapsulation:2}),t})(),BP=(()=>{class t{constructor(e,n){this._elementRef=e,this._tree=n,this._destroyed=new S,this._dataChanges=new S,this.role="treeitem",t.mostRecentTreeNode=this}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){if(this._tree.treeControl.isExpandable)this.role=this._tree.treeControl.isExpandable(this._data)?"group":"treeitem";else{if(!this._tree.treeControl.getChildren)throw Error("Could not find functions for nested/flat tree in tree control.");const t=this._tree.treeControl.getChildren(this._data);Array.isArray(t)?this._setRoleFromChildren(t):gg(t)&&t.pipe(Lv(this._destroyed)).subscribe(t=>this._setRoleFromChildren(t))}}_setRoleFromChildren(t){this.role=t&&t.length?"group":"treeitem"}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(VP))},t.\u0275dir=be({type:t,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:3,hostBindings:function(t,e){2&t&&Po("aria-expanded",e.isExpanded)("aria-level","treeitem"===e.role?e.level:null)("role",e.role)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t.mostRecentTreeNode=null,t})();const HP=/([A-Za-z%]+)$/;let UP=(()=>{class t{constructor(t,e,n,i,r){this._treeNode=t,this._tree=e,this._element=i,this._dir=r,this._destroyed=new S,this.indentUnits="px",this._indent=40,this._setPadding(),r&&r.change.pipe(Lv(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(t){this._level=pv(t,null),this._setPadding()}get indent(){return this._indent}set indent(t){let e=t,n="px";if("string"==typeof t){const i=t.split(HP);e=i[0],n=i[1]||n}this.indentUnits=n,this._indent=pv(e),this._setPadding()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,e=null==this._level?t:this._level;return"number"==typeof e?`${e*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const e=this._paddingIndent();if(e!==this._currentPadding||t){const t=this._element.nativeElement,n=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",i="paddingLeft"===n?"paddingRight":"paddingLeft";t.style[n]=e||"",t.style[i]="",this._currentPadding=e}}}return t.\u0275fac=function(e){return new(e||t)(Lo(BP),Lo(VP),Lo(dl),Lo(ll),Lo(Vv,8))},t.\u0275dir=be({type:t,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),t})(),GP=(()=>{class t{constructor(t,e){this._tree=t,this._treeNode=e,this._recursive=!1}get recursive(){return this._recursive}set recursive(t){this._recursive=fv(t)}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(Lo(VP),Lo(BP))},t.\u0275dir=be({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,e){1&t&&$o("click",(function(t){return e._toggle(t)}))},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),WP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Sy,zP]}),t})();const YP=By(jy(BP));let qP=(()=>{class t extends YP{constructor(t,e,n){super(t,e),this._elementRef=t,this._tree=e,this.role="treeitem",this.tabIndex=Number(n)||0}}return t.\u0275fac=function(e){return new(e||t)(Lo(ll),Lo(VP),Fo("tabindex"))},t.\u0275dir=be({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:3,hostBindings:function(t,e){2&t&&Po("aria-expanded",e.isExpanded)("aria-level","treeitem"===e.role?e.level:null)("role",e.role)},inputs:{disabled:"disabled",tabIndex:"tabIndex",role:"role"},exportAs:["matTreeNode"],features:[rl([{provide:BP,useExisting:t}]),Ha]}),t})(),XP=(()=>{class t extends zP{}return t.\u0275fac=function(e){return $P(e||t)},t.\u0275dir=be({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[rl([{provide:zP,useExisting:t}]),Ha]}),t})();const $P=fi(XP);let KP=(()=>{class t extends UP{}return t.\u0275fac=function(e){return ZP(e||t)},t.\u0275dir=be({type:t,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[rl([{provide:UP,useExisting:t}]),Ha]}),t})();const ZP=fi(KP);let QP=(()=>{class t{constructor(t,e){this.viewContainer=t,this._node=e}}return t.\u0275fac=function(e){return new(e||t)(Lo(Dl),Lo(FP,8))},t.\u0275dir=be({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[rl([{provide:NP,useExisting:t}])]}),t})(),JP=(()=>{class t extends VP{}return t.\u0275fac=function(e){return tR(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-tree"]],viewQuery:function(t,e){var n;1&t&&xc(QP,!0),2&t&&wc(n=Mc())&&(e._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[rl([{provide:VP,useExisting:t}]),Ha],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,e){1&t&&Wo(0,0)},directives:[QP],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;min-height:48px;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),t})();const tR=fi(JP);let eR=(()=>{class t extends GP{constructor(){super(...arguments),this.recursive=!1}}return t.\u0275fac=function(e){return nR(e||t)},t.\u0275dir=be({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[rl([{provide:GP,useExisting:t}]),Ha]}),t})();const nR=fi(eR);let iR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[WP,Ny],Ny]}),t})();class rR{constructor(t,e,n,i){this.transformFunction=t,this.getLevel=e,this.isExpandable=n,this.getChildren=i}_flattenNode(t,e,n,i){const r=this.transformFunction(t,e);if(n.push(r),this.isExpandable(r)){const r=this.getChildren(t);r&&(Array.isArray(r)?this._flattenChildren(r,e,n,i):r.pipe(Og(1)).subscribe(t=>{this._flattenChildren(t,e,n,i)}))}return n}_flattenChildren(t,e,n,i){t.forEach((r,s)=>{let o=i.slice();o.push(s!=t.length-1),this._flattenNode(r,e+1,n,o)})}flattenNodes(t){let e=[];return t.forEach(t=>this._flattenNode(t,0,e,[])),e}expandFlattenedNodes(t,e){let n=[],i=[];return i[0]=!0,t.forEach(t=>{let r=!0;for(let e=0;e<=this.getLevel(t);e++)r=r&&i[e];r&&n.push(t),this.isExpandable(t)&&(i[this.getLevel(t)+1]=e.isExpanded(t))}),n}}class sR extends Hv{constructor(t,e,n=[]){super(),this._treeControl=t,this._treeFlattener=e,this._flattenedData=new jC([]),this._expandedData=new jC([]),this._data=new jC(n)}get data(){return this._data.value}set data(t){this._data.next(t),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(t){return q(t.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(N(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}let oR=0,aR=(()=>{class t{constructor(){this._stateChanges=new S,this._openCloseAllActions=new S,this.id="cdk-accordion-"+oR++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=fv(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Xa]}),t})(),lR=0,cR=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=u.EMPTY,this.closed=new hc,this.opened=new hc,this.destroyed=new hc,this.expandedChange=new hc,this.id="cdk-accordion-child-"+lR++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=fv(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=fv(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(Lo(aR,12),Lo(Qs),Lo(Wv))},t.\u0275dir=be({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[rl([{provide:aR,useValue:void 0}])]}),t})(),hR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const uR=["body"];function dR(t,e){}const fR=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],pR=["mat-expansion-panel-header","*","mat-action-row"],gR=function(t,e){return{collapsedHeight:t,expandedHeight:e}},mR=function(t,e){return{value:t,params:e}};function _R(t,e){1&t&&Ho(0,"span",2),2&t&&jo("@indicatorRotate",ta()._getExpandedState())}const vR=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],yR=["mat-panel-title","mat-panel-description","*"],bR=new zt("MAT_ACCORDION"),wR={indicatorRotate:ad("indicatorRotate",[dd("collapsed, void",ud({transform:"rotate(0deg)"})),dd("expanded",ud({transform:"rotate(180deg)"})),pd("expanded <=> collapsed, void => collapsed",ld("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:ad("expansionHeight",[dd("collapsed, void",ud({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),dd("expanded",ud({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),pd("expanded <=> collapsed, void => collapsed",cd([md("@indicatorRotate",gd(),{optional:!0}),ld("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:ad("bodyExpansion",[dd("collapsed, void",ud({height:"0px",visibility:"hidden"})),dd("expanded",ud({height:"*",visibility:"visible"})),pd("expanded <=> collapsed, void => collapsed",ld("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let xR=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(Rl))},t.\u0275dir=be({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),CR=0;const OR=new zt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let SR=(()=>{class t extends cR{constructor(t,e,n,i,r,s,o){super(t,e,n),this._viewContainerRef=i,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new hc,this.afterCollapse=new hc,this._inputChanges=new S,this._headerId="mat-expansion-panel-header-"+CR++,this._bodyAnimationDone=new S,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(Ev((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),o&&(this.hideToggle=o.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=fv(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(jv(null),Dp(()=>this.expanded&&!this._portal),Og(1)).subscribe(()=>{this._portal=new $b(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(Lo(bR,12),Lo(Qs),Lo(Wv),Lo(Dl),Lo(Ih),Lo(Tp,8),Lo(OR,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&Sc(n,xR,!0),2&t&&wc(i=Mc())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&Cc(uR,!0),2&t&&wc(n=Mc())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&ya("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[rl([{provide:bR,useValue:void 0}]),Ha,Xa],ngContentSelectors:pR,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(na(fR),ia(0),Vo(1,"div",0,1),$o("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),Vo(3,"div",2),ia(4,1),Io(5,dR,0,0,"ng-template",3),Bo(),ia(6,2),Bo()),2&t&&(Or(1),jo("@bodyExpansion",e._getExpandedState())("id",e.id),Po("aria-labelledby",e._headerId),Or(4),jo("cdkPortalOutlet",e._portal))},directives:[Jb],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[wR.bodyExpansion]},changeDetection:0}),t})(),kR=(()=>{class t{constructor(t,e,n,i,r){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=u.EMPTY,this._animationsDisabled=!0;const s=t.accordion?t.accordion._stateChanges.pipe(Dp(t=>!(!t.hideToggle&&!t.togglePosition))):bg;this._parentChangeSubscription=q(t.opened,t.closed,s,t._inputChanges.pipe(Dp(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Dp(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case 32:case 13:Zv(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(Lo(SR,1),Lo(ll),Lo(Sy),Lo(Qs),Lo(OR,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:19,hostBindings:function(t,e){1&t&&(Ko("@expansionHeight.start",(function(){return e._animationStarted()})),$o("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(Po("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),Va("@.disabled",e._animationsDisabled)("@expansionHeight",tc(16,mR,e._getExpandedState(),tc(13,gR,e.collapsedHeight,e.expandedHeight))),ya("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:yR,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(na(vR),Vo(0,"span",0),ia(1),ia(2,1),ia(3,2),Bo(),Io(4,_R,1,1,"span",1)),2&t&&(Or(4),jo("ngIf",e._showToggle()))},directives:[hu],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[wR.indicatorRotate,wR.expansionHeaderHeight]},changeDetection:0}),t})(),ER=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),MR=(()=>{class t extends aR{constructor(){super(...arguments),this._ownHeaders=new dc,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=fv(t)}ngAfterContentInit(){this._headers.changes.pipe(jv(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new fy(this._ownHeaders).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;36===e?Zv(t)||(n.setFirstItemActive(),t.preventDefault()):35===e?Zv(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}return t.\u0275fac=function(e){return TR(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&Sc(n,kR,!0),2&t&&wc(i=Mc())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&ya("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[rl([{provide:bR,useExisting:t}]),Ha]}),t})();const TR=fi(MR);let AR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,hR,tw]]}),t})();function PR(t,e){if(1&t){const t=Yo();Vo(0,"div",1),Vo(1,"button",2),$o("click",(function(){return Qe(t),ta().action()})),Da(2),Bo(),Bo()}if(2&t){const t=ta();Or(2),La(t.data.action)}}function RR(t,e){}const IR=Math.pow(2,31)-1;class DR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new S,this._afterOpened=new S,this._onAction=new S,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,IR))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const LR=new zt("MatSnackBarData");class FR{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let NR=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(Lo(DR),Lo(LR))},t.\u0275cmp=pe({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(Vo(0,"span"),Da(1),Bo(),Io(2,PR,3,1,"div",0)),2&t&&(Or(1),La(e.data.message),Or(1),jo("ngIf",e.hasAction))},directives:[hu,Ub],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const jR={snackBarState:ad("state",[dd("void, hidden",ud({transform:"scale(0.8)",opacity:0})),dd("visible",ud({transform:"scale(1)",opacity:1})),pd("* => visible",ld("150ms cubic-bezier(0, 0, 0.2, 1)")),pd("* => void, * => hidden",ld("75ms cubic-bezier(0.4, 0.0, 1, 1)",ud({opacity:0})))])};let zR=(()=>{class t extends Zb{constructor(t,e,n,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=i,this._destroyed=!1,this._onExit=new S,this._onEnter=new S,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Og(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return t.\u0275fac=function(e){return new(e||t)(Lo(eh),Lo(ll),Lo(Qs),Lo(FR))},t.\u0275cmp=pe({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&xc(Jb,!0),2&t&&wc(n=Mc())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&Ko("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(Po("role",e._role),Va("@state",e._animationState))},features:[Ha],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Io(0,RR,0,0,"ng-template",0)},directives:[Jb],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[jR.snackBarState]}}),t})(),VR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Iw,tw,ku,Wb,Ny],Ny]}),t})();const BR=new zt("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new FR}});let HR=(()=>{class t{constructor(t,e,n,i,r,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=s,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(NR,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new ew(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[FR,e]])),i=new Xb(zR,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new FR),this._defaultConfig),e),i=this._createOverlay(n),r=this._attachSnackBarContainer(i,n),s=new DR(r,i);if(t instanceof Rl){const e=new $b(t,null,{$implicit:n.data,snackBarRef:s});s.instance=r.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),i=new Xb(t,void 0,e),o=r.attachComponentPortal(i);s.instance=o.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(Lv(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new hw;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,s=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new ew(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[DR,e],[LR,t.data]]))}}return t.\u0275fac=function(e){return new(e||t)($t(Ew),$t(wy),$t(go),$t(YO),$t(t,12),$t(BR))},t.\u0275prov=ut({factory:function(){return new t($t(Ew),$t(wy),$t(Vt),$t(YO),$t(t,12),$t(BR))},token:t,providedIn:VR}),t})(),UR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[sP],imports:[[ku,tv,OP,Wb,fC,SE,nC,DP,nS,iR,VR,Dx,AR,Iw,ev,sP,DA,NC,oE,fm]]}),t})(),GR=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ku,Pm,SE,Wb,nC]]}),t})(),WR=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-page-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(Vo(0,"h3"),Da(1," Page not found :(\n"),Bo())},styles:[""]}),t})(),YR=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(Lo(pE),Lo(fE))},t.\u0275cmp=pe({type:t,selectors:[["mol-chart-modal"]],decls:5,vars:7,consts:[["mat-icon-button","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button",3,"click"],[3,"data","type","title","columns","width","height","options"]],template:function(t,e){1&t&&(Vo(0,"div"),Vo(1,"button",0),$o("click",(function(){return e.close()})),Vo(2,"mat-icon"),Da(3,"close"),Bo(),Bo(),Ho(4,"google-chart",1),Bo()),2&t&&(Or(4),jo("data",e.data.data)("type","LineChart")("title",e.data.title)("columns",e.data.columns)("width",e.data.width)("height",e.data.height)("options",e.data.options))},directives:[Ub,eC,Am],styles:[".popup-close-button[_ngcontent-%COMP%]{float:right;background-color:#fff}"]}),t})();var qR=n("qr5x");const XR="#5500ff,#4a00ff,#3f00ff,#3400ff,#2900ff,#1e00ff,#1300ff,#0800ff,#0002ff,#000dff,#0018ff,#0023ff,#002eff,#0039ff,#0044ff,#0050ff,#005bff,#0066ff,#0071ff,#007cff,#0087ff,#0092ff,#009dff,#00a8ff,#00b3ff,#00beff,#00c9ff,#00d4ff,#00dfff,#00eaff,#00f5ff,#00fffd,#00fff1,#00ffe6,#00ffdb,#00ffd0,#00ffc5,#00ffba,#00ffaf,#00ffa4,#00ff99,#00ff8e,#00ff83,#00ff78,#00ff6d,#00ff62,#00ff57,#00ff4c,#00ff41,#00ff35,#00ff2a,#00ff1f,#00ff14,#00ff09,#01ff00,#0cff00,#17ff00,#22ff00,#2dff00,#38ff00,#43ff00,#4eff00,#59ff00,#64ff00,#6fff00,#7aff00,#86ff00,#91ff00,#9cff00,#a7ff00,#b2ff00,#bdff00,#c8ff00,#d3ff00,#deff00,#e9ff00,#f4ff00,#fffe00,#fff300,#ffe800,#ffdd00,#ffd200,#ffc700,#ffbb00,#ffb000,#ffa500,#ff9a00,#ff8f00,#ff8400,#ff7900,#ff6e00,#ff6300,#ff5800,#ff4d00,#ff4200,#ff3700,#ff2c00,#ff2100,#ff1600,#ff0b00,#ff0000".split(","),$R=["#40e0d0","#49e0cf","#51e0cf","#58e0ce","#5fe0cd","#65e0cd","#6be0cc","#70e0cb","#75e0ca","#7ae0ca","#7fe0c9","#83e0c8","#88e0c8","#8ce0c7","#90e0c6","#94e1c6","#98e1c5","#9ce1c4","#a0e0c3","#a3e0c3","#a7e0c2","#abe0c1","#aee0c1","#b2e0c0","#b5e0bf","#b8e0be","#bbe0be","#bfe0bd","#c2e0bc","#c5e0bc","#c8e0bb","#cbe0ba","#cee0ba","#d1e0b9","#d4e0b8","#d7e0b7","#dae0b7","#dde0b6","#e0dfb5","#e3dfb5","#e5dfb4","#e8dfb3","#ebdfb2","#eedfb2","#f0dfb1","#f3dfb0","#f6dfb0","#f8deaf","#fbdeae","#fedead","#fedcac","#fdd9a9","#fbd5a6","#fad2a3","#f8cea0","#f7ca9d","#f5c79a","#f3c397","#f2c094","#f0bc92","#efb98f","#edb58c","#ebb289","#eaae86","#e8ab84","#e6a781","#e5a47e","#e3a07b","#e19d79","#df9976","#de9673","#dc9270","#da8f6e","#d88b6b","#d78868","#d58466","#d38163","#d17d60","#cf7a5e","#cd765b","#cb7359","#c96f56","#c86c53","#c66851","#c4654e","#c2614c","#c05d49","#be5a47","#bc5644","#ba5242","#b84f3f","#b64b3d","#b4473a","#b24338","#b03f36","#ad3b33","#ab3731","#a9332f","#a72f2c","#a52a2a"],KR=["rgba(187, 187, 187, 0.5)","rgba(13, 71, 161, 0.5)","rgba(25, 118, 210, 0.5)","rgba(100, 181, 246, 0.5)","rgba(187, 222, 251, 0.5)","rgba(255, 249, 196, 0.5)","rgba(255, 241, 118, 0.5)","rgba(255, 214, 0, 0.5)","rgba(255, 138, 128, 0.5)","rgba(244, 67, 54, 0.5)","rgba(183, 28, 28, 0.5)","rgba(255, 0, 0, 0.5)"],ZR=(["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"].reverse(),["#c394f3","#b174f0","#9f54ed","#8d33e9","#7b17e2","#6914c2","#5810a1","#460d81","#340a61","#230640"]),QR={points:{colors:ZR.slice(0,8),text:t=>{if(t>8)return;const e=Math.floor(Math.exp(t)),n=Math.floor(Math.exp(t+1))-1,i=n.toString();return 7===t?e+"+":e===n?""+e:`${e} - ${i}`}},range:{seasonality:["rgba(226, 91, 91, 0.6)","rgba(153, 204, 0, 0.6)","rgba(255, 204, 0, 0.6)","rgba(0, 107, 180, 0.6)","rgba(227, 156, 91, 0.6)","rgba(226, 91, 91, 0.6)"],labels:["","Resident","Breeding","Non-breeding","Passage",""]},localinv:{color:"rgba(106, 0, 133, 0.6)"},regionalchecklist:{color:"rgba(61, 153, 112, 0.5)"},griddedrangeatlas:{color:"rgba(255, 102, 0, 0.6)"},alienchecklist:{color:"rgba(255, 208, 215, 0.7)"}},JR=["#C0BEFE","#87A1FE","#57C7FF","#50FFDA","#AAFF7D","#EAFF2D","#FEBE0A","#FD6107","#FB0006"],tI=["#1C4877","#27528B","#365FA2","#466BB6","#5675C3","#6B82CE","#8695D8","#9FA7E0"].reverse();var eI=[0,.05,.1,.3,.5,1],nI=1/(eI.length-1),iI=eI.map((t,e)=>{if(1!==t){var n=[eI[e],eI[e+1]],i=[e*nI,(e+1)*nI];return t=>(i[0]*(n[1]-t)+i[1]*(t-n[0]))/(n[1]-n[0])}});function rI(t,e){if(1&t&&(Vo(0,"div",5),Vo(1,"h2",6),Da(2," Please "),Vo(3,"a",7),Da(4,"log in"),Bo(),Da(5," to download datasets. "),Bo(),Bo()),2&t){const t=ta();Or(3),jo("href","https://auth.mol.org/login?next="+t.url,ir)}}const sI=function(t){return{notDownloadable:t}};function oI(t,e){if(1&t){const t=Yo();Vo(0,"tr",12),Vo(1,"td"),Da(2),Bo(),Vo(3,"td"),Vo(4,"a",13),Da(5),Bo(),Bo(),Vo(6,"td"),Da(7),Bo(),Vo(8,"td"),Vo(9,"button",14),$o("click",(function(){Qe(t);const n=e.$implicit;return ta(2).addDataset(n)})),Da(10),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit,n=ta(2);wa(Jl(10,sI,!t.downloadable)),jo("hidden",!t.downloadable),Or(2),La(t.type_title),Or(2),jo("href","https://mol.org/datasets/"+t.dataset_id,ir),Or(1),La(t.dataset_title),Or(2),La(t.no_rows),Or(2),jo("disabled",!t.downloadable)("color",n.downloadList.indexOf(t.dataset_id)>-1?"warn":"accent"),Or(1),Fa(" ",t.downloadable?n.downloadList.indexOf(t.dataset_id)>-1?"Remove":"Add":"Not Available"," ")}}function aI(t,e){1&t&&(Vo(0,"div",15),Da(1," No Private datasets available. "),Bo())}function lI(t,e){if(1&t&&(Vo(0,"div",5),Vo(1,"div",8),Vo(2,"small"),Da(3,"Datasets available for download are based on licensing agreements. "),Bo(),Bo(),Vo(4,"h2",9),Da(5,"Public Datasets"),Bo(),Vo(6,"table"),Vo(7,"thead"),Vo(8,"tr"),Vo(9,"th"),Da(10,"Type"),Bo(),Vo(11,"th"),Da(12,"Title"),Bo(),Vo(13,"th"),Da(14,"Features"),Bo(),Ho(15,"th"),Bo(),Bo(),Vo(16,"tbody"),Io(17,oI,11,12,"tr",10),Bo(),Bo(),Vo(18,"h2",9),Da(19,"Private Datasets"),Bo(),Io(20,aI,2,0,"div",11),Vo(21,"div"),Da(22),Bo(),Bo()),2&t){const t=ta();Or(17),jo("ngForOf",t.datasets),Or(3),jo("ngIf",0===t.privateDatasets.length),Or(2),Na(" ",t.downloadList.length," dataset",1!==t.downloadList.length?"s":""," selected for download. ")}}function cI(t,e){if(1&t){const t=Yo();Vo(0,"button",16),$o("click",(function(){return Qe(t),ta().doDownload()})),Da(1," Download "),Bo()}if(2&t){const t=ta();jo("disabled",0===t.downloadList.length&&!t.active)}}let hI=(()=>{class t{constructor(t,e,n,i,r){this.data=t,this.speciesService=e,this.auth=n,this.snackbar=i,this.dialogRef=r,this.datasets=[],this.privateDatasets=[],this.downloadList=[],this.loggedIn=!1,this.url="",this.active=!1}ngOnInit(){this.url=document.URL,this.speciesService.getDatasets(this.data.scientificname).subscribe(t=>{this.datasets=t.sort((t,e)=>{const n=t.product_type.localeCompare(e.product_type);return 0!==n?-n:-((t.downloadable?1:-1)-(e.downloadable?1:-1))})}),this.auth.loggedIn.subscribe(t=>{this.loggedIn=t})}addDataset(t){t.added?(t.added=!1,this.downloadList.splice(this.downloadList.findIndex(e=>e===t.dataset_id),1)):(t.added=!0,this.downloadList.push(t.dataset_id))}doDownload(){this.active=!0,this.speciesService.download(this.data.scientificname,this.downloadList).subscribe(t=>{const e=document.createElement("a"),n=URL.createObjectURL(t);e.href=n,e.download=this.data.scientificname.replace(" ","_")+".zip",e.click(),URL.revokeObjectURL(n),this.dialogRef.close()},t=>{this.snackbar.open("Error Downloading Dataset.","Close",{duration:1e4}),console.error(t),this.dialogRef.close()})}}return t.\u0275fac=function(e){return new(e||t)(Lo(pE),Lo(ZA),Lo(JA),Lo(HR),Lo(fE))},t.\u0275cmp=pe({type:t,selectors:[["mol-species-download-modal"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close",""],["class","download-btn","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-dialog-content",""],[1,"auth-guard","mhead"],[3,"href"],[1,"disclaimer"],[1,"mhead"],[3,"class","hidden",4,"ngFor","ngForOf"],["class","no-found",4,"ngIf"],[3,"hidden"],["target","_blank",3,"href"],["mat-flat-button","",3,"disabled","color","click"],[1,"no-found"],["mat-raised-button","","color","primary",1,"download-btn",3,"disabled","click"]],template:function(t,e){1&t&&(Vo(0,"h1",0),Da(1," Available datasets for "),Vo(2,"i"),Da(3),Bo(),Bo(),Io(4,rI,6,1,"div",1),Io(5,lI,23,4,"div",1),Vo(6,"mat-dialog-actions",2),Vo(7,"button",3),Da(8,"Close"),Bo(),Io(9,cI,2,1,"button",4),Bo()),2&t&&(Or(3),La(e.data.scientificname),Or(1),jo("ngIf",!e.loggedIn),Or(1),jo("ngIf",e.loggedIn),Or(4),jo("ngIf",e.loggedIn))},directives:[wE,hu,CE,Ub,bE,xE,lu],styles:[".download-btn[_ngcontent-%COMP%]{color:#fff}table[_ngcontent-%COMP%]{width:95%;max-width:1000px;margin:10px auto;padding:0 0 10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;min-width:100px;font-size:16px;font-weight:700}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:7px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;width:130px}table[_ngcontent-%COMP%]   th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000;text-decoration:underline;background-color:#fff}td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}.mhead[_ngcontent-%COMP%]{padding:0;margin:0}.no-found[_ngcontent-%COMP%]{margin:20px}.mat-dialog-title[_ngcontent-%COMP%]{padding:0;margin:0}.disclaimer[_ngcontent-%COMP%]{padding-bottom:15px}.auth-guard[_ngcontent-%COMP%]{padding-top:40px}"]}),t})();function uI(t,e){1&t&&(Vo(0,"a",5),Da(1,"View dataset details"),Bo()),2&t&&jo("href","https://mol.org/datasets/"+ta(2).data.dataset_id,ir)}function dI(t,e){if(1&t&&(Vo(0,"h2",3),Da(1),Io(2,uI,2,1,"a",4),Bo()),2&t){const t=ta();Or(1),Fa(" ",t.data.heading," "),Or(1),jo("ngIf",t.data.dataset_id)}}function fI(t,e){if(1&t&&(Vo(0,"td",10),Vo(1,"a",11),Vo(2,"strong"),Da(3),Bo(),Bo(),Bo()),2&t){const t=ta().$implicit;Or(1),jo("href",t.value,ir),Or(2),La(t.value)}}function pI(t,e){if(1&t&&(Vo(0,"td",10),Da(1),Bo()),2&t){const t=ta().$implicit;Or(1),La(t.value)}}function gI(t,e){if(1&t&&(Vo(0,"tr"),Vo(1,"td",8),Vo(2,"strong"),Da(3),Bo(),Bo(),Io(4,fI,4,2,"td",9),Io(5,pI,2,1,"td",9),Bo()),2&t){const t=e.$implicit;Or(3),La(t.label),Or(1),jo("ngIf","url"===t.type),Or(1),jo("ngIf","url"!==t.type)}}function mI(t,e){if(1&t&&(Vo(0,"div",6),Io(1,gI,6,3,"tr",7),Bo()),2&t){const t=e.$implicit;Or(1),jo("ngForOf",t.children)}}let _I=(()=>{class t{constructor(t){this.data=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(Lo(pE))},t.\u0275cmp=pe({type:t,selectors:[["mol-info-modal"]],decls:7,vars:2,consts:[["mat-icon-button","","mat-dialog-close","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button"],["class","info-title","mat-dialog-title","",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],["mat-dialog-title","",1,"info-title"],["class","dataset-link","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"dataset-link",3,"href"],[1,"section"],[4,"ngFor","ngForOf"],[1,"key"],["class","value",4,"ngIf"],[1,"value"],["target","_blank",3,"href"]],template:function(t,e){1&t&&(Vo(0,"button",0),Vo(1,"mat-icon"),Da(2,"close"),Bo(),Bo(),Io(3,dI,3,2,"h2",1),Vo(4,"mat-dialog-content"),Vo(5,"table"),Io(6,mI,2,1,"div",2),Bo(),Bo()),2&t&&(Or(3),jo("ngIf",e.data.heading),Or(3),jo("ngForOf",e.data.info))},directives:[Ub,bE,tS,eC,hu,xE,lu,wE],styles:["table[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px 15px;font-size:small}table[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{width:200px;min-width:190px;padding:5px 0;text-overflow:ellipsis}table[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-wrap:break-word;max-width:550px}.section[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.info-title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-title[_ngcontent-%COMP%]   .dataset-link[_ngcontent-%COMP%]{font-size:14px;width:150px;text-decoration:underline}.info-title[_ngcontent-%COMP%]   .dataset-link[_ngcontent-%COMP%]:hover{background-color:unset;color:#8cbf44}@media screen and (max-device-width:480px){tr[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}}"]}),t})();var vI,yI,bI=n("pWH9"),wI=n("RlRc"),xI=n("U3AP"),CI=n("sL3s"),OI={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},SI=n("j/Z9"),kI=n("Lpbt"),EI=n("UqCr"),MI=n("jekj"),TI=n("guOO"),AI=(vI=function(t,e){return(vI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vI(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),PI=function(t){function e(e,n,i,r,s,o){var a=t.call(this,e,n,o)||this;return a.crossOrigin_=r,a.src_=i,a.key=i,a.image_=new Image,null!==r&&(a.image_.crossOrigin=r),a.unlisten_=null,a.tileLoadFunction_=s,a}return AI(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){var t;this.state=EI.a.ERROR,this.unlistenImage_(),this.image_=((t=Object(MI.a)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?EI.a.LOADED:EI.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==EI.a.ERROR&&(this.state=EI.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==EI.a.IDLE&&(this.state=EI.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(TI.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(kI.a),RI=n("vog+"),II=n("A5l+"),DI=n("0eRI"),LI=function(){function t(t,e,n,i,r,s){this.sourceProj_=t,this.targetProj_=e;var o={},a=Object(II.i)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(RI.E)(i)==Object(RI.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(RI.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(RI.E)(this.targetProj_.getExtent()):null;var l=Object(RI.C)(n),c=Object(RI.D)(n),h=Object(RI.w)(n),u=Object(RI.v)(n),d=this.transformInv_(l),f=this.transformInv_(c),p=this.transformInv_(h),g=this.transformInv_(u),m=10+(s?Math.max(0,Math.ceil(Object(DI.d)(Object(RI.u)(n)/(s*s*256*256)))):0);if(this.addQuad_(l,c,h,u,d,f,p,g,m),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach((function(t,e,n){_=Math.min(_,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-_>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-_>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-_>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-_>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}).bind(this))}o={}}return t.prototype.addTriangle_=function(t,e,n,i,r,s){this.triangles_.push({source:[i,r,s],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,r,s,o,a,l){var c=Object(RI.b)([r,s,o,a]),h=this.sourceWorldWidth_?Object(RI.E)(c)/this.sourceWorldWidth_:null,u=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1,f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var p=Object(RI.b)([t,e,n,i]);f=Object(RI.E)(p)/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&h&&(f=h>.25||f)}if(!(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||Object(RI.F)(c,this.maxSourceExtent_)){var g=0;if(!(f||isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)f=!0;else if(1!=(g=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=g&&4!=g&&8!=g)return;if(l>0){if(!f){var m,_=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);m=d?(Object(DI.e)(r[0],u)+Object(DI.e)(o[0],u))/2-Object(DI.e)(_[0],u):(r[0]+o[0])/2-_[0];var v=(r[1]+o[1])/2-_[1];f=m*m+v*v>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(y),w=[(i[0]+t[0])/2,(i[1]+t[1])/2],x=this.transformInv_(w);this.addQuad_(t,e,y,w,r,s,b,x,l-1),this.addQuad_(w,y,n,i,x,b,o,a,l-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],O=this.transformInv_(C),S=[(n[0]+i[0])/2,(n[1]+i[1])/2],k=this.transformInv_(S);this.addQuad_(t,C,S,i,r,O,k,a,l-1),this.addQuad_(C,e,n,S,O,s,o,k,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(t,n,i,r,o,a),0==(14&g)&&this.addTriangle_(t,n,e,r,o,s),g&&(0==(13&g)&&this.addTriangle_(e,i,t,s,a,r),0==(7&g)&&this.addTriangle_(e,i,n,s,a,o))}},t.prototype.calculateSourceExtent=function(){var t=Object(RI.j)();return this.triangles_.forEach((function(e,n,i){var r=e.source;Object(RI.r)(t,r[0]),Object(RI.r)(t,r[1]),Object(RI.r)(t,r[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),FI=n("QRdp");function NI(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function jI(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function zI(t,e,n,i){var r=Object(II.o)(n,e,t),s=Object(II.h)(e,i,n),o=e.getMetersPerUnit();void 0!==o&&(s*=o);var a=t.getMetersPerUnit();void 0!==a&&(s/=a);var l=t.getExtent();if(!l||Object(RI.f)(l,r)){var c=Object(II.h)(t,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}var VI=n("HK6I"),BI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),HI=function(t){function e(e,n,i,r,s,o,a,l,c,h,u,d){var f=t.call(this,s,EI.a.IDLE)||this;f.renderEdges_=void 0!==u&&u,f.contextOptions_=d,f.pixelRatio_=a,f.gutter_=l,f.canvas_=null,f.sourceTileGrid_=n,f.targetTileGrid_=r,f.wrappedTileCoord_=o||s,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var p=r.getTileCoordExtent(f.wrappedTileCoord_),g=f.targetTileGrid_.getExtent(),m=f.sourceTileGrid_.getExtent(),_=g?Object(RI.B)(p,g):p;if(0===Object(RI.u)(_))return f.state=EI.a.EMPTY,f;var v=e.getExtent();v&&(m=m?Object(RI.B)(m,v):v);var y=r.getResolution(f.wrappedTileCoord_[0]),b=function(t,e,n,i){var r=Object(RI.x)(n),s=zI(t,e,r,i);return(!isFinite(s)||s<=0)&&Object(RI.t)(n,(function(n){return s=zI(t,e,n,i),isFinite(s)&&s>0})),s}(e,i,_,y);if(!isFinite(b)||b<=0)return f.state=EI.a.EMPTY,f;if(f.triangulation_=new LI(e,i,_,m,b*(void 0!==h?h:.5),y),0===f.triangulation_.getTriangles().length)return f.state=EI.a.EMPTY,f;f.sourceZ_=n.getZForResolution(b);var w=f.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(w[1]=Object(DI.a)(w[1],m[1],m[3]),w[3]=Object(DI.a)(w[3],m[1],m[3])):w=Object(RI.B)(w,m)),Object(RI.u)(w)){for(var x=n.getTileRangeForExtentAndZ(w,f.sourceZ_),C=x.minX;C<=x.maxX;C++)for(var O=x.minY;O<=x.maxY;O++){var S=c(f.sourceZ_,C,O,a);S&&f.sourceTiles_.push(S)}0===f.sourceTiles_.length&&(f.state=EI.a.EMPTY)}else f.state=EI.a.EMPTY;return f}return BI(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(e,n,i){e&&e.getState()==EI.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=EI.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),o=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,s,o,a,l,c,h,u){var d=Object(MI.a)(Math.round(n*t),Math.round(n*e));if(Object(FI.a)(d,u),0===l.length)return d.canvas;function f(t){return Math.round(t*n)/n}d.scale(n,n),d.globalCompositeOperation="lighter";var p=Object(RI.j)();l.forEach((function(t,e,n){Object(RI.q)(p,t.extent)}));var g=Object(RI.E)(p),m=Object(RI.A)(p),_=Object(MI.a)(Math.round(n*g/i),Math.round(n*m/i));Object(FI.a)(_,u);var v=n/i;l.forEach((function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),s=Object(RI.E)(t.extent),o=Object(RI.A)(t.extent);t.image.width>0&&t.image.height>0&&_.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,i*v,r*v,s*v,o*v)}));var y=Object(RI.C)(o);return a.getTriangles().forEach((function(t,e,r){var o=t.source,a=t.target,l=o[0][0],c=o[0][1],h=o[1][0],g=o[1][1],m=o[2][0],v=o[2][1],b=f((a[0][0]-y[0])/s),w=f(-(a[0][1]-y[1])/s),x=f((a[1][0]-y[0])/s),C=f(-(a[1][1]-y[1])/s),O=f((a[2][0]-y[0])/s),S=f(-(a[2][1]-y[1])/s),k=l,E=c;l=0,c=0;var M=[[h-=k,g-=E,0,0,x-b],[m-=k,v-=E,0,0,O-b],[0,0,h,g,C-w],[0,0,m,v,S-w]],T=Object(DI.f)(M);if(T){if(d.save(),d.beginPath(),function(){if(void 0===yI){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",NI(t,4,5,4,0),NI(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;yI=jI(e,0)||jI(e,4)||jI(e,8)}return yI}()||u===OI){d.moveTo(x,C);for(var A=b-x,P=w-C,R=0;R<4;R++)d.lineTo(x+f((R+1)*A/4),C+f(R*P/3)),3!=R&&d.lineTo(x+f((R+1)*A/4),C+f((R+1)*P/3));d.lineTo(O,S)}else d.moveTo(x,C),d.lineTo(b,w),d.lineTo(O,S);d.clip(),d.transform(T[0],T[2],T[1],T[3],b,w),d.translate(p[0]-k,p[3]-E),d.scale(i/n,-i/n),d.drawImage(_.canvas,0,0),d.restore()}})),h&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach((function(t,e,n){var i=t.target,r=(i[0][0]-y[0])/s,o=-(i[0][1]-y[1])/s,a=(i[1][0]-y[0])/s,l=-(i[1][1]-y[1])/s,c=(i[2][0]-y[0])/s,h=-(i[2][1]-y[1])/s;d.beginPath(),d.moveTo(a,l),d.lineTo(r,o),d.lineTo(c,h),d.closePath(),d.stroke()})),d.restore()),d.canvas}(i,r,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),s,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=EI.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==EI.a.IDLE){this.state=EI.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,i){var r=e.getState();if(r==EI.a.IDLE||r==EI.a.LOADING){t++;var s=Object(VI.a)(e,SI.a.CHANGE,(function(n){var i=e.getState();i!=EI.a.LOADED&&i!=EI.a.ERROR&&i!=EI.a.EMPTY||(Object(VI.c)(s),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}).bind(this)),this.sourceTiles_.forEach((function(t,e,n){t.getState()==EI.a.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(VI.c),this.sourcesListenerKeys_=null},e}(kI.a),UI=n("ynjL"),GI=n("CJup"),WI=n("F52n"),YI=n("dMtP"),qI=n("lRKV"),XI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function $I(t,e){t.getImage().src=e}var KI=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:$I,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:PI,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?OI:void 0,n.renderReprojectionEdges_=!1,n}return XI(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Object(II.c)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Object(II.c)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Object(II.c)(e,t)){var n=Object(qI.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Object(YI.d)(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Object(II.c)(e,t))return this.tileCache;var n=Object(qI.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new UI.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,s){var o=[t,e,n],a=this.getTileCoordForTileUrlFunction(o,r),l=a?this.tileUrlFunction(a,i,r):void 0,c=new this.tileClass(o,void 0!==l?EI.a.IDLE:EI.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=s,c.addEventListener(SI.a.CHANGE,this.handleTileChange.bind(this)),c},e.prototype.getTile=function(t,e,n,i,r){var s=this.getProjection();if(s&&r&&!Object(II.c)(s,r)){var o=this.getTileCacheForProjection(r),a=[t,e,n],l=void 0,c=Object(WI.c)(a);o.containsKey(c)&&(l=o.get(c));var h=this.getKey();if(l&&l.key==h)return l;var u=this.getTileGridForProjection(s),d=this.getTileGridForProjection(r),f=this.getTileCoordForTileUrlFunction(a,r),p=new HI(s,u,r,d,a,f,this.getTilePixelRatio(i),this.getGutter(),(function(t,e,n,i){return this.getTileInternal(t,e,n,i,s)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return p.key=h,l?(p.interimTile=l,p.refreshInterimChain(),o.replace(c,p)):o.set(c,p),p}return this.getTileInternal(t,e,n,i,s||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var s=null,o=Object(WI.d)(t,e,n),a=this.getKey();if(this.tileCache.containsKey(o)){if((s=this.tileCache.get(o)).key!=a){var l=s;(s=this.createTile_(t,e,n,i,r,a)).interimTile=l.getState()==EI.a.IDLE?l.interimTile:l,s.refreshInterimChain(),this.tileCache.replace(o,s)}}else s=this.createTile_(t,e,n,i,r,a),this.tileCache.set(o,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Object(II.g)(t);if(n){var i=Object(qI.c)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(GI.a);function ZI(t,e){var n=[];Object.keys(e).forEach((function(t){null!=e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));var i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}var QI=n("SHzd"),JI=n("yAfB"),tD=n("ENBV"),eD=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nD=function(t){function e(e){var n=this,i=e||{},r=i.params||{};return(n=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:!(!("TRANSPARENT"in r)||r.TRANSPARENT),projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition})||this).gutter_=void 0!==i.gutter?i.gutter:0,n.params_=r,n.v13_=!0,n.serverType_=i.serverType,n.hidpi_=void 0===i.hidpi||i.hidpi,n.tmpExtent_=Object(RI.j)(),n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return eD(e,t),e.prototype.getFeatureInfoUrl=function(t,e,n,i){var r=Object(II.g)(n),s=this.getProjection(),o=this.getTileGrid();o||(o=this.getTileGridForProjection(r));var a=o.getZForResolution(e,this.zDirection),l=o.getTileCoordForCoordAndZ(t,a);if(!(o.getResolutions().length<=l[0])){var c=o.getResolution(l[0]),h=o.getTileCoordExtent(l,this.tmpExtent_),u=Object(JI.d)(o.getTileSize(l[0]),this.tmpSize),d=this.gutter_;0!==d&&(u=Object(JI.a)(u,d,this.tmpSize),h=Object(RI.c)(h,c*d,h)),s&&s!==r&&(c=zI(s,r,t,c),h=Object(II.p)(h,r,s),t=Object(II.o)(t,r,s));var f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(FI.a)(f,this.params_,i);var p=Math.floor((t[0]-h[0])/c),g=Math.floor((h[3]-t[1])/c);return f[this.v13_?"I":"X"]=p,f[this.v13_?"J":"Y"]=g,this.getRequestUrl_(l,u,h,1,s||r,f)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var n={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(Array.isArray(i)&&1!==i.length)return;n.LAYER=i}if(void 0!==t){var r=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*r/28e-5}return Object(FI.a)(n,e),ZI(this.urls[0],n)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,i,r,s){var o=this.urls;if(o){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(s.STYLES=""),1!=i)switch(this.serverType_){case"geoserver":var a=90*i+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+a:s.FORMAT_OPTIONS="dpi:"+a;break;case"mapserver":s.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":s.DPI=90*i;break;default:Object(QI.a)(!1,52)}var l=r.getAxisOrientation(),c=n;if(this.v13_&&"ne"==l.substr(0,2)){var h=void 0;h=n[0],c[0]=n[1],c[1]=h,h=n[2],c[2]=n[3],c[3]=h}return s.BBOX=c.join(","),ZI(1==o.length?o[0]:o[Object(DI.e)(Object(WI.e)(t),o.length)],s)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.updateParams=function(t){Object(FI.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||"1.3.0";this.v13_=Object(tD.a)(t,"1.3")>=0},e.prototype.tileUrlFunction=function(t,e,n){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),!(i.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var r=i.getResolution(t[0]),s=i.getTileCoordExtent(t,this.tmpExtent_),o=Object(JI.d)(i.getTileSize(t[0]),this.tmpSize),a=this.gutter_;0!==a&&(o=Object(JI.a)(o,a,this.tmpSize),s=Object(RI.c)(s,r*a,s)),1!=e&&(o=Object(JI.c)(o,e,this.tmpSize));var l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(FI.a)(l,this.params_),this.getRequestUrl_(t,o,s,e,n,l)}},e}(KI),iD=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rD=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:Object(YI.b)({extent:Object(YI.c)(i),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return iD(e,t),e}(KI),sD=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oD=function(t){function e(e){var n=e||{};return t.call(this,{attributions:void 0!==n.attributions?n.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:void 0!==n.crossOrigin?n.crossOrigin:"anonymous",imageSmoothing:n.imageSmoothing,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:n.wrapX})||this}return sD(e,t),e}(rD),aD=n("tUlR");new wI.a({title:"Light",type:"base",visible:!0,source:new rD({url:"https://{1-4}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attributions:'\xa9 <a href="https://carto.com">CARTO</a>'})}),new wI.a({title:"Dark",type:"base",visible:!1,source:new rD({attributions:'\xa9 <a href="https://carto.com">CARTO</a>',url:"https://{a-c}.basemaps.cartocdn.com/rastertiles/spotify_dark/{z}/{x}/{y}@2x.png"})}),new wI.a({title:"World - WGS84",type:"base",visible:!1,source:new nD({url:"https://ahocevar.com/geoserver/wms",crossOrigin:"",params:{LAYERS:"ne:NE1_HR_LC_SR_W_DR",TILED:!0},projection:"EPSG:4326"})}),new xI.a({title:"ESRI - Vector Tiles",type:"base",visible:!1,source:new CI.a({format:new bI.a,attributions:'Tiles \xa9 <a href="https://www.arcgis.com/home/item.html?id=7dc6cea0b1764a1f9af2e679f642f0f5">ArcGIS</a>',url:"https://basemaps.arcgis.com/arcgis/rest/services/World_Basemap_v2/VectorTileServer/tile/{z}/{y}/{x}.pbf"})});const lD=new wI.a({title:"Satellite",type:"base",visible:!1,source:new rD({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),cD=new wI.a({title:"Light",type:"base",visible:!0,source:new rD({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer">ArcGIS</a>',url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}"})}),hD=new wI.a({title:"Dark",type:"base",visible:!1,source:new rD({attributions:'Tiles \xa9 <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',url:"https://fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}"})}),uD=(new wI.a({title:"OSM",type:"base",visible:!1,source:new oD}),new aD.a({title:"Base Layers",visible:!0,layers:[cD,hD,lD]}));let dD=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-root"]],decls:1,vars:0,template:function(t,e){1&t&&Ho(0,"router-outlet")},directives:[OA],styles:[""]}),t})(),fD=(()=>{class t{constructor(t){this.maps=t,this.scientificnameSource=new jC(""),this.scientificname=this.scientificnameSource.asObservable(),this.speciesInfoSource=new jC(null),this.speciesInfo=this.speciesInfoSource.asObservable(),this.speciesDatasetSource=new jC(""),this.speciesDataset=this.speciesDatasetSource.asObservable(),this.speciesPreferencesSource=new jC(null),this.speciesPreferences=this.speciesPreferencesSource.asObservable()}updateScientificname(t){t&&(t=(t=t.replace("_"," ")).charAt(0).toUpperCase()+t.slice(1),this.maps.updateScientificname(t),this.scientificnameSource.next(t))}updateSpeciesPreferences(t){this.speciesPreferencesSource.next(t)}}return t.\u0275fac=function(e){return new(e||t)($t(QA))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pD=(()=>{class t{constructor(){this.btnColor="primary",this.url="",this.category="",this.citationShort="",this.catLong="",this.btnText="",this.catMap={LC:"Least Concern",DD:"Data Deficient",NE:"Not Evaluated",NT:"Near Threatened",VU:"Vulnerable",EN:"Endangered",CR:"Critically Endangered",EW:"Extinct in the Wild",EX:"Extinct"}}ngOnInit(){this.catLong=this.catMap[this.category],this.btnText=`${this.catLong} (${this.citationShort.replace(/\(|\)/g,"")})`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-iucn-link"]],inputs:{url:"url",category:"category",citationShort:"citationShort"},decls:3,vars:4,consts:[["target","_blank",3,"href"]],template:function(t,e){1&t&&(Vo(0,"div"),Vo(1,"a",0),Da(2),Bo(),Bo()),2&t&&(wa("infoIUCNStatus  "+e.category),Or(1),jo("href",e.url,ir),Or(1),Fa(" ",e.btnText," "))},styles:[".infoIUCNStatus[_ngcontent-%COMP%]{background-color:#000;color:#fff;margin-top:5px;padding:5px 5px 5px 10px!important;width:180px;font-size:.9em;border-radius:5px;text-decoration:none}.infoIUCNStatus.CR[_ngcontent-%COMP%], .infoIUCNStatus.Critically.Endangered[_ngcontent-%COMP%]{background-color:#ed3131}.infoIUCNStatus.EN[_ngcontent-%COMP%], .infoIUCNStatus.Endangered[_ngcontent-%COMP%]{background-color:#e8662a}.infoIUCNStatus.EW[_ngcontent-%COMP%], .infoIUCNStatus.EX[_ngcontent-%COMP%], .infoIUCNStatus.Extinct[_ngcontent-%COMP%], .infoIUCNStatus.Extinct.Wild[_ngcontent-%COMP%]{background-color:#000}.infoIUCNStatus.LC[_ngcontent-%COMP%], .infoIUCNStatus.Least.Concern[_ngcontent-%COMP%], .infoIUCNStatus.Near.Threatened[_ngcontent-%COMP%], .infoIUCNStatus.NT[_ngcontent-%COMP%]{background-color:#006866}.infoIUCNStatus.VU[_ngcontent-%COMP%], .infoIUCNStatus.Vulnerable[_ngcontent-%COMP%], .infoIUCNStatus.Vulnerable.Vulnerable.Vulnerable.Vulnerable[_ngcontent-%COMP%]{background-color:#dc9c27}.infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .infoIUCNStatus[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff;background-color:transparent;display:block}"]}),t})();function gD(t,e){if(1&t&&(Vo(0,"p"),Da(1),Bo()),2&t){const t=ta();Or(1),Fa(" ",t.data.images[t.data.selectedIndex].description," ")}}function mD(t,e){if(1&t&&(Vo(0,"div",14),Vo(1,"a",15),Da(2),Vo(3,"mat-icon"),Da(4,"copyright"),Bo(),Bo(),Bo()),2&t){const t=ta();Or(1),jo("href",t.data.images[t.data.selectedIndex].license,ir),Or(1),Fa(" ",t.data.images[t.data.selectedIndex].copyright," ")}}function _D(t,e){if(1&t&&(Vo(0,"div",14),Vo(1,"a",15),Da(2," No copyright holder found. Licence. "),Bo(),Bo()),2&t){const t=ta();Or(1),jo("href",t.data.images[t.data.selectedIndex].license,ir)}}const vD=function(t){return{vote:!0,voted:t}};let yD=(()=>{class t{constructor(t,e,n){this.data=t,this.species=e,this.snackbar=n}ngOnInit(){}mod(t,e){return(t%e+e)%e}rotate(t){this.data.selectedIndex=this.mod(this.data.selectedIndex+t,this.data.images.length)}vote(t){let e=t;const n=this.data.images[this.data.selectedIndex];n.vote&&t===n.vote&&(e=0),this.species.imagesVote(n.asset_id,e).subscribe(t=>{n.vote=e,this.snackbar.open("Vote successful.","close")},t=>{console.error(t),this.snackbar.open(t.error.message?t.error.message:"Error casting vote.","close")})}handleKeyboardEvent(t){"ArrowRight"===t.key&&this.rotate(1),"ArrowLeft"===t.key&&this.rotate(-1)}}return t.\u0275fac=function(e){return new(e||t)(Lo(pE),Lo(ZA),Lo(HR))},t.\u0275cmp=pe({type:t,selectors:[["mol-images-modal"]],hostBindings:function(t,e){1&t&&$o("keydown",(function(t){return e.handleKeyboardEvent(t)}),!1,qn)},decls:23,vars:10,consts:[[1,"content"],[1,"img-box"],[1,"image",3,"src"],["mat-button","",1,"prev",3,"click"],["mat-button","","cdkFocusInitial","",1,"next",3,"click"],[4,"ngIf"],[1,"image-rights"],["class","licence",4,"ngIf"],[1,"controls"],[1,"voting-controls"],["mat-icon-button",""],["aria-hidden","false","aria-label","vote up image",3,"ngClass","click"],["aria-hidden","false","aria-label","vote down image",3,"ngClass","click"],["mat-stroked-button","","mat-dialog-close","","matTooltipPosition","left","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup"],[1,"licence"],["target","_license",1,"copyright",3,"href"]],template:function(t,e){1&t&&(Vo(0,"mat-dialog-content",0),Vo(1,"div",1),Ho(2,"img",2),Vo(3,"button",3),$o("click",(function(){return e.rotate(-1)})),Vo(4,"mat-icon"),Da(5,"navigate_before"),Bo(),Bo(),Vo(6,"button",4),$o("click",(function(){return e.rotate(1)})),Vo(7,"mat-icon"),Da(8,"navigate_next"),Bo(),Bo(),Bo(),Io(9,gD,2,1,"p",5),Vo(10,"div",6),Io(11,mD,5,2,"div",7),Io(12,_D,3,1,"div",7),Bo(),Bo(),Vo(13,"div",8),Vo(14,"div",9),Vo(15,"button",10),Vo(16,"mat-icon",11),$o("click",(function(){return e.vote(1)})),Da(17,"thumb_up"),Bo(),Bo(),Vo(18,"button",10),Vo(19,"mat-icon",12),$o("click",(function(){return e.vote(-1)})),Da(20,"thumb_down"),Bo(),Bo(),Bo(),Vo(21,"button",13),Da(22," Close "),Bo(),Bo()),2&t&&(Or(2),jo("src",e.data.images[e.data.selectedIndex].asset_url,ir),Or(7),jo("ngIf",e.data.images[e.data.selectedIndex].description),Or(2),jo("ngIf",e.data.images[e.data.selectedIndex].copyright),Or(1),jo("ngIf",!e.data.images[e.data.selectedIndex].copyright),Or(4),jo("ngClass",Jl(6,vD,1===e.data.images[e.data.selectedIndex].vote)),Or(3),jo("ngClass",Jl(8,vD,-1===e.data.images[e.data.selectedIndex].vote)))},directives:[xE,Ub,eC,hu,ou,bE,tS],styles:[".copyright[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{font-size:1em;color:#000}.img-box[_ngcontent-%COMP%]{position:relative}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{position:absolute;background-color:#fff;top:calc(100% / 2);max-width:30px;background-color:hsla(0,0%,100%,.5);padding:0}.next[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{opacity:1}.prev[_ngcontent-%COMP%]{left:0;border-radius:0 5px 5px 0}.next[_ngcontent-%COMP%]{border-radius:5px 0 0 5px;right:0}.controls[_ngcontent-%COMP%], .image-rights[_ngcontent-%COMP%]{flex-direction:row;display:flex;justify-content:space-between;color:#000!important;font-size:1em}.image-rights[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;background-color:unset}.voted[_ngcontent-%COMP%]{color:#37f}@media screen and (max-device-width:360px){.image[_ngcontent-%COMP%]{width:calc(100vw - 50%)}}@media screen and (min-device-width:361px) and (max-device-width:480px){.image[_ngcontent-%COMP%]{width:calc(100vw - 47%)}}"]}),t})();function bD(t,e){if(1&t){const t=Yo();Vo(0,"img",4),$o("click",(function(){Qe(t);const e=ta();return e.openModal(e.selected)})),Bo()}if(2&t){const t=ta();jo("src",t.selected.asset_url+"=s"+t.size+"-c",ir)}}function wD(t,e){if(1&t&&(Vo(0,"div",5),Vo(1,"a",6),Vo(2,"mat-icon"),Da(3,"copyright"),Bo(),Da(4),Bo(),Bo()),2&t){const t=ta();Or(1),jo("href",t.selected.license,ir),Or(3),La(t.selected.copyright)}}const xD=function(t){return{vote:!0,voted:t}};function CD(t,e){if(1&t){const t=Yo();Vo(0,"div",7),Vo(1,"div",8),Vo(2,"mat-icon",9),$o("click",(function(){return Qe(t),ta().rotate(-1)})),Da(3,"chevron_left"),Bo(),Vo(4,"mat-icon",10),$o("click",(function(){return Qe(t),ta().rotate(1)})),Da(5,"chevron_right"),Bo(),Bo(),Vo(6,"div",11),Vo(7,"mat-icon",12),$o("click",(function(){return Qe(t),ta().vote(-1)})),Da(8,"thumb_down"),Bo(),Vo(9,"mat-icon",13),$o("click",(function(){return Qe(t),ta().vote(1)})),Da(10,"thumb_up"),Bo(),Bo(),Bo()}if(2&t){const t=ta();Or(7),jo("ngClass",Jl(2,xD,-1===t.selected.vote)),Or(2),jo("ngClass",Jl(4,xD,1===t.selected.vote))}}let OD=(()=>{class t{constructor(t,e,n,i){this.speciesService=t,this.dialog=e,this.auth=n,this.snackbar=i,this.scientificname="",this.size=160,this.showControls=!1,this.images=[],this.selectedIndex=0,this.selected={asset_id:"",asset_url:"",description:"",license:"",copyright:""}}ngOnChanges(t){this.scientificname&&this.refreshImages()}refreshImages(){this.speciesService.images(this.scientificname).subscribe(t=>{const e=t[0];e&&(this.images=e.images,this.images&&(this.selected=this.images[this.selectedIndex]))})}ngOnInit(){}openModal(t){this.dialog.open(yD,{data:{selectedIndex:this.selectedIndex,images:this.images}})}mod(t,e){return(t%e+e)%e}rotate(t){this.selectedIndex+=t,this.selectedIndex=this.mod(this.selectedIndex,this.images.length),this.selected=this.images[this.selectedIndex]}vote(t){let e=t;this.selected.vote&&t===this.selected.vote&&(e=0),this.speciesService.imagesVote(this.selected.asset_id,e).subscribe(t=>{this.selected.vote=e,this.snackbar.open("Vote successful.","close")},t=>{this.snackbar.open(t.error.message?t.error.message:"Error casting vote.","close")})}style(){return{width:this.size?this.size+"px":"100%",height:this.size?this.size+"px":"100%",minWidth:"80px",maxWidth:"320px"}}}return t.\u0275fac=function(e){return new(e||t)(Lo(ZA),Lo(vE),Lo(JA),Lo(HR))},t.\u0275cmp=pe({type:t,selectors:[["mol-images"]],inputs:{scientificname:"scientificname",size:"size"},features:[Xa],decls:4,vars:5,consts:[[1,"species-images",3,"mouseover","mouseleave"],["class","spp-img",3,"src","click",4,"ngIf"],["class","image-rights",4,"ngIf"],["class","image-controls",4,"ngIf"],[1,"spp-img",3,"src","click"],[1,"image-rights"],["target","_license",1,"copyright",3,"href"],[1,"image-controls"],[1,"controls"],["aria-hidden","false","aria-label","previous image",1,"scroller",3,"click"],["aria-hidden","false","aria-label","next image",1,"scroller",3,"click"],[1,"voting"],["aria-hidden","false","aria-label","vote down image",3,"ngClass","click"],["aria-hidden","false","aria-label","vote up image",3,"ngClass","click"]],template:function(t,e){1&t&&(Vo(0,"div",0),$o("mouseover",(function(){return e.showControls=!0,!1}))("mouseleave",(function(){return e.showControls=!1,!1})),Io(1,bD,1,1,"img",1),Io(2,wD,5,2,"div",2),Io(3,CD,11,6,"div",3),Bo()),2&t&&(Oa(Ta,ba,e.style(),!1),Or(1),jo("ngIf",e.selected.asset_url),Or(1),jo("ngIf",e.showControls&&e.selected.copyright),Or(1),jo("ngIf",e.showControls))},directives:[hu,eC,ou],styles:[".species-images[_ngcontent-%COMP%]{display:inline-block;position:relative;border:1pt solid grey;border-radius:5pt;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:10px}.species-images[_ngcontent-%COMP%]   .image-controls[_ngcontent-%COMP%]{color:#d3d3d3;position:absolute;display:flex;justify-content:space-between;bottom:0;width:100%;background-color:rgba(0,0,0,.5);padding:5px}.controls[_ngcontent-%COMP%], .voting[_ngcontent-%COMP%]{margin-right:10px}.species-images[_ngcontent-%COMP%]   .image-rights[_ngcontent-%COMP%]{position:absolute;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:8pt;color:#d3d3d3;top:0;width:100%;background-color:rgba(0,0,0,.5);padding:5px}.copyright[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{height:8px;width:12px;font-size:8pt}.species-images[_ngcontent-%COMP%]   .image-rights[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#d3d3d3;max-height:1em;font-size:1em}.species-images[_ngcontent-%COMP%]   .voted[_ngcontent-%COMP%]{color:#37f}.species-images[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%], .species-images[_ngcontent-%COMP%]   .vote[_ngcontent-%COMP%]{padding:1pt;cursor:pointer}.species-images[_ngcontent-%COMP%]   .vote[_ngcontent-%COMP%]{float:right}.species-images[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-device-width:480px){.species-images[_ngcontent-%COMP%]{width:126px}}"]}),t})();function SD(t,e){if(1&t&&Ho(0,"mol-iucn-link",11),2&t){const t=ta(2);jo("url",t.speciesInfo.redlist_link)("citationShort",t.speciesInfo.redlist_citation_short)("category",t.speciesInfo.redlist)}}function kD(t,e){1&t&&Ho(0,"mol-images",12),2&t&&jo("scientificname",ta(2).scientificname)}function ED(t,e){if(1&t&&(Vo(0,"a",17),Da(1),Bo()),2&t){const t=ta(2).$implicit;jo("href",ta(3).wikiUrl,ir),Or(1),La(t.source)}}function MD(t,e){if(1&t&&(Vo(0,"div",15),Vo(1,"strong"),Da(2),sc(3,"translate"),Bo(),Io(4,ED,2,2,"a",16),Bo()),2&t){const t=ta().$implicit;Or(2),Fa("",oc(3,2,"source"),": "),Or(2),jo("ngIf","Wikipedia"===t.source)}}function TD(t,e){if(1&t&&(Vo(0,"div"),Vo(1,"p"),Da(2),Bo(),Io(3,MD,5,4,"div",14),Bo()),2&t){const t=e.$implicit;Or(2),La(t.content),Or(1),jo("ngIf",t.source)}}function AD(t,e){if(1&t&&(Vo(0,"mat-card-content"),Io(1,TD,4,2,"div",13),Bo()),2&t){const t=ta(2);Or(1),jo("ngForOf",t.wikiInfo)}}function PD(t,e){if(1&t&&(Vo(0,"mat-card",2),Vo(1,"mat-card-header",3),Vo(2,"mat-card-title",4),Da(3),Bo(),Vo(4,"mat-card-subtitle",5),Vo(5,"i"),Da(6),Bo(),Bo(),Vo(7,"mat-card-subtitle",6),Ho(8,"div",7),Da(9),Bo(),Vo(10,"mat-card-subtitle"),Io(11,SD,1,3,"mol-iucn-link",8),Bo(),Io(12,kD,1,1,"mol-images",9),Bo(),Io(13,AD,2,1,"mat-card-content",10),Bo()),2&t){const t=ta();Or(3),La(t.speciesInfo.commonname),Or(3),La(t.speciesInfo.scientificname),Or(2),jo("ngStyle",t.iconUrl),Or(1),Na(" ",t.familyString?"|":""," ",t.familyString," "),Or(2),jo("ngIf",t.speciesInfo.redlist_link),Or(1),jo("ngIf",t.speciesInfo.image),Or(1),jo("ngIf",t.wiki)}}function RD(t,e){1&t&&(Vo(0,"div",18),Vo(1,"h2"),Da(2),sc(3,"translate"),Bo(),Bo()),2&t&&(Or(2),La(oc(3,1,"no_species_available")))}let ID=(()=>{class t{constructor(t,e){this.speciesService=t,this.translationService=e,this.scientificname="",this.wiki=!0,this.speciesInfo=null,this.speciesInfoUpdated=new hc,this.lang="",this.familyString="",this.wikiUrl="",this.wikiInfo=[],this.iconUrl={},this.missing=!1}ngOnInit(){this.speciesInfo&&this.updateInfo(this.speciesInfo),this.translationService.lang.subscribe(t=>{this.lang=t,this.refreshInfo()})}ngOnChanges(t){t.scientificname.currentValue!==t.scientificname.previousValue&&this.refreshInfo()}refreshInfo(){this.speciesService.getInfo(this.scientificname).subscribe(t=>{this.speciesInfo=t,this.updateInfo(t)})}updateInfo(t){if(t){const e=this.speciesInfo.family.find(t=>t.name);this.familyString=e?e.name:"",this.wikiUrl=`https://${this.lang}.wikipedia.org/wiki/${this.speciesInfo.scientificname.replace(" ","_")}`,this.wikiInfo=t.info&&t.info.length>0?[t.info.find(t=>t.lang===this.lang)||t.info[0]]:[{content:"No information for this species."}],this.iconUrl={"background-size":"cover","background-image":`url('https://mol.org/static/img/groups/taxa_${this.speciesInfo.taxa}.png')`},this.missing=!1,this.speciesInfoUpdated.emit(this.speciesInfo)}else this.missing=!0}}return t.\u0275fac=function(e){return new(e||t)(Lo(ZA),Lo(qA))},t.\u0275cmp=pe({type:t,selectors:[["mol-species-info"]],inputs:{scientificname:"scientificname",wiki:"wiki",speciesInfo:"speciesInfo"},outputs:{speciesInfoUpdated:"speciesInfoUpdated"},features:[Xa],decls:2,vars:2,consts:[["class","species-card",4,"ngIf"],["class","missing",4,"ngIf"],[1,"species-card"],[1,"header"],[1,"info-common-name"],[1,"info-sciname"],[1,"info-family"],["mat-card-avatar","",1,"taxa-icon",3,"ngStyle"],[3,"url","citationShort","category",4,"ngIf"],["class","spp-icon-image","size","130",3,"scientificname",4,"ngIf"],[4,"ngIf"],[3,"url","citationShort","category"],["size","130",1,"spp-icon-image",3,"scientificname"],[4,"ngFor","ngForOf"],["class","info-source",4,"ngIf"],[1,"info-source"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"missing"]],template:function(t,e){1&t&&(Io(0,PD,14,8,"mat-card",0),Io(1,RD,4,3,"div",1)),2&t&&(jo("ngIf",e.speciesInfo),Or(1),jo("ngIf",e.missing))},directives:[hu,uC,dC,lC,cC,hC,_u,pD,OD,aC,lu],pipes:[dm],styles:[".spp-icon-image[_ngcontent-%COMP%]{margin-left:auto}.taxa-icon[_ngcontent-%COMP%]{height:25px;width:25px;-o-object-fit:cover;object-fit:cover;display:inline-block;vertical-align:middle}.info-sciname[_ngcontent-%COMP%]{font-size:1.2em}.info-source[_ngcontent-%COMP%]{text-align:right}.info-family[_ngcontent-%COMP%]{color:#000;font-size:1.1em;font-weight:400}.species-card[_ngcontent-%COMP%]{color:#000}.missing[_ngcontent-%COMP%]{text-align:center;padding-top:50px}@media screen and (max-device-width:360px){  .mat-card-header-text{margin:0!important}.species-card[_ngcontent-%COMP%]{width:91%}}"]}),t})(),DD=(()=>{class t{constructor(t,e){this.state=t,this.mapService=e,this.scientificname="",this.speciesChangeSubscription=null}ngOnInit(){this.speciesChangeSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t})}ngOnDestroy(){this.speciesChangeSubscription.unsubscribe(),this.mapService.updateTileUrl("OFF")}ngAfterViewInit(){}updateTileUrl(){this.mapService.updateTileUrl(`${IE}/tiles/species/consensus/{proj}/{z}/{x}/{y}.png?scientificname=${this.scientificname}`)}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds),this.updateTileUrl()}}return t.\u0275fac=function(e){return new(e||t)(Lo(fD),Lo(QA))},t.\u0275cmp=pe({type:t,selectors:[["mol-species"]],decls:1,vars:2,consts:[[3,"scientificname","wiki","speciesInfoUpdated"]],template:function(t,e){1&t&&(Vo(0,"mol-species-info",0),$o("speciesInfoUpdated",(function(t){return e.speciesInfoUpdated(t)})),Bo()),2&t&&jo("scientificname",e.scientificname)("wiki",!0)},directives:[ID],styles:[""]}),t})();function LD(t,e){1&t&&(Vo(0,"mat-label",5),Da(1),sc(2,"translate"),Bo()),2&t&&(Or(1),La(oc(2,1,"all_groups")))}function FD(t,e){1&t&&(Vo(0,"mat-option",6),Da(1),sc(2,"translate"),Bo()),2&t&&(Or(1),Fa(" ",oc(2,1,"all_groups"),""))}function ND(t,e){if(1&t&&(Vo(0,"mat-option",10),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t.taxa),Or(1),Fa(" ",t.title," ")}}function jD(t,e){if(1&t&&(Vo(0,"mat-optgroup",8),Io(1,ND,2,2,"mat-option",9),Bo()),2&t){const t=e.$implicit;jo("label",t.name),Or(1),jo("ngForOf",t.taxa)}}function zD(t,e){if(1&t&&(Uo(0),Io(1,jD,2,2,"mat-optgroup",7),Go()),2&t){const t=ta();Or(1),jo("ngForOf",t.taxaGroups)}}function VD(t,e){if(1&t&&(Vo(0,"mat-option",10),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t.taxa),Or(1),Fa(" ",t.title," ")}}function BD(t,e){if(1&t&&(Vo(0,"mat-optgroup",8),Io(1,VD,2,2,"mat-option",9),Bo()),2&t){const t=e.$implicit;jo("label",t.name),Or(1),jo("ngForOf",t.taxa)}}function HD(t,e){if(1&t&&(Uo(0),Io(1,BD,2,2,"mat-optgroup",7),Go()),2&t){const t=ta();Or(1),jo("ngForOf",t.overwriteTaxa)}}const UD=function(t){return{"in-nav2":t}},GD={description:"",title:"All",taxa:"",tc_id:null,sortby:100,groupby_sortby:0,groupby:"all",icon:""};let WD=(()=>{class t{constructor(t){this.speciesService=t,this.showLabel=!0,this.taxaControl=new R_,this.chosen=new hc,this.nav=!1,this.selected="",this.mode="",this.version="",this.allOption=!0,this.overwriteTaxa=null}ngOnInit(){this.fetchTaxa(),this.taxaControl.valueChanges.subscribe(t=>{this.showLabel=!1,this.chosen.emit(""===t?GD:this.taxa.find(e=>e.taxa===t))})}ngOnChanges(t){t.version&&""!=this.version&&this.fetchTaxa()}fetchTaxa(){this.speciesService.availableTaxa(this.mode,this.version).subscribe(t=>{this.taxa=t;const e={};t.forEach(t=>{e[t.groupby]?e[t.groupby].taxa.push(t):e[t.groupby]={name:t.groupby,groupby_sortby:t.groupby_sortby,taxa:[t]}}),this.taxaGroups=Object.keys(e).map(t=>e[t]).sort((t,e)=>t.groupby_sortby-e.groupby_sortby),this.selected&&this.taxaControl.setValue(this.selected)})}}return t.\u0275fac=function(e){return new(e||t)(Lo(ZA))},t.\u0275cmp=pe({type:t,selectors:[["mol-availabletaxa-dropdown"]],inputs:{nav:"nav",selected:"selected",mode:"mode",version:"version",allOption:"allOption",overwriteTaxa:"overwriteTaxa"},outputs:{chosen:"chosen"},features:[Xa],decls:6,vars:9,consts:[["appearance","none","floatLabel","never",1,"taxa-drop"],["class","drop-label",4,"ngIf"],[3,"formControl"],["translate","","value","",4,"ngIf"],[4,"ngIf"],[1,"drop-label"],["translate","","value",""],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(Vo(0,"mat-form-field",0),Io(1,LD,3,3,"mat-label",1),Vo(2,"mat-select",2),Io(3,FD,3,3,"mat-option",3),Io(4,zD,2,1,"ng-container",4),Io(5,HD,2,1,"ng-container",4),Bo(),Bo()),2&t&&(Or(1),jo("ngIf",e.nav&&e.showLabel&&e.allOption),Or(1),wa(Jl(7,UD,e.nav)),jo("formControl",e.taxaControl),Or(1),jo("ngIf",e.allOption),Or(1),jo("ngIf",!e.overwriteTaxa),Or(1),jo("ngIf",e.overwriteTaxa))},directives:[fx,hu,Ix,Um,X_,rx,ub,um,lu,ob],pipes:[dm],styles:[".taxa-drop[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row-reverse;padding-right:10px}.mat-select[_ngcontent-%COMP%]{min-width:100%}  .mat-form-field-infix,   .mat-form-field-wrapper{width:200px}  .mat-select-value{line-height:20px;padding-top:3px;vertical-align:middle}  .mat-form-field{line-height:20px}.in-nav2[_ngcontent-%COMP%]{border:1px solid #aaa;border-radius:5px;display:inline;background-color:#fff;padding:1px 3px 8px;vertical-align:middle;margin-left:-5px;min-width:100%}.in-nav2[_ngcontent-%COMP%]     mat-label{padding-top:5px}.drop-label[_ngcontent-%COMP%]{display:block;margin-top:3px}  .mat-select-arrow-wrapper{margin-top:3px;display:inline-block!important}"]}),t})();function YD(t,e){if(1&t){const t=Yo();Vo(0,"mat-option",7),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().go(n)})),Vo(1,"div",8),Ho(2,"img",9),Vo(3,"div",10),Vo(4,"div"),Vo(5,"strong"),Da(6),Bo(),Bo(),Vo(7,"i"),Da(8),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit;jo("value",t.scientificname),Or(2),jo("src","https://mol.org/static/img/groups/taxa_"+t.taxa+".png",ir),Or(4),Fa("",t.vernacular," "),Or(2),La(t.scientificname)}}const qD=function(t){return{"search-form":!0,"in-nav":t}},XD=function(){return{"taxa-drop":!0,"in-nav2":!0}},$D=function(t){return{search:!0,"in-nav":t}};let KD=(()=>{class t{constructor(t,e){this.speciesService=t,this.router=e,this.chosenSpecies=new hc,this.chosenTaxa=new hc,this.results=new hc,this.nav=!0,this.spinner=!1,this.searchControl=new R_,this.taxa=null,this._results=[],this.chosen=null,this.isMobile=!1,this.isMobile=window.innerWidth<=480}ngOnInit(){this.searchControl.valueChanges.pipe(bm(200),Dp(t=>(t=t.trim(),Boolean(t))),Hg(t=>this.speciesService.search(t,this.taxa?this.taxa.taxa:""))).subscribe(t=>{this._results=t,this.results.emit(this._results)})}go(t){return this.chosen=t,this.chosenSpecies.emit(this.chosen),""}setTaxa(t){this.taxa=t,this.chosenTaxa.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(ZA),Lo(_A))},t.\u0275cmp=pe({type:t,selectors:[["mol-search"]],inputs:{nav:"nav",spinner:"spinner"},outputs:{chosenSpecies:"chosenSpecies",chosenTaxa:"chosenTaxa",results:"results"},decls:9,vars:19,consts:[["search",""],[3,"nav","chosen"],["appearance","none"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],[1,"search-results",3,"panelWidth"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"mat-option-text-sub"],["err-src","https://mol.org/static/img/groups/taxa_all.png",3,"src"],[1,"name"]],template:function(t,e){if(1&t&&(Vo(0,"div",null,0),Vo(2,"mol-availabletaxa-dropdown",1),$o("chosen",(function(t){return e.setTaxa(t)})),Bo(),Vo(3,"div",2),Ho(4,"input",3),sc(5,"translate"),Vo(6,"mat-autocomplete",4,5),Io(8,YD,9,4,"mat-option",6),Bo(),Bo(),Bo()),2&t){const t=Do(7);wa(Jl(14,qD,e.nav)),Or(2),wa(Ql(16,XD)),jo("nav",!0),Or(1),wa(Jl(17,$D,e.nav)),Or(1),jo("placeholder",oc(5,12,"search_species"))("formControl",e.searchControl)("matAutocomplete",t),Or(2),jo("panelWidth",300),Or(2),jo("ngForOf",e._results)}},directives:[WD,IP,Nm,CP,Um,X_,yP,lu,ub],pipes:[dm],styles:[".search-form[_ngcontent-%COMP%]{display:inline-flex;align-items:center;text-align:left;padding-right:10px}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;padding:3px 5px;max-width:240px;font-size:1.1em;border-radius:5px;border:1px solid #aaa}.search.in-nav[_ngcontent-%COMP%], .search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.search[_ngcontent-%COMP%]{padding:0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;max-width:500px}.mat-option[_ngcontent-%COMP%]{line-height:20px;height:50px}.mat-option[_ngcontent-%COMP%]   .mat-option-text-sub[_ngcontent-%COMP%]{display:inline-flex}.mat-option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block}.mat-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;padding-right:5px;vertical-align:middle}@media only screen and (min-device-width:320px) and (max-device-width:480px){.search.in-nav[_ngcontent-%COMP%]{width:auto}.search.in-nav[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:250px}.search-form.in-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:20px;padding-left:20px;align-items:center}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto;max-width:auto}}@media only screen and (min-device-width:320px) and (max-width:740px){.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:245px}}@media only screen and (max-width:490px){.search-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly}}"]}),t})();function ZD(t,e){1&t&&Ho(0,"mat-spinner",2),2&t&&jo("diameter",ta().diameter)}let QD=(()=>{class t{constructor(t){this.spinner=t,this.diameter=30,this.display=!1}ngOnInit(){this.spinner.activeRequests.subscribe(t=>{this.display=t>0})}}return t.\u0275fac=function(e){return new(e||t)(Lo(KA))},t.\u0275cmp=pe({type:t,selectors:[["mol-small-spinner"]],inputs:{diameter:"diameter"},decls:2,vars:1,consts:[[1,"small-spinner-container"],["class","small-spinner","color","accent",3,"diameter",4,"ngIf"],["color","accent",1,"small-spinner",3,"diameter"]],template:function(t,e){1&t&&(Vo(0,"div",0),Io(1,ZD,1,1,"mat-spinner",1),Bo()),2&t&&(Or(1),jo("ngIf",e.display))},directives:[hu,xC],styles:[".small-spinner-container[_ngcontent-%COMP%]{width:60px}.small-spinner[_ngcontent-%COMP%]{align-self:center;margin:15px}"]}),t})();function JD(t,e){if(1&t&&(Vo(0,"div",4),Ho(1,"img",5),Bo()),2&t){const t=ta();Or(1),jo("src",t.img,ir)("alt","Photo of a "+t.commonName)}}const tL=function(t,e){return[t,e]};let eL=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(Lo(cT))},t.\u0275cmp=pe({type:t,selectors:[["mol-species-card"]],inputs:{commonName:"commonName",scientificname:"scientificname",route:"route",img:"img"},decls:9,vars:7,consts:[[1,"species-card"],[3,"routerLink"],["class","spp-img-container",4,"ngIf"],[1,"content"],[1,"spp-img-container"],[3,"src","alt"]],template:function(t,e){1&t&&(Vo(0,"mat-card",0),Vo(1,"a",1),Io(2,JD,2,2,"div",2),Vo(3,"mat-card-content"),Vo(4,"div",3),Vo(5,"h4"),Da(6),Bo(),Vo(7,"em"),Da(8),Bo(),Bo(),Bo(),Bo(),Bo()),2&t&&(Or(1),jo("routerLink",tc(4,tL,e.route?e.route:"/",e.scientificname.replace(" ","_"))),Or(1),jo("ngIf",e.img),Or(4),La(e.commonName),Or(2),La(e.scientificname))},directives:[uC,yA,hu,aC],styles:[".spp-img-container[_ngcontent-%COMP%]{top:0;margin-top:-20px}.species-card[_ngcontent-%COMP%]{max-width:300px;height:250px;text-align:center;box-sizing:border-box;transition:all .1s cubic-bezier(.165,.84,.44,1);margin:0 10px;padding:0;display:inline-block;border:1px solid #aaa;box-shadow:none;box-shadow:0 2px 3px 0 rgba(0,0,0,.2),0 4px 4px 0 rgba(0,0,0,.14),0 5px 4px -4px rgba(0,0,0,.12)}.species-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .species-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{background-color:transparent}.species-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:transparent;color:#000;padding:0;margin:0;display:flex;flex-direction:column;align-items:middle;justify-content:center;height:90px;max-height:100%;vertical-align:middle}.species-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:170px;vertical-align:top}.species-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin:0;padding:0 3px 5px;line-height:1}.species-card[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin:0;font-weight:300}.species-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 7px 0 rgba(0,0,0,.2),0 4px 4px 0 rgba(0,0,0,.14),0 5px 4px -4px rgba(0,0,0,.12);transform:translate3d(0,-4px,0)}.species-card-pa[_ngcontent-%COMP%]{height:332px}.species-card-pa[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:0;max-height:152px;vertical-align:top}"]}),t})();function nL(t,e){if(1&t&&Ho(0,"mol-species-card",2),2&t){const t=e.$implicit;jo("commonName",t.commonName)("scientificname",t.scientificname)("route",t.route)("img",t.img)}}let iL=(()=>{class t{constructor(){this.species=[{commonName:"Von der decken's hornbill",scientificname:"Tockus deckeni",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Tockus_deckeni.jpg"},{commonName:"Red-crowned crane",scientificname:"Grus japonensis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Grus_japonensis.jpg"},{commonName:"Pebas stubfoot toad",scientificname:"Atelopus spumarius",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Atelopus_spumarius.jpg"},{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"},{commonName:"White-Throated Monitor",scientificname:"Varanus albigularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Varanus_albigularis.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Red-footed tortoise",scientificname:"Chelonoidis carbonaria",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Chelonoidis_carbonaria.jpg"}],this.isMobile=!1,this.isMobile=window.innerWidth<=480,console.log("sidebar: this.isMobile",this.isMobile)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-species-card-container"]],inputs:{species:"species"},decls:2,vars:1,consts:[[1,"species-card-container"],["class","species-card-wrapper",3,"commonName","scientificname","route","img",4,"ngFor","ngForOf"],[1,"species-card-wrapper",3,"commonName","scientificname","route","img"]],template:function(t,e){1&t&&(Vo(0,"div",0),Io(1,nL,1,4,"mol-species-card",1),Bo()),2&t&&(Or(1),jo("ngForOf",e.species))},directives:[lu,eL],styles:[".species-card-container[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;margin-top:.7em;flex-wrap:wrap}.species-card-container[_ngcontent-%COMP%]   .species-card-wrapper[_ngcontent-%COMP%]{max-width:25%;margin:15px 0;float:left;position:relative;min-height:1px;padding-bottom:10px}@media screen and (min-device-width:320px) and (max-device-width:480px){.species-card-container[_ngcontent-%COMP%]   .species-card-wrapper[_ngcontent-%COMP%]{max-width:100%;height:263px;margin:0 15%}}"]}),t})();const rL=function(t){return{scroll:!0,show:t}};let sL=(()=>{class t{constructor(){this.show=!1,this.show=window.scrollY>0}scroll(){window.scrollTo({top:0,behavior:"smooth"})}scrollEvent(t){this.show=window.scrollY>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-scroll-to-top"]],hostBindings:function(t,e){1&t&&$o("scroll",(function(t){return e.scrollEvent(t)}),!1,Yn)},decls:4,vars:4,consts:[["mat-mini-fab","","color","accent"],[3,"click"]],template:function(t,e){1&t&&(Vo(0,"div"),Vo(1,"button",0),Vo(2,"mat-icon",1),$o("click",(function(){return e.scroll()})),Da(3,"keyboard_arrow_up"),Bo(),Bo(),Bo()),2&t&&wa(Jl(2,rL,e.show))},directives:[Ub,eC],styles:[".mat-icon[_ngcontent-%COMP%]{color:#fff}.scroll[_ngcontent-%COMP%]{visibility:hidden;opacity:0;top:auto;right:10px;bottom:10px;left:auto;position:fixed;z-index:1000}.scroll[_ngcontent-%COMP%], .show[_ngcontent-%COMP%]{transition:visibility 0s linear 0s,opacity .3s}.show[_ngcontent-%COMP%]{visibility:visible;opacity:1}"]}),t})();function oL(t,e){1&t&&(Vo(0,"h2"),Da(1),sc(2,"translate"),Bo()),2&t&&(Or(1),La(oc(2,1,"search_species")))}function aL(t,e){1&t&&Ho(0,"mol-scroll-to-top")}let lL=(()=>{class t{constructor(t,e,n,i){this.router=t,this.speciesService=e,this.state=n,this.translate=i,this.isMobile=!1,this.taxa="",this.isMobile=window.innerWidth<=480}ngOnInit(){}goToMap(t){this.router.navigate([t.scientificname.replace(" ","_")])}randomSpecies(){this.speciesService.random(this.taxa).subscribe(t=>{this.goToMap(t)})}chosenTaxa(t){this.taxa=t.taxa}scroll(){window.scrollTo({top:0,behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)(Lo(_A),Lo(ZA),Lo(fD),Lo(qA))},t.\u0275cmp=pe({type:t,selectors:[["mol-landing"]],decls:15,vars:6,consts:[[1,"splash"],[4,"ngIf"],[1,"search"],[3,"spinner","chosenSpecies","chosenTaxa"],[1,"spinner"],[1,"random"],["mat-raised-button","","color","info",3,"click"],[1,"pickFavorites"]],template:function(t,e){1&t&&(Vo(0,"div",0),Io(1,oL,3,3,"h2",1),Vo(2,"div",2),Vo(3,"div"),Vo(4,"mol-search",3),$o("chosenSpecies",(function(t){return e.goToMap(t)}))("chosenTaxa",(function(t){return e.chosenTaxa(t)})),Bo(),Bo(),Vo(5,"div",4),Ho(6,"mol-small-spinner"),Bo(),Bo(),Vo(7,"div",5),Vo(8,"button",6),$o("click",(function(){return e.randomSpecies()})),Da(9," Pick a random species "),Bo(),Bo(),Vo(10,"h2",7),Da(11),sc(12,"translate"),Bo(),Ho(13,"mol-species-card-container"),Io(14,aL,1,0,"mol-scroll-to-top",1),Bo()),2&t&&(Or(1),jo("ngIf",!e.isMobile),Or(3),jo("spinner",!0),Or(7),La(oc(12,4,"pick_favourites")),Or(3),jo("ngIf",e.isMobile))},directives:[hu,KD,QD,Ub,iL,sL],pipes:[dm],styles:[".parent[_ngcontent-%COMP%]{display:flex;padding-top:30px;flex-direction:row;flex-wrap:wrap}.splash[_ngcontent-%COMP%]{margin:0 auto;max-width:1000px}.search[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:40px}.search[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{max-width:200px}.search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{height:60px;flex-direction:row;display:inline-flex}h2[_ngcontent-%COMP%]{font-weight:300;padding:5px;font-size:21px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.random[_ngcontent-%COMP%]{padding:5px}.pickFavorites[_ngcontent-%COMP%]{text-align:left}@media screen and (min-device-width:320px) and (max-device-width:480px){.random[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.splash[_ngcontent-%COMP%]{padding-top:0}.search[_ngcontent-%COMP%]{margin-left:1%;margin-right:0;flex-direction:column}.pickFavorites[_ngcontent-%COMP%]{text-align:center}.spinner[_ngcontent-%COMP%]{position:absolute;margin:27% 25% 0 72%}}"]}),t})();function cL(t,e){if(1&t&&(Vo(0,"a",22),Ho(1,"img",13),Vo(2,"h4"),Da(3),Bo(),Bo()),2&t){const t=e.$implicit;jo("routerLink","/"+ta(2).chosen.base+"/"+t.scientificname),Or(1),jo("src",t.img,ir),Or(2),La(t.scientificname)}}function hL(t,e){if(1&t){const t=Yo();Vo(0,"div",23),Vo(1,"mat-card",24),$o("click",(function(){Qe(t);const n=e.$implicit;return ta(2).moduleClick(n.appname)}))("mouseenter",(function(){Qe(t);const n=e.$implicit;return ta(2).moduleClick(n.appname)})),Vo(2,"a"),Vo(3,"div",25),Ho(4,"img",13),Bo(),Vo(5,"mat-card-content"),Vo(6,"div",26),Vo(7,"h4"),Da(8),Bo(),Bo(),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit;Or(4),jo("src",t.image,ir),Or(4),La(t.appname)}}function uL(t,e){if(1&t&&(Vo(0,"div",8),Vo(1,"div",9),Vo(2,"div",10),Vo(3,"div",11),Vo(4,"div",12),Ho(5,"img",13),Bo(),Vo(6,"div",14),Vo(7,"div",15),Da(8),Bo(),Vo(9,"div",16),Da(10),Bo(),Ho(11,"br"),Vo(12,"div",17),Da(13,"Check out these species:"),Bo(),Vo(14,"div",18),Io(15,cL,4,3,"a",19),Bo(),Bo(),Bo(),Bo(),Vo(16,"div",20),Io(17,hL,9,2,"div",21),Bo(),Bo(),Bo()),2&t){const t=ta();Or(5),jo("src",t.chosen.image,ir),Or(3),La(t.chosen.appname),Or(2),La(t.chosen.infoText),Or(5),jo("ngForOf",t.chosen.species),Or(2),jo("ngForOf",t.modules)}}function dL(t,e){if(1&t){const t=Yo();Vo(0,"div",31),$o("mouseenter",(function(){Qe(t);const n=e.$implicit;return ta(2).showModules(n)})),Vo(1,"a",22),Vo(2,"div",32),Ho(3,"img",33),Bo(),Vo(4,"div",34),Vo(5,"span"),Vo(6,"h3"),Da(7),Bo(),Bo(),Vo(8,"span"),Vo(9,"h4"),Da(10),Bo(),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit;Or(1),jo("routerLink","/"+t.scientificname),Or(2),jo("src",t.img,ir),Or(4),La(t.commonName),Or(3),La(t.scientificname)}}function fL(t,e){if(1&t&&(Vo(0,"div",23),Vo(1,"a",35),Vo(2,"mat-card",36),Vo(3,"div",25),Ho(4,"img",13),Bo(),Vo(5,"mat-card-content"),Vo(6,"div",26),Vo(7,"h4"),Da(8),Bo(),Bo(),Bo(),Bo(),Bo(),Bo()),2&t){const t=e.$implicit,n=ta(2);Or(1),jo("routerLink","/"+t.base+"/"+n.selectedSpeciesName),Or(1),ra("matTooltip",t.infoText),Or(2),jo("src",t.img,ir),Or(4),La(t.name)}}function pL(t,e){if(1&t&&(Vo(0,"div",27),Vo(1,"div"),Vo(2,"div",28),Vo(3,"div",11),Vo(4,"div",14),Ho(5,"br"),Vo(6,"div",17),Da(7,"Check out these species:"),Bo(),Vo(8,"div",29),Io(9,dL,11,4,"div",30),Bo(),Bo(),Bo(),Bo(),Vo(10,"div",20),Io(11,fL,9,4,"div",21),Bo(),Bo(),Bo()),2&t){const t=ta();Or(9),jo("ngForOf",t.chosen.species),Or(2),jo("ngForOf",t.selectedSpecies)}}let gL=(()=>{class t{constructor(t,e,n,i){this.router=t,this.speciesService=e,this.state=n,this.translate=i,this.modules=[{image:"assets/consensus.png",appname:"Consensus Map",base:"",infoText:"The consensus map is a simple overview of where a species is likely to be found, it is computed using range maps, occurrence data and local inventories.",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Red-crowned crane",scientificname:"Grus japonensis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Grus_japonensis.jpg"},{commonName:"Crab Eating Macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"}]},{image:"/assets/detailed.png",appname:"Detailed Map",base:"map",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filtering and displaying of Species Distribution Models for select species.",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/trends.png",appname:"Trends",base:"habitat-trend",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained? ",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/trends.png",appname:"Projection",base:"projection/landuse",infoText:"See how a species range changes under different climate scenarios projected into the future!",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/habdist.png",appname:"Habitat Distribution",base:"range",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/protect.png",appname:"Reserve coverage",base:"protect",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]},{image:"/assets/niche1.png",appname:"Environmental Niche",base:"niche",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",species:[{commonName:"Tiger-striped leaf frog",scientificname:"Phyllomedusa tomopterna",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Phyllomedusa_tomopterna.jpg"},{commonName:"Crab eating macaque",scientificname:"Macaca fascicularis",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Macaca_fascicularis.jpg"},{commonName:"Monarch",scientificname:"Danaus plexippus",img:"https://mapoflife.github.io/species-classic/static/app/views/home/img/Danaus_plexippus.jpg"}]}],this.species={Phyllomedusatomopterna:[{name:"Summary Map",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/summary.png",infoText:"The Summary map shows a summary of the species and where it is occured",base:""},{name:"Detailed Map",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/detailed.png",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filteringand displaying of Species Distribution Models for select species.",base:"map"},{name:"Trends",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/trends.png",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained?",base:"habitat-trend"},{name:"Projection",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/trends.png",infoText:"See how a species range changes under different climate scenarios projected into the future!",base:"projection/landuse"},{name:"Habitat Distribution",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/habdist.png",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",base:"range"},{name:"Reserve coverage",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/protect.png",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",base:"protect"},{name:"Environmental Niche",img:"https://mapoflife.github.io/species-next/assets/Phyllomedusatomopterna/niche1.png",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",base:"niche"}],Grusjaponensis:[{name:"Summary Map",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/summary.png",infoText:"The Summary map shows a summary of the species and where it is occured",base:""},{name:"Detailed Map",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/detailed.png",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filteringand displaying of Species Distribution Models for select species.",base:"map"},{name:"Trends",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/trends.png",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained?",base:"habitat-trend"},{name:"Projection",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/trends.png",infoText:"See how a species range changes under different climate scenarios projected into the future!",base:"projection/landuse"},{name:"Habitat Distribution",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/habdist.png",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",base:"range"},{name:"Reserve coverage",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/protect.png",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",base:"protect"},{name:"Environmental Niche",img:"https://mapoflife.github.io/species-next/assets/Grusjaponensis/niche1.png",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",base:"niche"}],Macacafascicularis:[{name:"Summary Map",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/summary.png",infoText:"The Summary map shows a summary of the species and where it is occured",base:""},{name:"Detailed Map",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/detailed.png",infoText:"The Detailed map shows what data is available for this species, by data type and dataset, allows for occurrence data filteringand displaying of Species Distribution Models for select species.",base:"map"},{name:"Trends",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/trends.png",infoText:"How has a species range changed in the past 20 years? What areas have been lost and gained?",base:"habitat-trend"},{name:"Projection",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/trends.png",infoText:"See how a species range changes under different climate scenarios projected into the future!",base:"projection/landuse"},{name:"Habitat Distribution",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/habdist.png",infoText:"How does a species range look when taking into account: elevation, tree and land cover preferences?",base:"range"},{name:"Reserve coverage",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/protect.png",infoText:"How much of a species range is protected? What about accounting for species elevation, tree and landcover preferences? Is the amount protected enough?",base:"protect"},{name:"Environmental Niche",img:"https://mapoflife.github.io/species-next/assets/Macacafascicularis/niche1.png",infoText:"Species have environmental niches, you can explore them using this page for a variety of environmental layers!",base:"niche"}]},this.chosenIndex=0,this.chosen=this.modules[this.chosenIndex],this.selectedSpecies=this.species.Phyllomedusatomopterna,this.selectedSpeciesName="Phyllomedusa tomopterna"}ngOnInit(){}moduleClick(t){this.chosenIndex=this.modules.findIndex(e=>e.appname===t),this.chosen=this.modules[this.chosenIndex]}goToMap(t){this.router.navigate(["./",t.scientificname.replace(" ","_")])}randomSpecies(){this.speciesService.random().subscribe(t=>{this.goToMap(t)})}showModules(t){this.selectedSpeciesName=t.scientificname,this.selectedSpecies=this.species[t.scientificname.replace(" ","")]}}return t.\u0275fac=function(e){return new(e||t)(Lo(_A),Lo(ZA),Lo(fD),Lo(qA))},t.\u0275cmp=pe({type:t,selectors:[["mol-landing2"]],decls:16,vars:12,consts:[[1,"banner"],[1,"big"],[1,"search"],[3,"nav","chosenSpecies"],[1,"random"],["mat-raised-button","","color","info",3,"click"],["class","splash",4,"ngIf"],["class","splash-landing-3",4,"ngIf"],[1,"splash"],[1,"parent"],[1,"hero"],[1,"hero-row"],[1,"hero-img"],[3,"src"],[1,"hero-content"],[1,"hero-heading"],[1,"hero-desc","b"],[1,"hero-desc"],[1,"module-spp"],["class","mini-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"module-card-container"],["class","module-card-wrapper",4,"ngFor","ngForOf"],[1,"mini-card",3,"routerLink"],[1,"module-card-wrapper"],[1,"app-card",3,"click","mouseenter"],[1,"spp-img-container"],[1,"content"],[1,"splash-landing-3"],[1,"hero-landing-3"],[1,"species-list"],["class","module-spp",3,"mouseenter",4,"ngFor","ngForOf"],[1,"module-spp",3,"mouseenter"],[1,"img-wrapper"],[1,"img",3,"src"],[1,"species-names"],[3,"routerLink"],[1,"app-card",3,"matTooltip"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"h2",1),Da(2),sc(3,"translate"),Bo(),Vo(4,"div",2),Vo(5,"div"),Vo(6,"mol-search",3),$o("chosenSpecies",(function(t){return e.goToMap(t)})),Bo(),Bo(),Bo(),Vo(7,"div",4),Vo(8,"h3"),Da(9),sc(10,"translate"),Bo(),Vo(11,"button",5),$o("click",(function(){return e.randomSpecies()})),Da(12),sc(13,"translate"),Bo(),Bo(),Bo(),Io(14,uL,18,5,"div",6),Io(15,pL,12,2,"div",7)),2&t&&(Or(2),Fa("",oc(3,6,"search_species"),"!"),Or(4),jo("nav",!1),Or(3),La(oc(10,8,"pick_random")),Or(3),Fa(" ",oc(13,10,"btn_spin_wheel")," "),Or(2),jo("ngIf",!1),Or(1),jo("ngIf",!0))},directives:[KD,Ub,hu,lu,yA,uC,aC,tS],pipes:[dm],styles:[".parent[_ngcontent-%COMP%]{display:flex;flex-direction:column}.splash[_ngcontent-%COMP%]{margin:0 auto;max-width:1000px;padding-bottom:50px}.banner[_ngcontent-%COMP%]{height:350px;flex-direction:column;margin:0 auto;justify-content:center;background-image:url(https://mapoflife.github.io/species-next/assets/bg.jpg);background-position:0 50%;background-repeat:no-repeat;background-size:cover;color:#fff}.banner[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]{display:flex;align-items:center}.search[_ngcontent-%COMP%]{flex-direction:row;color:#000;max-width:100%}.big[_ngcontent-%COMP%]{font-size:48px;font-weight:400;padding:25px 0 10px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.random[_ngcontent-%COMP%]{align-items:center;font-size:18px}.random[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:0}.random[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:15px}.module-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:0 auto}.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]{max-width:33%;margin:15px 0;float:left;position:relative;min-height:1px;padding-bottom:10px}@media screen and (min-device-width:320px) and (max-device-width:480px){.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]{max-width:100%;height:263px;margin:0 15%}}.hero[_ngcontent-%COMP%]{transition:1s;height:350px;padding:10px 0}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;width:100%}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .mini-card[_ngcontent-%COMP%]{padding:10px;text-align:center}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{min-width:400px;min-height:300px;max-width:400px;margin:0 auto}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding:15px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-heading[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc[_ngcontent-%COMP%]{font-size:18px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc.b[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]{display:flex;cursor:pointer;flex-direction:row}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:unset;color:unset;font-size:18px}.hero[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:170px;max-width:200px}.stats[_ngcontent-%COMP%]{display:flex;padding-bottom:30px;flex-direction:row;text-align:center;justify-content:space-evenly}.stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{padding:10px}.app-card[_ngcontent-%COMP%]{max-width:300px;height:250px;text-align:center;box-sizing:border-box;transition:all .1s cubic-bezier(.165,.84,.44,1);margin:0 10px;padding:0;display:inline-block;border:1px solid #aaa;box-shadow:none;box-shadow:0 2px 3px 0 rgba(0,0,0,.2),0 4px 4px 0 rgba(0,0,0,.14),0 5px 4px -4px rgba(0,0,0,.12)}.app-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{background-color:transparent}.app-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:transparent;color:#000;padding:0;margin:0;display:flex;flex-direction:column;align-items:middle;justify-content:center;height:90px;max-height:100%;vertical-align:middle}.app-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:170px;vertical-align:top}.app-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin:0;padding:0 3px 5px;line-height:1}.app-card[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin:0;font-weight:300}.app-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 7px 0 rgba(0,0,0,.2),0 4px 4px 0 rgba(0,0,0,.14),0 5px 4px -4px rgba(0,0,0,.12);transform:translate3d(0,-4px,0)}.hero-landing-3[_ngcontent-%COMP%]{height:auto;margin:auto}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]{align-items:stretch}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{margin:0 auto}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-heading[_ngcontent-%COMP%]{font-size:22px;padding-bottom:5px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc[_ngcontent-%COMP%]{font-size:18px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-desc.b[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;position:relative;margin:5px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .species-names[_ngcontent-%COMP%]{display:flex;flex-direction:column}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .species-names[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.1em;display:inline-flex}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .species-names[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;margin-bottom:0}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{font-style:italic}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:transparent;color:unset;font-size:18px}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{overflow-y:hidden;position:relative;padding:62.24% 0 0;height:0}.hero-landing-3[_ngcontent-%COMP%]   .hero-row[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .module-spp[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;top:0;left:0;right:0;bottom:0;position:absolute}.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset}.module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .module-card-container[_ngcontent-%COMP%]   .module-card-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:transparent;color:unset;font-size:18px}@media (max-width:679px){.module-spp[_ngcontent-%COMP%]{width:47%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:90%}}@media (min-width:680px) and (max-width:999px){.module-spp[_ngcontent-%COMP%]{width:48%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:86%}}@media (min-width:1000px) and (max-width:1500px){.module-spp[_ngcontent-%COMP%]{width:32%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:81%}}@media (min-width:1501px){.module-spp[_ngcontent-%COMP%]{width:32%}.hero-content[_ngcontent-%COMP%], .module-card-container[_ngcontent-%COMP%]{width:70%}}"]}),t})();function mL(t,e){if(1&t){const t=Yo();Vo(0,"li",1),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().select(n)})),Da(1),Bo()}if(2&t){const t=e.$implicit;wa(t===ta().lang?"selected":""),Or(1),Fa(" ",t,"\n")}}let _L=(()=>{class t{constructor(t){this.translationService=t,this.langs=[],this.lang=""}ngOnInit(){this.translationService.lang.subscribe(t=>{this.lang=t}),this.langs=this.translationService.langs}select(t){this.translationService.updateLang(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(qA))},t.\u0275cmp=pe({type:t,selectors:[["mol-language-selector"]],decls:1,vars:1,consts:[[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){1&t&&Io(0,mL,2,3,"li",0),2&t&&jo("ngForOf",e.langs)},directives:[lu],styles:["li[_ngcontent-%COMP%]:first-of-type{padding-left:1em}li[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;list-style:none;margin:0 3px;cursor:pointer}.selected[_ngcontent-%COMP%]{text-decoration:underline}"]}),t})();function vL(t,e){1&t&&(Vo(0,"a",10),Da(1),sc(2,"translate"),Bo()),2&t&&(Or(1),Fa("",oc(2,1,"contact")," "))}function yL(t,e){if(1&t&&(Vo(0,"a",11),Da(1),sc(2,"translate"),Bo()),2&t){const t=ta();jo("href",t.authBase+"/login?next="+t.doc.location.href,ir),Or(1),Fa(" ",oc(2,2,"nav_login"),"")}}function bL(t,e){if(1&t&&(Vo(0,"a",11),Da(1),sc(2,"translate"),Bo()),2&t){const t=ta();jo("href",t.authBase+"/register?next="+t.doc.location.href,ir),Or(1),Fa(" ",oc(2,2,"nav_register"),"")}}function wL(t,e){if(1&t&&(Vo(0,"li"),Da(1," Logged in as: "),Vo(2,"a",12),Da(3),Ho(4,"span",13),Bo(),Bo()),2&t){const t=ta(),e=Do(11);Or(2),jo("matMenuTriggerFor",e),Or(1),Fa(" ",t.user.fullname," ")}}let xL=(()=>{class t{constructor(t){this.router=t,this.loggedIn=!1,this.contact=!0,this.authBase="https://auth.mol.org",this.doc=null}ngOnInit(){this.doc=document}}return t.\u0275fac=function(e){return new(e||t)(Lo(_A))},t.\u0275cmp=pe({type:t,selectors:[["mol-header-user-drop"]],viewQuery:function(t,e){var n;1&t&&Cc(qk,!0),2&t&&wc(n=Mc())&&(e.trigger=n.first)},inputs:{user:"user",loggedIn:"loggedIn",contact:"contact",authBase:"authBase"},decls:19,vars:7,consts:[[1,"mol-header-thin-menu","pull-right"],[1,"btn-group"],["href","/contact","class","pre-drop",4,"ngIf"],["class","pre-drop",3,"href",4,"ngIf"],[4,"ngIf"],["xPosition","before",1,"mol-header-menu"],["menu","matMenu"],[1,"dropdown-item",3,"href"],[1,"menu-divider"],["target","_self",1,"dropdown-item",3,"href"],["href","/contact",1,"pre-drop"],[1,"pre-drop",3,"href"],["aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle","simple-link",3,"matMenuTriggerFor"],[1,"caret"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"ul",1),Vo(2,"li"),Io(3,vL,3,3,"a",2),Bo(),Vo(4,"li"),Io(5,yL,3,4,"a",3),Bo(),Vo(6,"li"),Io(7,bL,3,4,"a",3),Bo(),Io(8,wL,5,2,"li",4),Ho(9,"mol-language-selector"),Bo(),Bo(),Vo(10,"mat-menu",5,6),Vo(12,"a",7),Da(13,"Profile"),Bo(),Vo(14,"a",7),Da(15,"Dashboard"),Bo(),Ho(16,"div",8),Vo(17,"a",9),Da(18,"Logout"),Bo(),Bo()),2&t&&(Or(3),jo("ngIf",e.contact),Or(2),jo("ngIf",!e.loggedIn),Or(2),jo("ngIf",!e.loggedIn),Or(1),jo("ngIf",e.loggedIn),Or(4),jo("href",e.authBase+"/profile",ir),Or(2),jo("href",e.authBase+"/dashboard",ir),Or(3),jo("href",e.authBase+"/logout?next="+e.doc.location.href,ir))},directives:[hu,_L,Uk,qk],pipes:[dm],styles:[".mol-header-thin-menu[_ngcontent-%COMP%]{padding:0 5px;display:inline-flex}.btn-group[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;list-style:none;margin:5px}.pull-right[_ngcontent-%COMP%]{float:right}.mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{font-size:16px;color:#706f6f;display:inline-block;margin-bottom:-1px;transition:all .3s ease;padding:8px}.mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .mol-header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2c2b2b;text-decoration:none;background-color:transparent;margin-bottom:-1px;transition:all .3s ease}@media screen and (max-device-width:480px){.btn-group[_ngcontent-%COMP%]{vertical-align:top;padding:0}.pull-right[_ngcontent-%COMP%]{float:unset}.mol-header-thin-menu[_ngcontent-%COMP%]{align-items:stretch;justify-content:space-around;width:100%}}.pre-drop[_ngcontent-%COMP%]{display:inline-block;padding:0 10px;font-size:16px;color:#706f6f}.pre-drop[_ngcontent-%COMP%]:hover{background-color:transparent;color:#2c2b2b;text-decoration:none}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.menu-divider[_ngcontent-%COMP%]{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.caret[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-right:4px solid transparent;border-left:4px solid transparent}"]}),t})();const CL=function(t){return{active:t}};function OL(t,e){if(1&t&&(Vo(0,"ul",3),Vo(1,"li"),Vo(2,"a",4),Ho(3,"i",5),Da(4),sc(5,"translate"),Bo(),Bo(),Vo(6,"li"),Vo(7,"a",6),Ho(8,"i",7),Da(9),sc(10,"translate"),Bo(),Bo(),Vo(11,"li"),Vo(12,"a",8),Ho(13,"i",9),Da(14),sc(15,"translate"),Bo(),Bo(),Vo(16,"li"),Vo(17,"a",10),Ho(18,"i",11),Da(19),sc(20,"translate"),Bo(),Bo(),Bo()),2&t){const t=ta();Or(2),wa(Jl(20,CL,"species"===t.app)),Or(2),La(oc(5,12,"nav_species")),Or(3),wa(Jl(22,CL,"regions"===t.app)),Or(2),La(oc(10,14,"nav_locations")),Or(3),wa(Jl(24,CL,"indicators"===t.app)),Or(2),Fa(" ",oc(15,16,"nav_indicators"),""),Or(3),wa(Jl(26,CL,"patterns"===t.app)),Or(2),Fa(" ",oc(20,18,"nav_patterns"),"")}}function SL(t,e){1&t&&(Vo(0,"div",12),Vo(1,"em",13),Da(2,"Putting biodiversity on the map"),Bo(),Bo())}let kL=(()=>{class t{constructor(){this.nav=!0,this.app=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-header-nav"]],inputs:{nav:"nav",app:"app"},decls:3,vars:2,consts:[[1,"mol-header-nav","hidden-xs"],["class","nav nav-tabs",4,"ngIf"],["class","mol-slogan",4,"ngIf"],[1,"nav","nav-tabs"],["href","https://mol.org/species","target","_self"],[1,"fa","fa-info","fa-fw"],["href","https://mol.org/regions","target","_self"],[1,"fa","fa-map-marker","fa-fw"],["href","https://mol.org/indicators","target","_self"],[1,"fa","fa-line-chart","fa-fw"],["href","https://mol.org/patterns","target","_self"],[1,"fa","fa-th","fa-fw"],[1,"mol-slogan"],[1,"text-muted"]],template:function(t,e){1&t&&(Vo(0,"nav",0),Io(1,OL,21,28,"ul",1),Io(2,SL,3,0,"div",2),Bo()),2&t&&(Or(1),jo("ngIf",e.nav),Or(1),jo("ngIf",!e.nav))},directives:[hu],pipes:[dm],styles:[".mol-header-nav[_ngcontent-%COMP%]{bottom:0;box-sizing:border-box;display:block;right:0;position:absolute;-webkit-text-size-adjust:100%;text-size-adjust:100%;padding-left:0;margin-bottom:0;list-style:none}.mol-header-nav[_ngcontent-%COMP%]   .mol-slogan[_ngcontent-%COMP%]{font-size:20px;font-weight:300;color:#777;padding-bottom:20px}.mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0;margin-bottom:0;margin-top:0;display:block;bottom:0;list-style:none;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;border:0;margin:0 2px -3px;border-bottom:1px solid #ddd;background:#062d66;box-sizing:border-box;line-height:21px}.mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;position:relative;border-top-right-radius:12px;border-top-left-radius:12px}.mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 15px;font-size:16px;font-weight:500;border:0;transition:all .3s ease}.mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#23a9d0;background-color:#fff;padding:4px 0 0 2px;border-radius:5em;height:1.25em;width:1.25em;margin-right:4px}.mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   .fa-info[_ngcontent-%COMP%], .mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   .fa-mobile[_ngcontent-%COMP%]{padding-left:0;padding-bottom:0}.mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .mol-header-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#8cbf44;margin-bottom:-1px;transition:all .3s ease}@media (max-width:1180px){.mol-header-nav[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}}@media (max-width:1110px){.mol-header-nav[_ngcontent-%COMP%]{display:none}}"]}),t})(),EL=(()=>{class t{constructor(t){this.auth=t,this.loggedIn=!1,this.authBase="https://auth.mol.org",this.app=""}ngOnInit(){void 0===this.forceLoggedIn?this.auth.loggedIn.subscribe(t=>{this.loggedIn=t}):this.loggedIn=this.forceLoggedIn,this.auth.user.subscribe(t=>{this.user=t})}}return t.\u0275fac=function(e){return new(e||t)(Lo(JA))},t.\u0275cmp=pe({type:t,selectors:[["mol-header"]],inputs:{forceLoggedIn:"forceLoggedIn",app:"app"},decls:11,vars:4,consts:[[1,"mol-header","mol-header-thin"],[3,"user","authBase","loggedIn"],[1,"mol-logo-thin"],["href","https://mol.org/","target","_self","rel","home","title","Home"],["alt","Map of Life","src","https://mol.org/static/img/logo.png"],[1,"motd"],["href","https://docs.google.com/forms/d/e/1FAIpQLSd1DJkQ_5s3rHuIa7pNzc4Hd015C37vTMio2ztqufv8mUBXBA/viewform","target","_blank"],[3,"app"]],template:function(t,e){1&t&&(Vo(0,"header",0),Ho(1,"mol-header-user-drop",1),Vo(2,"figure",2),Vo(3,"a",3),Ho(4,"img",4),Bo(),Bo(),Vo(5,"div",5),Da(6," Please provide "),Vo(7,"a",6),Da(8,"feedback"),Bo(),Da(9," to help improve the new interface. "),Bo(),Ho(10,"mol-header-nav",7),Bo()),2&t&&(Or(1),jo("user",e.user)("authBase",e.authBase)("loggedIn",e.loggedIn),Or(9),jo("app",e.app))},directives:[xL,kL],styles:[".mol-header[_ngcontent-%COMP%]{background:#fff url(https://mol.org/static/img/header_background.png) no-repeat bottom;position:relative;margin:0 40px}.mol-header.mol-header-fat[_ngcontent-%COMP%]{padding:20px;margin:0 auto}.mol-logo-fat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:240px}figure[_ngcontent-%COMP%]{margin:0}.motd[_ngcontent-%COMP%]{z-index:10000;position:absolute;bottom:10px;left:calc(50% - 215px);font-size:15px;border:3px solid #ff903f;background-color:#ff903f;padding:10px;border-radius:3px;color:#fff}.motd[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:17px;text-decoration:underline;color:#fff;font-weight:500}.motd[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ff903f}@media screen and (max-device-width:480px){.motd[_ngcontent-%COMP%]{display:none}.mol-logo-thin[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}img[_ngcontent-%COMP%]{margin:auto 5px}.mol-header[_ngcontent-%COMP%]{margin:unset}}@media screen and (max-width:1500px){.motd[_ngcontent-%COMP%]{left:215px}}@-webkit-keyframes blinkingText{0%{border:3px solid #fff;color:#fff}to{border:3px solid #fdac72}}@keyframes blinkingText{0%{border:3px solid #fff;color:#fff}to{border:3px solid #fdac72}}@-webkit-keyframes blinkingLink{0%{color:#fff}}@keyframes blinkingLink{0%{color:#fff}}.mol-header.mol-header-thin[_ngcontent-%COMP%]{padding:10px}.mol-logo-thin[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:160px}header[_ngcontent-%COMP%]   .mol-header-thin-menu[_ngcontent-%COMP%]{padding:0 5px}"]}),t})();function ML(t,e){if(1&t){const t=Yo();Vo(0,"a",7),$o("click",(function(){Qe(t);const e=ta();return e.searchOpen=!e.searchOpen})),Ho(1,"i",8),Bo()}}const TL=function(){return{exact:!0}};function AL(t,e){if(1&t&&(Vo(0,"a",10),Da(1),sc(2,"translate"),Bo()),2&t){const t=e.$implicit;jo("routerLinkActiveOptions",Ql(7,TL))("routerLink",t.route)("queryParams",t.data)("href",t.url,ir),Or(1),Fa(" ",oc(2,5,t.name)," ")}}function PL(t,e){if(1&t&&(Vo(0,"div"),Io(1,AL,3,8,"a",9),Bo()),2&t){const t=ta();Or(1),jo("ngForOf",t.links)}}function RL(t,e){if(1&t){const t=Yo();Vo(0,"a",7),$o("click",(function(){Qe(t);const e=ta();return e.menuOpen=!e.menuOpen})),Ho(1,"i",11),Bo()}}function IL(t,e){1&t&&Ho(0,"div",12)}function DL(t,e){1&t&&ia(0,0,["*ngIf","!mobile && (searchOpen || !showSearchLink)"])}function LL(t,e){1&t&&(Vo(0,"span"),Ho(1,"i",8),Da(2,"Search for a species"),Bo())}function FL(t,e){1&t&&(Vo(0,"span"),Ho(1,"i",14),Bo())}function NL(t,e){if(1&t){const t=Yo();Vo(0,"a",13),$o("click",(function(){return Qe(t),ta().toggleSearch()})),Io(1,LL,3,0,"span",2),Io(2,FL,2,0,"span",2),Bo()}if(2&t){const t=ta();Or(1),jo("ngIf",!t.searchOpen),Or(1),jo("ngIf",t.searchOpen&&t.showSearchLink)}}function jL(t,e){1&t&&(Vo(0,"div",15),ia(1,1),Bo())}function zL(t,e){if(1&t&&(Vo(0,"a",18),Da(1),sc(2,"translate"),Bo()),2&t){const t=e.$implicit;jo("routerLinkActiveOptions",Ql(7,TL))("routerLink",t.route)("queryParams",t.data)("href",t.url,ir),Or(1),Fa(" ",oc(2,5,t.name)," ")}}function VL(t,e){if(1&t&&(Vo(0,"div",16),Io(1,zL,3,8,"a",17),Bo()),2&t){const t=ta();Or(1),jo("ngForOf",t.links)}}const BL=[[["","slot","search2"]],[["","slot","search1"]]],HL=["[slot=search2]","[slot=search1]"];let UL=(()=>{class t{constructor(){this.showSearchLink=!1,this.searchOpen=!1,this.menuOpen=!1,this.mobile=!1,this.mobile=window.innerWidth<=480}ngOnInit(){}toggleSearch(){this.searchOpen=!this.searchOpen}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-nav"]],inputs:{links:"links",showSearchLink:"showSearchLink"},ngContentSelectors:HL,decls:9,vars:8,consts:[[1,"navigation"],["mat-button","","class","mobile-only open-search-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","spacer",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","navigation nav-menu mobile-search",4,"ngIf"],["class","navigation nav-menu",4,"ngIf"],["mat-button","",1,"mobile-only","open-search-button",3,"click"],[1,"fa","fa-search"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href"],[1,"fa","fa-bars"],[1,"spacer"],["mat-button","",3,"click"],[1,"fa","fa-close"],[1,"navigation","nav-menu","mobile-search"],[1,"navigation","nav-menu"],["mat-button","","class","mobile-only","routerLinkActive","active","queryParamsHandling","merge",3,"routerLinkActiveOptions","routerLink","queryParams","href",4,"ngFor","ngForOf"],["mat-button","","routerLinkActive","active","queryParamsHandling","merge",1,"mobile-only",3,"routerLinkActiveOptions","routerLink","queryParams","href"]],template:function(t,e){1&t&&(na(BL),Vo(0,"div",0),Io(1,ML,2,0,"a",1),Io(2,PL,2,1,"div",2),Io(3,RL,2,0,"a",1),Io(4,IL,1,0,"div",3),Io(5,DL,1,0,void 0,2),Io(6,NL,3,2,"a",4),Bo(),Io(7,jL,2,0,"div",5),Io(8,VL,2,1,"div",6)),2&t&&(Or(1),jo("ngIf",e.showSearchLink),Or(1),jo("ngIf",!e.searchOpen),Or(1),jo("ngIf",(null==e.links?null:e.links.length)>0),Or(1),jo("ngIf",!e.mobile),Or(1),jo("ngIf",!e.mobile&&(e.searchOpen||!e.showSearchLink)),Or(1),jo("ngIf",e.showSearchLink&&(null==e.links?null:e.links.length)>0),Or(1),jo("ngIf",e.mobile&&e.searchOpen),Or(1),jo("ngIf",e.mobile&&e.menuOpen))},directives:[hu,Gb,lu,yA,wA],pipes:[dm],styles:[".navigation[_ngcontent-%COMP%]{display:flex;text-align:center;background-color:#8cbf44;height:52px;padding:0 15px}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;border-radius:0;padding:0 20px;text-align:left;font-size:16px;font-weight:400;height:100%;line-height:50px}.navigation[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#87b93f;color:#fff;transition:all .3s ease}.spacer[_ngcontent-%COMP%]{flex-grow:1}.open-search-button[_ngcontent-%COMP%]{display:none}.fa.fa-search[_ngcontent-%COMP%]{margin-right:.5em}.mat-button[_ngcontent-%COMP%]{min-width:auto}@media screen and (max-device-width:480px){.navigation[_ngcontent-%COMP%]{flex-wrap:wrap;padding:0;flex-direction:row;height:unset;justify-content:space-between;align-items:flex-end}.navigation[_ngcontent-%COMP%]   .open-search-button[_ngcontent-%COMP%]{display:block}.navigation.nav-menu[_ngcontent-%COMP%]{box-shadow:0 2px 6px 0 #ddd;display:flex;flex-direction:column}.navigation.nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#87b93f}.navigation.nav-menu.mobile-search[_ngcontent-%COMP%]{align-items:center}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.active, .mobile-only)[_ngcontent-%COMP%]{display:none}.navigation[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#8cbf44}.space[_ngcontent-%COMP%]{display:none;flex-grow:0;width:0}}"]}),t})(),GL=(()=>{class t{constructor(){this.year=2020,this.partnershipsClass="",this.feedbackClass="",this.privacyClass="",this.tosClass=""}ngOnInit(){this.year=(new Date).getFullYear(),"Partnerships"===document.title&&(this.partnershipsClass="active-trail active"),"Feedback"===document.title&&(this.feedbackClass="active-trail active"),"Privacy"===document.title&&(this.privacyClass="active-trail active"),"Terms of Service"===document.title&&(this.tosClass="active-trail active")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-footer"]],decls:32,vars:24,consts:[["role","contentinfo"],[1,"region","region-thin-footer"],[1,"block","block-block","meta","meta-thin"],[1,"content"],["href","https://github.com/MapOfLife/","target","_blank"],[1,"fa","fa-github-square","fa-2x"],["href","https://twitter.com/moldotorg","target","_blank"],[1,"fa","fa-twitter-square","fa-2x"],["href","https://www.facebook.com/moldotorg","target","_blank"],[1,"fa","fa-facebook-square","fa-2x"],[1,"block","block-nice-menus","footer-menu","footer-menu-thin"],[1,"nice-menu","nice-menu-down","nice-menu-menu-footer-links"],["href","https://mol.org/partnerships","target","_self"],["href","https://mol.org/feedback","target","_self"],["href","https://mol.org/privacy","target","_self"],["href","https://mol.org/tos","target","_self"]],template:function(t,e){1&t&&(Vo(0,"footer",0),Vo(1,"div",1),Vo(2,"section",2),Vo(3,"div",3),Vo(4,"p"),Vo(5,"a",4),Ho(6,"i",5),Bo(),Vo(7,"a",6),Ho(8,"i",7),Bo(),Vo(9,"a",8),Ho(10,"i",9),Bo(),Da(11),sc(12,"translate"),Bo(),Bo(),Bo(),Vo(13,"section",10),Vo(14,"div",3),Vo(15,"ul",11),Vo(16,"li"),Vo(17,"a",12),Da(18),sc(19,"translate"),Bo(),Bo(),Vo(20,"li"),Vo(21,"a",13),Da(22),sc(23,"translate"),Bo(),Bo(),Vo(24,"li"),Vo(25,"a",14),Da(26),sc(27,"translate"),Bo(),Bo(),Vo(28,"li"),Vo(29,"a",15),Da(30),sc(31,"translate"),Bo(),Bo(),Bo(),Bo(),Bo(),Bo(),Bo()),2&t&&(Or(11),Na(" \xa9",e.year," MOL. ",oc(12,14,"mol_copyright"),". "),Or(5),wa(e.partnershipsClass),Or(2),Fa(" ",oc(19,16,"nav_supporters"),""),Or(2),wa(e.feedbackClass),Or(2),Fa(" ",oc(23,18,"nav_feedback"),""),Or(2),wa(e.privacyClass),Or(2),Fa(" ",oc(27,20,"nav_privacy"),""),Or(2),wa(e.tosClass),Or(2),Fa(" ",oc(31,22,"nav_tos"),""))},pipes:[dm],styles:[""]}),t})(),WL=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-main-layout"]],decls:5,vars:0,consts:[[1,"main"],["app","species"]],template:function(t,e){1&t&&(Vo(0,"div",0),Ho(1,"mol-header",1),Ho(2,"mol-nav"),Ho(3,"router-outlet"),Bo(),Ho(4,"mol-footer"))},directives:[EL,UL,OA,GL],styles:[""]}),t})();function YL(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Y(t,void 0).lift(new qL(e))}class qL{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new XL(t,this.resultSelector))}}class XL extends p{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;l(t)?e.push(new KL(t)):e.push("function"==typeof t[P]?new $L(t[P]()):new ZL(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let i=!1;const r=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(i=!0),o.done)return void n.complete();r.push(o.value)}this.resultSelector?this._tryresultSelector(r):n.next(r),i&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class $L{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class KL{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[P](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ZL extends F{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[P](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,i,r){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return L(this,this.observable,this,e)}}function QL(t,e){if(1&t&&(Vo(0,"div",14),Da(1),sc(2,"translate"),Bo()),2&t){const t=ta().$implicit,e=ta();Or(1),Fa(" ",oc(2,1,"src_"+e.datasetNameMap[t].product_type)," ")}}function JL(t,e){if(1&t&&(Vo(0,"div",14),Da(1),Bo()),2&t){const t=ta().$implicit,e=ta();Or(1),Fa(" ",e.datasetNameMap[t].type_title," ")}}function tF(t,e){if(1&t&&(Vo(0,"mat-option",8),Vo(1,"div",9),Ho(2,"img",10),Vo(3,"div",11),Vo(4,"div",12),Da(5),Bo(),Io(6,QL,3,3,"div",13),Io(7,JL,2,1,"div",13),Bo(),Bo(),Bo()),2&t){const t=e.$implicit,n=ta();jo("value",t),Or(2),jo("src","https://cdn.mol.org/static/images/legends/datatypes/"+n.datasetNameMap[t].product_type+".png",ir),Or(3),Fa(" ",n.datasetNameMap[t].dataset_title," "),Or(1),jo("ngIf","alienchecklist"!==n.datasetNameMap[t].product_type),Or(1),jo("ngIf","alienchecklist"===n.datasetNameMap[t].product_type)}}function eF(t,e){if(1&t&&(Vo(0,"tr"),Vo(1,"td",15),Da(2),Bo(),Vo(3,"td"),Ho(4,"span",16),Bo(),Bo()),2&t){const t=e.$implicit;Or(2),La(t.k),Or(2),jo("innerHTML",t.v,nr)}}function nF(t,e){if(1&t&&(Vo(0,"mat-list"),Vo(1,"table"),Io(2,eF,5,2,"tr",4),Bo(),Bo()),2&t){const t=e.$implicit;Or(2),jo("ngForOf",t.metadataArray)}}let iF=(()=>{class t{constructor(t,e,n,i,r){this.dialogRef=t,this.data=e,this.scientificname=n,this.translate=i,this.species=r,this.activeInfoPageDataChunk=[],this.datasetNameMap={},this.results=[],this.modalTitle="Feature information",this.modalType="",this.datasetIds=[],this.selected="",this.gbifKeysToRemove=["dataset_title","dataset_key","publishing_title","publishing_key","source_id"]}ngOnInit(){this.scientificname=this.data.scientificname,this.results=this.data.datasetResults.concat(this.data.geohashResults),this.results.forEach(t=>{if(t.metadataArray=[],Object.keys(t.metadata).forEach(e=>{"attributes"===e?Object.keys(t.metadata.attributes).forEach(e=>{t.metadataArray.push({k:e,v:t.metadata.attributes[e]})}):t.metadataArray.push({k:e,v:t.metadata[e]})}),"9905692e-6a28-4310-b01e-476a471e5bf8"==t.dataset_id){const e=t.metadataArray.find(t=>"dataset_title"===t.k),n=t.metadataArray.find(t=>"dataset_key"===t.k),i=t.metadataArray.find(t=>"publishing_title"===t.k),r=t.metadataArray.find(t=>"publishing_key"===t.k),s=t.metadataArray.find(t=>"source_id"===t.k),o=`<a href="https://www.gbif.org/dataset/${n.v}" target="_blank">${e.v}</a>`,a=`<a href="https://www.gbif.org/publisher/${r.v}" target="_blank">${i.v}</a>`,l=`<a href="https://www.gbif.org/occurrence/${s.v}" target="_blank">Occurrence Record</a>`;t.metadataArray=t.metadataArray.filter(t=>-1===this.gbifKeysToRemove.indexOf(t.k)),t.metadataArray.push({k:"dataset_title",v:o}),t.metadataArray.push({k:"publishing_title",v:a}),t.metadataArray.push({k:"source",v:l})}if("794adb49-7458-41c4-a1c0-56537fdbec1d"==t.dataset_id){const e=t.metadataArray.find(t=>"checklist_complete"===t.k);e&&(e.v="1"===e.v?"True":"False");const n=t.metadataArray.find(t=>"sampling_event_identifier"===t.k),i=`<a href="https://ebird.org/checklist/${n.v}" target="_blank">${n.v}</a>`;t.metadataArray=t.metadataArray.filter(t=>-1===["sampling_event_identifier"].indexOf(t.k)),t.metadataArray.push({k:"sampling_event_identifier",v:i})}const e=t.metadataArray.find(t=>"uncertainty_m"===t.k);e&&e.v&&(e.v=1*e.v<1e3?e.v+" m":e.v/1e3+" km"),t.metadataArray=t.metadataArray.filter(t=>Boolean(t.v)),t.metadataArray.sort((t,e)=>"eventdate"===t.k?-1:1),t.metadataArray.forEach(t=>{t.k=t.k.replaceAll("_"," "),"aid"===t.k?t.k="Animal ID":"eventdate"===t.k&&(t.k="Event Date")})}),this.species.getDatasets(this.scientificname).subscribe(t=>{t.forEach(t=>{this.datasetNameMap[t.dataset_id]=t}),this.datasetIds=new Array(...new Set(this.results.map(t=>t.dataset_id)))})}ngAfterViewInit(){setTimeout(()=>{this.paginator.length=this.results.length,this.activeInfoPageDataChunk=this.results.slice(0,1),this.paginator.firstPage(),this.updateTitle(this.activeInfoPageDataChunk[0].dataset_id)})}onInfoPageChanged(t){this.pageEvent=t;const e=t.pageIndex*t.pageSize;this.activeInfoPageDataChunk=this.results.slice(e,e+t.pageSize),this.updateTitle(this.activeInfoPageDataChunk[0].dataset_id)}datasetSelectionChanged(t){const e=t.value,n=this.results.findIndex(t=>t.dataset_id===e);this.paginator.pageIndex=n,this.onInfoPageChanged({pageIndex:n,pageSize:1})}updateTitle(t){const e=this.datasetNameMap[t];this.selected=t,e?(this.modalTitle=e.dataset_title,this.modalType=e.type_title):"794adb49-7458-41c4-a1c0-56537fdbec1d"===t?(this.modalTitle="eBird",this.modalType="Occurrences"):"9905692e-6a28-4310-b01e-476a471e5bf8"===t?(this.modalTitle="GBIF",this.modalType="Occurrences"):(this.modalTitle="Dataset title missing",this.modalType="Dataset type missing")}}return t.\u0275fac=function(e){return new(e||t)(Lo(fE),Lo(pE),Lo(pE),Lo(qA),Lo(ZA))},t.\u0275cmp=pe({type:t,selectors:[["mol-feature-metadata-popup"]],viewQuery:function(t,e){var n;1&t&&Cc(pS,!0),2&t&&wc(n=Mc())&&(e.paginator=n.first)},decls:14,vars:7,consts:[["mat-icon-button","","mat-dialog-close","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button"],[1,"dataset-select",3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"content"],[4,"ngFor","ngForOf"],["align","end"],[3,"pageSize","showFirstLastButtons","hidePageSize","page"],["paginator",""],[3,"value"],[1,"dataset-dropdown"],[1,"product-type-logo",3,"src"],[1,"ds-text"],[1,"dataset-title"],["class","dataset-type-title",4,"ngIf"],[1,"dataset-type-title"],[1,"title"],[3,"innerHTML"]],template:function(t,e){1&t&&(Vo(0,"button",0),Vo(1,"mat-icon"),Da(2,"close"),Bo(),Bo(),Vo(3,"div"),Vo(4,"mat-form-field"),Vo(5,"mat-select",1),$o("selectionChange",(function(t){return e.datasetSelectionChanged(t)}))("valueChange",(function(t){return e.selected=t})),Vo(6,"mat-select-trigger"),Da(7),Bo(),Io(8,tF,8,5,"mat-option",2),Bo(),Bo(),Bo(),Vo(9,"mat-dialog-content",3),Io(10,nF,3,1,"mat-list",4),Bo(),Vo(11,"mat-dialog-actions",5),Vo(12,"mat-paginator",6,7),$o("page",(function(t){return e.onInfoPageChanged(t)})),Bo(),Bo()),2&t&&(Or(5),jo("value",e.selected),Or(2),Fa(" ",null==e.datasetNameMap[e.selected]?null:e.datasetNameMap[e.selected].dataset_title," "),Or(1),jo("ngForOf",e.datasetIds),Or(2),jo("ngForOf",e.activeInfoPageDataChunk),Or(2),jo("pageSize",1)("showFirstLastButtons",!0)("hidePageSize",!0))},directives:[bE,tS,eC,fx,Ix,Rx,lu,xE,CE,pS,ub,hu,AE],pipes:[dm],styles:[".popup-close-button[_ngcontent-%COMP%]{float:right;background-color:#fff}.title[_ngcontent-%COMP%]{font-weight:400;padding:3px;text-transform:capitalize}.dataset-select[_ngcontent-%COMP%]{font-size:16px}.dataset-select[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto!important}.dataset-select[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{max-width:100%;width:auto}.mat-option[_ngcontent-%COMP%]{height:40px;padding:5px 0}.mat-option[_ngcontent-%COMP%]   .dataset-dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.mat-option[_ngcontent-%COMP%]   .dataset-dropdown[_ngcontent-%COMP%]   .product-type-logo[_ngcontent-%COMP%]{height:25px;width:25px;padding:5px}.mat-option[_ngcontent-%COMP%]   .ds-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:17px}.mat-option[_ngcontent-%COMP%]   .ds-text[_ngcontent-%COMP%]   .dataset-title[_ngcontent-%COMP%]{font-size:18px}.mat-option[_ngcontent-%COMP%]   .ds-text[_ngcontent-%COMP%]   .dataset-type-title[_ngcontent-%COMP%]{font-size:12px;line-height:10px;font-weight:300}.info-title[_ngcontent-%COMP%]{font-weight:500;min-width:500px;font-size:1.2em;padding-right:15px}.modal-title[_ngcontent-%COMP%]{margin-bottom:5px}.modal-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-right:5px;margin-bottom:-8px}.modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 3px;font-size:.7em;font-weight:300}.content[_ngcontent-%COMP%]{max-height:400px}table[_ngcontent-%COMP%]{padding:0 3px;table-layout:fixed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-wrap:break-word}@media screen and (max-device-width:480px){tr[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]}),t})();var rF=n("bM1K"),sF=n("4tdA"),oF=n("TEsn"),aF=n("Rznk"),lF=n("l8fJ"),cF=n("ax4G"),hF=n("Pda+"),uF=n("re9t"),dF=n("r56K"),fF=n.n(dF),pF=n("Fe00"),gF=n("5Oj5"),mF=n("heo9"),_F=n("m+aV"),vF=n("PooM"),yF=n("CBkX"),bF=n("dTzw");const wF=ZR,xF=new Image;xF.src="https://storage.googleapis.com/cdn.mol.org/static/images/hatching/bw20.png",xF.width=512,xF.height=512;const CF=document.createElement("canvas").getContext("2d").createPattern(xF,"repeat");function OF(t=!1,e=!1){const n=new gF.a({color:""}),i=new mF.a({color:"#CCCCCC",width:1}),r=(new _F.b({fill:n}),new _F.b({fill:n,stroke:i})),s=(new _F.b({stroke:i}),new _F.b({image:new vF.a({fill:new gF.a({color:"#F60C1577"}),stroke:new mF.a({color:"#CCCCCC",width:.6}),radius:17}),fill:new gF.a({color:"#FA4141"})})),o=new _F.b({image:new vF.a({fill:new gF.a({color:wF[0]}),stroke:new mF.a({color:"#CCCCCC",width:1}),radius:1}),fill:new gF.a({color:"#FA4141"})}),a=[];return function(e,l){let c=0,h=e.get("layer");"tile"===h&&(h=e.get("product_type")),e.get("product_type"),e.get("presence");const u=e.get("uncertainty"),d=e.getGeometry().getType();if("nodata"==h)n.setColor(CF),a[c++]=r;else if("coverage"==h)n.setColor("rgba(255,255,255, 0)"),a[c++]=r;else if("range"==h){const t=e.get("seasonality");n.setColor(QR.range.seasonality[t]),a[c++]=r}else if("localinv"==h)n.setColor(QR.localinv.color),i.setWidth(.7),a[c++]=r;else if("regionalchecklist"==h)n.setColor(QR.regionalchecklist.color),a[c++]=r;else if("griddedrangeatlas"==h)n.setColor(QR.griddedrangeatlas.color),i.setWidth(.1),a[c++]=r;else if("alienchecklist"==h)n.setColor(QR.alienchecklist.color),n.setColor("rgba(255, 208, 215, 0.7)"),a[c++]=r;else if("movement"==h);else if("buffer"==h&&t)n.setColor(u>=16e4?"rgba(51, 51, 51, 0.15)":u<16e4?"rgba(51, 51, 51, 0.2)":u<=8e4?"rgba(51, 51, 51, 0.25)":u<=4e4?"rgba(51, 51, 51, 0.30)":u<=2e4?"rgba(51, 51, 51, 0.35)":u<=1e4?"rgba(51, 51, 51, 0.40)":u<=5e3?"rgba(51, 51, 51, 0.45)":u<=2500?"rgba(51, 51, 51, 0.5)":u<=1250?"rgba(51, 51, 51, 0.55)":u<=625?"rgba(51, 51, 51, 0.6)":"rgba(51, 51, 51, 0.5)"),a[c++]=r;else if("points"==h)o.getImage().setRadius(4),a[c++]=o;else if("occurrence"==h){const t=Math.trunc(Math.min(8,Math.floor(Math.log(e.get("total")))));if("Polygon"==d)n.setColor(wF[t]+"AA"),i.setWidth(.2),i.setColor("#333"),a[c++]=r;else{const e=Math.floor(2*t+3);s.getImage().setRadius(e),s.getImage().getFill().setColor(wF[t]),a[c++]=s}}else"spp_data"==h&&(n.setColor("rgba(68, 136, 51, 0.6)"),a[c++]=r);return a.length=c,a}}function SF(t=[],e={threshold:.1,showCellProtectedArea:!0}){const n=new gF.a({color:"#f44444aa"}),i=new mF.a({color:"#EEEEEE",width:.3}),r=new _F.b({stroke:new mF.a({color:"#000000",width:.5}),fill:new gF.a({color:"#ffffff00"})}),s=new _F.b({stroke:new mF.a({color:"#FFFFFF",width:1})}),o=new _F.b({fill:n,stroke:i});return function(t,n){const i=t.getProperties();if("layer"===i.layer)return o.getFill().setColor(KR[i.map_color]),o;if("region"===i.layer&&"data"===i.type){if(!e.showCellProtectedArea)return;return parseFloat(i.prop)>=e.threshold?r:void 0}if("region"===i.layer&&"mask"===i.type){if(!e.showCellProtectedArea)return;return s}if("region"===i.layer)return r;if("pattern"===i.layer){const t=o.getFill();if(i.pct_value)t.setColor(XR[Math.round(i.pct_value)]+"77");else if("sr_mrx"===i.ptype||"ph_mrx"===i.ptype)t.setColor("0"===i.pvalue?"#00000000":(c=parseFloat(i.pvalue),JR[Math.floor(9*c)]+"88"));else if("disc_srunk"===i.ptype){let e=parseFloat(i.pvalue);t.setColor("#00000000");let n=(t=>Object(qR.a)((t=>{for(let e=1;e<eI.length-1;e++)if(t<=eI[e+1])return iI[e](t);return 1})(100*t)))(e).replace("rgb","rgba").replace(")"," ,0.6)");t.setColor(n),o.getStroke().setColor("#00000000")}else if("richness"===i.ptype){var a=(l=parseInt(i.map_color,10),KR[l]);t.setColor(a),o.getStroke().setColor("#00000000")}else if(i.map_color){const e=parseInt(i.map_color,10);e<2e3?t.setColor(XR[e-1e3]+"88"):e>=2e3&&t.setColor($R[e-2e3]+"88")}else i.label&&t.setColor(function(t){switch(t){case"FishOnly":return"#2e72f6";case"PlantsOnly":return"#7ce245";case"VertsOnly":return"#d32d1f";case"Fish_Plants":case"Fish_Verts":return"#4aa586";case"Plants_Fish":return"#a07125";case"Plants_Verts_Fish":return"#465085";case"Marine":return"#ccfde9";default:console.log("getRarityCentersColor",t,"not found")}}(i.label)+"aa")}var l,c;return o}}var kF=n("hatQ"),EF=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MF=function(t){function e(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(Object(kF.b)(n.geometryName_),n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return EF(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(VI.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(VI.a)(t,SI.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(Object(QI.a)("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(Object(kF.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Object(kF.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(kF.a);const TF=[];for(let hq=0;hq<=14;++hq)TF.push(156543.03392804097/Math.pow(2,2*hq));const AF=new pF.a({extent:Object(II.g)("EPSG:3857").getExtent(),resolutions:TF,tileSize:512}),PF=new CI.a({format:new bI.a({featureClass:MF}),projection:"EPSG:3857",tileGrid:AF,transition:0}),RF=new xI.a({title:"Vector tile - Species",visible:!1,source:PF,renderMode:"image",style:OF()}),IF=new CI.a({format:new bI.a({featureClass:MF}),projection:"EPSG:3857",tileGrid:AF,transition:0}),DF=new xI.a({title:"Vector tile - Species",visible:!1,source:IF,renderMode:"image",style:function(){var t=new gF.a({color:"rgba(251, 120, 84, 0.6)"}),e=new mF.a({color:"#FA4141",width:1});new _F.b({image:new yF.a({fill:t,stroke:e,points:3,radius:4,rotation:Math.PI/4,angle:0})});var n=new gF.a({color:"rgba(255,255,255,0.4)"}),i=new mF.a({color:"#3399CC",width:1.25}),r=(new _F.b({image:new vF.a({fill:n,stroke:i,radius:5}),fill:n,stroke:i}),new _F.b({image:new bF.a({opacity:.4,src:'data:image/svg+xml;utf8,\n<svg width="100" height="100" version="1.1" xmlns="http://www.w3.org/2000/svg">\n  <style>\n  polygon {\n    fill: white;\n    stroke: darkgrey;\n    stroke-width: 20px;\n  }\n  </style>\n\n  <polygon color="white" points="100,100 50,0 0,100" class="triangle" />\n  </svg>\n',color:"rgb(241, 147, 121)",scale:.1})}));return()=>r}()}),LF=new CI.a({format:new bI.a({featureClass:MF}),projection:"EPSG:3857",tileGrid:AF,transition:0}),FF=new xI.a({title:"Vector tile - Occurrence",visible:!1,source:LF,renderMode:"image",style:OF()}),NF=new rD({tileGrid:AF}),jF=new wI.a({title:"Raster version",visible:!1,opacity:.7,source:NF}),zF=new aD.a({fold:"open",type:"overlay",layers:[jF,RF,FF,DF]}),VF=[];for(let hq=0;hq<=5;++hq)VF.push(156543.03392804097/Math.pow(2,2*hq));const BF=new pF.a({extent:Object(II.g)("EPSG:3857").getExtent(),resolutions:VF,tileSize:512}),HF=new CI.a({attributions:'\xa9 <a href="https://mol.org">MOL</a>',format:new bI.a,projection:"EPSG:3857",tileGrid:BF}),UF=new xI.a({title:"Vector tile - Indicators",visible:!1,source:HF,style:SF()}),GF=new aD.a({fold:"open",type:"overlay",layers:[UF]});function WF(t=[]){if(0===t.length)return function(t,e){};const e=tI,n=Math.min(t.length,e.length),i=new gF.a({color:"#f44444aa"}),r=new mF.a({color:"#EEEEEE",width:.2}),s=new _F.b({fill:i,stroke:r});return function(r,o){return i.setColor(function(i){for(let r=0;r<n;r++)if(i<=t[r])return e[r];return"#000000"}(r.get("ct"))+"88"),s}}const YF=[];for(let hq=0;hq<=1;++hq)YF.push(156543.03392804097/Math.pow(2,2*hq));const qF=new pF.a({extent:Object(II.g)("EPSG:3857").getExtent(),resolutions:YF,tileSize:512}),XF=new CI.a({attributions:'\xa9 <a href="https://mol.org">MOL</a>',format:new bI.a,projection:"EPSG:3857",tileGrid:qF,transition:0}),$F=new xI.a({title:"Vector tile - Datasets",visible:!1,source:XF,minZoom:1,maxZoom:8,transition:0,style:WF()}),KF=(new xI.a({title:"Vector tile - Models",visible:!1,source:XF,minZoom:1,maxZoom:8,transition:0,style:WF()}),new aD.a({fold:"open",type:"overlay",layers:[$F]}));class ZF{constructor(t={zoom:2,center:[10,30],maxZoom:14},e,n,i="species",r=(t=>{})){this.mode="species",this.overlaySource=[PF,LF,NF,IF],this.overlayLayer=[RF,FF,jF,DF],this.tileLoadStartRef=null,this.tileLoadEndRef=null,this.tileLoadErrorRef=null,this.clickHandlerRef=null,this.pointerMoveHandlerRef=null,this.mode=i,this.initMap(t),this.mapClickCallback=e,this.mapMouseOverCallback=n,this.tileLoad=r}initMap(t){let e=zF;"indicators"===this.mode||"patterns"===this.mode?e=GF:"datasets"===this.mode&&(e=KF),this.map=new rF.a({target:"map",interactions:Object(hF.a)().extend([new uF.a]),layers:[uD,e],view:new sF.a({center:Object(II.d)(t.center||[10,30]),zoom:t.zoom||2,projection:"EPSG:3857",maxZoom:t.maxZoom,minZoom:2}),controls:Object(oF.a)({attribution:!1}).extend([new aF.a({collapsible:!1}),new lF.a,new cF.a])});const n=new fF.a({label:"Layers",reverse:!0});this.map.addControl(n);const i=this;this.clickHandlerRef=function(t){const e=t.map.getFeaturesAtPixel(t.pixel);i.mapClickCallback&&i.mapClickCallback(e,t.coordinate,t)},this.pointerMoveHandlerRef=function(t){if(t.dragging)return;const e=t.map.getFeaturesAtPixel(t.pixel);i.mapMouseOverCallback&&i.mapMouseOverCallback(e,t.coordinate,t)},this.map.on("singleclick",this.clickHandlerRef),this.map.on("pointermove",this.pointerMoveHandlerRef)}dispose(){this.map.getLayers().forEach(t=>{this.map.removeLayer(t),t&&t.dispose()}),this.map.getInteractions().forEach(t=>{this.map.removeInteraction(t)}),this.map.setTarget(null),this.map.setView(null),this.map.un("singleclick",this.clickHandlerRef),this.map.un("pointermove",this.pointerMoveHandlerRef)}addInteraction(t){this.map.addInteraction(t)}removeInteraction(t){return this.map.removeInteraction(t)}removeLayer(t){return this.map.removeLayer(t)}getInteractions(){return this.map.getInteractions()}addLayer(t){return this.map.addLayer(t)}getLayers(){return this.map.getLayers()}getPixelFromCoordinate(t){return this.map.getPixelFromCoordinate(t)}setTileUrl(t,e=0){"OFF"===t||("species"===this.mode||"erm"===this.mode?this.speciesTileUrl(t,e):"indicators"===this.mode||"patterns"===this.mode?this.indicatorsTileUrl(t):"datasets"===this.mode&&this.datasetTileUrl(t)),this.overlayLayer&&(this.overlayLayer.length<=e||(this.overlayLayer[e].setVisible(t.length>0&&"OFF"!==t),this.mapLoadingHandlers(),this.overlayLayer[e].getVisible()&&(this.overlaySource[e].setTileUrlFunction((function(e){return t.replace("{proj}","3857").replace("{z}",String(2*e[0]-1)).replace("{x}",String(e[1])).replace("{y}",String(e[2]))})),this.overlaySource[e].refresh())))}removeTileLoadHandlers(t){this.overlaySource.forEach((e,n)=>{void 0!==t&&t!==n||(e.un("tileloadstart",this.tileLoadStartRef),e.un("tileloadend",this.tileLoadEndRef),e.un("tileloaderror",this.tileLoadErrorRef))})}setView(t,e,n){t&&this.map.getView().setZoom(t),e&&this.map.getView().setCenter(Object(II.d)(e)),n&&this.map.getView().fit(n)}restyle(t){let e;if("patterns"===this.mode)e=SF(void 0,{threshold:t.pa/100,showCellProtectedArea:t.showCellProtectedArea});else{if("datasets"!==this.mode)return;e=WF(t.breaks)}this.overlayLayer.forEach(t=>{t instanceof xI.a&&t.setStyle(e)})}indicatorsTileUrl(t){this.overlaySource=[HF],this.overlayLayer=[UF]}datasetTileUrl(t){this.overlaySource=[XF],this.overlayLayer=[$F]}getOccurenceFeatures(){return PF.getFeaturesInExtent(this.map.getView().calculateExtent(this.map.getSize())).concat(LF.getFeaturesInExtent(this.map.getView().calculateExtent(this.map.getSize())))}speciesTileUrl(t,e){t.indexOf(".mvt")>-1||e>0?(this.overlaySource=[PF,LF,NF,IF],this.overlayLayer=[RF,FF,jF,DF]):(this.overlaySource=[NF],this.overlayLayer=[jF],RF.setVisible(!1),FF.setVisible(!1))}mapLoadingHandlers(){if(null===this.tileLoadStartRef){const t=this;this.tileLoadStartRef=function(){t.tileLoad("start")},this.tileLoadEndRef=function(){t.tileLoad("end")},this.tileLoadErrorRef=function(){t.tileLoad("error")}}this.overlaySource.forEach(t=>{t.un("tileloadstart",this.tileLoadStartRef),t.un("tileloadend",this.tileLoadEndRef),t.un("tileloaderror",this.tileLoadErrorRef),t.on("tileloadstart",this.tileLoadStartRef),t.on("tileloadend",this.tileLoadEndRef),t.on("tileloaderror",this.tileLoadErrorRef)})}zoomToExtent(t,e=100){this.map.getView().fit(Object(II.p)(t,"EPSG:4326","EPSG:3857"),{padding:[e,e,e,e]})}updateSpeciesStyles(t=!1){FF.setStyle(OF(t))}setBaseLayer(t){}addWebGLFeatures(t){console.log("turn back on addFeatures to speciesWebGLMovementSource")}}const QF=function(){return{moveFullScreen:!0}};let JF=(()=>{class t{constructor(t,e,n){this._dialog=t,this.mapService=e,this.spinner=n,this.mode="species",this.styleParameters={},this.selectedDatasetIds=[],this.subscriptions=[],this.activeTileUrls={}}ngOnInit(){const t=this;let e;["patterns","indicators","datasets"].indexOf(this.mode)>-1&&(e=function(e,n){t.handleMouseOver(e,n)});const n=["species","erm"].indexOf(this.mode)>-1?14:8;this.map=new ZF({maxZoom:n},(function(e,n,i){t.handleClick(e,n,i)}),e,this.mode,this.getTileLoadHandler()),this.subscriptions.push(this.mapService.scientificname.subscribe(t=>{this.scientificname=t,this.updateMap(),this._dialog.closeAll()})),this.subscriptions.push(this.mapService.selectedLayers.subscribe(t=>{this.selectedDatasetIds=t,this.updateMap()})),this.subscriptions.push(this.mapService.zoomToExtent.subscribe(t=>{t&&t.southWest&&this.map.zoomToExtent([t.southWest.lng,t.southWest.lat,t.northEast.lng,t.northEast.lat],t.buffer?t.buffer:void 0)}));let i=t=>{((null==t?void 0:t.url)||""===(null==t?void 0:t.url))&&this.activeTileUrls[t.index]!==t.url&&(this.activeTileUrls[t.index]=t.url,this.map.setTileUrl(t.url,t.index))};this.subscriptions.push(this.mapService.tileUrl.subscribe(t=>{i({url:t,index:0})})),this.subscriptions.push(this.mapService.secondaryTileUrl.subscribe(t=>{i({url:t,index:1})})),this.subscriptions.push(this.mapService.modelTileUrl.subscribe(t=>{i({url:t,index:2})})),this.subscriptions.push(this.mapService.tileParam.subscribe(i)),this.subscriptions.push(this.mapService.displayUncertainty.subscribe(t=>{this.map.updateSpeciesStyles(t)}))}ngOnDestroy(){this._dialog.closeAll(),this.subscriptions.forEach(t=>t.unsubscribe()),this.mapService.updateTileUrl(""),this.mapService.updateSecondaryTileUrl(""),this.map.dispose(),this.map=null,document.getElementById("map").remove()}ngOnChanges(t){t.styleParameters&&(t.styleParameters.firstChange||this.map.restyle(t.styleParameters.currentValue))}updateMap(){}handleClick(t,e,n){t&&t.length>0&&("erm"===this.mode&&this.speciesClickHandler(t,n),"species"===this.mode&&this.speciesClickHandler(t),"indicators"===this.mode&&this.indicatorsClickHandler(t),"patterns"===this.mode&&this.indicatorsClickHandler(t),"datasets"===this.mode&&this.indicatorsClickHandler(t)),this.mapService.updateClickEvent(Object(II.l)(e))}handleMouseOver(t,e){this.mapService.updateMouseOverFeatures(t)}indicatorsClickHandler(t){this.mapService.updateClickedFeatures(t)}speciesClickHandler(t,e){const n=t.filter(t=>t.get("molid")).map(t=>t.get("molid"));let i=t.filter(t=>t.get("hash")).map(t=>t.get("hash"));if(i.length>1){const t=i.map(t=>6==t.length?t:t.slice(0,-1));i=[...new Set(t)]}i.length>0&&n.length>0?YL(this.mapService.getFeaturesMetadata(n),this.mapService.getSpeciesGeohashMetadata(this.scientificname,i)).subscribe(([t,e])=>{this.displayMetadata(t,e)}):n.length>0?this.mapService.getFeaturesMetadata(n).subscribe(t=>{this.displayMetadata(t,[])}):i.length>0&&this.mapService.getSpeciesGeohashMetadata(this.scientificname,i).subscribe(t=>{this.displayMetadata([],t)})}displayMetadata(t,e){this._dialog.closeAll(),this._dialog.open(iF,{minWidth:420,width:"40%",maxWidth:700,position:{bottom:"0px"},data:{datasetResults:t,geohashResults:e,scientificname:this.scientificname},hasBackdrop:!1})}getTileLoadHandler(){const t=this;return e=>{"start"===e?t.spinner.increaseActiveRequests():t.spinner.decreaseActiveRequests()}}}return t.\u0275fac=function(e){return new(e||t)(Lo(vE),Lo(QA),Lo(KA))},t.\u0275cmp=pe({type:t,selectors:[["mol-map"]],inputs:{mode:"mode",styleParameters:"styleParameters"},features:[Xa],decls:6,vars:3,consts:[["id","map"],[1,"map-logos"],["href","https://google.com/","target","_blank","title","Google"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARAAAABcCAYAAACm5+q2AAAXGElEQVR4Ae1dC5QcVZm+OtOBwC6CwiqCCBIQkAWSqpqEkNhdt3uyQeJBgSi4uwoIihtchJgF5TGarpoJicACCkFANuGBBhcQH5DMJAH0CCjIQ1hYfBAeZPoRkklVdR6ZZHrvt+a4pLdn5r/Vdbuqh/udc0/nMdPTZ+rWV//9/+//fhYHZnat2yvtVEzueqdx159ju8Fltus73PF7xN/ni79fIta52e5gVtr1j053VXdnGhoa70ykezYfzJ3KedwN7rJd/8/itSqzMnlvu3h9Xnzvzdz1/ynd5e3LNDQ0xi7SCyoHcjf4ZiYfPAsSiHTlvSHxvqtsJzi7c9HQnkxDQ2NsgLvedNvx78u43g7c7KqXIJIB7voLpzvB/ixh0NAwf3hqdbTFGNOw8xun8nzwsCqiIEQlm2zXX4D8CtPQ0ATSGshdWfmgII4f4SZOxHK8fiRnmYaGJpAEo1p9F3eCM3GEwI2btAVSS3dt2JtpaGgCSRZwTOBusAw3aqJX3n8l2xNMZBoamkCSgdz8jYdxN3gpCQRBz414pzANDU0giUiUrldxk2fcoGi73muZfFDI5L0tUZd9oUNhGhqaQOJBxvWzGderRJCb+L14vZa7/ul2T3DsrK7qHvXyK9N6BvbhTqUDilTb9W8TP/uNsD8TJWUI0JiGhiaQ5iOb9zOIEsLewFCf2k5wORSpjSRt005liiCyGzN5P9DkoaEJpAXAXf+YjBtsDCnyesHO+2eIXpZ2FiEQndiu/y3uBr4mDw1NIAlFZ5f/d8hLhCAPnzv+10AccWlQNHloaAKJEbOXVdtsN1gtH3X4v84t2HRQk49YnxVE4mny0NAEkhBwJ7hUPlkZXG/cVE2xGJDt3nh4Jh/8tyYPDU0gCch78Ly3TSpR6gTfQKKTxQi0+cNDhGloaAKJB11d1Xdz139MkjzmMQ0NDU0gggw+L3lsuYYeeWhojFloApl57dBu3PXWSJRpVyHZyjQ0NDSBcCc4R4I81qGMyjQ0NDSBIPch0yQnkpVfYICGhoYmEPS6yGg9QDgM0NDQ0ATC88GdVAJBbwwDNDQ0NIGgI5baaZtx/Sd01aV1oKEJpNrF3o3FVAHiK2r0QVN5alTT6fZ13OgoZs15xax1d4Ebvy1ljULJtiqFrDWEV/wd/y7+/66ibX69nDUtfF8iPv9q1r6tr71jW2/7vG0r2u8e7Ev9duuKVGFrX6oi/lwVfx4UqzzY2/aM+LofiXWx+Nrj8X0sAcAwMu4EJ8Jo23aDXrjToaP8r3OG8kEJD0N0d4uv+czUK8t/2+oE0t95zJ6lrDVLrEUlbvSJ1zVij20Wr9W/LGOT2Hd/KtnGg0Vu5stZIxPJfoMEndgaX0l3Ff+GDQuNUtacKC7Wd0vcKuGiSS/bLIrX64ud1nEsBmxdnjpusDd1vSCKIohCdonvWze4IrVYvE5iMQAWltz1b0VDZwhX/5vT3QMTavqscpTvj4tAqoy9q9hpnCAI4U4QRLj9Zl65jk85oIHyrfcM1aiYadRF0TanCnbvxUWJcK0o5DqmsCYA0YOIKFbQyYJEJqu3LW8/gTUB9nz/Y9zxft64g503iDlDU64aGp90AunPTJpcyBqPRLLXbGuLIJIFiGLC5D920CTrlS8xjV3wZtrYV1yA23ERFK6lb2St9yk6quwryGMpbnhVS7z/XUO/YPupEz/63TiWRDwe5Bl0lSeRQN6cZeyBKFfJXrONP0s9tLLdFYv6S0273hFM468o2x28wK21+MWrXuJJ80YpZ6ZZhBD5i4zIXbyJm1z1Qv5ksK/NZhECNzh3vCdVGXLDCweWmkkikGJ64gRxVHle7V6zthW5dSajwHb9zxFDu83/p/3QKHHrnIJtbMcvvFkLP69om2dFkuvoTZ0tjhjbcXM3a+HnCcL6clS5Dhhwx+P2r4BA6Pm1cvP2nHEhgUCCS2hsHDzHNABW5tZc/IJjW9z8WoP5jgtxQ8e1BInMbbDlYhJ3gw3Yl+8UAunvNI8uZM31Td9rOevc0QjkKlr+w/8pU4y4N8E019tv9Mij44v4xca9ilkrVCvB1pWps3ATx70QAYUbLTJwKHeDMq7XO4VAimnrA+II+3oc+wxRb5l32CO07/u3ECOQO8Y6gWS7Nx3PRgCSS+JCDjYQEhbEjf9E0bZW4xUltEbOqdCNSEUeq9oni1zEtgaOIGvF62Pi5l+JV/Fe/Q3kRLZtW9k+lUmgc9HQntwNng97fdEACu2H+PNKeN5gjnLSCQQCsGLWXBlyv20qcOth8f03F7h5rdhv/1Hi5mPYO7L7du3M4/YbroS7lCggu2msE8hIQ7nXzezYq2hbr8ofN4ynxQX8l/U5o65P7Fp74oeL3JwjzrfPhtggr5SnTiUJoEQVZC8hCFsjfbP3pp5E3mKob/wBdd939fgDxft+RSRIn5Z9b3wefC66V42/WJ40vFdxTIflZT0FNUaNcNefi9EjSSQQ7I0Q5PG42E+ffW3KlPHD7WUcTSAqo7+nuWyYm9ZbQpztcvPYJ5DKsAk+MLhc6Ge9VuAdn4LQhywIypqnotoidZSxzatoFZfUNZJ5ilcH+8Z9slqlfX58nfj6TwtSeF2SSK6jiR29tOQwsQomA1A9evF1IBJMRUwKgUAiULCNjfS9YLxVso0zqHvulXR6d5lycNHumFEnAvG/TyKQfHD3mD/C5P2L6jJ2bvKRghB2SNTSHxyYNm0fFgLQe0CQJnVGtc2PshGwZcW4I8XxY4fEUeVn1V72HhYCQw+x94ojznKZysyWh8YdMarVxE6xI3H9EZKDsAlaVHeSQCCQpEtEo88jyg1ZUVxIjEKexZGqNiy8kpZE9R4c8xGIE1w8zIVcKnEh760aRoo1gOrso8YVs9ZPJH7mbWwEiGhiicSx4p5G+1mqT7KUeJ/7JKKdEfNrGcc7VYY8pjvB/qwBgHwybvBW0wmk9piRtXxiFPpfiFYa6dvCUZvysxBV1zqwzyUmUV8e6wRidwdfZzUo5yZ+kKr3KGTNJxEWMgJoakPjGaLIbBCZ+roRwYNsf7LeY0XqCZGT2I1FgKFfs/EiL/I7ahQytGL8sO528J8htlp4yHWwCCD2wow4CaTMjS8THyA+xGXhH1az29CAV7Ct39HIylodkt29QZwTx3YOxJ/DaoAuWeIvdqt4PZxFiH7b+hjIoRFtCDQXxJt4izjqHMYixJa+cUdRqz7o+q0fDfhH05WjwbksQqApLy4CKWTNR4nX/QIWAqiqFLl1MRLxsklaHJnDXaCeisEUAv0MKhZ6fcJaFQhi+A1Nl2F+hykAOnOJG+kxVgeIKohHiYVMAZAkpUY/9XMSfp5Yon02aqU0dyoHiL2ztdkEgvwZJeeGhDuOuzKdu5AioHcLD7zR3p+UuEdUQc88+3NZ6wEb4dPEI8wuWeYN6WP3Jl7IQRx1mAKgzEv6DEim1pR0kQilJE/h7YGjDlOAau/uBxE/w1D1l2yfOtWXp4gJ8H9kCmDng9ubTSBlbn6S+NDoovqEoPWCekwhPCxX1doZ/orYobi89cd00psFxQU6kVp1YQqBC0a6sDnrH3Z9+redSK26MIUQ799L05y0zWRvA7xniNGjj/Z7Fj2QC/lEswmkmLW+TUtoTj5mlOj1cPFe1wjiGGiUNBCxFG3jDthWIJKprcS4RFHOdkzsb0HD6HsJuoEdcLEK0/MiLtJXFRPIvBB5EPS8XESsgsxhCoE8DPFz/NuuT/+NU4mR8f0q7T4x5rWJBIIb/x5K8hQl1XoVFVRK4CUTkZx9jXgwXdLfefzw9z13vekSicYLWAsB6kNKXR+Dues8CRZTfsmqTX9KtvVxIoHcUJP/WEy8cTsUE8h0Yh5kccgpid9kCgENSjMJBDaXhNL9M7t+z+T3l7h1KQSMEbTzD4n1C1RnUKWh+Ee2Z9ygSBzp8Cd8PWsR2D3BscRNeFcdgc2PKb9wWg0+PGA3R7z499TcuD+m3LgQfzGFQH6FqEG5r+boeTHtaO3PVnwE/s/mRiDGK5Q8BI4SJd4xHZ67hP4WkpIVorKiPenQML+k68jVmLx/RuvM+vW/TdyE5/9/AjEfovziCSzdENDTECIXg9zDQ5QbV6VjN1BdxsYRczG9NV41DjEqtplCoI2jmQRC8dP930jDtp6L6JjyeDHb8XnsM+VPaiw0HiFf0CLT9v5I1LkcxWoAZ2sSgSi+AaFsJTbu9dUQSB+l+sEAtQTSRuzQXVVTwu2hPdC8jyvOod3YTAJpjmmQsbnArVvL9mQjQh1G8KiE8OoKlnBQM+iw/EeupM6T4H6SsAblU4VAfwyxV+G+miPM/aQjzHK2J1MIlGeJHiE/r4mKu4jl908whUApt5kEotD7A+X+l+E0Bq1JrPNhILCBrVyik6fwfqCFwAvrNxmZSygXBYpRtfaJkybRe2Lke2DQbKd8VAQtmbukRgk6p9Eu6ogerKuaSSDUvhTqgo4ID5cCNzrVRsu46RzvNxLS4ZcJA3liAVSl5C7c+f7fD0MgV9Dq8aaaYVvyLmiX1RDIFZQbd/vK1BmKdSBnEtWw80M+0L6n8p7AEKpmEgihkZJuYMXN/FszzA+xZgFzbyVNeB4i9Mg0FekFlQOp3ZQQ0Q1/45qnEy/WD5hCYGgQ0b/yM+xt2N6XOp1WPm27RXEZ9w7K58Dn3cWBLL/5EOI+fIkpQm6+d2SThWTYdz0NOvg/AkMhmsxdATBASnKGxtLZy6ptLAGAelGQ2m/JRzGncvKwEuD05IOJXbjrw3ThUmXI1Lbu2ifN5tW7HUysfrwlWviVfH7kV0Ry1KN8js3Ldzuk9ulPlRegCMAUABqTpitRc+YpIYjDL3HrezBfjv8mXBh8QJDIeslu1mUY8sNixMyudXtxN3hEInp6erQGLGq3YjlrfklRM92/EjfQH+o7sLe9QiSRcxRNvPsq5efjc9ZzP+P54E5iHutWBfN121FxbDaBIGkOMRdR9PVSMWt9hZDIby4wcFi6HT4fPAzyYTFgRn7Th0AIkg5kOTYK0EtATFS9WUwfFencYOEw9R6JGbuLGrEyhBWhiEIi/fxo5sNAKaL36jXDqKRPo7ZZoBQfcRXvrJja+aE+/iXlukPsyCRBc4G3jo8iEXlTiJGA/bgxm1yunUFJdNEtGuUrIFhFbkVqPI0qkIRf5bHDJDAnSfiT3hDx5LvbJKwNJw03ZZ+cz3L8x6PKx2HEB/ZUCxgKQUAYWRkbvTRwgd/ZAb6oIXEZjiRkN6g6YyBURyPCfep9oUjO9damu7x9qR4K8NogJ7C4dV5E5HEB3fnd+tXIZsepxyTGLZwb9dGFsOp6mdAFZTXTA6DpkUeNxUWwIk5HMhxJqIbKiFIJfqg0Y29ufL/2iIRer0aZ+A9hSATO2BhcBY/KaM+mG/a2neAbtXkaaqiLSpNkHmKWTCMSunNxMcJeRPE+F0kOmZo5SiQwS4JAhjCmgYUECEt68t3KthGfoOgAx14iP7yc4LtI6ocf1h0sS4CpMo7PrsSD68VGPGmgdhaRxy3D6UjQIyNZKKgppzne6w3MWxlEyzXsE1ElYSEwu6s6DkcV7vg/qN1MUsupnBeKmQmeHDXrdiTDpG3mbOuHctPUrd7RyAo3NWTikmMdlkBBGmLS/12SE+pWUkZHCFK4XPJar7Tzmz4sN29380foEbd6AoGhVck21kmUb19Hcx2TBJrnEMVSSCp0NJLuHpjAXW9NBMObBqG9gPrTdoKzc3lvGox8YB+HIwmiFXv+xo/CYgDt3AhfbTfopZAG4Vh1GQuJ8gzjCFkbuJ2zTC8f7cmAblu4S4noZYMkeWyh+rBidILIM2yVnET3liCSSwUxjHgUhSEyRGuCpDZIvv9WfC5GAHIhPB+8KJfU9zZxx1uEB+BoCXhMJ8DXJ2+wlHWmbEkXuiHk7vBgGW1Pi313ncy+RjQiiOrk0AItDNlO0kzSZvbuFLlxflh/hZ3eqtfDpAh5ErxiqA+8H2pKduSFRJukoOv8kCMtd4gqyePwN4VJESbV4VX82/XwMsWxJ8z7Ik/CJABP3lqPUpmSPXeCG+C8D+m77foXcje4Fu0OgjiGkjraEiRQ05NFXjsnzy2FQhmlXuw7mAPhqFLMGi+EfM/nMDGAhQWk69zxf9IqxIHNYbs+baMSjjKwdUvCcG3MOcXnkc1PkFSh6hfIYyk+Twhh1xdxXd9Jw7XR+IYmuLj3HJK1/Z0dh0TSJm87wTyC1VusK+MGGzNOcBKLEJAHE3xClK4CN3+GpFdYbw74hMQ8mX855s8o8HhpYQIh5CmyRn9cew4VoXLOMqN2appEsHuLZaEp0M4PHMoUACEcIaxUtIx7G6nNA9UH2B5o9Y8p8ngAQ6cabnBz/fnvJAIBMI8FidI4Ig+6b0iImjlmymbywUBCjiybYIWn2nYRLmRFbl3d5Au5ED83QpOfq5tKIL2p7xDGZpKBQVIqo2DkW1ASjp1AahLuyKc1cc/9vpA1P8JUA8IsVFZwA8dzXIH9v7cEGXXWRJSyHScpDi1RPluLERNMAUQn7kkiCdqvkjjw/pj0r0ZMWLFgK6FgP1VgVARVdZIIBHh55oTd8DBBRUQteZg3EBKm0RMJyqW2673WrIgD6kOUflmTUTMIeRHKqlHbzpWy5pWqG6VEPmIvER0swnjLSIkD74eoA5P+FQIzYWzX/1ZUD6+/VBr9Y5gAhUCQqFdCIIQ2iwK3Ho6aOBDhFHPGNBYnoASE8Mt2/Fu4G5QjJo1t8CHhTnBObsF6hZtTvgmpxK1uRCSNRhzFrOnUzOJQDug9xI3f3WhEsrOBrgf6kGZ3kUPPUdM7Q14Y/4GxJRAtvq0frJNy1FFGIITKYDlrZJCTG2UIPMlTF6prvGfizI0RaiJXYjvBPTCAgaRcooa/xna8BzkSZ05wIkHNGiuQpxDnxhxyJIWs9dRoA7Lx/5jsj5mjhZyVVe3yTsqP9LblkCMRR5ynMPpytOn6Ygre0yLa+Hfx2ll9kqWYIpBFZ27lU1Atw+92FNJYB/8bjIYAcYSx+cR7sAQADxyMsBRR6zJisrWMih4GktF7aRICJF+hEEw7lSk4a9qudwosBDDHVly0mZnuymRIi2PwGFHiql5MT5xQtjs4VHwl2zgDr/g7/h0dkCzBACEIc6IJomeFD/aOO3n7itTntq8cNxskAyUpSsMswZjWM7APHmAgA+wx7LWM66VzCzYdNErjHQjkC/ShZMkCpPCCTCaiV6rIjdPgWIcIoz8zaTKiZcWRhoaGBhTMBAJZxWqhoaGhgSP3aASCPB9rPWhoaCC/BkGjqveGJ+sYmxetoaExo2vgvdz152LyIMqoKsr46AgnakZOYBoaGskHOnI5qiuut3nXm9h/AAnRZk8ngPYkwYl+DQ0NlGXhDTPapEF8TWQ/06mYiGwI+Y+fMg0NjeQCvh1EvdBmyAJYg4BlRSYfvECcy/vPTENDI7nIzd94GFV4iKbORqb1Q6QIBzyiyHHDrK7qHkxDQyPZyLj+jVKtDiE6sjHdTsZxz3Z8l7UGNDR01QUlVclBZy9iOBSiipF6tuDLizEk6OiW6JsZwGdirQENDQ1I0cP6eogb/lHb8Rfbru8gckBEwx1vebjGOyx/DmstaGhogADiNq1CjgQiM9aK0NDQylNvaVzkge5eDLpiGhoaSQVhan4+uL3p5IG5z90bD2etDw0NHYkgl9FEAnmJYNLdStDQ0MDYDjiJqT22BHcqc77T0NCI3zCIO8F1UTu0Q40Ksys29qGhoQGHMe4EV6M028gkQ54P+uBaRpjwP9agoaEBb1PYYgoiuYY7/uMjDWbP5L0tUJ/arn8bRGcwZmYaGhoab59kh9Jr2vWP5k6lA/6o3PWO4q7/fq3naDVoaGhoaGhoaPwP1Ihp8Bm98aYAAAAASUVORK5CYII=",1,"google-logo"],["href","https://mol.org/","target","_self","rel","home","title","Home",1,"mol-logo"],["alt","Map of Life","src","https://mol.org/static/img/logo.png"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"div",1),Vo(2,"a",2),Ho(3,"img",3),Bo(),Vo(4,"a",4),Ho(5,"img",5),Bo(),Bo(),Bo()),2&t&&wa(Ql(2,QF))},styles:['.ol-box{box-sizing:border-box;border-radius:2px;border:2px solid #00f}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid #eee;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-step-marker{width:1px;height:15px;background-color:#000;float:right;z-Index:10}.ol-scale-step-text{bottom:-5px;font-size:12px;z-Index:11}.ol-scale-step-text,.ol-scale-text{position:absolute;color:#000;text-shadow:-2px 0 #fff,0 2px #fff,2px 0 #fff,0 -2px #fff}.ol-scale-text{font-size:14px;text-align:center;bottom:25px}.ol-scale-singlebar{position:relative;height:10px;z-Index:9;box-sizing:border-box;border:1px solid #000}.ol-unsupported{display:none}.ol-unselectable,.ol-viewport{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:grab}.ol-control{position:absolute;background-color:hsla(0,0%,100%,.4);border-radius:4px;padding:2px}.ol-control:hover{background-color:hsla(0,0%,100%,.6)}.ol-zoom{top:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:#fff;font-size:1.14em;font-weight:700;text-decoration:none;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;font-size:1.2em;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:focus,.ol-control button:hover{text-decoration:none;background-color:rgba(0,60,136,.7)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em)}.ol-attribution ul{margin:0;padding:0 .5em;color:#000;text-shadow:0 0 2px #fff}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button,.ol-attribution ul{display:inline-block}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:inline-block}.ol-overviewmap .ol-overviewmap-map{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:1px;left:2px;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-overviewmap-box{border:2px dotted rgba(0,60,136,.7)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.layer-switcher{top:3.5em;right:.5em;text-align:left}.layer-switcher .panel{margin:0;border:4px solid #eee;border-radius:4px;background-color:#fff;display:none;max-height:inherit;height:100%;box-sizing:border-box;overflow-y:auto}.layer-switcher button{float:right;z-index:1;width:38px;height:38px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACE1BMVEX///8A//8AgICA//8AVVVAQID///8rVVVJtttgv98nTmJ2xNgkW1ttyNsmWWZmzNZYxM4gWGgeU2JmzNNr0N1Rwc0eU2VXxdEhV2JqytQeVmMhVmNoydUfVGUgVGQfVGQfVmVqy9hqy9dWw9AfVWRpydVry9YhVmMgVGNUw9BrytchVWRexdGw294gVWQgVmUhVWPd4N6HoaZsy9cfVmQgVGRrytZsy9cgVWQgVWMgVWRsy9YfVWNsy9YgVWVty9YgVWVry9UgVWRsy9Zsy9UfVWRsy9YgVWVty9YgVWRty9Vsy9aM09sgVWRTws/AzM0gVWRtzNYgVWRuy9Zsy9cgVWRGcHxty9bb5ORbxdEgVWRty9bn6OZTws9mydRfxtLX3Nva5eRix9NFcXxOd4JPeINQeIMiVmVUws9Vws9Vw9BXw9BYxNBaxNBbxNBcxdJexdElWWgmWmhjyNRlx9IqXGtoipNpytVqytVryNNrytZsjZUuX210k5t1y9R2zNR3y9V4lp57zth9zdaAnKOGoaeK0NiNpquV09mesrag1tuitbmj1tuj19uktrqr2d2svcCu2d2xwMO63N+7x8nA3uDC3uDFz9DK4eHL4eLN4eIyYnDX5OM5Z3Tb397e4uDf4uHf5uXi5ePi5+Xj5+Xk5+Xm5+Xm6OY6aHXQ19fT4+NfhI1Ww89gx9Nhx9Nsy9ZWw9Dpj2abAAAAWnRSTlMAAQICAwQEBgcIDQ0ODhQZGiAiIyYpKywvNTs+QklPUlNUWWJjaGt0dnd+hIWFh4mNjZCSm6CpsbW2t7nDzNDT1dje5efr7PHy9PT29/j4+Pn5+vr8/f39/f6DPtKwAAABTklEQVR4Xr3QVWPbMBSAUTVFZmZmhhSXMjNvkhwqMzMzMzPDeD+xASvObKePPa+ffHVl8PlsnE0+qPpBuQjVJjno6pZpSKXYl7/bZyFaQxhf98hHDKEppwdWIW1frFnrxSOWHFfWesSEWC6R/P4zOFrix3TzDFLlXRTR8c0fEEJ1/itpo7SVO9Jdr1DVxZ0USyjZsEY5vZfiiAC0UoTGOrm9PZLuRl8X+Dq1HQtoFbJZbv61i+Poblh/97TC7n0neCcK0ETNUrz1/xPHf+DNAW9Ac6t8O8WH3Vp98f5lCaYKAOFZMLyHL4Y0fe319idMNgMMp+zWVSybUed/+/h7I4wRAG1W6XDy4XmjR9HnzvDRZXUAYDFOhC1S/Hh+fIXxen+eO+AKqbs+wAo30zDTDvDxKoJN88sjUzDFAvBzEUGFsnADoIvAJzoh2BZ8sner+Ke/vwECuQAAAABJRU5ErkJggg==");background-repeat:no-repeat;background-position:2px;background-color:#fff;color:#000;border:none}.layer-switcher button:focus,.layer-switcher button:hover{background-color:#fff}.layer-switcher.shown{overflow-y:hidden}.layer-switcher.shown.ol-control{background-color:transparent}.layer-switcher.shown.ol-control:hover{background-color:transparent}.layer-switcher.shown .panel{display:block}.layer-switcher.shown button{display:none}.layer-switcher.shown.layer-switcher-activation-mode-click>button{display:block;background-image:unset;right:2px;position:absolute;background-color:#eee;margin:0 1px}.layer-switcher.shown button:focus,.layer-switcher.shown button:hover{background-color:#fafafa}.layer-switcher ul{list-style:none;margin:1.6em .4em;padding-left:0}.layer-switcher ul ul{padding-left:1.2em;margin:.1em 0 0}.layer-switcher li.group+li.group{margin-top:.4em}.layer-switcher li.group>label{font-weight:700}.layer-switcher.layer-switcher-group-select-style-none li.group>label{padding-left:1.2em}.layer-switcher li{position:relative;margin-top:.3em}.layer-switcher li input{position:absolute;left:1.2em;height:1em;width:1em;font-size:1em}.layer-switcher li label{padding-left:2.7em;padding-right:1.2em;display:inline-block;margin-top:1px}.layer-switcher label.disabled{opacity:.4}.layer-switcher input{margin:0}.layer-switcher.touch ::-webkit-scrollbar{width:4px}.layer-switcher.touch ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.layer-switcher.touch ::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}li.layer-switcher-base-group>label{padding-left:1.2em}.layer-switcher .group button{position:absolute;left:0;display:inline-block;vertical-align:top;float:none;font-size:1em;width:1em;height:1em;margin:0;background-position:center 2px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAW0lEQVR4nGNgGAWMyBwXFxcGBgaGeii3EU0tXHzPnj1wQRYsihqQ+I0ExDEMQAYNONgoAN0AmMkNaDSyQSheY8JiaCMOGzE04zIAmyFYNTMw4A+DRhzsUUBtAADw4BCeIZkGdwAAAABJRU5ErkJggg==");transition:transform .2s ease-in-out}.layer-switcher .group.layer-switcher-close button{transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}.layer-switcher .group.layer-switcher-fold.layer-switcher-close>ul{overflow:hidden;height:0}.layer-switcher.shown.layer-switcher-activation-mode-click{padding-left:34px}.layer-switcher.shown.layer-switcher-activation-mode-click>button{left:0;border-right:0}:root{--topLine:3em}@media screen and (max-device-width:480px){:root{--topLine:0.1em}.layer-switcher>button{font-size:15px!important}}.layer-switcher{position:absolute;left:.5em;top:calc(var(--topLine) + 7em);border-radius:3px;background-color:transparent;width:60px}.layer-switcher.shown{width:unset}.layer-switcher button{width:60px;padding:2px;border-radius:3px;border:1px solid #000;line-height:25px;background-image:unset;font-weight:unset}.layer-switcher .panel{max-width:250px}.ol-scale-line{background-color:#fff;left:.9em}.ol-scale-line-inner{border:1px solid #000;border-top:none;background-color:#fff;color:#000}.ol-control button{border:1px solid #bbb;background-color:#fff;color:#000}.ol-control button:focus,.ol-control button:hover{background-color:#eee;color:#000}.ol-zoom{z-index:1000;top:calc(var(--topLine) + 0px);bottom:unset;left:.5em}.map-parent{position:relative}.ol-full-screen{left:.5em;top:calc(var(--topLine) + 4.5em);max-width:1.7em}.ol-attribution{bottom:35px}#map{width:100%;height:100%;transition:0;position:relative}.drawing{cursor:url(feather.f9ad4b07dac825fef883.svg) 2 20,auto}.google-logo{max-height:25px;z-index:10000}:host{position:relative}.map-logos{position:absolute;display:inline;bottom:5px;margin:0 auto;left:calc(50% - 50px);z-index:1}.map-logos a::-moz-selection{background-color:transparent}.map-logos:focus,.map-logos a::selection,.map-logos a:active,.map-logos a:hover,.map-logos a:visited{background-color:transparent}.map-logos img{height:40px}.map-logos .mol-logo{padding-left:20px}.map-logos .mol-logo img{height:28px}#hatch{background-image:url(/libs/ui/src/assets/bw20.png)}@media screen and (max-device-width:480px){.map-logos{left:35%;bottom:1px}.map-logos img{height:20px}.map-logos .mol-logo{padding-left:10px}.map-logos .mol-logo img{height:17px}}'],encapsulation:2}),t})();function tN(t,e){1&t&&Ho(0,"mat-spinner",1)}let eN=(()=>{class t{constructor(t){this.spinner=t,this.display=!1}ngOnInit(){this.spinner.activeRequests.subscribe(t=>{this.display=t>0})}}return t.\u0275fac=function(e){return new(e||t)(Lo(KA))},t.\u0275cmp=pe({type:t,selectors:[["mol-spinner"]],decls:1,vars:1,consts:[["class","main-spinner","color","accent","diameter","60",4,"ngIf"],["color","accent","diameter","60",1,"main-spinner"]],template:function(t,e){1&t&&Io(0,tN,1,0,"mat-spinner",0),2&t&&jo("ngIf",e.display)},directives:[hu,xC],styles:[".main-spinner[_ngcontent-%COMP%]{z-index:1000000;position:absolute;top:30px;left:calc((100% / 2) - 30px)}"]}),t})();function nN(t,e){if(1&t&&(Vo(0,"div",5),Da(1),Bo()),2&t){const t=ta();Or(1),La(t.productType)}}function iN(t,e){1&t&&Ho(0,"div",10),2&t&&va("background-color",ta().$implicit.color)}function rN(t,e){1&t&&Ho(0,"img",11),2&t&&jo("src",ta().$implicit.img,ir)}function sN(t,e){if(1&t&&(Vo(0,"div",6),Io(1,iN,1,2,"div",7),Io(2,rN,1,1,"img",8),Vo(3,"div",9),Da(4),Bo(),Bo()),2&t){const t=e.$implicit;Or(1),jo("ngIf",t.color),Or(1),jo("ngIf",t.img),Or(2),La(t.text)}}function oN(t,e){1&t&&(Vo(0,"button",19),Da(1," Strict Parks "),Bo())}function aN(t,e){1&t&&(Vo(0,"button",20),Da(1," All Parks "),Bo())}function lN(t,e){if(1&t&&(Vo(0,"div",12),Vo(1,"div",13),Vo(2,"button",14),Da(3," Records outside suitable range "),Bo(),Vo(4,"button",15),Da(5," Records in suitable range "),Bo(),Vo(6,"button",16),Da(7,"Suitable range"),Bo(),Bo(),Vo(8,"div",13),Io(9,oN,2,0,"button",17),Io(10,aN,2,0,"button",18),Bo(),Bo()),2&t){const t=ta();Or(9),jo("ngIf","protect"===t.productType),Or(1),jo("ngIf","protect"===t.productType)}}const cN={text:"No range data available",img:"https://storage.googleapis.com/cdn.mol.org/static/images/hatching/bw1.png"};let hN=(()=>{class t{constructor(){this.productType="",this.showLegendTitle=!1,this.legend=[]}ngOnInit(){var t;if("points"===this.productType)this.legend=QR.points.colors.map((t,e)=>({color:t,text:QR.points.text(e)}));else if("consensus"===this.productType)this.legend=[{text:"Consensus",color:"#448833"},cN];else if("range"===this.productType){const t=[];QR.range.seasonality.forEach((e,n)=>{n>0&&n<5&&t.push({color:e,text:QR.range.labels[n]})}),t.push(cN),this.legend=t}else(null===(t=QR[this.productType])||void 0===t?void 0:t.color)&&(this.legend=[{color:QR[this.productType].color,text:"Presence"}])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-detailed-map-legend"]],inputs:{productType:"productType",showLegendTitle:"showLegendTitle"},decls:5,vars:3,consts:[[1,"legend-parent"],["class","legend-title",4,"ngIf"],[1,"legend-box"],["class","legend-row",4,"ngFor","ngForOf"],["class","legend-flex",4,"ngIf"],[1,"legend-title"],[1,"legend-row"],["class","legend-color",3,"background-color",4,"ngIf"],["class","legend-color",3,"src",4,"ngIf"],[1,"legend-text"],[1,"legend-color"],[1,"legend-color",3,"src"],[1,"legend-flex"],[1,"flex-col"],["mat-flat-button","",1,"legend-epoints"],["mat-flat-button","",1,"legend-rpoints"],["mat-flat-button","",1,"legend-refine"],["mat-flat-button","","class","legend-park-strict ng-hide",4,"ngIf"],["mat-flat-button","","class","legend-park-all",4,"ngIf"],["mat-flat-button","",1,"legend-park-strict","ng-hide"],["mat-flat-button","",1,"legend-park-all"]],template:function(t,e){1&t&&(Vo(0,"div",0),Io(1,nN,2,1,"div",1),Vo(2,"div",2),Io(3,sN,5,3,"div",3),Bo(),Io(4,lN,11,2,"div",4),Bo()),2&t&&(Or(1),jo("ngIf",e.showLegendTitle),Or(2),jo("ngForOf",e.legend),Or(1),jo("ngIf","habitatDist"===e.productType||"protect"===e.productType))},directives:[hu,lu,Ub],styles:[".legend-color[_ngcontent-%COMP%]{width:15px;height:15px;margin:0 3px 0 12px}.legend-row[_ngcontent-%COMP%]{display:flex;min-width:200px;align-items:center}.legend-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;line-height:20px}.legend-flex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;cursor:default}.legend-flex[_ngcontent-%COMP%]   .legend-rpoints[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.legend-flex[_ngcontent-%COMP%]   .legend-epoints[_ngcontent-%COMP%]{color:#fff;background-color:#c0392b}.legend-flex[_ngcontent-%COMP%]   .legend-refine[_ngcontent-%COMP%]{color:#fff;background-color:#85ad5a;opacity:.7}.legend-flex[_ngcontent-%COMP%]   .legend-park-strict[_ngcontent-%COMP%]{color:#fff;background-color:#3e7bb6;opacity:.7}.legend-flex[_ngcontent-%COMP%]   .legend-park-all[_ngcontent-%COMP%]{color:#fff;background-color:#f90;opacity:.7}"]}),t})();function uN(t,e){if(1&t){const t=Yo();Vo(0,"div",3),$o("mouseleave",(function(){return Qe(t),ta().close()}))("touchend",(function(){return Qe(t),ta().close()})),Vo(1,"div",4),Vo(2,"div",5),Da(3,"Legend:"),Bo(),Vo(4,"div",6),$o("click",(function(){return Qe(t),ta().active=!1})),Vo(5,"mat-icon"),Da(6,"close"),Bo(),Bo(),Bo(),Vo(7,"div",7),Da(8),sc(9,"translate"),Bo(),Ho(10,"mol-detailed-map-legend",8),Vo(11,"div",7),Da(12),sc(13,"translate"),Bo(),Ho(14,"mol-detailed-map-legend",9),Vo(15,"div",7),Da(16),sc(17,"translate"),Bo(),Ho(18,"mol-detailed-map-legend",10),Vo(19,"div",7),Da(20),sc(21,"translate"),Bo(),Ho(22,"mol-detailed-map-legend",11),Vo(23,"div",7),Da(24),sc(25,"translate"),Bo(),Ho(26,"mol-detailed-map-legend",12),Bo()}2&t&&(Or(8),La(oc(9,5,"src_range")),Or(4),La(oc(13,7,"src_points")),Or(4),La(oc(17,9,"src_localinv")),Or(4),La(oc(21,11,"src_regionalchecklist")),Or(4),La(oc(25,13,"src_griddedrangeatlas")))}function dN(t,e){if(1&t){const t=Yo();Vo(0,"div",3),$o("mouseleave",(function(){return Qe(t),ta().close()}))("touchend",(function(){return Qe(t),ta().close()})),Vo(1,"div",4),Vo(2,"div",5),Da(3,"Legend:"),Bo(),Vo(4,"div",6),$o("click",(function(){return Qe(t),ta().active=!1})),Vo(5,"mat-icon"),Da(6,"close"),Bo(),Bo(),Bo(),Ho(7,"mol-detailed-map-legend",13),Bo()}}function fN(t,e){if(1&t){const t=Yo();Vo(0,"div",14),$o("mouseleave",(function(){return Qe(t),ta().close()}))("touchend",(function(){return Qe(t),ta().close()})),Vo(1,"div",4),Vo(2,"div",5),Da(3,"Legend:"),Bo(),Vo(4,"div",6),$o("click",(function(){return Qe(t),ta().active=!1})),Vo(5,"mat-icon"),Da(6,"close"),Bo(),Bo(),Bo(),Ho(7,"mol-detailed-map-legend",15),Bo()}if(2&t){const t=ta();Or(7),jo("productType",t.mode)}}function pN(t,e){if(1&t){const t=Yo();Vo(0,"div",16),$o("mouseenter",(function(){return Qe(t),ta().open()}))("touchstart",(function(){return Qe(t),ta().open()})),Vo(1,"div",17),Da(2),sc(3,"translate"),Bo(),Bo()}2&t&&(Or(2),La(oc(3,1,"legend")))}let gN=(()=>{class t{constructor(){this.active=!0,this.mode="detailed"}ngOnInit(){}ngOnChanges(){this.active=!0}open(){this.active=!0}close(){setTimeout(()=>{this.active=!1},1e3)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-detailed-map-legend-box"]],inputs:{mode:"mode"},features:[Xa],decls:4,vars:4,consts:[["class","map-legend",3,"mouseleave","touchend",4,"ngIf"],["class","map-legend spind",3,"mouseleave","touchend",4,"ngIf"],["class","map-legend btn",3,"mouseenter","touchstart",4,"ngIf"],[1,"map-legend",3,"mouseleave","touchend"],[1,"heading"],[1,"l-title"],[1,"close",3,"click"],[1,"type-title"],["productType","range"],["productType","points"],["productType","localinv"],["productType","regionalchecklist"],["productType","griddedrangeatlas"],["productType","consensus"],[1,"map-legend","spind",3,"mouseleave","touchend"],[3,"productType"],[1,"map-legend","btn",3,"mouseenter","touchstart"],[1,""]],template:function(t,e){1&t&&(Io(0,uN,27,15,"div",0),Io(1,dN,8,0,"div",0),Io(2,fN,8,1,"div",1),Io(3,pN,4,3,"div",2)),2&t&&(jo("ngIf",e.active&&"detailed"===e.mode),Or(1),jo("ngIf",e.active&&"consensus"===e.mode),Or(1),jo("ngIf",e.active&&("habitatDist"===e.mode||"protect"===e.mode)),Or(1),jo("ngIf",!e.active))},directives:[hu,eC,hN],pipes:[dm],styles:[".map-legend[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;top:unset;bottom:3em;left:.75em;background-color:#fff;padding:10px;border-radius:px;border:1px solid #bbb}.map-legend.btn[_ngcontent-%COMP%]{height:25px;line-height:25px;font-size:18px}.map-legend[_ngcontent-%COMP%]   .type-title[_ngcontent-%COMP%]{font-weight:500;padding:3px 0}.map-legend[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:3px}[_nghost-%COMP%]{position:relative}.l-title[_ngcontent-%COMP%]{float:left;font-size:16px;font-weight:700}.close[_ngcontent-%COMP%]{float:right}.close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}"]}),t})();const mN=function(t,e){return{fa:!0,"fa-chevron-left":t,"fa-chevron-right":e}};function _N(t,e){if(1&t){const t=Yo();Vo(0,"button",10),$o("click",(function(){Qe(t);const e=ta(2);return e.opened=!e.opened})),Ho(1,"i"),Bo()}if(2&t){const t=ta(2);Or(1),wa(tc(2,mN,t.opened,!t.opened))}}function vN(t,e){1&t&&Ho(0,"mol-detailed-map-legend-box",11),2&t&&jo("mode",ta(2).mapMode)}const yN=function(t,e,n,i){return{"sidebar-container":t,"full-sidebar":e,"sidebar-header":n,"sidebar-nav":i}};function bN(t,e){if(1&t){const t=Yo();Vo(0,"mat-sidenav-container"),Vo(1,"mat-sidenav",7),$o("openedChange",(function(e){Qe(t);const n=ta();return n.opened&&(n.sidebar=e)})),Ho(2,"router-outlet"),Bo(),Vo(3,"mat-sidenav-content"),Io(4,_N,2,5,"button",8),Ho(5,"mol-map"),Ho(6,"mol-spinner"),Io(7,vN,1,1,"mol-detailed-map-legend-box",9),Bo(),Bo()}if(2&t){const t=ta();wa((n=5,i=yN,r=!t.embed,s=t.embed,o=!t.hideHeader,a=!t.hideNav,function(t,e,n,i,r,s,o,a,l){const c=e+n;return function(t,e,n,i,r,s){const o=To(t,e,n,i);return To(t,e+2,r,s)||o}(t,c,r,s,o,a)?Eo(t,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):nc(t,c+4)}(Ke(),on(),n,i,r,s,o,a,l))),Or(1),jo("opened",t.opened&&t.sidebar),Or(3),jo("ngIf",t.sidebar),Or(3),jo("ngIf",t.showLegend)}var n,i,r,s,o,a,l}function wN(t,e){if(1&t&&(Vo(0,"div",12),Vo(1,"div"),Vo(2,"div",13),Ho(3,"mol-map"),Ho(4,"mol-spinner"),Bo(),Ho(5,"mol-detailed-map-legend-box",11),Ho(6,"router-outlet"),Ho(7,"mol-scroll-to-top"),Bo(),Bo()),2&t){const t=ta();Or(5),jo("mode",t.mapMode)}}function xN(t,e){1&t&&Ho(0,"mol-footer")}const CN=function(t,e,n){return{main:t,full:e,footer:n}};let ON=(()=>{class t{constructor(t,e,n,i,r,s){this.actRoute=t,this.router=e,this.state=n,this.location=i,this.urlConfig=r,this.translate=s,this.scientificname="",this.links=[],this.embed=!1,this.sidebar=!0,this.hideHeader=!1,this.hideNav=!1,this.hideFooter=!1,this.opened=!0,this.isMobile=!1,this.mapMode="consensus",this.showLegend=!1,this.isMobile=window.innerWidth<=480,this.urlConfig.state.subscribe(t=>{t&&(this.embed=t.embed,this.sidebar=t.sidebar,this.hideHeader=!t.header,this.hideNav=!t.nav,this.hideFooter=!t.footer)}),this.router.events.pipe(Dp(t=>t instanceof rM)).subscribe(t=>{const e=Boolean(t.url.match(/^\/map\//)),n=Boolean(t.url.match(/^\/range\//)),i=Boolean(t.url.match(/^\/protect\//)),r=Boolean(t.url.match(/^\/[^\/]+$/));this.showLegend=e||r||n||i,this.mapMode=e?"detailed":n?"habitatDist":i?"protect":"consensus"})}ngOnInit(){const t=this.actRoute.firstChild.snapshot.params.scientificname;this.state.scientificname.subscribe(t=>{""!==t&&this.actRoute.data.subscribe(e=>{this.scientificname=t;const n=t.replace(" ","_"),i=this.actRoute.firstChild.snapshot.queryParams;this.links=[{name:"nav_species_home",route:this.getUrl([""]),data:i},{name:"nav_summary_map",route:this.getUrl([n]),data:i},{name:"nav_detailed_map",route:this.getUrl(["map",n]),data:i},{name:"Habitat Distribution",route:this.getUrl(["range",n]),data:i},{name:"Reserve Coverage",route:this.getUrl(["protect",n]),data:i},{name:"Habitat Trends",route:this.getUrl(["habitat-trend",n]),data:i},{name:"Projection",route:this.getUrl(["projection","landuse",n]),data:i}],this.actRoute.firstChild.snapshot.url[this.actRoute.firstChild.snapshot.url.length-1].path=n;const r=this.getUrl(this.actRoute.firstChild.snapshot.url.map(t=>t.path),!0);this.location.go(r)})}),this.state.updateScientificname(t)}getUrl(t,e=!1){return this.router.createUrlTree(t,{queryParams:e?this.actRoute.firstChild.snapshot.queryParams:null}).toString()}updateSpecies(t){this.state.updateScientificname(t.scientificname)}}return t.\u0275fac=function(e){return new(e||t)(Lo(cT),Lo(_A),Lo(fD),Lo(Xh),Lo(WA),Lo(qA))},t.\u0275cmp=pe({type:t,selectors:[["mol-sidebar-layout"]],decls:8,vars:15,consts:[["app","species",3,"hidden"],[3,"hidden","showSearchLink","links"],["slot","search2",3,"nav","chosenSpecies"],["slot","search1",3,"nav","chosenSpecies"],[3,"class",4,"ngIf"],["class","mobile-layout",4,"ngIf"],[4,"ngIf"],["position","start","mode","side","disableClose","",1,"sidebar",3,"opened","openedChange"],["mat-button","","class","open-close-button",3,"click",4,"ngIf"],[3,"mode",4,"ngIf"],["mat-button","",1,"open-close-button",3,"click"],[3,"mode"],[1,"mobile-layout"],[1,"map-block"]],template:function(t,e){1&t&&(Vo(0,"div"),Ho(1,"mol-header",0),Vo(2,"mol-nav",1),Vo(3,"mol-search",2),$o("chosenSpecies",(function(t){return e.updateSpecies(t)})),Bo(),Vo(4,"mol-search",3),$o("chosenSpecies",(function(t){return e.updateSpecies(t)})),Bo(),Bo(),Io(5,bN,8,10,"mat-sidenav-container",4),Io(6,wN,8,1,"div",5),Bo(),Io(7,xN,1,0,"mol-footer",6)),2&t&&(wa(ec(11,CN,!e.embed,e.embed,!e.hideFooter)),Or(1),jo("hidden",e.hideHeader),Or(1),jo("hidden",e.hideNav)("showSearchLink",!0)("links",e.links),Or(1),jo("nav",!0),Or(1),jo("nav",!0),Or(1),jo("ngIf",!e.isMobile),Or(1),jo("ngIf",e.isMobile),Or(1),jo("ngIf",!e.hideFooter))},directives:[EL,UL,KD,hu,Lb,Ib,OA,Rb,JF,eN,Ub,gN,sL,GL],styles:[".open-close-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-10px;max-width:30px;z-index:99999;padding:0;margin:0;background-color:#fff;border:1px solid #aaa}.mobile-layout[_ngcontent-%COMP%]{display:none}@media screen and (max-device-width:480px){.full-sidebar[_ngcontent-%COMP%], .sidebar-container[_ngcontent-%COMP%]{display:none}.mobile-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mobile-layout[_ngcontent-%COMP%]   mol-spinner[_ngcontent-%COMP%]{top:300px}.mobile-layout[_ngcontent-%COMP%]   .map-block[_ngcontent-%COMP%]{height:400px;position:relative;min-height:400px}.sidebar[_ngcontent-%COMP%]{width:100%}.open-close-button[_ngcontent-%COMP%]{max-width:150px;width:140px}.open-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 5px}.show-map-button[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row-reverse}.show-map-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #aaa;border-radius:0}}@media screen and (min-device-width:480px){.open-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .show-map-button[_ngcontent-%COMP%]{display:none}}.sidebar[_ngcontent-%COMP%]{box-shadow:3px 0 2px -2px #aaa}"]}),t})(),SN=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-species-dataset-menu-legend-overlay"]],decls:25,vars:0,consts:[[1,"legend-box"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-breeding.png",1,"legend-img"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-non-breeding.png",1,"legend-img"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-resident.png",1,"legend-img"],["src","https://cdn.mol.org/static/images/legends/ranges/seasonality-passage.png",1,"legend-img"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"h3"),Da(2,"Expert range maps key"),Bo(),Vo(3,"table"),Vo(4,"tbody"),Vo(5,"tr"),Vo(6,"td"),Ho(7,"img",1),Bo(),Vo(8,"td"),Da(9," Breeding "),Bo(),Bo(),Vo(10,"tr"),Vo(11,"td"),Ho(12,"img",2),Bo(),Vo(13,"td"),Da(14," Non-breeding "),Bo(),Bo(),Vo(15,"tr"),Vo(16,"td"),Ho(17,"img",3),Bo(),Vo(18,"td"),Da(19," Resident "),Bo(),Bo(),Vo(20,"tr"),Vo(21,"td"),Ho(22,"img",4),Bo(),Vo(23,"td"),Da(24," Passage "),Bo(),Bo(),Bo(),Bo(),Bo())},styles:[".legend-box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;display:block;top:-16px;left:80px;box-shadow:0 4px 7px 0 rgba(0,0,0,.2),0 4px 4px 0 rgba(0,0,0,.14),0 5px 4px -4px rgba(0,0,0,.12)}h3[_ngcontent-%COMP%]{padding:0;margin:0;font-size:1em}.legend-img[_ngcontent-%COMP%]{width:25px;height:25px;padding:3px}table[_ngcontent-%COMP%]{border-spacing:0;font-size:.5em;border-collapse:collapse}"]}),t})();var kN=n("aiQ1");function EN(t,e){1&t&&Ho(0,"button",13)}function MN(t,e){1&t&&(Vo(0,"button",14),Ho(1,"i",15),Bo())}const TN=function(){return{"feature-count":!0}};function AN(t,e){if(1&t){const t=Yo();Vo(0,"mat-tree-node",3),Vo(1,"div",4),Vo(2,"div",5),Io(3,EN,1,0,"button",6),Io(4,MN,2,0,"button",7),Vo(5,"button",8),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().toggleDataset(n.data)})),Vo(6,"mat-icon"),Da(7),Bo(),Bo(),Vo(8,"div",9),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().info(n,!0)})),Da(9),Bo(),Vo(10,"span",10),Da(11),Bo(),Vo(12,"button",11),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().zoom(n)})),sc(13,"translate"),Vo(14,"mat-icon"),Da(15,"zoom_in"),Bo(),Bo(),Vo(16,"button",11),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().info(n,!0)})),sc(17,"translate"),Ho(18,"i",12),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit;Or(3),jo("ngIf",!t.data.user_dataset),Or(1),jo("ngIf",t.data.user_dataset),Or(3),Fa(" ",t.data.visible?"check_box":"check_box_outline_blank"," "),Or(1),jo("matTooltip",t.data.dataset_title)("matTooltipShowDelay",500),Or(1),Fa(" ",t.data.dataset_title," "),Or(1),wa(Ql(16,TN)),jo("matTooltip",t.data.tooltip),Or(1),La(t.data.n_display),Or(1),jo("matTooltip",oc(13,12,"info_zoom_dataset")),Or(4),jo("matTooltip",oc(17,14,"info_about_dataset"))}}function PN(t,e){if(1&t&&(Vo(0,"div",22),Da(1),sc(2,"translate"),Bo()),2&t){const t=ta().$implicit;Po("aria-label","toggle "+t.data.type_title),Or(1),Fa(" ",oc(2,2,"src_"+t.data.product_type)," ")}}function RN(t,e){if(1&t&&(Vo(0,"div",22),Da(1),Bo()),2&t){const t=ta().$implicit;Po("aria-label","toggle "+t.data.type_title),Or(1),Fa(" ",t.data.type_title," ")}}function IN(t,e){1&t&&(Vo(0,"div",22),Da(1," Movement "),Bo()),2&t&&Po("aria-label","toggle "+ta().$implicit.data.type_title)}function DN(t,e){if(1&t){const t=Yo();Vo(0,"mat-tree-node",3),Vo(1,"button",16),Vo(2,"mat-icon",17),Da(3),Bo(),Bo(),Vo(4,"button",18),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().toggleDatatype(n)})),Vo(5,"mat-icon"),Da(6),Bo(),Bo(),Io(7,PN,3,4,"div",19),Io(8,RN,2,2,"div",19),Io(9,IN,2,1,"div",19),Ho(10,"img",20),Vo(11,"span",21),Da(12),Bo(),Vo(13,"button",11),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().zoom(n)})),sc(14,"translate"),Vo(15,"mat-icon"),Da(16,"zoom_in"),Bo(),Bo(),Vo(17,"button",11),$o("click",(function(){Qe(t);const n=e.$implicit;return ta().info(n,!1)})),sc(18,"translate"),Ho(19,"i",12),Bo(),Bo()}if(2&t){const t=e.$implicit,n=ta();Or(1),Po("aria-label","toggle "+t.data.type_title),Or(2),Fa(" ",n.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),Or(3),Fa(" ",t.data.icon," "),Or(1),jo("ngIf","movement"!=t.data.product_type&&"alienchecklist"!=t.data.product_type),Or(1),jo("ngIf","alienchecklist"==t.data.product_type),Or(1),jo("ngIf","movement"==t.data.product_type),Or(1),jo("src","https://cdn.mol.org/static/images/legends/datatypes/"+("points"===t.data.product_type?"points_agg":t.data.product_type)+".png",ir),Or(1),jo("matTooltip",t.data.tooltip),Or(1),La(t.data.n_display),Or(1),jo("matTooltip",oc(14,11,"info_zoom_data_type")),Or(4),jo("matTooltip",oc(18,13,"info_about_data_type"))}}const LN=(t,e)=>({expandable:!!t.children&&t.children.length>0,data:t.data,level:e});let FN=(()=>{class t{constructor(t,e,n,i,r){this.species=t,this.datasetService=e,this.dialog=n,this.decimal=i,this.overlay=r,this.scientificname="",this.defaultSelected=[],this.defaultDatasetType="",this.selectedDatasetIdsChanged=new hc,this.selectedDatasets=new hc,this.selectedOccurrenceDatasetIdsChanged=new hc,this.selectedModelDatasets=new hc,this.zoomToDatasetExtent=new hc,this.datasets=[],this.selectedDatasetIds=[],this.maxOcc=5e3,this.first=!0,this.modelThresholdStore={},this.treeControl=new LP(t=>t.level,t=>t.expandable),this.treeFlattener=new rR(LN,t=>t.level,t=>t.expandable,t=>t.children),this.dataSource=new sR(this.treeControl,this.treeFlattener),this.countFormatter=new Intl.NumberFormat(void 0,{notation:"compact",maximumFractionDigits:0}),this.hasChild=(t,e)=>e.expandable}ngOnInit(){}ngOnChanges(t){t.scientificname.currentValue!==t.scientificname.previousValue&&this.species.getDatasets(this.scientificname).subscribe(t=>{this.datasets=t,this.dataSource.data=this.makeHierarchical(t),this.updatedSelectedDatasetIds()})}makeHierarchical(t){const e=Array.from(new Set(t.map(t=>t.product_type))),n={},i=t.find(t=>"704898e7-b945-4721-b201-9286bd00c0a9"===t.dataset_id),r=t.find(t=>"d542e050-2ae5-457e-8476-027741538965"===t.dataset_id),s=t.find(t=>"ec694c34-bddd-4111-ba99-926a5f7866e8"===t.dataset_id);return s&&(t.filter(t=>"range"===t.product_type).forEach(t=>{t.visible=!1}),s.visible=!0),i&&r&&(i.visible=!1),t.forEach(t=>{if(n[t.product_type]){const e=n[t.product_type];e.data.bounds.northEast.lat=Math.max(e.data.bounds.northEast.lat,t.bounds.northEast.lat),e.data.bounds.northEast.lng=Math.max(e.data.bounds.northEast.lng,t.bounds.northEast.lng),e.data.bounds.southWest.lat=Math.min(e.data.bounds.southWest.lat,t.bounds.southWest.lat),e.data.bounds.southWest.lng=Math.min(e.data.bounds.southWest.lng,t.bounds.southWest.lng),e.data.no_rows+=t.no_rows,e.children.push({data:t}),t.visible&&!e.data.visible&&(e.data.visible=!0,e.data.icon="indeterminate_check_box")}else n[t.product_type]={expandable:!0,data:Object.assign({icon:t.visible?"check_box":"check_box_outline_blank"},t),children:[{data:t}]};"model"===t.product_type&&(t.visible=!1,this.species.getModelInfo(this.scientificname).subscribe(e=>{e.forEach(e=>{this.modelThresholdStore[t.dataset_id]=[];const n=["th05","th10"];Object.keys(e).forEach(i=>{if(Object(kN.isNumber)(e[i])&&n.indexOf(i)>-1){const r={code:i,threshold:e[i],visible:i===n[0]};this.modelThresholdStore[t.dataset_id].push(r),t.thresholds?t.thresholds.push(r):t.thresholds=[r]}})})}))}),e.forEach(t=>{const e=this.countDataTypeTooltip(n[t]);n[t].data.tooltip=e,n[t].children.forEach(t=>{t.data.tooltip=this.countDatasetTooltip(t)})}),e.map(t=>n[t])}legend(t){t.data.legend=!t.data.legend}toggleDataset(t){t.visible=!t.visible;const e=this.dataSource.data.find(e=>e.data.product_type===t.product_type);e.children.every(e=>e.data.visible===t.visible)&&e.data.visible!==t.visible&&(e.data.visible=t.visible),this.updatedSelectedDatasetIds()}toggleDatatype(t){t.data.visible=!t.data.visible,this.datasets.filter(e=>e.product_type===t.data.product_type).forEach(e=>e.visible=t.data.visible),this.updatedSelectedDatasetIds()}updatedSelectedDatasetIds(){let t=!1;this.first&&(this.defaultSelected.length>=1?(t=!0,this.datasets.forEach(t=>{t.visible=-1!==this.defaultSelected.indexOf(t.dataset_id)})):""!==this.defaultDatasetType&&(t=!0,this.datasets.forEach(t=>{t.product_type!==this.defaultDatasetType&&(t.visible=!1)})),this.first=!1),this.dataSource.data.map(t=>{const e=t.children.map(t=>t.data.visible),n=-1!==e.indexOf(!0),i=-1!==e.indexOf(!1);!n&&i?(t.data.visible=!1,t.data.icon="check_box_outline_blank"):n&&!i?(t.data.visible=!0,t.data.icon="check_box"):n&&i&&(t.data.visible=!0,t.data.icon="indeterminate_check_box")});const e=this.datasets.filter(t=>t.visible),n=e.filter(t=>"points"===t.product_type).map(t=>t.dataset_id),i=e.filter(t=>"model"===t.product_type).map(t=>t.dataset_id).map(t=>({thresholds:this.modelThresholdStore[t],dataset_id:t}));this.selectedDatasets.emit(e),this.selectedDatasetIds=e.map(t=>t.dataset_id),this.selectedOccurrenceDatasetIdsChanged.emit(n),this.selectedModelDatasets.emit(i.length>0?i[0]:null),this.selectedDatasetIdsChanged.emit(this.selectedDatasetIds)}countDatasetTooltip(t){const e=t.data.no_rows;return t.data.n_display=this.countFormatter.format(e),`${this.decimal.transform(e)} features available in ${t.data.dataset_title}.`}countDataTypeTooltip(t){if(!t)return"";const e=this.datasets.filter(e=>e.product_type===t.data.product_type).length;return t.data.n_display=this.countFormatter.format(t.data.no_rows),`${this.decimal.transform(t.data.no_rows)} ${t.data.type_title} features available across ${e} datasets.`}zoom(t){this.zoomToDatasetExtent.emit(t.data.bounds)}info(t,e){e?this.datasetService.metadata(t.data.dataset_id).subscribe(e=>{this.openInfoModal({info:e.metadata,dataset_id:t.data.dataset_id,heading:t.data.dataset_title})}):this.datasetService.type(t.data.product_type).subscribe(t=>{t.length>=1&&this.openInfoModal({info:[{children:t}],heading:t[0].value})})}openInfoModal(t){this.dialog.open(_I,{data:t})}openLegendOverlay(t,e){if("range"!==e.data.product_type)return;const n=this.overlay.position().flexibleConnectedTo(t.srcElement).withPositions([{originX:"start",originY:"center",overlayX:"end",overlayY:"center"}]);this.overlayRef=this.overlay.create({positionStrategy:n,hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop"}),this.overlayRef.attach(new Xb(SN)),this.overlayRef.backdropClick().subscribe(()=>this.overlayRef.dispose()),setTimeout(()=>{this.overlayRef.dispose()},1e3)}}return t.\u0275fac=function(e){return new(e||t)(Lo(ZA),Lo(oP),Lo(vE),Lo(Su),Lo(Ew))},t.\u0275cmp=pe({type:t,selectors:[["mol-species-dataset-menu"]],inputs:{scientificname:"scientificname",defaultSelected:"defaultSelected",defaultDatasetType:"defaultDatasetType"},outputs:{selectedDatasetIdsChanged:"selectedDatasetIdsChanged",selectedDatasets:"selectedDatasets",selectedOccurrenceDatasetIdsChanged:"selectedOccurrenceDatasetIdsChanged",selectedModelDatasets:"selectedModelDatasets",zoomToDatasetExtent:"zoomToDatasetExtent"},features:[rl([Su]),Xa],decls:3,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],[1,"node-container"],[1,"node-row"],["mat-icon-button","","disabled","",4,"ngIf"],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","matTooltip","Toggle dataset visibility.",3,"click"],["mat-flat-button","",1,"dataset-button",3,"matTooltip","matTooltipShowDelay","click"],["matTooltipPosition","right",3,"matTooltip"],["mat-icon-button","","matTooltipPosition","right",3,"matTooltip","click"],[1,"fa","fa-info"],["mat-icon-button","","disabled",""],["mat-icon-button",""],[1,"fa","fa-user"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["mat-icon-button","",3,"click"],["mat-flat-button","","matTreeNodeToggle","","class","product-type-button",4,"ngIf"],[1,"product-type-logo",3,"src"],["matTooltipPosition","right",1,"feature-count",3,"matTooltip"],["mat-flat-button","","matTreeNodeToggle","",1,"product-type-button"]],template:function(t,e){1&t&&(Vo(0,"mat-tree",0),Io(1,AN,19,17,"mat-tree-node",1),Io(2,DN,20,15,"mat-tree-node",2),Bo()),2&t&&(jo("dataSource",e.dataSource)("treeControl",e.treeControl),Or(2),jo("matTreeNodeDefWhen",e.hasChild))},directives:[JP,XP,qP,KP,hu,Ub,tS,eC,eR],pipes:[dm],styles:["strong[_ngcontent-%COMP%]{display:block;margin:10px 0 0 10px;font-size:1.1em}.product-type-logo[_ngcontent-%COMP%]{height:25px;width:25px}.dataset-button[_ngcontent-%COMP%], .product-type-button[_ngcontent-%COMP%]{cursor:pointer;width:150px;min-width:150px;max-width:150px;text-decoration:underline;font-weight:300;text-align:left;padding:0;display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dataset-button[_ngcontent-%COMP%]{min-width:135px;max-width:135px;width:135px;line-height:40px}.feature-count[_ngcontent-%COMP%]{display:inline;width:50px;max-width:50px;min-width:50px;line-height:30px;padding:5px 0;font-weight:700;text-align:center;word-break:keep-all}.feature-count.points[_ngcontent-%COMP%]{text-align:center;width:100px}.node-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.node-container[_ngcontent-%COMP%]   .node-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:middle;width:100%}.dataset-menu-button[_ngcontent-%COMP%]{height:25px;line-height:25px;margin:3px}@media screen and (max-device-width:480px){.mat-icon-button[_ngcontent-%COMP%]{width:34px}}"]}),t})(),NN=(()=>{class t{constructor(){this.tooltip=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-help-tooltip"]],inputs:{tooltip:"tooltip"},decls:3,vars:1,consts:[["matTooltipPosition","right",3,"matTooltip"]],template:function(t,e){1&t&&(Vo(0,"span",0),Vo(1,"mat-icon"),Da(2," help "),Bo(),Bo()),2&t&&jo("matTooltip",e.tooltip)},directives:[tS,eC],styles:[""]}),t})();var jN,zN,VN=n("H7S5"),BN=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},HN=(1===(jN=BN).length&&(zN=jN,jN=function(t,e){return BN(zN(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;jN(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;jN(t[r],e)>0?i=r:n=r+1}return n}}).right,UN=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),s=new Array(r);++i<r;)s[i]=t+i*n;return s},GN=Math.sqrt(50),WN=Math.sqrt(10),YN=Math.sqrt(2);function qN(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=GN?10:s>=WN?5:s>=YN?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=GN?10:s>=WN?5:s>=YN?2:1)}var XN={value:function(){}};function $N(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new KN(i)}function KN(t){this._=t}function ZN(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function QN(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function JN(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=XN,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}KN.prototype=$N.prototype={constructor:KN,on:function(t,e){var n,i=this._,r=ZN(t+"",i),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=r[s]).type)i[n]=JN(i[n],t.name,e);else if(null==e)for(n in i)i[n]=JN(i[n],t.name,null);return this}for(;++s<o;)if((n=(t=r[s]).type)&&(n=QN(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new KN(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),s=0;s<n;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(i=this._[t]).length;s<n;++s)i[s].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};var tj=$N;function ej(){}var nj=function(t){return null==t?ej:function(){return this.querySelector(t)}};function ij(){return[]}var rj=function(t){return null==t?ij:function(){return this.querySelectorAll(t)}},sj=function(t){return function(){return this.matches(t)}},oj=function(t){return new Array(t.length)};function aj(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function lj(t,e,n,i,r,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],i[a]=o):n[a]=new aj(t,s[a]);for(;a<l;++a)(o=e[a])&&(r[a]=o)}function cj(t,e,n,i,r,s,o){var a,l,c,h={},u=e.length,d=s.length,f=new Array(u);for(a=0;a<u;++a)(l=e[a])&&(f[a]=c="$"+o.call(l,l.__data__,a,e),c in h?r[a]=l:h[c]=l);for(a=0;a<d;++a)(l=h[c="$"+o.call(t,s[a],a,s)])?(i[a]=l,l.__data__=s[a],h[c]=null):n[a]=new aj(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&h[f[a]]===l&&(r[a]=l)}function hj(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}aj.prototype={constructor:aj,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var uj="http://www.w3.org/1999/xhtml",dj={svg:"http://www.w3.org/2000/svg",xhtml:uj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fj=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),dj.hasOwnProperty(e)?{space:dj[e],local:t}:t};function pj(t){return function(){this.removeAttribute(t)}}function gj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mj(t,e){return function(){this.setAttribute(t,e)}}function _j(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vj(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function yj(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var bj=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function wj(t){return function(){this.style.removeProperty(t)}}function xj(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Cj(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Oj(t,e){return t.style.getPropertyValue(e)||bj(t).getComputedStyle(t,null).getPropertyValue(e)}function Sj(t){return function(){delete this[t]}}function kj(t,e){return function(){this[t]=e}}function Ej(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Mj(t){return t.trim().split(/^|\s+/)}function Tj(t){return t.classList||new Aj(t)}function Aj(t){this._node=t,this._names=Mj(t.getAttribute("class")||"")}function Pj(t,e){for(var n=Tj(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Rj(t,e){for(var n=Tj(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Ij(t){return function(){Pj(this,t)}}function Dj(t){return function(){Rj(this,t)}}function Lj(t,e){return function(){(e.apply(this,arguments)?Pj:Rj)(this,t)}}function Fj(){this.textContent=""}function Nj(t){return function(){this.textContent=t}}function jj(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function zj(){this.innerHTML=""}function Vj(t){return function(){this.innerHTML=t}}function Bj(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Hj(){this.nextSibling&&this.parentNode.appendChild(this)}function Uj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gj(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===uj&&e.documentElement.namespaceURI===uj?e.createElement(t):e.createElementNS(n,t)}}function Wj(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}Aj.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Yj=function(t){var e=fj(t);return(e.local?Wj:Gj)(e)};function qj(){return null}function Xj(){var t=this.parentNode;t&&t.removeChild(this)}function $j(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kj(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Zj={},Qj=null;function Jj(t,e,n){return t=tz(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function tz(t,e,n){return function(i){var r=Qj;Qj=i;try{t.call(this,this.__data__,e,n)}finally{Qj=r}}}function ez(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function nz(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,s=e.length;i<s;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function iz(t,e,n){var i=Zj.hasOwnProperty(t.type)?Jj:tz;return function(r,s,o){var a,l=this.__on,c=i(e,s,o);if(l)for(var h=0,u=l.length;h<u;++h)if((a=l[h]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function rz(t,e,n){var i=bj(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function sz(t,e){return function(){return rz(this,t,e)}}function oz(t,e){return function(){return rz(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Zj={mouseenter:"mouseover",mouseleave:"mouseout"}));var az=[null];function lz(t,e){this._groups=t,this._parents=e}function cz(){return new lz([[document.documentElement]],az)}lz.prototype=cz.prototype={constructor:lz,select:function(t){"function"!=typeof t&&(t=nj(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o,a=e[r],l=a.length,c=i[r]=new Array(l),h=0;h<l;++h)(s=a[h])&&(o=t.call(s,s.__data__,h,a))&&("__data__"in s&&(o.__data__=s.__data__),c[h]=o);return new lz(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=rj(t));for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(i.push(t.call(o,o.__data__,c,a)),r.push(o));return new lz(i,r)},filter:function(t){"function"!=typeof t&&(t=sj(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,l=i[r]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new lz(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each((function(t){p[++h]=t})),p;var n,i=e?cj:lj,r=this._parents,s=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),h=0;h<o;++h){var u=r[h],d=s[h],f=d.length,p=t.call(u,u&&u.__data__,h,r),g=p.length,m=l[h]=new Array(g),_=a[h]=new Array(g);i(u,d,m,_,c[h]=new Array(f),p,e);for(var v,y,b=0,w=0;b<g;++b)if(v=m[b]){for(b>=w&&(w=b+1);!(y=_[w])&&++w<g;);v._next=y||null}}return(a=new lz(a,r))._enter=l,a._exit=c,a},enter:function(){return new lz(this._enter||this._groups.map(oj),this._parents)},exit:function(){return new lz(this._exit||this._groups.map(oj),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,s=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?s.remove():n(s),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,l=e[o],c=n[o],h=l.length,u=s[o]=new Array(h),d=0;d<h;++d)(a=l[d]||c[d])&&(u[d]=a);for(;o<i;++o)s[o]=e[o];return new lz(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],s=r.length-1,o=r[s];--s>=0;)(i=r[s])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=hj);for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o,a=n[s],l=a.length,c=r[s]=new Array(l),h=0;h<l;++h)(o=a[h])&&(c[h]=o);c.sort(e)}return new lz(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,s=e[n],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,e){var n=fj(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?gj:pj:"function"==typeof e?n.local?yj:vj:n.local?_j:mj)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?wj:"function"==typeof e?Cj:xj)(t,e,null==n?"":n)):Oj(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Sj:"function"==typeof e?Ej:kj)(t,e)):this.node()[t]},classed:function(t,e){var n=Mj(t+"");if(arguments.length<2){for(var i=Tj(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Lj:e?Ij:Dj)(n,e))},text:function(t){return arguments.length?this.each(null==t?Fj:("function"==typeof t?jj:Nj)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?zj:("function"==typeof t?Bj:Vj)(t)):this.node().innerHTML},raise:function(){return this.each(Hj)},lower:function(){return this.each(Uj)},append:function(t){var e="function"==typeof t?t:Yj(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Yj(t),i=null==e?qj:"function"==typeof e?e:nj(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Xj)},clone:function(t){return this.select(t?Kj:$j)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,s=ez(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?iz:nz,null==n&&(n=!1),i=0;i<o;++i)this.each(a(s[i],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,h=a.length;c<h;++c)for(i=0,l=a[c];i<o;++i)if((r=s[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?oz:sz)(t,e))}};var hz=cz,uz=n("PvqL"),dz=n("I6Yn"),fz=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(s){for(n=0;n<i;++n)r[n]=t[n]*(1-s)+e[n]*s;return r}};function pz(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,s=new Array(r),o=new Array(i);for(n=0;n<r;++n)s[n]=Oz(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=s[n](t);return o}}var gz,mz,_z=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},vz=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},yz=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Oz(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},bz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wz=new RegExp(bz.source,"g"),xz=function(t,e){var n,i,r,s=bz.lastIndex=wz.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=bz.exec(t))&&(i=wz.exec(e));)(r=i.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:vz(n,i)})),s=wz.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})},Cz=n("PXG9"),Oz=function(t,e){var n,i,r=typeof e;return null==e||"boolean"===r?Object(Cz.a)(e):("number"===r?vz:"string"===r?(n=Object(uz.e)(e))?(e=n,dz.a):xz:e instanceof uz.e?dz.a:e instanceof Date?_z:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?pz:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?yz:vz:fz))(t,e)},Sz=0,kz=0,Ez=0,Mz=0,Tz=0,Az=0,Pz="object"==typeof performance&&performance.now?performance:Date,Rz="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Iz(){return Tz||(Rz(Dz),Tz=Pz.now()+Az)}function Dz(){Tz=0}function Lz(){this._call=this._time=this._next=null}function Fz(t,e,n){var i=new Lz;return i.restart(t,e,n),i}function Nz(){Tz=(Mz=Pz.now())+Az,Sz=kz=0;try{!function(){Iz(),++Sz;for(var t,e=gz;e;)(t=Tz-e._time)>=0&&e._call.call(null,t),e=e._next;--Sz}()}finally{Sz=0,function(){for(var t,e,n=gz,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:gz=e);mz=t,zz(i)}(),Tz=0}}function jz(){var t=Pz.now(),e=t-Mz;e>1e3&&(Az-=e,Mz=t)}function zz(t){Sz||(kz&&(kz=clearTimeout(kz)),t-Tz>24?(t<1/0&&(kz=setTimeout(Nz,t-Pz.now()-Az)),Ez&&(Ez=clearInterval(Ez))):(Ez||(Mz=Pz.now(),Ez=setInterval(jz,1e3)),Sz=1,Rz(Nz)))}Lz.prototype=Fz.prototype={constructor:Lz,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Iz():+n)+(null==e?0:+e),this._next||mz===this||(mz?mz._next=this:gz=this,mz=this),this._call=t,this._time=n,zz()},stop:function(){this._call&&(this._call=null,this._time=1/0,zz())}};var Vz=function(t,e,n){var i=new Lz;return i.restart((function(n){i.stop(),t(n+e)}),e=null==e?0:+e,n),i},Bz=tj("start","end","cancel","interrupt"),Hz=[],Uz=function(t,e,n,i,r,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function s(l){var c,h,u,d;if(1!==n.state)return a();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return Vz(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Vz((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(u=n.tween.length),c=0,h=-1;c<u;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=i.length;++s<o;)i[s].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Fz((function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:Bz,tween:Hz,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function Gz(t,e){var n=Yz(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Wz(t,e){var n=Yz(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Yz(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var qz,Xz,$z,Kz,Zz=180/Math.PI,Qz={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Jz=function(t,e,n,i,r,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Zz,skewX:Math.atan(l)*Zz,scaleX:o,scaleY:a}};function tV(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,i,r,s,o,a){if(t!==r||i!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:vz(t,r)},{i:l-2,x:vz(i,s)})}else(r||s)&&o.push("translate("+r+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(r(n)+"rotate(",null,i)-2,x:vz(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(s.rotate,o.rotate,a,l),function(t,e,n,s){t!==e?s.push({i:n.push(r(n)+"skewX(",null,i)-2,x:vz(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(s.skewX,o.skewX,a,l),function(t,e,n,i,s,o){if(t!==n||e!==i){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:vz(t,n)},{i:a-2,x:vz(e,i)})}else 1===n&&1===i||s.push(r(s)+"scale("+n+","+i+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var eV=tV((function(t){return"none"===t?Qz:(qz||(qz=document.createElement("DIV"),Xz=document.documentElement,$z=document.defaultView),qz.style.transform=t,t=$z.getComputedStyle(Xz.appendChild(qz),null).getPropertyValue("transform"),Xz.removeChild(qz),t=t.slice(7,-1).split(","),Jz(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),nV=tV((function(t){return null==t?Qz:(Kz||(Kz=document.createElementNS("http://www.w3.org/2000/svg","g")),Kz.setAttribute("transform",t),(t=Kz.transform.baseVal.consolidate())?Jz((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Qz)}),", ",")",")");function iV(t,e){var n,i;return function(){var r=Wz(this,t),s=r.tween;if(s!==n)for(var o=0,a=(i=n=s).length;o<a;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function rV(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var s=Wz(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function sV(t,e,n){var i=t._id;return t.each((function(){var t=Wz(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Yz(t,i).value[e]}}var oV=function(t,e){var n;return("number"==typeof e?vz:e instanceof uz.e?dz.a:(n=Object(uz.e)(e))?(e=n,dz.a):xz)(t,e)};function aV(t){return function(){this.removeAttribute(t)}}function lV(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cV(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===i?r:r=e(i=o,n)}}function hV(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===i?r:r=e(i=o,n)}}function uV(t,e,n){var i,r,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,l));this.removeAttribute(t)}}function dV(t,e,n){var i,r,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,l));this.removeAttributeNS(t.space,t.local)}}function fV(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function pV(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function gV(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&pV(t,r)),n}return r._value=e,r}function mV(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&fV(t,r)),n}return r._value=e,r}function _V(t,e){return function(){Gz(this,t).delay=+e.apply(this,arguments)}}function vV(t,e){return e=+e,function(){Gz(this,t).delay=e}}function yV(t,e){return function(){Wz(this,t).duration=+e.apply(this,arguments)}}function bV(t,e){return e=+e,function(){Wz(this,t).duration=e}}function wV(t,e){if("function"!=typeof e)throw new Error;return function(){Wz(this,t).ease=e}}function xV(t,e,n){var i,r,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Gz:Wz;return function(){var o=s(this,t),a=o.on;a!==i&&(r=(i=a).copy()).on(e,n),o.on=r}}var CV=hz.prototype.constructor;function OV(t){return function(){this.style.removeProperty(t)}}function SV(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function kV(t,e,n){var i,r;function s(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&SV(t,s,n)),i}return s._value=e,s}function EV(t){return function(e){this.textContent=t.call(this,e)}}function MV(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&EV(i)),e}return i._value=t,i}var TV=0;function AV(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function PV(){return++TV}var RV=hz.prototype;AV.prototype=(function(t){return hz().transition(t)}).prototype={constructor:AV,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=nj(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a,l,c=i[o],h=c.length,u=s[o]=new Array(h),d=0;d<h;++d)(a=c[d])&&(l=t.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),u[d]=l,Uz(u[d],e,n,d,u,Yz(a,n)));return new AV(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=rj(t));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l,c=i[a],h=c.length,u=0;u<h;++u)if(l=c[u]){for(var d,f=t.call(l,l.__data__,u,c),p=Yz(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&Uz(d,e,n,g,f,p);s.push(f),o.push(l)}return new AV(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=sj(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,l=i[r]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new AV(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,l=e[o],c=n[o],h=l.length,u=s[o]=new Array(h),d=0;d<h;++d)(a=l[d]||c[d])&&(u[d]=a);for(;o<i;++o)s[o]=e[o];return new AV(s,this._parents,this._name,this._id)},selection:function(){return new CV(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=PV(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var h=Yz(o,e);Uz(o,t,n,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new AV(i,this._parents,t,n)},call:RV.call,nodes:RV.nodes,node:RV.node,size:RV.size,empty:RV.empty,each:RV.each,on:function(t,e){var n=this._id;return arguments.length<2?Yz(this.node(),n).on.on(t):this.each(xV(n,t,e))},attr:function(t,e){var n=fj(t),i="transform"===n?nV:oV;return this.attrTween(t,"function"==typeof e?(n.local?dV:uV)(n,i,sV(this,"attr."+t,e)):null==e?(n.local?lV:aV)(n):(n.local?hV:cV)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=fj(t);return this.tween(n,(i.local?gV:mV)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?eV:oV;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var s=Oj(this,t),o=(this.style.removeProperty(t),Oj(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}(t,i)).on("end.style."+t,OV(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,s;return function(){var o=Oj(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Oj(this,t)),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}(t,i,sV(this,"style."+t,e))).each(function(t,e){var n,i,r,s,o="style."+e,a="end."+o;return function(){var l=Wz(this,t),c=l.on,h=null==l.value[o]?s||(s=OV(e)):void 0;c===n&&r===h||(i=(n=c).copy()).on(a,r=h),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,s=n+"";return function(){var o=Oj(this,t);return o===s?null:o===i?r:r=e(i=o,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,kV(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(sV(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,MV(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Yz(this.node(),n).tween,s=0,o=r.length;s<o;++s)if((i=r[s]).name===t)return i.value;return null}return this.each((null==e?iV:rV)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_V:vV)(e,t)):Yz(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?yV:bV)(e,t)):Yz(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(wV(e,t)):Yz(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};n.each((function(){var n=Wz(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}))}))}};var IV={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function DV(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return IV.time=Iz(),IV;return n}function LV(t){return{type:t}}hz.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,s=t.__transition,o=!0;if(s){for(r in e=null==e?null:e+"",s)(n=s[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[r]):o=!1;o&&delete t.__transition}}(this,t)}))},hz.prototype.transition=function(t){var e,n;t instanceof AV?(e=t._id,t=t._name):(e=PV(),(n=IV).time=Iz(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],l=a.length,c=0;c<l;++c)(o=a[c])&&Uz(o,t,e,c,a,n||DV(o,e));return new AV(i,this._parents,t,e)},["w","e"].map(LV),["n","s"].map(LV),["n","w","e","s","nw","ne","sw","se"].map(LV),Math,Math,Math,Math;var FV=Math.PI,NV=2*FV,jV=NV-1e-6;function zV(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function VV(){}function BV(t,e){var n=new VV;if(t instanceof VV)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,s=t.length;if(null==e)for(;++r<s;)n.set(r,t[r]);else for(;++r<s;)n.set(e(i=t[r],r,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}zV.prototype=(function(){return new zV}).prototype={constructor:zV,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(t,e,n,i,r){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),l=(i=+i)-(e=+e),c=s-t,h=o-e,u=c*c+h*h;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(u>1e-6)if(Math.abs(h*a-l*c)>1e-6&&r){var d=n-s,f=i-o,p=a*a+l*l,g=d*d+f*f,m=Math.sqrt(p),_=Math.sqrt(u),v=r*Math.tan((FV-Math.acos((p+u-g)/(2*m*_)))/2),y=v/_,b=v/m;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(e+y*h)),this._+="A"+r+","+r+",0,0,"+ +(h*d>c*f)+","+(this._x1=t+b*a)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=t+o,c=e+a,h=1^s,u=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(u<0&&(u=u%NV+NV),u>jV?this._+="A"+n+","+n+",0,1,"+h+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=c):u>1e-6&&(this._+="A"+n+","+n+",0,"+ +(u>=FV)+","+h+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},VV.prototype=BV.prototype={constructor:VV,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var HV=BV;function UV(){}var GV=HV.prototype;function WV(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,s,o,a,l,c,h,u,d,f=t._root,p={data:i},g=t._x0,m=t._y0,_=t._x1,v=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(s=(g+_)/2))?g=s:_=s,(h=n>=(o=(m+v)/2))?m=o:v=o,r=f,!(f=f[u=h<<1|c]))return r[u]=p,t;if(a=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===a&&n===l)return p.next=f,r?r[u]=p:t._root=p,t;do{r=r?r[u]=new Array(4):t._root=new Array(4),(c=e>=(s=(g+_)/2))?g=s:_=s,(h=n>=(o=(m+v)/2))?m=o:v=o}while((u=h<<1|c)==(d=(l>=o)<<1|a>=s));return r[d]=f,r[u]=p,t}UV.prototype=(function(t,e){var n=new UV;if(t instanceof UV)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}).prototype={constructor:UV,has:GV.has,add:function(t){return this["$"+(t+="")]=t,this},remove:GV.remove,clear:GV.clear,values:GV.keys,size:GV.size,empty:GV.empty,each:GV.each};var YV=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function qV(t){return t[0]}function XV(t){return t[1]}function $V(t,e,n,i,r,s){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function KV(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ZV=(function(t,e,n){var i=new $V(null==e?qV:e,null==n?XV:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}).prototype=$V.prototype;function QV(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}ZV.copy=function(){var t,e,n=new $V(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=KV(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=KV(e));return n},ZV.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return WV(this.cover(e,n),e,n,t)},ZV.addAll=function(t){var e,n,i,r,s=t.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,h=-1/0,u=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(o[n]=i,a[n]=r,i<l&&(l=i),i>h&&(h=i),r<c&&(c=r),r>u&&(u=r));if(l>h||c>u)return this;for(this.cover(l,c).cover(h,u),n=0;n<s;++n)WV(this,o[n],a[n],t[n]);return this},ZV.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,s=(i=Math.floor(e))+1;else{for(var o,a,l=r-n,c=this._root;n>t||t>=r||i>e||e>=s;)switch(a=(e<i)<<1|t<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:r=n+l,s=i+l;break;case 1:n=r-l,s=i+l;break;case 2:r=n+l,i=s-l;break;case 3:n=r-l,i=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=s,this},ZV.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ZV.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ZV.find=function(t,e,n){var i,r,s,o,a,l,c,h=this._x0,u=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new YV(g,h,u,d,f)),null==n?n=1/0:(h=t-n,u=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(s=l.y0)>f||(o=l.x1)<h||(a=l.y1)<u))if(g.length){var m=(r+o)/2,_=(s+a)/2;p.push(new YV(g[3],m,_,o,a),new YV(g[2],r,_,m,a),new YV(g[1],m,s,o,_),new YV(g[0],r,s,m,_)),(c=(e>=_)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),y=e-+this._y.call(null,g.data),b=v*v+y*y;if(b<n){var w=Math.sqrt(n=b);h=t-w,u=e-w,d=t+w,f=e+w,i=g.data}}return i},ZV.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,i,r,s,o,a,l,c,h,u,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,_=this._y1;if(!f)return this;if(f.length)for(;;){if((c=s>=(a=(p+m)/2))?p=a:m=a,(h=o>=(l=(g+_)/2))?g=l:_=l,e=f,!(f=f[u=h<<1|c]))return this;if(!f.length)break;(e[u+1&3]||e[u+2&3]||e[u+3&3])&&(n=e,d=u)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[u]=r:delete e[u],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},ZV.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ZV.root=function(){return this._root},ZV.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ZV.visit=function(t){var e,n,i,r,s,o,a=[],l=this._root;for(l&&a.push(new YV(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,s=e.x1,o=e.y1)&&l.length){var c=(i+s)/2,h=(r+o)/2;(n=l[3])&&a.push(new YV(n,c,h,s,o)),(n=l[2])&&a.push(new YV(n,i,h,c,o)),(n=l[1])&&a.push(new YV(n,c,r,s,h)),(n=l[0])&&a.push(new YV(n,i,r,c,h))}return this},ZV.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new YV(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var s,o=e.x0,a=e.y0,l=e.x1,c=e.y1,h=(o+l)/2,u=(a+c)/2;(s=r[0])&&n.push(new YV(s,o,a,h,u)),(s=r[1])&&n.push(new YV(s,h,a,l,u)),(s=r[2])&&n.push(new YV(s,o,u,h,c)),(s=r[3])&&n.push(new YV(s,h,u,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ZV.x=function(t){return arguments.length?(this._x=t,this):this._x},ZV.y=function(t){return arguments.length?(this._y=t,this):this._y},Math,Math.sqrt(5);var JV=function(t){return(t=QV(Math.abs(t)))?t[1]:NaN},tB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eB(t){if(!(e=tB.exec(t)))throw new Error("invalid format: "+t);var e;return new nB({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function nB(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}eB.prototype=nB.prototype,nB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var iB,rB,sB,oB,aB=function(t,e){var n=QV(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},lB={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return aB(100*t,e)},r:aB,s:function(t,e){var n=QV(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(iB=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+QV(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},cB=function(t){return t},hB=Array.prototype.map,uB=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];rB=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?cB:(e=hB.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?cB:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(hB.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function u(t){var e=(t=eB(t)).fill,n=t.align,u=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,_=t.trim,v=t.type;"n"===v?(g=!0,v="g"):lB[v]||(void 0===m&&(m=12),_=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var y="$"===d?r:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===d?s:/[%p]/.test(v)?l:"",w=lB[v],x=/[defgprs%]/.test(v);function C(t){var r,s,l,d=y,C=b;if("c"===v)C=w(t)+C,t="";else{var O=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:w(Math.abs(t),m),_&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),O&&0==+t&&"+"!==u&&(O=!1),d=(O?"("===u?u:c:"-"===u||"("===u?"":u)+d,C=("s"===v?uB[8+iB/3]:"")+C+(O&&"("===u?")":""),x)for(r=-1,s=t.length;++r<s;)if(48>(l=t.charCodeAt(r))||l>57){C=(46===l?o+t.slice(r+1):t.slice(r))+C,t=t.slice(0,r);break}}g&&!f&&(t=i(t,1/0));var S=d.length+t.length+C.length,k=S<p?new Array(p-S+1).join(e):"";switch(g&&f&&(t=i(k+t,k.length?p-C.length:1/0),k=""),n){case"<":t=d+t+C+k;break;case"=":t=d+k+t+C;break;case"^":t=k.slice(0,S=k.length>>1)+d+t+C+k.slice(S);break;default:t=k+d+t+C}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),C.toString=function(){return t+""},C}return{format:u,formatPrefix:function(t,e){var n=u(((t=eB(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(JV(e)/3))),r=Math.pow(10,-i),s=uB[8+i/3];return function(t){return n(r*t)+s}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),sB=rB.format,oB=rB.formatPrefix;var dB=function(){return Math.random()},fB=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(dB),function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var s;if(null!=i)s=i,i=null;else do{i=2*e()-1,s=2*e()-1,r=i*i+s*s}while(!r||r>1);return t+n*s*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(dB)),pB=(function t(e){function n(){var t=fB.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(dB),function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(dB));function gB(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}(function t(e){function n(t){var n=pB.source(e)(t);return function(){return n()/t}}return n.source=t,n})(dB),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(dB);var mB=Array.prototype,_B=mB.map,vB=mB.slice,yB={name:"implicit"};function bB(){var t=HV(),e=[],n=[],i=yB;function r(r){var s=r+"",o=t.get(s);if(!o){if(i!==yB)return i;t.set(s,o=e.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=HV();for(var i,s,o=-1,a=n.length;++o<a;)t.has(s=(i=n[o])+"")||t.set(s,e.push(i));return r},r.range=function(t){return arguments.length?(n=vB.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return bB(e,n).unknown(i)},gB.apply(r,arguments),r}var wB=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},xB=function(t){return+t},CB=[0,1];function OB(t){return t}function SB(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function kB(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function EB(t,e,n){var i=t[0],r=t[1],s=e[0],o=e[1];return r<i?(i=SB(r,i),s=n(o,s)):(i=SB(i,r),s=n(s,o)),function(t){return s(i(t))}}function MB(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=SB(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=HN(t,e,1,i)-1;return s[n](r[n](e))}}function TB(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function AB(t,e){return function(){var t,e,n,i,r,s,o=CB,a=CB,l=Oz,c=OB;function h(){return i=Math.min(o.length,a.length)>2?MB:EB,r=s=null,u}function u(e){return isNaN(e=+e)?n:(r||(r=i(o.map(t),a,l)))(t(c(e)))}return u.invert=function(n){return c(e((s||(s=i(a,o.map(t),vz)))(n)))},u.domain=function(t){return arguments.length?(o=_B.call(t,xB),c===OB||(c=kB(o)),h()):o.slice()},u.range=function(t){return arguments.length?(a=vB.call(t),h()):a.slice()},u.rangeRound=function(t){return a=vB.call(t),l=wB,h()},u.clamp=function(t){return arguments.length?(c=t?kB(o):OB,u):c!==OB},u.interpolate=function(t){return arguments.length?(l=t,h()):l},u.unknown=function(t){return arguments.length?(n=t,u):n},function(n,i){return t=n,e=i,h()}}()(t,e)}function PB(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=qN(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(r=Math.ceil(e-t+1));++a<r;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(r=Math.ceil(t-e+1));++a<r;)s[a]=(t-a)/o;return i&&s.reverse(),s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return function(t,e,n,i){var r,s=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=GN?r*=10:s>=WN?r*=5:s>=YN&&(r*=2),e<t?-r:r}(t,e,n);switch((i=eB(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(JV(e)/3)))-JV(Math.abs(t)))}(s,o))||(i.precision=r),oB(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,JV(e)-JV(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-JV(Math.abs(t)))}(s))||(i.precision=r-2*("%"===i.type))}return sB(i)}(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),s=0,o=r.length-1,a=r[s],l=r[o];return l<a&&(i=a,a=l,l=i,i=s,s=o,o=i),(i=qN(a,l,n))>0?i=qN(a=Math.floor(a/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=qN(a=Math.ceil(a*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[s]=Math.floor(a/i)*i,r[o]=Math.ceil(l/i)*i,e(r)):i<0&&(r[s]=Math.ceil(a*i)/i,r[o]=Math.floor(l*i)/i,e(r)),t},t}var RB=new Date,IB=new Date;function DB(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,s){var o,a=[];if(n=r.ceil(n),s=null==s?1:Math.floor(s),!(n<i&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<i);return a},r.filter=function(n){return DB((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return RB.setTime(+e),IB.setTime(+i),t(RB),t(IB),Math.floor(n(RB,IB))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var LB=DB((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));LB.every=function(t){return isFinite(t=Math.floor(t))&&t>0?DB((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var FB=LB,NB=DB((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));function jB(t){return DB((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var zB=jB(0),VB=jB(1),BB=(jB(2),jB(3),jB(4)),HB=(jB(5),jB(6),DB((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),UB=(DB((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),DB((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),DB((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),DB((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));function GB(t){return DB((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}UB.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?DB((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):UB:null};var WB=GB(0),YB=GB(1),qB=(GB(2),GB(3),GB(4)),XB=(GB(5),GB(6),DB((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),$B=DB((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));$B.every=function(t){return isFinite(t=Math.floor(t))&&t>0?DB((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var KB=$B;function ZB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function JB(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var tH,eH,nH,iH={"-":"",_:" ",0:"0"},rH=/^\s*\d+/,sH=/^%/,oH=/[\\^$*+?|[\]().{}]/g;function aH(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(e)+r:r)}function lH(t){return t.replace(oH,"\\$&")}function cH(t){return new RegExp("^(?:"+t.map(lH).join("|")+")","i")}function hH(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function uH(t,e,n){var i=rH.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function dH(t,e,n){var i=rH.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function fH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function pH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function gH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function mH(t,e,n){var i=rH.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function _H(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function vH(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function yH(t,e,n){var i=rH.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function bH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function wH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function xH(t,e,n){var i=rH.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function CH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function OH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function SH(t,e,n){var i=rH.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function kH(t,e,n){var i=rH.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function EH(t,e,n){var i=rH.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function MH(t,e,n){var i=sH.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function TH(t,e,n){var i=rH.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function AH(t,e,n){var i=rH.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function PH(t,e){return aH(t.getDate(),e,2)}function RH(t,e){return aH(t.getHours(),e,2)}function IH(t,e){return aH(t.getHours()%12||12,e,2)}function DH(t,e){return aH(1+HB.count(FB(t),t),e,3)}function LH(t,e){return aH(t.getMilliseconds(),e,3)}function FH(t,e){return LH(t,e)+"000"}function NH(t,e){return aH(t.getMonth()+1,e,2)}function jH(t,e){return aH(t.getMinutes(),e,2)}function zH(t,e){return aH(t.getSeconds(),e,2)}function VH(t){var e=t.getDay();return 0===e?7:e}function BH(t,e){return aH(zB.count(FB(t)-1,t),e,2)}function HH(t){var e=t.getDay();return e>=4||0===e?BB(t):BB.ceil(t)}function UH(t,e){return t=HH(t),aH(BB.count(FB(t),t)+(4===FB(t).getDay()),e,2)}function GH(t){return t.getDay()}function WH(t,e){return aH(VB.count(FB(t)-1,t),e,2)}function YH(t,e){return aH(t.getFullYear()%100,e,2)}function qH(t,e){return aH((t=HH(t)).getFullYear()%100,e,2)}function XH(t,e){return aH(t.getFullYear()%1e4,e,4)}function $H(t,e){var n=t.getDay();return aH((t=n>=4||0===n?BB(t):BB.ceil(t)).getFullYear()%1e4,e,4)}function KH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+aH(e/60|0,"0",2)+aH(e%60,"0",2)}function ZH(t,e){return aH(t.getUTCDate(),e,2)}function QH(t,e){return aH(t.getUTCHours(),e,2)}function JH(t,e){return aH(t.getUTCHours()%12||12,e,2)}function tU(t,e){return aH(1+XB.count(KB(t),t),e,3)}function eU(t,e){return aH(t.getUTCMilliseconds(),e,3)}function nU(t,e){return eU(t,e)+"000"}function iU(t,e){return aH(t.getUTCMonth()+1,e,2)}function rU(t,e){return aH(t.getUTCMinutes(),e,2)}function sU(t,e){return aH(t.getUTCSeconds(),e,2)}function oU(t){var e=t.getUTCDay();return 0===e?7:e}function aU(t,e){return aH(WB.count(KB(t)-1,t),e,2)}function lU(t){var e=t.getUTCDay();return e>=4||0===e?qB(t):qB.ceil(t)}function cU(t,e){return t=lU(t),aH(qB.count(KB(t),t)+(4===KB(t).getUTCDay()),e,2)}function hU(t){return t.getUTCDay()}function uU(t,e){return aH(YB.count(KB(t)-1,t),e,2)}function dU(t,e){return aH(t.getUTCFullYear()%100,e,2)}function fU(t,e){return aH((t=lU(t)).getUTCFullYear()%100,e,2)}function pU(t,e){return aH(t.getUTCFullYear()%1e4,e,4)}function gU(t,e){var n=t.getUTCDay();return aH((t=n>=4||0===n?qB(t):qB.ceil(t)).getUTCFullYear()%1e4,e,4)}function mU(){return"+0000"}function _U(){return"%"}function vU(t){return+t}function yU(t){return Math.floor(+t/1e3)}tH=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=cH(r),h=hH(r),u=cH(s),d=hH(s),f=cH(o),p=hH(o),g=cH(a),m=hH(a),_=cH(l),v=hH(l),y={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:PH,e:PH,f:FH,g:qH,G:$H,H:RH,I:IH,j:DH,L:LH,m:NH,M:jH,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vU,s:yU,S:zH,u:VH,U:BH,V:UH,w:GH,W:WH,x:null,X:null,y:YH,Y:XH,Z:KH,"%":_U},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:ZH,e:ZH,f:nU,g:fU,G:gU,H:QH,I:JH,j:tU,L:eU,m:iU,M:rU,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vU,s:yU,S:sU,u:oU,U:aU,V:cU,w:hU,W:uU,x:null,X:null,y:dU,Y:pU,Z:mU,"%":_U},w={a:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=_.exec(e.slice(n));return i?(t.m=v[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return O(t,e,n,i)},d:wH,e:wH,f:EH,g:_H,G:mH,H:CH,I:CH,j:xH,L:kH,m:bH,M:OH,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=h[i[0].toLowerCase()],n+i[0].length):-1},q:yH,Q:TH,s:AH,S:SH,u:dH,U:fH,V:pH,w:uH,W:gH,x:function(t,e,i){return O(t,n,e,i)},X:function(t,e,n){return O(t,i,e,n)},y:_H,Y:mH,Z:vH,"%":MH};function x(t,e){return function(n){var i,r,s,o=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(r=iH[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(s=e[i])&&(i=s(n,r)),o.push(i),l=a+1);return o.push(t.slice(l,a)),o.join("")}}function C(t,e){return function(n){var i,r,s=JB(1900,void 0,1);if(O(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(e&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(i=QB(JB(s.y,0,1))).getUTCDay(),i=r>4||0===r?YB.ceil(i):YB(i),i=XB.offset(i,7*(s.V-1)),s.y=i.getUTCFullYear(),s.m=i.getUTCMonth(),s.d=i.getUTCDate()+(s.w+6)%7):(r=(i=ZB(JB(s.y,0,1))).getDay(),i=r>4||0===r?VB.ceil(i):VB(i),i=HB.offset(i,7*(s.V-1)),s.y=i.getFullYear(),s.m=i.getMonth(),s.d=i.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),r="Z"in s?QB(JB(s.y,0,1)).getUTCDay():ZB(JB(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(r+5)%7:s.w+7*s.U-(r+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,QB(s)):ZB(s)}}function O(t,e,n,i){for(var r,s,o=0,a=e.length,l=n.length;o<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(s=w[r in iH?e.charAt(o++):r])||(i=s(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return y.x=x(n,y),y.X=x(i,y),y.c=x(e,y),b.x=x(n,b),b.X=x(i,b),b.c=x(e,b),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),eH=tH.format,nH=tH.parse,DB((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),DB((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),DB((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}));var bU=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function wU(){this._=null}function xU(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function CU(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function OU(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function SU(t){for(;t.L;)t=t.L;return t}wU.prototype={constructor:wU,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=SU(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(CU(this,n),n=(t=n).U),n.C=!1,i.C=!0,OU(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(OU(this,n),n=(t=n).U),n.C=!1,i.C=!0,CU(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,s=t.L,o=t.R;if(n=s?o?SU(o):s:o,r?r.L===t?r.L=n:r.R=n:this._=n,s&&o?(i=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(r=n.U,n.U=t.U,r.L=t=n.R,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,CU(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,OU(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,CU(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,OU(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,CU(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,OU(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var kU=wU;function EU(t,e,n,i){var r=[null,null],s=ZU.push(r)-1;return r.left=t,r.right=e,n&&TU(r,t,e,n),i&&TU(r,e,t,i),$U[t.index].halfedges.push(s),$U[e.index].halfedges.push(s),r}function MU(t,e,n){var i=[e,n];return i.left=t,i}function TU(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function AU(t,e,n,i,r){var s,o=t[0],a=t[1],l=o[0],c=o[1],h=0,u=1,d=a[0]-l,f=a[1]-c;if(s=e-l,d||!(s>0)){if(s/=d,d<0){if(s<h)return;s<u&&(u=s)}else if(d>0){if(s>u)return;s>h&&(h=s)}if(s=i-l,d||!(s<0)){if(s/=d,d<0){if(s>u)return;s>h&&(h=s)}else if(d>0){if(s<h)return;s<u&&(u=s)}if(s=n-c,f||!(s>0)){if(s/=f,f<0){if(s<h)return;s<u&&(u=s)}else if(f>0){if(s>u)return;s>h&&(h=s)}if(s=r-c,f||!(s<0)){if(s/=f,f<0){if(s>u)return;s>h&&(h=s)}else if(f>0){if(s<h)return;s<u&&(u=s)}return!(h>0||u<1)||(h>0&&(t[0]=[l+h*d,c+h*f]),u<1&&(t[1]=[l+u*d,c+u*f]),!0)}}}}}function PU(t,e,n,i,r){var s=t[1];if(s)return!0;var o,a,l=t[0],c=t.left,h=t.right,u=c[0],d=c[1],f=h[0],p=h[1],g=(u+f)/2;if(p===d){if(g<e||g>=i)return;if(u>f){if(l){if(l[1]>=r)return}else l=[g,n];s=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];s=[g,n]}}else if(a=(d+p)/2-(o=(u-f)/(p-d))*g,o<-1||o>1)if(u>f){if(l){if(l[1]>=r)return}else l=[(n-a)/o,n];s=[(r-a)/o,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/o,r];s=[(n-a)/o,n]}else if(d<p){if(l){if(l[0]>=i)return}else l=[e,o*e+a];s=[i,o*i+a]}else{if(l){if(l[0]<e)return}else l=[i,o*i+a];s=[e,o*e+a]}return t[0]=l,t[1]=s,!0}function RU(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function IU(t,e){return e[+(e.left!==t.site)]}function DU(t,e){return e[+(e.left===t.site)]}var LU,FU=[];function NU(){xU(this),this.x=this.y=this.arc=this.site=this.cy=null}function jU(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,s=n.site;if(i!==s){var o=r[0],a=r[1],l=i[0]-o,c=i[1]-a,h=s[0]-o,u=s[1]-a,d=2*(l*u-c*h);if(!(d>=-JU)){var f=l*l+c*c,p=h*h+u*u,g=(u*f-c*p)/d,m=(l*p-h*f)/d,_=FU.pop()||new NU;_.arc=t,_.site=r,_.x=g+o,_.y=(_.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=_;for(var v=null,y=KU._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}KU.insert(v,_),v||(LU=_)}}}}function zU(t){var e=t.circle;e&&(e.P||(LU=e.N),KU.remove(e),FU.push(e),xU(e),t.circle=null)}var VU=[];function BU(){xU(this),this.edge=this.site=this.circle=null}function HU(t){var e=VU.pop()||new BU;return e.site=t,e}function UU(t){zU(t),XU.remove(t),VU.push(t),xU(t)}function GU(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],s=t.P,o=t.N,a=[t];UU(t);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<QU&&Math.abs(i-l.circle.cy)<QU;)s=l.P,a.unshift(l),UU(l),l=s;a.unshift(l),zU(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<QU&&Math.abs(i-c.circle.cy)<QU;)o=c.N,a.push(c),UU(c),c=o;a.push(c),zU(c);var h,u=a.length;for(h=1;h<u;++h)TU((c=a[h]).edge,(l=a[h-1]).site,c.site,r);(c=a[u-1]).edge=EU((l=a[0]).site,c.site,null,r),jU(l),jU(c)}function WU(t){for(var e,n,i,r,s=t[0],o=t[1],a=XU._;a;)if((i=YU(a,o)-s)>QU)a=a.L;else{if(!((r=s-qU(a,o))>QU)){i>-QU?(e=a.P,n=a):r>-QU?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){$U[t.index]={site:t,halfedges:[]}}(t);var l=HU(t);if(XU.insert(e,l),e||n){if(e===n)return zU(e),n=HU(e.site),XU.insert(l,n),l.edge=n.edge=EU(e.site,l.site),jU(e),void jU(n);if(n){zU(e),zU(n);var c=e.site,h=c[0],u=c[1],d=t[0]-h,f=t[1]-u,p=n.site,g=p[0]-h,m=p[1]-u,_=2*(d*m-f*g),v=d*d+f*f,y=g*g+m*m,b=[(m*v-f*y)/_+h,(d*y-g*v)/_+u];TU(n.edge,c,p,b),l.edge=EU(c,t,null,b),n.edge=EU(t,p,null,b),jU(e),jU(n)}else l.edge=EU(e.site,l.site)}}function YU(t,e){var n=t.site,i=n[0],r=n[1],s=r-e;if(!s)return i;var o=t.P;if(!o)return-1/0;var a=(n=o.site)[0],l=n[1],c=l-e;if(!c)return a;var h=a-i,u=1/s-1/c,d=h/c;return u?(-d+Math.sqrt(d*d-2*u*(h*h/(-2*c)-l+c/2+r-s/2)))/u+i:(i+a)/2}function qU(t,e){var n=t.N;if(n)return YU(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var XU,$U,KU,ZU,QU=1e-6,JU=1e-12;function tG(t,e){return e[1]-t[1]||e[0]-t[0]}function eG(t,e){var n,i,r,s=t.sort(tG).pop();for(ZU=[],$U=new Array(t.length),XU=new kU,KU=new kU;;)if(r=LU,s&&(!r||s[1]<r.y||s[1]===r.y&&s[0]<r.x))s[0]===n&&s[1]===i||(WU(s),n=s[0],i=s[1]),s=t.pop();else{if(!r)break;GU(r.arc)}if(function(){for(var t,e,n,i,r=0,s=$U.length;r<s;++r)if((t=$U[r])&&(i=(e=t.halfedges).length)){var o=new Array(i),a=new Array(i);for(n=0;n<i;++n)o[n]=n,a[n]=RU(t,ZU[e[n]]);for(o.sort((function(t,e){return a[e]-a[t]})),n=0;n<i;++n)a[n]=e[o[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var o=+e[0][0],a=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,i){for(var r,s=ZU.length;s--;)PU(r=ZU[s],t,e,n,i)&&AU(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>QU||Math.abs(r[0][1]-r[1][1])>QU)||delete ZU[s]}(o,a,l,c),function(t,e,n,i){var r,s,o,a,l,c,h,u,d,f,p,g,m=$U.length,_=!0;for(r=0;r<m;++r)if(s=$U[r]){for(o=s.site,a=(l=s.halfedges).length;a--;)ZU[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)p=(f=DU(s,ZU[l[a]]))[0],g=f[1],u=(h=IU(s,ZU[l[++a%c]]))[0],d=h[1],(Math.abs(p-u)>QU||Math.abs(g-d)>QU)&&(l.splice(a,0,ZU.push(MU(o,f,Math.abs(p-t)<QU&&i-g>QU?[t,Math.abs(u-t)<QU?d:i]:Math.abs(g-i)<QU&&n-p>QU?[Math.abs(d-i)<QU?u:n,i]:Math.abs(p-n)<QU&&g-e>QU?[n,Math.abs(u-n)<QU?d:e]:Math.abs(g-e)<QU&&p-t>QU?[Math.abs(d-e)<QU?u:t,e]:null))-1),++c);c&&(_=!1)}if(_){var v,y,b,w=1/0;for(r=0,_=null;r<m;++r)(s=$U[r])&&(b=(v=(o=s.site)[0]-t)*v+(y=o[1]-e)*y)<w&&(w=b,_=s);if(_){var x=[t,e],C=[t,i],O=[n,i],S=[n,e];_.halfedges.push(ZU.push(MU(o=_.site,x,C))-1,ZU.push(MU(o,C,O))-1,ZU.push(MU(o,O,S))-1,ZU.push(MU(o,S,x))-1)}}for(r=0;r<m;++r)(s=$U[r])&&(s.halfedges.length||delete $U[r])}(o,a,l,c)}this.edges=ZU,this.cells=$U,XU=KU=ZU=$U=null}function nG(t,e,n){this.k=t,this.x=e,this.y=n}eG.prototype={constructor:eG,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return IU(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(s=(r=n.halfedges).length)for(var r,s,o,a,l,c,h=n.site,u=-1,d=e[r[s-1]],f=d.left===h?d.right:d.left;++u<s;)o=f,f=(d=e[r[u]]).left===h?d.right:d.left,o&&f&&i<o.index&&i<f.index&&((a=h)[0]-(c=f)[0])*((l=o)[1]-a[1])-(a[0]-l[0])*(c[1]-a[1])<0&&t.push([h.data,o.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,s=this,o=s._found||0,a=s.cells.length;!(r=s.cells[o]);)if(++o>=a)return null;var l=t-r.site[0],c=e-r.site[1],h=l*l+c*c;do{r=s.cells[i=o],o=null,r.halfedges.forEach((function(n){var i=s.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=t-a[0],c=e-a[1],u=l*l+c*c;u<h&&(h=u,o=a.index)}}))}while(null!==o);return s._found=i,null==n||h<=n*n?r.site:null}},Math,nG.prototype={constructor:nG,scale:function(t){return 1===t?this:new nG(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new nG(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new nG(1,0,0);let iG=lG,rG=lG,sG=lG,oG=cG,aG=hG;function lG(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function cG(t,e){for(var n=t.length;n<e;)t[n++]=0;return t}function hG(t,e){if(e>32)throw new Error("invalid array width!");return t}function uG(t){this.length=t,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=iG(t)}"undefined"!=typeof Uint8Array&&(iG=function(t){return new Uint8Array(t)},rG=function(t){return new Uint16Array(t)},sG=function(t){return new Uint32Array(t)},oG=function(t,e){if(t.length>=e)return t;var n=new t.constructor(e);return n.set(t),n},aG=function(t,e){var n;switch(e){case 16:n=rG(t.length);break;case 32:n=sG(t.length);break;default:throw new Error("invalid array width!")}return n.set(t),n}),uG.prototype.lengthen=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)this[e]=oG(this[e],t);this.length=t},uG.prototype.add=function(){var t,e,n,i,r;for(i=0,r=this.subarrays;i<r;++i)if(n=(~(t=this.masks[i])&t+1)>>>0,!((e=this.width-32*i)>=32)||n)return e<32&&n&1<<e&&(this[i]=aG(this[i],e<<=1),this.width=32*i+e),this.masks[i]|=n,{offset:i,one:n};return this[this.subarrays]=iG(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},uG.prototype.copy=function(t,e){var n,i;for(n=0,i=this.subarrays;n<i;++n)this[n][t]=this[n][e]},uG.prototype.truncate=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)for(var i=this.length-1;i>=t;i--)this[e][i]=0;this.length=t},uG.prototype.zero=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)if(this[e][t])return!1;return!0},uG.prototype.zeroExcept=function(t,e,n){var i,r;for(i=0,r=this.subarrays;i<r;++i)if(i===e?this[i][t]&n:this[i][t])return!1;return!0},uG.prototype.zeroExceptMask=function(t,e){var n,i;for(n=0,i=this.subarrays;n<i;++n)if(this[n][t]&e[n])return!1;return!0},uG.prototype.only=function(t,e,n){var i,r;for(i=0,r=this.subarrays;i<r;++i)if(this[i][t]!=(i===e?n:0))return!1;return!0},uG.prototype.onlyExcept=function(t,e,n,i,r){var s,o,a;for(o=0,a=this.subarrays;o<a;++o)if(s=this[o][t],o===e&&(s&=n),s!=(o===i?r:0))return!1;return!0};var dG={array8:lG,array16:lG,array32:lG,arrayLengthen:cG,arrayWiden:hG,bitarray:uG},fG=(t,e)=>function(n){var i=n.length;return[t.left(n,e,0,i),t.right(n,e,0,i)]},pG=(t,e)=>{var n=e[0],i=e[1];return function(e){var r=e.length;return[t.left(e,n,0,r),t.left(e,i,0,r)]}},gG=t=>[0,t.length],mG=t=>t,_G=()=>null,vG=()=>0;function yG(t){function e(t,e,i){for(var r=i-e,s=1+(r>>>1);--s>0;)n(t,s,r,e);return t}function n(e,n,i,r){for(var s,o=e[--r+n],a=t(o);(s=n<<1)<=i&&(s<i&&t(e[r+s])>t(e[r+s+1])&&s++,!(a<=t(e[r+s])));)e[r+n]=e[r+s],n=s;e[r+n]=o}return e.sort=function(t,e,i){for(var r,s=i-e;--s>0;)r=t[e],t[e]=t[e+s],t[e+s]=r,n(t,1,s,e);return t},e}const bG=yG(mG);bG.by=yG;var wG=bG;function xG(t){var e=wG.by(t);return function(n,i,r,s){var o,a,l,c=new Array(s=Math.min(r-i,s));for(a=0;a<s;++a)c[a]=n[i++];if(e(c,0,s),i<r){o=t(c[0]);do{t(l=n[i])>o&&(c[0]=l,o=t(e(c,0,s)[0]))}while(++i<r)}return c}}const CG=xG(mG);CG.by=xG;var OG=CG;function SG(t){function e(e,n,i,r){for(;i<r;){var s=i+r>>>1;n<t(e[s])?r=s:i=s+1}return i}return e.right=e,e.left=function(e,n,i,r){for(;i<r;){var s=i+r>>>1;t(e[s])<n?i=s+1:r=s}return i},e}const kG=SG(mG);kG.by=SG;var EG=kG,MG=(t,e,n)=>{for(var i=0,r=e.length,s=n?JSON.parse(JSON.stringify(t)):new Array(r);i<r;++i)s[i]=t[e[i]];return s},TG=t=>t+1,AG=t=>t-1,PG=t=>function(e,n){return e+ +t(n)},RG=t=>function(e,n){return e-t(n)};const IG=(t,e)=>{const n=t[e];return"function"==typeof n?n.call(t):n},DG=/\[([\w\d]+)\]/g;var LG=(t,e)=>function(t,e,n,i,r){for(r in i=(n=n.split(".")).splice(-1,1),n)e=e[n[r]]=e[n[r]]||{};return t(e,i)}(IG,t,e.replace(DG,".$1"));NG.heap=wG,NG.heapselect=OG,NG.bisect=EG,NG.permute=MG;var FG=NG;function NG(){var t,e={add:l,remove:c,dimension:d,groupAll:f,size:p,all:g,allFiltered:m,onChange:_,isElementFiltered:u},n=[],i=0,r=[],s=[],o=[],a=[];function l(r){var o=i,a=r.length;return a&&(n=n.concat(r),t.lengthen(i+=a),s.forEach((function(t){t(r,o,a)})),v("dataAdded")),e}function c(e){for(var s,a=new Array(i),l=[],c="function"==typeof e,h=0,u=0;h<i;++h)s=h,(c?e(n[s],s):t.zero(s))?(l.push(h),a[h]=-1):a[h]=u++;r.forEach((function(t){t(-1,-1,[],l,!0)})),o.forEach((function(t){t(a)}));for(var d=0,f=0;d<i;++d)-1!==a[d]&&(d!==f&&(t.copy(f,d),n[f]=n[d]),++f);n.length=i=f,t.truncate(f),v("dataRemoved")}function h(e){var n,i,r,s,o=Array(t.subarrays);for(n=0;n<t.subarrays;n++)o[n]=-1;for(i=0,r=e.length;i<r;i++)o[(s=e[i].id())>>7]&=~(1<<(63&s));return o}function u(e,n){var i=h(n||[]);return t.zeroExceptMask(e,i)}function d(e,a){if("string"==typeof e){var l=e;e=function(t){return LG(t,l)}}var c,h,u,d,f,p,g,m,_,y,b,w,x,C,O={filter:function(t){return null==t?V():Array.isArray(t)?z(t):"function"==typeof t?B(t):j(t)},filterExact:j,filterRange:z,filterFunction:B,filterAll:V,currentFilter:function(){return w},hasCurrentFilter:function(){return x},top:function(e,i){var r,s=[],o=P,l=0;for(i&&i>0&&(l=i);--o>=A&&e>0;)t.zero(r=p[o])&&(l>0?--l:(s.push(n[r]),--e));if(a)for(o=0;o<S.length&&e>0;o++)t.zero(r=S[o])&&(l>0?--l:(s.push(n[r]),--e));return s},bottom:function(e,i){var r,s,o=[],l=0;if(i&&i>0&&(l=i),a)for(r=0;r<S.length&&e>0;r++)t.zero(s=S[r])&&(l>0?--l:(o.push(n[s]),--e));for(r=A;r<P&&e>0;)t.zero(s=p[r])&&(l>0?--l:(o.push(n[s]),--e)),r++;return o},group:U,groupAll:function(){var t=U(_G),e=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return e()[0].value},t},dispose:G,remove:G,accessor:e,id:function(){return d}},S=[],k=function(t){return zG(t).sort((function(t,e){var n=g[t],i=g[e];return n<i?-1:n>i?1:t-e}))},E=gG,M=[],T=[],A=0,P=0,R=0;s.unshift(D),s.push(L),o.push(F);var I=t.add();function D(n,r,s){var o,l;if(a){R=0,H=0,C=[];for(var h=0;h<n.length;h++)for(H=0,C=e(n[h]);H<C.length;H++)R++;g=[],o=zG(n.length),l=jG(R,1);for(var d=zG(R),v=0,w=0;w<n.length;w++)if((C=e(n[w])).length)for(o[w]=C.length,H=0;H<C.length;H++)g.push(C[H]),d[v]=w,v++;else o[w]=0,S.push(w+r);var x=k(R);g=MG(g,x),m=MG(d,x)}else g=n.map(e),m=k(s),g=MG(g,m);var O,M,T,I=E(g),D=I[0],L=I[1];if(a)if(s=R,b)for(O=0;O<s;++O)b(g[O],O)||(0==--o[m[O]]&&(t[u][m[O]+r]|=c),l[O]=1);else{for(M=0;M<D;++M)0==--o[m[M]]&&(t[u][m[M]+r]|=c),l[M]=1;for(T=L;T<s;++T)0==--o[m[T]]&&(t[u][m[T]+r]|=c),l[T]=1}else if(b)for(O=0;O<s;++O)b(g[O],O)||(t[u][m[O]+r]|=c);else{for(M=0;M<D;++M)t[u][m[M]+r]|=c;for(T=L;T<s;++T)t[u][m[T]+r]|=c}if(!r)return f=g,p=m,_=o,y=l,A=D,void(P=L);var F,N=f,j=p,z=y,V=0;if(h=0,a&&(F=r,r=N.length,s=R),f=new Array(a?r+s:i),p=a?new Array(r+s):jG(i,i),a&&(y=jG(r+s,1)),a){var B=_.length;_=dG.arrayLengthen(_,i);for(var H=0;H+B<i;H++)_[H+B]=o[H]}for(var U=0;h<r&&V<s;++U)N[h]<g[V]?(f[U]=N[h],a&&(y[U]=z[h]),p[U]=j[h++]):(f[U]=g[V],a&&(y[U]=l[V]),p[U]=m[V++]+(a?F:r));for(;h<r;++h,++U)f[U]=N[h],a&&(y[U]=z[h]),p[U]=j[h];for(;V<s;++V,++U)f[U]=g[V],a&&(y[U]=l[V]),p[U]=m[V]+(a?F:r);I=E(f),A=I[0],P=I[1]}function L(t,e,n){M.forEach((function(t){t(g,m,e,n)})),g=m=null}function F(t){if(a){for(var e=0,n=0;e<S.length;e++)-1!==t[S[e]]&&(S[n]=t[S[e]],n++);for(S.length=n,e=0,n=0;e<i;e++)-1!==t[e]&&(n!==e&&(_[n]=_[e]),n++);_=_.slice(0,n)}for(var r,s=f.length,o=0,l=0;o<s;++o)-1!==t[r=p[o]]&&(o!==l&&(f[l]=f[o]),p[l]=t[r],a&&(y[l]=y[o]),++l);for(f.length=l,a&&(y=y.slice(0,l));l<s;)p[l++]=0;var c=E(f);A=c[0],P=c[1]}function N(e){var n=e[0],i=e[1];if(b)return b=null,H((function(t,e){return n<=e&&e<i}),0===e[0]&&e[1]===f.length),A=n,P=i,O;var s,o,l,h=[],d=[],g=[],m=[];if(n<A)for(s=n,o=Math.min(A,i);s<o;++s)h.push(p[s]),g.push(s);else if(n>A)for(s=A,o=Math.min(n,P);s<o;++s)d.push(p[s]),m.push(s);if(i>P)for(s=Math.max(n,P),o=i;s<o;++s)h.push(p[s]),g.push(s);else if(i<P)for(s=Math.max(A,i),o=P;s<o;++s)d.push(p[s]),m.push(s);if(a){var w=[],x=[];for(s=0;s<h.length;s++)_[h[s]]++,y[g[s]]=0,1===_[h[s]]&&(t[u][h[s]]^=c,w.push(h[s]));for(s=0;s<d.length;s++)_[d[s]]--,y[m[s]]=1,0===_[d[s]]&&(t[u][d[s]]^=c,x.push(d[s]));if(h=w,d=x,E===gG)for(s=0;s<S.length;s++)t[u][l=S[s]]&c&&(t[u][l]^=c,h.push(l));else for(s=0;s<S.length;s++)t[u][l=S[s]]&c||(t[u][l]^=c,d.push(l))}else{for(s=0;s<h.length;s++)t[u][h[s]]^=c;for(s=0;s<d.length;s++)t[u][d[s]]^=c}return A=n,P=i,r.forEach((function(t){t(c,u,h,d)})),v("filtered"),O}function j(t){return w=t,x=!0,N((E=fG(EG,t))(f))}function z(t){return w=t,x=!0,N((E=pG(EG,t))(f))}function V(){return w=void 0,x=!1,N((E=gG)(f))}function B(t){w=t,x=!0,b=t,E=gG,H(t,!1);var e=E(f);return A=e[0],P=e[1],O}function H(e,n){var i,s,o,l=[],d=[],g=[],m=[],b=f.length;if(!a)for(i=0;i<b;++i)!(t[u][s=p[i]]&c)^!!(o=e(f[i],i))&&(o?l.push(s):d.push(s));if(a)for(i=0;i<b;++i)e(f[i],i)?(l.push(p[i]),g.push(i)):(d.push(p[i]),m.push(i));if(a){var w=[],x=[];for(i=0;i<l.length;i++)1===y[g[i]]&&(_[l[i]]++,y[g[i]]=0,1===_[l[i]]&&(t[u][l[i]]^=c,w.push(l[i])));for(i=0;i<d.length;i++)0===y[m[i]]&&(_[d[i]]--,y[m[i]]=1,0===_[d[i]]&&(t[u][d[i]]^=c,x.push(d[i])));if(l=w,d=x,n)for(i=0;i<S.length;i++)t[u][s=S[i]]&c&&(t[u][s]^=c,l.push(s));else for(i=0;i<S.length;i++)t[u][s=S[i]]&c||(t[u][s]^=c,d.push(s))}else{for(i=0;i<l.length;i++)t[u][l[i]]&c&&(t[u][l[i]]&=h);for(i=0;i<d.length;i++)t[u][d[i]]&c||(t[u][d[i]]|=c)}r.forEach((function(t){t(c,u,l,d)})),v("filtered")}function U(e){var s={top:N,all:F,reduce:j,reduceCount:z,reduceSum:V,order:B,orderNatural:H,size:U,dispose:G,remove:G};T.push(s);var l,d,g,m,_,v,y,b,w=8,x=VG(w),C=0,O=_G,S=_G,k=!0,E=e===_G;function A(s,o,c,p){a&&(b=c,c=f.length-s.length,p=s.length);var g,m,M,T,A,P,F=l,N=a?[]:jG(C,x),j=_,z=v,V=y,B=C,H=0,U=0;for(k&&(j=V=_G),k&&(z=V=_G),l=new Array(C),C=0,d=a?B?d:[]:B>1?dG.arrayLengthen(d,i):jG(i,x),B&&(M=(m=F[0]).key);U<p&&!((T=e(s[U]))>=T);)++U;for(;U<p;){for(m&&M<=T?(A=m,P=M,N[H]=C,(m=F[++H])&&(M=m.key)):(A={key:T,value:V()},P=T),l[C]=A;T<=P&&(g=o[U]+(a?b:c),a?d[g]?d[g].push(C):d[g]=[C]:d[g]=C,A.value=j(A.value,n[g],!0),t.zeroExcept(g,u,h)||(A.value=z(A.value,n[g],!1)),!(++U>=p));)T=e(s[U]);W()}for(;H<B;)l[N[H]=C]=F[H++],W();if(a)for(var G=0;G<i;G++)d[G]||(d[G]=[]);if(C>H)if(a)for(H=0;H<b;++H)for(G=0;G<d[H].length;G++)d[H][G]=N[d[H][G]];else for(H=0;H<c;++H)d[H]=N[d[H]];function W(){a?C++:++C===x&&(N=dG.arrayWiden(N,w<<=1),d=dG.arrayWiden(d,w),x=VG(w))}g=r.indexOf(O),C>1||a?(O=R,S=D):(!C&&E&&(C=1,l=[{key:null,value:V()}]),1===C?(O=I,S=L):(O=_G,S=_G),d=null),r[g]=O}function P(t){if(C>1||a){var e,n,s,o=C,c=l,h=jG(o,o);if(a){for(e=0,s=0;e<i;++e)if(-1!==t[e]){for(d[s]=d[e],n=0;n<d[s].length;n++)h[d[s][n]]=1;++s}d=d.slice(0,s)}else for(e=0,s=0;e<i;++e)-1!==t[e]&&(h[d[s]=d[e]]=1,++s);for(l=[],C=0,e=0;e<o;++e)h[e]&&(h[e]=C++,l.push(c[e]));if(C>1||a)if(a)for(e=0;e<s;++e)for(n=0;n<d[e].length;++n)d[e][n]=h[d[e][n]];else for(e=0;e<s;++e)d[e]=h[d[e]];else d=null;r[r.indexOf(O)]=C>1||a?(S=D,O=R):1===C?(S=L,O=I):S=O=_G}else if(1===C){if(E)return;for(var u=0;u<i;++u)if(-1!==t[u])return;l=[],C=0,r[r.indexOf(O)]=O=S=_G}}function R(e,i,r,s,o){var f,p,g,m,y;if(!(e===c&&i===u||k))if(a){for(f=0,m=r.length;f<m;++f)if(t.zeroExcept(g=r[f],u,h))for(p=0;p<d[g].length;p++)(y=l[d[g][p]]).value=_(y.value,n[g],!1,p);for(f=0,m=s.length;f<m;++f)if(t.onlyExcept(g=s[f],u,h,i,e))for(p=0;p<d[g].length;p++)(y=l[d[g][p]]).value=v(y.value,n[g],o,p)}else{for(f=0,m=r.length;f<m;++f)t.zeroExcept(g=r[f],u,h)&&((y=l[d[g]]).value=_(y.value,n[g],!1));for(f=0,m=s.length;f<m;++f)t.onlyExcept(g=s[f],u,h,i,e)&&((y=l[d[g]]).value=v(y.value,n[g],o))}}function I(e,i,r,s,o){if(!(e===c&&i===u||k)){var a,d,f,p=l[0];for(a=0,f=r.length;a<f;++a)t.zeroExcept(d=r[a],u,h)&&(p.value=_(p.value,n[d],!1));for(a=0,f=s.length;a<f;++a)t.onlyExcept(d=s[a],u,h,i,e)&&(p.value=v(p.value,n[d],o))}}function D(){var e,r,s;for(e=0;e<C;++e)l[e].value=y();if(a){for(e=0;e<i;++e)for(r=0;r<d[e].length;r++)(s=l[d[e][r]]).value=_(s.value,n[e],!0,r);for(e=0;e<i;++e)if(!t.zeroExcept(e,u,h))for(r=0;r<d[e].length;r++)(s=l[d[e][r]]).value=v(s.value,n[e],!1,r)}else{for(e=0;e<i;++e)(s=l[d[e]]).value=_(s.value,n[e],!0);for(e=0;e<i;++e)t.zeroExcept(e,u,h)||((s=l[d[e]]).value=v(s.value,n[e],!1))}}function L(){var e,r=l[0];for(r.value=y(),e=0;e<i;++e)r.value=_(r.value,n[e],!0);for(e=0;e<i;++e)t.zeroExcept(e,u,h)||(r.value=v(r.value,n[e],!1))}function F(){return k&&(S(),k=!1),l}function N(t){var e=g(F(),0,l.length,t);return m.sort(e,0,e.length)}function j(t,e,n){return _=t,v=e,y=n,k=!0,s}function z(){return j(TG,AG,vG)}function V(t){return j(PG(t),RG(t),vG)}function B(t){function e(e){return t(e.value)}return g=OG.by(e),m=wG.by(e),s}function H(){return B(mG)}function U(){return C}function G(){var t=r.indexOf(O);return t>=0&&r.splice(t,1),(t=M.indexOf(A))>=0&&M.splice(t,1),(t=o.indexOf(P))>=0&&o.splice(t,1),(t=T.indexOf(s))>=0&&T.splice(t,1),s}return arguments.length<1&&(e=mG),r.push(O),M.push(A),o.push(P),A(f,p,0,i),z().orderNatural()}function G(){T.forEach((function(t){t.dispose()}));var e=s.indexOf(D);return e>=0&&s.splice(e,1),(e=s.indexOf(L))>=0&&s.splice(e,1),(e=o.indexOf(F))>=0&&o.splice(e,1),t.masks[u]&=h,V()}return h=~(c=I.one),d=(u=I.offset)<<7|Math.log(c)/Math.log(2),D(n,0,i),L(0,0,i),O}function f(){var e,o,a,l,c={reduce:f,reduceCount:p,reduceSum:function(t){return f(PG(t),RG(t),vG)},value:function(){return h&&(function(){var r;for(e=l(),r=0;r<i;++r)e=o(e,n[r],!0),t.zero(r)||(e=a(e,n[r],!1))}(),h=!1),e},dispose:g,remove:g},h=!0;function u(r,s){var l;if(!h)for(l=s;l<i;++l)e=o(e,n[l],!0),t.zero(l)||(e=a(e,n[l],!1))}function d(i,r,s,l,c){var u,d,f;if(!h){for(u=0,f=s.length;u<f;++u)t.zero(d=s[u])&&(e=o(e,n[d],c));for(u=0,f=l.length;u<f;++u)t.only(d=l[u],r,i)&&(e=a(e,n[d],c))}}function f(t,e,n){return o=t,a=e,l=n,h=!0,c}function p(){return f(TG,AG,vG)}function g(){var t=r.indexOf(d);return t>=0&&r.splice(t,1),(t=s.indexOf(u))>=0&&s.splice(t,1),c}return r.push(d),s.push(u),u(0,0),p()}function p(){return i}function g(){return n}function m(e){var r=[],s=0,o=h(e||[]);for(s=0;s<i;s++)t.zeroExceptMask(s,o)&&r.push(n[s]);return r}function _(t){if("function"==typeof t)return a.push(t),function(){a.splice(a.indexOf(t),1)};console.warn("onChange callback parameter must be a function!")}function v(t){for(var e=0;e<a.length;e++)a[e](t)}return t=new dG.bitarray(0),arguments.length?l(arguments[0]):e}function jG(t,e){return(e<257?dG.array8:e<65537?dG.array16:dG.array32)(t)}function zG(t){for(var e=jG(t,t),n=-1;++n<t;)e[n]=n;return e}function VG(t){return 8===t?256:16===t?65536:4294967296}const BG=["monthChartDiv"],HG=["yearChartDiv"],UG=["monthFilters"],GG=["yearFilters"],WG=["uncertaintyFilters"];function YG(t,e){if(1&t&&(Vo(0,"mat-option",22),Vo(1,"div",23),Da(2),Bo(),Vo(3,"i",24),Da(4),Bo(),Bo()),2&t){const t=e.$implicit;jo("value",t.metric),Or(2),La(t.metric),Or(2),Fa("",t.total," movement records")}}function qG(t,e){if(1&t){const t=Yo();Vo(0,"div"),Vo(1,"span",25),Da(2,"1m"),Bo(),Vo(3,"mat-slider",26),$o("ngModelChange",(function(e){return Qe(t),ta().selectedUncertainty=e}))("change",(function(e){return Qe(t),ta().setUncertainty(e)})),Bo(),Vo(4,"span",25),Da(5,"150km"),Bo(),Ho(6,"br"),Vo(7,"span"),Vo(8,"i"),Da(9),sc(10,"number"),Bo(),Bo(),Bo()}if(2&t){const t=ta();Or(3),jo("displayWith",t.formatUncertaintySliderLabel)("ngModel",t.selectedUncertainty),Or(6),Fa("Current: < ",oc(10,3,t.selectedUncertainty)," m")}}const XG=function(t){return{"hover-value":!0,on:t}};let $G=(()=>{class t{constructor(t){this.speciesService=t,this.scientificname="",this.selectedDatasetIds=[],this.speciesPointFilters=new hc,this.individualSelect=new hc,this.speciesPointUncertainty=new hc,this.individualCounts=[],this.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.typesToFilter=["points","movement"],this.currentScientificName=void 0,this.showUncertainty=!1,this.anyUncertainty=!0,this.selectedUncertainty=25e3,this.hasFilters=!1,this.total=0,this.totalNoDateFilter=0,this.allRecords=!0,this.loadEnd=!1,this.datasetCounts={},this.noPointDatasetsSelected=!0,this.noMovementSelected=!0,this.hoverValue="",this.hoverFade=!1,this.isMobile=!1,this.selectedIndividual="",this.isMobile=window.innerWidth<=480}ngOnInit(){}ngAfterViewInit(){}ngOnChanges(t){var e;this.totalNoDateFilter=0,this.scientificname&&this.scientificname!==this.currentScientificName&&(this.currentScientificName=this.scientificname,this.speciesService.getPointFilters(this.scientificname).subscribe(t=>{this.setupChart(t),this.loadEnd=!0,this.refreshDatasetCounts(),this.datasetsChanged()})),this.selectedDatasetIds&&this.selectedDatasetIds.length>0&&this.datasetDim&&t.selectedDatasetIds&&!(null===(e=t.selectedDatasetIds)||void 0===e?void 0:e.firstChange)?this.datasetsChanged():0===this.selectedDatasetIds.length&&this.refreshSelectedCount(),this.monthChart&&this.updateTemporalFilters()}datasetsChanged(){this.datasetDim.filterAll(),this.refreshSelectedCount(),this.datasetDim.filterFunction(t=>{for(let e=0;e<this.selectedDatasetIds.length;e++){const n=this.selectedDatasetIds[e];if(n.isFiltered){if(n.isFiltered(t))return!0}else if(n<=t&&n>=t)return!0}return!1}),VN.redrawAll()}refreshDatasetCounts(){this.speciesService.getDatasets(this.scientificname).subscribe(t=>{t.forEach(t=>{this.datasetCounts[t.dataset_id]=this.typesToFilter.indexOf(t.product_type)>-1?t.no_rows:0}),this.refreshSelectedCount()})}refreshSelectedCount(){this.totalNoDateFilter=0;let t={};this.noMovementSelected=!0,this.individualCounts.forEach(e=>{t[e.dataset_id]=t[e.dataset_id]?t[e.dataset_id]+e.total:e.total}),this.selectedDatasetIds.forEach(e=>{this.totalNoDateFilter+=this.datasetCounts[e],t[e]&&(this.noMovementSelected=!1)}),this.noPointDatasetsSelected=0===this.totalNoDateFilter}setupChart(t){const e=this.isMobile?350:400;VN.config.defaultColors(bU);const n=this;this.monthChart=VN.barChart(this.monthChartDiv.nativeElement),this.yearChart=VN.lineChart(this.yearChartDiv.nativeElement),eH("%Y-%m-%d");const i=nH("%Y-%m-%d");this.individualCounts=t.filter(t=>"aids"===t.metric_type||"individual"===t.metric_type).sort((t,e)=>e.total-t.total),(t=t.filter(t=>"date"===t.metric_type)).forEach((function(t){t.eventDate=i(t.metric.replace(/ .*/,"")),t.month=NB(t.eventDate).getMonth(),t.year=FB(t.eventDate).getFullYear()}));const r=parseInt(function(t,e){var n,i,r=t.length,s=-1;if(null==e){for(;++s<r;)if(null!=(n=t[s])&&n>=n)for(i=n;++s<r;)null!=(n=t[s])&&i>n&&(i=n)}else for(;++s<r;)if(null!=(n=e(t[s]))&&n>=n)for(i=n;++s<r;)null!=(n=e(t[s]))&&i>n&&(i=n);return i}(t,(function(t){return t.year})),10),s=parseInt(function(t,e){var n,i,r=t.length,s=-1;if(null==e){for(;++s<r;)if(null!=(n=t[s])&&n>=n)for(i=n;++s<r;)null!=(n=t[s])&&n>i&&(i=n)}else for(;++s<r;)if(null!=(n=e(t[s]))&&n>=n)for(i=n;++s<r;)null!=(n=e(t[s]))&&n>i&&(i=n);return i}(t,(function(t){return t.year})),10),o=FG(t);o.groupAll(),this.datasetDim=o.dimension(t=>t.dataset_id);const a=o.dimension(t=>t.year),l=a.group().reduceSum(t=>t.total),c=o.dimension(t=>t.month),h=c.group().reduceSum(t=>t.total);this.monthChart.width(e).height(200).elasticY(!0).renderHorizontalGridLines(!0).x(function t(){var e,n,i=bB().unknown(void 0),r=i.domain,s=i.range,o=[0,1],a=!1,l=0,c=0,h=.5;function u(){var t=r().length,i=o[1]<o[0],u=o[i-0],d=o[1-i];e=(d-u)/Math.max(1,t-l+2*c),a&&(e=Math.floor(e)),u+=(d-u-e*(t-l))*h,n=e*(1-l),a&&(u=Math.round(u),n=Math.round(n));var f=UN(t).map((function(t){return u+e*t}));return s(i?f.reverse():f)}return delete i.unknown,i.domain=function(t){return arguments.length?(r(t),u()):r()},i.range=function(t){return arguments.length?(o=[+t[0],+t[1]],u()):o.slice()},i.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,u()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(t){return arguments.length?(a=!!t,u()):a},i.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),u()):l},i.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),u()):l},i.paddingOuter=function(t){return arguments.length?(c=+t,u()):c},i.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),u()):h},i.copy=function(){return t(r(),o).round(a).paddingInner(l).paddingOuter(c).align(h)},gB.apply(u(),arguments)}()).colors(["#8dd3c7","66c2a5","#fec44f"]).xUnits(VN.units.ordinal).dimension(c).group(h).title(t=>`Total records for ${this.monthNames[t.key]}: ${sB(",")(t.value)}`).brushOn(!1).on("pretransition",(function(t){t.selectAll("g rect.bar").style("fill","#8dd3c7"),t.selectAll("g rect.bar.selected").style("fill","#fec44f")})).on("renderlet",(function(t){t.selectAll("g rect.bar").on("mouseover.foo",(function(t){n.hoverFade=!1,n.hoverValue=t.target.textContent.replace("Total records for ","")})).on("mouseout.foo",(function(t){n.hoverFade=!0}))})).on("filtered",(function(t,e){n.updateTemporalFilters()})),this.yearChart.width(e).height(200).elasticY(!0).renderHorizontalGridLines(!0).x(function t(){var e=AB(OB,OB);return e.copy=function(){return TB(e,t())},gB.apply(e,arguments),PB(e)}().domain([r,s])).colors(["#8dd3c7","66c2a5","#fec44f"]).dimension(a).group(l).round(Math.floor).renderDataPoints(!0).on("pretransition",(function(t){t.selectAll("g path.line").style("fill","none").style("stroke-width","2")})).title(t=>`Total records for ${t.key}: ${sB(",")(t.value)}`).brushOn(!0).on("filtered",(function(t,e){n.updateTemporalFilters()})),this.monthChart.xAxis().tickFormat(t=>this.monthNames[t]),this.yearChart.xAxis().ticks(8).tickFormat(sB("d")),this.monthChart.yAxis().ticks(6).tickFormat(sB("~s")),this.yearChart.yAxis().ticks(6).tickFormat(sB("~s")),this.monthChart.render(),this.yearChart.render(),this.updateTemporalFilters()}individualSelected(t){this.selectedIndividual=t.value,this.applyFilters()}updateTemporalFilters(){const t=this.monthChart.filters(),e=this.yearChart.filters()&&this.yearChart.filters().length>0?this.yearChart.filters()[0]:[],n=this.monthChart.data()[0].domainValues.map(t=>t.data);if(this.total=0,this.hasFilters=!1,null!==t&&t.length>0){const e=t.map(t=>{const e=n.find(e=>e.key===t);return e&&(this.total+=e.value),this.monthNames[t]});this.monthFilters.nativeElement.innerHTML=""+e.join(", "),this.hasFilters=!0}else this.monthFilters.nativeElement.innerHTML="All Records",n.forEach(t=>{this.total+=t.value});null!==e&&e.length>0?(this.yearFilters.nativeElement.innerHTML=`${e[0]} - ${e[1]}`,this.hasFilters=!0):this.yearFilters.nativeElement.innerHTML="All Records"}formatUncertaintySliderLabel(t){return t>=1e3?Math.round(t/1e3)+"k":""+t}toggleUncertaintyDisplay(t){this.speciesPointUncertainty.emit(this.showUncertainty)}toggleUncertaintyFilter(t){this.selectedUncertainty=25e3,this.setUncertainty(void 0)}setUncertainty(t){this.anyUncertainty?this.uncertaintyFilters.nativeElement.innerHTML="All uncertainty":(this.uncertaintyFilters.nativeElement.innerHTML=`< ${(new Intl.NumberFormat).format(this.selectedUncertainty)} m`,this.hasFilters=!0)}applyFilters(){const t=this.monthChart.filters(),e=this.yearChart.filters()&&this.yearChart.filters().length>0?this.yearChart.filters()[0]:[],n=t.map(t=>t+1);this.speciesPointFilters.emit({months:n,years:e&&e.length>0?[e[0],e[1]]:[],uncertainty:this.anyUncertainty?null:this.selectedUncertainty,individual:""===this.selectedIndividual?void 0:this.selectedIndividual})}resetChart(){this.monthChart.filterAll(),this.yearChart.filterAll(),VN.redrawAll(),this.anyUncertainty=!0,this.setUncertainty(void 0),this.applyFilters(),this.hasFilters=!1}}return t.\u0275fac=function(e){return new(e||t)(Lo(ZA))},t.\u0275cmp=pe({type:t,selectors:[["mol-point-filters"]],viewQuery:function(t,e){var n;1&t&&(Cc(BG,!0),Cc(HG,!0),Cc(UG,!0),Cc(GG,!0),Cc(WG,!0)),2&t&&(wc(n=Mc())&&(e.monthChartDiv=n.first),wc(n=Mc())&&(e.yearChartDiv=n.first),wc(n=Mc())&&(e.monthFilters=n.first),wc(n=Mc())&&(e.yearFilters=n.first),wc(n=Mc())&&(e.uncertaintyFilters=n.first))},inputs:{scientificname:"scientificname",selectedDatasetIds:"selectedDatasetIds"},outputs:{speciesPointFilters:"speciesPointFilters",individualSelect:"individualSelect",speciesPointUncertainty:"speciesPointUncertainty"},features:[Xa],decls:106,vars:29,consts:[[3,"hidden"],[1,"card-divider"],[1,"species-card",3,"hidden"],[1,"card-divider",3,"hidden"],[1,"species-card"],[3,"selectionChange"],["select",""],["value",""],["class","count-option",3,"value",4,"ngFor","ngForOf"],[1,"chart-container"],["monthChartDiv",""],["yearChartDiv",""],[1,"please-zoom",3,"hidden"],[3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"selectedFilters"],["monthFilters",""],["yearFilters",""],["uncertaintyFilters",""],[1,"selectedFiltersButtons"],["mat-stroked-button","",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"count-option",3,"value"],[1,"aid"],[1,"count"],[1,"text-small"],["thumbLabel","","tickInterval","10000","min","1","max","150000",3,"displayWith","ngModel","ngModelChange","change"]],template:function(t,e){if(1&t&&(Vo(0,"div",0),Ho(1,"div",1),Vo(2,"mat-card",2),Vo(3,"mat-card-content"),Da(4," Select a point observation dataset to show filter options. "),Bo(),Bo(),Bo(),Ho(5,"div",3),Vo(6,"div",0),Vo(7,"mat-card",4),Vo(8,"mat-card-header"),Vo(9,"mat-card-title"),Da(10,"Movement Filters"),Bo(),Vo(11,"mat-card-subtitle"),Vo(12,"i"),Da(13," Select individual animals with tracking data: "),Ho(14,"br"),Bo(),Bo(),Bo(),Vo(15,"mat-card-content"),Vo(16,"mat-form-field"),Vo(17,"mat-label"),Da(18,"All Individuals"),Bo(),Vo(19,"mat-select",5,6),$o("selectionChange",(function(t){return e.individualSelected(t)})),Vo(21,"mat-select-trigger"),Da(22),Bo(),Vo(23,"mat-option",7),Da(24,"All"),Bo(),Io(25,YG,5,3,"mat-option",8),Bo(),Bo(),Bo(),Bo(),Bo(),Ho(26,"div",1),Vo(27,"div",0),Vo(28,"mat-card",4),Vo(29,"mat-card-header"),Vo(30,"mat-card-title"),Da(31,"Temporal Filters"),Bo(),Vo(32,"mat-card-subtitle"),Vo(33,"i"),Da(34," Filters apply to selected point observations and movement layers. "),Ho(35,"br"),Da(36," Filter months by selecting bars. "),Ho(37,"br"),Da(38," Filter years by clicking and dragging. "),Bo(),Bo(),Bo(),Vo(39,"mat-card-content"),Vo(40,"div"),Vo(41,"i"),Da(42,"Total records by Month"),Bo(),Vo(43,"div"),Da(44),Bo(),Bo(),Ho(45,"div",9,10),Vo(47,"div"),Vo(48,"i"),Da(49,"Total records by Year"),Bo(),Bo(),Ho(50,"div",9,11),Bo(),Bo(),Ho(52,"div",1),Vo(53,"mat-card",4),Vo(54,"mat-card-header"),Vo(55,"mat-card-title"),Da(56,"Spatial uncertainty"),Bo(),Bo(),Vo(57,"mat-card-content"),Vo(58,"div"),Vo(59,"div",12),Vo(60,"b"),Da(61,"Please zoom in to display uncertainty circles."),Bo(),Bo(),Vo(62,"mat-slide-toggle",13),$o("ngModelChange",(function(t){return e.showUncertainty=t}))("change",(function(t){return e.toggleUncertaintyDisplay(t)})),Da(63,"Display uncertainty circles (at high zoom levels)"),Bo(),Vo(64,"mat-slide-toggle",13),$o("ngModelChange",(function(t){return e.anyUncertainty=t}))("change",(function(t){return e.toggleUncertaintyFilter(t)})),Da(65,"All Records"),Bo(),Bo(),Io(66,qG,11,5,"div",14),Bo(),Bo(),Ho(67,"div",1),Vo(68,"mat-card",4),Vo(69,"mat-card-header"),Vo(70,"mat-card-title"),Da(71,"Selected filters"),Bo(),Bo(),Vo(72,"mat-card-content"),Vo(73,"div"),Vo(74,"div"),Da(75," Months: "),Vo(76,"span",15,16),Da(78,"All Records"),Bo(),Bo(),Vo(79,"div"),Da(80," Years: "),Vo(81,"span",15,17),Da(83,"All Records"),Bo(),Bo(),Vo(84,"div",0),Da(85," Records within the temporal filters: "),Vo(86,"span",15),Da(87),sc(88,"number"),sc(89,"number"),Bo(),Bo(),Vo(90,"div",0),Da(91," Total Records: "),Vo(92,"span",15),Da(93),sc(94,"number"),Bo(),Bo(),Ho(95,"br"),Vo(96,"div"),Da(97," Spatial Uncertainty: "),Vo(98,"span",15,18),Da(100,"All Uncertainty"),Bo(),Bo(),Vo(101,"div",19),Vo(102,"button",20),$o("click",(function(){return e.resetChart()})),Da(103," Reset "),Bo(),Vo(104,"button",21),$o("click",(function(){return e.applyFilters()})),Da(105," Update Map "),Bo(),Bo(),Bo(),Bo(),Bo(),Bo()),2&t){const t=Do(20);jo("hidden",!e.noPointDatasetsSelected),Or(2),jo("hidden",!e.loadEnd),Or(3),jo("hidden",0===e.individualCounts.length||e.noMovementSelected),Or(1),jo("hidden",0===e.individualCounts.length||e.noMovementSelected),Or(16),Fa(" ",t.value," "),Or(3),jo("ngForOf",e.individualCounts),Or(2),jo("hidden",e.noPointDatasetsSelected),Or(16),wa(Jl(27,XG,e.hoverFade)),Or(1),Fa(" ",e.hoverValue," "),Or(15),jo("hidden",!e.showUncertainty),Or(3),jo("ngModel",e.showUncertainty),Or(2),jo("ngModel",e.anyUncertainty),Or(2),jo("ngIf",!e.anyUncertainty),Or(18),jo("hidden",!e.allRecords),Or(3),Na("",oc(88,21,e.total)," / ",oc(89,23,e.totalNoDateFilter),""),Or(3),jo("hidden",e.allRecords),Or(3),La(oc(94,25,e.totalNoDateFilter)),Or(9),jo("disabled",!e.hasFilters),Or(2),jo("disabled",!e.hasFilters)}},directives:[uC,aC,dC,lC,cC,fx,rx,Ix,Rx,ub,lu,LC,Um,W_,hu,Ub,iE],pipes:[Su],styles:[".species-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px;font-size:12px;line-height:24px}.please-zoom[_ngcontent-%COMP%]{padding-left:18px}.hover-value[_ngcontent-%COMP%]{font-weight:500;display:inline;padding-left:10px;transition:opacity .1s linear;opacity:1}.hover-value.on[_ngcontent-%COMP%]{opacity:0}mat-slide-toggle[_ngcontent-%COMP%]{margin:8px 0;display:block}mat-slider[_ngcontent-%COMP%]{width:300px}.selectedFilters[_ngcontent-%COMP%]{font-weight:700}.count-option[_ngcontent-%COMP%]{height:60px;display:flex;line-height:15px}.count-option[_ngcontent-%COMP%]   .aid[_ngcontent-%COMP%]{height:20px}.count-option[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:grey;height:15px}.selectedFiltersButtons[_ngcontent-%COMP%]{margin:15px 0 0}.card-divider[_ngcontent-%COMP%]{border:3px solid hsla(0,0%,86.7%,.67)}"]}),t})();function KG(t,e){1&t&&(Vo(0,"div",10),Vo(1,"b"),Da(2,"Can't find your dataset?"),Bo(),Ho(3,"br"),Da(4," Please check "),Vo(5,"a",11),Da(6,"species classic"),Bo(),Da(7,", the previous iteration of the map of life species pages. We are working to make user uploaded datasets available in the new interface. "),Bo())}function ZG(t,e){1&t&&(Vo(0,"div",10),Da(1," Download data related to selected species and datasets. "),Ho(2,"br"),Vo(3,"em"),Da(4,"Note:"),Bo(),Da(5," Only data that conforms to licensing agreements are generated. For others, a link where available to the source data is provided. "),Bo())}const QG=function(t){return{active:t}};function JG(t,e){if(1&t){const t=Yo();Vo(0,"button",16),$o("click",(function(){Qe(t);const n=e.$implicit;return ta(2).updateThreshold(n)})),Da(1),Bo()}if(2&t){const t=e.$implicit;wa(Jl(4,QG,t.visible)),jo("disabled",t.visible),Or(1),Fa(" ",t.threshold," ")}}function tW(t,e){if(1&t&&(Vo(0,"mat-card",12),Vo(1,"mat-card-header"),Vo(2,"mat-card-title"),Da(3,"SDM Display"),Bo(),Vo(4,"mat-card-subtitle",13),Da(5,"Available thresholds for selected distribution models:"),Bo(),Bo(),Vo(6,"mat-card-content"),Vo(7,"div",14),Io(8,JG,2,6,"button",15),Bo(),Bo(),Bo()),2&t){const t=ta();Or(8),jo("ngForOf",t.thresholds)}}let eW=(()=>{class t{constructor(t,e,n,i,r){this.state=t,this.auth=e,this.mapService=n,this.config=i,this.dialog=r,this.scientificname="",this.defaultIds=[],this.defaultDatasetType="",this.showInfo=!1,this.selectedDatasets=[],this.selectedDatasetsObj=[],this.selectedOccurrenceDatasets=[],this.selectedModelDatasets=[],this.selectedFilters={},this.showDownloads=!1,this.loggedIn=!1}ngOnInit(){this.config.state.subscribe(t=>{this.defaultIds=t.dsid,this.defaultDatasetType=t.type}),this.state.scientificname.subscribe(t=>{this.scientificname=t,this.thresholds=[]}),this.auth.loggedIn.subscribe(t=>{this.loggedIn=t})}ngOnDestroy(){this.mapService.updateTileUrl("OFF"),this.mapService.updateSecondaryTileUrl("OFF"),this.mapService.updateModel(this.scientificname,null)}selectedDatasetsHandler(t){this.selectedDatasetsObj=t}selectedOccurrenceIds(t){this.selectedOccurrenceDatasets=t}updateLayers(t){this.selectedDatasets=t,!this.showDownloads&&this.selectedDatasets.length>0&&(this.showDownloads=!0),this.mapService.updateSelectedLayers(t),this.updateTileUrl()}updateTileUrl(){this.mapService.updateDetailedMap(this.scientificname,this.selectedDatasets,this.selectedOccurrenceDatasets,this.selectedFilters,this.selectedModelDatasets,this.selectedDatasetsObj)}addWebGLFeatures(){"Anser albifrons"!==this.scientificname&&"Larus fuscus"!==this.scientificname||this.mapService.loadWebGLFeatures(this.scientificname)}openDownloadModal(){this.dialog.open(hI,{data:{scientificname:this.scientificname},width:"800px",maxWidth:"80%",maxHeight:"80%"})}selectedModelsChanged(t){var e,n;if(t&&(null===(e=t.thresholds)||void 0===e?void 0:e.length)&&(null===(n=t.thresholds)||void 0===n?void 0:n.length)>0){this.selectedModelDatasets=[t.dataset_id],this.thresholds=t.thresholds;const e=this.thresholds.find(t=>t.visible);this.mapService.updateModel(this.scientificname,e.threshold)}else this.thresholds=[],this.mapService.updateModel(this.scientificname,null)}updateThreshold(t){this.thresholds.forEach(t=>{t.visible=!1}),t.visible=!0,this.mapService.updateModel(this.scientificname,t.threshold)}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds)}zoomToDatasetExtent(t){this.mapService.zoomToDatasetExtent(t)}speciesPointFilters(t){this.selectedFilters=t,this.mapService.setSpeciesFilters(t),this.updateTileUrl()}speciesPointUncertainty(t){this.mapService.displayUncertaintyBuffers(t)}}return t.\u0275fac=function(e){return new(e||t)(Lo(fD),Lo(JA),Lo(QA),Lo(WA),Lo(vE))},t.\u0275cmp=pe({type:t,selectors:[["mol-species-detailed"]],decls:12,vars:11,consts:[[3,"scientificname","wiki","speciesInfoUpdated"],[3,"scientificname","defaultSelected","defaultDatasetType","selectedDatasetIdsChanged","selectedDatasets","selectedOccurrenceDatasetIdsChanged","selectedModelDatasets","zoomToDatasetExtent"],[1,"controls"],["class","infoBlock",4,"ngIf"],[1,"section",3,"hidden"],["mat-flat-button","","color","accent",1,"mol-button",3,"click"],[1,"showInfo",3,"click"],["class","species-card","class","section",4,"ngIf"],[1,"controls-filters"],[3,"scientificname","selectedDatasetIds","speciesPointFilters","speciesPointUncertainty"],[1,"infoBlock"],["target","_blank","href","https://mol.org/species-classic"],[1,"section"],[1,"threshold-title"],[1,"threshold-buttons"],["mat-flat-button","",3,"disabled","class","click",4,"ngFor","ngForOf"],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(Vo(0,"mol-species-info",0),$o("speciesInfoUpdated",(function(t){return e.speciesInfoUpdated(t)})),Bo(),Vo(1,"mol-species-dataset-menu",1),$o("selectedDatasetIdsChanged",(function(t){return e.updateLayers(t)}))("selectedDatasets",(function(t){return e.selectedDatasetsHandler(t)}))("selectedOccurrenceDatasetIdsChanged",(function(t){return e.selectedOccurrenceIds(t)}))("selectedModelDatasets",(function(t){return e.selectedModelsChanged(t)}))("zoomToDatasetExtent",(function(t){return e.zoomToDatasetExtent(t)})),Bo(),Vo(2,"div",2),Io(3,KG,8,0,"div",3),Vo(4,"div",4),Vo(5,"button",5),$o("click",(function(){return e.openDownloadModal()})),Da(6," Download species data "),Bo(),Vo(7,"mol-help-tooltip",6),$o("click",(function(){return e.showInfo=!e.showInfo})),Bo(),Bo(),Io(8,ZG,6,0,"div",3),Io(9,tW,9,1,"mat-card",7),Bo(),Vo(10,"div",8),Vo(11,"mol-point-filters",9),$o("speciesPointFilters",(function(t){return e.speciesPointFilters(t)}))("speciesPointUncertainty",(function(t){return e.speciesPointUncertainty(t)})),Bo(),Bo()),2&t&&(jo("scientificname",e.scientificname)("wiki",!1),Or(1),jo("scientificname",e.scientificname)("defaultSelected",e.defaultIds)("defaultDatasetType",e.defaultDatasetType),Or(2),jo("ngIf",e.loggedIn),Or(1),jo("hidden",!e.showDownloads),Or(4),jo("ngIf",e.showInfo),Or(1),jo("ngIf",e.thresholds.length>0),Or(2),jo("scientificname",e.scientificname)("selectedDatasetIds",e.selectedDatasets))},directives:[ID,FN,hu,Ub,NN,$G,uC,dC,lC,cC,aC,lu],styles:["[_nghost-%COMP%]{overflow-y:scroll;overflow-x:hidden}.controls[_ngcontent-%COMP%]{padding-top:15px;margin-left:15px}.controls[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:15px 0}.controls[_ngcontent-%COMP%]   .mol-button[_ngcontent-%COMP%]{font-size:12px;line-height:24px}.controls[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%]{cursor:pointer;font-size:22px}.controls[_ngcontent-%COMP%]   .infoBlock[_ngcontent-%COMP%]{width:300px}.threshold-buttons[_ngcontent-%COMP%]{padding-left:15px}.threshold-buttons[_ngcontent-%COMP%]   .threshold-title[_ngcontent-%COMP%]{font-size:16px}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:unset;color:#000;height:25px;line-height:25px;background-color:#fff;border:1px solid #ccc}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:5px 0 0 5px}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 5px 5px 0}.threshold-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #e0e0e0}.threshold-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{cursor:not-allowed;border:1px solid #b8b8b8;background-color:#b8b8b8;color:#000;text-decoration:underline}mol-help-tooltip[_ngcontent-%COMP%]{vertical-align:middle;padding-left:10px}.controls-filters[_ngcontent-%COMP%]{padding-bottom:100px}"]}),t})(),nW=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(Lo(pE),Lo(fE))},t.\u0275cmp=pe({type:t,selectors:[["mol-chart-modal"]],decls:5,vars:7,consts:[["mat-icon-button","","matTooltipPosition","right","matTooltipClass","tooltip","matTooltip","Close the popup","aria-label","Close the popup",1,"popup-close-button",3,"click"],[3,"data","type","title","columns","width","height","options"]],template:function(t,e){1&t&&(Vo(0,"div"),Vo(1,"button",0),$o("click",(function(){return e.close()})),Vo(2,"mat-icon"),Da(3,"close"),Bo(),Bo(),Ho(4,"google-chart",1),Bo()),2&t&&(Or(4),jo("data",e.data.data)("type","LineChart")("title",e.data.title)("columns",e.data.columns)("width",e.data.width)("height",e.data.height)("options",e.data.options))},directives:[Ub,tS,eC,Am],styles:[".popup-close-button[_ngcontent-%COMP%]{float:right;background-color:#fff}"]}),t})();const iW=[{scientificname:"Limnornis curvirostris",commonName:"Curve-Billed Reedhaunter",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/i_Czl7FZ3E-a2a6ECsMiVS3mJ2WsC9Mit30UqUxgUn7JFUiRFI-6mFVqK5T9azb7xRIQxuKQ2y493mZLSY8Viy4-=s512-c"},{scientificname:"Oreophryne monticola",commonName:"Lombok Cross Frog",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/iwdEY5ht0EMMylwjOy9UGg1AtUR6zoeMOvcI9F7zear21GPUTWyRpO1WWUacPm9Fo7dO8fBFeU8tb_R-_b_yTJE=s512-c"},{scientificname:"Cichlocolaptes leucophrus",commonName:"Pale-Browed Treehunter",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/V-nKhiE6tSJA3LpBv9rc8Nch5jgC5KjB4mY_eOxoS3DNIRslyQpA2r31sHdBl_WKK2tyuHgnuVpUa59WozddFw=s512-c"},{scientificname:"Kobus megaceros",commonName:"Nile Lechwe",route:"/projection/landuse/",img:"https://lh3.googleusercontent.com/8gNXTCEgTbSpRLOPB0oDzcvI4U7GXyB5ZaF7qHfLLIBPjFx7xvkk-3R1abFELQ-F_ljlrRnWmrGPHLcJoestqCQ=s512-c"}];function rW(t,e){if(1&t){const t=Yo();Vo(0,"li"),Vo(1,"a",12),$o("click",(function(){Qe(t);const n=e.$implicit;return ta(2).goToLandUse(n)})),Da(2),Vo(3,"i"),Da(4),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit;Or(2),Fa("",t.commonName,", "),Or(2),La(t.scientificname)}}function sW(t,e){if(1&t&&(Vo(0,"div",3),Vo(1,"div"),Vo(2,"div",10),Da(3," No projection\xa0available for this species. Projections should be available for birds, mammals, reptiles, and amphibians. "),Bo(),Ho(4,"br"),Vo(5,"div",10),Da(6," Please select from one of the following species featured in the publication: "),Bo(),Vo(7,"ul"),Io(8,rW,5,2,"li",11),Bo(),Bo(),Bo()),2&t){const t=ta();Or(8),jo("ngForOf",t.projectionSpeciesList)}}function oW(t,e){if(1&t&&(Vo(0,"mat-option",25),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),La(t)}}function aW(t,e){if(1&t&&(Vo(0,"mat-option",25),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t.m),Or(1),La(t.d)}}function lW(t,e){1&t&&Ho(0,"mat-spinner",26),2&t&&jo("diameter",30)}function cW(t,e){1&t&&(Vo(0,"div",27),Da(1," From: Powers & Jetz (2019): Global habitat loss and extinction risk of terrestrial vertebrates under future land- use change scenarios. "),Ho(2,"br"),Da(3," Nature Climate Change. "),Ho(4,"br"),Da(5," Click "),Vo(6,"a",28),Da(7,"here"),Bo(),Da(8," for more information. "),Bo())}const hW=function(t){return{label:!0,disabled:t}},uW=function(t){return{selectedControl:t}};function dW(t,e){if(1&t){const t=Yo();Vo(0,"div",3),Vo(1,"div"),Vo(2,"div",10),Da(3,"Projection Year (Map)"),Bo(),Vo(4,"mat-form-field",13),Vo(5,"mat-select",14),$o("ngModelChange",(function(e){return Qe(t),ta().year=e}))("ngModelChange",(function(e){return Qe(t),ta().yearChanged(e)})),Io(6,oW,2,2,"mat-option",15),Bo(),Bo(),Bo(),Vo(7,"div"),Vo(8,"div"),Da(9," Shared Socio\u2010Economic Pathway (SSP) "),Bo(),Vo(10,"mat-form-field",16),Vo(11,"mat-select",17),$o("ngModelChange",(function(e){return Qe(t),ta().luMethod=e})),Io(12,aW,2,2,"mat-option",15),Bo(),Bo(),Bo(),Vo(13,"div",18),Vo(14,"div",10),Da(15,"Habitat Regain Assumption:"),Bo(),Vo(16,"div"),Vo(17,"button",19),$o("click",(function(){return Qe(t),ta().regainScenario="scenario1"})),Da(18," No-regain "),Bo(),Vo(19,"button",19),$o("click",(function(){return Qe(t),ta().regainScenario="scenario3"})),Da(20," Regain "),Bo(),Bo(),Bo(),Vo(21,"div",20),Vo(22,"button",21),$o("click",(function(){return Qe(t),ta().updateResults()})),Da(23," Get projection "),Bo(),Vo(24,"mol-help-tooltip",22),$o("click",(function(){Qe(t);const e=ta();return e.showInfo=!e.showInfo})),Bo(),Io(25,lW,1,1,"mat-spinner",23),Bo(),Io(26,cW,9,0,"div",24),Bo()}if(2&t){const t=ta();Or(5),jo("ngModel",t.year),Or(1),jo("ngForOf",t.decades),Or(2),wa(Jl(16,hW,2015===t.year)),Or(3),jo("disabled",2015===t.year)("ngModel",t.luMethod),Or(1),jo("ngForOf",t.luMethodsDrop),Or(5),wa(Jl(18,uW,"scenario1"===t.regainScenario)),jo("disableRipple",!0),Or(2),wa(Jl(20,uW,"scenario3"===t.regainScenario)),jo("disableRipple",!0),Or(3),jo("disabled",t.loading||t.year===t.oldYear&&t.scientificname===t.oldScientificname&&t.oldLuMethod===t.luMethod&&t.oldLuOption===t.luOption&&t.oldRegainScenario===t.regainScenario),Or(3),jo("ngIf",t.loading),Or(1),jo("ngIf",t.showInfo)}}function fW(t,e){1&t&&(Vo(0,"div",29),Vo(1,"div",10),Da(2,"Projected suitability"),Bo(),Vo(3,"small"),Da(4,"If the projection map is not appearing, please zoom in."),Bo(),Bo())}const pW=function(t){return{"cat-button":!0,selected:t}};function gW(t,e){if(1&t&&(Vo(0,"button"),Da(1),Bo()),2&t){const t=e.$implicit,n=ta(2);wa(Jl(3,pW,-1!==n.metadata.luh_cat.indexOf(t.code))),Or(1),Fa(" ",t.name," ")}}function mW(t,e){if(1&t&&(Vo(0,"div",30),Vo(1,"div",31),Vo(2,"div",10),Da(3,"Suitable elevation:"),Bo(),Vo(4,"div",32),Da(5),Bo(),Bo(),Vo(6,"div",31),Vo(7,"div",10),Da(8,"Suitable tree cover:"),Bo(),Vo(9,"div",32),Da(10),Bo(),Bo(),Vo(11,"div",10),Da(12,"Suitable land-cover categories (in blue):"),Bo(),Io(13,gW,2,5,"button",33),Bo()),2&t){const t=ta();Or(5),Na(" ",t.metadata.elev_min," to ",t.metadata.elev_max," meters "),Or(5),Na(" ",t.metadata.treecover_min," to ",t.metadata.treecover_max,"% "),Or(3),jo("ngForOf",t.landUseCategories)}}function _W(t,e){if(1&t&&(Vo(0,"div",34),Ho(1,"google-chart",35),Bo()),2&t){const t=ta();Or(1),jo("data",t.chartData.data)("type","LineChart")("title",t.chartData.title)("columns",t.chartData.columns)("width",t.chartData.width)("height",t.chartData.height)("options",t.chartData.options)}}function vW(t,e){if(1&t){const t=Yo();Vo(0,"div",36),Vo(1,"button",37),$o("click",(function(){return Qe(t),ta().openChartModal()})),Da(2," View Larger Chart "),Bo(),Bo()}}function yW(t,e){1&t&&(Vo(0,"div",10),Da(1,"Legend"),Bo())}function bW(t,e){1&t&&(Vo(0,"div",38),Vo(1,"div"),Da(2,"% suitable habitat"),Bo(),Ho(3,"div",39),Vo(4,"div"),Vo(5,"span"),Da(6,"0"),Bo(),Vo(7,"span",40),Da(8,"100%"),Bo(),Bo(),Bo())}let wW=(()=>{class t{constructor(t,e,n,i,r,s){this.state=t,this.species=e,this.mapService=n,this.config=i,this.dialog=r,this.snackBar=s,this.scientificname="",this.year=2015,this.regainScenario="scenario1",this.luOption="luh",this.luMethod="message",this.luScale="025deg",this.loading=!0,this.error=!1,this.projectionSpeciesList=iW,this.luMethodsDrop=[{m:"image",d:"SSP 1 (RCP 2.6)"},{m:"message",d:"SSP 2 (RCP 4.5)"},{m:"aim",d:"SSP 3 (RCP 7.0)"},{m:"magpie",d:"SSP 5 (RCP 8.5)"}],this.chartData=null,this.speciesNameSubscription=null,this.metadata=null,this.showInfo=!1,this.landUseCategories=[{code:5,name:"Forest"},{code:15,name:"Non-Forest"},{code:14,name:"Managed Land"},{code:13,name:"Urban"},{code:12,name:"Crop"}],this.luhMethods={image:"SSP 1",message:"SSP 2",aim:"SSP 3",magpie:"SSP 5"},this.decadeOptions={globio:[2010,2020,2030,2040,2050],luh:[2015,2020,2030,2040,2050,2060,2070]},this.decades=[],this.oldScientificname="",this.oldYear=0,this.oldLuOption="",this.oldLuMethod="",this.oldRegainScenario=""}ngOnInit(){this.decades=this.decadeOptions[this.luOption],this.year=this.decades[0],this.speciesNameSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.updateResults()})}ngOnDestroy(){this.speciesNameSubscription.unsubscribe(),this.mapService.updateTileUrl("OFF")}yearChanged(t){2015===t&&(this.luMethod="message")}updateResults(){this.loading=!0,this.error=!1,this.oldScientificname=this.scientificname,this.oldYear=this.year,this.oldLuOption=this.luOption,this.oldLuMethod=this.luMethod,this.oldRegainScenario=this.regainScenario,this.species.getProjection({scientificname:this.scientificname,decade:this.year,landuse:this.luOption,lumethod:this.luMethod,scenario:this.regainScenario}).subscribe(t=>{this.loading=!1,this.extractChartData(t.chart),t.map&&(this.mapService.updateTileUrl(t.map.tile_url),this.snackBar.open("Projections of species with large ranges may not load until you zoom in the map.","Okay",{panelClass:"snackbar-color"})),t.metadata&&(this.metadata=t.metadata)},t=>{this.error=!0,this.loading=!1})}extractChartData(t){t&&(this.chartData={data:[],columns:[{type:"date",label:"Year",id:"Year"},{type:"number",label:"Regain",id:"Regain"},{type:"number",label:"No-regain",id:"No-regain"}],title:this.scientificname+" projection under "+this.luhMethods[this.luMethod],options:{legend:{position:"bottom"},hAxis:{title:"Year",format:"Y"},vAxis:{title:"Habitat-suitable range (km\xb2)"},colors:["#00F","#F00"]},width:450,height:350},this.decades.forEach(e=>{const n=[new Date(e,1,1)];t.features.forEach(t=>{n.push(t.properties[e])}),this.chartData.data.push(n)}))}openChartModal(){this.dialog.open(nW,{data:Object.assign(Object.assign({},this.chartData),{height:500,width:700,options:Object.assign(Object.assign({},this.chartData.options),{chartArea:{width:"90%",height:"80%",right:0}})}),width:"800px"})}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds)}zoomToDatasetExtent(t){this.mapService.zoomToDatasetExtent(t)}goToLandUse(t){this.state.updateScientificname(t.scientificname)}}return t.\u0275fac=function(e){return new(e||t)(Lo(fD),Lo(ZA),Lo(QA),Lo(WA),Lo(vE),Lo(HR))},t.\u0275cmp=pe({type:t,selectors:[["mol-projection"]],decls:11,vars:10,consts:[[3,"scientificname","wiki","speciesInfoUpdated"],["class","controls",4,"ngIf"],[1,"divider"],[1,"controls"],["class","results",4,"ngIf"],["class","section results",4,"ngIf"],["class","chart",4,"ngIf"],["class","chart-open-button",4,"ngIf"],["class","label",4,"ngIf"],["class","legend",4,"ngIf"],[1,"label"],[4,"ngFor","ngForOf"],[1,"lu-link",3,"click"],["appearance","legacy"],["name","year",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","legacy","floatLabel","never"],["name","ssp",3,"disabled","ngModel","ngModelChange"],[1,"section","regain-control"],["mat-raised-button","",3,"disableRipple","click"],[1,"section","go"],["mat-raised-button","","color","primary",1,"mol-button",3,"disabled","click"],[1,"showInfo",3,"click"],["color","accent","class","loading",3,"diameter",4,"ngIf"],["class","infoBlock",4,"ngIf"],[3,"value"],["color","accent",1,"loading",3,"diameter"],[1,"infoBlock"],["href","https://mol.org/species/projection/landuse"],[1,"results"],[1,"section","results"],[1,"results-block"],[1,"results-text"],[3,"class",4,"ngFor","ngForOf"],[1,"chart"],[3,"data","type","title","columns","width","height","options"],[1,"chart-open-button"],["mat-raised-button","",3,"click"],[1,"legend"],[2,"height","10px","background","linear-gradient(90deg, #0000ff00, #0000ffaa)"],[2,"float","right"]],template:function(t,e){1&t&&(Vo(0,"mol-species-info",0),$o("speciesInfoUpdated",(function(t){return e.speciesInfoUpdated(t)})),Bo(),Io(1,sW,9,1,"div",1),Io(2,dW,27,22,"div",1),Ho(3,"div",2),Vo(4,"div",3),Io(5,fW,5,0,"div",4),Io(6,mW,14,5,"div",5),Io(7,_W,2,7,"div",6),Io(8,vW,3,0,"div",7),Io(9,yW,2,0,"div",8),Io(10,bW,9,0,"div",9),Bo()),2&t&&(jo("scientificname",e.scientificname)("wiki",!1),Or(1),jo("ngIf",e.error),Or(1),jo("ngIf",!e.error),Or(3),jo("ngIf",e.metadata),Or(1),jo("ngIf",e.metadata),Or(1),jo("ngIf",e.chartData),Or(1),jo("ngIf",e.chartData),Or(1),jo("ngIf",e.chartData),Or(1),jo("ngIf",e.chartData))},directives:[ID,hu,lu,fx,Ix,Um,W_,Ub,NN,ub,xC,Am],styles:[".controls[_ngcontent-%COMP%]{padding-top:15px;margin-left:10px}.controls[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{padding:15px 0}.controls[_ngcontent-%COMP%]   .section.go[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:middle;align-items:center}.controls[_ngcontent-%COMP%]   .section.go[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{margin:0 40px}.controls[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%]{cursor:pointer}.controls[_ngcontent-%COMP%]   .infoBlock[_ngcontent-%COMP%]{width:300px}.controls[_ngcontent-%COMP%]   .results-block[_ngcontent-%COMP%]{display:inline-flex;justify-content:center}.controls[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{font-weight:400}.controls[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{max-width:400px;overflow:hidden}.controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;padding-right:5px;padding-bottom:3px}.controls[_ngcontent-%COMP%]   .label.disabled[_ngcontent-%COMP%]{color:#aaa}.controls[_ngcontent-%COMP%]   .mol-button[_ngcontent-%COMP%]{color:#fff}.controls[_ngcontent-%COMP%]   .regain-control[_ngcontent-%COMP%]{display:block}.controls[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]:hover   .mat-button-focus-overlay[_ngcontent-%COMP%]{opacity:unset}.controls[_ngcontent-%COMP%]   .cat-button[_ngcontent-%COMP%]{margin:0 3px;cursor:default;height:30px;font-size:14px;font-weight:400;padding:2px 5px;border-radius:3px;min-width:50px;color:#333;background-color:#efefef;border:1px solid #ddd}.controls[_ngcontent-%COMP%]   .cat-button[_ngcontent-%COMP%]:focus{outline:unset}.controls[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#fff;background-color:#5bc0de}.controls[_ngcontent-%COMP%]   .selectedControl[_ngcontent-%COMP%]{color:#fff;background-color:#286090}.controls[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{padding:0 30px 60px}.lu-link[_ngcontent-%COMP%]{color:#ff903f}.chart-open-button[_ngcontent-%COMP%]{display:inline-flex;font-weight:500;font-size:12px;align-items:flex-end;width:90%;padding:10px}mol-help-tooltip[_ngcontent-%COMP%]{vertical-align:middle;padding-left:10px}"]}),t})(),xW=(()=>{class t{constructor(){this.projectionSpeciesList=iW}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-projection-landing"]],decls:13,vars:1,consts:[[1,"splash"],[1,"row","content"],[1,"lead"],["href","https://www.nature.com/articles/s41558-019-0406-z"],[3,"species"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"h1"),Da(2," Global habitat loss and extinction risk of terrestrial vertebrates under future land- use change scenarios "),Bo(),Vo(3,"div",1),Vo(4,"p",2),Da(5," Explore potential range losses projected under different a range of plausible futures (shared socioeconomic pathways). For this work, we linked global decadal land-use projections to year 2070 for a range of shared socio-economic pathways (SSPs) to evaluate potential losses in range-wide suitable habitat and extinction risks for ~ 19,400 species of amphibians, birds and mammals. "),Bo(),Vo(6,"p",2),Da(7," From: "),Vo(8,"a",3),Da(9,"Powers & Jetz (2019): Global habitat loss and extinction risk of terrestrial vertebrates under future land- use change scenarios. Nature Climate Change. doi: 10.1038/s41558-019-0406-z"),Bo(),Bo(),Vo(10,"p",2),Da(11,"Select species from the publication"),Bo(),Ho(12,"mol-species-card-container",4),Bo(),Bo()),2&t&&(Or(12),jo("species",e.projectionSpeciesList))},directives:[iL],styles:[""]}),t})(),CW=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-projection-climate-landing"]],decls:6,vars:0,consts:[[1,"splash"],[1,"row","content"],[1,"lead"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"h1"),Da(2," Climate Change Species Habitat Projections "),Bo(),Vo(3,"div",1),Vo(4,"p",2),Da(5," Quick info about climate change species habitat projection "),Bo(),Bo(),Bo())},styles:[""]}),t})();var OW=n("y1k7"),SW=n("mTvk"),kW=n("oVSo"),EW=n("TOut"),MW=n("FlXx"),TW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AW=function(t){function e(e){var n=t.call(this)||this;n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+MW.d,n.element.style.position="absolute",n.element.style.pointerEvents="auto";var i=e.autoPan;return i&&"object"!=typeof i&&(i={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=i||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(Object(kF.b)("element"),n.handleElementChanged),n.addEventListener(Object(kF.b)("map"),n.handleMapChanged),n.addEventListener(Object(kF.b)("offset"),n.handleOffsetChanged),n.addEventListener(Object(kF.b)("position"),n.handlePositionChanged),n.addEventListener(Object(kF.b)("positioning"),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:"top-left"),void 0!==e.position&&n.setPosition(e.position),n}return TW(e,t),e.prototype.getElement=function(){return this.get("element")},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get("map")},e.prototype.getOffset=function(){return this.get("offset")},e.prototype.getPosition=function(){return this.get("position")},e.prototype.getPositioning=function(){return this.get("positioning")},e.prototype.handleElementChanged=function(){Object(MI.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(MI.e)(this.element),Object(VI.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(VI.a)(t,EW.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set("element",t)},e.prototype.setMap=function(t){this.set("map",t)},e.prototype.setOffset=function(t){this.set("offset",t)},e.prototype.setPosition=function(t){this.set("position",t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get("position")){var n=this.getRect(e.getTargetElement(),e.getSize()),i=this.getElement(),r=this.getRect(i,[Object(MI.c)(i),Object(MI.b)(i)]),s=t||{},o=void 0===s.margin?20:s.margin;if(!Object(RI.g)(n,r)){var a=r[0]-n[0],l=n[2]-r[2],c=r[1]-n[1],h=n[3]-r[3],u=[0,0];if(a<0?u[0]=a-o:l<0&&(u[0]=Math.abs(l)+o),c<0?u[1]=c-o:h<0&&(u[1]=Math.abs(h)+o),0!==u[0]||0!==u[1]){var d=e.getView().getCenterInternal(),f=e.getPixelFromCoordinateInternal(d);if(!f)return;var p=[f[0]+u[0],f[1]+u[1]],g=s.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(p),duration:g.duration,easing:g.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set("positioning",t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var s="0%",o="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?s="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(s="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?o="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(o="-50%");var a="translate("+s+", "+o+") translate("+Math.round(t[0]+i[0])+"px, "+Math.round(t[1]+i[1])+"px)";this.rendered.transform_!=a&&(this.rendered.transform_=a,n.transform=a,n.msTransform=a)},e.prototype.getOptions=function(){return this.options},e}(kF.a),PW=n("AVlN");const RW=["charts"],IW=["popup"],DW=["map"];function LW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),Na("",t.product.name," - ",t.variable.name," ")}}function FW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),ja("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function NW(t,e){if(1&t){const t=Yo();Vo(0,"mat-form-field",16),Vo(1,"mat-label"),Da(2,"Y: Spaitiotemporal buffer"),Bo(),Vo(3,"mat-select",32),$o("ngModelChange",(function(e){return Qe(t),ta(2).selectedBuffer=e}))("ngModelChange",(function(){return Qe(t),ta(2).updateBuff()})),Io(4,FW,2,4,"mat-option",18),Bo(),Bo()}if(2&t){const t=ta(2);Or(3),jo("ngModel",t.selectedBuffer),Or(1),jo("ngForOf",t.selectedScenario.buffers)}}function jW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),Na("",t.product.name," - ",t.variable.name," ")}}function zW(t,e){if(1&t){const t=Yo();Vo(0,"mat-form-field",16),Vo(1,"mat-label"),Da(2,"X: Product - Variable"),Bo(),Vo(3,"mat-select",17),$o("ngModelChange",(function(e){return Qe(t),ta(2).selectedXScenario=e}))("ngModelChange",(function(){return Qe(t),ta(2).pvXChanged()})),Io(4,jW,2,3,"mat-option",18),Bo(),Bo()}if(2&t){const t=ta(2);Or(3),jo("ngModel",t.selectedXScenario),Or(1),jo("ngForOf",t.scenarios)}}function VW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),ja("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function BW(t,e){if(1&t){const t=Yo();Vo(0,"mat-form-field",16),Vo(1,"mat-label"),Da(2,"X: Spaitiotemporal buffer"),Bo(),Vo(3,"mat-select",32),$o("ngModelChange",(function(e){return Qe(t),ta(2).selectedXBuffer=e}))("ngModelChange",(function(){return Qe(t),ta(2).updateBuff()})),Io(4,VW,2,4,"mat-option",18),Bo(),Bo()}if(2&t){const t=ta(2);Or(3),jo("ngModel",t.selectedXBuffer),Or(1),jo("ngForOf",t.selectedXScenario.buffers)}}function HW(t,e){if(1&t){const t=Yo();Vo(0,"div",15),Vo(1,"mat-form-field",16),Vo(2,"mat-label"),Da(3,"Y: Product - Variable"),Bo(),Vo(4,"mat-select",17),$o("ngModelChange",(function(e){return Qe(t),ta().selectedScenario=e}))("ngModelChange",(function(){return Qe(t),ta().pvChanged()})),Io(5,LW,2,3,"mat-option",18),Bo(),Bo(),Io(6,NW,5,2,"mat-form-field",19),Vo(7,"mat-form-field",16),Vo(8,"mat-label"),Da(9,"X: Mode"),Bo(),Vo(10,"mat-select",20),$o("ngModelChange",(function(e){return Qe(t),ta().xMode=e}))("ngModelChange",(function(e){return Qe(t),ta().modeChanged(e)})),Vo(11,"mat-option",21),Da(12,"Date"),Bo(),Vo(13,"mat-option",22),Da(14,"Latitude"),Bo(),Vo(15,"mat-option",23),Da(16,"Longitude"),Bo(),Vo(17,"mat-option",24),Da(18,"Bivariate"),Bo(),Bo(),Bo(),Io(19,zW,5,2,"mat-form-field",19),Io(20,BW,5,2,"mat-form-field",19),Vo(21,"mat-form-field",16),Vo(22,"mat-label"),Da(23,"Maximum number of events:"),Bo(),Vo(24,"mat-select",25),$o("ngModelChange",(function(e){return Qe(t),ta().limit=e}))("ngModelChange",(function(e){return Qe(t),ta().limitChanged(e)})),Vo(25,"mat-option",26),Da(26,"1000"),Bo(),Vo(27,"mat-option",27),Da(28,"3000"),Bo(),Vo(29,"mat-option",28),Da(30,"5000"),Bo(),Vo(31,"mat-option",29),Da(32,"10000"),Bo(),Vo(33,"mat-option",30),Da(34,"20000"),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=ta();Or(4),jo("ngModel",t.selectedScenario),Or(1),jo("ngForOf",t.scenarios),Or(1),jo("ngIf",t.selectedScenario),Or(4),jo("ngModel",t.xMode),Or(9),jo("ngIf","x_value"===t.xMode),Or(1),jo("ngIf",t.selectedXScenario&&"x_value"===t.xMode),Or(4),jo("ngModel",t.limit)}}function UW(t,e){if(1&t){const t=Yo();Vo(0,"button",33),$o("click",(function(){return Qe(t),ta().refresh()})),Da(1," Go! "),Bo()}if(2&t){const t=ta();jo("disabled",t.currentGoStatus===t.newGoStatus)}}function GW(t,e){if(1&t&&(Vo(0,"div",34),Ho(1,"google-chart",35),Bo()),2&t){const t=ta();Or(1),jo("data",t.chartData.data)("type","ScatterChart")("title",t.chartData.title)("columns",t.chartData.columns)("width",t.chartData.width)("height",t.chartData.height)("options",t.chartData.options)}}function WW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),Na("",t.product.name," - ",t.variable.name," ")}}function YW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),ja("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function qW(t,e){if(1&t){const t=Yo();Vo(0,"mat-form-field",16),Vo(1,"mat-label"),Da(2,"Y: Spaitiotemporal buffer"),Bo(),Vo(3,"mat-select",32),$o("ngModelChange",(function(e){return Qe(t),ta(3).selectedBuffer=e}))("ngModelChange",(function(){return Qe(t),ta(3).updateBuff()})),Io(4,YW,2,4,"mat-option",18),Bo(),Bo()}if(2&t){const t=ta(3);Or(3),jo("ngModel",t.selectedBuffer),Or(1),jo("ngForOf",t.selectedScenario.buffers)}}function XW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),Na("",t.product.name," - ",t.variable.name," ")}}function $W(t,e){if(1&t){const t=Yo();Vo(0,"mat-form-field",16),Vo(1,"mat-label"),Da(2,"X: Product - Variable"),Bo(),Vo(3,"mat-select",17),$o("ngModelChange",(function(e){return Qe(t),ta(3).selectedXScenario=e}))("ngModelChange",(function(){return Qe(t),ta(3).pvXChanged()})),Io(4,XW,2,3,"mat-option",18),Bo(),Bo()}if(2&t){const t=ta(3);Or(3),jo("ngModel",t.selectedXScenario),Or(1),jo("ngForOf",t.scenarios)}}function KW(t,e){if(1&t&&(Vo(0,"mat-option",31),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),ja("",t.s_buff,"m, ",t.t_buff," day",1===t.t_buff?"":"s"," ")}}function ZW(t,e){if(1&t){const t=Yo();Vo(0,"mat-form-field",16),Vo(1,"mat-label"),Da(2,"X: Spaitiotemporal buffer"),Bo(),Vo(3,"mat-select",32),$o("ngModelChange",(function(e){return Qe(t),ta(3).selectedXBuffer=e}))("ngModelChange",(function(){return Qe(t),ta(3).updateBuff()})),Io(4,KW,2,4,"mat-option",18),Bo(),Bo()}if(2&t){const t=ta(3);Or(3),jo("ngModel",t.selectedXBuffer),Or(1),jo("ngForOf",t.selectedXScenario.buffers)}}function QW(t,e){if(1&t){const t=Yo();Vo(0,"div",15),Vo(1,"mat-form-field",16),Vo(2,"mat-label"),Da(3,"Y: Product - Variable"),Bo(),Vo(4,"mat-select",17),$o("ngModelChange",(function(e){return Qe(t),ta(2).selectedScenario=e}))("ngModelChange",(function(){return Qe(t),ta(2).pvChanged()})),Io(5,WW,2,3,"mat-option",18),Bo(),Bo(),Io(6,qW,5,2,"mat-form-field",19),Vo(7,"mat-form-field",16),Vo(8,"mat-label"),Da(9,"X: Mode"),Bo(),Vo(10,"mat-select",20),$o("ngModelChange",(function(e){return Qe(t),ta(2).xMode=e}))("ngModelChange",(function(e){return Qe(t),ta(2).modeChanged(e)})),Vo(11,"mat-option",21),Da(12,"Date"),Bo(),Vo(13,"mat-option",22),Da(14,"Latitude"),Bo(),Vo(15,"mat-option",23),Da(16,"Longitude"),Bo(),Vo(17,"mat-option",24),Da(18,"Bivariate"),Bo(),Bo(),Bo(),Io(19,$W,5,2,"mat-form-field",19),Io(20,ZW,5,2,"mat-form-field",19),Vo(21,"mat-form-field",16),Vo(22,"mat-label"),Da(23,"Maximum number of events:"),Bo(),Vo(24,"mat-select",25),$o("ngModelChange",(function(e){return Qe(t),ta(2).limit=e}))("ngModelChange",(function(e){return Qe(t),ta(2).limitChanged(e)})),Vo(25,"mat-option",26),Da(26,"1000"),Bo(),Vo(27,"mat-option",29),Da(28,"10000"),Bo(),Vo(29,"mat-option",30),Da(30,"20000"),Bo(),Vo(31,"mat-option",36),Da(32,"50000"),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=ta(2);Or(4),jo("ngModel",t.selectedScenario),Or(1),jo("ngForOf",t.scenarios),Or(1),jo("ngIf",t.selectedScenario),Or(4),jo("ngModel",t.xMode),Or(9),jo("ngIf","x_value"===t.xMode),Or(1),jo("ngIf",t.selectedXScenario&&"x_value"===t.xMode),Or(4),jo("ngModel",t.limit)}}function JW(t,e){if(1&t){const t=Yo();Vo(0,"button",33),$o("click",(function(){return Qe(t),ta(2).refresh()})),Da(1," Go! "),Bo()}if(2&t){const t=ta(2);jo("disabled",t.currentGoStatus===t.newGoStatus)}}function tY(t,e){if(1&t&&(Vo(0,"div"),Ho(1,"mol-species-info",1),Io(2,QW,33,7,"div",2),Vo(3,"div",3),Io(4,JW,2,1,"button",4),Ho(5,"mol-small-spinner"),Bo(),Bo()),2&t){const t=ta();Or(1),jo("scientificname",t.scientificname)("wiki",!1),Or(1),jo("ngIf",t.scenarios.length>0),Or(2),jo("ngIf",t.scenarios.length>0)}}let eY=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this.state=t,this.species=e,this.mapService=n,this.config=i,this.dialog=r,this.snackBar=s,this.stoat=o,this.router=a,this.urlConfig=l,this.translate=c,this.isMobile=!1,this.speciesNameSubscription=null,this.scientificname="",this.data=null,this.scenarios=[],this.selectedScenario=null,this.selectedBuffer=null,this.selectedXScenario=null,this.selectedXBuffer=null,this.spatial=1e3,this.limit="1000",this.temporal=1e3,this.chartData=null,this.map=null,this.minVal=1e6,this.maxVal=-1e6,this.xMode="eventdate",this.xOldMode=this.xMode,this.currentGoStatus="",this.newGoStatus="",this.colorFunction=t=>"#ff0000",this.vectorSource=null,this.vectorLayer=null,this.showPopup=!1,this.links=[],this.isMobile=window.innerWidth<=480}ngOnInit(){this.setupMap(),this.speciesNameSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.scenarios.length>0&&this.refresh()}),this.stoat.scenarios().subscribe(t=>{this.scenarios=t.filter(t=>"esacci_landcover"!=t.scenario_code),this.selectedScenario=this.scenarios[0],this.selectedBuffer=this.selectedScenario.buffers[0],this.scenarios.length>1&&(this.selectedXScenario=this.scenarios[1],this.selectedXBuffer=this.selectedXScenario.buffers[0]),this.refresh()})}ngAfterViewInit(){this.addOverlay()}ngOnDestroy(){this.speciesNameSubscription.unsubscribe(),this.map.dispose(),this.map=null,document.getElementById("map").remove()}refreshCB(t){t&&(this.data=t),this.setColorFunction(),this.makeChart(),this.refreshMapData()}refresh(){this.currentGoStatus=this.goStatus(),this.newGoStatus=this.goStatus(),this.showPopup=!1,"x_value"!==this.xMode?this.stoat.univariate(this.scientificname,this.selectedScenario.product.code,this.selectedScenario.variable.code,this.selectedBuffer.s_buff,this.selectedBuffer.t_buff,this.limit).subscribe(t=>this.refreshCB(t)):this.stoat.bivariate(this.scientificname,this.selectedScenario.product.code,this.selectedScenario.variable.code,this.selectedBuffer.s_buff,this.selectedBuffer.t_buff,this.selectedXScenario.product.code,this.selectedXScenario.variable.code,this.selectedXBuffer.s_buff,this.selectedXBuffer.t_buff,this.limit).subscribe(t=>this.refreshCB(t))}pvChanged(){this.newGoStatus=this.goStatus(),this.selectedBuffer=this.selectedScenario.buffers[0]}pvXChanged(){this.newGoStatus=this.goStatus(),this.selectedXBuffer=this.selectedXScenario.buffers[0]}updateBuff(){this.newGoStatus=this.goStatus()}goStatus(){let t=[this.scientificname,this.selectedScenario.product.code,this.selectedScenario.variable.code,this.selectedBuffer.s_buff,this.selectedBuffer.t_buff].join("-");return"x_value"===this.xMode&&(t+="-"+[this.selectedXScenario.product.code,this.selectedXScenario.variable.code,this.selectedXBuffer.s_buff,this.selectedXBuffer.t_buff].join("-")),t+="-lim"+this.limit,t}modeChanged(t){this.newGoStatus=this.goStatus(),"x_value"!=this.xMode?(this.makeChart(),"x_value"===this.xOldMode&&this.refresh()):this.refresh(),this.xOldMode=this.xMode}limitChanged(t){this.newGoStatus=this.goStatus()}getTitle(t="y"){const e="y"===t?this.selectedScenario:this.selectedXScenario,n="y"===t?this.selectedBuffer:this.selectedXBuffer;return`${e.product.name} - ${e.variable.name}: ${n.s_buff}m, ${n.t_buff} day`+(1===n.t_buff?"":"s")}makeChart(){if(!this.data)return;let t=this.charts.nativeElement.offsetWidth||900,e=this.charts.nativeElement.offsetHeight||600;e/=2;let n={type:"date",label:"date",id:"date"},i={title:"Date",format:"YYYY-MM-dd"};"latitude"===this.xMode?(n={type:"number",label:"Latitude",id:"lat"},i={title:"Latitude"}):"longitude"===this.xMode?(n={type:"number",label:"Longitude",id:"lng"},i={title:"Longitude"}):"x_value"===this.xMode&&(n={type:"number",label:this.data.x_label,id:"x_value"},i={title:this.getTitle("x")}),this.chartData={data:[],columns:[n,{type:"number",label:this.data.y_label,id:"value"},{type:"string",role:"style"}],options:{legend:{position:"none"},hAxis:i,vAxis:{title:this.getTitle()}},width:t,height:e},this.chartData.data=this.data.rows.map(t=>{let e="x_value"===this.xMode?"y_value":"value",n=`point { fill-color: ${this.rgbToHex(this.colorFunction(t[e]))}; }`,i=null;return i="eventdate"===this.xMode?new Date(t.eventdate):t[this.xMode],[i,t[e],n]})}rgbToHex(t){function e(t,e){var n=Math.max(0,parseInt(t,10));return e?Math.floor(255*Math.min(100,n)/100):Math.min(255,n)}var n,i="";return(n=/^rgb\(\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*,\s*(-?\d+)(%?)\s*\)$/.exec(t))&&(i="#"+(16777216+(e(n[1],n[2])<<16)+(e(n[3],n[4])<<8)+e(n[5],n[6])).toString(16).slice(1)),i}refreshMapData(){this.vectorSource.clear();let t=this.data.rows.map(this.featureFromRow);this.vectorSource.addFeatures(t),this.map.getView().fit(this.vectorSource.getExtent(),{padding:[100,100,100,100]})}featureFromRow(t){return new MF(Object.assign(Object.assign({},t),{geometry:new kW.a(Object(II.o)([t.longitude,t.latitude],"EPSG:4326","EPSG:3857"))}))}setColorFunction(){const t="x_value"===this.xMode?"y_value":"value";var e=this.data.rows.map(e=>e[t]);this.minVal=Math.min(...e),this.maxVal=Math.max(...e),this.colorFunction=t=>Object(PW.a)((t-this.minVal)/(this.maxVal-this.minVal))}setupMap(){var t=new _F.b({image:new vF.a({radius:3,fill:new gF.a({color:"#ffcc33"})})});this.vectorSource=new OW.a,this.vectorLayer=new SW.a({source:this.vectorSource,style:e=>(t.setImage(new vF.a({radius:3,fill:new gF.a({color:this.colorFunction(e.get("x_value"===this.xMode?"y_value":"value"))})})),t)}),this.map=new rF.a({target:"map",interactions:Object(hF.a)().extend([new uF.a]),layers:[uD,this.vectorLayer],view:new sF.a({center:Object(II.d)([10,30]),zoom:2,projection:"EPSG:3857",maxZoom:10,minZoom:2}),controls:Object(oF.a)({attribution:!1}).extend([new aF.a({collapsible:!1}),new lF.a,new cF.a])});const e=new fF.a({label:"Layers",reverse:!0});this.map.addControl(e)}addOverlay(){let t=document.getElementById("popup"),e=document.getElementById("popup-content"),n=document.getElementById("popup-closer");var i=new AW({element:t});n.onclick=()=>(this.showPopup=!1,!1),this.map.addOverlay(i),this.map.on("singleclick",t=>{let n=this.map.getFeaturesAtPixel(t.pixel);if(n.length>0){var r=t.coordinate;let s=n[0].getProperties(),o=`<span><b>Date:</b> ${s.eventdate}\n        <br>\n        <b>Longitude, Latitude: </b>${s.longitude}, ${s.latitude}\n        <br>\n        <b>${this.getTitle("y")}: </b> ${s.value?s.value:s.y_value}\n        `;s.x_value&&(o+=`<br> <b>${this.getTitle("x")}: </b> ${s.x_value}`),o+="</span>",e.innerHTML=o,i.setPosition(r),this.showPopup=!0}})}}return t.\u0275fac=function(e){return new(e||t)(Lo(fD),Lo(ZA),Lo(QA),Lo(WA),Lo(vE),Lo(HR),Lo(lP),Lo(_A),Lo(WA),Lo(qA))},t.\u0275cmp=pe({type:t,selectors:[["mol-niche"]],viewQuery:function(t,e){var n;1&t&&(Cc(RW,!0),Cc(IW,!0),Cc(DW,!0)),2&t&&(wc(n=Mc())&&(e.charts=n.first),wc(n=Mc())&&(e.popup=n.first),wc(n=Mc())&&(e.mapRef=n.first))},decls:18,vars:8,consts:[["mode","side","position","start",1,"asidebar",3,"opened"],[3,"scientificname","wiki"],["class","dropdowns",4,"ngIf"],[1,"go-bar"],["class","mol-button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"charts"],["charts",""],["class","chart",4,"ngIf"],["id","map"],["map",""],["id","popup",1,"ol-popup",3,"hidden"],["popup",""],["href","#","id","popup-closer",1,"ol-popup-closer"],["id","popup-content"],[4,"ngIf"],[1,"dropdowns"],["appearance","legacy"],["name","product_variable",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","legacy",4,"ngIf"],["name","xMode",3,"ngModel","ngModelChange"],["value","eventdate"],["value","latitude"],["value","longitude"],["value","x_value"],["name","limit",3,"ngModel","ngModelChange"],["value","1000"],["value","3000"],["value","5000"],["value","10000"],["value","20000"],[3,"value"],["name","buffer",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",1,"mol-button",3,"disabled","click"],[1,"chart"],[3,"data","type","title","columns","width","height","options"],["value","50000"]],template:function(t,e){1&t&&(Vo(0,"mat-sidenav-container"),Vo(1,"mat-sidenav",0),Ho(2,"mol-species-info",1),Io(3,HW,35,7,"div",2),Vo(4,"div",3),Io(5,UW,2,1,"button",4),Ho(6,"mol-small-spinner"),Bo(),Bo(),Vo(7,"mat-sidenav-content"),Vo(8,"div",5,6),Io(10,GW,2,7,"div",7),Ho(11,"div",8,9),Vo(13,"div",10,11),Ho(15,"a",12),Ho(16,"div",13),Bo(),Io(17,tY,6,4,"div",14),Bo(),Bo(),Bo()),2&t&&(Or(1),jo("opened",!e.isMobile),Or(1),jo("scientificname",e.scientificname)("wiki",!1),Or(1),jo("ngIf",e.scenarios.length>0),Or(2),jo("ngIf",e.scenarios.length>0),Or(5),jo("ngIf",e.chartData),Or(3),jo("hidden",!e.showPopup),Or(4),jo("ngIf",e.isMobile))},directives:[Lb,Ib,ID,hu,QD,Rb,fx,rx,Ix,Um,W_,lu,ub,Ub,Am],styles:['@charset "UTF-8";.ol-box{box-sizing:border-box;border-radius:2px;border:2px solid #00f}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid #eee;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-step-marker{width:1px;height:15px;background-color:#000;float:right;z-Index:10}.ol-scale-step-text{bottom:-5px;font-size:12px;z-Index:11}.ol-scale-step-text,.ol-scale-text{position:absolute;color:#000;text-shadow:-2px 0 #fff,0 2px #fff,2px 0 #fff,0 -2px #fff}.ol-scale-text{font-size:14px;text-align:center;bottom:25px}.ol-scale-singlebar{position:relative;height:10px;z-Index:9;box-sizing:border-box;border:1px solid #000}.ol-unsupported{display:none}.ol-unselectable,.ol-viewport{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:grab}.ol-control{position:absolute;background-color:hsla(0,0%,100%,.4);border-radius:4px;padding:2px}.ol-control:hover{background-color:hsla(0,0%,100%,.6)}.ol-zoom{top:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:#fff;font-size:1.14em;font-weight:700;text-decoration:none;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;font-size:1.2em;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:focus,.ol-control button:hover{text-decoration:none;background-color:rgba(0,60,136,.7)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em)}.ol-attribution ul{margin:0;padding:0 .5em;color:#000;text-shadow:0 0 2px #fff}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button,.ol-attribution ul{display:inline-block}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:inline-block}.ol-overviewmap .ol-overviewmap-map{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:1px;left:2px;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.ol-overviewmap-box{border:2px dotted rgba(0,60,136,.7)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.layer-switcher{top:3.5em;right:.5em;text-align:left}.layer-switcher .panel{margin:0;border:4px solid #eee;border-radius:4px;background-color:#fff;display:none;max-height:inherit;height:100%;box-sizing:border-box;overflow-y:auto}.layer-switcher button{float:right;z-index:1;width:38px;height:38px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACE1BMVEX///8A//8AgICA//8AVVVAQID///8rVVVJtttgv98nTmJ2xNgkW1ttyNsmWWZmzNZYxM4gWGgeU2JmzNNr0N1Rwc0eU2VXxdEhV2JqytQeVmMhVmNoydUfVGUgVGQfVGQfVmVqy9hqy9dWw9AfVWRpydVry9YhVmMgVGNUw9BrytchVWRexdGw294gVWQgVmUhVWPd4N6HoaZsy9cfVmQgVGRrytZsy9cgVWQgVWMgVWRsy9YfVWNsy9YgVWVty9YgVWVry9UgVWRsy9Zsy9UfVWRsy9YgVWVty9YgVWRty9Vsy9aM09sgVWRTws/AzM0gVWRtzNYgVWRuy9Zsy9cgVWRGcHxty9bb5ORbxdEgVWRty9bn6OZTws9mydRfxtLX3Nva5eRix9NFcXxOd4JPeINQeIMiVmVUws9Vws9Vw9BXw9BYxNBaxNBbxNBcxdJexdElWWgmWmhjyNRlx9IqXGtoipNpytVqytVryNNrytZsjZUuX210k5t1y9R2zNR3y9V4lp57zth9zdaAnKOGoaeK0NiNpquV09mesrag1tuitbmj1tuj19uktrqr2d2svcCu2d2xwMO63N+7x8nA3uDC3uDFz9DK4eHL4eLN4eIyYnDX5OM5Z3Tb397e4uDf4uHf5uXi5ePi5+Xj5+Xk5+Xm5+Xm6OY6aHXQ19fT4+NfhI1Ww89gx9Nhx9Nsy9ZWw9Dpj2abAAAAWnRSTlMAAQICAwQEBgcIDQ0ODhQZGiAiIyYpKywvNTs+QklPUlNUWWJjaGt0dnd+hIWFh4mNjZCSm6CpsbW2t7nDzNDT1dje5efr7PHy9PT29/j4+Pn5+vr8/f39/f6DPtKwAAABTklEQVR4Xr3QVWPbMBSAUTVFZmZmhhSXMjNvkhwqMzMzMzPDeD+xASvObKePPa+ffHVl8PlsnE0+qPpBuQjVJjno6pZpSKXYl7/bZyFaQxhf98hHDKEppwdWIW1frFnrxSOWHFfWesSEWC6R/P4zOFrix3TzDFLlXRTR8c0fEEJ1/itpo7SVO9Jdr1DVxZ0USyjZsEY5vZfiiAC0UoTGOrm9PZLuRl8X+Dq1HQtoFbJZbv61i+Poblh/97TC7n0neCcK0ETNUrz1/xPHf+DNAW9Ac6t8O8WH3Vp98f5lCaYKAOFZMLyHL4Y0fe319idMNgMMp+zWVSybUed/+/h7I4wRAG1W6XDy4XmjR9HnzvDRZXUAYDFOhC1S/Hh+fIXxen+eO+AKqbs+wAo30zDTDvDxKoJN88sjUzDFAvBzEUGFsnADoIvAJzoh2BZ8sner+Ke/vwECuQAAAABJRU5ErkJggg==");background-repeat:no-repeat;background-position:2px;background-color:#fff;color:#000;border:none}.layer-switcher button:focus,.layer-switcher button:hover{background-color:#fff}.layer-switcher.shown{overflow-y:hidden}.layer-switcher.shown.ol-control{background-color:transparent}.layer-switcher.shown.ol-control:hover{background-color:transparent}.layer-switcher.shown .panel{display:block}.layer-switcher.shown button{display:none}.layer-switcher.shown.layer-switcher-activation-mode-click>button{display:block;background-image:unset;right:2px;position:absolute;background-color:#eee;margin:0 1px}.layer-switcher.shown button:focus,.layer-switcher.shown button:hover{background-color:#fafafa}.layer-switcher ul{list-style:none;margin:1.6em .4em;padding-left:0}.layer-switcher ul ul{padding-left:1.2em;margin:.1em 0 0}.layer-switcher li.group+li.group{margin-top:.4em}.layer-switcher li.group>label{font-weight:700}.layer-switcher.layer-switcher-group-select-style-none li.group>label{padding-left:1.2em}.layer-switcher li{position:relative;margin-top:.3em}.layer-switcher li input{position:absolute;left:1.2em;height:1em;width:1em;font-size:1em}.layer-switcher li label{padding-left:2.7em;padding-right:1.2em;display:inline-block;margin-top:1px}.layer-switcher label.disabled{opacity:.4}.layer-switcher input{margin:0}.layer-switcher.touch ::-webkit-scrollbar{width:4px}.layer-switcher.touch ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.layer-switcher.touch ::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}li.layer-switcher-base-group>label{padding-left:1.2em}.layer-switcher .group button{position:absolute;left:0;display:inline-block;vertical-align:top;float:none;font-size:1em;width:1em;height:1em;margin:0;background-position:center 2px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAW0lEQVR4nGNgGAWMyBwXFxcGBgaGeii3EU0tXHzPnj1wQRYsihqQ+I0ExDEMQAYNONgoAN0AmMkNaDSyQSheY8JiaCMOGzE04zIAmyFYNTMw4A+DRhzsUUBtAADw4BCeIZkGdwAAAABJRU5ErkJggg==");transition:transform .2s ease-in-out}.layer-switcher .group.layer-switcher-close button{transform:rotate(-90deg);-webkit-transform:rotate(-90deg)}.layer-switcher .group.layer-switcher-fold.layer-switcher-close>ul{overflow:hidden;height:0}.layer-switcher.shown.layer-switcher-activation-mode-click{padding-left:34px}.layer-switcher.shown.layer-switcher-activation-mode-click>button{left:0;border-right:0}:root{--topLine:3em}@media screen and (max-device-width:480px){:root{--topLine:0.1em}.layer-switcher>button{font-size:15px!important}}.layer-switcher{position:absolute;left:.5em;top:calc(var(--topLine) + 7em);border-radius:3px;background-color:transparent;width:60px}.layer-switcher.shown{width:unset}.layer-switcher button{width:60px;padding:2px;border-radius:3px;border:1px solid #000;line-height:25px;background-image:unset;font-weight:unset}.layer-switcher .panel{max-width:250px}.ol-scale-line{background-color:#fff;left:.9em}.ol-scale-line-inner{border:1px solid #000;border-top:none;background-color:#fff;color:#000}.ol-control button{border:1px solid #bbb;background-color:#fff;color:#000}.ol-control button:focus,.ol-control button:hover{background-color:#eee;color:#000}.ol-zoom{z-index:1000;top:calc(var(--topLine) + 0px);bottom:unset;left:.5em}.map-parent{position:relative}.ol-full-screen{left:.5em;top:calc(var(--topLine) + 4.5em);max-width:1.7em}.ol-attribution{bottom:35px}.controls,.dropdowns{padding-top:15px}.dropdowns{margin-left:10px}.dropdowns .mat-form-field,.dropdowns .mat-form-field-wrapper{width:90%}.dropdowns .axes-label{font-size:1.5em;padding-top:5px}.sidebar-container{height:calc(100vh - 65px - 55px - 52px)}.asidebar{min-height:100%;min-width:400px;max-width:400px;box-shadow:3px 0 2px -2px #aaa}.charts{height:calc(100vh - 65px - 55px - 52px);overflow-x:hidden}#map{height:calc((100vh - 65px - 55px - 52px) / 2)}@media screen and (max-device-width:480px){#map{height:calc(((100vh - 65px - 55px - 52px) / 2) - 100px)}}.go-bar{margin-left:10px;display:flex;flex-direction:row;height:50px;align-items:center}.go-bar .mol-button{color:#fff;height:30px}.ol-popup{position:absolute;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.2);padding:15px;border-radius:10px;border:1px solid #ccc;bottom:12px;left:-50px;min-width:320px}.ol-popup:after,.ol-popup:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ol-popup:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer:hover{background-color:unset;color:red}.ol-popup-closer:after{content:"\u2716"}'],encapsulation:2}),t})();function nY(t,e){1&t&&Ho(0,"mol-scroll-to-top")}let iY=(()=>{class t{constructor(t,e,n,i,r,s){this.actRoute=t,this.router=e,this.state=n,this.location=i,this.urlConfig=r,this.translate=s,this.scientificname="",this.links=[],this.embed=!1,this.sidebar=!0,this.opened=!0,this.isMobile=!1,this.mapMode="consensus",this.showLegend=!1,this.urlConfig.state.subscribe(t=>{t&&(this.embed=t.embed,this.sidebar=t.sidebar)}),this.router.events.pipe(Dp(t=>t instanceof rM)).subscribe(t=>{const e=Boolean(t.url.match(/^\/map\//)),n=Boolean(t.url.match(/^\/[^\/]+$/));this.showLegend=e||n,this.mapMode=e?"detailed":"consensus"}),this.isMobile=window.innerWidth<=480}ngOnInit(){const t=this.actRoute.firstChild.snapshot.params.scientificname;this.state.scientificname.subscribe(t=>{""!==t&&this.actRoute.data.subscribe(e=>{this.scientificname=t;const n=t.replace(" ","_"),i=this.actRoute.firstChild.snapshot.queryParams;this.links=[{name:"nav_species_home",route:this.getUrl([""]),data:i},{name:"nav_summary_map",route:this.getUrl([n]),data:i},{name:"nav_detailed_map",route:this.getUrl(["map",n]),data:i},{name:"Projection",route:this.getUrl(["projection","landuse",n]),data:i},{name:"Habitat Trends",route:this.getUrl(["habitat-trend",n]),data:i},{name:"Habitat Distribution",route:this.getUrl(["range",n]),data:i},{name:"Reserve Coverage",route:this.getUrl(["protect",n]),data:i}],this.actRoute.firstChild.snapshot.url[this.actRoute.firstChild.snapshot.url.length-1].path=n;const r=this.getUrl(this.actRoute.firstChild.snapshot.url.map(t=>t.path),!0);this.location.go(r)})}),this.state.updateScientificname(t)}getUrl(t,e=!1){return this.router.createUrlTree(t,{queryParams:e?this.actRoute.firstChild.snapshot.queryParams:null}).toString()}updateSpecies(t){this.state.updateScientificname(t.scientificname)}}return t.\u0275fac=function(e){return new(e||t)(Lo(cT),Lo(_A),Lo(fD),Lo(Xh),Lo(WA),Lo(qA))},t.\u0275cmp=pe({type:t,selectors:[["mol-navlinks"]],decls:8,vars:6,consts:[[1,"main"],["app","species"],[3,"hidden","showSearchLink","links"],["slot","search2",3,"nav","chosenSpecies"],["slot","search1",3,"nav","chosenSpecies"],[4,"ngIf"]],template:function(t,e){1&t&&(Vo(0,"div",0),Ho(1,"mol-header",1),Vo(2,"mol-nav",2),Vo(3,"mol-search",3),$o("chosenSpecies",(function(t){return e.updateSpecies(t)})),Bo(),Vo(4,"mol-search",4),$o("chosenSpecies",(function(t){return e.updateSpecies(t)})),Bo(),Bo(),Ho(5,"router-outlet"),Io(6,nY,1,0,"mol-scroll-to-top",5),Bo(),Ho(7,"mol-footer")),2&t&&(Or(2),jo("hidden",e.embed)("showSearchLink",!0)("links",e.links),Or(1),jo("nav",!0),Or(1),jo("nav",!0),Or(2),jo("ngIf",e.isMobile))},directives:[EL,UL,KD,OA,hu,GL,sL],styles:[""]}),t})();var rY=n("w7Gp");function sY(t,e){1&t&&(Vo(0,"div",3),Vo(1,"h3"),Da(2," Error generating habitat trends for this species, please try again or contact us. "),Bo(),Bo())}function oY(t,e){if(1&t){const t=Yo();Vo(0,"button",24),$o("click",(function(){return Qe(t),ta(3).openChartModal()})),Da(1," View larger chart "),Bo()}}function aY(t,e){if(1&t){const t=Yo();Vo(0,"div",21),Vo(1,"google-chart",22),$o("ready",(function(){return Qe(t),ta(2).showButton=!0})),Bo(),Io(2,oY,2,0,"button",23),Bo()}if(2&t){const t=ta(2);Or(1),jo("data",t.chartData.data)("type","LineChart")("title",t.chartData.title)("columns",t.chartData.columns)("width",t.chartData.width)("height",t.chartData.height)("options",t.chartData.options),Or(1),jo("ngIf",t.showButton)}}function lY(t,e){if(1&t){const t=Yo();Vo(0,"button",24),$o("click",(function(){return Qe(t),ta(3).openFragModal()})),Da(1," View larger chart "),Bo()}}function cY(t,e){if(1&t){const t=Yo();Vo(0,"div",21),Vo(1,"google-chart",22),$o("ready",(function(){return Qe(t),ta(2).showButton2=!0})),Bo(),Io(2,lY,2,0,"button",23),Vo(3,"mat-icon",25),Da(4,"help "),Bo(),Bo()}if(2&t){const t=ta(2);Or(1),jo("data",t.fragData.data)("type","LineChart")("title",t.fragData.title)("columns",t.fragData.columns)("width",t.fragData.width)("height",t.fragData.height)("options",t.fragData.options),Or(1),jo("ngIf",t.showButton2),Or(1),ra("matTooltip",t.avgEdgeDisHelpText)}}function hY(t,e){1&t&&(Vo(0,"mat-icon"),Da(1,"expand_more"),Bo())}function uY(t,e){1&t&&(Vo(0,"mat-icon"),Da(1,"expand_less"),Bo())}function dY(t,e){if(1&t&&(Vo(0,"tr"),Vo(1,"td",28),Da(2),Bo(),Vo(3,"td"),Da(4),Bo(),Bo()),2&t){const t=e.$implicit;Or(2),La(t.label),Or(2),La(t.pc)}}function fY(t,e){if(1&t&&(Vo(0,"table",26),Vo(1,"thead"),Vo(2,"tr"),Vo(3,"th"),Da(4,"Land cover"),Bo(),Vo(5,"th"),Da(6,"Percent suitable"),Bo(),Bo(),Bo(),Vo(7,"tbody"),Io(8,dY,5,2,"tr",27),Bo(),Bo()),2&t){const t=ta(2);jo("hidden",!t.showTable),Or(8),jo("ngForOf",t.tableData)}}function pY(t,e){if(1&t){const t=Yo();Vo(0,"div",4),Vo(1,"div"),Ho(2,"div",5),Da(3," Map overlay: "),Bo(),Vo(4,"div",6),Da(5,"1km ESA land cover, tree cover and elevation"),Bo(),Vo(6,"div",7),Vo(7,"mat-label"),Da(8,"Legend:"),Bo(),Vo(9,"div",8),Vo(10,"div",9),Da(11,"% initial habitat suitability"),Bo(),Ho(12,"div",10),Ho(13,"div",11),Bo(),Vo(14,"div",12),Vo(15,"div",13),Da(16,"\xa0"),Bo(),Vo(17,"div",14),Da(18,"Loss"),Bo(),Vo(19,"div",15),Da(20,"No-change"),Bo(),Vo(21,"div"),Da(22,"Gain"),Bo(),Bo(),Bo(),Io(23,aY,3,8,"div",16),Io(24,cY,5,9,"div",16),Vo(25,"div",17),Vo(26,"div"),Vo(27,"b"),Da(28,"Suitable elevation: "),Bo(),Da(29),Bo(),Vo(30,"div"),Vo(31,"b"),Da(32,"Suitable tree cover: "),Bo(),Da(33),Bo(),Bo(),Vo(34,"button",18),$o("click",(function(){Qe(t);const e=ta();return e.showTable=!e.showTable})),Da(35," Toggle land cover suitability "),Io(36,hY,2,0,"mat-icon",19),Io(37,uY,2,0,"mat-icon",19),Bo(),Io(38,fY,9,2,"table",20),Bo()}if(2&t){const t=ta();Or(23),jo("ngIf",t.chartData),Or(1),jo("ngIf",t.fragData),Or(5),Na("",t.elevation[0]," to ",t.elevation[1]," meters "),Or(4),Na("",t.treeCover[0]," to ",t.treeCover[1],"% "),Or(3),jo("ngIf",!t.showTable),Or(1),jo("ngIf",t.showTable),Or(1),jo("ngIf",t.tableData)}}let gY=(()=>{class t{constructor(t,e,n,i,r,s){this.state=t,this.species=e,this.mapService=n,this.dialog=i,this.speciesInidcators=r,this.config=s,this.speciesNameSubscription=null,this.scientificname=null,this.results=null,this.showButton=!1,this.showButton2=!1,this.mapOverlay=null,this.mapOverlayOptions=null,this.tableData=null,this.elevation=[0,8500],this.treeCover=[0,100],this.showTable=!1,this.chartData=null,this.error=!1,this.fragData=null,this.avgEdgeDisHelpText="Average distance of suitable habitat cells to the nearest border with unsuitable habitat cells (GISFrag metric).The larger the distance, the greater the connectivity and the smaller the fragmentation.\n This calculation was done with the maximum possible distance to edge as 50km."}ngOnInit(){this.speciesNameSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.updateResults(),this.speciesInidcators.gisFragTrendsMetric(this.scientificname).subscribe(t=>{this.extractFragmentationData(t)})})}ngOnDestroy(){this.speciesNameSubscription.unsubscribe(),this.mapService.updateTileUrl("OFF")}updateResults(){this.tableData=null,this.species.habitatTrend(this.scientificname).subscribe(t=>{this.results=t,this.mapOverlayOptions=t.trends.filter(t=>["expert_esa_plus_treecover"].indexOf(t.id)>-1),this.mapOverlay=this.mapOverlayOptions[0],this.updateMap(this.mapOverlay),this.makeLCS(),this.extractChartData()},t=>{console.log("error getting chart"),this.error=!0})}makeLCS(){let t=this.results.metadata.properties;void 0!==t.elev_min&&(this.elevation[0]=t.elev_min),void 0!==t.elev_max&&(this.elevation[1]=t.elev_max),void 0!==t.treecover_min&&(this.treeCover[0]=t.treecover_min),void 0!==t.treecover_max&&(this.treeCover[1]=t.treecover_max),this.tableData=t.esa_landcover.split(",").map(t=>{let e=t.split(":");return{label:rY[e[0]],pc:100*parseFloat(e[1])}})}extractChartData(){this.results.data&&(this.chartData={data:this.results.data.map((t,e)=>0===e?null:[new Date(t[0],1,1),t[1],t[2],t[3]]).filter(t=>t),columns:[{type:"date",id:"Year"},{type:"number",id:"estcntryrs"},{type:"number",id:"estcntryrs_l95",role:"interval"},{type:"number",id:"estcntryrs_u95",role:"interval"}],title:"Habitat suitable range km\xb2",options:{curveType:"function",series:[{lineWidth:0,enableInteractivity:!1}],intervals:{style:"area"},legend:"none",vAxis:{title:"Habitat suitable range km\xb2"},hAxis:{title:"Year",format:"Y"}},width:400,height:300})}extractFragmentationData(t){this.fragData={data:t.filter(t=>2019!=t.year).map(t=>[new Date(t.year,0,1),t.gisfrag]).filter(t=>t),columns:[{type:"date",id:"Year"},{type:"number",id:"Fragmentation"}],title:"Avg. Distance to edge (km)",options:{series:[{lineWidth:1,enableInteractivity:!0}],intervals:{style:"line"},vAxis:{title:"Avg. Distance to edge (km)"},hAxis:{title:"Year",format:"Y"}},width:400,height:300}}openChartModal(){this.dialog.open(YR,{data:Object.assign(Object.assign({},this.chartData),{height:500,width:700,options:Object.assign(Object.assign({},this.chartData.options),{chartArea:{width:"90%",height:"80%",right:0}})}),width:"800px"})}openFragModal(){this.dialog.open(YR,{data:Object.assign(Object.assign({},this.fragData),{height:500,width:700,options:Object.assign(Object.assign({},this.fragData.options),{chartArea:{width:"90%",height:"80%",right:0}})}),width:"800px"})}updateMap(t){this.mapService.updateModelTileUrl(this.mapOverlay.tile_url)}speciesInfoUpdated(t){this.mapService.zoomToDatasetExtent(t.bounds)}}return t.\u0275fac=function(e){return new(e||t)(Lo(fD),Lo(ZA),Lo(QA),Lo(vE),Lo(rP),Lo(WA))},t.\u0275cmp=pe({type:t,selectors:[["mol-habitat-trends"]],decls:3,vars:4,consts:[[3,"scientificname","wiki","speciesInfoUpdated"],["class","error",4,"ngIf"],["class","controls",4,"ngIf"],[1,"error"],[1,"controls"],[1,"label"],[1,"overlay-title"],[1,"legend-block"],[1,"legend-row","trends"],[1,"make-vertical"],[1,"legend-colours"],[1,"after"],[1,"legend-labels"],[2,"width","90px"],[2,"width","95px"],[2,"width","125px"],["class","chart",4,"ngIf"],[1,"prefs"],["mat-raised-button","",1,"toggle-btn",3,"click"],[4,"ngIf"],["class","lc-table",3,"hidden",4,"ngIf"],[1,"chart"],[1,"gchart",3,"data","type","title","columns","width","height","options","ready"],["mat-button","","class","chart-btn",3,"click",4,"ngIf"],["mat-button","",1,"chart-btn",3,"click"],["aria-hidden","false","aria-label","help icon",1,"help-icon",3,"matTooltip"],[1,"lc-table",3,"hidden"],[4,"ngFor","ngForOf"],[1,"c-label"]],template:function(t,e){1&t&&(Vo(0,"mol-species-info",0),$o("speciesInfoUpdated",(function(t){return e.speciesInfoUpdated(t)})),Bo(),Io(1,sY,3,0,"div",1),Io(2,pY,39,9,"div",2)),2&t&&(jo("scientificname",e.scientificname)("wiki",!1),Or(1),jo("ngIf",e.error),Or(1),jo("ngIf",e.results))},directives:[ID,hu,rx,Ub,Am,eC,tS,lu],styles:[".controls[_ngcontent-%COMP%]{padding:15px}.controls[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;color:#666}.controls[_ngcontent-%COMP%]   .overlay-title[_ngcontent-%COMP%]{font-size:18px;padding:3px}.toggle-btn[_ngcontent-%COMP%]{margin:10px 0}.lc-table[_ngcontent-%COMP%]{line-height:21px;border-spacing:0;border:1px solid #ddd}.lc-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;font-size:13px}.lc-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;padding:8px}.lc-table[_ngcontent-%COMP%]   .c-label[_ngcontent-%COMP%]{width:290px}.lc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .lc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border:1px solid #ddd}.legend-block[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:30px}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:75px}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]   .make-vertical[_ngcontent-%COMP%]{width:25%;transform:rotate(-90deg);padding:10px 0 0;margin:28px 0 0;text-align:center;height:50%!important;line-height:15px;font-size:9pt}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]   .legend-colours[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,hsla(0,0%,100%,0)) no-repeat border-box,linear-gradient(90deg,red,#00f,#ff0) no-repeat border-box;min-width:66.66666667%}.legend-block[_ngcontent-%COMP%]   .legend-row.trends[_ngcontent-%COMP%]   .after[_ngcontent-%COMP%]{width:8.33333333%}.legend-block[_ngcontent-%COMP%]   .legend-labels[_ngcontent-%COMP%]{display:flex;flex-direction:row}.chart-btn[_ngcontent-%COMP%]{margin-left:220px}.prefs[_ngcontent-%COMP%]{padding-top:15px;line-height:21px}.error[_ngcontent-%COMP%]{padding:20px 0;text-align:center}.help-icon[_ngcontent-%COMP%]{font-size:medium;float:right;position:relative;bottom:19.4em;right:6.7em}"]}),t})();const mY=[[["","title",""]],[["","content",""]]],_Y=["[title]","[content]"];let vY=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-species-expansion-card"]],inputs:{panelOpenState:"panelOpenState"},ngContentSelectors:_Y,decls:6,vars:1,consts:[[1,"species-accordian"],[3,"expanded"]],template:function(t,e){1&t&&(na(mY),Vo(0,"mat-accordion",0),Vo(1,"mat-expansion-panel",1),Vo(2,"mat-expansion-panel-header"),Vo(3,"mat-panel-title"),ia(4),Bo(),Bo(),ia(5,1),Bo(),Bo()),2&t&&(Or(1),jo("expanded",e.panelOpenState))},directives:[MR,SR,kR,ER],styles:["[_nghost-%COMP%]     .species-accordian .mat-expansion-panel-body{padding:0}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 17px}"]}),t})();function yY(t,e){if(1&t&&(Vo(0,"td"),Da(1),Ho(2,"br"),Bo()),2&t){const t=ta(2);Or(1),Fa(" ",t.gisFrag," km ")}}function bY(t,e){1&t&&Ho(0,"mol-small-spinner",11)}function wY(t,e){if(1&t&&(Vo(0,"td"),Vo(1,"div",9),Io(2,bY,1,0,"mol-small-spinner",10),Da(3),Bo(),Bo()),2&t){const t=ta(2);Or(2),jo("ngIf","Loading"===t.gisFrag),Or(1),Fa(" ",t.gisFrag," ")}}const xY=function(t,e,n){return{protection_status_red:t,protection_status_green:e,protection_status_yellow:n}},CY=function(t){return{protection_status_light_red:t}};function OY(t,e){if(1&t&&(Vo(0,"div",2),Vo(1,"h3",3),Da(2," Distribution "),Vo(3,"mat-icon",4),Da(4,"help"),Bo(),Bo(),Vo(5,"table"),Vo(6,"tr"),Vo(7,"td",5),Da(8," Map Improvement: "),Bo(),Vo(9,"td"),Da(10),sc(11,"number"),Ho(12,"br"),Vo(13,"small"),Da(14," ("),Vo(15,"span",6),Da(16),Bo(),Da(17," \xa0-\xa0 "),Vo(18,"span",7),Da(19),Bo(),Da(20,") "),Bo(),Bo(),Vo(21,"td"),Da(22),Ho(23,"br"),Vo(24,"small"),Da(25,"Validation points"),Bo(),Bo(),Bo(),Vo(26,"tr"),Vo(27,"td",5),Da(28," Range size: "),Bo(),Vo(29,"td"),Da(30),sc(31,"number"),Ho(32,"br"),Vo(33,"small"),Da(34,"Habitat Suitable"),Bo(),Bo(),Vo(35,"td"),Da(36),sc(37,"number"),Ho(38,"br"),Vo(39,"small"),Da(40,"Total"),Bo(),Bo(),Bo(),Vo(41,"tr"),Vo(42,"td",5),Da(43," Avg. Edge Distance: "),Bo(),Io(44,yY,3,1,"td",8),Io(45,wY,4,2,"td",8),Bo(),Bo(),Bo()),2&t){const t=ta();Or(1),ra("matTooltip",t.tooltipMessages.geodis),Or(6),ra("matTooltip",t.tooltipMessages.mapimprov),Or(2),wa(ec(24,xY,t.f_change_high<0,t.f_change_low>0,0==t.f_change_low||0==t.f_change_high)),Or(1),Fa(" ",oc(11,16,t.f_change),"%\xa0 "),Or(6),Fa("",t.f_change_low,"%\xa0"),Or(3),Fa("",t.f_change_high,"%"),Or(3),Fa(" ",t.num_points," "),Or(5),ra("matTooltip",t.tooltipMessages.range),Or(2),wa(Jl(28,CY,t.refined_range_size<2e4)),Or(1),Fa(" ",ac(31,18,t.habitatMetrics.refined_range_size,"1.0-0")," km\xb2 "),Or(6),Fa(" ",ac(37,21,t.habitatMetrics.expert_range_size,"1.0-0")," km\xb2 "),Or(6),ra("matTooltip",t.tooltipMessages.edgeDistance),Or(2),jo("ngIf","Loading"!==t.gisFrag&&"Error"!==t.gisFrag),Or(1),jo("ngIf","Loading"===t.gisFrag||"Error"===t.gisFrag)}}function SY(t,e){1&t&&(Vo(0,"div",12),Ho(1,"mol-small-spinner",13),Vo(2,"small"),Da(3,"Generating distribution metrics."),Bo(),Bo())}let kY=(()=>{class t{constructor(){this.range_change=0,this.precision_change=0,this.sensitivity_change=0,this.expert_f=0,this.refined_f=0,this.f_change=0,this.f_score=0,this.refined_precision=0,this.expert_precision=0,this.expert_sensitivity=0,this.refined_sensitivity=0,this.num_points=0,this.f_change_high=0,this.f_change_low=0,this.tooltipMessages={geodis:"Range size characteristics and improvements in distribution estimate from currently selected habitat associations.",range:"Area covered by total (suitable + unsuitable) or suitable range given habitat selection.",mapimprov:"Change in map performance according to available validation information ( points).",edgeDistance:"Average distance of suitable habitat cells to the nearest border with unsuitable habitat cells (GISFrag metric).The larger the distance, the greater the connectivity and the smaller the fragmentation.\n Max dist: 50km."}}ngOnInit(){}ngOnChanges(t){if(this.habitatMetrics){this.refined_precision=1,this.expert_precision=this.habitatMetrics.refined_range_size/this.habitatMetrics.expert_range_size,this.expert_sensitivity=1,this.num_points=this.habitatMetrics.total_points,this.expert_f=Math.round(100*this.getFScore(this.expert_precision,this.expert_sensitivity)),this.refined_sensitivity=this.habitatMetrics.points_in_refined_range/(this.habitatMetrics.points_in_refined_range+this.habitatMetrics.points_in_expert_range),this.refined_f=Math.round(100*this.getFScore(this.refined_precision,this.refined_sensitivity)),this.f_change=this.changeInMapPerformance(this.habitatMetrics.refined_range_size,this.habitatMetrics.expert_range_size,this.habitatMetrics.points_in_expert_range,this.habitatMetrics.points_in_refined_range),this.f_score=this.refinedMapPerformance(this.habitatMetrics.refined_range_size,this.habitatMetrics.expert_range_size,this.habitatMetrics.points_in_expert_range,this.habitatMetrics.points_in_refined_range);var e=this.getSensConf(this.getSensitivity(this.habitatMetrics.points_in_refined_range,this.habitatMetrics.points_in_expert_range),this.habitatMetrics.points_in_refined_range+this.habitatMetrics.points_in_expert_range),n=Math.round(100*this.getFScore(this.refined_precision,e[0])),i=Math.round(100*this.getFScore(this.refined_precision,e[1]));this.f_change_high=i-this.expert_f,this.f_change_low=0==this.num_points?-1:n-this.expert_f}}getFScore(t,e){return t*e*2/(t+e)}refinedMapPerformance(t,e,n,i){return this.range_change=Math.round(100*(t-e)/e),this.expert_f=Math.round(100*this.getFScore(t/e,1)),this.refined_f=Math.round(100*this.getFScore(1,i/(n+i))),this.refined_precision}getSensitivity(t,e){return t/(e+t)}changeInMapPerformance(t,e,n,i){this.range_change=Math.round(100*(t-e)/e);var r=t/e,s=Math.round(100*this.getFScore(r,1)),o=i/(n+i),a=Math.round(100*this.getFScore(1,o));return this.precision_change=Math.round(100*(1-r)),this.sensitivity_change=Math.round(100*(o-1)),this.f_change=a-s,this.f_change}getSensConf(t,e){var n=1.96,i=2*e*t+n^2,r=n*Math.sqrt(n^2+4*e*t*(1-t)),s=2*(e+n^2);return[(i-r)/s,(i+r)/s]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-geographic-distribution"]],inputs:{habitatMetrics:"habitatMetrics",habitatMetricsLoading:"habitatMetricsLoading",gisFrag:"gisFrag"},features:[Xa],decls:3,vars:2,consts:[["class","content",4,"ngIf"],["class","loading",4,"ngIf"],[1,"content"],[3,"matTooltip"],[1,"help-icon"],[1,"stat-title",3,"matTooltip"],["ng-show","f_change_low != null"],["ng-show","f_change_high != null"],[4,"ngIf"],[2,"display","flex","align-items","center"],["style","width: 40px","diameter","20",4,"ngIf"],["diameter","20",2,"width","40px"],[1,"loading"],["diameter","20",1,"spin"]],template:function(t,e){1&t&&(Vo(0,"mat-card"),Io(1,OY,46,30,"div",0),Io(2,SY,4,0,"div",1),Bo()),2&t&&(Or(1),jo("ngIf",e.habitatMetrics&&!e.habitatMetricsLoading),Or(1),jo("ngIf",e.habitatMetricsLoading))},directives:[uC,hu,tS,eC,QD],pipes:[Su],styles:["table[_ngcontent-%COMP%]{text-align:center;border-collapse:separate;border-spacing:0 1em}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;border:1px solid hsla(0,0%,53.3%,.53);min-width:100px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin:10px 0;border:1px solid #888}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.loading[_ngcontent-%COMP%]   mol-small-spinner[_ngcontent-%COMP%]{width:40px}"]}),t})();function EY(t,e){if(1&t){const t=Yo();Vo(0,"button",8),$o("click",(function(){return Qe(t),ta().resetPreferences()})),Da(1," Use defaults "),Bo()}2&t&&ra("matTooltip",ta().tooltipMessages.reset)}function MY(t,e){if(1&t){const t=Yo();Vo(0,"button",9),$o("click",(function(){return Qe(t),ta().preferencesUpdated()})),Da(1," Update "),Bo()}2&t&&ra("matTooltip",ta().tooltipMessages.update)}function TY(t,e){if(1&t){const t=Yo();Vo(0,"div",10),Vo(1,"div",11),Vo(2,"div",12),Vo(3,"mat-slide-toggle",13),$o("ngModelChange",(function(e){return Qe(t),ta().elev.checked=e}))("change",(function(e){return Qe(t),ta().onChange(e)})),Da(4,"Elevation "),Vo(5,"mat-icon",14),Da(6,"help"),Bo(),Bo(),Vo(7,"div",15),Vo(8,"ngx-slider",16),$o("valueChange",(function(e){return Qe(t),ta().elev.min=e}))("highValueChange",(function(e){return Qe(t),ta().elev.max=e}))("userChange",(function(e){return Qe(t),ta().updateElevation(e)})),Bo(),Bo(),Bo(),Ho(9,"hr"),Vo(10,"div",17),Vo(11,"mat-slide-toggle",18),$o("ngModelChange",(function(e){return Qe(t),ta().treecover.checked=e}))("change",(function(e){return Qe(t),ta().onChange(e)}))("userChange",(function(e){return Qe(t),ta().updateElevation(e)})),Da(12," Tree cover "),Vo(13,"mat-icon",14),Da(14,"help"),Bo(),Bo(),Vo(15,"div",15),Vo(16,"ngx-slider",16),$o("valueChange",(function(e){return Qe(t),ta().treecover.min=e}))("highValueChange",(function(e){return Qe(t),ta().treecover.max=e}))("userChange",(function(e){return Qe(t),ta().updateTreeCover(e)})),Bo(),Bo(),Bo(),Bo(),Ho(17,"hr"),Vo(18,"div",19),Vo(19,"mat-slide-toggle",20),$o("ngModelChange",(function(e){return Qe(t),ta().landcover=e}))("change",(function(e){return Qe(t),ta().onChange(e)})),Da(20,"Landcover "),Vo(21,"mat-icon",14),Da(22,"help"),Bo(),Bo(),Vo(23,"button",21),$o("click",(function(){return Qe(t),ta().toggleList()})),Da(24),Bo(),Bo(),Bo()}if(2&t){const t=ta();Or(3),ra("matTooltip",t.tooltipMessages.elevation),jo("ngModel",t.elev.checked),Or(5),jo("value",t.elev.min)("highValue",t.elev.max)("options",t.elevoptions),Or(3),ra("matTooltip",t.tooltipMessages.treecover),jo("ngModel",t.treecover.checked),Or(5),jo("value",t.treecover.min)("highValue",t.treecover.max)("options",t.options),Or(3),ra("matTooltip",t.tooltipMessages.landcover),jo("ngModel",t.landcover),Or(5),Fa(" ",t.isLandCoverHidden," Land-cover preferences ")}}function AY(t,e){if(1&t){const t=Yo();Vo(0,"th",30),Vo(1,"mat-checkbox",31),$o("change",(function(e){Qe(t);const n=ta(2);return e?n.masterToggle():null})),Bo(),Bo()}if(2&t){const t=ta(2);Or(1),jo("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function PY(t,e){if(1&t){const t=Yo();Vo(0,"td",32),Vo(1,"mat-checkbox",33),$o("click",(function(e){return Qe(t),e.stopPropagation()}))("change",(function(n){Qe(t);const i=e.$implicit,r=ta(2);return n?r.toggleCheckbox(i):null})),Bo(),Bo()}if(2&t){const t=e.$implicit,n=ta(2);Or(1),jo("checked",1==t.percentage)("indeterminate",t.percentage>0&&t.percentage<1)("aria-label",n.checkboxLabel(t))}}function RY(t,e){1&t&&(Vo(0,"th",30),Da(1,"Name"),Bo())}function IY(t,e){if(1&t&&(Vo(0,"td",32),Da(1),Bo()),2&t){const t=e.$implicit;Or(1),La(t.name)}}function DY(t,e){1&t&&(Vo(0,"th",30),Da(1,"Percentage"),Bo())}function LY(t,e){if(1&t&&(Vo(0,"mat-option",37),Da(1),Bo()),2&t){const t=e.$implicit;jo("value",t),Or(1),Fa("",100*t," ")}}function FY(t,e){if(1&t){const t=Yo();Vo(0,"td",32),Vo(1,"mat-form-field",34),Vo(2,"mat-label"),Da(3,"%"),Bo(),Vo(4,"mat-select",35),$o("valueChange",(function(n){return Qe(t),e.$implicit.percentage=n})),Io(5,LY,2,2,"mat-option",36),Bo(),Bo(),Bo()}if(2&t){const t=e.$implicit,n=ta(2);Or(4),jo("value",t.percentage),Or(1),jo("ngForOf",n.percentages)}}function NY(t,e){1&t&&Ho(0,"tr",38)}function jY(t,e){if(1&t){const t=Yo();Vo(0,"tr",39),$o("click",(function(){Qe(t);const n=e.$implicit;return ta(2).selection.toggle(n)})),Bo()}}function zY(t,e){if(1&t&&(Vo(0,"table",22),Uo(1,23),Io(2,AY,2,3,"th",24),Io(3,PY,2,3,"td",25),Go(),Uo(4,26),Io(5,RY,2,0,"th",24),Io(6,IY,2,1,"td",25),Go(),Uo(7,27),Io(8,DY,2,0,"th",24),Io(9,FY,6,2,"td",25),Go(),Io(10,NY,1,0,"tr",28),Io(11,jY,1,0,"tr",29),Bo()),2&t){const t=ta();jo("dataSource",t.dataSource),Or(10),jo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),Or(1),jo("matRowDefColumns",t.displayedColumns)}}function VY(t,e){1&t&&(Vo(0,"h4"),Da(1,"No Habitat Associations available for marine species"),Bo())}let BY=(()=>{class t{constructor(t,e){this.speciesIndicators=t,this.state=e,this.preferencesChanged=new hc,this.speciesHabitats=[],this.displayedColumns=["select","name","percentage"],this.percentages=[0,.25,.5,.75,1],this.dataSource=new zO(this.speciesHabitats),this.habitatsMap=new Map,this.elevoptions={disabled:!1,step:100,floor:0,ceil:8500,translate:(t,e)=>{switch(e){case rk.Low:case rk.High:default:return t+"m"}}},this.options={disabled:!1,step:5,floor:0,ceil:100,translate:(t,e)=>{switch(e){case rk.Low:case rk.High:default:return t+"%"}}},this.isLandCoverHidden="Show",this.showlandCoverList=!1,this.tooltipMessages={update:"Apply changes to habitat associations to the map and statistics",reset:"Reset preferences back to default",elevation:"Mean elevation of 1km pixel",treecover:"Tree cover at 1km based on global forest extent and change (GFC v1.7)",landcover:"Dominant land cover type at aggregated at 1 km pixel (ESA v2.1.1)"}}ngOnInit(){this.setElevationTreeCoverStates()}ngOnChanges(t){this.mapHabitat()}ngOnDestroy(){}onChange(t){switch(t.source.id){case"elevToggle":this.preferences.use_e=t.checked,this.elevoptions=Object.assign({},this.elevoptions,{disabled:!this.preferences.use_e});break;case"treecoverToggle":this.preferences.use_f=t.checked,this.options=Object.assign({},this.options,{disabled:!this.preferences.use_f});break;case"landcoverToggle":this.preferences.use_h=t.checked}}resetPreferences(){this.speciesIndicators.speciesPreferences(this.preferences.scientificname).subscribe(t=>{this.preferences=Object.assign({},t.prefs),this.setElevationTreeCoverStates(),this.mapHabitat(),this.preferencesUpdated()})}setElevationTreeCoverStates(){this.elev={min:this.preferences.elev_min,max:this.preferences.elev_max,checked:this.preferences.use_e},this.treecover={min:this.preferences.tree_cover_min,max:this.preferences.tree_cover_max,checked:this.preferences.use_f},this.landcover=this.preferences.use_h,this.elevoptions=Object.assign({},this.elevoptions,{disabled:!this.preferences.use_e}),this.options=Object.assign({},this.options,{disabled:!this.preferences.use_f})}preferencesUpdated(){this.mapPreferences(),this.preferencesChanged.emit(this.preferences)}mapPreferences(){let t="";this.dataSource.data.forEach(e=>{if(0!=e.percentage){let n=this.habitatsMap.get(e.name);""!=t&&(t+=","),t+=n.class+":"+e.percentage}}),this.preferences.habitat=t}mapHabitat(){this.habitatsMap.clear(),this.speciesHabitats.splice(0,this.speciesHabitats.length),this.preferences.habitat.split(",").forEach(t=>{const e=t.split(":"),n=this.habitats[e[0]].name,i=+e[1];this.habitatsMap.set(n,{class:e[0],percentage:i}),this.speciesHabitats.push({name:n,percentage:i})});for(const t in this.habitats){const e=this.habitats[t].name;if(!this.habitatsMap.has(e)){const n=0;this.habitatsMap.set(e,{class:t,percentage:n}),this.speciesHabitats.push({name:e,percentage:n})}}this.selection=new Gv(!0,this.speciesHabitats.filter(t=>1===t.percentage)),this.dataSource=new zO(this.speciesHabitats)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){if(this.isAllSelected())return this.selection.clear(),this.dataSource.data.forEach(t=>{t.percentage=0}),void(this.landcover=!1);this.dataSource.data.forEach(t=>{t.percentage=1}),this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}toggleList(){this.showlandCoverList=!this.showlandCoverList,this.isLandCoverHidden=this.showlandCoverList?"Hide":"Show"}updateElevation(t){this.preferences.elev_min=t.value,this.preferences.elev_max=t.highValue}updateTreeCover(t){this.preferences.tree_cover_min=t.value,this.preferences.tree_cover_max=t.highValue}toggleCheckbox(t){this.selection.toggle(t),t.percentage=this.selection.isSelected(t)?1:0}}return t.\u0275fac=function(e){return new(e||t)(Lo(rP),Lo(fD))},t.\u0275cmp=pe({type:t,selectors:[["mol-habitat-association"]],viewQuery:function(t,e){var n;1&t&&Cc(bO,!0),2&t&&wc(n=Mc())&&(e.table=n.first)},inputs:{preferences:"preferences",habitats:"habitats",reserves:"reserves"},outputs:{preferencesChanged:"preferencesChanged"},features:[Xa],decls:9,vars:5,consts:[[1,"content"],[1,"title-section"],["class","reset","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["class","update","mat-raised-button","","color","accent",3,"matTooltip","click",4,"ngIf"],["class","toggles",4,"ngIf"],[1,"habitat"],["mat-table","",3,"dataSource",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","",1,"reset",3,"matTooltip","click"],["mat-raised-button","","color","accent",1,"update",3,"matTooltip","click"],[1,"toggles"],[1,"range"],[1,"elevation"],["id","elevToggle",3,"ngModel","matTooltip","ngModelChange","change"],[1,"help-icon"],[1,"custom-slider"],[3,"value","highValue","options","valueChange","highValueChange","userChange"],[1,"tree-cover"],["id","treecoverToggle",3,"ngModel","matTooltip","ngModelChange","change","userChange"],[1,"land-cover"],["id","landcoverToggle",3,"ngModel","matTooltip","ngModelChange","change"],["mat-stroked-button","","color","primary",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","percentage"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","indeterminate","aria-label","click","change"],["appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(Vo(0,"mat-card"),Vo(1,"div",0),Vo(2,"div",1),Io(3,EY,2,1,"button",2),Io(4,MY,2,1,"button",3),Bo(),Io(5,TY,25,13,"div",4),Vo(6,"div",5),Io(7,zY,12,4,"table",6),Bo(),Io(8,VY,2,0,"h4",7),Bo(),Bo()),2&t&&(Or(3),jo("ngIf","fishes"!==e.preferences.class),Or(1),jo("ngIf",!(!e.reserves&&"fishes"===e.preferences.class)),Or(1),jo("ngIf","fishes"!==e.preferences.class),Or(2),jo("ngIf",e.showlandCoverList),Or(1),jo("ngIf","fishes"==e.preferences.class))},directives:[uC,hu,Ub,tS,LC,Um,W_,eC,wk,bO,kO,OO,xO,AO,RO,MO,kS,TO,fx,rx,Ix,lu,ub,DO,FO],styles:[".elevation[_ngcontent-%COMP%], .tree-cover[_ngcontent-%COMP%]{display:flex;flex-direction:column}td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0;padding-right:1em}td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.mat-form-field-infix[_ngcontent-%COMP%], .mat-form-field-wrapper[_ngcontent-%COMP%]{width:8em}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{padding-top:1em}.land-cover[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.title-section[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5em;justify-content:flex-end}.title-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;line-height:24px;height:29px;margin-right:1.5em}.title-section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{background-color:#394aae;color:#fff;font-size:12px;line-height:24px;height:29px;margin-right:0}hr[_ngcontent-%COMP%]{color:#cecece;margin:1em 0 2em}.habitat[_ngcontent-%COMP%]{margin-bottom:1em}.mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:1em;line-height:30px}"]}),t})(),HY=(()=>{class t{constructor(){this.mapOptionsChanged=new hc,this.mapOptions={points:!1,reserves:!0},this.tooltipMessages={points:"",reserves:""}}ngOnInit(){}onChange(t){switch(t.source.id){case"points":this.mapOptions.points=t.checked,this.mapOptionsChanged.emit(this.mapOptions);break;case"reserves":this.mapOptions.reserves=t.checked,this.mapOptionsChanged.emit(this.mapOptions)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-map-options"]],outputs:{mapOptionsChanged:"mapOptionsChanged"},decls:9,vars:2,consts:[[1,"title-section"],[1,"content"],["id","points",3,"ngModel","ngModelChange","change"],["id","reserves",3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&(Vo(0,"mat-card"),Vo(1,"div",0),Vo(2,"h3"),Da(3,"Map Options"),Bo(),Bo(),Vo(4,"div",1),Vo(5,"mat-slide-toggle",2),$o("ngModelChange",(function(t){return e.mapOptions.points=t}))("change",(function(t){return e.onChange(t)})),Da(6,"Show Points "),Bo(),Vo(7,"mat-slide-toggle",3),$o("ngModelChange",(function(t){return e.mapOptions.reserves=t}))("change",(function(t){return e.onChange(t)})),Da(8,"Show Reserves "),Bo(),Bo(),Bo()),2&t&&(Or(5),jo("ngModel",e.mapOptions.points),Or(2),jo("ngModel",e.mapOptions.reserves))},directives:[uC,LC,Um,W_],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-slide-toggle[_ngcontent-%COMP%]{line-height:30px}.title-section[_ngcontent-%COMP%]{display:flex}"]}),t})();function UY(t,e){if(1&t){const t=Yo();Vo(0,"div",2),Vo(1,"h3",3),Da(2," Protection "),Vo(3,"mat-icon",4),Da(4,"help"),Bo(),Bo(),Vo(5,"table"),Vo(6,"tr"),Ho(7,"th"),Vo(8,"th",5),Da(9," Any Size "),Bo(),Vo(10,"th",5),Da(11," Larger than "),Ho(12,"br"),Da(13),Bo(),Bo(),Vo(14,"tr"),Vo(15,"td",5),Da(16," Strict Parks "),Bo(),Vo(17,"td"),Da(18),Bo(),Vo(19,"td"),Da(20),Bo(),Bo(),Vo(21,"tr"),Vo(22,"td",5),Da(23," All parks "),Bo(),Vo(24,"td"),Da(25),Bo(),Vo(26,"td"),Da(27),Bo(),Bo(),Vo(28,"tr"),Vo(29,"td",5),Da(30," Range protected "),Bo(),Vo(31,"td"),Da(32),sc(33,"number"),Bo(),Vo(34,"td"),Da(35),sc(36,"number"),Bo(),Bo(),Vo(37,"tr"),Vo(38,"td",5),Da(39," Target protected "),Bo(),Vo(40,"td"),Da(41),sc(42,"number"),Bo(),Vo(43,"td"),Da(44),sc(45,"number"),Bo(),Bo(),Vo(46,"tr"),Vo(47,"td",5),Da(48," Target realized* "),Bo(),Vo(49,"td"),Da(50),sc(51,"number"),Bo(),Vo(52,"td"),Da(53),sc(54,"number"),Bo(),Bo(),Bo(),Vo(55,"div",6),Vo(56,"div",7),Da(57," Minimum reserve size: "),Bo(),Vo(58,"div",8),Vo(59,"ngx-slider",9),$o("valueChange",(function(e){return Qe(t),ta().minReserveSize=e}))("userChange",(function(){return Qe(t),ta().changes()})),Bo(),Bo(),Bo(),Bo()}if(2&t){const t=ta();Or(1),ra("matTooltip",t.tooltipMessages.maxCov),Or(7),ra("matTooltip",t.tooltipMessages.anySize),Or(2),ra("matTooltip",t.tooltipMessages.largerthan),Or(3),Fa(" ",t.minReserveSize," km\xb2 "),Or(2),ra("matTooltip",t.tooltipMessages.strictParks),Or(3),La(t.anyStats.strict),Or(2),La(t.areaFilteredStats.strict),Or(2),ra("matTooltip",t.tooltipMessages.allParks),Or(3),La(t.anyStats.all),Or(2),La(t.areaFilteredStats.all),Or(2),ra("matTooltip",t.tooltipMessages.rangeProtected),Or(3),Fa("",ac(33,26,t.anyStats.all_area,"1.0-1")," km\xb2"),Or(3),Fa("",ac(36,29,t.areaFilteredStats.all_area,"1.0-1")," km\xb2"),Or(3),ra("matTooltip",t.tooltipMessages.targetProtected),Or(3),Fa("",ac(42,32,t.anyStats.target_area,"1.0-1")," km\xb2"),Or(3),Fa("",ac(45,35,t.areaFilteredStats.target_area,"1.0-1")," km\xb2"),Or(3),ra("matTooltip",t.tooltipMessages.targetRealized),Or(2),wa(t.anyStats.cls),Or(1),Fa(" ",oc(51,38,t.anyStats.target_realized)," % "),Or(2),wa(t.areaFilteredStats.cls),Or(1),Fa(" ",oc(54,40,t.areaFilteredStats.target_realized)," % "),Or(3),ra("matTooltip",t.tooltipMessages.minReCov),Or(3),jo("value",t.minReserveSize)("options",t.sliderOpts)}}function GY(t,e){1&t&&(Vo(0,"div",10),Ho(1,"mol-small-spinner",11),Vo(2,"small"),Da(3,"Generating protection metrics."),Bo(),Bo())}let WY=(()=>{class t{constructor(){this.reserveList=[],this.areaFilteredReserves=[],this.minReserveSize=10,this.anyStats=null,this.areaFilteredStats=null,this.ready=!1,this.anysize={},this.tooltipMessages={maxCov:"Provides the maximum number and area of reserves that overlap with the species\u2019 potential total or suitable distribution, as selected in Habitat Associations, and progress toward a conservation target.Note: Species typically occur in much fewer areas than these distributions suggest and observed coverage may be much smaller.",anySize:"Includes reserves of all sizes",largerthan:"Compute total area contributed by reserves larger than minimum size (result is not visualized on map)",strictParks:"Parks with IUCN category Ia, Ib, II, III",allParks:"All parks  designated at the national level",rangeProtected:"Total non-overlapping area covered by All parks",targetProtected:"For species <1,000km2 equals range size, for those >250,000km2 equals 10% of range size.For species with range sizes in between the target is a log-linear interpolation of these two area values.",targetRealized:"All parks area in relation to Target area. Note that the observed species \u2018All parks area\u2019 is likely much smaller  than the estimated maximum value, so percent of target realize may be much lower.",minReCov:"Select the minimum park size."},this.sliderOpts={step:2,floor:0,ceil:1e3,showSelectionBarEnd:!0,translate:(t,e)=>""}}ngOnInit(){}ngOnChanges(t){this.changes()}changes(){this.reserveList.length>0&&this.habitatMetrics&&(this.areaFilteredReserves=this.reserveList.filter(t=>t.sum>this.minReserveSize),this.anyStats=this.getStats(this.reserveList),this.areaFilteredStats=this.getStats(this.areaFilteredReserves),this.ready=!0)}getStats(t){let e=this.targetProtectedArea(this.habitatMetrics.refined_range_size),n=t.map(t=>t.sum).reduce((t,e)=>t+e);return{strict:t.filter(t=>["I","Ia","Ib","II","III"].indexOf(t.IUCN_CAT)>-1).length,all:t.length,all_area:n,target_area:e,target_realized:n/e*100,cls:this.targetRealizedClass(n/e*100)}}targetRealizedClass(t){return t>=120?"protection_status_green":t>=75&&t<120?"protection_status_yellow":t>=25&&t<75?"protection_status_orange":"protection_status_red"}targetProtectedArea(t){return t<=1e3?t:t>=25e4?.1*t:t*(212.6-37.542*Math.log10(t))/100}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-reserve-coverage-metrics"]],inputs:{reserveList:"reserveList",habitatMetrics:"habitatMetrics",reservesLoading:"reservesLoading"},features:[Xa],decls:3,vars:2,consts:[["class","content",4,"ngIf"],["class","loading",4,"ngIf"],[1,"content"],[3,"matTooltip"],[1,"help-icon"],[1,"stat-title",3,"matTooltip"],[1,"mrs-slider-box"],[1,"mrs","stat-title",3,"matTooltip"],[1,"mrs-slider","custom-slider"],[3,"value","options","valueChange","userChange"],[1,"loading"],["diameter","20",1,"spin"]],template:function(t,e){1&t&&(Vo(0,"mat-card"),Io(1,UY,60,42,"div",0),Io(2,GY,4,0,"div",1),Bo()),2&t&&(Or(1),jo("ngIf",e.ready&&!e.reservesLoading),Or(1),jo("ngIf",!e.ready||e.reservesLoading))},directives:[uC,hu,tS,eC,wk,QD],pipes:[Su],styles:["table[_ngcontent-%COMP%]{text-align:center;border-collapse:collapse;width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #aaa}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%;min-height:30px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;min-width:105px}.mrs-slider-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.mrs-slider-box[_ngcontent-%COMP%]   .mrs[_ngcontent-%COMP%]{text-align:right;padding-right:5px}.mrs-slider-box[_ngcontent-%COMP%]   .mrs-slider[_ngcontent-%COMP%]{width:100%}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row}.loading[_ngcontent-%COMP%]   mol-small-spinner[_ngcontent-%COMP%]{width:40px}"]}),t})();function YY(t,e){1&t&&Ho(0,"div",9)}function qY(t,e){if(1&t){const t=Yo();Vo(0,"mol-habitat-association",10),$o("preferencesChanged",(function(e){return Qe(t),ta().preferencesUpdated(e)})),Bo()}if(2&t){const t=ta();jo("preferences",t.preferences)("reserves",t.reserves)("habitats",t.habitats)}}function XY(t,e){1&t&&Ho(0,"div",9)}function $Y(t,e){if(1&t){const t=Yo();Vo(0,"mol-map-options",11),$o("mapOptionsChanged",(function(e){return Qe(t),ta().mapOptionsUpdated(e)})),Bo()}}function KY(t,e){1&t&&Ho(0,"div",9)}function ZY(t,e){1&t&&Ho(0,"div",9)}function QY(t,e){if(1&t&&Ho(0,"mol-reserve-coverage-metrics",12),2&t){const t=ta();jo("reserveList",t.reserveList)("reservesLoading",t.reservesLoading)("habitatMetrics",t.habitatMetrics)}}let JY=(()=>{class t{constructor(t,e,n,i,r,s){this.state=t,this.mapService=e,this.route=n,this.speciesIndicators=i,this.dialog=r,this._snackBar=s,this.geoDisMetrics$=null,this.scientificname="",this.reserves=!1,this.speciesChangeSubscription=null,this.clickSub=null,this.preferences=null,this.defaultPreferences=null,this.reserveList=[],this.mapOptions={points:!1,reserves:!0},this.tooltipMessages={habitatAssociations:"Select suitable habitat conditions for this species. Default is current expert opinion"},this.habitatMetricsLoading=!0,this.reservesLoading=!0}ngOnInit(){this.speciesChangeSubscription=this.state.scientificname.subscribe(t=>{this.scientificname=t,this.route.data.subscribe(t=>{this.reserves=t.reserves,this.speciesChanged()})}),this.habitats=this.speciesIndicators.esaClassDict(),this.clickSub=this.mapService.clickEvent.subscribe(t=>{this.reserves&&this.speciesIndicators.mapQuery(t[0],t[1]).pipe(Lx((t,e)=>Rp({WDPAID:null}))).subscribe(t=>{t.WDPAID?this.reserveList&&this.openReserveModal(t):this.openSnackBar("No protected area found.")})})}openReserveModal(t){t&&this.dialog.open(_I,{data:{heading:t.NAME,info:[{children:[{label:"WDPA website",value:"https://www.protectedplanet.net/"+t.WDPAID,type:"url"}].concat(Object.keys(t).map(e=>({label:("sum"===e?"Area":e).replace(/_/gi," "),value:t[e],type:t[e].toString().match(/^http/)?"url":void 0})))}]}})}speciesChanged(){YL(this.speciesIndicators.speciesPreferences(this.scientificname),this.state.speciesPreferences).subscribe(t=>{this.preferences=Object.assign({},null==t[1]?t[0].prefs:t[1]),this.mapService.zoomToDatasetExtent(Object.assign(Object.assign({},t[0].bounds),{buffer:20})),this.updateTileUrl(),this.getHabitatMetrics(),this.reserves&&this.getReserveMetrics()})}ngOnDestroy(){this.speciesChangeSubscription.unsubscribe(),this.clickSub.unsubscribe(),this.mapService.updateTileUrl("OFF")}preferencesUpdated(t){this.preferences=t,this.state.updateSpeciesPreferences(t),this.updateTileUrl(),this.getHabitatMetrics(),this.reserves&&this.getReserveMetrics()}mapOptionsUpdated(t){this.mapOptions=t,this.updateTileUrl()}addMapOptions(t){let e=Object.assign({},t);return e.show_points=this.mapOptions.points,e.show_reserves=this.mapOptions.reserves,e}updateTileUrl(){let t;if(this.preferences){if(this.reserves){let e=this.addMapOptions(this.preferences);t=this.speciesIndicators.reserveCoverageMap(this.scientificname,e)}else t=this.speciesIndicators.habitatDistributionMap(this.scientificname,this.preferences);t.subscribe(t=>{this.mapService.updateTileUrl(t.tileurl)})}}getHabitatMetrics(){this.gisFrag="Loading",this.habitatMetricsLoading=!0,this.speciesIndicators.habitatDistributionMetrics(this.scientificname,this.preferences).subscribe(t=>{this.habitatMetricsLoading=!1,this.habitatMetrics=t},t=>{this.openSnackBar(t)}),this.speciesIndicators.gisFragMetric(this.scientificname,this.preferences).subscribe(t=>{this.gisFrag=t.gisFrag.toPrecision(4)},t=>{this.openSnackBar(t),this.gisFrag="Error"})}getReserveMetrics(){this.reservesLoading=!0,this.speciesIndicators.reserveCoverageMetrics(this.scientificname,this.preferences).subscribe(t=>{this.reserveList=t,this.reservesLoading=!1},t=>{this.reservesLoading=!1,this.openSnackBar(t)})}openSnackBar(t){this._snackBar.openFromComponent(tq,{duration:5e3,data:{text:t}})}}return t.\u0275fac=function(e){return new(e||t)(Lo(fD),Lo(QA),Lo(cT),Lo(rP),Lo(vE),Lo(HR))},t.\u0275cmp=pe({type:t,selectors:[["mol-habitat-distribution"]],decls:14,vars:14,consts:[[3,"scientificname","wiki"],["class","divider",4,"ngIf"],[3,"panelOpenState"],["title","",3,"matTooltip"],[1,"help-icon"],["content","",3,"preferences","reserves","habitats","preferencesChanged",4,"ngIf"],[3,"mapOptionsChanged",4,"ngIf"],[3,"habitatMetrics","habitatMetricsLoading","gisFrag"],[3,"reserveList","reservesLoading","habitatMetrics",4,"ngIf"],[1,"divider"],["content","",3,"preferences","reserves","habitats","preferencesChanged"],[3,"mapOptionsChanged"],[3,"reserveList","reservesLoading","habitatMetrics"]],template:function(t,e){1&t&&(Ho(0,"mol-species-info",0),Io(1,YY,1,0,"div",1),Vo(2,"mol-species-expansion-card",2),Vo(3,"h3",3),Da(4," Habitat Associations "),Vo(5,"mat-icon",4),Da(6,"help"),Bo(),Bo(),Io(7,qY,1,3,"mol-habitat-association",5),Bo(),Io(8,XY,1,0,"div",1),Io(9,$Y,1,0,"mol-map-options",6),Io(10,KY,1,0,"div",1),Ho(11,"mol-geographic-distribution",7),Io(12,ZY,1,0,"div",1),Io(13,QY,1,3,"mol-reserve-coverage-metrics",8)),2&t&&(jo("scientificname",e.scientificname)("wiki",!1),Or(1),jo("ngIf",null!=e.preferences),Or(1),jo("panelOpenState",!e.reserves),Or(1),ra("matTooltip",e.tooltipMessages.habitatAssociations),Or(4),jo("ngIf",null!=e.preferences),Or(1),jo("ngIf",e.reserves),Or(1),jo("ngIf",e.reserves),Or(1),jo("ngIf",e.habitatMetrics),Or(1),jo("habitatMetrics",e.habitatMetrics)("habitatMetricsLoading",e.habitatMetricsLoading)("gisFrag",e.gisFrag),Or(1),jo("ngIf",e.reserves),Or(1),jo("ngIf",e.reserves))},directives:[ID,hu,vY,tS,eC,kY,BY,HY,WY],styles:["h3[_ngcontent-%COMP%]{margin:0}"]}),t})(),tq=(()=>{class t{constructor(t){this.data=t}}return t.\u0275fac=function(e){return new(e||t)(Lo(LR))},t.\u0275cmp=pe({type:t,selectors:[["snack-bar-component"]],decls:2,vars:1,consts:[[1,"snack-bar"]],template:function(t,e){1&t&&(Vo(0,"span",0),Da(1),Bo()),2&t&&(Or(1),Fa(" ",e.data.text," "))},styles:[".snack-bar[_ngcontent-%COMP%] {\n      color: hotpink;\n    }"]}),t})();const eq=function(){return["/niche","Grus japonensis"]},nq=function(){return["/niche",""]},iq=function(){return["/niche","Pan troglodytes"]},rq=function(){return["/niche","Rattus rattus"]};let sq=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-niche-landing-content"]],decls:43,vars:8,consts:[[1,"intro"],[1,"row","content"],["target","_blank","href","https://mol.org/stoat/about"],[3,"routerLink"]],template:function(t,e){1&t&&(Vo(0,"div",0),Vo(1,"h2"),Da(2,"Species Environmental Niches"),Bo(),Vo(3,"div",1),Vo(4,"p"),Da(5," Species have different environmental preferences, and these preferences are called their environmental niche. "),Bo(),Vo(6,"p"),Da(7," We can estimate these environmental niches for each species by environmental annotation, intersecting occurrence data for the species with environmental layers. "),Bo(),Vo(8,"p"),Da(9," This is done using different spatial and temporal buffers, eg. a radius of 1000m around an occurrence record, and 7 days in the past. "),Bo(),Vo(10,"p"),Da(11," These annotations were computed using the "),Vo(12,"a",2),Da(13,"stoat"),Bo(),Da(14," platform. "),Bo(),Vo(15,"p"),Da(16,"Check out the following species:"),Bo(),Vo(17,"h4"),Da(18,"Birds:"),Bo(),Vo(19,"ul"),Vo(20,"li"),Vo(21,"a",3),Da(22,"Red-Crowned Crane - "),Vo(23,"i"),Da(24,"Grus japonensis"),Bo(),Bo(),Bo(),Vo(25,"li"),Vo(26,"a",3),Da(27,"Powerful owl - "),Vo(28,"i"),Da(29,"Ninox strenua"),Bo(),Bo(),Bo(),Bo(),Vo(30,"h4"),Da(31,"Mammals:"),Bo(),Vo(32,"ul"),Vo(33,"li"),Vo(34,"a",3),Da(35,"Chimpanzee - "),Vo(36,"i"),Da(37,"Pan troglodytes"),Bo(),Bo(),Bo(),Vo(38,"li"),Vo(39,"a",3),Da(40,"Black Rat - "),Vo(41,"i"),Da(42,"Rattus rattus"),Bo(),Bo(),Bo(),Bo(),Bo(),Bo()),2&t&&(Or(21),jo("routerLink",Ql(4,eq)),Or(5),jo("routerLink",Ql(5,nq)),Or(8),jo("routerLink",Ql(6,iq)),Or(5),jo("routerLink",Ql(7,rq)))},directives:[yA],styles:[".intro[_ngcontent-%COMP%]{padding:0 20px;font-size:16px}"]}),t})();const oq=[{path:"",component:WL,children:[{path:"",component:lL},{path:"2",component:gL},{path:"projection/landuse",component:xW},{path:"projection/climate",component:CW},{path:"projection",component:xW},{path:"niche",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mol-niche-landing"]],decls:2,vars:0,consts:[[1,"splash"]],template:function(t,e){1&t&&(Vo(0,"div",0),Ho(1,"mol-niche-landing-content"),Bo())},directives:[sq],styles:[""]}),t})()}]},{path:"",component:iY,children:[{path:"niche/:scientificname",component:eY,pathMatch:"full"}]},{path:"",component:ON,children:[{path:"map/:scientificname",component:eW,pathMatch:"full"},{path:"projection/landuse/:scientificname",component:wW,pathMatch:"full"},{path:"habitat-trend/:scientificname",component:gY,pathMatch:"full"},{path:"range/:scientificname",component:JY,pathMatch:"full",data:{reserves:!1}},{path:"protect/:scientificname",component:JY,pathMatch:"full",data:{reserves:!0}},{path:"projection/:scientificname",component:wW,pathMatch:"full"},{path:":scientificname",component:DD,pathMatch:"full"}]},{path:"**",component:WL,children:[{path:"",component:WR}]}];let aq=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:Wh,useFactory:GA}],imports:[[ku,DA.forRoot(oq)],DA]}),t})(),lq=(()=>{class t{}return t.\u0275mod=ve({type:t,bootstrap:[dD]}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:eg,useClass:aP,multi:!0}],imports:[[aq,Pp,sd,Ok,Kk,ev,cP,GR,hP,UR,sP,Pm,Wb,fC,nC,nS,Nb,MS,CC,NC,gS,Ck,jO,Dx,tv,fm.forRoot({loader:{provide:Wg,useFactory:XA,deps:[Jp]}})]]}),t})();(function(){if(Mi)throw new Error("Cannot enable prod mode after platform setup.");Ei=!1})(),id().bootstrapModule(lq).catch(t=>console.error(t))},"zYA+":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937,e.b=i},zgwW:function(t,e,n){"use strict";var i=n("DiD3"),r=n("zqV8"),s=n("vog+"),o=n("I/d5"),a=n("cTWw"),l=n("A5l+"),c=n("gE76"),h=n("ua9S"),u=n("Trb+"),d=Object(r.c)(),f=function(){function t(t,e,n,i,r){this.id_=r,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=i}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===i.a.POINT?Object(s.m)(this.flatCoordinates_):Object(s.o)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(s.x)(this.getExtent());this.flatInteriorPoints_=Object(a.a)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(h.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(a.b)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(c.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,n=this.ends_,i=0,r=n.length;i<r;++i){var s=n[i],a=Object(c.a)(t,e,s,2,.5);Object(o.c)(this.flatMidpoints_,a),e=s}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t){var e=(t=Object(l.g)(t)).getExtent(),n=t.getWorldExtent();if(e&&n){var i=Object(s.A)(n)/Object(s.A)(e);Object(r.b)(d,n[0],n[3],i,-i,0,0,0),Object(u.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,d,this.flatCoordinates_)}},t.prototype.getEnds=function(){return this.ends_},t}();f.prototype.getEndss=f.prototype.getEnds,f.prototype.getFlatCoordinates=f.prototype.getOrientedFlatCoordinates,e.a=f},zhI0:function(t,e,n){"use strict";var i,r=n("hatQ"),s=n("leaD"),o=n("lRKV"),a=n("SHzd"),l=n("QRdp"),c=n("0eRI"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=t.call(this)||this,i=Object(l.a)({},e);return i[s.a.OPACITY]=void 0!==e.opacity?e.opacity:1,Object(a.a)("number"==typeof i[s.a.OPACITY],64),i[s.a.VISIBLE]=void 0===e.visible||e.visible,i[s.a.Z_INDEX]=e.zIndex,i[s.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[s.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,i[s.a.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,i[s.a.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return h(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Object(c.a)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Object(o.b)()},e.prototype.getLayerStatesArray=function(t){return Object(o.b)()},e.prototype.getExtent=function(){return this.get(s.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(s.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(s.a.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(s.a.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(s.a.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(s.a.OPACITY)},e.prototype.getSourceState=function(){return Object(o.b)()},e.prototype.getVisible=function(){return this.get(s.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(s.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(s.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(s.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(s.a.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(s.a.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(s.a.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Object(a.a)("number"==typeof t,64),this.set(s.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(s.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(s.a.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(r.a);e.a=u},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zqV8:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"g",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return g})),n.d(e,"j",(function(){return m}));var i=n("SHzd"),r=new Array(6);function s(){return[1,0,0,1,0,0]}function o(t){return l(t,1,0,0,1,0,0)}function a(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=e[0],c=e[1],h=e[2],u=e[3],d=e[4],f=e[5];return t[0]=n*l+r*c,t[1]=i*l+s*c,t[2]=n*h+r*u,t[3]=i*h+s*u,t[4]=n*d+r*f+o,t[5]=i*d+s*f+a,t}function l(t,e,n,i,r,s,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function h(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function u(t,e,n){return a(t,l(r,e,0,0,n,0,0))}function d(t,e,n){return l(t,e,0,0,n,0,0)}function f(t,e,n){return a(t,l(r,1,0,0,1,e,n))}function p(t,e,n,i,r,s,o,a){var l=Math.sin(s),c=Math.cos(s);return t[0]=i*c,t[1]=r*l,t[2]=-i*l,t[3]=r*c,t[4]=o*i*c-a*i*l+e,t[5]=o*r*l+a*r*c+n,t}function g(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];Object(i.a)(0!==r,32);var s=e[0],o=e[1],a=e[2],l=e[3],c=e[4],h=e[5];return t[0]=l/r,t[1]=-o/r,t[2]=-a/r,t[3]=s/r,t[4]=(a*h-l*c)/r,t[5]=-(s*h-o*c)/r,t}function m(t){return"matrix("+t.join(", ")+")"}}},[[0,0]]]);