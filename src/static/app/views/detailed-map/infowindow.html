<div ng-controller="molDetailWindowCtrl" ng-init="o = ''" style="width:400px; min-height:30px; overflow: auto; height:300px">
  <div style="width:385px;overflow-x:hidden" class="panel panel-default" ng-repeat="(dataset, features) in parameter.featureResult.datasets">
    <div class="panel-heading clickable" ng-init="$parent.o=dataset" ng-click="$parent.o=($parent.o===dataset)?'':dataset">
      <strong>{{parameter.datasets[dataset].dataset_title}}</strong>
       <span class="label label-default label-pill pull-right">{{features.length}}</span>
    </div>

    <div uib-collapse="$parent.$parent.o!=dataset" ng-repeat="feature in features track by $index" style="padding-top: 10px;">
      <div style="margin:10px 0; border-bottom: 1px solid #666; border-radius: 4px;">
        <strong style="margin-left: 10px">Record {{ $index + 1 }}</strong>
        <li class="list-group-item" ng-repeat="(key, value) in feature.metadata">
          <strong>{{key}}: </strong><span ng-bind-html="value.toString() | linky:'_blank'"></span>
        </li>
      </div>
    </div>
  </div>
